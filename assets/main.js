(function(){const Qr=document.createElement("link").relList;if(Qr&&Qr.supports&&Qr.supports("modulepreload"))return;for(const Wr of document.querySelectorAll('link[rel="modulepreload"]'))Gr(Wr);new MutationObserver(Wr=>{for(const Jr of Wr)if(Jr.type==="childList")for(const Zr of Jr.addedNodes)Zr.tagName==="LINK"&&Zr.rel==="modulepreload"&&Gr(Zr)}).observe(document,{childList:!0,subtree:!0});function Kr(Wr){const Jr={};return Wr.integrity&&(Jr.integrity=Wr.integrity),Wr.referrerPolicy&&(Jr.referrerPolicy=Wr.referrerPolicy),Wr.crossOrigin==="use-credentials"?Jr.credentials="include":Wr.crossOrigin==="anonymous"?Jr.credentials="omit":Jr.credentials="same-origin",Jr}function Gr(Wr){if(Wr.ep)return;Wr.ep=!0;const Jr=Kr(Wr);fetch(Wr.href,Jr)}})();function getDefaultExportFromCjs(ze){return ze&&ze.__esModule&&Object.prototype.hasOwnProperty.call(ze,"default")?ze.default:ze}var htmx_min$1={exports:{}},htmx_min=htmx_min$1.exports,hasRequiredHtmx_min;function requireHtmx_min(){return hasRequiredHtmx_min||(hasRequiredHtmx_min=1,function(module){(function(ze,Qr){module.exports?module.exports=Qr():ze.htmx=ze.htmx||Qr()})(typeof self<"u"?self:htmx_min,function(){return function(){var Q={onLoad:F,process:zt,on:de,off:ge,trigger:ce,ajax:Nr,find:C,findAll:f,closest:v,values:function(ze,Qr){var Kr=dr(ze,Qr||"post");return Kr.values},remove:_,addClass:z,removeClass:n,toggleClass:$,takeClass:W,defineExtension:Ur,removeExtension:Br,logAll:V,logNone:j,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null},parseInterval:d,_:t,createEventSource:function(ze){return new EventSource(ze,{withCredentials:!0})},createWebSocket:function(ze){var Qr=new WebSocket(ze,[]);return Qr.binaryType=Q.config.wsBinaryType,Qr},version:"1.9.12"},r={addTriggerHandler:Lt,bodyContains:se,canAccessLocalStorage:U,findThisElement:xe,filterValues:yr,hasAttribute:o,getAttributeValue:te,getClosestAttributeValue:ne,getClosestMatch:c,getExpressionVars:Hr,getHeaders:xr,getInputValues:dr,getInternalData:ae,getSwapSpecification:wr,getTriggerSpecs:it,getTarget:ye,makeFragment:l,mergeObjects:le,makeSettleInfo:T,oobSwap:Ee,querySelectorExt:ue,selectAndSwap:je,settleImmediately:nr,shouldCancel:ut,triggerEvent:ce,triggerErrorEvent:fe,withExtensions:R},w=["get","post","put","delete","patch"],i=w.map(function(ze){return"[hx-"+ze+"], [data-hx-"+ze+"]"}).join(", "),S=e("head"),q=e("title"),H=e("svg",!0);function e(ze,Qr){return new RegExp("<"+ze+"(\\s[^>]*>|>)([\\s\\S]*?)<\\/"+ze+">",Qr?"gim":"im")}function d(ze){if(ze==null)return;let Qr=NaN;return ze.slice(-2)=="ms"?Qr=parseFloat(ze.slice(0,-2)):ze.slice(-1)=="s"?Qr=parseFloat(ze.slice(0,-1))*1e3:ze.slice(-1)=="m"?Qr=parseFloat(ze.slice(0,-1))*1e3*60:Qr=parseFloat(ze),isNaN(Qr)?void 0:Qr}function ee(ze,Qr){return ze.getAttribute&&ze.getAttribute(Qr)}function o(ze,Qr){return ze.hasAttribute&&(ze.hasAttribute(Qr)||ze.hasAttribute("data-"+Qr))}function te(ze,Qr){return ee(ze,Qr)||ee(ze,"data-"+Qr)}function u(ze){return ze.parentElement}function re(){return document}function c(ze,Qr){for(;ze&&!Qr(ze);)ze=u(ze);return ze||null}function L(ze,Qr,Kr){var Gr=te(Qr,Kr),Wr=te(Qr,"hx-disinherit");return ze!==Qr&&Wr&&(Wr==="*"||Wr.split(" ").indexOf(Kr)>=0)?"unset":Gr}function ne(ze,Qr){var Kr=null;if(c(ze,function(Gr){return Kr=L(ze,Gr,Qr)}),Kr!=="unset")return Kr}function h(ze,Qr){var Kr=ze.matches||ze.matchesSelector||ze.msMatchesSelector||ze.mozMatchesSelector||ze.webkitMatchesSelector||ze.oMatchesSelector;return Kr&&Kr.call(ze,Qr)}function A(ze){var Qr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Kr=Qr.exec(ze);return Kr?Kr[1].toLowerCase():""}function s(ze,Qr){for(var Kr=new DOMParser,Gr=Kr.parseFromString(ze,"text/html"),Wr=Gr.body;Qr>0;)Qr--,Wr=Wr.firstChild;return Wr==null&&(Wr=re().createDocumentFragment()),Wr}function N(ze){return/<body/.test(ze)}function l(ze){var Qr=!N(ze),Kr=A(ze),Gr=ze;if(Kr==="head"&&(Gr=Gr.replace(S,"")),Q.config.useTemplateFragments&&Qr){var Wr=s("<body><template>"+Gr+"</template></body>",0),Jr=Wr.querySelector("template").content;return Q.config.allowScriptTags?oe(Jr.querySelectorAll("script"),function(Zr){Q.config.inlineScriptNonce&&(Zr.nonce=Q.config.inlineScriptNonce),Zr.htmxExecuted=navigator.userAgent.indexOf("Firefox")===-1}):oe(Jr.querySelectorAll("script"),function(Zr){_(Zr)}),Jr}switch(Kr){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return s("<table>"+Gr+"</table>",1);case"col":return s("<table><colgroup>"+Gr+"</colgroup></table>",2);case"tr":return s("<table><tbody>"+Gr+"</tbody></table>",2);case"td":case"th":return s("<table><tbody><tr>"+Gr+"</tr></tbody></table>",3);case"script":case"style":return s("<div>"+Gr+"</div>",1);default:return s(Gr,0)}}function ie(ze){ze&&ze()}function I(ze,Qr){return Object.prototype.toString.call(ze)==="[object "+Qr+"]"}function k(ze){return I(ze,"Function")}function P(ze){return I(ze,"Object")}function ae(ze){var Qr="htmx-internal-data",Kr=ze[Qr];return Kr||(Kr=ze[Qr]={}),Kr}function M(ze){var Qr=[];if(ze)for(var Kr=0;Kr<ze.length;Kr++)Qr.push(ze[Kr]);return Qr}function oe(ze,Qr){if(ze)for(var Kr=0;Kr<ze.length;Kr++)Qr(ze[Kr])}function X(ze){var Qr=ze.getBoundingClientRect(),Kr=Qr.top,Gr=Qr.bottom;return Kr<window.innerHeight&&Gr>=0}function se(ze){return ze.getRootNode&&ze.getRootNode()instanceof window.ShadowRoot?re().body.contains(ze.getRootNode().host):re().body.contains(ze)}function D(ze){return ze.trim().split(/\s+/)}function le(ze,Qr){for(var Kr in Qr)Qr.hasOwnProperty(Kr)&&(ze[Kr]=Qr[Kr]);return ze}function E(ze){try{return JSON.parse(ze)}catch(Qr){return b(Qr),null}}function U(){var ze="htmx:localStorageTest";try{return localStorage.setItem(ze,ze),localStorage.removeItem(ze),!0}catch{return!1}}function B(ze){try{var Qr=new URL(ze);return Qr&&(ze=Qr.pathname+Qr.search),/^\/$/.test(ze)||(ze=ze.replace(/\/+$/,"")),ze}catch{return ze}}function t(e){return Tr(re().body,function(){return eval(e)})}function F(ze){var Qr=Q.on("htmx:load",function(Kr){ze(Kr.detail.elt)});return Qr}function V(){Q.logger=function(ze,Qr,Kr){console&&console.log(Qr,ze,Kr)}}function j(){Q.logger=null}function C(ze,Qr){return Qr?ze.querySelector(Qr):C(re(),ze)}function f(ze,Qr){return Qr?ze.querySelectorAll(Qr):f(re(),ze)}function _(ze,Qr){ze=p(ze),Qr?setTimeout(function(){_(ze),ze=null},Qr):ze.parentElement.removeChild(ze)}function z(ze,Qr,Kr){ze=p(ze),Kr?setTimeout(function(){z(ze,Qr),ze=null},Kr):ze.classList&&ze.classList.add(Qr)}function n(ze,Qr,Kr){ze=p(ze),Kr?setTimeout(function(){n(ze,Qr),ze=null},Kr):ze.classList&&(ze.classList.remove(Qr),ze.classList.length===0&&ze.removeAttribute("class"))}function $(ze,Qr){ze=p(ze),ze.classList.toggle(Qr)}function W(ze,Qr){ze=p(ze),oe(ze.parentElement.children,function(Kr){n(Kr,Qr)}),z(ze,Qr)}function v(ze,Qr){if(ze=p(ze),ze.closest)return ze.closest(Qr);do if(ze==null||h(ze,Qr))return ze;while(ze=ze&&u(ze));return null}function g(ze,Qr){return ze.substring(0,Qr.length)===Qr}function G(ze,Qr){return ze.substring(ze.length-Qr.length)===Qr}function J(ze){var Qr=ze.trim();return g(Qr,"<")&&G(Qr,"/>")?Qr.substring(1,Qr.length-2):Qr}function Z(ze,Qr){return Qr.indexOf("closest ")===0?[v(ze,J(Qr.substr(8)))]:Qr.indexOf("find ")===0?[C(ze,J(Qr.substr(5)))]:Qr==="next"?[ze.nextElementSibling]:Qr.indexOf("next ")===0?[K(ze,J(Qr.substr(5)))]:Qr==="previous"?[ze.previousElementSibling]:Qr.indexOf("previous ")===0?[Y(ze,J(Qr.substr(9)))]:Qr==="document"?[document]:Qr==="window"?[window]:Qr==="body"?[document.body]:re().querySelectorAll(J(Qr))}var K=function(ze,Qr){for(var Kr=re().querySelectorAll(Qr),Gr=0;Gr<Kr.length;Gr++){var Wr=Kr[Gr];if(Wr.compareDocumentPosition(ze)===Node.DOCUMENT_POSITION_PRECEDING)return Wr}},Y=function(ze,Qr){for(var Kr=re().querySelectorAll(Qr),Gr=Kr.length-1;Gr>=0;Gr--){var Wr=Kr[Gr];if(Wr.compareDocumentPosition(ze)===Node.DOCUMENT_POSITION_FOLLOWING)return Wr}};function ue(ze,Qr){return Qr?Z(ze,Qr)[0]:Z(re().body,ze)[0]}function p(ze){return I(ze,"String")?C(ze):ze}function ve(ze,Qr,Kr){return k(Qr)?{target:re().body,event:ze,listener:Qr}:{target:p(ze),event:Qr,listener:Kr}}function de(ze,Qr,Kr){jr(function(){var Wr=ve(ze,Qr,Kr);Wr.target.addEventListener(Wr.event,Wr.listener)});var Gr=k(Qr);return Gr?Qr:Kr}function ge(ze,Qr,Kr){return jr(function(){var Gr=ve(ze,Qr,Kr);Gr.target.removeEventListener(Gr.event,Gr.listener)}),k(Qr)?Qr:Kr}var pe=re().createElement("output");function me(ze,Qr){var Kr=ne(ze,Qr);if(Kr){if(Kr==="this")return[xe(ze,Qr)];var Gr=Z(ze,Kr);return Gr.length===0?(b('The selector "'+Kr+'" on '+Qr+" returned no matches!"),[pe]):Gr}}function xe(ze,Qr){return c(ze,function(Kr){return te(Kr,Qr)!=null})}function ye(ze){var Qr=ne(ze,"hx-target");if(Qr)return Qr==="this"?xe(ze,"hx-target"):ue(ze,Qr);var Kr=ae(ze);return Kr.boosted?re().body:ze}function be(ze){for(var Qr=Q.config.attributesToSettle,Kr=0;Kr<Qr.length;Kr++)if(ze===Qr[Kr])return!0;return!1}function we(ze,Qr){oe(ze.attributes,function(Kr){!Qr.hasAttribute(Kr.name)&&be(Kr.name)&&ze.removeAttribute(Kr.name)}),oe(Qr.attributes,function(Kr){be(Kr.name)&&ze.setAttribute(Kr.name,Kr.value)})}function Se(ze,Qr){for(var Kr=Fr(Qr),Gr=0;Gr<Kr.length;Gr++){var Wr=Kr[Gr];try{if(Wr.isInlineSwap(ze))return!0}catch(Jr){b(Jr)}}return ze==="outerHTML"}function Ee(ze,Qr,Kr){var Gr="#"+ee(Qr,"id"),Wr="outerHTML";ze==="true"||(ze.indexOf(":")>0?(Wr=ze.substr(0,ze.indexOf(":")),Gr=ze.substr(ze.indexOf(":")+1,ze.length)):Wr=ze);var Jr=re().querySelectorAll(Gr);return Jr?(oe(Jr,function(Zr){var Yr,en=Qr.cloneNode(!0);Yr=re().createDocumentFragment(),Yr.appendChild(en),Se(Wr,Zr)||(Yr=en);var tn={shouldSwap:!0,target:Zr,fragment:Yr};ce(Zr,"htmx:oobBeforeSwap",tn)&&(Zr=tn.target,tn.shouldSwap&&Fe(Wr,Zr,Zr,Yr,Kr),oe(Kr.elts,function(rn){ce(rn,"htmx:oobAfterSwap",tn)}))}),Qr.parentNode.removeChild(Qr)):(Qr.parentNode.removeChild(Qr),fe(re().body,"htmx:oobErrorNoTarget",{content:Qr})),ze}function Ce(ze,Qr,Kr){var Gr=ne(ze,"hx-select-oob");if(Gr)for(var Wr=Gr.split(","),Jr=0;Jr<Wr.length;Jr++){var Zr=Wr[Jr].split(":",2),Yr=Zr[0].trim();Yr.indexOf("#")===0&&(Yr=Yr.substring(1));var en=Zr[1]||"true",tn=Qr.querySelector("#"+Yr);tn&&Ee(en,tn,Kr)}oe(f(Qr,"[hx-swap-oob], [data-hx-swap-oob]"),function(rn){var nn=te(rn,"hx-swap-oob");nn!=null&&Ee(nn,rn,Kr)})}function Re(ze){oe(f(ze,"[hx-preserve], [data-hx-preserve]"),function(Qr){var Kr=te(Qr,"id"),Gr=re().getElementById(Kr);Gr!=null&&Qr.parentNode.replaceChild(Gr,Qr)})}function Te(ze,Qr,Kr){oe(Qr.querySelectorAll("[id]"),function(Gr){var Wr=ee(Gr,"id");if(Wr&&Wr.length>0){var Jr=Wr.replace("'","\\'"),Zr=Gr.tagName.replace(":","\\:"),Yr=ze.querySelector(Zr+"[id='"+Jr+"']");if(Yr&&Yr!==ze){var en=Gr.cloneNode();we(Gr,Yr),Kr.tasks.push(function(){we(Gr,en)})}}})}function Oe(ze){return function(){n(ze,Q.config.addedClass),zt(ze),Nt(ze),qe(ze),ce(ze,"htmx:load")}}function qe(ze){var Qr="[autofocus]",Kr=h(ze,Qr)?ze:ze.querySelector(Qr);Kr!=null&&Kr.focus()}function a(ze,Qr,Kr,Gr){for(Te(ze,Kr,Gr);Kr.childNodes.length>0;){var Wr=Kr.firstChild;z(Wr,Q.config.addedClass),ze.insertBefore(Wr,Qr),Wr.nodeType!==Node.TEXT_NODE&&Wr.nodeType!==Node.COMMENT_NODE&&Gr.tasks.push(Oe(Wr))}}function He(ze,Qr){for(var Kr=0;Kr<ze.length;)Qr=(Qr<<5)-Qr+ze.charCodeAt(Kr++)|0;return Qr}function Le(ze){var Qr=0;if(ze.attributes)for(var Kr=0;Kr<ze.attributes.length;Kr++){var Gr=ze.attributes[Kr];Gr.value&&(Qr=He(Gr.name,Qr),Qr=He(Gr.value,Qr))}return Qr}function Ae(ze){var Qr=ae(ze);if(Qr.onHandlers){for(var Kr=0;Kr<Qr.onHandlers.length;Kr++){const Gr=Qr.onHandlers[Kr];ze.removeEventListener(Gr.event,Gr.listener)}delete Qr.onHandlers}}function Ne(ze){var Qr=ae(ze);Qr.timeout&&clearTimeout(Qr.timeout),Qr.webSocket&&Qr.webSocket.close(),Qr.sseEventSource&&Qr.sseEventSource.close(),Qr.listenerInfos&&oe(Qr.listenerInfos,function(Kr){Kr.on&&Kr.on.removeEventListener(Kr.trigger,Kr.listener)}),Ae(ze),oe(Object.keys(Qr),function(Kr){delete Qr[Kr]})}function m(ze){ce(ze,"htmx:beforeCleanupElement"),Ne(ze),ze.children&&oe(ze.children,function(Qr){m(Qr)})}function Ie(ze,Qr,Kr){if(ze.tagName==="BODY")return Ue(ze,Qr,Kr);var Gr,Wr=ze.previousSibling;for(a(u(ze),ze,Qr,Kr),Wr==null?Gr=u(ze).firstChild:Gr=Wr.nextSibling,Kr.elts=Kr.elts.filter(function(Jr){return Jr!=ze});Gr&&Gr!==ze;)Gr.nodeType===Node.ELEMENT_NODE&&Kr.elts.push(Gr),Gr=Gr.nextElementSibling;m(ze),u(ze).removeChild(ze)}function ke(ze,Qr,Kr){return a(ze,ze.firstChild,Qr,Kr)}function Pe(ze,Qr,Kr){return a(u(ze),ze,Qr,Kr)}function Me(ze,Qr,Kr){return a(ze,null,Qr,Kr)}function Xe(ze,Qr,Kr){return a(u(ze),ze.nextSibling,Qr,Kr)}function De(ze,Qr,Kr){return m(ze),u(ze).removeChild(ze)}function Ue(ze,Qr,Kr){var Gr=ze.firstChild;if(a(ze,Gr,Qr,Kr),Gr){for(;Gr.nextSibling;)m(Gr.nextSibling),ze.removeChild(Gr.nextSibling);m(Gr),ze.removeChild(Gr)}}function Be(ze,Qr,Kr){var Gr=Kr||ne(ze,"hx-select");if(Gr){var Wr=re().createDocumentFragment();oe(Qr.querySelectorAll(Gr),function(Jr){Wr.appendChild(Jr)}),Qr=Wr}return Qr}function Fe(ze,Qr,Kr,Gr,Wr){switch(ze){case"none":return;case"outerHTML":Ie(Kr,Gr,Wr);return;case"afterbegin":ke(Kr,Gr,Wr);return;case"beforebegin":Pe(Kr,Gr,Wr);return;case"beforeend":Me(Kr,Gr,Wr);return;case"afterend":Xe(Kr,Gr,Wr);return;case"delete":De(Kr);return;default:for(var Jr=Fr(Qr),Zr=0;Zr<Jr.length;Zr++){var Yr=Jr[Zr];try{var en=Yr.handleSwap(ze,Kr,Gr,Wr);if(en){if(typeof en.length<"u")for(var tn=0;tn<en.length;tn++){var rn=en[tn];rn.nodeType!==Node.TEXT_NODE&&rn.nodeType!==Node.COMMENT_NODE&&Wr.tasks.push(Oe(rn))}return}}catch(nn){b(nn)}}ze==="innerHTML"?Ue(Kr,Gr,Wr):Fe(Q.config.defaultSwapStyle,Qr,Kr,Gr,Wr)}}function Ve(ze){if(ze.indexOf("<title")>-1){var Qr=ze.replace(H,""),Kr=Qr.match(q);if(Kr)return Kr[2]}}function je(ze,Qr,Kr,Gr,Wr,Jr){Wr.title=Ve(Gr);var Zr=l(Gr);if(Zr)return Ce(Kr,Zr,Wr),Zr=Be(Kr,Zr,Jr),Re(Zr),Fe(ze,Kr,Qr,Zr,Wr)}function _e(ze,Qr,Kr){var Gr=ze.getResponseHeader(Qr);if(Gr.indexOf("{")===0){var Wr=E(Gr);for(var Jr in Wr)if(Wr.hasOwnProperty(Jr)){var Zr=Wr[Jr];P(Zr)||(Zr={value:Zr}),ce(Kr,Jr,Zr)}}else for(var Yr=Gr.split(","),en=0;en<Yr.length;en++)ce(Kr,Yr[en].trim(),[])}var x=/[\s,]/,$e=/[_$a-zA-Z]/,We=/[_$a-zA-Z0-9]/,Ge=['"',"'","/"],Je=/[^\s]/,Ze=/[{(]/,Ke=/[})]/;function Ye(ze){for(var Qr=[],Kr=0;Kr<ze.length;){if($e.exec(ze.charAt(Kr))){for(var Gr=Kr;We.exec(ze.charAt(Kr+1));)Kr++;Qr.push(ze.substr(Gr,Kr-Gr+1))}else if(Ge.indexOf(ze.charAt(Kr))!==-1){var Wr=ze.charAt(Kr),Gr=Kr;for(Kr++;Kr<ze.length&&ze.charAt(Kr)!==Wr;)ze.charAt(Kr)==="\\"&&Kr++,Kr++;Qr.push(ze.substr(Gr,Kr-Gr+1))}else{var Jr=ze.charAt(Kr);Qr.push(Jr)}Kr++}return Qr}function Qe(ze,Qr,Kr){return $e.exec(ze.charAt(0))&&ze!=="true"&&ze!=="false"&&ze!=="this"&&ze!==Kr&&Qr!=="."}function et(ze,Qr,Kr){if(Qr[0]==="["){Qr.shift();for(var Gr=1,Wr=" return (function("+Kr+"){ return (",Jr=null;Qr.length>0;){var Zr=Qr[0];if(Zr==="]"){if(Gr--,Gr===0){Jr===null&&(Wr=Wr+"true"),Qr.shift(),Wr+=")})";try{var Yr=Tr(ze,function(){return Function(Wr)()},function(){return!0});return Yr.source=Wr,Yr}catch(en){return fe(re().body,"htmx:syntax:error",{error:en,source:Wr}),null}}}else Zr==="["&&Gr++;Qe(Zr,Jr,Kr)?Wr+="(("+Kr+"."+Zr+") ? ("+Kr+"."+Zr+") : (window."+Zr+"))":Wr=Wr+Zr,Jr=Qr.shift()}}}function y(ze,Qr){for(var Kr="";ze.length>0&&!Qr.test(ze[0]);)Kr+=ze.shift();return Kr}function tt(ze){var Qr;return ze.length>0&&Ze.test(ze[0])?(ze.shift(),Qr=y(ze,Ke).trim(),ze.shift()):Qr=y(ze,x),Qr}var rt="input, textarea, select";function nt(ze,Qr,Kr){var Gr=[],Wr=Ye(Qr);do{y(Wr,Je);var Jr=Wr.length,Zr=y(Wr,/[,\[\s]/);if(Zr!=="")if(Zr==="every"){var Yr={trigger:"every"};y(Wr,Je),Yr.pollInterval=d(y(Wr,/[,\[\s]/)),y(Wr,Je);var en=et(ze,Wr,"event");en&&(Yr.eventFilter=en),Gr.push(Yr)}else if(Zr.indexOf("sse:")===0)Gr.push({trigger:"sse",sseEvent:Zr.substr(4)});else{var tn={trigger:Zr},en=et(ze,Wr,"event");for(en&&(tn.eventFilter=en);Wr.length>0&&Wr[0]!==",";){y(Wr,Je);var rn=Wr.shift();if(rn==="changed")tn.changed=!0;else if(rn==="once")tn.once=!0;else if(rn==="consume")tn.consume=!0;else if(rn==="delay"&&Wr[0]===":")Wr.shift(),tn.delay=d(y(Wr,x));else if(rn==="from"&&Wr[0]===":"){if(Wr.shift(),Ze.test(Wr[0]))var nn=tt(Wr);else{var nn=y(Wr,x);if(nn==="closest"||nn==="find"||nn==="next"||nn==="previous"){Wr.shift();var an=tt(Wr);an.length>0&&(nn+=" "+an)}}tn.from=nn}else rn==="target"&&Wr[0]===":"?(Wr.shift(),tn.target=tt(Wr)):rn==="throttle"&&Wr[0]===":"?(Wr.shift(),tn.throttle=d(y(Wr,x))):rn==="queue"&&Wr[0]===":"?(Wr.shift(),tn.queue=y(Wr,x)):rn==="root"&&Wr[0]===":"?(Wr.shift(),tn[rn]=tt(Wr)):rn==="threshold"&&Wr[0]===":"?(Wr.shift(),tn[rn]=y(Wr,x)):fe(ze,"htmx:syntax:error",{token:Wr.shift()})}Gr.push(tn)}Wr.length===Jr&&fe(ze,"htmx:syntax:error",{token:Wr.shift()}),y(Wr,Je)}while(Wr[0]===","&&Wr.shift());return Kr&&(Kr[Qr]=Gr),Gr}function it(ze){var Qr=te(ze,"hx-trigger"),Kr=[];if(Qr){var Gr=Q.config.triggerSpecsCache;Kr=Gr&&Gr[Qr]||nt(ze,Qr,Gr)}return Kr.length>0?Kr:h(ze,"form")?[{trigger:"submit"}]:h(ze,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(ze,rt)?[{trigger:"change"}]:[{trigger:"click"}]}function at(ze){ae(ze).cancelled=!0}function ot(ze,Qr,Kr){var Gr=ae(ze);Gr.timeout=setTimeout(function(){se(ze)&&Gr.cancelled!==!0&&(ct(Kr,ze,Wt("hx:poll:trigger",{triggerSpec:Kr,target:ze}))||Qr(ze),ot(ze,Qr,Kr))},Kr.pollInterval)}function st(ze){return location.hostname===ze.hostname&&ee(ze,"href")&&ee(ze,"href").indexOf("#")!==0}function lt(ze,Qr,Kr){if(ze.tagName==="A"&&st(ze)&&(ze.target===""||ze.target==="_self")||ze.tagName==="FORM"){Qr.boosted=!0;var Gr,Wr;if(ze.tagName==="A")Gr="get",Wr=ee(ze,"href");else{var Jr=ee(ze,"method");Gr=Jr?Jr.toLowerCase():"get",Wr=ee(ze,"action")}Kr.forEach(function(Zr){ht(ze,function(Yr,en){if(v(Yr,Q.config.disableSelector)){m(Yr);return}he(Gr,Wr,Yr,en)},Qr,Zr,!0)})}}function ut(ze,Qr){return!!((ze.type==="submit"||ze.type==="click")&&(Qr.tagName==="FORM"||h(Qr,'input[type="submit"], button')&&v(Qr,"form")!==null||Qr.tagName==="A"&&Qr.href&&(Qr.getAttribute("href")==="#"||Qr.getAttribute("href").indexOf("#")!==0)))}function ft(ze,Qr){return ae(ze).boosted&&ze.tagName==="A"&&Qr.type==="click"&&(Qr.ctrlKey||Qr.metaKey)}function ct(ze,Qr,Kr){var Gr=ze.eventFilter;if(Gr)try{return Gr.call(Qr,Kr)!==!0}catch(Wr){return fe(re().body,"htmx:eventFilter:error",{error:Wr,source:Gr.source}),!0}return!1}function ht(ze,Qr,Kr,Gr,Wr){var Jr=ae(ze),Zr;Gr.from?Zr=Z(ze,Gr.from):Zr=[ze],Gr.changed&&Zr.forEach(function(Yr){var en=ae(Yr);en.lastValue=Yr.value}),oe(Zr,function(Yr){var en=function(tn){if(!se(ze)){Yr.removeEventListener(Gr.trigger,en);return}if(!ft(ze,tn)&&((Wr||ut(tn,ze))&&tn.preventDefault(),!ct(Gr,ze,tn))){var rn=ae(tn);if(rn.triggerSpec=Gr,rn.handledFor==null&&(rn.handledFor=[]),rn.handledFor.indexOf(ze)<0){if(rn.handledFor.push(ze),Gr.consume&&tn.stopPropagation(),Gr.target&&tn.target&&!h(tn.target,Gr.target))return;if(Gr.once){if(Jr.triggeredOnce)return;Jr.triggeredOnce=!0}if(Gr.changed){var nn=ae(Yr);if(nn.lastValue===Yr.value)return;nn.lastValue=Yr.value}if(Jr.delayed&&clearTimeout(Jr.delayed),Jr.throttle)return;Gr.throttle>0?Jr.throttle||(Qr(ze,tn),Jr.throttle=setTimeout(function(){Jr.throttle=null},Gr.throttle)):Gr.delay>0?Jr.delayed=setTimeout(function(){Qr(ze,tn)},Gr.delay):(ce(ze,"htmx:trigger"),Qr(ze,tn))}}};Kr.listenerInfos==null&&(Kr.listenerInfos=[]),Kr.listenerInfos.push({trigger:Gr.trigger,listener:en,on:Yr}),Yr.addEventListener(Gr.trigger,en)})}var vt=!1,dt=null;function gt(){dt||(dt=function(){vt=!0},window.addEventListener("scroll",dt),setInterval(function(){vt&&(vt=!1,oe(re().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(ze){pt(ze)}))},200))}function pt(ze){if(!o(ze,"data-hx-revealed")&&X(ze)){ze.setAttribute("data-hx-revealed","true");var Qr=ae(ze);Qr.initHash?ce(ze,"revealed"):ze.addEventListener("htmx:afterProcessNode",function(Kr){ce(ze,"revealed")},{once:!0})}}function mt(ze,Qr,Kr){for(var Gr=D(Kr),Wr=0;Wr<Gr.length;Wr++){var Jr=Gr[Wr].split(/:(.+)/);Jr[0]==="connect"&&xt(ze,Jr[1],0),Jr[0]==="send"&&bt(ze)}}function xt(ze,Qr,Kr){if(se(ze)){if(Qr.indexOf("/")==0){var Gr=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?Qr="wss://"+Gr+Qr:location.protocol=="http:"&&(Qr="ws://"+Gr+Qr)}var Wr=Q.createWebSocket(Qr);Wr.onerror=function(Jr){fe(ze,"htmx:wsError",{error:Jr,socket:Wr}),yt(ze)},Wr.onclose=function(Jr){if([1006,1012,1013].indexOf(Jr.code)>=0){var Zr=wt(Kr);setTimeout(function(){xt(ze,Qr,Kr+1)},Zr)}},Wr.onopen=function(Jr){Kr=0},ae(ze).webSocket=Wr,Wr.addEventListener("message",function(Jr){if(!yt(ze)){var Zr=Jr.data;R(ze,function(an){Zr=an.transformResponse(Zr,null,ze)});for(var Yr=T(ze),en=l(Zr),tn=M(en.children),rn=0;rn<tn.length;rn++){var nn=tn[rn];Ee(te(nn,"hx-swap-oob")||"true",nn,Yr)}nr(Yr.tasks)}})}}function yt(ze){if(!se(ze))return ae(ze).webSocket.close(),!0}function bt(ze){var Qr=c(ze,function(Kr){return ae(Kr).webSocket!=null});Qr?ze.addEventListener(it(ze)[0].trigger,function(Kr){var Gr=ae(Qr).webSocket,Wr=xr(ze,Qr),Jr=dr(ze,"post"),Zr=Jr.errors,Yr=Jr.values,en=Hr(ze),tn=le(Yr,en),rn=yr(tn,ze);if(rn.HEADERS=Wr,Zr&&Zr.length>0){ce(ze,"htmx:validation:halted",Zr);return}Gr.send(JSON.stringify(rn)),ut(Kr,ze)&&Kr.preventDefault()}):fe(ze,"htmx:noWebSocketSourceError")}function wt(ze){var Qr=Q.config.wsReconnectDelay;if(typeof Qr=="function")return Qr(ze);if(Qr==="full-jitter"){var Kr=Math.min(ze,6),Gr=1e3*Math.pow(2,Kr);return Gr*Math.random()}b('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function St(ze,Qr,Kr){for(var Gr=D(Kr),Wr=0;Wr<Gr.length;Wr++){var Jr=Gr[Wr].split(/:(.+)/);Jr[0]==="connect"&&Et(ze,Jr[1]),Jr[0]==="swap"&&Ct(ze,Jr[1])}}function Et(ze,Qr){var Kr=Q.createEventSource(Qr);Kr.onerror=function(Gr){fe(ze,"htmx:sseError",{error:Gr,source:Kr}),Tt(ze)},ae(ze).sseEventSource=Kr}function Ct(ze,Qr){var Kr=c(ze,Ot);if(Kr){var Gr=ae(Kr).sseEventSource,Wr=function(Jr){if(!Tt(Kr)){if(!se(ze)){Gr.removeEventListener(Qr,Wr);return}var Zr=Jr.data;R(ze,function(rn){Zr=rn.transformResponse(Zr,null,ze)});var Yr=wr(ze),en=ye(ze),tn=T(ze);je(Yr.swapStyle,en,ze,Zr,tn),nr(tn.tasks),ce(ze,"htmx:sseMessage",Jr)}};ae(ze).sseListener=Wr,Gr.addEventListener(Qr,Wr)}else fe(ze,"htmx:noSSESourceError")}function Rt(ze,Qr,Kr){var Gr=c(ze,Ot);if(Gr){var Wr=ae(Gr).sseEventSource,Jr=function(){Tt(Gr)||(se(ze)?Qr(ze):Wr.removeEventListener(Kr,Jr))};ae(ze).sseListener=Jr,Wr.addEventListener(Kr,Jr)}else fe(ze,"htmx:noSSESourceError")}function Tt(ze){if(!se(ze))return ae(ze).sseEventSource.close(),!0}function Ot(ze){return ae(ze).sseEventSource!=null}function qt(ze,Qr,Kr,Gr){var Wr=function(){Kr.loaded||(Kr.loaded=!0,Qr(ze))};Gr>0?setTimeout(Wr,Gr):Wr()}function Ht(ze,Qr,Kr){var Gr=!1;return oe(w,function(Wr){if(o(ze,"hx-"+Wr)){var Jr=te(ze,"hx-"+Wr);Gr=!0,Qr.path=Jr,Qr.verb=Wr,Kr.forEach(function(Zr){Lt(ze,Zr,Qr,function(Yr,en){if(v(Yr,Q.config.disableSelector)){m(Yr);return}he(Wr,Jr,Yr,en)})})}}),Gr}function Lt(ze,Qr,Kr,Gr){if(Qr.sseEvent)Rt(ze,Gr,Qr.sseEvent);else if(Qr.trigger==="revealed")gt(),ht(ze,Gr,Kr,Qr),pt(ze);else if(Qr.trigger==="intersect"){var Wr={};Qr.root&&(Wr.root=ue(ze,Qr.root)),Qr.threshold&&(Wr.threshold=parseFloat(Qr.threshold));var Jr=new IntersectionObserver(function(Zr){for(var Yr=0;Yr<Zr.length;Yr++){var en=Zr[Yr];if(en.isIntersecting){ce(ze,"intersect");break}}},Wr);Jr.observe(ze),ht(ze,Gr,Kr,Qr)}else Qr.trigger==="load"?ct(Qr,ze,Wt("load",{elt:ze}))||qt(ze,Gr,Kr,Qr.delay):Qr.pollInterval>0?(Kr.polling=!0,ot(ze,Gr,Qr)):ht(ze,Gr,Kr,Qr)}function At(ze){if(!ze.htmxExecuted&&Q.config.allowScriptTags&&(ze.type==="text/javascript"||ze.type==="module"||ze.type==="")){var Qr=re().createElement("script");oe(ze.attributes,function(Gr){Qr.setAttribute(Gr.name,Gr.value)}),Qr.textContent=ze.textContent,Qr.async=!1,Q.config.inlineScriptNonce&&(Qr.nonce=Q.config.inlineScriptNonce);var Kr=ze.parentElement;try{Kr.insertBefore(Qr,ze)}catch(Gr){b(Gr)}finally{ze.parentElement&&ze.parentElement.removeChild(ze)}}}function Nt(ze){h(ze,"script")&&At(ze),oe(f(ze,"script"),function(Qr){At(Qr)})}function It(ze){var Qr=ze.attributes;if(!Qr)return!1;for(var Kr=0;Kr<Qr.length;Kr++){var Gr=Qr[Kr].name;if(g(Gr,"hx-on:")||g(Gr,"data-hx-on:")||g(Gr,"hx-on-")||g(Gr,"data-hx-on-"))return!0}return!1}function kt(ze){var Qr=null,Kr=[];if(It(ze)&&Kr.push(ze),document.evaluate)for(var Gr=document.evaluate('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]',ze);Qr=Gr.iterateNext();)Kr.push(Qr);else if(typeof ze.getElementsByTagName=="function")for(var Wr=ze.getElementsByTagName("*"),Jr=0;Jr<Wr.length;Jr++)It(Wr[Jr])&&Kr.push(Wr[Jr]);return Kr}function Pt(ze){if(ze.querySelectorAll){var Qr=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",Kr=ze.querySelectorAll(i+Qr+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return Kr}else return[]}function Mt(ze){var Qr=v(ze.target,"button, input[type='submit']"),Kr=Dt(ze);Kr&&(Kr.lastButtonClicked=Qr)}function Xt(ze){var Qr=Dt(ze);Qr&&(Qr.lastButtonClicked=null)}function Dt(ze){var Qr=v(ze.target,"button, input[type='submit']");if(Qr){var Kr=p("#"+ee(Qr,"form"))||v(Qr,"form");if(Kr)return ae(Kr)}}function Ut(ze){ze.addEventListener("click",Mt),ze.addEventListener("focusin",Mt),ze.addEventListener("focusout",Xt)}function Bt(ze){for(var Qr=Ye(ze),Kr=0,Gr=0;Gr<Qr.length;Gr++){const Wr=Qr[Gr];Wr==="{"?Kr++:Wr==="}"&&Kr--}return Kr}function Ft(ze,Qr,Kr){var Gr=ae(ze);Array.isArray(Gr.onHandlers)||(Gr.onHandlers=[]);var Wr,Jr=function(Zr){return Tr(ze,function(){Wr||(Wr=new Function("event",Kr)),Wr.call(ze,Zr)})};ze.addEventListener(Qr,Jr),Gr.onHandlers.push({event:Qr,listener:Jr})}function Vt(ze){var Qr=te(ze,"hx-on");if(Qr){for(var Kr={},Gr=Qr.split(`
`),Wr=null,Jr=0;Gr.length>0;){var Zr=Gr.shift(),Yr=Zr.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);Jr===0&&Yr?(Zr.split(":"),Wr=Yr[1].slice(0,-1),Kr[Wr]=Yr[2]):Kr[Wr]+=Zr,Jr+=Bt(Zr)}for(var en in Kr)Ft(ze,en,Kr[en])}}function jt(ze){Ae(ze);for(var Qr=0;Qr<ze.attributes.length;Qr++){var Kr=ze.attributes[Qr].name,Gr=ze.attributes[Qr].value;if(g(Kr,"hx-on")||g(Kr,"data-hx-on")){var Wr=Kr.indexOf("-on")+3,Jr=Kr.slice(Wr,Wr+1);if(Jr==="-"||Jr===":"){var Zr=Kr.slice(Wr+1);g(Zr,":")?Zr="htmx"+Zr:g(Zr,"-")?Zr="htmx:"+Zr.slice(1):g(Zr,"htmx-")&&(Zr="htmx:"+Zr.slice(5)),Ft(ze,Zr,Gr)}}}}function _t(ze){if(v(ze,Q.config.disableSelector)){m(ze);return}var Qr=ae(ze);if(Qr.initHash!==Le(ze)){Ne(ze),Qr.initHash=Le(ze),Vt(ze),ce(ze,"htmx:beforeProcessNode"),ze.value&&(Qr.lastValue=ze.value);var Kr=it(ze),Gr=Ht(ze,Qr,Kr);Gr||(ne(ze,"hx-boost")==="true"?lt(ze,Qr,Kr):o(ze,"hx-trigger")&&Kr.forEach(function(Zr){Lt(ze,Zr,Qr,function(){})})),(ze.tagName==="FORM"||ee(ze,"type")==="submit"&&o(ze,"form"))&&Ut(ze);var Wr=te(ze,"hx-sse");Wr&&St(ze,Qr,Wr);var Jr=te(ze,"hx-ws");Jr&&mt(ze,Qr,Jr),ce(ze,"htmx:afterProcessNode")}}function zt(ze){if(ze=p(ze),v(ze,Q.config.disableSelector)){m(ze);return}_t(ze),oe(Pt(ze),function(Qr){_t(Qr)}),oe(kt(ze),jt)}function $t(ze){return ze.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(ze,Qr){var Kr;return window.CustomEvent&&typeof window.CustomEvent=="function"?Kr=new CustomEvent(ze,{bubbles:!0,cancelable:!0,detail:Qr}):(Kr=re().createEvent("CustomEvent"),Kr.initCustomEvent(ze,!0,!0,Qr)),Kr}function fe(ze,Qr,Kr){ce(ze,Qr,le({error:Qr},Kr))}function Gt(ze){return ze==="htmx:afterProcessNode"}function R(ze,Qr){oe(Fr(ze),function(Kr){try{Qr(Kr)}catch(Gr){b(Gr)}})}function b(ze){console.error?console.error(ze):console.log&&console.log("ERROR: ",ze)}function ce(ze,Qr,Kr){ze=p(ze),Kr==null&&(Kr={}),Kr.elt=ze;var Gr=Wt(Qr,Kr);Q.logger&&!Gt(Qr)&&Q.logger(ze,Qr,Kr),Kr.error&&(b(Kr.error),ce(ze,"htmx:error",{errorInfo:Kr}));var Wr=ze.dispatchEvent(Gr),Jr=$t(Qr);if(Wr&&Jr!==Qr){var Zr=Wt(Jr,Gr.detail);Wr=Wr&&ze.dispatchEvent(Zr)}return R(ze,function(Yr){Wr=Wr&&Yr.onEvent(Qr,Gr)!==!1&&!Gr.defaultPrevented}),Wr}var Jt=location.pathname+location.search;function Zt(){var ze=re().querySelector("[hx-history-elt],[data-hx-history-elt]");return ze||re().body}function Kt(ze,Qr,Kr,Gr){if(U()){if(Q.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}ze=B(ze);for(var Wr=E(localStorage.getItem("htmx-history-cache"))||[],Jr=0;Jr<Wr.length;Jr++)if(Wr[Jr].url===ze){Wr.splice(Jr,1);break}var Zr={url:ze,content:Qr,title:Kr,scroll:Gr};for(ce(re().body,"htmx:historyItemCreated",{item:Zr,cache:Wr}),Wr.push(Zr);Wr.length>Q.config.historyCacheSize;)Wr.shift();for(;Wr.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(Wr));break}catch(Yr){fe(re().body,"htmx:historyCacheError",{cause:Yr,cache:Wr}),Wr.shift()}}}function Yt(ze){if(!U())return null;ze=B(ze);for(var Qr=E(localStorage.getItem("htmx-history-cache"))||[],Kr=0;Kr<Qr.length;Kr++)if(Qr[Kr].url===ze)return Qr[Kr];return null}function Qt(ze){var Qr=Q.config.requestClass,Kr=ze.cloneNode(!0);return oe(f(Kr,"."+Qr),function(Gr){n(Gr,Qr)}),Kr.innerHTML}function er(){var ze=Zt(),Qr=Jt||location.pathname+location.search,Kr;try{Kr=re().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{Kr=re().querySelector('[hx-history="false"],[data-hx-history="false"]')}Kr||(ce(re().body,"htmx:beforeHistorySave",{path:Qr,historyElt:ze}),Kt(Qr,Qt(ze),re().title,window.scrollY)),Q.config.historyEnabled&&history.replaceState({htmx:!0},re().title,window.location.href)}function tr(ze){Q.config.getCacheBusterParam&&(ze=ze.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(G(ze,"&")||G(ze,"?"))&&(ze=ze.slice(0,-1))),Q.config.historyEnabled&&history.pushState({htmx:!0},"",ze),Jt=ze}function rr(ze){Q.config.historyEnabled&&history.replaceState({htmx:!0},"",ze),Jt=ze}function nr(ze){oe(ze,function(Qr){Qr.call()})}function ir(ze){var Qr=new XMLHttpRequest,Kr={path:ze,xhr:Qr};ce(re().body,"htmx:historyCacheMiss",Kr),Qr.open("GET",ze,!0),Qr.setRequestHeader("HX-Request","true"),Qr.setRequestHeader("HX-History-Restore-Request","true"),Qr.setRequestHeader("HX-Current-URL",re().location.href),Qr.onload=function(){if(this.status>=200&&this.status<400){ce(re().body,"htmx:historyCacheMissLoad",Kr);var Gr=l(this.response);Gr=Gr.querySelector("[hx-history-elt],[data-hx-history-elt]")||Gr;var Wr=Zt(),Jr=T(Wr),Zr=Ve(this.response);if(Zr){var Yr=C("title");Yr?Yr.innerHTML=Zr:window.document.title=Zr}Ue(Wr,Gr,Jr),nr(Jr.tasks),Jt=ze,ce(re().body,"htmx:historyRestore",{path:ze,cacheMiss:!0,serverResponse:this.response})}else fe(re().body,"htmx:historyCacheMissLoadError",Kr)},Qr.send()}function ar(ze){er(),ze=ze||location.pathname+location.search;var Qr=Yt(ze);if(Qr){var Kr=l(Qr.content),Gr=Zt(),Wr=T(Gr);Ue(Gr,Kr,Wr),nr(Wr.tasks),document.title=Qr.title,setTimeout(function(){window.scrollTo(0,Qr.scroll)},0),Jt=ze,ce(re().body,"htmx:historyRestore",{path:ze,item:Qr})}else Q.config.refreshOnHistoryMiss?window.location.reload(!0):ir(ze)}function or(ze){var Qr=me(ze,"hx-indicator");return Qr==null&&(Qr=[ze]),oe(Qr,function(Kr){var Gr=ae(Kr);Gr.requestCount=(Gr.requestCount||0)+1,Kr.classList.add.call(Kr.classList,Q.config.requestClass)}),Qr}function sr(ze){var Qr=me(ze,"hx-disabled-elt");return Qr==null&&(Qr=[]),oe(Qr,function(Kr){var Gr=ae(Kr);Gr.requestCount=(Gr.requestCount||0)+1,Kr.setAttribute("disabled","")}),Qr}function lr(ze,Qr){oe(ze,function(Kr){var Gr=ae(Kr);Gr.requestCount=(Gr.requestCount||0)-1,Gr.requestCount===0&&Kr.classList.remove.call(Kr.classList,Q.config.requestClass)}),oe(Qr,function(Kr){var Gr=ae(Kr);Gr.requestCount=(Gr.requestCount||0)-1,Gr.requestCount===0&&Kr.removeAttribute("disabled")})}function ur(ze,Qr){for(var Kr=0;Kr<ze.length;Kr++){var Gr=ze[Kr];if(Gr.isSameNode(Qr))return!0}return!1}function fr(ze){return ze.name===""||ze.name==null||ze.disabled||v(ze,"fieldset[disabled]")||ze.type==="button"||ze.type==="submit"||ze.tagName==="image"||ze.tagName==="reset"||ze.tagName==="file"?!1:ze.type==="checkbox"||ze.type==="radio"?ze.checked:!0}function cr(ze,Qr,Kr){if(ze!=null&&Qr!=null){var Gr=Kr[ze];Gr===void 0?Kr[ze]=Qr:Array.isArray(Gr)?Array.isArray(Qr)?Kr[ze]=Gr.concat(Qr):Gr.push(Qr):Array.isArray(Qr)?Kr[ze]=[Gr].concat(Qr):Kr[ze]=[Gr,Qr]}}function hr(ze,Qr,Kr,Gr,Wr){if(!(Gr==null||ur(ze,Gr))){if(ze.push(Gr),fr(Gr)){var Jr=ee(Gr,"name"),Zr=Gr.value;Gr.multiple&&Gr.tagName==="SELECT"&&(Zr=M(Gr.querySelectorAll("option:checked")).map(function(en){return en.value})),Gr.files&&(Zr=M(Gr.files)),cr(Jr,Zr,Qr),Wr&&vr(Gr,Kr)}if(h(Gr,"form")){var Yr=Gr.elements;oe(Yr,function(en){hr(ze,Qr,Kr,en,Wr)})}}}function vr(ze,Qr){ze.willValidate&&(ce(ze,"htmx:validation:validate"),ze.checkValidity()||(Qr.push({elt:ze,message:ze.validationMessage,validity:ze.validity}),ce(ze,"htmx:validation:failed",{message:ze.validationMessage,validity:ze.validity})))}function dr(ze,Qr){var Kr=[],Gr={},Wr={},Jr=[],Zr=ae(ze);Zr.lastButtonClicked&&!se(Zr.lastButtonClicked)&&(Zr.lastButtonClicked=null);var Yr=h(ze,"form")&&ze.noValidate!==!0||te(ze,"hx-validate")==="true";if(Zr.lastButtonClicked&&(Yr=Yr&&Zr.lastButtonClicked.formNoValidate!==!0),Qr!=="get"&&hr(Kr,Wr,Jr,v(ze,"form"),Yr),hr(Kr,Gr,Jr,ze,Yr),Zr.lastButtonClicked||ze.tagName==="BUTTON"||ze.tagName==="INPUT"&&ee(ze,"type")==="submit"){var en=Zr.lastButtonClicked||ze,tn=ee(en,"name");cr(tn,en.value,Wr)}var rn=me(ze,"hx-include");return oe(rn,function(nn){hr(Kr,Gr,Jr,nn,Yr),h(nn,"form")||oe(nn.querySelectorAll(rt),function(an){hr(Kr,Gr,Jr,an,Yr)})}),Gr=le(Gr,Wr),{errors:Jr,values:Gr}}function gr(ze,Qr,Kr){ze!==""&&(ze+="&"),String(Kr)==="[object Object]"&&(Kr=JSON.stringify(Kr));var Gr=encodeURIComponent(Kr);return ze+=encodeURIComponent(Qr)+"="+Gr,ze}function pr(ze){var Qr="";for(var Kr in ze)if(ze.hasOwnProperty(Kr)){var Gr=ze[Kr];Array.isArray(Gr)?oe(Gr,function(Wr){Qr=gr(Qr,Kr,Wr)}):Qr=gr(Qr,Kr,Gr)}return Qr}function mr(ze){var Qr=new FormData;for(var Kr in ze)if(ze.hasOwnProperty(Kr)){var Gr=ze[Kr];Array.isArray(Gr)?oe(Gr,function(Wr){Qr.append(Kr,Wr)}):Qr.append(Kr,Gr)}return Qr}function xr(ze,Qr,Kr){var Gr={"HX-Request":"true","HX-Trigger":ee(ze,"id"),"HX-Trigger-Name":ee(ze,"name"),"HX-Target":te(Qr,"id"),"HX-Current-URL":re().location.href};return Rr(ze,"hx-headers",!1,Gr),Kr!==void 0&&(Gr["HX-Prompt"]=Kr),ae(ze).boosted&&(Gr["HX-Boosted"]="true"),Gr}function yr(ze,Qr){var Kr=ne(Qr,"hx-params");if(Kr){if(Kr==="none")return{};if(Kr==="*")return ze;if(Kr.indexOf("not ")===0)return oe(Kr.substr(4).split(","),function(Wr){Wr=Wr.trim(),delete ze[Wr]}),ze;var Gr={};return oe(Kr.split(","),function(Wr){Wr=Wr.trim(),Gr[Wr]=ze[Wr]}),Gr}else return ze}function br(ze){return ee(ze,"href")&&ee(ze,"href").indexOf("#")>=0}function wr(ze,Qr){var Kr=Qr||ne(ze,"hx-swap"),Gr={swapStyle:ae(ze).boosted?"innerHTML":Q.config.defaultSwapStyle,swapDelay:Q.config.defaultSwapDelay,settleDelay:Q.config.defaultSettleDelay};if(Q.config.scrollIntoViewOnBoost&&ae(ze).boosted&&!br(ze)&&(Gr.show="top"),Kr){var Wr=D(Kr);if(Wr.length>0)for(var Jr=0;Jr<Wr.length;Jr++){var Zr=Wr[Jr];if(Zr.indexOf("swap:")===0)Gr.swapDelay=d(Zr.substr(5));else if(Zr.indexOf("settle:")===0)Gr.settleDelay=d(Zr.substr(7));else if(Zr.indexOf("transition:")===0)Gr.transition=Zr.substr(11)==="true";else if(Zr.indexOf("ignoreTitle:")===0)Gr.ignoreTitle=Zr.substr(12)==="true";else if(Zr.indexOf("scroll:")===0){var Yr=Zr.substr(7),en=Yr.split(":"),tn=en.pop(),rn=en.length>0?en.join(":"):null;Gr.scroll=tn,Gr.scrollTarget=rn}else if(Zr.indexOf("show:")===0){var nn=Zr.substr(5),en=nn.split(":"),an=en.pop(),rn=en.length>0?en.join(":"):null;Gr.show=an,Gr.showTarget=rn}else if(Zr.indexOf("focus-scroll:")===0){var sn=Zr.substr(13);Gr.focusScroll=sn=="true"}else Jr==0?Gr.swapStyle=Zr:b("Unknown modifier in hx-swap: "+Zr)}}return Gr}function Sr(ze){return ne(ze,"hx-encoding")==="multipart/form-data"||h(ze,"form")&&ee(ze,"enctype")==="multipart/form-data"}function Er(ze,Qr,Kr){var Gr=null;return R(Qr,function(Wr){Gr==null&&(Gr=Wr.encodeParameters(ze,Kr,Qr))}),Gr??(Sr(Qr)?mr(Kr):pr(Kr))}function T(ze){return{tasks:[],elts:[ze]}}function Cr(ze,Qr){var Kr=ze[0],Gr=ze[ze.length-1];if(Qr.scroll){var Wr=null;Qr.scrollTarget&&(Wr=ue(Kr,Qr.scrollTarget)),Qr.scroll==="top"&&(Kr||Wr)&&(Wr=Wr||Kr,Wr.scrollTop=0),Qr.scroll==="bottom"&&(Gr||Wr)&&(Wr=Wr||Gr,Wr.scrollTop=Wr.scrollHeight)}if(Qr.show){var Wr=null;if(Qr.showTarget){var Jr=Qr.showTarget;Qr.showTarget==="window"&&(Jr="body"),Wr=ue(Kr,Jr)}Qr.show==="top"&&(Kr||Wr)&&(Wr=Wr||Kr,Wr.scrollIntoView({block:"start",behavior:Q.config.scrollBehavior})),Qr.show==="bottom"&&(Gr||Wr)&&(Wr=Wr||Gr,Wr.scrollIntoView({block:"end",behavior:Q.config.scrollBehavior}))}}function Rr(ze,Qr,Kr,Gr){if(Gr==null&&(Gr={}),ze==null)return Gr;var Wr=te(ze,Qr);if(Wr){var Jr=Wr.trim(),Zr=Kr;if(Jr==="unset")return null;Jr.indexOf("javascript:")===0?(Jr=Jr.substr(11),Zr=!0):Jr.indexOf("js:")===0&&(Jr=Jr.substr(3),Zr=!0),Jr.indexOf("{")!==0&&(Jr="{"+Jr+"}");var Yr;Zr?Yr=Tr(ze,function(){return Function("return ("+Jr+")")()},{}):Yr=E(Jr);for(var en in Yr)Yr.hasOwnProperty(en)&&Gr[en]==null&&(Gr[en]=Yr[en])}return Rr(u(ze),Qr,Kr,Gr)}function Tr(ze,Qr,Kr){return Q.config.allowEval?Qr():(fe(ze,"htmx:evalDisallowedError"),Kr)}function Or(ze,Qr){return Rr(ze,"hx-vars",!0,Qr)}function qr(ze,Qr){return Rr(ze,"hx-vals",!1,Qr)}function Hr(ze){return le(Or(ze),qr(ze))}function Lr(ze,Qr,Kr){if(Kr!==null)try{ze.setRequestHeader(Qr,Kr)}catch{ze.setRequestHeader(Qr,encodeURIComponent(Kr)),ze.setRequestHeader(Qr+"-URI-AutoEncoded","true")}}function Ar(ze){if(ze.responseURL&&typeof URL<"u")try{var Qr=new URL(ze.responseURL);return Qr.pathname+Qr.search}catch{fe(re().body,"htmx:badResponseUrl",{url:ze.responseURL})}}function O(ze,Qr){return Qr.test(ze.getAllResponseHeaders())}function Nr(ze,Qr,Kr){return ze=ze.toLowerCase(),Kr?Kr instanceof Element||I(Kr,"String")?he(ze,Qr,null,null,{targetOverride:p(Kr),returnPromise:!0}):he(ze,Qr,p(Kr.source),Kr.event,{handler:Kr.handler,headers:Kr.headers,values:Kr.values,targetOverride:p(Kr.target),swapOverride:Kr.swap,select:Kr.select,returnPromise:!0}):he(ze,Qr,null,null,{returnPromise:!0})}function Ir(ze){for(var Qr=[];ze;)Qr.push(ze),ze=ze.parentElement;return Qr}function kr(ze,Qr,Kr){var Gr,Wr;if(typeof URL=="function"){Wr=new URL(Qr,document.location.href);var Jr=document.location.origin;Gr=Jr===Wr.origin}else Wr=Qr,Gr=g(Qr,document.location.origin);return Q.config.selfRequestsOnly&&!Gr?!1:ce(ze,"htmx:validateUrl",le({url:Wr,sameHost:Gr},Kr))}function he(ze,Qr,Kr,Gr,Wr,Jr){var Zr=null,Yr=null;if(Wr=Wr??{},Wr.returnPromise&&typeof Promise<"u")var en=new Promise(function(Cn,Tn){Zr=Cn,Yr=Tn});Kr==null&&(Kr=re().body);var tn=Wr.handler||Mr,rn=Wr.select||null;if(!se(Kr))return ie(Zr),en;var nn=Wr.targetOverride||ye(Kr);if(nn==null||nn==pe)return fe(Kr,"htmx:targetError",{target:te(Kr,"hx-target")}),ie(Yr),en;var an=ae(Kr),sn=an.lastButtonClicked;if(sn){var cn=ee(sn,"formaction");cn!=null&&(Qr=cn);var fn=ee(sn,"formmethod");fn!=null&&fn.toLowerCase()!=="dialog"&&(ze=fn)}var ln=ne(Kr,"hx-confirm");if(Jr===void 0){var un=function(Cn){return he(ze,Qr,Kr,Gr,Wr,!!Cn)},dn={target:nn,elt:Kr,path:Qr,verb:ze,triggeringEvent:Gr,etc:Wr,issueRequest:un,question:ln};if(ce(Kr,"htmx:confirm",dn)===!1)return ie(Zr),en}var pn=Kr,hn=ne(Kr,"hx-sync"),vn=null,An=!1;if(hn){var bn=hn.split(":"),xn=bn[0].trim();if(xn==="this"?pn=xe(Kr,"hx-sync"):pn=ue(Kr,xn),hn=(bn[1]||"drop").trim(),an=ae(pn),hn==="drop"&&an.xhr&&an.abortable!==!0)return ie(Zr),en;if(hn==="abort"){if(an.xhr)return ie(Zr),en;An=!0}else if(hn==="replace")ce(pn,"htmx:abort");else if(hn.indexOf("queue")===0){var Ln=hn.split(" ");vn=(Ln[1]||"last").trim()}}if(an.xhr)if(an.abortable)ce(pn,"htmx:abort");else{if(vn==null){if(Gr){var yn=ae(Gr);yn&&yn.triggerSpec&&yn.triggerSpec.queue&&(vn=yn.triggerSpec.queue)}vn==null&&(vn="last")}return an.queuedRequests==null&&(an.queuedRequests=[]),vn==="first"&&an.queuedRequests.length===0?an.queuedRequests.push(function(){he(ze,Qr,Kr,Gr,Wr)}):vn==="all"?an.queuedRequests.push(function(){he(ze,Qr,Kr,Gr,Wr)}):vn==="last"&&(an.queuedRequests=[],an.queuedRequests.push(function(){he(ze,Qr,Kr,Gr,Wr)})),ie(Zr),en}var mn=new XMLHttpRequest;an.xhr=mn,an.abortable=An;var Sn=function(){if(an.xhr=null,an.abortable=!1,an.queuedRequests!=null&&an.queuedRequests.length>0){var Cn=an.queuedRequests.shift();Cn()}},In=ne(Kr,"hx-prompt");if(In){var On=prompt(In);if(On===null||!ce(Kr,"htmx:prompt",{prompt:On,target:nn}))return ie(Zr),Sn(),en}if(ln&&!Jr&&!confirm(ln))return ie(Zr),Sn(),en;var gn=xr(Kr,nn,On);ze!=="get"&&!Sr(Kr)&&(gn["Content-Type"]="application/x-www-form-urlencoded"),Wr.headers&&(gn=le(gn,Wr.headers));var zn=dr(Kr,ze),Rn=zn.errors,_n=zn.values;Wr.values&&(_n=le(_n,Wr.values));var Vn=Hr(Kr),Un=le(_n,Vn),Nn=yr(Un,Kr);Q.config.getCacheBusterParam&&ze==="get"&&(Nn["org.htmx.cache-buster"]=ee(nn,"id")||"true"),(Qr==null||Qr==="")&&(Qr=re().location.href);var qn=Rr(Kr,"hx-request"),$n=ae(Kr).boosted,Dn=Q.config.methodsThatUseUrlParams.indexOf(ze)>=0,En={boosted:$n,useUrlParams:Dn,parameters:Nn,unfilteredParameters:Un,headers:gn,target:nn,verb:ze,errors:Rn,withCredentials:Wr.credentials||qn.credentials||Q.config.withCredentials,timeout:Wr.timeout||qn.timeout||Q.config.timeout,path:Qr,triggeringEvent:Gr};if(!ce(Kr,"htmx:configRequest",En))return ie(Zr),Sn(),en;if(Qr=En.path,ze=En.verb,gn=En.headers,Nn=En.parameters,Rn=En.errors,Dn=En.useUrlParams,Rn&&Rn.length>0)return ce(Kr,"htmx:validation:halted",En),ie(Zr),Sn(),en;var jn=Qr.split("#"),Kn=jn[0],Fn=jn[1],kn=Qr;if(Dn){kn=Kn;var Xn=Object.keys(Nn).length!==0;Xn&&(kn.indexOf("?")<0?kn+="?":kn+="&",kn+=pr(Nn),Fn&&(kn+="#"+Fn))}if(!kr(Kr,kn,En))return fe(Kr,"htmx:invalidPath",En),ie(Yr),en;if(mn.open(ze.toUpperCase(),kn,!0),mn.overrideMimeType("text/html"),mn.withCredentials=En.withCredentials,mn.timeout=En.timeout,!qn.noHeaders){for(var Bn in gn)if(gn.hasOwnProperty(Bn)){var Gn=gn[Bn];Lr(mn,Bn,Gn)}}var wn={xhr:mn,target:nn,requestConfig:En,etc:Wr,boosted:$n,select:rn,pathInfo:{requestPath:Qr,finalRequestPath:kn,anchor:Fn}};if(mn.onload=function(){try{var Cn=Ir(Kr);if(wn.pathInfo.responsePath=Ar(mn),tn(Kr,wn),lr(Hn,Pn),ce(Kr,"htmx:afterRequest",wn),ce(Kr,"htmx:afterOnLoad",wn),!se(Kr)){for(var Tn=null;Cn.length>0&&Tn==null;){var Mn=Cn.shift();se(Mn)&&(Tn=Mn)}Tn&&(ce(Tn,"htmx:afterRequest",wn),ce(Tn,"htmx:afterOnLoad",wn))}ie(Zr),Sn()}catch(Qn){throw fe(Kr,"htmx:onLoadError",le({error:Qn},wn)),Qn}},mn.onerror=function(){lr(Hn,Pn),fe(Kr,"htmx:afterRequest",wn),fe(Kr,"htmx:sendError",wn),ie(Yr),Sn()},mn.onabort=function(){lr(Hn,Pn),fe(Kr,"htmx:afterRequest",wn),fe(Kr,"htmx:sendAbort",wn),ie(Yr),Sn()},mn.ontimeout=function(){lr(Hn,Pn),fe(Kr,"htmx:afterRequest",wn),fe(Kr,"htmx:timeout",wn),ie(Yr),Sn()},!ce(Kr,"htmx:beforeRequest",wn))return ie(Zr),Sn(),en;var Hn=or(Kr),Pn=sr(Kr);oe(["loadstart","loadend","progress","abort"],function(Cn){oe([mn,mn.upload],function(Tn){Tn.addEventListener(Cn,function(Mn){ce(Kr,"htmx:xhr:"+Cn,{lengthComputable:Mn.lengthComputable,loaded:Mn.loaded,total:Mn.total})})})}),ce(Kr,"htmx:beforeSend",wn);var Wn=Dn?null:Er(mn,Kr,Nn);return mn.send(Wn),en}function Pr(ze,Qr){var Kr=Qr.xhr,Gr=null,Wr=null;if(O(Kr,/HX-Push:/i)?(Gr=Kr.getResponseHeader("HX-Push"),Wr="push"):O(Kr,/HX-Push-Url:/i)?(Gr=Kr.getResponseHeader("HX-Push-Url"),Wr="push"):O(Kr,/HX-Replace-Url:/i)&&(Gr=Kr.getResponseHeader("HX-Replace-Url"),Wr="replace"),Gr)return Gr==="false"?{}:{type:Wr,path:Gr};var Jr=Qr.pathInfo.finalRequestPath,Zr=Qr.pathInfo.responsePath,Yr=ne(ze,"hx-push-url"),en=ne(ze,"hx-replace-url"),tn=ae(ze).boosted,rn=null,nn=null;return Yr?(rn="push",nn=Yr):en?(rn="replace",nn=en):tn&&(rn="push",nn=Zr||Jr),nn?nn==="false"?{}:(nn==="true"&&(nn=Zr||Jr),Qr.pathInfo.anchor&&nn.indexOf("#")===-1&&(nn=nn+"#"+Qr.pathInfo.anchor),{type:rn,path:nn}):{}}function Mr(ze,Qr){var Kr=Qr.xhr,Gr=Qr.target,Wr=Qr.etc;Qr.requestConfig;var Jr=Qr.select;if(ce(ze,"htmx:beforeOnLoad",Qr)){if(O(Kr,/HX-Trigger:/i)&&_e(Kr,"HX-Trigger",ze),O(Kr,/HX-Location:/i)){er();var Zr=Kr.getResponseHeader("HX-Location"),Yr;Zr.indexOf("{")===0&&(Yr=E(Zr),Zr=Yr.path,delete Yr.path),Nr("GET",Zr,Yr).then(function(){tr(Zr)});return}var en=O(Kr,/HX-Refresh:/i)&&Kr.getResponseHeader("HX-Refresh")==="true";if(O(Kr,/HX-Redirect:/i)){location.href=Kr.getResponseHeader("HX-Redirect"),en&&location.reload();return}if(en){location.reload();return}O(Kr,/HX-Retarget:/i)&&(Kr.getResponseHeader("HX-Retarget")==="this"?Qr.target=ze:Qr.target=ue(ze,Kr.getResponseHeader("HX-Retarget")));var tn=Pr(ze,Qr),rn=Kr.status>=200&&Kr.status<400&&Kr.status!==204,nn=Kr.response,an=Kr.status>=400,sn=Q.config.ignoreTitle,cn=le({shouldSwap:rn,serverResponse:nn,isError:an,ignoreTitle:sn},Qr);if(ce(Gr,"htmx:beforeSwap",cn)){if(Gr=cn.target,nn=cn.serverResponse,an=cn.isError,sn=cn.ignoreTitle,Qr.target=Gr,Qr.failed=an,Qr.successful=!an,cn.shouldSwap){Kr.status===286&&at(ze),R(ze,function(bn){nn=bn.transformResponse(nn,Kr,ze)}),tn.type&&er();var fn=Wr.swapOverride;O(Kr,/HX-Reswap:/i)&&(fn=Kr.getResponseHeader("HX-Reswap"));var Yr=wr(ze,fn);Yr.hasOwnProperty("ignoreTitle")&&(sn=Yr.ignoreTitle),Gr.classList.add(Q.config.swappingClass);var ln=null,un=null,dn=function(){try{var bn=document.activeElement,xn={};try{xn={elt:bn,start:bn?bn.selectionStart:null,end:bn?bn.selectionEnd:null}}catch{}var Ln;Jr&&(Ln=Jr),O(Kr,/HX-Reselect:/i)&&(Ln=Kr.getResponseHeader("HX-Reselect")),tn.type&&(ce(re().body,"htmx:beforeHistoryUpdate",le({history:tn},Qr)),tn.type==="push"?(tr(tn.path),ce(re().body,"htmx:pushedIntoHistory",{path:tn.path})):(rr(tn.path),ce(re().body,"htmx:replacedInHistory",{path:tn.path})));var yn=T(Gr);if(je(Yr.swapStyle,Gr,ze,nn,yn,Ln),xn.elt&&!se(xn.elt)&&ee(xn.elt,"id")){var mn=document.getElementById(ee(xn.elt,"id")),Sn={preventScroll:Yr.focusScroll!==void 0?!Yr.focusScroll:!Q.config.defaultFocusScroll};if(mn){if(xn.start&&mn.setSelectionRange)try{mn.setSelectionRange(xn.start,xn.end)}catch{}mn.focus(Sn)}}if(Gr.classList.remove(Q.config.swappingClass),oe(yn.elts,function(gn){gn.classList&&gn.classList.add(Q.config.settlingClass),ce(gn,"htmx:afterSwap",Qr)}),O(Kr,/HX-Trigger-After-Swap:/i)){var In=ze;se(ze)||(In=re().body),_e(Kr,"HX-Trigger-After-Swap",In)}var On=function(){if(oe(yn.tasks,function(_n){_n.call()}),oe(yn.elts,function(_n){_n.classList&&_n.classList.remove(Q.config.settlingClass),ce(_n,"htmx:afterSettle",Qr)}),Qr.pathInfo.anchor){var gn=re().getElementById(Qr.pathInfo.anchor);gn&&gn.scrollIntoView({block:"start",behavior:"auto"})}if(yn.title&&!sn){var zn=C("title");zn?zn.innerHTML=yn.title:window.document.title=yn.title}if(Cr(yn.elts,Yr),O(Kr,/HX-Trigger-After-Settle:/i)){var Rn=ze;se(ze)||(Rn=re().body),_e(Kr,"HX-Trigger-After-Settle",Rn)}ie(ln)};Yr.settleDelay>0?setTimeout(On,Yr.settleDelay):On()}catch(gn){throw fe(ze,"htmx:swapError",Qr),ie(un),gn}},pn=Q.config.globalViewTransitions;if(Yr.hasOwnProperty("transition")&&(pn=Yr.transition),pn&&ce(ze,"htmx:beforeTransition",Qr)&&typeof Promise<"u"&&document.startViewTransition){var hn=new Promise(function(bn,xn){ln=bn,un=xn}),vn=dn;dn=function(){document.startViewTransition(function(){return vn(),hn})}}Yr.swapDelay>0?setTimeout(dn,Yr.swapDelay):dn()}an&&fe(ze,"htmx:responseError",le({error:"Response Status Error Code "+Kr.status+" from "+Qr.pathInfo.requestPath},Qr))}}}var Xr={};function Dr(){return{init:function(ze){return null},onEvent:function(ze,Qr){return!0},transformResponse:function(ze,Qr,Kr){return ze},isInlineSwap:function(ze){return!1},handleSwap:function(ze,Qr,Kr,Gr){return!1},encodeParameters:function(ze,Qr,Kr){return null}}}function Ur(ze,Qr){Qr.init&&Qr.init(r),Xr[ze]=le(Dr(),Qr)}function Br(ze){delete Xr[ze]}function Fr(ze,Qr,Kr){if(ze==null)return Qr;Qr==null&&(Qr=[]),Kr==null&&(Kr=[]);var Gr=te(ze,"hx-ext");return Gr&&oe(Gr.split(","),function(Wr){if(Wr=Wr.replace(/ /g,""),Wr.slice(0,7)=="ignore:"){Kr.push(Wr.slice(7));return}if(Kr.indexOf(Wr)<0){var Jr=Xr[Wr];Jr&&Qr.indexOf(Jr)<0&&Qr.push(Jr)}}),Fr(u(ze),Qr,Kr)}var Vr=!1;re().addEventListener("DOMContentLoaded",function(){Vr=!0});function jr(ze){Vr||re().readyState==="complete"?ze():re().addEventListener("DOMContentLoaded",ze)}function _r(){Q.config.includeIndicatorStyles!==!1&&re().head.insertAdjacentHTML("beforeend","<style>                      ."+Q.config.indicatorClass+"{opacity:0}                      ."+Q.config.requestClass+" ."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                      ."+Q.config.requestClass+"."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                    </style>")}function zr(){var ze=re().querySelector('meta[name="htmx-config"]');return ze?E(ze.content):null}function $r(){var ze=zr();ze&&(Q.config=le(Q.config,ze))}return jr(function(){$r(),_r();var ze=re().body;zt(ze);var Qr=re().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");ze.addEventListener("htmx:abort",function(Gr){var Wr=Gr.target,Jr=ae(Wr);Jr&&Jr.xhr&&Jr.xhr.abort()});const Kr=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(Gr){Gr.state&&Gr.state.htmx?(ar(),oe(Qr,function(Wr){ce(Wr,"htmx:restored",{document:re(),triggerEvent:ce})})):Kr&&Kr(Gr)},setTimeout(function(){ce(ze,"htmx:load",{}),ze=null},0)}),Q}()})}(htmx_min$1)),htmx_min$1.exports}var htmx_minExports=requireHtmx_min();const htmx=getDefaultExportFromCjs(htmx_minExports);var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(ze){queueJob(ze)}function queueJob(ze){queue.includes(ze)||queue.push(ze),queueFlush()}function dequeueJob(ze){let Qr=queue.indexOf(ze);Qr!==-1&&Qr>lastFlushedIndex&&queue.splice(Qr,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let ze=0;ze<queue.length;ze++)queue[ze](),lastFlushedIndex=ze;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release,raw,shouldSchedule=!0;function disableEffectScheduling(ze){shouldSchedule=!1,ze(),shouldSchedule=!0}function setReactivityEngine(ze){reactive=ze.reactive,release=ze.release,effect=Qr=>ze.effect(Qr,{scheduler:Kr=>{shouldSchedule?scheduler(Kr):Kr()}}),raw=ze.raw}function overrideEffect(ze){effect=ze}function elementBoundEffect(ze){let Qr=()=>{};return[Gr=>{let Wr=effect(Gr);return ze._x_effects||(ze._x_effects=new Set,ze._x_runEffects=()=>{ze._x_effects.forEach(Jr=>Jr())}),ze._x_effects.add(Wr),Qr=()=>{Wr!==void 0&&(ze._x_effects.delete(Wr),release(Wr))},Wr},()=>{Qr()}]}function watch(ze,Qr){let Kr=!0,Gr,Wr=effect(()=>{let Jr=ze();JSON.stringify(Jr),Kr?Gr=Jr:queueMicrotask(()=>{Qr(Jr,Gr),Gr=Jr}),Kr=!1});return()=>release(Wr)}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(ze){onElAddeds.push(ze)}function onElRemoved(ze,Qr){typeof Qr=="function"?(ze._x_cleanups||(ze._x_cleanups=[]),ze._x_cleanups.push(Qr)):(Qr=ze,onElRemoveds.push(Qr))}function onAttributesAdded(ze){onAttributeAddeds.push(ze)}function onAttributeRemoved(ze,Qr,Kr){ze._x_attributeCleanups||(ze._x_attributeCleanups={}),ze._x_attributeCleanups[Qr]||(ze._x_attributeCleanups[Qr]=[]),ze._x_attributeCleanups[Qr].push(Kr)}function cleanupAttributes(ze,Qr){ze._x_attributeCleanups&&Object.entries(ze._x_attributeCleanups).forEach(([Kr,Gr])=>{(Qr===void 0||Qr.includes(Kr))&&(Gr.forEach(Wr=>Wr()),delete ze._x_attributeCleanups[Kr])})}function cleanupElement(ze){var Qr,Kr;for((Qr=ze._x_effects)==null||Qr.forEach(dequeueJob);(Kr=ze._x_cleanups)!=null&&Kr.length;)ze._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var queuedMutations=[];function flushObserver(){let ze=observer.takeRecords();queuedMutations.push(()=>ze.length>0&&onMutate(ze));let Qr=queuedMutations.length;queueMicrotask(()=>{if(queuedMutations.length===Qr)for(;queuedMutations.length>0;)queuedMutations.shift()()})}function mutateDom(ze){if(!currentlyObserving)return ze();stopObservingMutations();let Qr=ze();return startObservingMutations(),Qr}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(ze){if(isCollecting){deferredMutations=deferredMutations.concat(ze);return}let Qr=[],Kr=new Set,Gr=new Map,Wr=new Map;for(let Jr=0;Jr<ze.length;Jr++)if(!ze[Jr].target._x_ignoreMutationObserver&&(ze[Jr].type==="childList"&&(ze[Jr].removedNodes.forEach(Zr=>{Zr.nodeType===1&&Zr._x_marker&&Kr.add(Zr)}),ze[Jr].addedNodes.forEach(Zr=>{if(Zr.nodeType===1){if(Kr.has(Zr)){Kr.delete(Zr);return}Zr._x_marker||Qr.push(Zr)}})),ze[Jr].type==="attributes")){let Zr=ze[Jr].target,Yr=ze[Jr].attributeName,en=ze[Jr].oldValue,tn=()=>{Gr.has(Zr)||Gr.set(Zr,[]),Gr.get(Zr).push({name:Yr,value:Zr.getAttribute(Yr)})},rn=()=>{Wr.has(Zr)||Wr.set(Zr,[]),Wr.get(Zr).push(Yr)};Zr.hasAttribute(Yr)&&en===null?tn():Zr.hasAttribute(Yr)?(rn(),tn()):rn()}Wr.forEach((Jr,Zr)=>{cleanupAttributes(Zr,Jr)}),Gr.forEach((Jr,Zr)=>{onAttributeAddeds.forEach(Yr=>Yr(Zr,Jr))});for(let Jr of Kr)Qr.some(Zr=>Zr.contains(Jr))||onElRemoveds.forEach(Zr=>Zr(Jr));for(let Jr of Qr)Jr.isConnected&&onElAddeds.forEach(Zr=>Zr(Jr));Qr=null,Kr=null,Gr=null,Wr=null}function scope(ze){return mergeProxies(closestDataStack(ze))}function addScopeToNode(ze,Qr,Kr){return ze._x_dataStack=[Qr,...closestDataStack(Kr||ze)],()=>{ze._x_dataStack=ze._x_dataStack.filter(Gr=>Gr!==Qr)}}function closestDataStack(ze){return ze._x_dataStack?ze._x_dataStack:typeof ShadowRoot=="function"&&ze instanceof ShadowRoot?closestDataStack(ze.host):ze.parentNode?closestDataStack(ze.parentNode):[]}function mergeProxies(ze){return new Proxy({objects:ze},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:ze}){return Array.from(new Set(ze.flatMap(Qr=>Object.keys(Qr))))},has({objects:ze},Qr){return Qr==Symbol.unscopables?!1:ze.some(Kr=>Object.prototype.hasOwnProperty.call(Kr,Qr)||Reflect.has(Kr,Qr))},get({objects:ze},Qr,Kr){return Qr=="toJSON"?collapseProxies:Reflect.get(ze.find(Gr=>Reflect.has(Gr,Qr))||{},Qr,Kr)},set({objects:ze},Qr,Kr,Gr){const Wr=ze.find(Zr=>Object.prototype.hasOwnProperty.call(Zr,Qr))||ze[ze.length-1],Jr=Object.getOwnPropertyDescriptor(Wr,Qr);return Jr!=null&&Jr.set&&(Jr!=null&&Jr.get)?Jr.set.call(Gr,Kr)||!0:Reflect.set(Wr,Qr,Kr)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((Qr,Kr)=>(Qr[Kr]=Reflect.get(this,Kr),Qr),{})}function initInterceptors(ze){let Qr=Gr=>typeof Gr=="object"&&!Array.isArray(Gr)&&Gr!==null,Kr=(Gr,Wr="")=>{Object.entries(Object.getOwnPropertyDescriptors(Gr)).forEach(([Jr,{value:Zr,enumerable:Yr}])=>{if(Yr===!1||Zr===void 0||typeof Zr=="object"&&Zr!==null&&Zr.__v_skip)return;let en=Wr===""?Jr:`${Wr}.${Jr}`;typeof Zr=="object"&&Zr!==null&&Zr._x_interceptor?Gr[Jr]=Zr.initialize(ze,en,Jr):Qr(Zr)&&Zr!==Gr&&!(Zr instanceof Element)&&Kr(Zr,en)})};return Kr(ze)}function interceptor(ze,Qr=()=>{}){let Kr={initialValue:void 0,_x_interceptor:!0,initialize(Gr,Wr,Jr){return ze(this.initialValue,()=>get(Gr,Wr),Zr=>set(Gr,Wr,Zr),Wr,Jr)}};return Qr(Kr),Gr=>{if(typeof Gr=="object"&&Gr!==null&&Gr._x_interceptor){let Wr=Kr.initialize.bind(Kr);Kr.initialize=(Jr,Zr,Yr)=>{let en=Gr.initialize(Jr,Zr,Yr);return Kr.initialValue=en,Wr(Jr,Zr,Yr)}}else Kr.initialValue=Gr;return Kr}}function get(ze,Qr){return Qr.split(".").reduce((Kr,Gr)=>Kr[Gr],ze)}function set(ze,Qr,Kr){if(typeof Qr=="string"&&(Qr=Qr.split(".")),Qr.length===1)ze[Qr[0]]=Kr;else{if(Qr.length===0)throw error;return ze[Qr[0]]||(ze[Qr[0]]={}),set(ze[Qr[0]],Qr.slice(1),Kr)}}var magics={};function magic(ze,Qr){magics[ze]=Qr}function injectMagics(ze,Qr){let Kr=getUtilities(Qr);return Object.entries(magics).forEach(([Gr,Wr])=>{Object.defineProperty(ze,`$${Gr}`,{get(){return Wr(Qr,Kr)},enumerable:!1})}),ze}function getUtilities(ze){let[Qr,Kr]=getElementBoundUtilities(ze),Gr={interceptor,...Qr};return onElRemoved(ze,Kr),Gr}function tryCatch(ze,Qr,Kr,...Gr){try{return Kr(...Gr)}catch(Wr){handleError(Wr,ze,Qr)}}function handleError(ze,Qr,Kr=void 0){ze=Object.assign(ze??{message:"No error message given."},{el:Qr,expression:Kr}),console.warn(`Alpine Expression Error: ${ze.message}

${Kr?'Expression: "'+Kr+`"

`:""}`,Qr),setTimeout(()=>{throw ze},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(ze){let Qr=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let Kr=ze();return shouldAutoEvaluateFunctions=Qr,Kr}function evaluate(ze,Qr,Kr={}){let Gr;return evaluateLater(ze,Qr)(Wr=>Gr=Wr,Kr),Gr}function evaluateLater(...ze){return theEvaluatorFunction(...ze)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(ze){theEvaluatorFunction=ze}function normalEvaluator(ze,Qr){let Kr={};injectMagics(Kr,ze);let Gr=[Kr,...closestDataStack(ze)],Wr=typeof Qr=="function"?generateEvaluatorFromFunction(Gr,Qr):generateEvaluatorFromString(Gr,Qr,ze);return tryCatch.bind(null,ze,Qr,Wr)}function generateEvaluatorFromFunction(ze,Qr){return(Kr=()=>{},{scope:Gr={},params:Wr=[]}={})=>{let Jr=Qr.apply(mergeProxies([Gr,...ze]),Wr);runIfTypeOfFunction(Kr,Jr)}}var evaluatorMemo={};function generateFunctionFromString(ze,Qr){if(evaluatorMemo[ze])return evaluatorMemo[ze];let Kr=Object.getPrototypeOf(async function(){}).constructor,Gr=/^[\n\s]*if.*\(.*\)/.test(ze.trim())||/^(let|const)\s/.test(ze.trim())?`(async()=>{ ${ze} })()`:ze,Jr=(()=>{try{let Zr=new Kr(["__self","scope"],`with (scope) { __self.result = ${Gr} }; __self.finished = true; return __self.result;`);return Object.defineProperty(Zr,"name",{value:`[Alpine] ${ze}`}),Zr}catch(Zr){return handleError(Zr,Qr,ze),Promise.resolve()}})();return evaluatorMemo[ze]=Jr,Jr}function generateEvaluatorFromString(ze,Qr,Kr){let Gr=generateFunctionFromString(Qr,Kr);return(Wr=()=>{},{scope:Jr={},params:Zr=[]}={})=>{Gr.result=void 0,Gr.finished=!1;let Yr=mergeProxies([Jr,...ze]);if(typeof Gr=="function"){let en=Gr(Gr,Yr).catch(tn=>handleError(tn,Kr,Qr));Gr.finished?(runIfTypeOfFunction(Wr,Gr.result,Yr,Zr,Kr),Gr.result=void 0):en.then(tn=>{runIfTypeOfFunction(Wr,tn,Yr,Zr,Kr)}).catch(tn=>handleError(tn,Kr,Qr)).finally(()=>Gr.result=void 0)}}}function runIfTypeOfFunction(ze,Qr,Kr,Gr,Wr){if(shouldAutoEvaluateFunctions&&typeof Qr=="function"){let Jr=Qr.apply(Kr,Gr);Jr instanceof Promise?Jr.then(Zr=>runIfTypeOfFunction(ze,Zr,Kr,Gr)).catch(Zr=>handleError(Zr,Wr,Qr)):ze(Jr)}else typeof Qr=="object"&&Qr instanceof Promise?Qr.then(Jr=>ze(Jr)):ze(Qr)}var prefixAsString="x-";function prefix(ze=""){return prefixAsString+ze}function setPrefix(ze){prefixAsString=ze}var directiveHandlers={};function directive(ze,Qr){return directiveHandlers[ze]=Qr,{before(Kr){if(!directiveHandlers[Kr]){console.warn(String.raw`Cannot find directive \`${Kr}\`. \`${ze}\` will use the default order of execution`);return}const Gr=directiveOrder.indexOf(Kr);directiveOrder.splice(Gr>=0?Gr:directiveOrder.indexOf("DEFAULT"),0,ze)}}}function directiveExists(ze){return Object.keys(directiveHandlers).includes(ze)}function directives(ze,Qr,Kr){if(Qr=Array.from(Qr),ze._x_virtualDirectives){let Jr=Object.entries(ze._x_virtualDirectives).map(([Yr,en])=>({name:Yr,value:en})),Zr=attributesOnly(Jr);Jr=Jr.map(Yr=>Zr.find(en=>en.name===Yr.name)?{name:`x-bind:${Yr.name}`,value:`"${Yr.value}"`}:Yr),Qr=Qr.concat(Jr)}let Gr={};return Qr.map(toTransformedAttributes((Jr,Zr)=>Gr[Jr]=Zr)).filter(outNonAlpineAttributes).map(toParsedDirectives(Gr,Kr)).sort(byPriority).map(Jr=>getDirectiveHandler(ze,Jr))}function attributesOnly(ze){return Array.from(ze).map(toTransformedAttributes()).filter(Qr=>!outNonAlpineAttributes(Qr))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(ze){isDeferringHandlers=!0;let Qr=Symbol();currentHandlerStackKey=Qr,directiveHandlerStacks.set(Qr,[]);let Kr=()=>{for(;directiveHandlerStacks.get(Qr).length;)directiveHandlerStacks.get(Qr).shift()();directiveHandlerStacks.delete(Qr)},Gr=()=>{isDeferringHandlers=!1,Kr()};ze(Kr),Gr()}function getElementBoundUtilities(ze){let Qr=[],Kr=Yr=>Qr.push(Yr),[Gr,Wr]=elementBoundEffect(ze);return Qr.push(Wr),[{Alpine:alpine_default,effect:Gr,cleanup:Kr,evaluateLater:evaluateLater.bind(evaluateLater,ze),evaluate:evaluate.bind(evaluate,ze)},()=>Qr.forEach(Yr=>Yr())]}function getDirectiveHandler(ze,Qr){let Kr=()=>{},Gr=directiveHandlers[Qr.type]||Kr,[Wr,Jr]=getElementBoundUtilities(ze);onAttributeRemoved(ze,Qr.original,Jr);let Zr=()=>{ze._x_ignore||ze._x_ignoreSelf||(Gr.inline&&Gr.inline(ze,Qr,Wr),Gr=Gr.bind(Gr,ze,Qr,Wr),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(Gr):Gr())};return Zr.runCleanups=Jr,Zr}var startingWith=(ze,Qr)=>({name:Kr,value:Gr})=>(Kr.startsWith(ze)&&(Kr=Kr.replace(ze,Qr)),{name:Kr,value:Gr}),into=ze=>ze;function toTransformedAttributes(ze=()=>{}){return({name:Qr,value:Kr})=>{let{name:Gr,value:Wr}=attributeTransformers.reduce((Jr,Zr)=>Zr(Jr),{name:Qr,value:Kr});return Gr!==Qr&&ze(Gr,Qr),{name:Gr,value:Wr}}}var attributeTransformers=[];function mapAttributes(ze){attributeTransformers.push(ze)}function outNonAlpineAttributes({name:ze}){return alpineAttributeRegex().test(ze)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(ze,Qr){return({name:Kr,value:Gr})=>{let Wr=Kr.match(alpineAttributeRegex()),Jr=Kr.match(/:([a-zA-Z0-9\-_:]+)/),Zr=Kr.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],Yr=Qr||ze[Kr]||Kr;return{type:Wr?Wr[1]:null,value:Jr?Jr[1]:null,modifiers:Zr.map(en=>en.replace(".","")),expression:Gr,original:Yr}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(ze,Qr){let Kr=directiveOrder.indexOf(ze.type)===-1?DEFAULT:ze.type,Gr=directiveOrder.indexOf(Qr.type)===-1?DEFAULT:Qr.type;return directiveOrder.indexOf(Kr)-directiveOrder.indexOf(Gr)}function dispatch(ze,Qr,Kr={}){ze.dispatchEvent(new CustomEvent(Qr,{detail:Kr,bubbles:!0,composed:!0,cancelable:!0}))}function walk(ze,Qr){if(typeof ShadowRoot=="function"&&ze instanceof ShadowRoot){Array.from(ze.children).forEach(Wr=>walk(Wr,Qr));return}let Kr=!1;if(Qr(ze,()=>Kr=!0),Kr)return;let Gr=ze.firstElementChild;for(;Gr;)walk(Gr,Qr),Gr=Gr.nextElementSibling}function warn(ze,...Qr){console.warn(`Alpine Warning: ${ze}`,...Qr)}var started=!1;function start(){started&&warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(Qr=>initTree(Qr,walk)),onElRemoved(Qr=>destroyTree(Qr)),onAttributesAdded((Qr,Kr)=>{directives(Qr,Kr).forEach(Gr=>Gr())});let ze=Qr=>!closestRoot(Qr.parentElement,!0);Array.from(document.querySelectorAll(allSelectors().join(","))).filter(ze).forEach(Qr=>{initTree(Qr)}),dispatch(document,"alpine:initialized"),setTimeout(()=>{warnAboutMissingPlugins()})}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(ze=>ze())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(ze=>ze())}function addRootSelector(ze){rootSelectorCallbacks.push(ze)}function addInitSelector(ze){initSelectorCallbacks.push(ze)}function closestRoot(ze,Qr=!1){return findClosest(ze,Kr=>{if((Qr?allSelectors():rootSelectors()).some(Wr=>Kr.matches(Wr)))return!0})}function findClosest(ze,Qr){if(ze){if(Qr(ze))return ze;if(ze._x_teleportBack&&(ze=ze._x_teleportBack),!!ze.parentElement)return findClosest(ze.parentElement,Qr)}}function isRoot(ze){return rootSelectors().some(Qr=>ze.matches(Qr))}var initInterceptors2=[];function interceptInit(ze){initInterceptors2.push(ze)}var markerDispenser=1;function initTree(ze,Qr=walk,Kr=()=>{}){findClosest(ze,Gr=>Gr._x_ignore)||deferHandlingDirectives(()=>{Qr(ze,(Gr,Wr)=>{Gr._x_marker||(Kr(Gr,Wr),initInterceptors2.forEach(Jr=>Jr(Gr,Wr)),directives(Gr,Gr.attributes).forEach(Jr=>Jr()),Gr._x_ignore||(Gr._x_marker=markerDispenser++),Gr._x_ignore&&Wr())})})}function destroyTree(ze,Qr=walk){Qr(ze,Kr=>{cleanupElement(Kr),cleanupAttributes(Kr),delete Kr._x_marker})}function warnAboutMissingPlugins(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([Qr,Kr,Gr])=>{directiveExists(Kr)||Gr.some(Wr=>{if(document.querySelector(Wr))return warn(`found "${Wr}", but missing ${Qr} plugin`),!0})})}var tickStack=[],isHolding=!1;function nextTick(ze=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(Qr=>{tickStack.push(()=>{ze(),Qr()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(ze,Qr){return Array.isArray(Qr)?setClassesFromString(ze,Qr.join(" ")):typeof Qr=="object"&&Qr!==null?setClassesFromObject(ze,Qr):typeof Qr=="function"?setClasses(ze,Qr()):setClassesFromString(ze,Qr)}function setClassesFromString(ze,Qr){let Kr=Wr=>Wr.split(" ").filter(Jr=>!ze.classList.contains(Jr)).filter(Boolean),Gr=Wr=>(ze.classList.add(...Wr),()=>{ze.classList.remove(...Wr)});return Qr=Qr===!0?Qr="":Qr||"",Gr(Kr(Qr))}function setClassesFromObject(ze,Qr){let Kr=Yr=>Yr.split(" ").filter(Boolean),Gr=Object.entries(Qr).flatMap(([Yr,en])=>en?Kr(Yr):!1).filter(Boolean),Wr=Object.entries(Qr).flatMap(([Yr,en])=>en?!1:Kr(Yr)).filter(Boolean),Jr=[],Zr=[];return Wr.forEach(Yr=>{ze.classList.contains(Yr)&&(ze.classList.remove(Yr),Zr.push(Yr))}),Gr.forEach(Yr=>{ze.classList.contains(Yr)||(ze.classList.add(Yr),Jr.push(Yr))}),()=>{Zr.forEach(Yr=>ze.classList.add(Yr)),Jr.forEach(Yr=>ze.classList.remove(Yr))}}function setStyles(ze,Qr){return typeof Qr=="object"&&Qr!==null?setStylesFromObject(ze,Qr):setStylesFromString(ze,Qr)}function setStylesFromObject(ze,Qr){let Kr={};return Object.entries(Qr).forEach(([Gr,Wr])=>{Kr[Gr]=ze.style[Gr],Gr.startsWith("--")||(Gr=kebabCase(Gr)),ze.style.setProperty(Gr,Wr)}),setTimeout(()=>{ze.style.length===0&&ze.removeAttribute("style")}),()=>{setStyles(ze,Kr)}}function setStylesFromString(ze,Qr){let Kr=ze.getAttribute("style",Qr);return ze.setAttribute("style",Qr),()=>{ze.setAttribute("style",Kr||"")}}function kebabCase(ze){return ze.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(ze,Qr=()=>{}){let Kr=!1;return function(){Kr?Qr.apply(this,arguments):(Kr=!0,ze.apply(this,arguments))}}directive("transition",(ze,{value:Qr,modifiers:Kr,expression:Gr},{evaluate:Wr})=>{typeof Gr=="function"&&(Gr=Wr(Gr)),Gr!==!1&&(!Gr||typeof Gr=="boolean"?registerTransitionsFromHelper(ze,Kr,Qr):registerTransitionsFromClassString(ze,Gr,Qr))});function registerTransitionsFromClassString(ze,Qr,Kr){registerTransitionObject(ze,setClasses,""),{enter:Wr=>{ze._x_transition.enter.during=Wr},"enter-start":Wr=>{ze._x_transition.enter.start=Wr},"enter-end":Wr=>{ze._x_transition.enter.end=Wr},leave:Wr=>{ze._x_transition.leave.during=Wr},"leave-start":Wr=>{ze._x_transition.leave.start=Wr},"leave-end":Wr=>{ze._x_transition.leave.end=Wr}}[Kr](Qr)}function registerTransitionsFromHelper(ze,Qr,Kr){registerTransitionObject(ze,setStyles);let Gr=!Qr.includes("in")&&!Qr.includes("out")&&!Kr,Wr=Gr||Qr.includes("in")||["enter"].includes(Kr),Jr=Gr||Qr.includes("out")||["leave"].includes(Kr);Qr.includes("in")&&!Gr&&(Qr=Qr.filter((un,dn)=>dn<Qr.indexOf("out"))),Qr.includes("out")&&!Gr&&(Qr=Qr.filter((un,dn)=>dn>Qr.indexOf("out")));let Zr=!Qr.includes("opacity")&&!Qr.includes("scale"),Yr=Zr||Qr.includes("opacity"),en=Zr||Qr.includes("scale"),tn=Yr?0:1,rn=en?modifierValue(Qr,"scale",95)/100:1,nn=modifierValue(Qr,"delay",0)/1e3,an=modifierValue(Qr,"origin","center"),sn="opacity, transform",cn=modifierValue(Qr,"duration",150)/1e3,fn=modifierValue(Qr,"duration",75)/1e3,ln="cubic-bezier(0.4, 0.0, 0.2, 1)";Wr&&(ze._x_transition.enter.during={transformOrigin:an,transitionDelay:`${nn}s`,transitionProperty:sn,transitionDuration:`${cn}s`,transitionTimingFunction:ln},ze._x_transition.enter.start={opacity:tn,transform:`scale(${rn})`},ze._x_transition.enter.end={opacity:1,transform:"scale(1)"}),Jr&&(ze._x_transition.leave.during={transformOrigin:an,transitionDelay:`${nn}s`,transitionProperty:sn,transitionDuration:`${fn}s`,transitionTimingFunction:ln},ze._x_transition.leave.start={opacity:1,transform:"scale(1)"},ze._x_transition.leave.end={opacity:tn,transform:`scale(${rn})`})}function registerTransitionObject(ze,Qr,Kr={}){ze._x_transition||(ze._x_transition={enter:{during:Kr,start:Kr,end:Kr},leave:{during:Kr,start:Kr,end:Kr},in(Gr=()=>{},Wr=()=>{}){transition(ze,Qr,{during:this.enter.during,start:this.enter.start,end:this.enter.end},Gr,Wr)},out(Gr=()=>{},Wr=()=>{}){transition(ze,Qr,{during:this.leave.during,start:this.leave.start,end:this.leave.end},Gr,Wr)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(ze,Qr,Kr,Gr){const Wr=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let Jr=()=>Wr(Kr);if(Qr){ze._x_transition&&(ze._x_transition.enter||ze._x_transition.leave)?ze._x_transition.enter&&(Object.entries(ze._x_transition.enter.during).length||Object.entries(ze._x_transition.enter.start).length||Object.entries(ze._x_transition.enter.end).length)?ze._x_transition.in(Kr):Jr():ze._x_transition?ze._x_transition.in(Kr):Jr();return}ze._x_hidePromise=ze._x_transition?new Promise((Zr,Yr)=>{ze._x_transition.out(()=>{},()=>Zr(Gr)),ze._x_transitioning&&ze._x_transitioning.beforeCancel(()=>Yr({isFromCancelledTransition:!0}))}):Promise.resolve(Gr),queueMicrotask(()=>{let Zr=closestHide(ze);Zr?(Zr._x_hideChildren||(Zr._x_hideChildren=[]),Zr._x_hideChildren.push(ze)):Wr(()=>{let Yr=en=>{let tn=Promise.all([en._x_hidePromise,...(en._x_hideChildren||[]).map(Yr)]).then(([rn])=>rn==null?void 0:rn());return delete en._x_hidePromise,delete en._x_hideChildren,tn};Yr(ze).catch(en=>{if(!en.isFromCancelledTransition)throw en})})})};function closestHide(ze){let Qr=ze.parentNode;if(Qr)return Qr._x_hidePromise?Qr:closestHide(Qr)}function transition(ze,Qr,{during:Kr,start:Gr,end:Wr}={},Jr=()=>{},Zr=()=>{}){if(ze._x_transitioning&&ze._x_transitioning.cancel(),Object.keys(Kr).length===0&&Object.keys(Gr).length===0&&Object.keys(Wr).length===0){Jr(),Zr();return}let Yr,en,tn;performTransition(ze,{start(){Yr=Qr(ze,Gr)},during(){en=Qr(ze,Kr)},before:Jr,end(){Yr(),tn=Qr(ze,Wr)},after:Zr,cleanup(){en(),tn()}})}function performTransition(ze,Qr){let Kr,Gr,Wr,Jr=once(()=>{mutateDom(()=>{Kr=!0,Gr||Qr.before(),Wr||(Qr.end(),releaseNextTicks()),Qr.after(),ze.isConnected&&Qr.cleanup(),delete ze._x_transitioning})});ze._x_transitioning={beforeCancels:[],beforeCancel(Zr){this.beforeCancels.push(Zr)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();Jr()}),finish:Jr},mutateDom(()=>{Qr.start(),Qr.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(Kr)return;let Zr=Number(getComputedStyle(ze).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,Yr=Number(getComputedStyle(ze).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;Zr===0&&(Zr=Number(getComputedStyle(ze).animationDuration.replace("s",""))*1e3),mutateDom(()=>{Qr.before()}),Gr=!0,requestAnimationFrame(()=>{Kr||(mutateDom(()=>{Qr.end()}),releaseNextTicks(),setTimeout(ze._x_transitioning.finish,Zr+Yr),Wr=!0)})})}function modifierValue(ze,Qr,Kr){if(ze.indexOf(Qr)===-1)return Kr;const Gr=ze[ze.indexOf(Qr)+1];if(!Gr||Qr==="scale"&&isNaN(Gr))return Kr;if(Qr==="duration"||Qr==="delay"){let Wr=Gr.match(/([0-9]+)ms/);if(Wr)return Wr[1]}return Qr==="origin"&&["top","right","left","center","bottom"].includes(ze[ze.indexOf(Qr)+2])?[Gr,ze[ze.indexOf(Qr)+2]].join(" "):Gr}var isCloning=!1;function skipDuringClone(ze,Qr=()=>{}){return(...Kr)=>isCloning?Qr(...Kr):ze(...Kr)}function onlyDuringClone(ze){return(...Qr)=>isCloning&&ze(...Qr)}var interceptors=[];function interceptClone(ze){interceptors.push(ze)}function cloneNode(ze,Qr){interceptors.forEach(Kr=>Kr(ze,Qr)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(Qr,(Kr,Gr)=>{Gr(Kr,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone(ze,Qr){Qr._x_dataStack||(Qr._x_dataStack=ze._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(Qr)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(ze){let Qr=!1;initTree(ze,(Gr,Wr)=>{walk(Gr,(Jr,Zr)=>{if(Qr&&isRoot(Jr))return Zr();Qr=!0,Wr(Jr,Zr)})})}function dontRegisterReactiveSideEffects(ze){let Qr=effect;overrideEffect((Kr,Gr)=>{let Wr=Qr(Kr);return release(Wr),()=>{}}),ze(),overrideEffect(Qr)}function bind(ze,Qr,Kr,Gr=[]){switch(ze._x_bindings||(ze._x_bindings=reactive({})),ze._x_bindings[Qr]=Kr,Qr=Gr.includes("camel")?camelCase(Qr):Qr,Qr){case"value":bindInputValue(ze,Kr);break;case"style":bindStyles(ze,Kr);break;case"class":bindClasses(ze,Kr);break;case"selected":case"checked":bindAttributeAndProperty(ze,Qr,Kr);break;default:bindAttribute(ze,Qr,Kr);break}}function bindInputValue(ze,Qr){if(isRadio(ze))ze.attributes.value===void 0&&(ze.value=Qr),window.fromModel&&(typeof Qr=="boolean"?ze.checked=safeParseBoolean(ze.value)===Qr:ze.checked=checkedAttrLooseCompare(ze.value,Qr));else if(isCheckbox(ze))Number.isInteger(Qr)?ze.value=Qr:!Array.isArray(Qr)&&typeof Qr!="boolean"&&![null,void 0].includes(Qr)?ze.value=String(Qr):Array.isArray(Qr)?ze.checked=Qr.some(Kr=>checkedAttrLooseCompare(Kr,ze.value)):ze.checked=!!Qr;else if(ze.tagName==="SELECT")updateSelect(ze,Qr);else{if(ze.value===Qr)return;ze.value=Qr===void 0?"":Qr}}function bindClasses(ze,Qr){ze._x_undoAddedClasses&&ze._x_undoAddedClasses(),ze._x_undoAddedClasses=setClasses(ze,Qr)}function bindStyles(ze,Qr){ze._x_undoAddedStyles&&ze._x_undoAddedStyles(),ze._x_undoAddedStyles=setStyles(ze,Qr)}function bindAttributeAndProperty(ze,Qr,Kr){bindAttribute(ze,Qr,Kr),setPropertyIfChanged(ze,Qr,Kr)}function bindAttribute(ze,Qr,Kr){[null,void 0,!1].includes(Kr)&&attributeShouldntBePreservedIfFalsy(Qr)?ze.removeAttribute(Qr):(isBooleanAttr(Qr)&&(Kr=Qr),setIfChanged(ze,Qr,Kr))}function setIfChanged(ze,Qr,Kr){ze.getAttribute(Qr)!=Kr&&ze.setAttribute(Qr,Kr)}function setPropertyIfChanged(ze,Qr,Kr){ze[Qr]!==Kr&&(ze[Qr]=Kr)}function updateSelect(ze,Qr){const Kr=[].concat(Qr).map(Gr=>Gr+"");Array.from(ze.options).forEach(Gr=>{Gr.selected=Kr.includes(Gr.value)})}function camelCase(ze){return ze.toLowerCase().replace(/-(\w)/g,(Qr,Kr)=>Kr.toUpperCase())}function checkedAttrLooseCompare(ze,Qr){return ze==Qr}function safeParseBoolean(ze){return[1,"1","true","on","yes",!0].includes(ze)?!0:[0,"0","false","off","no",!1].includes(ze)?!1:ze?!!ze:null}var booleanAttributes=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function isBooleanAttr(ze){return booleanAttributes.has(ze)}function attributeShouldntBePreservedIfFalsy(ze){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(ze)}function getBinding(ze,Qr,Kr){return ze._x_bindings&&ze._x_bindings[Qr]!==void 0?ze._x_bindings[Qr]:getAttributeBinding(ze,Qr,Kr)}function extractProp(ze,Qr,Kr,Gr=!0){if(ze._x_bindings&&ze._x_bindings[Qr]!==void 0)return ze._x_bindings[Qr];if(ze._x_inlineBindings&&ze._x_inlineBindings[Qr]!==void 0){let Wr=ze._x_inlineBindings[Qr];return Wr.extract=Gr,dontAutoEvaluateFunctions(()=>evaluate(ze,Wr.expression))}return getAttributeBinding(ze,Qr,Kr)}function getAttributeBinding(ze,Qr,Kr){let Gr=ze.getAttribute(Qr);return Gr===null?typeof Kr=="function"?Kr():Kr:Gr===""?!0:isBooleanAttr(Qr)?!![Qr,"true"].includes(Gr):Gr}function isCheckbox(ze){return ze.type==="checkbox"||ze.localName==="ui-checkbox"||ze.localName==="ui-switch"}function isRadio(ze){return ze.type==="radio"||ze.localName==="ui-radio"}function debounce(ze,Qr){var Kr;return function(){var Gr=this,Wr=arguments,Jr=function(){Kr=null,ze.apply(Gr,Wr)};clearTimeout(Kr),Kr=setTimeout(Jr,Qr)}}function throttle(ze,Qr){let Kr;return function(){let Gr=this,Wr=arguments;Kr||(ze.apply(Gr,Wr),Kr=!0,setTimeout(()=>Kr=!1,Qr))}}function entangle({get:ze,set:Qr},{get:Kr,set:Gr}){let Wr=!0,Jr,Zr=effect(()=>{let Yr=ze(),en=Kr();if(Wr)Gr(cloneIfObject(Yr)),Wr=!1;else{let tn=JSON.stringify(Yr),rn=JSON.stringify(en);tn!==Jr?Gr(cloneIfObject(Yr)):tn!==rn&&Qr(cloneIfObject(en))}Jr=JSON.stringify(ze()),JSON.stringify(Kr())});return()=>{release(Zr)}}function cloneIfObject(ze){return typeof ze=="object"?JSON.parse(JSON.stringify(ze)):ze}function plugin(ze){(Array.isArray(ze)?ze:[ze]).forEach(Kr=>Kr(alpine_default))}var stores={},isReactive=!1;function store(ze,Qr){if(isReactive||(stores=reactive(stores),isReactive=!0),Qr===void 0)return stores[ze];stores[ze]=Qr,initInterceptors(stores[ze]),typeof Qr=="object"&&Qr!==null&&Qr.hasOwnProperty("init")&&typeof Qr.init=="function"&&stores[ze].init()}function getStores(){return stores}var binds={};function bind2(ze,Qr){let Kr=typeof Qr!="function"?()=>Qr:Qr;return ze instanceof Element?applyBindingsObject(ze,Kr()):(binds[ze]=Kr,()=>{})}function injectBindingProviders(ze){return Object.entries(binds).forEach(([Qr,Kr])=>{Object.defineProperty(ze,Qr,{get(){return(...Gr)=>Kr(...Gr)}})}),ze}function applyBindingsObject(ze,Qr,Kr){let Gr=[];for(;Gr.length;)Gr.pop()();let Wr=Object.entries(Qr).map(([Zr,Yr])=>({name:Zr,value:Yr})),Jr=attributesOnly(Wr);return Wr=Wr.map(Zr=>Jr.find(Yr=>Yr.name===Zr.name)?{name:`x-bind:${Zr.name}`,value:`"${Zr.value}"`}:Zr),directives(ze,Wr,Kr).map(Zr=>{Gr.push(Zr.runCleanups),Zr()}),()=>{for(;Gr.length;)Gr.pop()()}}var datas={};function data(ze,Qr){datas[ze]=Qr}function injectDataProviders(ze,Qr){return Object.entries(datas).forEach(([Kr,Gr])=>{Object.defineProperty(ze,Kr,{get(){return(...Wr)=>Gr.bind(Qr)(...Wr)},enumerable:!1})}),ze}var Alpine={get reactive(){return reactive},get release(){return release},get effect(){return effect},get raw(){return raw},version:"3.14.8",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,interceptClone,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start,clone,cloneNode,bound:getBinding,$data:scope,watch,walk,data,bind:bind2},alpine_default=Alpine;function makeMap(ze,Qr){const Kr=Object.create(null),Gr=ze.split(",");for(let Wr=0;Wr<Gr.length;Wr++)Kr[Gr[Wr]]=!0;return Wr=>!!Kr[Wr]}var EMPTY_OBJ=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(ze,Qr)=>hasOwnProperty.call(ze,Qr),isArray=Array.isArray,isMap=ze=>toTypeString(ze)==="[object Map]",isString=ze=>typeof ze=="string",isSymbol=ze=>typeof ze=="symbol",isObject=ze=>ze!==null&&typeof ze=="object",objectToString=Object.prototype.toString,toTypeString=ze=>objectToString.call(ze),toRawType=ze=>toTypeString(ze).slice(8,-1),isIntegerKey=ze=>isString(ze)&&ze!=="NaN"&&ze[0]!=="-"&&""+parseInt(ze,10)===ze,cacheStringFunction=ze=>{const Qr=Object.create(null);return Kr=>Qr[Kr]||(Qr[Kr]=ze(Kr))},capitalize=cacheStringFunction(ze=>ze.charAt(0).toUpperCase()+ze.slice(1)),hasChanged=(ze,Qr)=>ze!==Qr&&(ze===ze||Qr===Qr),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(ze){return ze&&ze._isEffect===!0}function effect2(ze,Qr=EMPTY_OBJ){isEffect(ze)&&(ze=ze.raw);const Kr=createReactiveEffect(ze,Qr);return Qr.lazy||Kr(),Kr}function stop(ze){ze.active&&(cleanup(ze),ze.options.onStop&&ze.options.onStop(),ze.active=!1)}var uid=0;function createReactiveEffect(ze,Qr){const Kr=function(){if(!Kr.active)return ze();if(!effectStack.includes(Kr)){cleanup(Kr);try{return enableTracking(),effectStack.push(Kr),activeEffect=Kr,ze()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return Kr.id=uid++,Kr.allowRecurse=!!Qr.allowRecurse,Kr._isEffect=!0,Kr.active=!0,Kr.raw=ze,Kr.deps=[],Kr.options=Qr,Kr}function cleanup(ze){const{deps:Qr}=ze;if(Qr.length){for(let Kr=0;Kr<Qr.length;Kr++)Qr[Kr].delete(ze);Qr.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const ze=trackStack.pop();shouldTrack=ze===void 0?!0:ze}function track(ze,Qr,Kr){if(!shouldTrack||activeEffect===void 0)return;let Gr=targetMap.get(ze);Gr||targetMap.set(ze,Gr=new Map);let Wr=Gr.get(Kr);Wr||Gr.set(Kr,Wr=new Set),Wr.has(activeEffect)||(Wr.add(activeEffect),activeEffect.deps.push(Wr),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:ze,type:Qr,key:Kr}))}function trigger(ze,Qr,Kr,Gr,Wr,Jr){const Zr=targetMap.get(ze);if(!Zr)return;const Yr=new Set,en=rn=>{rn&&rn.forEach(nn=>{(nn!==activeEffect||nn.allowRecurse)&&Yr.add(nn)})};if(Qr==="clear")Zr.forEach(en);else if(Kr==="length"&&isArray(ze))Zr.forEach((rn,nn)=>{(nn==="length"||nn>=Gr)&&en(rn)});else switch(Kr!==void 0&&en(Zr.get(Kr)),Qr){case"add":isArray(ze)?isIntegerKey(Kr)&&en(Zr.get("length")):(en(Zr.get(ITERATE_KEY)),isMap(ze)&&en(Zr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(ze)||(en(Zr.get(ITERATE_KEY)),isMap(ze)&&en(Zr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(ze)&&en(Zr.get(ITERATE_KEY));break}const tn=rn=>{rn.options.onTrigger&&rn.options.onTrigger({effect:rn,target:ze,key:Kr,type:Qr,newValue:Gr,oldValue:Wr,oldTarget:Jr}),rn.options.scheduler?rn.options.scheduler(rn):rn()};Yr.forEach(tn)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(ze=>Symbol[ze]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const ze={};return["includes","indexOf","lastIndexOf"].forEach(Qr=>{ze[Qr]=function(...Kr){const Gr=toRaw(this);for(let Jr=0,Zr=this.length;Jr<Zr;Jr++)track(Gr,"get",Jr+"");const Wr=Gr[Qr](...Kr);return Wr===-1||Wr===!1?Gr[Qr](...Kr.map(toRaw)):Wr}}),["push","pop","shift","unshift","splice"].forEach(Qr=>{ze[Qr]=function(...Kr){pauseTracking();const Gr=toRaw(this)[Qr].apply(this,Kr);return resetTracking(),Gr}}),ze}function createGetter(ze=!1,Qr=!1){return function(Gr,Wr,Jr){if(Wr==="__v_isReactive")return!ze;if(Wr==="__v_isReadonly")return ze;if(Wr==="__v_raw"&&Jr===(ze?Qr?shallowReadonlyMap:readonlyMap:Qr?shallowReactiveMap:reactiveMap).get(Gr))return Gr;const Zr=isArray(Gr);if(!ze&&Zr&&hasOwn(arrayInstrumentations,Wr))return Reflect.get(arrayInstrumentations,Wr,Jr);const Yr=Reflect.get(Gr,Wr,Jr);return(isSymbol(Wr)?builtInSymbols.has(Wr):isNonTrackableKeys(Wr))||(ze||track(Gr,"get",Wr),Qr)?Yr:isRef(Yr)?!Zr||!isIntegerKey(Wr)?Yr.value:Yr:isObject(Yr)?ze?readonly(Yr):reactive2(Yr):Yr}}var set2=createSetter();function createSetter(ze=!1){return function(Kr,Gr,Wr,Jr){let Zr=Kr[Gr];if(!ze&&(Wr=toRaw(Wr),Zr=toRaw(Zr),!isArray(Kr)&&isRef(Zr)&&!isRef(Wr)))return Zr.value=Wr,!0;const Yr=isArray(Kr)&&isIntegerKey(Gr)?Number(Gr)<Kr.length:hasOwn(Kr,Gr),en=Reflect.set(Kr,Gr,Wr,Jr);return Kr===toRaw(Jr)&&(Yr?hasChanged(Wr,Zr)&&trigger(Kr,"set",Gr,Wr,Zr):trigger(Kr,"add",Gr,Wr)),en}}function deleteProperty(ze,Qr){const Kr=hasOwn(ze,Qr),Gr=ze[Qr],Wr=Reflect.deleteProperty(ze,Qr);return Wr&&Kr&&trigger(ze,"delete",Qr,void 0,Gr),Wr}function has(ze,Qr){const Kr=Reflect.has(ze,Qr);return(!isSymbol(Qr)||!builtInSymbols.has(Qr))&&track(ze,"has",Qr),Kr}function ownKeys(ze){return track(ze,"iterate",isArray(ze)?"length":ITERATE_KEY),Reflect.ownKeys(ze)}var mutableHandlers={get:get2,set:set2,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(ze,Qr){return console.warn(`Set operation on key "${String(Qr)}" failed: target is readonly.`,ze),!0},deleteProperty(ze,Qr){return console.warn(`Delete operation on key "${String(Qr)}" failed: target is readonly.`,ze),!0}},toReactive=ze=>isObject(ze)?reactive2(ze):ze,toReadonly=ze=>isObject(ze)?readonly(ze):ze,toShallow=ze=>ze,getProto=ze=>Reflect.getPrototypeOf(ze);function get$1(ze,Qr,Kr=!1,Gr=!1){ze=ze.__v_raw;const Wr=toRaw(ze),Jr=toRaw(Qr);Qr!==Jr&&!Kr&&track(Wr,"get",Qr),!Kr&&track(Wr,"get",Jr);const{has:Zr}=getProto(Wr),Yr=Gr?toShallow:Kr?toReadonly:toReactive;if(Zr.call(Wr,Qr))return Yr(ze.get(Qr));if(Zr.call(Wr,Jr))return Yr(ze.get(Jr));ze!==Wr&&ze.get(Qr)}function has$1(ze,Qr=!1){const Kr=this.__v_raw,Gr=toRaw(Kr),Wr=toRaw(ze);return ze!==Wr&&!Qr&&track(Gr,"has",ze),!Qr&&track(Gr,"has",Wr),ze===Wr?Kr.has(ze):Kr.has(ze)||Kr.has(Wr)}function size(ze,Qr=!1){return ze=ze.__v_raw,!Qr&&track(toRaw(ze),"iterate",ITERATE_KEY),Reflect.get(ze,"size",ze)}function add(ze){ze=toRaw(ze);const Qr=toRaw(this);return getProto(Qr).has.call(Qr,ze)||(Qr.add(ze),trigger(Qr,"add",ze,ze)),this}function set$1(ze,Qr){Qr=toRaw(Qr);const Kr=toRaw(this),{has:Gr,get:Wr}=getProto(Kr);let Jr=Gr.call(Kr,ze);Jr?checkIdentityKeys(Kr,Gr,ze):(ze=toRaw(ze),Jr=Gr.call(Kr,ze));const Zr=Wr.call(Kr,ze);return Kr.set(ze,Qr),Jr?hasChanged(Qr,Zr)&&trigger(Kr,"set",ze,Qr,Zr):trigger(Kr,"add",ze,Qr),this}function deleteEntry(ze){const Qr=toRaw(this),{has:Kr,get:Gr}=getProto(Qr);let Wr=Kr.call(Qr,ze);Wr?checkIdentityKeys(Qr,Kr,ze):(ze=toRaw(ze),Wr=Kr.call(Qr,ze));const Jr=Gr?Gr.call(Qr,ze):void 0,Zr=Qr.delete(ze);return Wr&&trigger(Qr,"delete",ze,void 0,Jr),Zr}function clear(){const ze=toRaw(this),Qr=ze.size!==0,Kr=isMap(ze)?new Map(ze):new Set(ze),Gr=ze.clear();return Qr&&trigger(ze,"clear",void 0,void 0,Kr),Gr}function createForEach(ze,Qr){return function(Gr,Wr){const Jr=this,Zr=Jr.__v_raw,Yr=toRaw(Zr),en=Qr?toShallow:ze?toReadonly:toReactive;return!ze&&track(Yr,"iterate",ITERATE_KEY),Zr.forEach((tn,rn)=>Gr.call(Wr,en(tn),en(rn),Jr))}}function createIterableMethod(ze,Qr,Kr){return function(...Gr){const Wr=this.__v_raw,Jr=toRaw(Wr),Zr=isMap(Jr),Yr=ze==="entries"||ze===Symbol.iterator&&Zr,en=ze==="keys"&&Zr,tn=Wr[ze](...Gr),rn=Kr?toShallow:Qr?toReadonly:toReactive;return!Qr&&track(Jr,"iterate",en?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:nn,done:an}=tn.next();return an?{value:nn,done:an}:{value:Yr?[rn(nn[0]),rn(nn[1])]:rn(nn),done:an}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(ze){return function(...Qr){{const Kr=Qr[0]?`on key "${Qr[0]}" `:"";console.warn(`${capitalize(ze)} operation ${Kr}failed: target is readonly.`,toRaw(this))}return ze==="delete"?!1:this}}function createInstrumentations(){const ze={get(Jr){return get$1(this,Jr)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},Qr={get(Jr){return get$1(this,Jr,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},Kr={get(Jr){return get$1(this,Jr,!0)},get size(){return size(this,!0)},has(Jr){return has$1.call(this,Jr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Gr={get(Jr){return get$1(this,Jr,!0,!0)},get size(){return size(this,!0)},has(Jr){return has$1.call(this,Jr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Jr=>{ze[Jr]=createIterableMethod(Jr,!1,!1),Kr[Jr]=createIterableMethod(Jr,!0,!1),Qr[Jr]=createIterableMethod(Jr,!1,!0),Gr[Jr]=createIterableMethod(Jr,!0,!0)}),[ze,Kr,Qr,Gr]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(ze,Qr){const Kr=ze?readonlyInstrumentations:mutableInstrumentations;return(Gr,Wr,Jr)=>Wr==="__v_isReactive"?!ze:Wr==="__v_isReadonly"?ze:Wr==="__v_raw"?Gr:Reflect.get(hasOwn(Kr,Wr)&&Wr in Gr?Kr:Gr,Wr,Jr)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0)};function checkIdentityKeys(ze,Qr,Kr){const Gr=toRaw(Kr);if(Gr!==Kr&&Qr.call(ze,Gr)){const Wr=toRawType(ze);console.warn(`Reactive ${Wr} contains both the raw and reactive versions of the same object${Wr==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(ze){switch(ze){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(ze){return ze.__v_skip||!Object.isExtensible(ze)?0:targetTypeMap(toRawType(ze))}function reactive2(ze){return ze&&ze.__v_isReadonly?ze:createReactiveObject(ze,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(ze){return createReactiveObject(ze,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(ze,Qr,Kr,Gr,Wr){if(!isObject(ze))return console.warn(`value cannot be made reactive: ${String(ze)}`),ze;if(ze.__v_raw&&!(Qr&&ze.__v_isReactive))return ze;const Jr=Wr.get(ze);if(Jr)return Jr;const Zr=getTargetType(ze);if(Zr===0)return ze;const Yr=new Proxy(ze,Zr===2?Gr:Kr);return Wr.set(ze,Yr),Yr}function toRaw(ze){return ze&&toRaw(ze.__v_raw)||ze}function isRef(ze){return!!(ze&&ze.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",ze=>dispatch.bind(dispatch,ze));magic("watch",(ze,{evaluateLater:Qr,cleanup:Kr})=>(Gr,Wr)=>{let Jr=Qr(Gr),Yr=watch(()=>{let en;return Jr(tn=>en=tn),en},Wr);Kr(Yr)});magic("store",getStores);magic("data",ze=>scope(ze));magic("root",ze=>closestRoot(ze));magic("refs",ze=>(ze._x_refs_proxy||(ze._x_refs_proxy=mergeProxies(getArrayOfRefObject(ze))),ze._x_refs_proxy));function getArrayOfRefObject(ze){let Qr=[];return findClosest(ze,Kr=>{Kr._x_refs&&Qr.push(Kr._x_refs)}),Qr}var globalIdMemo={};function findAndIncrementId(ze){return globalIdMemo[ze]||(globalIdMemo[ze]=0),++globalIdMemo[ze]}function closestIdRoot(ze,Qr){return findClosest(ze,Kr=>{if(Kr._x_ids&&Kr._x_ids[Qr])return!0})}function setIdRoot(ze,Qr){ze._x_ids||(ze._x_ids={}),ze._x_ids[Qr]||(ze._x_ids[Qr]=findAndIncrementId(Qr))}magic("id",(ze,{cleanup:Qr})=>(Kr,Gr=null)=>{let Wr=`${Kr}${Gr?`-${Gr}`:""}`;return cacheIdByNameOnElement(ze,Wr,Qr,()=>{let Jr=closestIdRoot(ze,Kr),Zr=Jr?Jr._x_ids[Kr]:findAndIncrementId(Kr);return Gr?`${Kr}-${Zr}-${Gr}`:`${Kr}-${Zr}`})});interceptClone((ze,Qr)=>{ze._x_id&&(Qr._x_id=ze._x_id)});function cacheIdByNameOnElement(ze,Qr,Kr,Gr){if(ze._x_id||(ze._x_id={}),ze._x_id[Qr])return ze._x_id[Qr];let Wr=Gr();return ze._x_id[Qr]=Wr,Kr(()=>{delete ze._x_id[Qr]}),Wr}magic("el",ze=>ze);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(ze,Qr,Kr){magic(Qr,Gr=>warn(`You can't use [$${Qr}] without first installing the "${ze}" plugin here: https://alpinejs.dev/plugins/${Kr}`,Gr))}directive("modelable",(ze,{expression:Qr},{effect:Kr,evaluateLater:Gr,cleanup:Wr})=>{let Jr=Gr(Qr),Zr=()=>{let rn;return Jr(nn=>rn=nn),rn},Yr=Gr(`${Qr} = __placeholder`),en=rn=>Yr(()=>{},{scope:{__placeholder:rn}}),tn=Zr();en(tn),queueMicrotask(()=>{if(!ze._x_model)return;ze._x_removeModelListeners.default();let rn=ze._x_model.get,nn=ze._x_model.set,an=entangle({get(){return rn()},set(sn){nn(sn)}},{get(){return Zr()},set(sn){en(sn)}});Wr(an)})});directive("teleport",(ze,{modifiers:Qr,expression:Kr},{cleanup:Gr})=>{ze.tagName.toLowerCase()!=="template"&&warn("x-teleport can only be used on a <template> tag",ze);let Wr=getTarget(Kr),Jr=ze.content.cloneNode(!0).firstElementChild;ze._x_teleport=Jr,Jr._x_teleportBack=ze,ze.setAttribute("data-teleport-template",!0),Jr.setAttribute("data-teleport-target",!0),ze._x_forwardEvents&&ze._x_forwardEvents.forEach(Yr=>{Jr.addEventListener(Yr,en=>{en.stopPropagation(),ze.dispatchEvent(new en.constructor(en.type,en))})}),addScopeToNode(Jr,{},ze);let Zr=(Yr,en,tn)=>{tn.includes("prepend")?en.parentNode.insertBefore(Yr,en):tn.includes("append")?en.parentNode.insertBefore(Yr,en.nextSibling):en.appendChild(Yr)};mutateDom(()=>{Zr(Jr,Wr,Qr),skipDuringClone(()=>{initTree(Jr)})()}),ze._x_teleportPutBack=()=>{let Yr=getTarget(Kr);mutateDom(()=>{Zr(ze._x_teleport,Yr,Qr)})},Gr(()=>mutateDom(()=>{Jr.remove(),destroyTree(Jr)}))});var teleportContainerDuringClone=document.createElement("div");function getTarget(ze){let Qr=skipDuringClone(()=>document.querySelector(ze),()=>teleportContainerDuringClone)();return Qr||warn(`Cannot find x-teleport element for selector: "${ze}"`),Qr}var handler=()=>{};handler.inline=(ze,{modifiers:Qr},{cleanup:Kr})=>{Qr.includes("self")?ze._x_ignoreSelf=!0:ze._x_ignore=!0,Kr(()=>{Qr.includes("self")?delete ze._x_ignoreSelf:delete ze._x_ignore})};directive("ignore",handler);directive("effect",skipDuringClone((ze,{expression:Qr},{effect:Kr})=>{Kr(evaluateLater(ze,Qr))}));function on(ze,Qr,Kr,Gr){let Wr=ze,Jr=en=>Gr(en),Zr={},Yr=(en,tn)=>rn=>tn(en,rn);if(Kr.includes("dot")&&(Qr=dotSyntax(Qr)),Kr.includes("camel")&&(Qr=camelCase2(Qr)),Kr.includes("passive")&&(Zr.passive=!0),Kr.includes("capture")&&(Zr.capture=!0),Kr.includes("window")&&(Wr=window),Kr.includes("document")&&(Wr=document),Kr.includes("debounce")){let en=Kr[Kr.indexOf("debounce")+1]||"invalid-wait",tn=isNumeric(en.split("ms")[0])?Number(en.split("ms")[0]):250;Jr=debounce(Jr,tn)}if(Kr.includes("throttle")){let en=Kr[Kr.indexOf("throttle")+1]||"invalid-wait",tn=isNumeric(en.split("ms")[0])?Number(en.split("ms")[0]):250;Jr=throttle(Jr,tn)}return Kr.includes("prevent")&&(Jr=Yr(Jr,(en,tn)=>{tn.preventDefault(),en(tn)})),Kr.includes("stop")&&(Jr=Yr(Jr,(en,tn)=>{tn.stopPropagation(),en(tn)})),Kr.includes("once")&&(Jr=Yr(Jr,(en,tn)=>{en(tn),Wr.removeEventListener(Qr,Jr,Zr)})),(Kr.includes("away")||Kr.includes("outside"))&&(Wr=document,Jr=Yr(Jr,(en,tn)=>{ze.contains(tn.target)||tn.target.isConnected!==!1&&(ze.offsetWidth<1&&ze.offsetHeight<1||ze._x_isShown!==!1&&en(tn))})),Kr.includes("self")&&(Jr=Yr(Jr,(en,tn)=>{tn.target===ze&&en(tn)})),(isKeyEvent(Qr)||isClickEvent(Qr))&&(Jr=Yr(Jr,(en,tn)=>{isListeningForASpecificKeyThatHasntBeenPressed(tn,Kr)||en(tn)})),Wr.addEventListener(Qr,Jr,Zr),()=>{Wr.removeEventListener(Qr,Jr,Zr)}}function dotSyntax(ze){return ze.replace(/-/g,".")}function camelCase2(ze){return ze.toLowerCase().replace(/-(\w)/g,(Qr,Kr)=>Kr.toUpperCase())}function isNumeric(ze){return!Array.isArray(ze)&&!isNaN(ze)}function kebabCase2(ze){return[" ","_"].includes(ze)?ze:ze.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(ze){return["keydown","keyup"].includes(ze)}function isClickEvent(ze){return["contextmenu","click","mouse"].some(Qr=>ze.includes(Qr))}function isListeningForASpecificKeyThatHasntBeenPressed(ze,Qr){let Kr=Qr.filter(Jr=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(Jr));if(Kr.includes("debounce")){let Jr=Kr.indexOf("debounce");Kr.splice(Jr,isNumeric((Kr[Jr+1]||"invalid-wait").split("ms")[0])?2:1)}if(Kr.includes("throttle")){let Jr=Kr.indexOf("throttle");Kr.splice(Jr,isNumeric((Kr[Jr+1]||"invalid-wait").split("ms")[0])?2:1)}if(Kr.length===0||Kr.length===1&&keyToModifiers(ze.key).includes(Kr[0]))return!1;const Wr=["ctrl","shift","alt","meta","cmd","super"].filter(Jr=>Kr.includes(Jr));return Kr=Kr.filter(Jr=>!Wr.includes(Jr)),!(Wr.length>0&&Wr.filter(Zr=>((Zr==="cmd"||Zr==="super")&&(Zr="meta"),ze[`${Zr}Key`])).length===Wr.length&&(isClickEvent(ze.type)||keyToModifiers(ze.key).includes(Kr[0])))}function keyToModifiers(ze){if(!ze)return[];ze=kebabCase2(ze);let Qr={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return Qr[ze]=ze,Object.keys(Qr).map(Kr=>{if(Qr[Kr]===ze)return Kr}).filter(Kr=>Kr)}directive("model",(ze,{modifiers:Qr,expression:Kr},{effect:Gr,cleanup:Wr})=>{let Jr=ze;Qr.includes("parent")&&(Jr=ze.parentNode);let Zr=evaluateLater(Jr,Kr),Yr;typeof Kr=="string"?Yr=evaluateLater(Jr,`${Kr} = __placeholder`):typeof Kr=="function"&&typeof Kr()=="string"?Yr=evaluateLater(Jr,`${Kr()} = __placeholder`):Yr=()=>{};let en=()=>{let an;return Zr(sn=>an=sn),isGetterSetter(an)?an.get():an},tn=an=>{let sn;Zr(cn=>sn=cn),isGetterSetter(sn)?sn.set(an):Yr(()=>{},{scope:{__placeholder:an}})};typeof Kr=="string"&&ze.type==="radio"&&mutateDom(()=>{ze.hasAttribute("name")||ze.setAttribute("name",Kr)});var rn=ze.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(ze.type)||Qr.includes("lazy")?"change":"input";let nn=isCloning?()=>{}:on(ze,rn,Qr,an=>{tn(getInputValue(ze,Qr,an,en()))});if(Qr.includes("fill")&&([void 0,null,""].includes(en())||isCheckbox(ze)&&Array.isArray(en())||ze.tagName.toLowerCase()==="select"&&ze.multiple)&&tn(getInputValue(ze,Qr,{target:ze},en())),ze._x_removeModelListeners||(ze._x_removeModelListeners={}),ze._x_removeModelListeners.default=nn,Wr(()=>ze._x_removeModelListeners.default()),ze.form){let an=on(ze.form,"reset",[],sn=>{nextTick(()=>ze._x_model&&ze._x_model.set(getInputValue(ze,Qr,{target:ze},en())))});Wr(()=>an())}ze._x_model={get(){return en()},set(an){tn(an)}},ze._x_forceModelUpdate=an=>{an===void 0&&typeof Kr=="string"&&Kr.match(/\./)&&(an=""),window.fromModel=!0,mutateDom(()=>bind(ze,"value",an)),delete window.fromModel},Gr(()=>{let an=en();Qr.includes("unintrusive")&&document.activeElement.isSameNode(ze)||ze._x_forceModelUpdate(an)})});function getInputValue(ze,Qr,Kr,Gr){return mutateDom(()=>{if(Kr instanceof CustomEvent&&Kr.detail!==void 0)return Kr.detail!==null&&Kr.detail!==void 0?Kr.detail:Kr.target.value;if(isCheckbox(ze))if(Array.isArray(Gr)){let Wr=null;return Qr.includes("number")?Wr=safeParseNumber(Kr.target.value):Qr.includes("boolean")?Wr=safeParseBoolean(Kr.target.value):Wr=Kr.target.value,Kr.target.checked?Gr.includes(Wr)?Gr:Gr.concat([Wr]):Gr.filter(Jr=>!checkedAttrLooseCompare2(Jr,Wr))}else return Kr.target.checked;else{if(ze.tagName.toLowerCase()==="select"&&ze.multiple)return Qr.includes("number")?Array.from(Kr.target.selectedOptions).map(Wr=>{let Jr=Wr.value||Wr.text;return safeParseNumber(Jr)}):Qr.includes("boolean")?Array.from(Kr.target.selectedOptions).map(Wr=>{let Jr=Wr.value||Wr.text;return safeParseBoolean(Jr)}):Array.from(Kr.target.selectedOptions).map(Wr=>Wr.value||Wr.text);{let Wr;return isRadio(ze)?Kr.target.checked?Wr=Kr.target.value:Wr=Gr:Wr=Kr.target.value,Qr.includes("number")?safeParseNumber(Wr):Qr.includes("boolean")?safeParseBoolean(Wr):Qr.includes("trim")?Wr.trim():Wr}}})}function safeParseNumber(ze){let Qr=ze?parseFloat(ze):null;return isNumeric2(Qr)?Qr:ze}function checkedAttrLooseCompare2(ze,Qr){return ze==Qr}function isNumeric2(ze){return!Array.isArray(ze)&&!isNaN(ze)}function isGetterSetter(ze){return ze!==null&&typeof ze=="object"&&typeof ze.get=="function"&&typeof ze.set=="function"}directive("cloak",ze=>queueMicrotask(()=>mutateDom(()=>ze.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((ze,{expression:Qr},{evaluate:Kr})=>typeof Qr=="string"?!!Qr.trim()&&Kr(Qr,{},!1):Kr(Qr,{},!1)));directive("text",(ze,{expression:Qr},{effect:Kr,evaluateLater:Gr})=>{let Wr=Gr(Qr);Kr(()=>{Wr(Jr=>{mutateDom(()=>{ze.textContent=Jr})})})});directive("html",(ze,{expression:Qr},{effect:Kr,evaluateLater:Gr})=>{let Wr=Gr(Qr);Kr(()=>{Wr(Jr=>{mutateDom(()=>{ze.innerHTML=Jr,ze._x_ignoreSelf=!0,initTree(ze),delete ze._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(ze,{value:Qr,modifiers:Kr,expression:Gr,original:Wr},{effect:Jr,cleanup:Zr})=>{if(!Qr){let en={};injectBindingProviders(en),evaluateLater(ze,Gr)(rn=>{applyBindingsObject(ze,rn,Wr)},{scope:en});return}if(Qr==="key")return storeKeyForXFor(ze,Gr);if(ze._x_inlineBindings&&ze._x_inlineBindings[Qr]&&ze._x_inlineBindings[Qr].extract)return;let Yr=evaluateLater(ze,Gr);Jr(()=>Yr(en=>{en===void 0&&typeof Gr=="string"&&Gr.match(/\./)&&(en=""),mutateDom(()=>bind(ze,Qr,en,Kr))})),Zr(()=>{ze._x_undoAddedClasses&&ze._x_undoAddedClasses(),ze._x_undoAddedStyles&&ze._x_undoAddedStyles()})};handler2.inline=(ze,{value:Qr,modifiers:Kr,expression:Gr})=>{Qr&&(ze._x_inlineBindings||(ze._x_inlineBindings={}),ze._x_inlineBindings[Qr]={expression:Gr,extract:!1})};directive("bind",handler2);function storeKeyForXFor(ze,Qr){ze._x_keyExpression=Qr}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(ze,{expression:Qr},{cleanup:Kr})=>{if(shouldSkipRegisteringDataDuringClone(ze))return;Qr=Qr===""?"{}":Qr;let Gr={};injectMagics(Gr,ze);let Wr={};injectDataProviders(Wr,Gr);let Jr=evaluate(ze,Qr,{scope:Wr});(Jr===void 0||Jr===!0)&&(Jr={}),injectMagics(Jr,ze);let Zr=reactive(Jr);initInterceptors(Zr);let Yr=addScopeToNode(ze,Zr);Zr.init&&evaluate(ze,Zr.init),Kr(()=>{Zr.destroy&&evaluate(ze,Zr.destroy),Yr()})});interceptClone((ze,Qr)=>{ze._x_dataStack&&(Qr._x_dataStack=ze._x_dataStack,Qr.setAttribute("data-has-alpine-state",!0))});function shouldSkipRegisteringDataDuringClone(ze){return isCloning?isCloningLegacy?!0:ze.hasAttribute("data-has-alpine-state"):!1}directive("show",(ze,{modifiers:Qr,expression:Kr},{effect:Gr})=>{let Wr=evaluateLater(ze,Kr);ze._x_doHide||(ze._x_doHide=()=>{mutateDom(()=>{ze.style.setProperty("display","none",Qr.includes("important")?"important":void 0)})}),ze._x_doShow||(ze._x_doShow=()=>{mutateDom(()=>{ze.style.length===1&&ze.style.display==="none"?ze.removeAttribute("style"):ze.style.removeProperty("display")})});let Jr=()=>{ze._x_doHide(),ze._x_isShown=!1},Zr=()=>{ze._x_doShow(),ze._x_isShown=!0},Yr=()=>setTimeout(Zr),en=once(nn=>nn?Zr():Jr(),nn=>{typeof ze._x_toggleAndCascadeWithTransitions=="function"?ze._x_toggleAndCascadeWithTransitions(ze,nn,Zr,Jr):nn?Yr():Jr()}),tn,rn=!0;Gr(()=>Wr(nn=>{!rn&&nn===tn||(Qr.includes("immediate")&&(nn?Yr():Jr()),en(nn),tn=nn,rn=!1)}))});directive("for",(ze,{expression:Qr},{effect:Kr,cleanup:Gr})=>{let Wr=parseForExpression(Qr),Jr=evaluateLater(ze,Wr.items),Zr=evaluateLater(ze,ze._x_keyExpression||"index");ze._x_prevKeys=[],ze._x_lookup={},Kr(()=>loop(ze,Wr,Jr,Zr)),Gr(()=>{Object.values(ze._x_lookup).forEach(Yr=>mutateDom(()=>{destroyTree(Yr),Yr.remove()})),delete ze._x_prevKeys,delete ze._x_lookup})});function loop(ze,Qr,Kr,Gr){let Wr=Zr=>typeof Zr=="object"&&!Array.isArray(Zr),Jr=ze;Kr(Zr=>{isNumeric3(Zr)&&Zr>=0&&(Zr=Array.from(Array(Zr).keys(),ln=>ln+1)),Zr===void 0&&(Zr=[]);let Yr=ze._x_lookup,en=ze._x_prevKeys,tn=[],rn=[];if(Wr(Zr))Zr=Object.entries(Zr).map(([ln,un])=>{let dn=getIterationScopeVariables(Qr,un,ln,Zr);Gr(pn=>{rn.includes(pn)&&warn("Duplicate key on x-for",ze),rn.push(pn)},{scope:{index:ln,...dn}}),tn.push(dn)});else for(let ln=0;ln<Zr.length;ln++){let un=getIterationScopeVariables(Qr,Zr[ln],ln,Zr);Gr(dn=>{rn.includes(dn)&&warn("Duplicate key on x-for",ze),rn.push(dn)},{scope:{index:ln,...un}}),tn.push(un)}let nn=[],an=[],sn=[],cn=[];for(let ln=0;ln<en.length;ln++){let un=en[ln];rn.indexOf(un)===-1&&sn.push(un)}en=en.filter(ln=>!sn.includes(ln));let fn="template";for(let ln=0;ln<rn.length;ln++){let un=rn[ln],dn=en.indexOf(un);if(dn===-1)en.splice(ln,0,un),nn.push([fn,ln]);else if(dn!==ln){let pn=en.splice(ln,1)[0],hn=en.splice(dn-1,1)[0];en.splice(ln,0,hn),en.splice(dn,0,pn),an.push([pn,hn])}else cn.push(un);fn=un}for(let ln=0;ln<sn.length;ln++){let un=sn[ln];un in Yr&&(mutateDom(()=>{destroyTree(Yr[un]),Yr[un].remove()}),delete Yr[un])}for(let ln=0;ln<an.length;ln++){let[un,dn]=an[ln],pn=Yr[un],hn=Yr[dn],vn=document.createElement("div");mutateDom(()=>{hn||warn('x-for ":key" is undefined or invalid',Jr,dn,Yr),hn.after(vn),pn.after(hn),hn._x_currentIfEl&&hn.after(hn._x_currentIfEl),vn.before(pn),pn._x_currentIfEl&&pn.after(pn._x_currentIfEl),vn.remove()}),hn._x_refreshXForScope(tn[rn.indexOf(dn)])}for(let ln=0;ln<nn.length;ln++){let[un,dn]=nn[ln],pn=un==="template"?Jr:Yr[un];pn._x_currentIfEl&&(pn=pn._x_currentIfEl);let hn=tn[dn],vn=rn[dn],An=document.importNode(Jr.content,!0).firstElementChild,bn=reactive(hn);addScopeToNode(An,bn,Jr),An._x_refreshXForScope=xn=>{Object.entries(xn).forEach(([Ln,yn])=>{bn[Ln]=yn})},mutateDom(()=>{pn.after(An),skipDuringClone(()=>initTree(An))()}),typeof vn=="object"&&warn("x-for key cannot be an object, it must be a string or an integer",Jr),Yr[vn]=An}for(let ln=0;ln<cn.length;ln++)Yr[cn[ln]]._x_refreshXForScope(tn[rn.indexOf(cn[ln])]);Jr._x_prevKeys=rn})}function parseForExpression(ze){let Qr=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Kr=/^\s*\(|\)\s*$/g,Gr=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Wr=ze.match(Gr);if(!Wr)return;let Jr={};Jr.items=Wr[2].trim();let Zr=Wr[1].replace(Kr,"").trim(),Yr=Zr.match(Qr);return Yr?(Jr.item=Zr.replace(Qr,"").trim(),Jr.index=Yr[1].trim(),Yr[2]&&(Jr.collection=Yr[2].trim())):Jr.item=Zr,Jr}function getIterationScopeVariables(ze,Qr,Kr,Gr){let Wr={};return/^\[.*\]$/.test(ze.item)&&Array.isArray(Qr)?ze.item.replace("[","").replace("]","").split(",").map(Zr=>Zr.trim()).forEach((Zr,Yr)=>{Wr[Zr]=Qr[Yr]}):/^\{.*\}$/.test(ze.item)&&!Array.isArray(Qr)&&typeof Qr=="object"?ze.item.replace("{","").replace("}","").split(",").map(Zr=>Zr.trim()).forEach(Zr=>{Wr[Zr]=Qr[Zr]}):Wr[ze.item]=Qr,ze.index&&(Wr[ze.index]=Kr),ze.collection&&(Wr[ze.collection]=Gr),Wr}function isNumeric3(ze){return!Array.isArray(ze)&&!isNaN(ze)}function handler3(){}handler3.inline=(ze,{expression:Qr},{cleanup:Kr})=>{let Gr=closestRoot(ze);Gr._x_refs||(Gr._x_refs={}),Gr._x_refs[Qr]=ze,Kr(()=>delete Gr._x_refs[Qr])};directive("ref",handler3);directive("if",(ze,{expression:Qr},{effect:Kr,cleanup:Gr})=>{ze.tagName.toLowerCase()!=="template"&&warn("x-if can only be used on a <template> tag",ze);let Wr=evaluateLater(ze,Qr),Jr=()=>{if(ze._x_currentIfEl)return ze._x_currentIfEl;let Yr=ze.content.cloneNode(!0).firstElementChild;return addScopeToNode(Yr,{},ze),mutateDom(()=>{ze.after(Yr),skipDuringClone(()=>initTree(Yr))()}),ze._x_currentIfEl=Yr,ze._x_undoIf=()=>{mutateDom(()=>{destroyTree(Yr),Yr.remove()}),delete ze._x_currentIfEl},Yr},Zr=()=>{ze._x_undoIf&&(ze._x_undoIf(),delete ze._x_undoIf)};Kr(()=>Wr(Yr=>{Yr?Jr():Zr()})),Gr(()=>ze._x_undoIf&&ze._x_undoIf())});directive("id",(ze,{expression:Qr},{evaluate:Kr})=>{Kr(Qr).forEach(Wr=>setIdRoot(ze,Wr))});interceptClone((ze,Qr)=>{ze._x_ids&&(Qr._x_ids=ze._x_ids)});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((ze,{value:Qr,modifiers:Kr,expression:Gr},{cleanup:Wr})=>{let Jr=Gr?evaluateLater(ze,Gr):()=>{};ze.tagName.toLowerCase()==="template"&&(ze._x_forwardEvents||(ze._x_forwardEvents=[]),ze._x_forwardEvents.includes(Qr)||ze._x_forwardEvents.push(Qr));let Zr=on(ze,Qr,Kr,Yr=>{Jr(()=>{},{scope:{$event:Yr},params:[Yr]})});Wr(()=>Zr())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(ze,Qr,Kr){directive(Qr,Gr=>warn(`You can't use [x-${Qr}] without first installing the "${ze}" plugin here: https://alpinejs.dev/plugins/${Kr}`,Gr))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop,raw:toRaw});var src_default=alpine_default,module_default=src_default;const STORAGE_KEY="state",defaultState={currentRoute:"/",user:null,navigationBlocked:!1,isAuthenticated:!1,timeUp:!1,data:{},filters:{}};let state={...defaultState};const subscribers=[];function loadFromStorage(){try{const ze=sessionStorage.getItem(STORAGE_KEY);if(ze){const Qr=JSON.parse(ze);return typeof Qr.user=="string"&&(Qr.user=JSON.parse(Qr.user)),{...defaultState,...Qr}}}catch(ze){return console.error("Error loading state:",ze),{...defaultState}}}function updateState(ze){try{state={...state,...ze},sessionStorage.setItem(STORAGE_KEY,JSON.stringify(state)),subscribers.forEach(Qr=>Qr(state))}catch(Qr){console.error("Error updating state:",Qr),state={...defaultState}}}function getState(){return{...loadFromStorage()}}const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"staging",PROD:!0,SSR:!1,VITE_AUTH_REQUIRED:"true",VITE_CLIENT_URL:"https://forms.blackbao.xyz/",VITE_DEBUG:"true",VITE_SERVER_URL:"https://api.blackbao.xyz/",VITE_WEB_VERSION:"0.0.81"},env=__vite_import_meta_env__,SERVER_URL=env.VITE_SERVER_URL,WEB_VERSION=env.VITE_WEB_VERSION,SIMULATION_DEFAULT_TIME_GENERAL=60,SIMULATION_DEFAULT_TIME_SPECIFIC=75,SIMULATION_DEFAULT_NUMBER_QUESTIONS_GENERAL=40,SIMULATION_DEFAULT_NUMBER_QUESTIONS_SPECIFIC=65,STUDY_DEFAULT_VALUE=10,STUDY_MIN_QUESTIONS=5,STUDY_MAX_QUESTIONS=25,DASHBOARD_TABLE_HISTORY_AMOUNT=5,SUCCESS_THRESHOLD=.8,REFRESH_TOKEN_TIME_INTERVAL=60*10,REFRESH_TOKEN_RENEW_CHECKPOINT=60*60*6,SUBMISSION_ENDPOINT="questions/submissions/",STATS_ENDPOINT="users/stats/",translations={en:{statusDisputed:"Disputed",statusNotDisputed:"Not disputed",enterDisputeReason:"Enter your dispute reason",confirmDispute:"Confirm",confirm:"Confirm",cancelDispute:"Cancel",cancel:"Cancel",openDispute:"Open Dispute",explanationButton:"Explanation",submitAnswer:"Submit answer",floatingSubmit:"Submit",emptyExplanation:"No explanation provided",noResults:"No results found",userNotLoggedIn:"User is not logged in",registrationSuccessful:"Registration successful",registrationFailed:"Registration failed. Please try again",loginSuccessful:"Registration successful",unknownErrorCode:"UNKNOWN_ERROR",unknownErrorMessage:"An unknown error occurred",responseMapError:"An unknown error occurred when trying to handle the server's response",allQuestionsNotAnswered:"Please answer all questions before submitting",submitConfirmation:"Are you sure you want to submit the answers?",authenticationDetails:"Authentication details",modalInformation:"Information",modalButton:"OK",question:"Question",answer:"Your Answer",correctAnswer:"Correct Answer",explanation:"Explanation",blacklistedInfo:"Are you sure you don't want to see this question again?",blacklistError:"Failed to unlist question",blackListSuccess:"Question unlist successfully"},es:{statusDisputed:"Impugnado",statusNotDisputed:"No impugnado",enterDisputeReason:"Describa el motivo de su impugna",confirm:"Confirmar",confirmDispute:"Confirmar",cancelDispute:"Cancelar",cancel:"Cancelar",openDispute:"Impugnar",explanationButton:"Explicación",submitAnswer:"Enviar respuesta",floatingSubmit:"Enviar todo",emptyExplanation:"No hay explicación proporcionada",noResults:"No se encontraron resultados",userNotLoggedIn:"El usuario no tiene una sesión activa",registrationSuccessful:"Registro realizado con éxito",registrationFailed:"Registro fallido. Por favor, inténtelo de nuevo",loginSuccessful:"Inicio de sesión exitoso",unknownErrorCode:"ERROR_DESCONOCIDO",unknownErrorMessage:"Ha ocurrido un error desconocido",responseMapError:"Ha ocurrido un error desconocido al intentar traducir la respuesta del servidor",allQuestionsNotAnswered:"Por favor responda todas las preguntas antes de enviar",submitConfirmation:"¿Estás seguro de enviar las respuestas?",authenticationDetails:"Detalles de autenticación",modalInformation:"Información",modalButton:"Aceptar",question:"Pregunta",answer:"Su respuesta",correctAnswer:"Respuesta correcta",explanation:"Explicación",blacklistedInfo:"¿Estás seguro de que no quieres volver a ver esta pregunta?",blacklistError:"Error al excluir la pregunta de la lista",blackListSuccess:"Pregunta excluida satisfactoriamente"}},userLanguage="es";function showErrorModal(ze,Qr={}){const Kr=`[ERROR]: ${ze.code}: ${ze.message} ${ze.details?`${JSON.stringify(ze.details)}`:""}`;alert(Kr),console.log(`${Kr}${Qr?` (${JSON.stringify(Qr)})`:""}`)}const types={success:`<span class="text-green-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M360 688C541.149 688 688 541.149 688 360C688 178.851 541.149 32 360 32C178.851 32 32 178.851 32 360C32 541.149 178.851 688 360 688Z" stroke="#2D4C1C" stroke-width="38.7163" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M591.236 228.916C587.206 224.91 581.755 222.661 576.072 222.661C570.39 222.661 564.939 224.91 560.909 228.916L322.158 466.591L193.103 337.537C189.167 333.287 183.704 330.775 177.916 330.553C172.127 330.331 166.488 332.418 162.238 336.354C157.988 340.29 155.476 345.753 155.254 351.541C155.032 357.33 157.119 362.969 161.055 367.219L322.158 527.892L591.236 259.459C593.252 257.459 594.853 255.08 595.945 252.459C597.036 249.838 597.599 247.027 597.599 244.187C597.599 241.348 597.036 238.536 595.945 235.915C594.853 233.294 593.252 230.915 591.236 228.916Z" fill="#2D4C1C"/>
				</svg>
            </span>`,error:`<span class="text-red-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clip-path="url(#clip0_335_1226)">
					<path d="M524.672 198.761L207.424 521.371" stroke="#782324" stroke-width="40.55" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M524.672 521.371L207.424 198.761" stroke="#782324" stroke-width="40" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M365.54 -1C295.413 -1 226.86 20.1467 168.551 59.7659C110.243 99.3851 64.7964 155.697 37.9598 221.582C11.1232 287.466 4.10149 359.963 17.7827 429.906C31.4639 499.848 65.2334 564.094 114.821 614.52C164.409 664.946 227.587 699.286 296.367 713.199C365.147 727.111 436.439 719.971 501.229 692.68C566.018 665.39 621.394 619.176 660.355 559.882C699.316 500.587 720.111 430.876 720.111 359.563C720.111 263.936 682.755 172.225 616.26 104.607C549.765 36.9878 459.578 -1 365.54 -1ZM365.54 675.056C304.179 675.056 244.195 656.553 193.175 621.886C142.155 587.219 102.389 537.946 78.9074 480.297C55.4253 422.648 49.2813 359.213 61.2524 298.014C73.2234 236.814 102.772 180.599 146.161 136.476C189.55 92.3537 244.831 62.3059 305.014 50.1325C365.196 37.9592 427.577 44.207 484.268 68.0859C540.958 91.9648 589.413 132.402 623.503 184.285C657.594 236.167 675.79 297.165 675.79 359.563C675.79 443.237 643.103 523.484 584.92 582.651C526.737 641.817 447.824 675.056 365.54 675.056Z" fill="#782324"/>
					</g>
				</svg>
            </span>`,info:`<span class="text-blue-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M360.333 527V327" stroke="#1C274C" stroke-width="50" stroke-linecap="round"/>
					<path d="M360.333 193.666C378.743 193.666 393.667 208.59 393.667 227C393.667 245.409 378.743 260.333 360.333 260.333C341.924 260.333 327 245.409 327 227C327 208.59 341.924 193.666 360.333 193.666Z" fill="#1C274C"/>
					<path d="M27 360.333C27 203.198 27 124.631 75.8157 75.8157C124.631 27 203.198 27 360.333 27C517.467 27 596.037 27 644.85 75.8157C693.667 124.631 693.667 203.198 693.667 360.333C693.667 517.467 693.667 596.037 644.85 644.85C596.037 693.667 517.467 693.667 360.333 693.667C203.198 693.667 124.631 693.667 75.8157 644.85C27 596.037 27 517.467 27 360.333Z" stroke="#1C274C" stroke-width="50"/>
				</svg>
            </span>`,warning:`<span class="text-yellow-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M323.234 10.5224C357.893 -10.9544 401.161 1.52498 422.422 38.1271L425.182 43.2669L683.814 565.658C689.974 578.1 693.205 592.09 693.205 606.313C693.205 650.722 662.367 687.074 623.34 690.026L618.205 690.219H101.014C88.3034 690.219 75.8016 686.606 64.6821 679.717C30.0208 658.245 16.5194 610.593 32.9713 571.011L35.4012 565.667L293.961 43.2756C300.779 29.5014 310.923 18.1512 323.234 10.5224ZM640.075 592.762L381.443 70.3701C374.753 56.8576 359.539 51.9709 347.46 59.4552C344.383 61.3624 341.711 63.9674 339.609 67.0877L337.703 70.373L79.1429 592.764C72.4544 606.278 76.8243 623.298 88.9032 630.781C91.6831 632.503 94.7221 633.611 97.8553 634.058L101.014 634.282H618.205C632.013 634.282 643.205 621.76 643.205 606.313C643.205 602.757 642.6 599.245 641.43 595.962L640.075 592.762ZM359.603 503.504C377.988 503.504 392.891 520.178 392.891 540.746C392.891 561.314 377.988 577.988 359.603 577.988C341.218 577.988 326.314 561.314 326.314 540.746C326.314 520.178 341.218 503.504 359.603 503.504ZM359.463 223.733C372.119 223.722 382.587 234.235 384.252 247.885L384.483 251.68L384.603 419.552C384.614 434.998 373.43 447.53 359.623 447.543C346.966 447.554 336.499 437.041 334.834 423.391L334.603 419.596L334.483 251.724C334.472 236.278 345.656 223.746 359.463 223.733Z" fill="#A58E4A"/>
				</svg>
            </span>`,debug:`<span class="text-zinc-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M492.129 330.263C431.354 330.263 383.749 362.396 383.749 403.419C383.749 444.441 431.355 476.575 492.129 476.575C552.904 476.575 600.509 444.442 600.509 403.419C600.51 362.396 552.904 330.263 492.129 330.263Z" fill="#666666"/>
					<path d="M459.347 524.735L410.342 402.222C415.992 392.935 419.249 382.038 419.249 370.396C419.249 336.532 391.699 308.981 357.834 308.981C323.969 308.981 296.42 336.531 296.42 370.396C296.42 380.087 298.684 389.256 302.699 397.415L291.542 425.305L244.575 401.822L195.411 524.735H158.226V553.63H214.974L259.741 441.71L306.708 465.194L324.11 421.687C333.797 428.077 345.385 431.811 357.833 431.811C368.752 431.811 379.005 428.934 387.899 423.917L439.784 553.63H494.331V524.735H459.347Z" fill="#414141"/>
					<path d="M459.347 524.735L410.342 402.222C415.992 392.935 419.249 382.038 419.249 370.396C419.249 336.532 391.699 308.981 357.834 308.981C357.834 346.454 357.834 395.577 357.834 431.811C368.753 431.811 379.006 428.934 387.9 423.917L439.785 553.63H494.332V524.735H459.347Z" fill="black"/>
					<path d="M274.995 229.59L243.979 177.896H123V149H260.34L299.772 214.724L274.995 229.59Z" fill="black"/>
					<path d="M352.949 227.616C340.362 212.459 320.442 204.773 293.744 204.773C270.871 204.773 243.225 215.744 211.572 237.381C188.899 252.88 172.502 268.223 171.815 268.869L160.612 279.396L171.815 289.924C172.502 290.569 188.899 305.914 211.572 321.411C243.225 343.048 270.871 354.019 293.744 354.019C320.442 354.019 340.361 346.334 352.949 331.176C363.323 318.683 368.367 301.745 368.367 279.395C368.367 257.045 363.324 240.11 352.949 227.616Z" fill="#666666"/>
					<path d="M295.728 260.775H266.833V289.671H295.728V260.775Z" fill="black"/>
					<path d="M579.001 524.735L502.6 331.914L455.602 395.283L477.609 414.117L494.868 390.846L559.368 553.631H616.151V524.735H579.001Z" fill="black"/>
					<path d="M25 360.333C25 203.198 25 124.631 73.8157 75.8157C122.631 27 201.198 27 358.333 27C515.467 27 594.037 27 642.85 75.8157C691.667 124.631 691.667 203.198 691.667 360.333C691.667 517.467 691.667 596.037 642.85 644.85C594.037 693.667 515.467 693.667 358.333 693.667C201.198 693.667 122.631 693.667 73.8157 644.85C25 596.037 25 517.467 25 360.333Z" stroke="#1C274C" stroke-width="50"/>
				</svg>
            </span>`};function showModalX(ze="success",Qr="Notification",Kr="This is a notification."){let Gr=document.querySelector("#notification-container");Gr||(Gr=document.createElement("div"),Gr.id="notification-container",Gr.className=`
            fixed top-4 right-4 sm:top-4 sm:right-4 lg:top-8 lg:right-8
            flex flex-col space-y-4 z-50
        `,document.body.appendChild(Gr));const Wr=document.createElement("div");Wr.setAttribute("role","alert"),Wr.className=`
        p-4 rounded-xl bg-zinc-500/75 text-white shadow-lg w-80 max-w-full z-50
        transform translate-x-full opacity-0
        transition-all duration-300 ease-in-out
    `,Wr.innerHTML=`
        <div class="flex items-start">
            ${types[ze]}
            <div class="ml-3 flex-1">
                <strong class="block text-lg font-medium text-white">${Qr}</strong>
                <p class="text-sm text-zinc-300 mt-1">${Kr}</p>
            </div>

            <button class="text-zinc-500 hover:text-zinc-400 ml-3" onclick="this.closest('div[role=alert]').remove()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    `,Gr.prepend(Wr),requestAnimationFrame(()=>{Wr.classList.remove("translate-x-full","opacity-0"),Wr.classList.add("translate-x-0","opacity-100")});let Jr=setTimeout(()=>Zr(),5e3);Wr.onmouseover=()=>clearTimeout(Jr),Wr.onmouseleave=()=>{Jr=setTimeout(()=>Zr(),5e3)};function Zr(){Wr.classList.remove("translate-x-0","opacity-100"),Wr.classList.add("translate-x-full","opacity-0"),Wr.addEventListener("transitionend",()=>{Wr.remove(),Gr.children.length||Gr.remove()},{once:!0})}}async function apiRequest$1(ze,Qr="GET",Kr={}){try{ze.charAt(0)==="/"&&(ze=ze.slice(1));const Gr=await fetch(SERVER_URL+ze,{method:Qr,headers:{"Content-Type":"application/json"},credentials:"include",...Kr});if(!Gr.ok)return{response:null,error:await mapServerErrorResponse(Gr)};let Wr=null;return[101,204,205,304].includes(Gr.status)||(Wr=await Gr.json()),{response:Wr,error:null}}catch(Gr){let Wr;return console.error("Unknown error:",Gr),Gr instanceof TypeError&&Gr.message.includes("fetch")?Wr=new WebError(Gr,"NETWORK_ERROR","Cannot connect to server. Please check your network connection and try again."):(console.error("Unknown error:",Gr),Wr=new WebError(Gr,"UNKNOWN_ERROR","An unknown error occurred")),showErrorModal(Wr.toJSON()),{response:null,error:Wr}}}async function submitAnswers(ze,Qr){const Kr={answers:ze,submissionType:Qr||"undefined"},{response:Gr,error:Wr}=await apiRequest$1(SUBMISSION_ENDPOINT,"POST",{body:JSON.stringify(Kr)});if(Wr)return{response:Gr,error:Wr};const{response:Jr,error:Zr}=await apiRequest$1(STATS_ENDPOINT,"POST",{body:JSON.stringify(Kr)});return Wr?{statsResponse:Jr,statsError:Zr}:{response:Gr,error:Wr}}function extractSerializableResponse(ze){return ze instanceof Response?{url:ze.url||null,status:ze.status||null,statusText:ze.statusText||null,headers:ze.headers?[...ze.headers.entries()]:[],ok:ze.ok||!1,redirected:ze.redirected||!1,type:ze.type||null}:ze}function safeJSONParse(ze){if(!ze)return null;if(typeof ze!="string")return ze;try{let Qr=ze;for(;typeof Qr=="string"&&(Qr.startsWith("[")||Qr.startsWith("{"));)Qr=JSON.parse(Qr);return typeof Qr=="object"&&Qr!==null&&Object.keys(Qr).forEach(Kr=>{if(typeof Qr[Kr]=="string")try{(Qr[Kr].startsWith("{")||Qr[Kr].startsWith("["))&&(Qr[Kr]=JSON.parse(Qr[Kr]))}catch(Gr){console.error("safeJSONParse parsing failed",Gr)}}),Qr}catch(Qr){return console.warn("JSON parse error:",Qr),null}}function normalizeText(ze){return ze.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}const DEFAULT_MESSAGES={UNKNOWN_ERROR_CODE:translations[userLanguage].unknownErrorCode,UNKNOWN_ERROR_MESSAGE:translations[userLanguage].unknownErrorMessage,RESPONSE_MAP_ERROR:translations[userLanguage].responseMapError};class WebError extends Error{constructor(Qr,Kr,Gr,Wr={},Jr={}){super(),this.originalError=Qr,this.name="WebError",this.message=Gr||DEFAULT_MESSAGES.UNKNOWN_ERROR_MESSAGE,this.code=Kr||DEFAULT_MESSAGES.UNKNOWN_ERROR_CODE,this.level="error",this.stack=new Error().stack,Object.keys(Wr).length>0&&(this.context=Wr),Object.keys(Jr).length>0&&(this.details=Jr)}toJSON(){const{message:Qr,name:Kr,code:Gr,level:Wr,stack:Jr,originalError:Zr,context:Yr,details:en}=this;return{level:Wr,name:Kr,code:Gr,message:Qr,stack:Jr,originalError:Zr,...Yr&&{context:Yr},...en&&{details:en}}}}async function mapServerErrorResponse(ze){try{const Kr=(await ze.json()).error||{},Gr=Kr.code||DEFAULT_MESSAGES.UNKNOWN_ERROR_CODE,Wr=Kr.message||DEFAULT_MESSAGES.UNKNOWN_ERROR_MESSAGE,Jr=Kr.details?Kr.details:"No additional details";return new WebError(null,Gr,Wr,extractSerializableResponse(ze),Jr)}catch(Qr){const Kr=Qr.message||DEFAULT_MESSAGES.RESPONSE_MAP_ERROR;return new WebError(Qr,"PARSE_ERROR",Kr,extractSerializableResponse(ze),"No additional details")}}class SchemaBuilder{number(Qr=void 0){return{type:"number",...Qr!==void 0&&{default:Qr}}}array(Qr){return{type:"array",itemType:Qr}}string(Qr=0,Kr=1/0){return{type:"string",minLength:Qr,maxLength:Kr}}date(Qr="ISO"){return{type:"date",format:Qr}}enum(Qr){return{type:"enum",values:Qr}}object(Qr){return{type:"object",properties:Qr}}}class EndpointBuilder{constructor(Qr="v1"){this.basePath=`/api/${Qr}`}create(Qr){return`/${Qr}`}}class APIContractFactory{constructor(Qr="v1"){this.schema=new SchemaBuilder,this.endpoint=new EndpointBuilder(Qr)}createContract(){const Qr={validateParams:this.validateParams,buildQueryString:this.buildQueryString};return{endpoints:{QUESTIONS:{BASE:this.endpoint.create("questions/"),SELF:this.endpoint.create("questions/self"),SUBMISSIONS:this.endpoint.create("questions/submissions"),LAST_SUBMISSION:this.endpoint.create("questions/submissions/last"),DISPUTES:this.endpoint.create("questions/disputes"),SUBMIT:this.endpoint.create("questions/submit"),BLACKLIST:this.endpoint.create("questions/blacklist")},USERS:{SELF:this.endpoint.create("users/self/"),BASE:this.endpoint.create("users"),PROFILE:this.endpoint.create("users/profile"),STATS:this.endpoint.create("users/stats")},AUTH:{LOGIN:this.endpoint.create("login"),LOGOUT:this.endpoint.create("logout"),REFRESH:this.endpoint.create("refresh")}},schemas:{QUESTIONS:{BASE:{amount:this.schema.number(10),yearFrom:this.schema.number(),yearTo:this.schema.number(),regions:this.schema.array("number")},SELF:{GET:{amount:this.schema.number(10),yearFrom:this.schema.number(),yearTo:this.schema.number(),regions:this.schema.array("number"),topics:this.schema.array("string")}},DISPUTES:{POST:{id:this.schema.number(),reason:this.schema.string(0,500)}},BLACKLIST:{POST:{id:this.schema.number()}},SUBMISSIONS:{POST:{answers:this.schema.array("object"),submissionType:this.schema.enum(["undefined"])},GET:{amount:this.schema.number(5),startDate:this.schema.date(),endDate:this.schema.date()}}},USERS:{STATS:{answers:this.schema.array("object"),submissionType:this.schema.enum(["eir"])},PROFILE:{name:this.schema.string(),email:this.schema.string()}},AUTH:{LOGIN:{POST:{email:this.schema.string(10,50),password:this.schema.string(10,50)}},LOGOUT:{POST:{}},REFRESH:{POST:{}}}},getSchemaForEndpoint(Kr,Gr="GET"){var en;const[Wr,Jr]=Kr.split("."),Yr=(en=(this.schemas||{})[Wr])==null?void 0:en[Jr];return Yr&&Yr[Gr]||null},getSchemaForEndpoint2(Kr){var Zr,Yr;const[Gr,Wr]=Kr.split("."),Jr=this.schemas||{};return((Zr=Jr[Gr])==null?void 0:Zr[Wr])||((Yr=Jr[Gr])==null?void 0:Yr.BASE)},validateParams:Qr.validateParams,buildQueryString:Qr.buildQueryString}}validateParams(Qr,Kr={}){const Gr=[],Wr={};return Object.entries(Kr).forEach(([Jr,Zr])=>{const Yr=Qr[Jr];if(!Yr){Gr.push(`Parámetro desconocido: ${Jr}`);return}if(Yr.type==="number"){const en=Number(Zr);isNaN(en)?Gr.push(`${Jr} must be a number`):Wr[Jr]=en}if(Yr.type==="array"&&(Array.isArray(Zr)?Wr[Jr]=Zr.join(","):Gr.push(`${Jr} must be an array`)),Yr.type==="string"&&typeof Zr=="string"&&(Wr[Jr]=Zr),Yr.type==="date"){const en=new Date(Zr);isNaN(en)?Gr.push(`${Jr} must be a valid date`):Wr[Jr]=en}if(Yr.type==="enum"&&Yr.values.includes(Zr)&&(Wr[Jr]=Zr),Yr.type==="object"){const{validated:en,errors:tn}=this.validateParams(Yr.properties,Zr);Wr[Jr]=en,Gr.push(...tn)}}),{validated:Wr,errors:Gr}}buildQueryString(Qr,Kr={}){const{validated:Gr,errors:Wr}=this.validateParams(Qr,Kr);if(Wr.length)return console.error("Validation errors:",Wr),showModalX("error","Validation failed",Wr),Wr;const Jr=new URLSearchParams;return Object.entries(Gr).forEach(([Zr,Yr])=>{Yr!==null&&Jr.append(Zr,Yr.toString())}),Jr.toString()?`?${Jr}`:""}}async function apiRequest(ze,Qr="GET",Kr={}){try{ze.charAt(0)==="/"&&(ze=ze.slice(1));const Gr=await fetch(SERVER_URL+ze,{method:Qr,headers:{"Content-Type":"application/json"},credentials:"include",...Kr});if(!Gr.ok)return{response:null,error:await mapServerErrorResponse(Gr)};let Wr=null;return[101,204,205,304].includes(Gr.status)||(Wr=await Gr.json()),{response:Wr,error:null}}catch(Gr){console.error("Unknown error:",Gr);const Wr=Gr instanceof TypeError&&Gr.message.includes("fetch")?{type:"ERROR_DE_RED",message:"No se puede conectar al servidor. Por favor, verifique su conexión de red e inténtelo de nuevo."}:{type:"ERROR_DESCONOCIDO",message:"Ha ocurrido un error inesperado. Por favor, inténtelo de nuevo."};return showModalX("error",Wr.type,Wr.message),{response:null,error:Wr}}}async function fetchAPI(ze,Qr="GET",Kr={},Gr=null){try{const Wr=ze.split(".");let Jr;switch(Wr.length){case 1:Jr=API.endpoints[Wr[0]];break;case 2:Jr=API.endpoints[Wr[0]][Wr[1]];break;default:throw new Error("Invalid endpoint key")}if(!Jr)throw new Error("Invalid endpoint key");const Zr=API.getSchemaForEndpoint(ze);let Yr=Jr;if(Qr==="GET"){const nn=API.buildQueryString(Zr,Kr);Yr+=`${nn!=null&&nn.length?`${nn}`:""}`}Qr==="POST"&&Kr.id&&(Yr+=`/${Kr.id}`);const en={method:Qr,...Gr?{body:JSON.stringify(Gr)}:{}},{response:tn,error:rn}=await apiRequest(Yr,Qr,en);return rn?(console.error("Error during API request:",rn),{error:rn}):{response:tn}}catch(Wr){return console.error("Unexpected error:",Wr),{error:Wr}}}const factory=new APIContractFactory,API=factory.createContract();class Component{constructor(Qr){this.name=Qr,this.state=getState()}async initialize(Qr={}){try{const Kr=await this.fetchData(Qr);updateState({[`${this.name}Data`]:Kr}),this.generateContent(Kr),this.setupEventListeners()}catch(Kr){console.error(`Error initializing ${this.name}:`,Kr),showErrorModal(Kr)}}async fetchData(Qr){throw new Error("fetchData method must be implemented")}generateContent(Qr){throw new Error("generateContent method must be implemented")}setupEventListeners(){}}function generateButton(ze,Qr,Kr="button",Gr="primary",Wr=[]){const Jr=document.createElement("button");return Jr.name=ze,Jr.type=Kr,Jr.classList.add("relative","inline-flex","items-center","justify-center","py-1.5","px-4","rounded-lg","font-semibold","text-base/6","sm:text-sm/6","focus:outline-none","focus:ring-2","focus:ring-offset-2","shadow-md","transition-colors","duration-200"),Wr.length>0&&Jr.classList.add(...Wr),Gr==="primary"?Jr.classList.add("text-white","bg-zinc-600","hover:bg-zinc-500","focus:ring-zinc-500","dark:bg-zinc-700","dark:hover:bg-zinc-600","dark:focus:ring-zinc-400"):Gr==="secondary"&&Jr.classList.add("text-zinc-900","bg-zinc-200","hover:bg-zinc-300","focus:ring-zinc-500","dark:text-white","dark:bg-zinc-800","dark:hover:bg-zinc-700","dark:focus:ring-zinc-600"),Jr.style=`
		box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
	`,Jr.textContent=Qr,Jr}function generateQuantityField(ze,Qr,Kr=0,Gr=0,Wr=100){const Jr=document.createElement("div");Jr.className="flex flex-row items-center justify-center bg-white dark:bg-zinc-800 rounded-lg";const Zr=document.createElement("button");Zr.type="button",Zr.className="px-3 py-2 font-semibold rounded-lg border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-400 transition hover:text-zinc-500 dark:hover:text-zinc-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500",Zr.textContent="-";const Yr=document.createElement("input");Yr.type="number",Yr.name=ze,Yr.value=Kr,Yr.min=Gr,Yr.max=Wr,Yr.className="mx-2 text-center font-semibold text-zinc-900 dark:text-white bg-white dark:bg-zinc-800 border-transparent focus:ring-0 focus:border-transparent [-moz-appearance:_textfield] sm:text-sm [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none";const en=document.createElement("button");return en.type="button",en.className="px-3 py-2 font-semibold rounded-lg border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-400 transition hover:text-zinc-500 dark:hover:text-zinc-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500",en.textContent="+",Jr.appendChild(Zr),Jr.appendChild(Yr),Jr.appendChild(en),Zr.addEventListener("click",()=>{Yr.value=Math.max(Gr,parseInt(Yr.value)-1)}),en.addEventListener("click",()=>{Yr.value=Math.min(Wr,parseInt(Yr.value)+1)}),Jr}function generateSwitch(ze,Qr="",Kr=""){const Gr=document.createElement("div");Gr.className=`w-full sm:w-auto flex items-center flex-shrink-0 gap-2 ${Kr}`;const Wr=ze+"-"+Math.random().toString(36).substring(2,15),Jr=document.createElement("label");Jr.className="relative inline-block h-6 w-12 cursor-pointer rounded-full transition-colors duration-300",Jr.setAttribute("for",Wr);const Zr=document.createElement("input");Zr.type="checkbox",Zr.id=Wr,Zr.name=ze,Zr.className="sr-only peer";const Yr=document.createElement("span");Yr.className="absolute inset-y-0 left-0 m-1 w-4 h-4 rounded-full bg-white transition-transform duration-300 transform",Zr.addEventListener("change",()=>{Zr.checked?(Jr.classList.add("bg-blue-500"),Jr.classList.remove("bg-gray-300","dark:bg-zinc-700"),Yr.style.transform="translateX(1.5rem)"):(Jr.classList.add("bg-gray-300","dark:bg-zinc-700"),Jr.classList.remove("bg-blue-500"),Yr.style.transform="translateX(0)")}),Zr.checked?Jr.classList.add("bg-blue-500"):Jr.classList.add("bg-gray-300","dark:bg-zinc-700");const en=document.createElement("label");return en.className="text-zinc-950 dark:text-white sm:text-sm",en.textContent=Qr,Jr.appendChild(Zr),Jr.appendChild(Yr),Gr.appendChild(Jr),Gr.appendChild(en),Gr}function generateSearchBox(ze="Search...",Qr={},Kr="w-full",Gr="h-48",Wr="options"){const Jr=document.createElement("div"),Zr=document.createElement("input");Zr.type="text",Zr.placeholder=ze,Zr.className=`
        w-full mb-2 px-3 py-2 border border-zinc-300 dark:border-zinc-700
        rounded-md text-sm text-zinc-900 dark:text-white
        bg-white dark:bg-zinc-800 focus:outline-none
        focus:ring-2 focus:ring-zinc-500
    `,Jr.appendChild(Zr);const Yr=document.createElement("div");return Yr.className=`
        overflow-y-auto ${Kr} ${Gr}
        border border-zinc-300 dark:border-zinc-700
        rounded-md p-2 bg-white dark:bg-zinc-900
    `,Object.entries(Qr).forEach(([en,tn])=>{const rn=document.createElement("label");rn.className="flex items-center space-x-3 cursor-pointer mb-2";const nn=document.createElement("input");nn.type="checkbox",nn.name=Wr,nn.value=en,nn.className="sr-only";const an=document.createElement("span");an.className="flex h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-md dark:border-zinc-600 transition-colors";const sn=document.createElementNS("http://www.w3.org/2000/svg","svg");sn.setAttribute("xmlns","http://www.w3.org/2000/svg"),sn.setAttribute("class","h-3 w-3 text-white"),sn.setAttribute("fill","none"),sn.setAttribute("viewBox","0 0 24 24"),sn.setAttribute("stroke","currentColor"),sn.setAttribute("stroke-width","2");const cn=document.createElementNS("http://www.w3.org/2000/svg","path");cn.setAttribute("stroke-linecap","round"),cn.setAttribute("stroke-linejoin","round"),cn.setAttribute("d","M5 13l4 4L19 7"),sn.appendChild(cn),sn.style.display="none",an.appendChild(sn),nn.addEventListener("change",()=>{nn.checked?(an.classList.add("bg-zinc-900","border-transparent","dark:bg-zinc-600"),sn.style.display="block"):(an.classList.remove("bg-zinc-900","border-transparent","dark:bg-zinc-600"),sn.style.display="none")});const fn=document.createElement("span");fn.className="text-sm text-zinc-900 dark:text-zinc-100",fn.textContent=tn,rn.appendChild(nn),rn.appendChild(an),rn.appendChild(fn),Yr.appendChild(rn)}),Jr.appendChild(Yr),Zr.addEventListener("input",()=>{const en=normalizeText(Zr.value);Array.from(Yr.children).forEach(tn=>{const rn=tn.querySelector("span:last-child");rn&&(rn.dataset.normalized||(rn.dataset.normalized=normalizeText(rn.textContent)),tn.style.display=rn.dataset.normalized.includes(en)?"":"none")})}),Jr}function showConfirmationDialog(ze,Qr="Sí",Kr="No"){return new Promise(Gr=>{generateDialog({children:[(()=>{const Jr=document.createElement("p");return Jr.className="text-gray-700 dark:text-gray-300 mb-4",Jr.textContent=ze,Jr})()],onConfirm:()=>Gr(!0),onCancel:()=>Gr(!1),confirmText:Qr,cancelText:Kr}).showDialog()})}function createNavLink(ze,Qr){const Kr=document.createElement("a");Kr.className="inline-flex items-center box-content gap-2 text-sm/6 text-zinc-500 dark:text-zinc-400",Kr.href=ze,Kr.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon" class="size-4 fill-zinc-400 dark:fill-zinc-500">
            <path fill-rule="evenodd" d="M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path>
        </svg>
    `;const Gr=document.createTextNode(Qr);return Kr.appendChild(Gr),Kr}function generateDialog({children:ze=[],onConfirm:Qr,onCancel:Kr,confirmText:Gr="Aceptar",cancelText:Wr="Cancelar"}={}){const Jr=document.createElement("div");Jr.className="fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-gray-800 bg-opacity-50 hidden",Jr.style.display="none";const Zr=document.createElement("div");Zr.className="w-full max-w-lg sm:rounded-2xl rounded-t-3xl bg-white dark:bg-zinc-900 p-6 shadow-lg ring-1 ring-zinc-900/10 sm:mb-auto sm:mt-auto",Jr.appendChild(Zr),ze.forEach(nn=>{Zr.appendChild(nn)});const Yr=document.createElement("div");Yr.className="mt-6 flex items-center justify-end gap-3",Zr.appendChild(Yr);const en=()=>{Jr.style.display="none"},tn=generateButton("cancel",Wr,"button","secondary");tn.addEventListener("click",()=>{Kr&&Kr(Zr),en()}),Yr.appendChild(tn);const rn=generateButton("confirm",Gr,"button","primary");return rn.addEventListener("click",async()=>{Qr&&await Qr(Zr),en()}),Yr.appendChild(rn),Jr.addEventListener("click",()=>{Kr&&Kr(Zr),en()}),Zr.addEventListener("click",nn=>nn.stopPropagation()),document.body.appendChild(Jr),{showDialog:()=>Jr.style.display="flex",hideDialog:en,dialogContainer:Zr}}function generateTable(ze,Qr="center",Kr){const Gr=document.createElement("div");Qr==="left"?Gr.className="mx-auto max-w-3xl overflow-hidden":Gr.className="text-center overflow-hidden sm:mx-0 sm:max-w-full",Gr.className+=" border border-zinc-200 rounded-lg dark:border-white/10 dark:bg-zinc-900 p-3 sm:p-4";const Wr=document.createElement("dl");return Wr.className=`
        grid grid-cols-1 text-base/6 grid-cols-[min(50%,theme(spacing.80))_auto] sm:text-sm/6
    `,Kr.forEach((Jr,Zr)=>{Jr.forEach((Yr,en)=>{const an=ze==="firstRow"&&Zr===0||ze==="firstColumn"&&en===0||ze==="both"&&(Zr===0||en===0),sn=document.createElement(an?"dt":"dd");sn.textContent=Yr,sn.className=`
                ${an?"text-zinc-500 dark:text-zinc-400":"text-zinc-950 dark:text-white"}
                ${Zr>0||an?"border-t border-zinc-950/5 dark:border-white/5":""}
                ${an?"first:border-none":""}
            `,sn.className+=" py-2 sm:py-3",Wr.appendChild(sn)})}),Gr.appendChild(Wr),Gr}function generateSubmissionsTable(ze){const Qr=document.createElement("div");Qr.className="w-full mt-4 overflow-hidden rounded-lg border border-zinc-200 dark:border-white/10 dark:bg-zinc-900 p-3 sm:p-4";const Kr=document.createElement("div");Kr.className="overflow-auto max-h-[calc(100vh-4rem)]";const Gr=document.createElement("table");Gr.className="min-w-full text-left text-sm/6 text-zinc-950 dark:text-white";const Wr=document.createElement("thead");Wr.className="text-zinc-500 dark:text-zinc-400",Wr.innerHTML=`
        <tr>
            <th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Fecha de realización</th>
            <th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Tipo</th>
            <th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Puntuación</th>
            <th class="text-right border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Valoración</th>
        </tr>`,Gr.appendChild(Wr);const Jr=document.createElement("tbody");return ze.forEach(Zr=>{const Yr=document.createElement("tr");Yr.className=`
            has-[[data-row-link][data-focus]]:outline
            has-[[data-row-link][data-focus]]:outline-2
            has-[[data-row-link][data-focus]]:-outline-offset-2
            hover:bg-zinc-950/[2.5%] dark:hover:bg-white/[2.5%]
        `,Yr.innerHTML=`
            <td class="text-zinc-500 relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Zr.link}" aria-label="Order #${Zr.id}" tabindex="-1" class="absolute inset-0"></a>
                ${Zr.date}
            </td>
            <td class="relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Zr.link}" tabindex="-1" class="absolute inset-0"></a>
                ${Zr.type}
            </td>
            <td class="relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Zr.link}" tabindex="-1" class="absolute inset-0"></a>
                <div class="flex items-center gap-2">
                    <span>${Zr.score}</span>
                </div>
            </td>
            <td class="text-center sm:text-right relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Zr.link}" tabindex="-1" class="absolute inset-0"></a>
                <span class="${getBadgeClass(Zr.status)}">
                    ${Zr.status}
                </span>
            </td>`,Jr.appendChild(Yr)}),Gr.appendChild(Jr),Kr.appendChild(Gr),Qr.appendChild(Kr),Qr}function getBadgeClass(ze){return ze==="APTO"?"inline-flex items-center gap-x-1.5 rounded-md px-1.5 py-0.5 text-sm/5 font-medium bg-green-400/20 text-green-700 dark:bg-green-400/10 dark:text-green-300":"inline-flex items-center gap-x-1.5 rounded-md px-1.5 py-0.5 text-sm/5 font-medium bg-pink-400/20 text-pink-700 dark:bg-pink-400/10 dark:text-pink-300"}function initializeComponents(){dropdownComponent(),htmx.process(document.querySelector("#component-select"))}function dropdownComponent(){console.log("- dropdownComponent initialized"),document.getElementById("component-select").addEventListener("change",function(){console.log("component-select changed");const ze=document.getElementById("component-select").value;console.log("selectedOption",ze)})}window.transformToCards=transformToCards();function transformToCards(){return[{id:1,title:"Cuál es un tipo de sonda rectal",content:["Foley","Malecot","Levin","Todas las respuestas son incorrectas"],correctAnswer:3},{id:2,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:3,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:4,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:5,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:6,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1}]}function generateDropdown(ze,Qr,Kr,Gr=null,Wr=null){const Jr=document.createElement("div");Jr.className="relative block w-full";const Zr=document.createElement("button");Zr.type="button",Zr.className="relative block w-full rounded-lg py-2 pl-4 pr-8 text-left text-base text-zinc-950 dark:text-white border border-zinc-300 dark:border-zinc-700 bg-transparent dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 hover:border-zinc-500 dark:hover:border-zinc-600 transition",Zr.setAttribute("aria-haspopup","listbox"),Zr.setAttribute("aria-expanded","false");const Yr=document.createElement("div");Yr.className="flex items-center";const en=document.createElement("span");en.className="ml-2 truncate",en.textContent=Gr||Kr[0].label,Yr.appendChild(en);const tn=document.createElement("span");tn.className="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",tn.innerHTML=`
		<svg class="w-5 h-5 text-zinc-500 dark:text-zinc-400" viewBox="0 0 16 16" aria-hidden="true" fill="none">
			<path d="M5.75 10.75L8 13L10.25 10.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
			<path d="M10.25 5.25L8 3L5.75 5.25" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
		</svg>
	`,Zr.appendChild(Yr),Zr.appendChild(tn);const rn=document.createElement("div");rn.className="absolute left-0 mt-2 w-full bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 rounded-lg shadow-lg z-10",rn.style.display="none";const nn=document.createElement("ul");nn.className="text-sm text-zinc-900 dark:text-zinc-100";const an=document.createElement("input");if(an.type="hidden",an.name=ze,an.value=Gr||Kr[0].value,Kr.forEach(sn=>{const cn=document.createElement("li");cn.className="flex items-center px-4 py-2 cursor-pointer hover:bg-zinc-300 dark:hover:bg-zinc-700 m-1 rounded-lg",sn.value===an.value&&cn.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600");const fn=document.createElement("span");fn.textContent=sn.label;const ln=document.createElement("span");ln.className="ml-auto text-white",ln.innerHTML="&#10003;",ln.style.display=sn.value===an.value?"block":"none",cn.appendChild(fn),cn.appendChild(ln),cn.addEventListener("click",()=>{an.value=sn.value,en.textContent=sn.label,nn.querySelectorAll("li").forEach(un=>{un.classList.remove("bg-zinc-500","text-white","dark:bg-zinc-600"),un.querySelector("span:last-child").style.display="none"}),cn.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600"),ln.style.display="block",rn.style.display="none",Zr.setAttribute("aria-expanded","false"),Wr&&Wr(sn.value)}),nn.appendChild(cn)}),rn.appendChild(nn),Jr.appendChild(Zr),Jr.appendChild(rn),Jr.appendChild(an),Zr.addEventListener("click",sn=>{sn.preventDefault();const cn=Zr.getAttribute("aria-expanded")==="true";rn.style.display=cn?"none":"block",Zr.setAttribute("aria-expanded",!cn)}),document.addEventListener("click",sn=>{Jr.contains(sn.target)||(rn.style.display="none",Zr.setAttribute("aria-expanded","false"))}),Qr){const sn=document.createElement("div");sn.className="space-y-2";const cn=document.createElement("label");return cn.className="block text-sm font-medium text-zinc-900 dark:text-zinc-100",cn.textContent=Qr,sn.appendChild(cn),sn.appendChild(Jr),sn}return Jr}class Home extends Component{constructor(){super("home")}async initialize(){this.renderLoadingState(),this.loadData().catch(Qr=>{console.error("Failed to load data:",Qr)})}renderLoadingState(){this.updateGreeting("","Cargando..."),this.renderCardSkeletons(),this.renderTableSkeleton(),this.populatePeriodSelect(this.preparePeriods(null));const Kr=document.querySelector("#dropdown-container");Kr&&Kr.remove()}renderCardSkeletons(){const Qr=Array(4).fill({title:"Cargando...",value:"---",description:"Cargando datos...",from:"",changeColor:"bg-gray-200 dark:bg-gray-700"});this.createDashboardCards(Qr)}renderTableSkeleton(){const Qr=document.querySelector("#submissions-table");Qr&&(Qr.innerHTML=`
            <div class="animate-pulse">
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"></div>
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-4"></div>
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"></div>
            </div>
        `)}async loadData(){const[Qr,Kr]=await Promise.all([this.retrieveUserDataFromDB(),this.prepareDashBoardTable()]);if(!Qr){loadComponent("/auth");return}this.updateGreeting(Qr.name,"Hola"),this.createDashboardCards(this.prepareDashboardCards(Qr.stats)),this.createDashboardTable(Kr)}async prepareDashBoardTable(){try{const{response:Qr,error:Kr}=await fetchAPI("QUESTIONS.SUBMISSIONS","GET",{amount:DASHBOARD_TABLE_HISTORY_AMOUNT});return Kr||!Qr?(console.error("Error fetching submissions:",Kr),[]):Array.isArray(Qr)?(updateState({submissions:Qr}),Qr.map(Gr=>{let Wr;try{Wr=JSON.parse(JSON.parse(Gr.answers))}catch(tn){console.error("Error parsing answers:",tn),Wr=[]}const Jr=Wr.filter(tn=>tn.is_correct).length,Zr=Wr.length,Yr=Jr>=Math.ceil(Zr*SUCCESS_THRESHOLD)?"APTO":"NO APTO",en=new Date(Gr.created_at).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return{id:Gr.id,date:en,type:Gr.submission_type==="simulation"?"Simulacro":"Estudio",score:`${Jr}/${Zr}`,status:Yr,link:`/results/${Gr.id}`}})):(console.error("Unexpected response format:",Qr),[])}catch(Qr){return console.error("Unexpected error in prepareDashBoardTable:",Qr),[]}}createDashboardTable(Qr){const Kr=document.querySelector("#submissions-table");if(!Kr)return;if(Qr.length===0){Kr.innerHTML="<p class='mt-3 text-sm/6 sm:text-xs/6 text-zinc-500'>Aún no hay resultados recientes</p>";return}Kr.childElementCount>0&&(Kr.innerHTML="");const Gr=generateSubmissionsTable(Qr);Kr.appendChild(Gr)}async retrieveUserDataFromDB(){const{response:Qr,error:Kr}=await fetchAPI("USERS.SELF");if(!Kr)return Qr.data.user}updateGreeting(Qr,Kr){const Gr=document.querySelector("#greetings-title");Gr&&(Gr.textContent=`${Kr}, ${Qr}`)}preparePeriods(Qr){return[{value:"current_month",label:"Mes actual",hxGet:"",hxTarget:"",hxSwap:""}]}prepareDashboardCards(Qr){const Kr=new Date().toISOString().slice(0,7),Gr=Kr.slice(5,7),Wr=Qr[Gr]||Qr[Kr]||{},Jr=Wr.questionsSucceededSumTotal+Wr.questionsFailedSumTotal||0,Zr=Wr.questionsListedTotal/Wr.totalQuestions*100||0,Yr=Jr/Wr.totalQuestions*100||0,en=Wr.questionsSucceededSumTotal/Jr*100||0,tn=Wr.questionsFailedSumTotal/Jr*100||0;Wr.questionsBlankSumTotal/Wr.questionsListedSumTotal*100;const rn=Wr.questionsSucceededSumTotal/Wr.questionsFailedSumTotal||0;return[{title:"Engagement",value:`${Zr.toFixed(2)}%`,description:"Porcentaje de preguntas con las que has interactuado",from:"desde el total",changeColor:"bg-blue-400/20 text-blue-700 dark:bg-blue-400/10 dark:text-blue-300"},{title:"Porcentaje de respuesta",value:`${Yr.toFixed(2)}%`,description:"Porcentaje de preguntas respondidas sobre el total",from:"desde el total",changeColor:"bg-lime-400/20 text-lime-700 dark:bg-lime-400/10 dark:text-lime-300"},{title:"Tasa de Éxito",value:`${en.toFixed(2)}%`,description:"Porcentaje de preguntas correctas sobre las respondidas",from:"desde el total de preguntas respondidas",changeColor:"bg-green-400/20 text-green-700 dark:bg-green-400/10 dark:text-green-300"},{title:"Incorrectas",value:`${tn.toFixed(2)}%`,description:"Porcentaje de preguntas incorrectas sobre las respondidas",from:"desde el total de preguntas respondidas",changeColor:"bg-red-400/20 text-red-700 dark:bg-red-400/10 dark:text-red-300"},{title:"Ratio Correcto/Incorrecto",value:`${rn.toFixed(2)}`,description:"Relación entre preguntas correctas e incorrectas",from:"desde el total de preguntas respondidas",changeColor:"bg-purple-400/20 text-purple-700 dark:bg-purple-400/10 dark:text-purple-300"}]}createDashboardCards(Qr){const Kr=document.querySelector("#overview-cards");Kr.innerHTML="",Qr.forEach(Gr=>{const Wr=document.createElement("div"),Jr=document.createElement("hr");Jr.setAttribute("role","presentation"),Jr.classList.add("w-full","border-t","border-zinc-950/10","dark:border-white/10"),Wr.appendChild(Jr);const Zr=document.createElement("div");if(Zr.classList.add("mt-6","text-lg/6","font-medium","sm:text-sm/6","dark:text-white"),Zr.textContent=Gr.title,Wr.appendChild(Zr),Gr.description){const en=document.createElement("span");en.classList.add("text-zinc-500","text-sm/6","sm:text-xs/6"),en.textContent=Gr.description,Wr.appendChild(en)}const Yr=document.createElement("div");if(Yr.classList.add("mt-3","text-3xl/8","font-semibold","sm:text-2xl/8","dark:text-white"),Yr.textContent=Gr.value,Wr.appendChild(Yr),Gr.change){const en=document.createElement("div");en.classList.add("mt-3","text-sm/6","sm:text-xs/6");const tn=document.createElement("span");tn.classList.add("inline-flex","items-center","gap-x-1.5","rounded-md","px-1.5","py-0.5","text-sm/5","font-medium","sm:text-xs/5"),Gr.changeColor.split(" ").forEach(nn=>tn.classList.add(nn)),tn.textContent=Gr.change;const rn=document.createElement("span");rn.classList.add("text-zinc-500","ml-1"),rn.textContent=Gr.from,en.appendChild(tn),en.appendChild(rn),Wr.appendChild(en)}Kr.appendChild(Wr)})}populatePeriodSelect(Qr){const Kr=document.querySelector("#period-select");Kr.innerHTML="",Qr.forEach(Gr=>{const Wr=document.createElement("option");Wr.value=Gr.value,Wr.textContent=Gr.label,Wr.setAttribute("hx-get",Gr.hxGet),Wr.setAttribute("hx-target",Gr.hxTarget),Wr.setAttribute("hx-swap",Gr.hxSwap),Kr.appendChild(Wr)})}}const homeComponent=new Home("home"),initializeHome=()=>homeComponent.initialize(),topicsGeneral={extra_parts_0:"Tema 1 General"},topicsSpecific={extra_parts_1:"Tema 1 Específico"},filterConfigs={study:{targetRoute:"/study/play",fields:[{type:"dropdown",name:"simulationType",label:"Tipo de simulación",options:[{value:"general",label:"General"},{value:"specific",label:"Específico"}]},{type:"table",name:"table",label:"",headerPosition:"firstColumn",alignment:"left",rows:[["Número de preguntas","Personalizado"],["Tiempo","Indefinido"]]},{type:"quantity",name:"amount",label:"Número de preguntas",placeholder:"Ej: 10",value:STUDY_DEFAULT_VALUE,min:STUDY_MIN_QUESTIONS,max:STUDY_MAX_QUESTIONS},{type:"search",name:"topics",label:"Temas",options:topicsGeneral},{type:"button",name:"submit",label:"Iniciar Estudio",buttonType:"submit"}]},simulation:{targetRoute:"/simulation/play",fields:[{type:"dropdown",name:"simulationType",label:"Tipo de simulación",options:[{value:"general",label:"General"},{value:"specific",label:"Específico"}]},{type:"table",name:"table",label:"",headerPosition:"firstColumn",alignment:"left",rows:[["Número de preguntas",`${SIMULATION_DEFAULT_NUMBER_QUESTIONS_GENERAL}`],["Tiempo",`${SIMULATION_DEFAULT_TIME_GENERAL} minutos`]]},{type:"search",name:"topics",label:"Temas",options:topicsGeneral},{type:"button",name:"submit",label:"Iniciar Simulación",buttonType:"submit"}]}};class Filters extends Component{constructor(Qr){super("filters"),this.type=Qr}initialize(){const Qr=filterConfigs[this.type];if(!Qr){console.error(`No configuration found for filter type: ${this.type}`);return}if(!document.querySelector("#main-content"))throw new Error("Main content element not found");const Gr=document.querySelector("#filters-content");if(!Gr)throw new Error("Filters form not found");Gr.innerHTML="";const Wr=createNavLink("/","Inicio");Wr.onclick=tn=>{tn.preventDefault();const rn=Wr.getAttribute("href");loadComponent(rn)},Gr.appendChild(Wr);const Jr=this.type==="study"?"Estudio":"Simulacro",Zr=this.type==="study"?"Modo de estudio, con una interfaz gamificada":"Simulación de un examen oficial, con un tiempo definido y preguntas aleatorias",Yr=generateFormHeader(Jr,Zr);Gr.appendChild(Yr);const en=document.createElement("form");en.id=`${this.type}FiltersForm`,en.className="bg-white dark:bg-zinc-900 rounded-lg shadow p-6 space-y-6 max-w-md mx-auto",createFormContent(en,this.type,Qr.fields),Gr.appendChild(en),this.targetRoute=Qr.targetRoute}}function generateFormHeader(ze,Qr){const Kr=document.createElement("div");Kr.className="flex flex-wrap items-center gap-6 justify-left p-6 space-y-6 max-w-md mx-auto";const Gr=document.createElement("div"),Wr=document.createElement("div");Wr.className="flex flex-wrap items-center gap-x-4 gap-y-2";const Jr=document.createElement("h1");Jr.className="text-2xl/8 font-semibold text-zinc-950 sm:text-xl/8 dark:text-white",Jr.textContent=ze,Wr.appendChild(Jr);const Zr=document.createElement("div");return Zr.className="mt-2 text-sm/6 text-zinc-500",Zr.innerHTML=`${Qr}`,Gr.appendChild(Wr),Gr.appendChild(Zr),Kr.appendChild(Gr),Kr}const initializeFilters=ze=>{new Filters(ze).initialize()};function updateTableAndSearch(ze,Qr,Kr){const Gr=ze.querySelector("dl"),Wr=ze.querySelector(".overflow-y-auto");if(!Gr||!Wr){console.error("Required elements not found:",{tableElement:Gr,searchContainer:Wr});return}if(Kr==="simulation"){const Zr=Gr.querySelectorAll("dd");Qr==="general"?(Zr[0].textContent=SIMULATION_DEFAULT_NUMBER_QUESTIONS_GENERAL,Zr[1].textContent=`${SIMULATION_DEFAULT_TIME_GENERAL} minutos`):(Zr[0].textContent=SIMULATION_DEFAULT_NUMBER_QUESTIONS_SPECIFIC,Zr[1].textContent=`${SIMULATION_DEFAULT_TIME_SPECIFIC} minutos`)}Wr.innerHTML="",Object.entries(Qr==="general"?topicsGeneral:topicsSpecific).forEach(([Zr,Yr])=>{const en=document.createElement("label");en.className="flex items-center space-x-3 cursor-pointer mb-2";const tn=document.createElement("input");tn.type="checkbox",tn.name="topics",tn.value=Zr,tn.className="sr-only";const rn=document.createElement("span");rn.className="flex h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-md dark:border-zinc-600 transition-colors";const nn=document.createElementNS("http://www.w3.org/2000/svg","svg");nn.setAttribute("xmlns","http://www.w3.org/2000/svg"),nn.setAttribute("class","h-3 w-3 text-white"),nn.setAttribute("fill","none"),nn.setAttribute("viewBox","0 0 24 24"),nn.setAttribute("stroke","currentColor"),nn.setAttribute("stroke-width","2");const an=document.createElementNS("http://www.w3.org/2000/svg","path");an.setAttribute("stroke-linecap","round"),an.setAttribute("stroke-linejoin","round"),an.setAttribute("d","M5 13l4 4L19 7"),nn.appendChild(an),nn.style.display="none",rn.appendChild(nn),tn.addEventListener("change",()=>{tn.checked?(rn.classList.add("bg-zinc-900","border-transparent","dark:bg-zinc-600"),nn.style.display="block"):(rn.classList.remove("bg-zinc-900","border-transparent","dark:bg-zinc-600"),nn.style.display="none")});const sn=document.createElement("span");sn.className="text-sm text-zinc-900 dark:text-zinc-100",sn.textContent=Yr,en.appendChild(tn),en.appendChild(rn),en.appendChild(sn),Wr.appendChild(en)})}function createFormContent(ze,Qr,Kr){let Gr;return Kr.forEach(Wr=>{switch(Wr.type){case"button":Gr=document.createElement("div"),Gr.className="flex justify-end mt-6",Gr.appendChild(generateButton(Wr.name,Wr.label,Wr.buttonType,"primary",Wr.classList));break;case"quantity":Gr=generateQuantityField(Wr.name,"",Wr.value,Wr.min,Wr.max);break;case"switch":Gr=generateSwitch(Wr.name,Wr.label);break;case"search":Gr=generateSearchBox("Buscar temas...",Wr.options,"w-full","h-64",Wr.name);break;case"dropdown":Gr=generateDropdown(Wr.name,Wr.label,Wr.options,null,Jr=>{console.log("Dropdown changed to:",Jr),updateTableAndSearch(ze,Jr,Qr)});break;case"table":Gr=generateTable(Wr.headerPosition,Wr.alignment,Wr.rows);break;default:console.error("Invalid field type:",Wr.type)}ze.appendChild(Gr)}),ze.addEventListener("submit",Wr=>handleFormSubmit(Wr,Qr)),ze}function handleFormSubmit(ze,Qr){var Jr;ze.preventDefault();const Kr=new FormData(ze.target),Gr={};if((((Jr=filterConfigs[Qr])==null?void 0:Jr.fields)||[]).forEach(Zr=>{switch(Zr.type){case"switch":Gr[Zr.name]=Kr.has(Zr.name);break;case"quantity":Gr[Zr.name]=parseInt(Kr.get(Zr.name),10);break;case"search":Kr.getAll(Zr.name).filter(Boolean).length>0&&(Gr[Zr.name]=Kr.getAll(Zr.name).filter(Boolean));break;case"select":Gr[Zr.name]=Kr.get(Zr.name);break;default:Kr.has(Zr.name)&&(Gr[Zr.name]=Kr.get(Zr.name));break}}),Qr==="simulation"){const Zr=Gr.simulationType||"general";Gr.amount=Zr==="general"?SIMULATION_DEFAULT_NUMBER_QUESTIONS_GENERAL:SIMULATION_DEFAULT_NUMBER_QUESTIONS_SPECIFIC,Gr.time=Zr==="general"?SIMULATION_DEFAULT_TIME_GENERAL:SIMULATION_DEFAULT_TIME_SPECIFIC}updateState({filters:Gr}),loadComponent(Qr==="study"?"/study/play":"/simulation/play")}class Study extends Component{constructor(){super("study")}async initialize(Qr){const{filters:Kr}=getState();if(!Kr||Object.keys(Kr).length===0){console.error("No filter data found, redirecting to study filters page."),loadComponent("/study/filters");return}this.resetStore(),await this.fetchAndStoreQuestions(Kr),this.setupBeforeUnloadHandler(),updateState({filters:{},navigationBlocked:!0})}resetStore(){module_default.store("studyData").reset()}async fetchData(Qr){delete Qr.simulationType;const Kr=API.endpoints.QUESTIONS.SELF,Gr=API.getSchemaForEndpoint("QUESTIONS.SELF"),Wr=API.buildQueryString(Gr,Qr);if(!Wr)return;const{response:Jr,error:Zr}=await apiRequest$1(Kr+Wr,"GET",{});if(!Zr)return Jr.questions}async fetchAndStoreQuestions(Qr){try{const Kr=await this.fetchData(Qr);Kr&&Kr.length>0?(module_default.store("studyData").setCards(transformDataToCards(Kr)),module_default.store("studyData").questions=Kr):(console.error("No questions found for the given filters."),module_default.store("studyData").setCards([]))}catch(Kr){console.error("Error fetching questions:",Kr)}}hasUnsavedChanges(){const Qr=module_default.store("studyData");return Object.keys(Qr.answers).length>0&&!Qr.submitted}setupBeforeUnloadHandler(){const Qr=async Kr=>{Kr.preventDefault()};window.addEventListener("beforeunload",Qr),this.beforeUnloadHandler=Qr}}function transformDataToCards(ze){return ze.map((Qr,Kr)=>({id:Kr+1,title:Qr.question,content:JSON.parse(Qr.answers).map((Gr,Wr)=>`${String.fromCharCode(65+Wr)}. ${Gr}`),correctAnswer:Qr.accepted,explanation:Qr.explanation||Math.floor(Math.random()*2)+1===1&&`"Neque quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..."
"There is no one who loves pain itself, who seeks after it and wants to have it, simply because it is pain..."
What is Lorem Ipsum?
Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.`}))}function itemsStore(){return{cards:[],answers:{},questions:[],activeCard:1,autonext:!0,reset(){this.cards=[],this.activeCard=1,this.answers={},this.questions=[]},setCards(ze){this.cards=ze},selectAnswer(ze,Qr,Kr=!1){this.answers[ze]===void 0&&(this.answers[ze]=Qr),Kr&&this.activeCard<this.cards.length&&this.activeCard++},markAsBlank(ze){this.answers[ze]===void 0&&(this.answers[ze]=null)},isAnswered(ze){return this.answers[ze]!==void 0},async submitResults(){if(updateState({navigationBlocked:!1}),!await showConfirmationDialog(translations[userLanguage].submitConfirmation))return;if(!this.questions||!this.questions.length){showModalX("error","Error enviando respuestas","No hay preguntas para enviar");return}const Qr=this.questions.map((Kr,Gr)=>{const Wr=Gr+1,Jr=this.answers[Wr],Zr={...Kr};return Jr!==null&&(Zr.selectedAnswer=Jr),Zr});try{const{error:Kr}=await submitAnswers(Qr,"study");if(Kr){showModalX("error","Error enviando respuestas",Kr);return}updateState({data:Qr}),loadComponent("/study/results")}catch(Kr){showModalX("error","Error enviando estudio",Kr);return}}}}document.addEventListener("alpine:init",()=>{module_default.store("studyData",itemsStore())});const studyComponent=new Study("study"),initializeStudy=ze=>studyComponent.initialize(ze),favicon="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_53_479)'%3e%3cpath%20d='M16.0115%2013.918C15.649%2012.8485%2014.6396%2012.0775%2013.448%2012.0775C11.953%2012.0775%2010.8105%2013.291%2010.741%2014.7855C10.659%2016.5265%2011.8775%2019.6135%2015.993%2021.183C15.999%2021.186%2016.0035%2021.186%2016.0115%2021.188L16.0115%2013.918Z'%20fill='url(%23paint0_linear_53_479)'/%3e%3cpath%20d='M15.9894%2013.918C16.352%2012.8485%2017.3605%2012.0775%2018.5519%2012.0775C20.0469%2012.0775%2021.1894%2013.291%2021.2599%2014.7855C21.3399%2016.5265%2020.1224%2019.6135%2016.0069%2021.183C15.9999%2021.186%2015.9954%2021.186%2015.9894%2021.188L15.9894%2013.918Z'%20fill='url(%23paint1_linear_53_479)'/%3e%3cpath%20d='M15.9679%205.39849V5.38047C15.9794%205.38446%2015.9904%205.38694%2015.9999%205.38897C16.01%205.38694%2016.0215%205.38446%2016.0319%205.38047V5.39894C22.8739%208.01246%2026.9695%2012.0599%2029.1884%2016C30.8654%2013.0204%2031.4694%2010.101%2031.3669%207.91045C31.163%203.54701%2027.825%200%2023.457%200C20.008%200%2017.082%202.21248%2016%205.29249C14.919%202.21248%2011.993%200%208.54398%200C4.17495%200%200.836975%203.54701%200.632961%207.91051C0.530446%2010.101%201.13493%2013.02%202.81249%2016C5.03049%2012.0595%209.12695%208.01201%2015.9679%205.39849Z'%20fill='url(%23paint2_linear_53_479)'/%3e%3cpath%20d='M16.032%2026.601V26.6194C16.0215%2026.6154%2016.0105%2026.613%2016%2026.6104C15.99%2026.6129%2015.9795%2026.6154%2015.968%2026.6194V26.601C9.12694%2023.988%205.03048%2019.9405%202.81248%2016C1.13498%2018.98%200.530497%2021.899%200.632948%2024.0895C0.836962%2028.453%204.17494%2032%208.54295%2032C11.993%2032%2014.918%2029.7876%2015.9999%2026.7075C17.0819%2029.7876%2020.0079%2032%2023.4559%2032C27.825%2032%2031.163%2028.453%2031.367%2024.0895C31.4695%2021.899%2030.865%2018.98%2029.1885%2016C26.9694%2019.9405%2022.8739%2023.988%2016.032%2026.601Z'%20fill='url(%23paint3_linear_53_479)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_53_479'%20x1='13.3744'%20y1='31.0659'%20x2='13.3744'%20y2='5.87846'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.012'%20stop-color='%23E0B386'/%3e%3cstop%20offset='0.519'%20stop-color='%23DA498C'/%3e%3cstop%20offset='1'%20stop-color='%23961484'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_53_479'%20x1='26.9499'%20y1='14.7436'%20x2='15.1455'%20y2='17.018'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.012'%20stop-color='%23E0B386'/%3e%3cstop%20offset='0.519'%20stop-color='%23DA498C'/%3e%3cstop%20offset='1'%20stop-color='%23961484'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_53_479'%20x1='16'%20y1='-3.58559'%20x2='16'%20y2='41.4958'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2329D3DA'/%3e%3cstop%20offset='0.519'%20stop-color='%230077FF'/%3e%3cstop%20offset='0.999'%20stop-color='%23064093'/%3e%3cstop%20offset='1'%20stop-color='%23084698'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_53_479'%20x1='16'%20y1='46.8307'%20x2='16'%20y2='15.6053'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2329D3DA'/%3e%3cstop%20offset='0.519'%20stop-color='%230077FF'/%3e%3cstop%20offset='0.999'%20stop-color='%23064093'/%3e%3cstop%20offset='1'%20stop-color='%23084698'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_53_479'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",navLogoData={avatar:{src:favicon,alt:"SaludEduca Avatar"},name:"SaludEduca",menuItems:[]},navItems=[{href:"/",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" aria-hidden="true">
    <path d="M31.772 16.043l-15.012-15.724c-0.189-0.197-0.449-0.307-0.721-0.307s-0.533 0.111-0.722 0.307l-15.089 15.724c-0.383 0.398-0.369 1.031 0.029 1.414 0.399 0.382 1.031 0.371 1.414-0.029l1.344-1.401v14.963c0 0.552 0.448 1 1 1h6.986c0.551 0 0.998-0.445 1-0.997l0.031-9.989h7.969v9.986c0 0.552 0.448 1 1 1h6.983c0.552 0 1-0.448 1-1v-14.968l1.343 1.407c0.197 0.204 0.459 0.308 0.722 0.308 0.249 0 0.499-0.092 0.692-0.279 0.398-0.382 0.411-1.015 0.029-1.413zM26.985 14.213v15.776h-4.983v-9.986c0-0.552-0.448-1-1-1h-9.965c-0.551 0-0.998 0.445-1 0.997l-0.031 9.989h-4.989v-15.777c0-0.082-0.013-0.162-0.032-0.239l11.055-11.52 10.982 11.507c-0.021 0.081-0.036 0.165-0.036 0.252z"></path>
</svg>`,label:"Inicio"},{href:"/study/filters",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor" aria-hidden="true">
					<path d="M603.648 541.696h223.631c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H603.648c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48zm-409.29-300.032h223.631c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H194.358c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M593.987 418.816h285.737c16.962 0 30.72 13.758 30.72 30.72v441.006c0 16.962-13.758 30.72-30.72 30.72h-317.44c-16.968 0-30.72-13.754-30.72-30.72v-39.281c0-11.311-9.169-20.48-20.48-20.48s-20.48 9.169-20.48 20.48v39.281c0 39.586 32.089 71.68 71.68 71.68h317.44c39.583 0 71.68-32.097 71.68-71.68V449.536c0-39.583-32.097-71.68-71.68-71.68H593.987c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M152.747 709.12h359.086c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H152.747c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M512 749.568H143.36c-16.962 0-30.72-13.758-30.72-30.72V153.6c0-16.962 13.758-30.72 30.72-30.72H460.8c16.962 0 30.72 13.758 30.72 30.72v396.8c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48V153.6c0-39.583-32.097-71.68-71.68-71.68H143.36c-39.583 0-71.68 32.097-71.68 71.68v565.248c0 39.583 32.097 71.68 71.68 71.68H512c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48z"/>
					<path d="M491.571 449.28v106.24c0 16.962-13.758 30.72-30.72 30.72h-229.12v40.96h229.12c39.583 0 71.68-32.097 71.68-71.68V449.28h-40.96z"/>
					<path d="M112.64 702.771v-44.8c0-16.962 13.758-30.72 30.72-30.72h229.12v-40.96H143.36c-39.583 0-71.68 32.097-71.68 71.68v44.8h40.96z"/>
				</svg>`,label:"Estudio"},{href:"/simulation/filters",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 900" fill="currentColor" aria-hidden="true">
				<g>
					<path d="M676.637,183.386c0.002-0.002,0.004-0.004,0.005-0.005L522.549,29.287c-3.619-3.62-8.62-5.86-14.145-5.86H137.5   c-11.046,0-20,8.954-20,20v713.146c0,11.046,8.954,20,20,20h525c11.046,0,20-8.954,20-20V197.522   C682.5,192.407,680.426,187.203,676.637,183.386z M642.5,736.573h-485V63.427h342.62l114.096,114.095l-85.812,0v-41.788   c0-11.046-8.954-20-20-20s-20,8.954-20,20v61.788c0,11.046,8.954,20,20,20c0,0,92.404,0,134.096,0V736.573z"/>
					<path d="M295.217,224.417l-39.854,39.855l-5.697-5.697c-7.811-7.811-20.473-7.811-28.283,0c-7.811,7.81-7.811,20.473,0,28.284   l19.84,19.84c3.75,3.751,8.838,5.858,14.142,5.858c5.305,0,10.392-2.107,14.143-5.858l53.996-53.999   c7.81-7.811,7.81-20.474-0.001-28.284C315.69,216.606,303.027,216.606,295.217,224.417z"/>
					<path d="M557.831,312.557h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,312.557,557.831,312.557z"/>
					<path d="M367.389,272.557c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20s-8.954-20-20-20H367.389z"/>
					<path d="M557.831,435.552h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,435.552,557.831,435.552z"/>
					<path d="M496.998,395.552H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,395.552,496.998,395.552z"/>
					<path d="M557.831,558.547h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,558.547,557.831,558.547z"/>
					<path d="M496.998,518.547H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,518.547,496.998,518.547z"/>
					<path d="M557.831,681.542h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,681.542,557.831,681.542z"/>
					<path d="M496.998,641.542H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,641.542,496.998,641.542z"/>
					<path d="M255.363,435.552c5.304,0,10.392-2.107,14.142-5.858l53.996-53.996c7.811-7.811,7.811-20.475,0-28.285   s-20.473-7.811-28.283,0l-39.854,39.855l-5.697-5.698c-7.81-7.81-20.474-7.812-28.284-0.001s-7.811,20.474-0.001,28.284   l19.84,19.841C244.972,433.444,250.059,435.552,255.363,435.552z"/>
					<path d="M234.239,511.547l-12.856,12.857c-7.81,7.811-7.81,20.474,0.001,28.284c3.905,3.905,9.023,5.857,14.142,5.857   s10.237-1.952,14.143-5.858l12.855-12.855l12.856,12.855c3.904,3.906,9.023,5.858,14.142,5.858s10.237-1.952,14.142-5.858   c7.811-7.811,7.811-20.473,0-28.283l-12.855-12.857l12.856-12.857c7.81-7.811,7.81-20.474-0.001-28.284   c-7.811-7.81-20.474-7.81-28.284,0.001l-12.856,12.856l-12.857-12.856c-7.811-7.811-20.473-7.811-28.283,0s-7.811,20.474,0,28.283   L234.239,511.547z"/>
					<path d="M295.217,593.4l-39.854,39.855l-5.697-5.697c-7.811-7.811-20.473-7.811-28.283,0c-7.811,7.81-7.811,20.473,0,28.283   l19.84,19.84c3.75,3.752,8.838,5.858,14.142,5.858c5.305,0,10.392-2.107,14.143-5.858l53.996-53.998   c7.81-7.811,7.81-20.474-0.001-28.284C315.69,585.59,303.027,585.59,295.217,593.4z"/>
				</g>
			</svg>`,label:"Simulacro"},{href:"https://classroom.google.com/c/NzQxMTk2NjAxNzQ0?cjc=xygponi",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600" fill="currentColor" aria-hidden="true">
				<g>
					<path d="M287.633,463.3c-3.337-3.337-8.73-3.337-12.066,0c-3.337,3.336-3.337,8.73,0,12.066L309.7,509.5
							c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5c3.337-3.336,3.337-8.73,0-12.066L287.633,463.3z"/>
					<path d="M256,409.6c-4.719,0-8.533,3.823-8.533,8.533v22.067l-57.233,57.233c-3.336,3.337-3.336,8.73,0,12.066
							c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5l59.733-59.733c1.596-1.604,2.5-3.772,2.5-6.033v-25.6
							C264.533,413.423,260.719,409.6,256,409.6z"/>
					<path d="M503.467,17.067H264.533V8.533C264.533,3.823,260.719,0,256,0s-8.533,3.823-8.533,8.533v8.533H8.533
							C3.814,17.067,0,20.89,0,25.6v34.133c0,4.71,3.814,8.533,8.533,8.533h443.733c4.719,0,8.533-3.823,8.533-8.533
							s-3.814-8.533-8.533-8.533h-435.2V34.133h477.867V51.2H486.4c-4.719,0-8.533,3.823-8.533,8.533v290.133
							c0,14.114-11.486,25.6-25.6,25.6H59.733c-14.114,0-25.6-11.486-25.6-25.6v-256c0-4.71-3.814-8.533-8.533-8.533
							s-8.533,3.823-8.533,8.533v256c0,23.526,19.14,42.667,42.667,42.667h392.533c23.526,0,42.667-19.14,42.667-42.667v-281.6h8.533
							c4.719,0,8.533-3.823,8.533-8.533V25.6C512,20.89,508.186,17.067,503.467,17.067z"/>
					<path d="M384,170.667c24.073,0,25.549,21.342,25.6,25.643c0.026,4.693,3.831,8.491,8.533,8.491c4.719,0,8.533-3.823,8.533-8.533
							c0-14.763-8.917-42.667-42.667-42.667c-33.749,0-42.667,27.904-42.667,42.667V230.4c0,14.754,8.917,42.667,42.667,42.667
							c33.749,0,42.667-27.912,42.667-42.667c0-4.693-3.789-8.482-8.482-8.508h-0.051c-4.676,0-8.482,3.78-8.533,8.465
							C409.549,234.641,408.09,256,384,256c-24.09,0-25.549-21.359-25.6-25.6v-34.091C358.451,192.026,359.91,170.667,384,170.667z"/>
					<path d="M171.324,250.752c1.365,3.277,4.531,5.248,7.876,5.248c1.101,0,2.21-0.205,3.285-0.657
							c4.343-1.818,6.409-6.81,4.591-11.162l-42.667-102.4c-1.323-3.174-4.437-5.248-7.876-5.248c-3.439,0-6.554,2.074-7.876,5.248
							l-42.667,102.4c-1.818,4.352,0.239,9.344,4.591,11.162c4.361,1.826,9.344-0.239,11.162-4.591l4.924-11.819H128
							c4.719,0,8.533-3.823,8.533-8.533s-3.814-8.533-8.533-8.533h-14.225l22.758-54.613L171.324,250.752z"/>
					<path d="M230.4,187.733c-4.719,0-8.533,3.823-8.533,8.533v102.4c0,4.71,3.814,8.533,8.533,8.533h34.133
							c14.754,0,42.667-7.134,42.667-34.133c0-10.829-4.489-18.466-10.82-23.723c7.177-6.144,10.82-15.377,10.82-27.477
							c0-12.646-3.985-22.178-11.827-28.297c-13.039-10.18-30.916-6.076-32.905-5.581c-4.574,1.143-7.356,5.769-6.212,10.351
							c1.143,4.565,5.768,7.339,10.342,6.204c0.12-0.034,11.733-2.628,18.27,2.475c3.49,2.731,5.265,7.723,5.265,14.848
							c0,7.1-1.758,12.083-5.222,14.814c-2.85,2.253-6.81,3.046-10.411,3.183c-3.627-0.648-7.049-0.93-9.967-0.93
							c-4.309,0-7.945,3.208-8.465,7.492c-0.538,4.275,2.219,8.277,6.4,9.318c0.896,0.23,5.035,1.178,10.496,1.229
							c7.475,1.553,17.169,5.598,17.169,16.094c0,16.708-24.585,17.058-25.6,17.067h-25.6v-93.867
							C238.933,191.556,235.119,187.733,230.4,187.733z"/>
				</g>
			</svg>`,label:"Aula Virtual"}],supportItems=[],loginData={src:"https://www.svgrepo.com/show/463659/sign-in-alt-2.svg",alt:"Botón para iniciar sesión ",text:"Inicia sesión",href:"/auth"},userProfileData={text:"User Name Here",alt:"User Profile Avatar",src:"https://www.svgrepo.com/show/496707/user-square.svg",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon">
				<path fill-rule="evenodd" d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path>
			</svg>`,menuItems:[{icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon">
				<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" transform="matrix(0 1 1 0 2.5 2.5)">
					<path d="m3.98652376 1.07807068c-2.38377179 1.38514556-3.98652376 3.96636605-3.98652376 6.92192932 0 4.418278 3.581722 8 8 8s8-3.581722 8-8-3.581722-8-8-8"/>
					<path d="m4 1v4h-4" transform="matrix(1 0 0 -1 0 6)"/>
				</g>
				</svg>
			`,text:"Reiniciar estadísticas",hxNotify:!0,hxAttributes:{"hx-delete":`${SERVER_URL}users/stats`,"hx-swap":"none"}},{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M2 4.75A2.75 2.75 0 0 1 4.75 2h3a2.75 2.75 0 0 1 2.75 2.75v.5a.75.75 0 0 1-1.5 0v-.5c0-.69-.56-1.25-1.25-1.25h-3c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h3c.69 0 1.25-.56 1.25-1.25v-.5a.75.75 0 0 1 1.5 0v.5A2.75 2.75 0 0 1 7.75 14h-3A2.75 2.75 0 0 1 2 11.25v-6.5Zm9.47.47a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H5.25a.75.75 0 0 1 0-1.5h7.19l-.97-.97a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg>',href:"/logout",text:"Salir de la sesión"}]};function getSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const updateHTMLTagColor=ze=>{const Qr=document.querySelector("html");Qr.classList.add(`${ze?"bg-zinc-950":"bg-gray-50"}`),Qr.classList.remove(`${ze?"bg-gray-50":"bg-zinc-950"}`)},toggleTheme=()=>{const Qr=(localStorage.theme||getSystemTheme())==="dark"?"light":"dark";setTheme(Qr)},setTheme=ze=>{localStorage.theme=ze;const Qr=ze==="dark";updateHTMLTagColor(Qr),document.documentElement.classList.toggle("dark",Qr)};function toggleHiddenClass(ze,Qr){document.querySelectorAll(ze).forEach(Kr=>{Kr.classList.toggle("hidden",Qr)})}function renderNavSkeleton(){document.querySelectorAll("[data-nav-links]").forEach(ze=>{const Qr=Array(4).fill().map(()=>`
            <span class="relative">
                <div class="flex w-full items-center gap-3 px-2 py-2.5">
                    <div class="size-6 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 animate-pulse"></div>
                </div>
            </span>
        `).join("");ze.innerHTML=Qr})}function renderSupportSkeleton(){document.querySelectorAll("[data-support-links]").forEach(ze=>{ze.innerHTML=`
            <div class="flex flex-col gap-0.5">
                <div class="flex items-center gap-3 px-2 py-2.5">
                    <div class="size-6 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"></div>
                </div>
            </div>
        `})}function renderProfileSkeleton(){const ze=document.querySelector("#user-profile-avatar");ze&&(ze.classList.add("animate-pulse","bg-gray-200","dark:bg-gray-700"),ze.src="https://www.svgrepo.com/show/496707/user-square.svg");const Qr=document.querySelector("#user-profile-name");Qr&&(Qr.innerHTML='<div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"></div>')}function initializeNavigation(){initializeLoadingState(),loadNavigationData().catch(ze=>{console.error("Failed to load navigation:",ze)})}function initializeLoadingState(){document.querySelectorAll("[data-version-box]").forEach(ze=>{ze.textContent="Version: Loading..."}),renderNavSkeleton(),renderSupportSkeleton(),renderProfileSkeleton()}async function retrieveUserDataFromDB(){const{response:ze,error:Qr}=await fetchAPI("USERS.SELF");if(!Qr)return ze.data.user}async function loadNavigationData(){try{const[ze,Qr]=await Promise.all([retrieveUserDataFromDB(),getState()]);updateNavLogo(navLogoData),renderLoginButton(loginData),updateVersion(WEB_VERSION),createSupportSection(),Qr.isAuthenticated?backdrop(!1):backdrop(!0),Qr.isAuthenticated&&renderUserProfile(userProfileData,ze),toggleHiddenClass("[data-user-container]",!Qr.isAuthenticated),toggleHiddenClass("[data-login-container]",Qr.isAuthenticated),Qr.isAuthenticated&&createNav(),initializeMobileNavigation(),document.querySelectorAll("[data-theme-toggle]").forEach(Kr=>{Kr.addEventListener("click",toggleTheme)})}catch(ze){console.error("Error loading navigation data:",ze),showErrorFallbacks()}}function updateVersion(ze){document.querySelectorAll("[data-version-box]").forEach(Qr=>{Qr.textContent=`Version: ${ze}`})}function showErrorFallbacks(){const ze={"[data-version-box]":`Version: ${WEB_VERSION}`,"[data-brand-name]":"","[data-nav-links]":"<div class='text-red-500'></div>","[data-support-links]":"<div class='text-red-500'></div>","[data-latest-links]":"<div class='text-red-500'></div>"};Object.entries(ze).forEach(([Qr,Kr])=>{const Gr=document.querySelector(Qr);Gr&&(Gr.innerHTML=Kr)})}function initializeMobileNavigation(){const ze=document.querySelector("#mobile-nav-container"),Qr=document.querySelector("#mobile-nav-content"),Kr=document.querySelector("#nav-container").innerHTML,Gr=document.querySelector("#open-nav-button"),Wr=document.querySelector("#close-nav-button");let Jr=!1;Qr.innerHTML=Kr,Qr.querySelectorAll(".max-lg\\:hidden").forEach(rn=>{rn.classList.remove("max-lg:hidden")});function Zr(){ze.classList.remove("-translate-x-full"),Jr=!0,en("attach")}function Yr(){ze.classList.add("-translate-x-full"),Jr=!1,en("detach")}function en(rn){rn==="attach"&&document.addEventListener("click",tn),rn==="detach"&&document.removeEventListener("click",tn)}Gr.addEventListener("click",function(rn){rn.stopPropagation(),Zr()}),Wr.addEventListener("click",Yr),Qr.addEventListener("click",rn=>{rn.target.closest("[data-close-nav]")&&Yr()});function tn(rn){const nn=ze.contains(rn.target),an=Gr.contains(rn.target);!nn&&!an&&Jr&&Yr()}document.querySelectorAll("[data-link]").forEach(rn=>{rn.onclick=nn=>{nn.preventDefault();const an=rn.getAttribute("href");history.pushState(null,null,an),loadComponent(an)}}),htmx.process(Qr)}function renderNavDropdown(ze){document.querySelectorAll("[data-brand-dropdown]").forEach(Qr=>{Qr.innerHTML="",ze.forEach(Kr=>{const Gr=document.createElement("a");if(Kr.href&&(Gr.href=Kr.href),Gr.classList.add("flex","items-center","gap-3","rounded-lg","px-4","py-2","text-sm","text-gray-500","hover:bg-gray-50","dark:hover:bg-gray-700","dark:text-gray-300","dark:hover:text-white"),Gr.setAttribute("role","menuitem"),Gr.setAttribute("data-link",!0),Kr.icon){const Jr=document.createElement("span");Jr.innerHTML=Kr.icon,Jr.classList.add("w-5","h-5","text-gray-400","dark:text-gray-500"),Gr.appendChild(Jr)}const Wr=document.createElement("span");Wr.textContent=Kr.text,Gr.appendChild(Wr),Kr.hxGet&&Gr.setAttribute("hx-get",Kr.hxGet),Kr.hxTarget&&Gr.setAttribute("hx-target",Kr.hxTarget),Kr.hxSwap&&Gr.setAttribute("hx-swap",Kr.hxSwap),Qr.appendChild(Gr)})})}function updateNavLogo(ze){const{avatar:Qr,name:Kr,icon:Gr,menuItems:Wr}=ze;document.querySelectorAll("[data-brand-logo]").forEach(Jr=>{Jr.classList.remove("hidden"),Jr.src=Qr.src,Jr.alt=Qr.alt}),document.querySelectorAll("[data-brand-name]").forEach(Jr=>{Jr.classList.remove("animate-pulse"),Jr.textContent=Kr}),document.querySelectorAll("[data-brand-icon]").forEach(Jr=>{Gr&&(Jr.outerHTML=Gr)}),(!Wr||Wr.length===0)&&(document.querySelectorAll("[data-dropdown-menu]").forEach(Jr=>{Jr.remove()}),document.querySelectorAll("[data-brand-icon]").forEach(Jr=>{Jr.remove()})),renderNavDropdown(Wr)}function createNav(){document.querySelectorAll("[data-nav-links]").forEach(ze=>{ze.innerHTML="";const Qr=document.createElement("div");Qr.classList.add("flex","flex-col","gap-0.5"),navItems.forEach(Kr=>{var Yr;const Gr=document.createElement("span");Gr.classList.add("relative");const Wr=document.createElement("a");switch(Wr.classList.add("flex","w-full","items-center","gap-3","rounded-lg","px-2","py-2.5","text-left","text-base/6","font-medium","text-zinc-950","sm:py-2","sm:text-sm/5","dark:text-white","hover:bg-gray-100","dark:hover:bg-gray-700"),Kr.lock&&Wr.classList.add("cursor-not-allowed","opacity-50"),Kr.lock||(Wr.href=Kr.href),Wr.setAttribute("data-close-nav",!0),Kr.href){case((Yr=Kr.href.match(/^https?:\/\//))==null?void 0:Yr.input):Wr.setAttribute("target","_blank"),Wr.setAttribute("rel","noopener noreferrer");break;case"/classroom":break;default:Wr.setAttribute("data-link",!0),Wr.onclick=en=>{en.preventDefault();const tn=Wr.getAttribute("href");loadComponent(tn)};break}const Jr=document.createElement("span");Jr.innerHTML=Kr.icon,Jr.classList.add("size-6","shrink-0","fill-zinc-500","dark:fill-zinc-400"),Wr.appendChild(Jr);const Zr=document.createElement("span");Zr.classList.add("truncate"),Zr.textContent=Kr.label,Wr.appendChild(Zr),Gr.appendChild(Wr),Qr.appendChild(Gr)}),htmx.process(Qr),ze.appendChild(Qr)})}function createSupportSection(){document.querySelectorAll("[data-support-links]").forEach(ze=>{ze.innerHTML="";const Qr=document.createElement("div");Qr.classList.add("flex","flex-col","gap-0.5"),supportItems.forEach(Kr=>{const Gr=document.createElement("span");Gr.classList.add("relative");const Wr=document.createElement("a");Wr.classList.add("flex","w-full","items-center","gap-3","rounded-lg","px-2","py-2.5","text-left","text-base/6","font-medium","text-zinc-950","sm:py-2","sm:text-sm/5","dark:text-white","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700"),Wr.href&&(Wr.href=Kr.href),Kr.onclick&&Wr.setAttribute("onclick",Kr.onclick);const Jr=document.createElement("span");Jr.innerHTML=Kr.icon,Jr.classList.add("size-6","shrink-0","fill-zinc-500","dark:fill-zinc-400");const Zr=document.createElement("span");Zr.classList.add("truncate"),Zr.textContent=Kr.label,Kr.icon&&Wr.appendChild(Jr),Wr.appendChild(Zr),Gr.appendChild(Wr),Qr.appendChild(Gr)}),ze.appendChild(Qr)})}function renderUserProfile(ze,Qr){const{src:Kr,alt:Gr,text:Wr,icon:Jr,menuItems:Zr}=ze,{name:Yr,email:en,role:tn,state:rn}=Qr;document.querySelectorAll("[data-user-avatar]").forEach(nn=>{nn.classList.remove("animate-pulse"),nn.src=Kr,nn.alt=Gr}),document.querySelectorAll("[data-user-name]").forEach(nn=>{nn.textContent=Yr}),document.querySelectorAll("[data-user-icon]").forEach(nn=>{nn.classList.remove("animate-pulse"),Jr&&(nn.outerHTML=Jr)}),document.querySelectorAll("[data-user-dropdown]").forEach(nn=>{nn.innerHTML="",Zr.forEach(an=>{const sn=document.createElement("a");if(an.href&&(sn.href=an.href,sn.setAttribute("data-link",!0)),sn.classList.add("flex","items-center","gap-2","rounded-lg","px-4","py-2","text-sm","text-gray-500","hover:bg-gray-50","dark:hover:bg-gray-700","dark:text-gray-300","dark:hover:text-white","cursor-pointer"),sn.setAttribute("role","menuitem"),an.icon){const fn=document.createElement("span");fn.innerHTML=an.icon,fn.classList.add("w-5","h-5","text-gray-400","dark:text-gray-500"),sn.appendChild(fn)}const cn=document.createElement("span");cn.textContent=an.text,sn.appendChild(cn),an.hxAttributes&&Object.keys(an.hxAttributes).length>0&&Object.entries(an.hxAttributes).forEach(([fn,ln])=>{sn.setAttribute(fn,ln)}),an.hxNotify&&(sn.setAttribute("hx-confirm","true"),sn.setAttribute("hx-on::after-request",`
					if (event.detail.successful) {
						showModalX('success', 'Estadísticas reiniciadas', 'Las estadísticas se han reiniciado correctamente');
					} else {
						showModalX('error', 'Error', event.detail.xhr.responseText || 'Ha ocurrido un error inesperado');
					}
				`),window.showModalX=showModalX),nn.appendChild(sn),htmx.process(nn)})})}document.addEventListener("htmx:confirm",async function(ze){if(!ze.detail.target.hasAttribute("hx-confirm"))return;ze.preventDefault(),await showConfirmationDialog("Con esta acción borrarás todas las estadísticas vinculadas a tu perfil. ¿Estás seguro de que deseas continuar?")&&ze.detail.issueRequest(!0)});function renderLoginButton(ze){const{src:Qr,alt:Kr,text:Gr,href:Wr}=ze;document.querySelectorAll("[data-login-avatar]").forEach(Jr=>{Jr.classList.remove("animate-pulse"),Jr.src=Qr,Jr.alt=Kr}),document.querySelectorAll("[data-login-name]").forEach(Jr=>{Jr.textContent=Gr}),document.querySelectorAll("[data-login-anchor]").forEach(Jr=>{Jr.href=Wr,Jr.setAttribute("data-link",!0)}),document.querySelectorAll("[data-login-container").forEach(Jr=>{Jr.setAttribute("data-close-nav",!0)})}function backdrop(ze){if(!ze){const Gr=document.querySelector("#nav-backdrop");Gr&&Gr.remove();return}const Qr=document.querySelector("#nav-container"),Kr=document.createElement("div");Kr.id="nav-backdrop",Kr.className="fixed inset-y-0 left-0 w-full max-w-80 lg:w-64 z-40 backdrop-blur-md bg-white/30 dark:bg-zinc-800/10 hidden lg:block",Qr.parentNode.insertBefore(Kr,Qr)}class Simulation extends Component{constructor(){super("simulation")}async initialize(){const{filters:Qr}=getState();if(!Qr||Object.keys(Qr).length===0){console.error("No filter data found, redirecting to simulation filters page."),loadComponent("/simulation/filters");return}const Kr=await this.fetchData(Qr);this.generateContent(Kr),backdrop(!0),this.setupBeforeUnloadHandler(),this.setupNavigationHandlers(),updateState({filters:{},navigationBlocked:!0})}async fetchData(Qr){const Kr=API.endpoints.QUESTIONS.SELF,Gr=API.getSchemaForEndpoint("QUESTIONS.SELF");delete Qr.simulationType,delete Qr.time;const Wr=API.buildQueryString(Gr,Qr);if(!Wr)return;const{response:Jr,error:Zr}=await apiRequest$1(Kr+Wr,"GET",{});if(!Zr)return Jr.questions}setupNavigationHandlers(){window.addEventListener("popstate",async Qr=>{if(getState().navigationBlocked){if(!await showConfirmationDialog("Si abandonas la página perderás tu progreso. ¿Deseas salir?","Abandonar","Cancelar")){history.pushState(null,null,window.location.pathname);return}updateState({navigationBlocked:!1}),backdrop(!1),window.removeEventListener("beforeunload",this.beforeUnloadHandler),window.location.reload()}})}setupBeforeUnloadHandler(){const Qr=async Kr=>{Kr.preventDefault()};window.addEventListener("beforeunload",Qr),this.beforeUnloadHandler=Qr}generateContent(Qr){const Kr=document.querySelector("#simulationForm");Kr.innerHTML="",Qr.forEach((Wr,Jr)=>{const Zr=this.createQuestionElement(Wr,Jr);Kr.appendChild(Zr)});const Gr=generateButton("submitBtn","Enviar respuestas","submit","primary");Kr.appendChild(Gr),Kr.addEventListener("submit",Wr=>this.handleFormSubmit(Wr,Kr,Qr))}createQuestionElement(Qr,Kr){const Gr=document.createElement("div");Gr.className="space-y-4 p-4 border border-zinc-300 dark:border-zinc-700 rounded-lg mb-6 bg-white dark:bg-zinc-800";const Wr=document.createElement("p");Wr.className="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",Wr.innerText=`${Kr+1}. ${Qr.question}`,Gr.appendChild(Wr);const Jr=JSON.parse(Qr.answers),Zr=document.createElement("div");return Zr.className="space-y-3",Jr.forEach((Yr,en)=>{const tn=document.createElement("label");tn.className="flex items-center space-x-3 cursor-pointer";const rn=document.createElement("input");rn.type="radio",rn.name=`question-${Qr.id}`,rn.value=en,rn.className="sr-only";const nn=document.createElement("span");nn.className="flex flex-shrink-0 h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-full dark:border-zinc-600 transition-colors";const an=document.createElement("span");an.className="h-2 w-2 rounded-full bg-white transition-opacity opacity-0",nn.appendChild(an),tn.addEventListener("click",cn=>{cn.preventDefault(),rn.checked?(rn.checked=!1,nn.classList.remove("bg-zinc-900","dark:bg-zinc-600","border-transparent"),an.classList.add("opacity-0")):Zr.querySelectorAll("input[type='radio']").forEach(fn=>{const ln=fn.parentElement.querySelector(".flex.h-5.w-5"),un=ln.querySelector(".h-2.w-2");fn.checked=fn===rn,fn.checked?(ln.classList.add("bg-zinc-900","dark:bg-zinc-600","border-transparent"),un.classList.remove("opacity-0")):(ln.classList.remove("bg-zinc-900","dark:bg-zinc-600","border-transparent"),un.classList.add("opacity-0"))})});const sn=document.createElement("span");sn.className="text-sm text-zinc-900 dark:text-zinc-100",sn.innerText=`${String.fromCharCode(65+en)}. ${Yr}`,tn.appendChild(rn),tn.appendChild(nn),tn.appendChild(sn),Zr.appendChild(tn)}),Gr.appendChild(Zr),Gr}async handleFormSubmit(Qr,Kr,Gr){Qr.preventDefault();const{timeUp:Wr}=getState();if(!Wr){if(!await showConfirmationDialog(translations[userLanguage].submitConfirmation))return;updateState({timeUp:!1})}updateState({navigationBlocked:!1});const Jr=new FormData(Kr);this.updateSelectedAnswers(Jr,Gr);try{const{error:Zr}=await submitAnswers(Gr,"simulation");if(Zr){showModalX("error","Error enviando respuestas",Zr);return}backdrop(!1),updateState({data:Gr}),loadComponent("/simulation/results")}catch(Zr){showModalX("error","Error enviando simulación",Zr);return}}updateSelectedAnswers(Qr,Kr){return Qr.forEach((Gr,Wr)=>{const Jr=Wr.split("-")[1],Zr=Kr.find(Yr=>Yr.id===Number(Jr));Zr&&(Zr.selectedAnswer=Number(Gr))}),Kr}}document.addEventListener("alpine:init",()=>{module_default.data("countdownTimer",()=>({initialTime:null,size:60,radius:27,strokeWidth:5,timer:null,get circumference(){return 2*Math.PI*this.radius},get formattedTime(){const ze=Math.floor(this.timeRemaining/60),Qr=this.timeRemaining%60;return`${String(ze).padStart(2,"0")}:${String(Qr).padStart(2,"0")}`},startCountdown(){const ze=Date.now()+this.initialTime*60*1e3;localStorage.setItem("simulationEndTime",ze),this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{const Qr=parseInt(localStorage.getItem("simulationEndTime")),Kr=Date.now(),Gr=Math.max(0,Math.floor((Qr-Kr)/1e3));if(Gr<=0){clearInterval(this.timer),localStorage.removeItem("simulationEndTime"),updateState({timeUp:!0});const Wr=document.querySelector("#simulationForm");Wr&&Wr.requestSubmit()}else this.timeRemaining=Gr},1e3)},init(){const{filters:ze}=getState(),Qr=(ze==null?void 0:ze.simulationType)||"general";this.initialTime=Qr==="general"?SIMULATION_DEFAULT_TIME_GENERAL:SIMULATION_DEFAULT_TIME_SPECIFIC,this.timeRemaining=this.initialTime*60,updateState({timeUp:!1}),this.startCountdown()}}))});const simulationComponent=new Simulation("simulation"),initializeSimulation=()=>simulationComponent.initialize(),notFoundHeader$1={title:"404",subheader:"Oops! Page not found",description:"The page you are looking for might have been removed or is temporarily unavailable."},backToHomeButton$1={label:"Volver a la página de inicio"};function initializeNotFound(){generateNotFoundHeader$1(),generateBackToHomeButton$1(backToHomeButton$1.label)}function generateBackToHomeButton$1(ze){const Qr=document.querySelector("#back-to-home-button"),Kr=generateButton("",ze);Kr.onclick=()=>window.location.href="/",Qr.appendChild(Kr)}function generateNotFoundHeader$1(){const ze=document.getElementById("error-header");ze.textContent=notFoundHeader$1.title;const Qr=document.getElementById("error-subheader");Qr.textContent=notFoundHeader$1.subheader}const forms={login:`${SERVER_URL}login/`,register:`${SERVER_URL}register/`,forgot:`${SERVER_URL}password/forgot/`,reset:`${SERVER_URL}password/reset/`};document.addEventListener("alpine:init",()=>{module_default.store("auth",{activeForm:"login"})});const passwordToggleIcons={show:`
    <svg data-toggle-password-visibility="show" xmlns="http://www.w3.org/2000/svg"
		fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
		stroke-linejoin="round" class="h-5 w-5 text-zinc-900 dark:text-zinc-100 toggle-icon"
		viewBox="0 0 24 24">
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M1 12C1 12 5 20 12 20C19 20 23 12 23 12" />
		<circle stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" cx="12" cy="12" r="3" />
	</svg>
  `,hide:`
    <svg data-toggle-password-visibility="hide" xmlns="http://www.w3.org/2000/svg"
		fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
		stroke-linejoin="round"
		class="h-5 w-5 text-zinc-900 dark:text-zinc-100 toggle-icon hidden"
		viewBox="0 0 22 22">
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M2 2L22 22" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round"
			d="M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round"
			d="M14 14.2362C13.4692 14.7112 12.7684 15.0001 12 15.0001C10.3431 15.0001 9 13.657 9 12.0001C9 11.1764 9.33193 10.4303 9.86932 9.88818" />
	</svg>
  `};class Auth extends Component{constructor(){super("auth"),this.setupFormListeners()}async initialize(){this.initializePasswordToggle(),this.initializeResetFormListeners(),this.checkVerificationStatus();const Kr=new URLSearchParams(window.location.search).get("action");Kr&&["login","register","forgot","reset"].includes(Kr)&&(module_default.store("auth").activeForm=Kr,Kr==="reset"&&this.checkResetToken()),Object.entries(forms).forEach(([Gr,Wr])=>{const Jr=document.querySelector(`#${Gr}-form form`);Jr&&Jr.setAttribute("hx-post",Wr)}),htmx.process(document.querySelector("#auth-forms"))}checkResetToken(){const Qr=new URLSearchParams(window.location.search),Kr=Qr.get("token"),Gr=Qr.get("userId");Kr&&Gr&&(document.querySelector("#reset-token").value=Kr,document.querySelector("#reset-user-id").value=Gr)}checkVerificationStatus(){const Qr=new URLSearchParams(window.location.search);Qr.get("verified")==="true"?(setTimeout(()=>{showModalX("info","Email verificado","Tu dirección de correo electrónico ha sido verificada. Puedes iniciar sesión.")},1e3),window.history.replaceState(null,null,"/auth")):Qr.get("verified")==="false"&&(setTimeout(()=>{showModalX("info","No verificado","Tu dirección de correo electrónico no ha podido ser verificada. Prueba a iniciar sesión, si no funciona, ponte en contacto con nosotros.")},1e3),window.history.replaceState(null,null,"/auth"))}initializeResetFormListeners(){const Qr=document.getElementById("resetPasswordForm"),Kr=document.getElementById("reset-password-1"),Gr=document.getElementById("reset-password-2"),Wr=document.getElementById("error-message");Qr.addEventListener("htmx:beforeRequest",function(Jr){if(Wr.style.display="none",Wr.textContent="",!Kr.value||!Gr.value){Jr.preventDefault(),Wr.textContent="Por favor, ingresa ambas contraseñas.",Wr.style.display="block";return}if(Kr.value!==Gr.value){Jr.preventDefault(),Wr.textContent="Las contraseñas no coinciden.",Wr.style.display="block";return}})}initializePasswordToggle(){document.querySelectorAll(".toggle-password").forEach(Qr=>{Qr.innerHTML=passwordToggleIcons.hide+passwordToggleIcons.show;const Kr=Qr.closest("div").querySelector("input[type='password'], input[type='text']"),Gr=Qr.querySelector("[data-toggle-password-visibility='show']"),Wr=Qr.querySelector("[data-toggle-password-visibility='hide']");Gr.classList.remove("hidden"),Wr.classList.add("hidden"),Qr.addEventListener("click",()=>{const Jr=Kr.type==="password";Kr.type=Jr?"text":"password",Jr?(Gr.classList.add("hidden"),Wr.classList.remove("hidden")):(Gr.classList.remove("hidden"),Wr.classList.add("hidden"))})})}setupFormListeners(){document.addEventListener("htmx:afterRequest",async Qr=>this.handleResponse(Qr).catch(Kr=>showModalX("error","Error del servidor",`El servidor ha encontrado un error al procesar la solicitud: ${Kr.message}`)))}async handleResponse(Qr){var Jr,Zr;Qr.detail.xhr.statusText;const Kr=Qr.detail.xhr.status,Gr=JSON.parse(Qr.detail.xhr.response).error,Wr=(Zr=(Jr=Qr.detail)==null?void 0:Jr.requestConfig)==null?void 0:Zr.path;switch(Kr){case 200:Wr!=null&&Wr.includes("password/forgot")?(showModalX("success","Email enviado","Se ha enviado un correo con las instrucciones para restablecer tu contraseña."),module_default.store("auth").activeForm="login"):Wr!=null&&Wr.includes("password/reset")?(showModalX("success","Contraseña actualizada","Tu contraseña ha sido actualizada correctamente."),module_default.store("auth").activeForm="login"):(showModalX("success","Login satisfactorio","Has iniciado sesión satisfactoriamente."),updateState({isAuthenticated:!0,user:Qr.detail.xhr.response}),window.location.href="/");break;case 201:showModalX("success","Registro satisfactorio","Tu cuenta ha sido creada satisfactoriamente."),setTimeout(()=>{showModalX("info","Verificación pendiente","Verifica tu email antes de iniciar sesión.")},1e3),loadComponent("/auth");break;default:showModalX("error","No autorizado",`${Gr.message||"El servidor ha rechazado la solicitud."} ${Gr.details}`);break}}}const authComponent=new Auth("auth"),initializeAuth=()=>authComponent.initialize(),failIcon="data:image/svg+xml,%3csvg%20width='451'%20height='377'%20viewBox='0%200%20451%20377'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M384.248%2028L67%20350.61'%20stroke='%23782324'%20stroke-width='40.55'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M384.248%20350.61L67%2028'%20stroke='%23782324'%20stroke-width='40'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",passIcon="data:image/svg+xml,%3csvg%20width='451'%20height='377'%20viewBox='0%200%20451%20377'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M436.999%2042.2547C432.969%2038.2486%20427.517%2036%20421.835%2036C416.152%2036%20410.701%2038.2486%20406.671%2042.2547L167.92%20279.93L38.8655%20150.876C34.9294%20146.626%2029.4662%20144.113%2023.6778%20143.892C17.8894%20143.67%2012.2499%20145.756%208.00001%20149.693C3.75011%20153.629%201.2379%20159.092%201.01604%20164.88C0.794187%20170.669%202.88085%20176.308%206.817%20180.558L167.92%20341.231L436.999%2072.7976C439.015%2070.798%20440.615%2068.4191%20441.707%2065.798C442.799%2063.1769%20443.361%2060.3656%20443.361%2057.5261C443.361%2054.6867%20442.799%2051.8753%20441.707%2049.2543C440.615%2046.6332%20439.015%2044.2542%20436.999%2042.2547Z'%20fill='%232D4C1C'/%3e%3c/svg%3e";class Results extends Component{constructor(Qr){super("results"),this.type=Qr}initializeTestResult(){const{data:Qr}=getState();return!Qr||Object.keys(Qr).length===0?(console.error(`No filter data found, redirecting to ${this.type} filters page.`),history.pushState(null,null,`/${this.type}/filters`),initializeFilters(this.type)):{submissionType:this.type,answers:Qr}}initializeHistoryResult(){const{submissions:Qr}=getState();if(!Qr||Object.keys(Qr).length===0){console.error(`No submission data found for ${this.type}, redirecting to home.`),history.pushState(null,null,"/"),loadComponent("/");return}const Kr=Number(window.location.pathname.split("/").pop());if(!Kr){console.error("No result ID found in the URL"),history.pushState(null,null,"/");return}for(const Gr of Qr)if(Gr.id===Kr){const Wr=JSON.parse(JSON.parse(Gr.answers));return{submissionType:Gr.submission_type,answers:Wr.map(Jr=>({id:Jr.question_id,question:Jr.question_text,accepted:Jr.correct_answer,selectedAnswer:Jr.selected_answer,answers:JSON.stringify(Jr.answers),explanation:Jr.explanation||""}))}}console.error(`No submission data found for ${this.type}, redirecting to home.`),history.pushState(null,null,"/"),loadComponent("/")}async initialize(){let Qr;switch(this.type){case"study":case"simulation":Qr=this.initializeTestResult();break;case"history":Qr=this.initializeHistoryResult();break;default:showModalX("error","Error","El tipo de resultados es desconocido");break}this.renderQuizResults(Qr.submissionType,Qr.answers),window.scrollTo({top:0,behavior:"smooth"})}renderQuizResults(Qr,Kr){const Gr=document.getElementById("resultsForm"),Wr=createNavLink("/","Inicio");Wr.onclick=sn=>{sn.preventDefault();const cn=Wr.getAttribute("href");loadComponent(cn)},Wr.classList.add("mb-10"),Gr.appendChild(Wr);const Jr=document.createElement("div");Jr.className="";const Zr=[],Yr={correct:0,incorrect:0,unanswered:0};Kr.forEach(sn=>{sn.selectedAnswer===void 0||sn.selectedAnswer===""||sn.selectedAnswer===null?Yr.unanswered++:sn.selectedAnswer===sn.accepted?Yr.correct++:Yr.incorrect++,!sn.explanation&&Math.floor(Math.random()*2)+1===1&&(sn.explanation=`Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam nec arcu sit amet nunc volutpat aliquam. Curabitur euismod
				urna nec nunc ultricies, nec ultricies nunc ultricies. Nullam nec arcu sit amet nunc volutpat aliquam. Curabitur euismod`);const cn=generateQuestion(sn);Zr.push(cn)}),Jr.append(...Zr);const tn=generateHeader(`${`${Qr==="study"?"Estudio":Qr==="simulation"?"Simulacro":""}`}`),rn=generateSubHeader(Yr.correct,Yr.incorrect,Yr.unanswered),nn=document.createElement("div");if(nn.className="flex flex-wrap gap-4 justify-center items-center p-4",this.type!=="history"){const sn=generateButton("retry","Reintentar","button","secondary");sn.addEventListener("click",()=>{loadComponent(`${this.type==="study"?"/study/filters":"/simulation/filters"}`)}),nn.append(sn)}const an=generateButton("confirm","Volver al inicio","button","primary");an.addEventListener("click",()=>{loadComponent("/")}),nn.append(an),Gr.append(tn,rn,Jr,nn)}}function generateHeader(ze){const Qr=document.createElement("div");return Qr.className="w-full bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white py-4 px-6 text-center font-semibold text-lg rounded-t-lg ",Qr.textContent=`Resultados ${ze}`,Qr}function generateSubHeader(ze,Qr,Kr){const Gr=document.createElement("div");Gr.className="w-full flex flex-wrap items-center justify-between bg-zinc-100 dark:bg-zinc-800 gap-4 px-4 py-2 border-b border-zinc-300 dark:border-zinc-700 rounded-b-lg";const Wr=document.createElement("div");Wr.className="w-full sm:w-auto flex flex-shrink-0 items-center justify-center gap-4 text-zinc-700 dark:text-zinc-300 text-sm";const Jr=document.createElement("span");Jr.className="flex items-center gap-1 text-green-600",Jr.innerHTML=`<span class="w-2.5 h-2.5 bg-green-600 rounded-full inline-block"></span>${ze} correcta${ze>1?"s":""}`;const Zr=document.createElement("span");Zr.className="flex items-center gap-1 text-red-600",Zr.innerHTML=`<span class="w-2.5 h-2.5 bg-red-600 rounded-full inline-block"></span>${Qr} incorrecta${Qr>1?"s":""}`;const Yr=document.createElement("span");Yr.className="flex items-center gap-1 text-yellow-500",Yr.innerHTML=`<span class="w-2.5 h-2.5 bg-yellow-500 rounded-full inline-block"></span>${Kr} en blanco`,Wr.append(Jr,Zr,Yr);const en=generateSwitch("explanationToggle","Explicación","justify-center");return en.addEventListener("change",tn=>{const rn=document.querySelectorAll("[data-accordion]"),nn=tn.target.checked;rn.forEach(an=>{const sn=an.querySelector("button"),cn=an.querySelector(".accordion-content");nn?(cn.classList.remove("hidden"),sn.querySelector("svg").classList.add("rotate-180")):(cn.classList.add("hidden"),sn.querySelector("svg").classList.remove("rotate-180"))})}),Gr.appendChild(Wr),Gr.appendChild(en),Gr}function createIcon(ze){const Qr=document.createElement("img");return Qr.src=ze,Qr.className="w-4 h-4",Qr}function generateQuestion(ze){const Qr=ze.question,Kr=JSON.parse(ze.answers),Gr=ze.accepted,Wr=ze.selectedAnswer,Jr=ze.explanation,Zr=document.createElement("div");Zr.className="relative my-4 px-4 py-2 pr-12 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900";const Yr=document.createElement("p");Yr.className="font-medium text-zinc-700 dark:text-zinc-300 mb-2",Yr.textContent=Qr,Zr.appendChild(Yr);const en={correct:{border:"border border-green-600 border-dashed",icon:createIcon(passIcon),radio:""},incorrect:{border:"border border-red-600 border-dashed",icon:createIcon(failIcon),radio:""},unansweredCorrect:{border:"border border-green-600 border-dashed",icon:null,radio:"border border-yellow-500"},default:{border:"",icon:null,radio:"border border-zinc-400"}};Kr.forEach((an,sn)=>{const cn=document.createElement("div");cn.className="flex items-center gap-2 mb-1 p-1";const fn=sn===Gr,un=fn&&(Wr===void 0||Wr===""||Wr===null)?en.unansweredCorrect:fn?en.correct:sn===Wr?en.incorrect:en.default,dn=document.createElement("div");dn.className=`flex items-center gap-2 p-1 rounded-md ${un.border}`;const pn=document.createElement("div");pn.className=`flex flex-shrink-0 w-4 h-4 rounded-full ${un.radio}`,dn.appendChild(un.icon||pn);const hn=document.createElement("span");hn.className="text-sm text-zinc-700 dark:text-zinc-400",hn.textContent=`${String.fromCharCode(65+sn)}. ${an}`,dn.appendChild(hn),cn.appendChild(dn),Zr.appendChild(cn)});const tn=document.createElement("button");tn.className="absolute top-2 right-2 p-1 rounded-md text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-700",tn.innerHTML='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 8a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 8a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"/></svg>';const rn=document.createElement("div");if(rn.className="p-2 absolute top-8 right-2 w-48 bg-white dark:bg-zinc-800 rounded-md shadow-lg hidden",rn.setAttribute("role","menu"),[{text:translations[userLanguage].openDispute,action:async(an,sn,cn)=>{an.preventDefault();let fn=null;const ln=document.createElement("textarea");ln.className="w-full p-2 dark:text-white border rounded-lg dark:bg-zinc-800 dark:border-zinc-700",ln.placeholder=translations[userLanguage].enterDisputeReason,fn=generateDialog({children:[ln],onConfirm:async()=>{const un=ln.value.trim();if(!un){showModalX("error","Error","Please enter a reason for the dispute");return}try{const{response:dn,error:pn}=await fetchAPI("QUESTIONS.DISPUTES","POST",{id:sn.id},{reason:JSON.stringify(un)});if(pn||!dn){const hn=await dn.json();showModalX("error","Error",hn.message||"Un error ha ocurrido al enviar la disputa");return}showModalX("success","Disputa realizada","Tu disputa ha sido enviada con éxito, la contrastaremos lo antes posible."),cn.classList.add("opacity-50","cursor-not-allowed"),cn.classList.remove("hover:bg-gray-50","cursor-pointer"),cn.onclick=null}catch(dn){showModalX("error","Error",dn.message||"Un error ha ocurrido al enviar la disputa")}},confirmText:translations[userLanguage].confirm,cancelText:translations[userLanguage].cancel}),fn.showDialog()}},{text:"No volver a mostrar",action:async(an,sn,cn)=>{an.preventDefault();let fn=null;const ln=document.createElement("div");ln.className="w-full p-2 dark:text-white rounded-lg dark:bg-zinc-800",ln.textContent=translations[userLanguage].blacklistedInfo,fn=generateDialog({children:[ln],onConfirm:async()=>{try{const{response:un,error:dn}=await fetchAPI("QUESTIONS.BLACKLIST","POST",{id:sn.id});if(dn||!un){const pn=await un.json();showModalX("error","Error",pn.message||translations[userLanguage].blacklistError);return}showModalX("success","Success",translations[userLanguage].blackListSuccess),cn.classList.remove("hover:bg-gray-50","cursor-pointer"),cn.classList.add("opacity-50","cursor-not-allowed"),cn.onclick=null}catch(un){showModalX("error","Error",un.message||translations[userLanguage].blacklistError)}},confirmText:translations[userLanguage].confirm,cancelText:translations[userLanguage].cancel}),fn.showDialog()}}].forEach(an=>{const sn=document.createElement("a");sn.className="block px-4 py-2 text-sm text-gray-500 hover:rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white cursor-pointer",sn.textContent=an.text,sn.onclick=cn=>an.action(cn,ze,sn),rn.appendChild(sn)}),tn.addEventListener("click",an=>{an.stopPropagation(),an.preventDefault(),rn.classList.toggle("hidden")}),document.addEventListener("click",()=>{rn.classList.add("hidden")}),Zr.appendChild(tn),Zr.appendChild(rn),Jr){const an=document.createElement("div");an.className="w-full mt-4",an.setAttribute("data-accordion","");const sn=document.createElement("button");sn.type="button",sn.className="flex items-center justify-between w-full text-left py-2 text-xs sm:text-sm font-semibold text-zinc-900 dark:text-zinc-100",sn.innerHTML=`
			<span>Ver explicación</span>
			<svg class="h-5 w-5 transform transition-transform duration-300 ease-in-out" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
			</svg>
		`;const cn=document.createElement("div");cn.className="accordion-content mt-2 overflow-hidden text-xs sm:text-sm text-zinc-900 dark:text-zinc-100 hidden",cn.textContent=Jr,sn.addEventListener("click",()=>{cn.classList.toggle("hidden"),sn.querySelector("svg").classList.toggle("rotate-180")}),an.appendChild(sn),an.appendChild(cn),Zr.appendChild(an)}return Zr}new Results("results");const initializeResults=ze=>{new Results(ze).initialize()};class SessionManager{constructor(){this.isRefreshing=!1,this.failedQueue=[],this.refreshAttempts=0,this.maxRefreshAttempts=3,this.refreshTimeout=null,this.setupNavigationBlockingRemovalOnPasheRefresh()}setupNavigationBlockingRemovalOnPasheRefresh(){window.addEventListener("beforeunload",()=>{if(getState().navigationBlocked)return updateState({navigationBlocked:!1}),!0})}setupAutoRefresh(){this.refreshTimeout&&(clearInterval(this.refreshTimeout),this.refreshTimeout=null),this.silentTokenCheck(),this.refreshTimeout=setInterval(()=>{this.silentTokenCheck()},1e3*REFRESH_TOKEN_TIME_INTERVAL),window.addEventListener("beforeunload",()=>{this.refreshTimeout&&clearInterval(this.refreshTimeout)})}async refreshToken(){var Gr;const{response:Qr,error:Kr}=await fetchAPI("AUTH.REFRESH","POST");return Kr||!Qr?(console.error("Error fetching submissions:",Kr),!1):(Gr=Qr.data)!=null&&Gr.refresh_token?Qr.data.refresh_token:(console.error("Refresh token not found in response"),!1)}async silentTokenCheck(){if(this.isRefreshing)return;this.isRefreshing=!0;const Qr=this.getTokenFromState();if(!Qr)return this.updateAuthState(!1);if(this.isTokenCloseToExpiration(Qr)){const Kr=await this.refreshToken();if(!Kr)return console.error("Token refresh failed"),this.updateAuthState(!1);this.updateAuthToken(Kr),this.updateAuthState(!0)}this.isRefreshing=!1}expirationLeft(Qr){var Zr;const Gr=JSON.parse(atob((Zr=Qr.split("."))==null?void 0:Zr[1])).exp-Math.floor(Date.now()/1e3),Wr=Math.floor(Gr/60),Jr=Gr%60;return`${Wr}m ${Jr}s (${Gr}s total)`}updateAuthState(Qr){const Kr=getState();updateState({...Kr,isAuthenticated:Qr})}updateAuthToken(Qr){const Kr=getState();updateState({...Kr,user:{...Kr.user,refresh_token:Qr}})}getTokenFromState(){const Qr=getState();try{if(!Qr)return console.warn("No state found"),null;if(!Qr.user)return console.warn("No user data in state"),null;const Kr=typeof Qr.user=="string"?safeJSONParse(Qr.user):Qr.user;return Kr?Kr.refresh_token?typeof Kr.refresh_token!="string"||!Kr.refresh_token.split(".").length===3?(console.warn("Invalid token format"),null):Kr.refresh_token:(console.warn("No refresh token found"),null):(console.warn("Invalid user data format"),null)}catch(Kr){return console.error("Error getting token from state:",{message:Kr.message,stack:Kr.stack}),null}}getTokenExpiration(Qr){if(!Qr||Qr.length<0)return console.error("Invalid token"),null;try{return JSON.parse(atob(Qr.split(".")[1])).exp}catch(Kr){return console.warn("Error getting token expiration from state:",Kr),null}}isTokenExpired(Qr){return this.getTokenExpiration(Qr)-Math.floor(Date.now()/1e3)<0}isStateTokenExpired(){const Qr=this.getTokenFromState();return this.isTokenExpired(Qr)}isTokenCloseToExpiration(Qr){return this.getTokenExpiration(Qr)-Math.floor(Date.now()/1e3)<REFRESH_TOKEN_RENEW_CHECKPOINT}isStateTokenCloseToExpiration(){const Qr=this.getTokenFromState();return this.isTokenCloseToExpiration(Qr)}processQueue(Qr,Kr=null){this.failedQueue.forEach(Gr=>{Qr?Gr.reject(Qr):Gr.resolve(Kr)}),this.failedQueue=[]}checkIfTokenAboutToExpire(){this.isTokenCloseToExpiration()&&this.refreshToken().catch(Qr=>{console.error("Auto refresh failed:",Qr),this.handleSessionExpired()})}handleSessionExpired(){this.refreshTimeout&&clearTimeout(this.refreshTimeout),showModalX("info","Sesión concluida","Tu sesión ha terminado. Si quieres volver a utilizar la aplicación, inicia sesión"),this.clearSession(),console.warn("Session expired")}clearSession(){this.refreshAttempts=0,updateState({isAuthenticated:!1,user:null})}}const session=new SessionManager,notFoundHeader={title:"¡Hasta pronto!",subheader:"Vuelve cuando quieras, aquí te esperamos.",description:"Mientras tanto..."},backToHomeButton={label:"Volver a acceder"};function initializeLogout(){generateNotFoundHeader(),generateBackToHomeButton(backToHomeButton.label),session.handleSessionExpired(),toggleHiddenClass("[data-user-container]",!0),toggleHiddenClass("[data-login-container]",!1)}function generateBackToHomeButton(ze){const Qr=document.querySelector("#back-to-home-button"),Kr=generateButton("",ze);Kr.onclick=()=>window.location.href="/",Qr.appendChild(Kr)}function generateNotFoundHeader(){const ze=document.getElementById("error-header");ze.textContent=notFoundHeader.title;const Qr=document.getElementById("error-subheader");Qr.textContent=notFoundHeader.subheader}const componentsSource="/src/web/components/",routes={"/404":{component:"404.html",initialize:initializeNotFound},"/auth":{component:"auth.html",initialize:initializeAuth},"/components":{component:"components.html",initialize:initializeComponents},"/logout":{requiresAuth:!0,component:"logout.html",initialize:initializeLogout},"/":{requiresAuth:!0,component:"home.html",initialize:initializeHome},"/study/filters":{requiresAuth:!0,component:"filters.html",initialize:()=>initializeFilters("study")},"/study/play":{requiresAuth:!0,component:"study.html",initialize:initializeStudy},"/study/results":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("study")},"/simulation/filters":{requiresAuth:!0,component:"filters.html",initialize:()=>initializeFilters("simulation")},"/simulation/play":{requiresAuth:!0,component:"simulation.html",initialize:initializeSimulation},"/simulation/results":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("simulation")},"/results/:id":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("history")}},notFoundComponent="<h2>404 - Page not found</h2>";function matchRoute(ze){if(routes[ze])return{route:routes[ze],params:{}};const Qr=ze.split("/").filter(Boolean);for(const[Kr,Gr]of Object.entries(routes)){const Wr=Kr.split("/").filter(Boolean);if(Qr.length!==Wr.length)continue;const Jr={};if(Wr.every((Yr,en)=>Yr.startsWith(":")?(Jr[Yr.slice(1)]=Qr[en],!0):Yr===Qr[en]))return{route:Gr,params:Jr}}return{route:routes["/404"],params:{}}}async function fetchComponent(ze,Qr){const Kr=await fetch(ze+Qr);if(!Kr.ok)throw new Error("Failed to fetch component");const Gr=await Kr.text();if(Qr!=="/"&&Gr.includes("<body>"))throw new Error("Index page found");return Gr}async function isBlockedByState(){return getState().navigationBlocked?await showConfirmationDialog("Si abandonas la página perderás tu progreso. ¿Deseas salir?","Abandonar","Cancelar")?(updateState({navigationBlocked:!1}),!1):(history.pushState(null,null,window.location.pathname),!0):!1}async function loadComponent(ze){if(await isBlockedByState())return;const[Kr,Gr]=ze.split("?");let{route:Wr,params:Jr}=matchRoute(Kr);const Zr=document.querySelector("#main-content");try{Wr.requiresAuth&&session.isStateTokenExpired()&&(Wr=routes["/auth"]),Zr.innerHTML=await fetchComponent(componentsSource,Wr.component),Wr.initialize&&typeof Wr.initialize=="function"&&Wr.initialize(getState().filters),updateState({currentRoute:Kr,queryParams:Gr}),history.pushState(null,null,ze)}catch(Yr){console.error("Error loading component:",Yr),Zr.innerHTML=notFoundComponent}}window.addEventListener("router-redirect",async ze=>{const{path:Qr,queryParams:Kr}=ze.detail;await loadComponent(Qr+Kr)});async function initializeApp(){try{await session.setupAutoRefresh(),initializeNavigation();const ze=getState();updateState({...ze,currentRoute:window.location.pathname}),loadComponent(window.location.pathname),setTheme(localStorage.theme||getSystemTheme()),module_default.start()}catch(ze){throw console.error("App initialization failed:",ze),ze}}htmx.defineExtension("json-encoding",{onEvent:function(ze,Qr){ze==="htmx:configRequest"&&(Qr.detail.headers["Content-Type"]="application/json",Qr.detail.headers.Accept="application/json")},encodeParameters:function(ze,Qr,Kr){return JSON.stringify(Qr)}});document.addEventListener("DOMContentLoaded",()=>{initializeApp().catch(ze=>{console.error("Failed to initialize app:",ze),showModalX("error","Error de servidor",ze)})});document.addEventListener("DOMContentLoaded",()=>{const ze=localStorage.getItem("redirect");ze&&(localStorage.removeItem("redirect"),history.replaceState(null,null,ze),loadComponent(ze))});
//# sourceMappingURL=main.js.map
