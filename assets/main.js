var ro=Object.defineProperty;var ao=(Wr,Gr,Yr)=>Gr in Wr?ro(Wr,Gr,{enumerable:!0,configurable:!0,writable:!0,value:Yr}):Wr[Gr]=Yr;var Jn=(Wr,Gr,Yr)=>ao(Wr,typeof Gr!="symbol"?Gr+"":Gr,Yr);(function(){const Gr=document.createElement("link").relList;if(Gr&&Gr.supports&&Gr.supports("modulepreload"))return;for(const Kr of document.querySelectorAll('link[rel="modulepreload"]'))Zr(Kr);new MutationObserver(Kr=>{for(const Qr of Kr)if(Qr.type==="childList")for(const Jr of Qr.addedNodes)Jr.tagName==="LINK"&&Jr.rel==="modulepreload"&&Zr(Jr)}).observe(document,{childList:!0,subtree:!0});function Yr(Kr){const Qr={};return Kr.integrity&&(Qr.integrity=Kr.integrity),Kr.referrerPolicy&&(Qr.referrerPolicy=Kr.referrerPolicy),Kr.crossOrigin==="use-credentials"?Qr.credentials="include":Kr.crossOrigin==="anonymous"?Qr.credentials="omit":Qr.credentials="same-origin",Qr}function Zr(Kr){if(Kr.ep)return;Kr.ep=!0;const Qr=Yr(Kr);fetch(Kr.href,Qr)}})();function getDefaultExportFromCjs(Wr){return Wr&&Wr.__esModule&&Object.prototype.hasOwnProperty.call(Wr,"default")?Wr.default:Wr}var htmx_min$1={exports:{}},htmx_min=htmx_min$1.exports,hasRequiredHtmx_min;function requireHtmx_min(){return hasRequiredHtmx_min||(hasRequiredHtmx_min=1,function(module){(function(Wr,Gr){module.exports?module.exports=Gr():Wr.htmx=Wr.htmx||Gr()})(typeof self<"u"?self:htmx_min,function(){return function(){var Q={onLoad:F,process:zt,on:de,off:ge,trigger:ce,ajax:Nr,find:C,findAll:f,closest:v,values:function(Wr,Gr){var Yr=dr(Wr,Gr||"post");return Yr.values},remove:_,addClass:z,removeClass:n,toggleClass:$,takeClass:W,defineExtension:Ur,removeExtension:Br,logAll:V,logNone:j,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null},parseInterval:d,_:t,createEventSource:function(Wr){return new EventSource(Wr,{withCredentials:!0})},createWebSocket:function(Wr){var Gr=new WebSocket(Wr,[]);return Gr.binaryType=Q.config.wsBinaryType,Gr},version:"1.9.12"},r={addTriggerHandler:Lt,bodyContains:se,canAccessLocalStorage:U,findThisElement:xe,filterValues:yr,hasAttribute:o,getAttributeValue:te,getClosestAttributeValue:ne,getClosestMatch:c,getExpressionVars:Hr,getHeaders:xr,getInputValues:dr,getInternalData:ae,getSwapSpecification:wr,getTriggerSpecs:it,getTarget:ye,makeFragment:l,mergeObjects:le,makeSettleInfo:T,oobSwap:Ee,querySelectorExt:ue,selectAndSwap:je,settleImmediately:nr,shouldCancel:ut,triggerEvent:ce,triggerErrorEvent:fe,withExtensions:R},w=["get","post","put","delete","patch"],i=w.map(function(Wr){return"[hx-"+Wr+"], [data-hx-"+Wr+"]"}).join(", "),S=e("head"),q=e("title"),H=e("svg",!0);function e(Wr,Gr){return new RegExp("<"+Wr+"(\\s[^>]*>|>)([\\s\\S]*?)<\\/"+Wr+">",Gr?"gim":"im")}function d(Wr){if(Wr==null)return;let Gr=NaN;return Wr.slice(-2)=="ms"?Gr=parseFloat(Wr.slice(0,-2)):Wr.slice(-1)=="s"?Gr=parseFloat(Wr.slice(0,-1))*1e3:Wr.slice(-1)=="m"?Gr=parseFloat(Wr.slice(0,-1))*1e3*60:Gr=parseFloat(Wr),isNaN(Gr)?void 0:Gr}function ee(Wr,Gr){return Wr.getAttribute&&Wr.getAttribute(Gr)}function o(Wr,Gr){return Wr.hasAttribute&&(Wr.hasAttribute(Gr)||Wr.hasAttribute("data-"+Gr))}function te(Wr,Gr){return ee(Wr,Gr)||ee(Wr,"data-"+Gr)}function u(Wr){return Wr.parentElement}function re(){return document}function c(Wr,Gr){for(;Wr&&!Gr(Wr);)Wr=u(Wr);return Wr||null}function L(Wr,Gr,Yr){var Zr=te(Gr,Yr),Kr=te(Gr,"hx-disinherit");return Wr!==Gr&&Kr&&(Kr==="*"||Kr.split(" ").indexOf(Yr)>=0)?"unset":Zr}function ne(Wr,Gr){var Yr=null;if(c(Wr,function(Zr){return Yr=L(Wr,Zr,Gr)}),Yr!=="unset")return Yr}function h(Wr,Gr){var Yr=Wr.matches||Wr.matchesSelector||Wr.msMatchesSelector||Wr.mozMatchesSelector||Wr.webkitMatchesSelector||Wr.oMatchesSelector;return Yr&&Yr.call(Wr,Gr)}function A(Wr){var Gr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yr=Gr.exec(Wr);return Yr?Yr[1].toLowerCase():""}function s(Wr,Gr){for(var Yr=new DOMParser,Zr=Yr.parseFromString(Wr,"text/html"),Kr=Zr.body;Gr>0;)Gr--,Kr=Kr.firstChild;return Kr==null&&(Kr=re().createDocumentFragment()),Kr}function N(Wr){return/<body/.test(Wr)}function l(Wr){var Gr=!N(Wr),Yr=A(Wr),Zr=Wr;if(Yr==="head"&&(Zr=Zr.replace(S,"")),Q.config.useTemplateFragments&&Gr){var Kr=s("<body><template>"+Zr+"</template></body>",0),Qr=Kr.querySelector("template").content;return Q.config.allowScriptTags?oe(Qr.querySelectorAll("script"),function(Jr){Q.config.inlineScriptNonce&&(Jr.nonce=Q.config.inlineScriptNonce),Jr.htmxExecuted=navigator.userAgent.indexOf("Firefox")===-1}):oe(Qr.querySelectorAll("script"),function(Jr){_(Jr)}),Qr}switch(Yr){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return s("<table>"+Zr+"</table>",1);case"col":return s("<table><colgroup>"+Zr+"</colgroup></table>",2);case"tr":return s("<table><tbody>"+Zr+"</tbody></table>",2);case"td":case"th":return s("<table><tbody><tr>"+Zr+"</tr></tbody></table>",3);case"script":case"style":return s("<div>"+Zr+"</div>",1);default:return s(Zr,0)}}function ie(Wr){Wr&&Wr()}function I(Wr,Gr){return Object.prototype.toString.call(Wr)==="[object "+Gr+"]"}function k(Wr){return I(Wr,"Function")}function P(Wr){return I(Wr,"Object")}function ae(Wr){var Gr="htmx-internal-data",Yr=Wr[Gr];return Yr||(Yr=Wr[Gr]={}),Yr}function M(Wr){var Gr=[];if(Wr)for(var Yr=0;Yr<Wr.length;Yr++)Gr.push(Wr[Yr]);return Gr}function oe(Wr,Gr){if(Wr)for(var Yr=0;Yr<Wr.length;Yr++)Gr(Wr[Yr])}function X(Wr){var Gr=Wr.getBoundingClientRect(),Yr=Gr.top,Zr=Gr.bottom;return Yr<window.innerHeight&&Zr>=0}function se(Wr){return Wr.getRootNode&&Wr.getRootNode()instanceof window.ShadowRoot?re().body.contains(Wr.getRootNode().host):re().body.contains(Wr)}function D(Wr){return Wr.trim().split(/\s+/)}function le(Wr,Gr){for(var Yr in Gr)Gr.hasOwnProperty(Yr)&&(Wr[Yr]=Gr[Yr]);return Wr}function E(Wr){try{return JSON.parse(Wr)}catch(Gr){return b(Gr),null}}function U(){var Wr="htmx:localStorageTest";try{return localStorage.setItem(Wr,Wr),localStorage.removeItem(Wr),!0}catch{return!1}}function B(Wr){try{var Gr=new URL(Wr);return Gr&&(Wr=Gr.pathname+Gr.search),/^\/$/.test(Wr)||(Wr=Wr.replace(/\/+$/,"")),Wr}catch{return Wr}}function t(e){return Tr(re().body,function(){return eval(e)})}function F(Wr){var Gr=Q.on("htmx:load",function(Yr){Wr(Yr.detail.elt)});return Gr}function V(){Q.logger=function(Wr,Gr,Yr){console&&console.log(Gr,Wr,Yr)}}function j(){Q.logger=null}function C(Wr,Gr){return Gr?Wr.querySelector(Gr):C(re(),Wr)}function f(Wr,Gr){return Gr?Wr.querySelectorAll(Gr):f(re(),Wr)}function _(Wr,Gr){Wr=p(Wr),Gr?setTimeout(function(){_(Wr),Wr=null},Gr):Wr.parentElement.removeChild(Wr)}function z(Wr,Gr,Yr){Wr=p(Wr),Yr?setTimeout(function(){z(Wr,Gr),Wr=null},Yr):Wr.classList&&Wr.classList.add(Gr)}function n(Wr,Gr,Yr){Wr=p(Wr),Yr?setTimeout(function(){n(Wr,Gr),Wr=null},Yr):Wr.classList&&(Wr.classList.remove(Gr),Wr.classList.length===0&&Wr.removeAttribute("class"))}function $(Wr,Gr){Wr=p(Wr),Wr.classList.toggle(Gr)}function W(Wr,Gr){Wr=p(Wr),oe(Wr.parentElement.children,function(Yr){n(Yr,Gr)}),z(Wr,Gr)}function v(Wr,Gr){if(Wr=p(Wr),Wr.closest)return Wr.closest(Gr);do if(Wr==null||h(Wr,Gr))return Wr;while(Wr=Wr&&u(Wr));return null}function g(Wr,Gr){return Wr.substring(0,Gr.length)===Gr}function G(Wr,Gr){return Wr.substring(Wr.length-Gr.length)===Gr}function J(Wr){var Gr=Wr.trim();return g(Gr,"<")&&G(Gr,"/>")?Gr.substring(1,Gr.length-2):Gr}function Z(Wr,Gr){return Gr.indexOf("closest ")===0?[v(Wr,J(Gr.substr(8)))]:Gr.indexOf("find ")===0?[C(Wr,J(Gr.substr(5)))]:Gr==="next"?[Wr.nextElementSibling]:Gr.indexOf("next ")===0?[K(Wr,J(Gr.substr(5)))]:Gr==="previous"?[Wr.previousElementSibling]:Gr.indexOf("previous ")===0?[Y(Wr,J(Gr.substr(9)))]:Gr==="document"?[document]:Gr==="window"?[window]:Gr==="body"?[document.body]:re().querySelectorAll(J(Gr))}var K=function(Wr,Gr){for(var Yr=re().querySelectorAll(Gr),Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr];if(Kr.compareDocumentPosition(Wr)===Node.DOCUMENT_POSITION_PRECEDING)return Kr}},Y=function(Wr,Gr){for(var Yr=re().querySelectorAll(Gr),Zr=Yr.length-1;Zr>=0;Zr--){var Kr=Yr[Zr];if(Kr.compareDocumentPosition(Wr)===Node.DOCUMENT_POSITION_FOLLOWING)return Kr}};function ue(Wr,Gr){return Gr?Z(Wr,Gr)[0]:Z(re().body,Wr)[0]}function p(Wr){return I(Wr,"String")?C(Wr):Wr}function ve(Wr,Gr,Yr){return k(Gr)?{target:re().body,event:Wr,listener:Gr}:{target:p(Wr),event:Gr,listener:Yr}}function de(Wr,Gr,Yr){jr(function(){var Kr=ve(Wr,Gr,Yr);Kr.target.addEventListener(Kr.event,Kr.listener)});var Zr=k(Gr);return Zr?Gr:Yr}function ge(Wr,Gr,Yr){return jr(function(){var Zr=ve(Wr,Gr,Yr);Zr.target.removeEventListener(Zr.event,Zr.listener)}),k(Gr)?Gr:Yr}var pe=re().createElement("output");function me(Wr,Gr){var Yr=ne(Wr,Gr);if(Yr){if(Yr==="this")return[xe(Wr,Gr)];var Zr=Z(Wr,Yr);return Zr.length===0?(b('The selector "'+Yr+'" on '+Gr+" returned no matches!"),[pe]):Zr}}function xe(Wr,Gr){return c(Wr,function(Yr){return te(Yr,Gr)!=null})}function ye(Wr){var Gr=ne(Wr,"hx-target");if(Gr)return Gr==="this"?xe(Wr,"hx-target"):ue(Wr,Gr);var Yr=ae(Wr);return Yr.boosted?re().body:Wr}function be(Wr){for(var Gr=Q.config.attributesToSettle,Yr=0;Yr<Gr.length;Yr++)if(Wr===Gr[Yr])return!0;return!1}function we(Wr,Gr){oe(Wr.attributes,function(Yr){!Gr.hasAttribute(Yr.name)&&be(Yr.name)&&Wr.removeAttribute(Yr.name)}),oe(Gr.attributes,function(Yr){be(Yr.name)&&Wr.setAttribute(Yr.name,Yr.value)})}function Se(Wr,Gr){for(var Yr=Fr(Gr),Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr];try{if(Kr.isInlineSwap(Wr))return!0}catch(Qr){b(Qr)}}return Wr==="outerHTML"}function Ee(Wr,Gr,Yr){var Zr="#"+ee(Gr,"id"),Kr="outerHTML";Wr==="true"||(Wr.indexOf(":")>0?(Kr=Wr.substr(0,Wr.indexOf(":")),Zr=Wr.substr(Wr.indexOf(":")+1,Wr.length)):Kr=Wr);var Qr=re().querySelectorAll(Zr);return Qr?(oe(Qr,function(Jr){var en,tn=Gr.cloneNode(!0);en=re().createDocumentFragment(),en.appendChild(tn),Se(Kr,Jr)||(en=tn);var rn={shouldSwap:!0,target:Jr,fragment:en};ce(Jr,"htmx:oobBeforeSwap",rn)&&(Jr=rn.target,rn.shouldSwap&&Fe(Kr,Jr,Jr,en,Yr),oe(Yr.elts,function(an){ce(an,"htmx:oobAfterSwap",rn)}))}),Gr.parentNode.removeChild(Gr)):(Gr.parentNode.removeChild(Gr),fe(re().body,"htmx:oobErrorNoTarget",{content:Gr})),Wr}function Ce(Wr,Gr,Yr){var Zr=ne(Wr,"hx-select-oob");if(Zr)for(var Kr=Zr.split(","),Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr].split(":",2),en=Jr[0].trim();en.indexOf("#")===0&&(en=en.substring(1));var tn=Jr[1]||"true",rn=Gr.querySelector("#"+en);rn&&Ee(tn,rn,Yr)}oe(f(Gr,"[hx-swap-oob], [data-hx-swap-oob]"),function(an){var nn=te(an,"hx-swap-oob");nn!=null&&Ee(nn,an,Yr)})}function Re(Wr){oe(f(Wr,"[hx-preserve], [data-hx-preserve]"),function(Gr){var Yr=te(Gr,"id"),Zr=re().getElementById(Yr);Zr!=null&&Gr.parentNode.replaceChild(Zr,Gr)})}function Te(Wr,Gr,Yr){oe(Gr.querySelectorAll("[id]"),function(Zr){var Kr=ee(Zr,"id");if(Kr&&Kr.length>0){var Qr=Kr.replace("'","\\'"),Jr=Zr.tagName.replace(":","\\:"),en=Wr.querySelector(Jr+"[id='"+Qr+"']");if(en&&en!==Wr){var tn=Zr.cloneNode();we(Zr,en),Yr.tasks.push(function(){we(Zr,tn)})}}})}function Oe(Wr){return function(){n(Wr,Q.config.addedClass),zt(Wr),Nt(Wr),qe(Wr),ce(Wr,"htmx:load")}}function qe(Wr){var Gr="[autofocus]",Yr=h(Wr,Gr)?Wr:Wr.querySelector(Gr);Yr!=null&&Yr.focus()}function a(Wr,Gr,Yr,Zr){for(Te(Wr,Yr,Zr);Yr.childNodes.length>0;){var Kr=Yr.firstChild;z(Kr,Q.config.addedClass),Wr.insertBefore(Kr,Gr),Kr.nodeType!==Node.TEXT_NODE&&Kr.nodeType!==Node.COMMENT_NODE&&Zr.tasks.push(Oe(Kr))}}function He(Wr,Gr){for(var Yr=0;Yr<Wr.length;)Gr=(Gr<<5)-Gr+Wr.charCodeAt(Yr++)|0;return Gr}function Le(Wr){var Gr=0;if(Wr.attributes)for(var Yr=0;Yr<Wr.attributes.length;Yr++){var Zr=Wr.attributes[Yr];Zr.value&&(Gr=He(Zr.name,Gr),Gr=He(Zr.value,Gr))}return Gr}function Ae(Wr){var Gr=ae(Wr);if(Gr.onHandlers){for(var Yr=0;Yr<Gr.onHandlers.length;Yr++){const Zr=Gr.onHandlers[Yr];Wr.removeEventListener(Zr.event,Zr.listener)}delete Gr.onHandlers}}function Ne(Wr){var Gr=ae(Wr);Gr.timeout&&clearTimeout(Gr.timeout),Gr.webSocket&&Gr.webSocket.close(),Gr.sseEventSource&&Gr.sseEventSource.close(),Gr.listenerInfos&&oe(Gr.listenerInfos,function(Yr){Yr.on&&Yr.on.removeEventListener(Yr.trigger,Yr.listener)}),Ae(Wr),oe(Object.keys(Gr),function(Yr){delete Gr[Yr]})}function m(Wr){ce(Wr,"htmx:beforeCleanupElement"),Ne(Wr),Wr.children&&oe(Wr.children,function(Gr){m(Gr)})}function Ie(Wr,Gr,Yr){if(Wr.tagName==="BODY")return Ue(Wr,Gr,Yr);var Zr,Kr=Wr.previousSibling;for(a(u(Wr),Wr,Gr,Yr),Kr==null?Zr=u(Wr).firstChild:Zr=Kr.nextSibling,Yr.elts=Yr.elts.filter(function(Qr){return Qr!=Wr});Zr&&Zr!==Wr;)Zr.nodeType===Node.ELEMENT_NODE&&Yr.elts.push(Zr),Zr=Zr.nextElementSibling;m(Wr),u(Wr).removeChild(Wr)}function ke(Wr,Gr,Yr){return a(Wr,Wr.firstChild,Gr,Yr)}function Pe(Wr,Gr,Yr){return a(u(Wr),Wr,Gr,Yr)}function Me(Wr,Gr,Yr){return a(Wr,null,Gr,Yr)}function Xe(Wr,Gr,Yr){return a(u(Wr),Wr.nextSibling,Gr,Yr)}function De(Wr,Gr,Yr){return m(Wr),u(Wr).removeChild(Wr)}function Ue(Wr,Gr,Yr){var Zr=Wr.firstChild;if(a(Wr,Zr,Gr,Yr),Zr){for(;Zr.nextSibling;)m(Zr.nextSibling),Wr.removeChild(Zr.nextSibling);m(Zr),Wr.removeChild(Zr)}}function Be(Wr,Gr,Yr){var Zr=Yr||ne(Wr,"hx-select");if(Zr){var Kr=re().createDocumentFragment();oe(Gr.querySelectorAll(Zr),function(Qr){Kr.appendChild(Qr)}),Gr=Kr}return Gr}function Fe(Wr,Gr,Yr,Zr,Kr){switch(Wr){case"none":return;case"outerHTML":Ie(Yr,Zr,Kr);return;case"afterbegin":ke(Yr,Zr,Kr);return;case"beforebegin":Pe(Yr,Zr,Kr);return;case"beforeend":Me(Yr,Zr,Kr);return;case"afterend":Xe(Yr,Zr,Kr);return;case"delete":De(Yr);return;default:for(var Qr=Fr(Gr),Jr=0;Jr<Qr.length;Jr++){var en=Qr[Jr];try{var tn=en.handleSwap(Wr,Yr,Zr,Kr);if(tn){if(typeof tn.length<"u")for(var rn=0;rn<tn.length;rn++){var an=tn[rn];an.nodeType!==Node.TEXT_NODE&&an.nodeType!==Node.COMMENT_NODE&&Kr.tasks.push(Oe(an))}return}}catch(nn){b(nn)}}Wr==="innerHTML"?Ue(Yr,Zr,Kr):Fe(Q.config.defaultSwapStyle,Gr,Yr,Zr,Kr)}}function Ve(Wr){if(Wr.indexOf("<title")>-1){var Gr=Wr.replace(H,""),Yr=Gr.match(q);if(Yr)return Yr[2]}}function je(Wr,Gr,Yr,Zr,Kr,Qr){Kr.title=Ve(Zr);var Jr=l(Zr);if(Jr)return Ce(Yr,Jr,Kr),Jr=Be(Yr,Jr,Qr),Re(Jr),Fe(Wr,Yr,Gr,Jr,Kr)}function _e(Wr,Gr,Yr){var Zr=Wr.getResponseHeader(Gr);if(Zr.indexOf("{")===0){var Kr=E(Zr);for(var Qr in Kr)if(Kr.hasOwnProperty(Qr)){var Jr=Kr[Qr];P(Jr)||(Jr={value:Jr}),ce(Yr,Qr,Jr)}}else for(var en=Zr.split(","),tn=0;tn<en.length;tn++)ce(Yr,en[tn].trim(),[])}var x=/[\s,]/,$e=/[_$a-zA-Z]/,We=/[_$a-zA-Z0-9]/,Ge=['"',"'","/"],Je=/[^\s]/,Ze=/[{(]/,Ke=/[})]/;function Ye(Wr){for(var Gr=[],Yr=0;Yr<Wr.length;){if($e.exec(Wr.charAt(Yr))){for(var Zr=Yr;We.exec(Wr.charAt(Yr+1));)Yr++;Gr.push(Wr.substr(Zr,Yr-Zr+1))}else if(Ge.indexOf(Wr.charAt(Yr))!==-1){var Kr=Wr.charAt(Yr),Zr=Yr;for(Yr++;Yr<Wr.length&&Wr.charAt(Yr)!==Kr;)Wr.charAt(Yr)==="\\"&&Yr++,Yr++;Gr.push(Wr.substr(Zr,Yr-Zr+1))}else{var Qr=Wr.charAt(Yr);Gr.push(Qr)}Yr++}return Gr}function Qe(Wr,Gr,Yr){return $e.exec(Wr.charAt(0))&&Wr!=="true"&&Wr!=="false"&&Wr!=="this"&&Wr!==Yr&&Gr!=="."}function et(Wr,Gr,Yr){if(Gr[0]==="["){Gr.shift();for(var Zr=1,Kr=" return (function("+Yr+"){ return (",Qr=null;Gr.length>0;){var Jr=Gr[0];if(Jr==="]"){if(Zr--,Zr===0){Qr===null&&(Kr=Kr+"true"),Gr.shift(),Kr+=")})";try{var en=Tr(Wr,function(){return Function(Kr)()},function(){return!0});return en.source=Kr,en}catch(tn){return fe(re().body,"htmx:syntax:error",{error:tn,source:Kr}),null}}}else Jr==="["&&Zr++;Qe(Jr,Qr,Yr)?Kr+="(("+Yr+"."+Jr+") ? ("+Yr+"."+Jr+") : (window."+Jr+"))":Kr=Kr+Jr,Qr=Gr.shift()}}}function y(Wr,Gr){for(var Yr="";Wr.length>0&&!Gr.test(Wr[0]);)Yr+=Wr.shift();return Yr}function tt(Wr){var Gr;return Wr.length>0&&Ze.test(Wr[0])?(Wr.shift(),Gr=y(Wr,Ke).trim(),Wr.shift()):Gr=y(Wr,x),Gr}var rt="input, textarea, select";function nt(Wr,Gr,Yr){var Zr=[],Kr=Ye(Gr);do{y(Kr,Je);var Qr=Kr.length,Jr=y(Kr,/[,\[\s]/);if(Jr!=="")if(Jr==="every"){var en={trigger:"every"};y(Kr,Je),en.pollInterval=d(y(Kr,/[,\[\s]/)),y(Kr,Je);var tn=et(Wr,Kr,"event");tn&&(en.eventFilter=tn),Zr.push(en)}else if(Jr.indexOf("sse:")===0)Zr.push({trigger:"sse",sseEvent:Jr.substr(4)});else{var rn={trigger:Jr},tn=et(Wr,Kr,"event");for(tn&&(rn.eventFilter=tn);Kr.length>0&&Kr[0]!==",";){y(Kr,Je);var an=Kr.shift();if(an==="changed")rn.changed=!0;else if(an==="once")rn.once=!0;else if(an==="consume")rn.consume=!0;else if(an==="delay"&&Kr[0]===":")Kr.shift(),rn.delay=d(y(Kr,x));else if(an==="from"&&Kr[0]===":"){if(Kr.shift(),Ze.test(Kr[0]))var nn=tt(Kr);else{var nn=y(Kr,x);if(nn==="closest"||nn==="find"||nn==="next"||nn==="previous"){Kr.shift();var sn=tt(Kr);sn.length>0&&(nn+=" "+sn)}}rn.from=nn}else an==="target"&&Kr[0]===":"?(Kr.shift(),rn.target=tt(Kr)):an==="throttle"&&Kr[0]===":"?(Kr.shift(),rn.throttle=d(y(Kr,x))):an==="queue"&&Kr[0]===":"?(Kr.shift(),rn.queue=y(Kr,x)):an==="root"&&Kr[0]===":"?(Kr.shift(),rn[an]=tt(Kr)):an==="threshold"&&Kr[0]===":"?(Kr.shift(),rn[an]=y(Kr,x)):fe(Wr,"htmx:syntax:error",{token:Kr.shift()})}Zr.push(rn)}Kr.length===Qr&&fe(Wr,"htmx:syntax:error",{token:Kr.shift()}),y(Kr,Je)}while(Kr[0]===","&&Kr.shift());return Yr&&(Yr[Gr]=Zr),Zr}function it(Wr){var Gr=te(Wr,"hx-trigger"),Yr=[];if(Gr){var Zr=Q.config.triggerSpecsCache;Yr=Zr&&Zr[Gr]||nt(Wr,Gr,Zr)}return Yr.length>0?Yr:h(Wr,"form")?[{trigger:"submit"}]:h(Wr,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(Wr,rt)?[{trigger:"change"}]:[{trigger:"click"}]}function at(Wr){ae(Wr).cancelled=!0}function ot(Wr,Gr,Yr){var Zr=ae(Wr);Zr.timeout=setTimeout(function(){se(Wr)&&Zr.cancelled!==!0&&(ct(Yr,Wr,Wt("hx:poll:trigger",{triggerSpec:Yr,target:Wr}))||Gr(Wr),ot(Wr,Gr,Yr))},Yr.pollInterval)}function st(Wr){return location.hostname===Wr.hostname&&ee(Wr,"href")&&ee(Wr,"href").indexOf("#")!==0}function lt(Wr,Gr,Yr){if(Wr.tagName==="A"&&st(Wr)&&(Wr.target===""||Wr.target==="_self")||Wr.tagName==="FORM"){Gr.boosted=!0;var Zr,Kr;if(Wr.tagName==="A")Zr="get",Kr=ee(Wr,"href");else{var Qr=ee(Wr,"method");Zr=Qr?Qr.toLowerCase():"get",Kr=ee(Wr,"action")}Yr.forEach(function(Jr){ht(Wr,function(en,tn){if(v(en,Q.config.disableSelector)){m(en);return}he(Zr,Kr,en,tn)},Gr,Jr,!0)})}}function ut(Wr,Gr){return!!((Wr.type==="submit"||Wr.type==="click")&&(Gr.tagName==="FORM"||h(Gr,'input[type="submit"], button')&&v(Gr,"form")!==null||Gr.tagName==="A"&&Gr.href&&(Gr.getAttribute("href")==="#"||Gr.getAttribute("href").indexOf("#")!==0)))}function ft(Wr,Gr){return ae(Wr).boosted&&Wr.tagName==="A"&&Gr.type==="click"&&(Gr.ctrlKey||Gr.metaKey)}function ct(Wr,Gr,Yr){var Zr=Wr.eventFilter;if(Zr)try{return Zr.call(Gr,Yr)!==!0}catch(Kr){return fe(re().body,"htmx:eventFilter:error",{error:Kr,source:Zr.source}),!0}return!1}function ht(Wr,Gr,Yr,Zr,Kr){var Qr=ae(Wr),Jr;Zr.from?Jr=Z(Wr,Zr.from):Jr=[Wr],Zr.changed&&Jr.forEach(function(en){var tn=ae(en);tn.lastValue=en.value}),oe(Jr,function(en){var tn=function(rn){if(!se(Wr)){en.removeEventListener(Zr.trigger,tn);return}if(!ft(Wr,rn)&&((Kr||ut(rn,Wr))&&rn.preventDefault(),!ct(Zr,Wr,rn))){var an=ae(rn);if(an.triggerSpec=Zr,an.handledFor==null&&(an.handledFor=[]),an.handledFor.indexOf(Wr)<0){if(an.handledFor.push(Wr),Zr.consume&&rn.stopPropagation(),Zr.target&&rn.target&&!h(rn.target,Zr.target))return;if(Zr.once){if(Qr.triggeredOnce)return;Qr.triggeredOnce=!0}if(Zr.changed){var nn=ae(en);if(nn.lastValue===en.value)return;nn.lastValue=en.value}if(Qr.delayed&&clearTimeout(Qr.delayed),Qr.throttle)return;Zr.throttle>0?Qr.throttle||(Gr(Wr,rn),Qr.throttle=setTimeout(function(){Qr.throttle=null},Zr.throttle)):Zr.delay>0?Qr.delayed=setTimeout(function(){Gr(Wr,rn)},Zr.delay):(ce(Wr,"htmx:trigger"),Gr(Wr,rn))}}};Yr.listenerInfos==null&&(Yr.listenerInfos=[]),Yr.listenerInfos.push({trigger:Zr.trigger,listener:tn,on:en}),en.addEventListener(Zr.trigger,tn)})}var vt=!1,dt=null;function gt(){dt||(dt=function(){vt=!0},window.addEventListener("scroll",dt),setInterval(function(){vt&&(vt=!1,oe(re().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(Wr){pt(Wr)}))},200))}function pt(Wr){if(!o(Wr,"data-hx-revealed")&&X(Wr)){Wr.setAttribute("data-hx-revealed","true");var Gr=ae(Wr);Gr.initHash?ce(Wr,"revealed"):Wr.addEventListener("htmx:afterProcessNode",function(Yr){ce(Wr,"revealed")},{once:!0})}}function mt(Wr,Gr,Yr){for(var Zr=D(Yr),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr].split(/:(.+)/);Qr[0]==="connect"&&xt(Wr,Qr[1],0),Qr[0]==="send"&&bt(Wr)}}function xt(Wr,Gr,Yr){if(se(Wr)){if(Gr.indexOf("/")==0){var Zr=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?Gr="wss://"+Zr+Gr:location.protocol=="http:"&&(Gr="ws://"+Zr+Gr)}var Kr=Q.createWebSocket(Gr);Kr.onerror=function(Qr){fe(Wr,"htmx:wsError",{error:Qr,socket:Kr}),yt(Wr)},Kr.onclose=function(Qr){if([1006,1012,1013].indexOf(Qr.code)>=0){var Jr=wt(Yr);setTimeout(function(){xt(Wr,Gr,Yr+1)},Jr)}},Kr.onopen=function(Qr){Yr=0},ae(Wr).webSocket=Kr,Kr.addEventListener("message",function(Qr){if(!yt(Wr)){var Jr=Qr.data;R(Wr,function(sn){Jr=sn.transformResponse(Jr,null,Wr)});for(var en=T(Wr),tn=l(Jr),rn=M(tn.children),an=0;an<rn.length;an++){var nn=rn[an];Ee(te(nn,"hx-swap-oob")||"true",nn,en)}nr(en.tasks)}})}}function yt(Wr){if(!se(Wr))return ae(Wr).webSocket.close(),!0}function bt(Wr){var Gr=c(Wr,function(Yr){return ae(Yr).webSocket!=null});Gr?Wr.addEventListener(it(Wr)[0].trigger,function(Yr){var Zr=ae(Gr).webSocket,Kr=xr(Wr,Gr),Qr=dr(Wr,"post"),Jr=Qr.errors,en=Qr.values,tn=Hr(Wr),rn=le(en,tn),an=yr(rn,Wr);if(an.HEADERS=Kr,Jr&&Jr.length>0){ce(Wr,"htmx:validation:halted",Jr);return}Zr.send(JSON.stringify(an)),ut(Yr,Wr)&&Yr.preventDefault()}):fe(Wr,"htmx:noWebSocketSourceError")}function wt(Wr){var Gr=Q.config.wsReconnectDelay;if(typeof Gr=="function")return Gr(Wr);if(Gr==="full-jitter"){var Yr=Math.min(Wr,6),Zr=1e3*Math.pow(2,Yr);return Zr*Math.random()}b('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function St(Wr,Gr,Yr){for(var Zr=D(Yr),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr].split(/:(.+)/);Qr[0]==="connect"&&Et(Wr,Qr[1]),Qr[0]==="swap"&&Ct(Wr,Qr[1])}}function Et(Wr,Gr){var Yr=Q.createEventSource(Gr);Yr.onerror=function(Zr){fe(Wr,"htmx:sseError",{error:Zr,source:Yr}),Tt(Wr)},ae(Wr).sseEventSource=Yr}function Ct(Wr,Gr){var Yr=c(Wr,Ot);if(Yr){var Zr=ae(Yr).sseEventSource,Kr=function(Qr){if(!Tt(Yr)){if(!se(Wr)){Zr.removeEventListener(Gr,Kr);return}var Jr=Qr.data;R(Wr,function(an){Jr=an.transformResponse(Jr,null,Wr)});var en=wr(Wr),tn=ye(Wr),rn=T(Wr);je(en.swapStyle,tn,Wr,Jr,rn),nr(rn.tasks),ce(Wr,"htmx:sseMessage",Qr)}};ae(Wr).sseListener=Kr,Zr.addEventListener(Gr,Kr)}else fe(Wr,"htmx:noSSESourceError")}function Rt(Wr,Gr,Yr){var Zr=c(Wr,Ot);if(Zr){var Kr=ae(Zr).sseEventSource,Qr=function(){Tt(Zr)||(se(Wr)?Gr(Wr):Kr.removeEventListener(Yr,Qr))};ae(Wr).sseListener=Qr,Kr.addEventListener(Yr,Qr)}else fe(Wr,"htmx:noSSESourceError")}function Tt(Wr){if(!se(Wr))return ae(Wr).sseEventSource.close(),!0}function Ot(Wr){return ae(Wr).sseEventSource!=null}function qt(Wr,Gr,Yr,Zr){var Kr=function(){Yr.loaded||(Yr.loaded=!0,Gr(Wr))};Zr>0?setTimeout(Kr,Zr):Kr()}function Ht(Wr,Gr,Yr){var Zr=!1;return oe(w,function(Kr){if(o(Wr,"hx-"+Kr)){var Qr=te(Wr,"hx-"+Kr);Zr=!0,Gr.path=Qr,Gr.verb=Kr,Yr.forEach(function(Jr){Lt(Wr,Jr,Gr,function(en,tn){if(v(en,Q.config.disableSelector)){m(en);return}he(Kr,Qr,en,tn)})})}}),Zr}function Lt(Wr,Gr,Yr,Zr){if(Gr.sseEvent)Rt(Wr,Zr,Gr.sseEvent);else if(Gr.trigger==="revealed")gt(),ht(Wr,Zr,Yr,Gr),pt(Wr);else if(Gr.trigger==="intersect"){var Kr={};Gr.root&&(Kr.root=ue(Wr,Gr.root)),Gr.threshold&&(Kr.threshold=parseFloat(Gr.threshold));var Qr=new IntersectionObserver(function(Jr){for(var en=0;en<Jr.length;en++){var tn=Jr[en];if(tn.isIntersecting){ce(Wr,"intersect");break}}},Kr);Qr.observe(Wr),ht(Wr,Zr,Yr,Gr)}else Gr.trigger==="load"?ct(Gr,Wr,Wt("load",{elt:Wr}))||qt(Wr,Zr,Yr,Gr.delay):Gr.pollInterval>0?(Yr.polling=!0,ot(Wr,Zr,Gr)):ht(Wr,Zr,Yr,Gr)}function At(Wr){if(!Wr.htmxExecuted&&Q.config.allowScriptTags&&(Wr.type==="text/javascript"||Wr.type==="module"||Wr.type==="")){var Gr=re().createElement("script");oe(Wr.attributes,function(Zr){Gr.setAttribute(Zr.name,Zr.value)}),Gr.textContent=Wr.textContent,Gr.async=!1,Q.config.inlineScriptNonce&&(Gr.nonce=Q.config.inlineScriptNonce);var Yr=Wr.parentElement;try{Yr.insertBefore(Gr,Wr)}catch(Zr){b(Zr)}finally{Wr.parentElement&&Wr.parentElement.removeChild(Wr)}}}function Nt(Wr){h(Wr,"script")&&At(Wr),oe(f(Wr,"script"),function(Gr){At(Gr)})}function It(Wr){var Gr=Wr.attributes;if(!Gr)return!1;for(var Yr=0;Yr<Gr.length;Yr++){var Zr=Gr[Yr].name;if(g(Zr,"hx-on:")||g(Zr,"data-hx-on:")||g(Zr,"hx-on-")||g(Zr,"data-hx-on-"))return!0}return!1}function kt(Wr){var Gr=null,Yr=[];if(It(Wr)&&Yr.push(Wr),document.evaluate)for(var Zr=document.evaluate('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]',Wr);Gr=Zr.iterateNext();)Yr.push(Gr);else if(typeof Wr.getElementsByTagName=="function")for(var Kr=Wr.getElementsByTagName("*"),Qr=0;Qr<Kr.length;Qr++)It(Kr[Qr])&&Yr.push(Kr[Qr]);return Yr}function Pt(Wr){if(Wr.querySelectorAll){var Gr=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",Yr=Wr.querySelectorAll(i+Gr+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return Yr}else return[]}function Mt(Wr){var Gr=v(Wr.target,"button, input[type='submit']"),Yr=Dt(Wr);Yr&&(Yr.lastButtonClicked=Gr)}function Xt(Wr){var Gr=Dt(Wr);Gr&&(Gr.lastButtonClicked=null)}function Dt(Wr){var Gr=v(Wr.target,"button, input[type='submit']");if(Gr){var Yr=p("#"+ee(Gr,"form"))||v(Gr,"form");if(Yr)return ae(Yr)}}function Ut(Wr){Wr.addEventListener("click",Mt),Wr.addEventListener("focusin",Mt),Wr.addEventListener("focusout",Xt)}function Bt(Wr){for(var Gr=Ye(Wr),Yr=0,Zr=0;Zr<Gr.length;Zr++){const Kr=Gr[Zr];Kr==="{"?Yr++:Kr==="}"&&Yr--}return Yr}function Ft(Wr,Gr,Yr){var Zr=ae(Wr);Array.isArray(Zr.onHandlers)||(Zr.onHandlers=[]);var Kr,Qr=function(Jr){return Tr(Wr,function(){Kr||(Kr=new Function("event",Yr)),Kr.call(Wr,Jr)})};Wr.addEventListener(Gr,Qr),Zr.onHandlers.push({event:Gr,listener:Qr})}function Vt(Wr){var Gr=te(Wr,"hx-on");if(Gr){for(var Yr={},Zr=Gr.split(`
`),Kr=null,Qr=0;Zr.length>0;){var Jr=Zr.shift(),en=Jr.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);Qr===0&&en?(Jr.split(":"),Kr=en[1].slice(0,-1),Yr[Kr]=en[2]):Yr[Kr]+=Jr,Qr+=Bt(Jr)}for(var tn in Yr)Ft(Wr,tn,Yr[tn])}}function jt(Wr){Ae(Wr);for(var Gr=0;Gr<Wr.attributes.length;Gr++){var Yr=Wr.attributes[Gr].name,Zr=Wr.attributes[Gr].value;if(g(Yr,"hx-on")||g(Yr,"data-hx-on")){var Kr=Yr.indexOf("-on")+3,Qr=Yr.slice(Kr,Kr+1);if(Qr==="-"||Qr===":"){var Jr=Yr.slice(Kr+1);g(Jr,":")?Jr="htmx"+Jr:g(Jr,"-")?Jr="htmx:"+Jr.slice(1):g(Jr,"htmx-")&&(Jr="htmx:"+Jr.slice(5)),Ft(Wr,Jr,Zr)}}}}function _t(Wr){if(v(Wr,Q.config.disableSelector)){m(Wr);return}var Gr=ae(Wr);if(Gr.initHash!==Le(Wr)){Ne(Wr),Gr.initHash=Le(Wr),Vt(Wr),ce(Wr,"htmx:beforeProcessNode"),Wr.value&&(Gr.lastValue=Wr.value);var Yr=it(Wr),Zr=Ht(Wr,Gr,Yr);Zr||(ne(Wr,"hx-boost")==="true"?lt(Wr,Gr,Yr):o(Wr,"hx-trigger")&&Yr.forEach(function(Jr){Lt(Wr,Jr,Gr,function(){})})),(Wr.tagName==="FORM"||ee(Wr,"type")==="submit"&&o(Wr,"form"))&&Ut(Wr);var Kr=te(Wr,"hx-sse");Kr&&St(Wr,Gr,Kr);var Qr=te(Wr,"hx-ws");Qr&&mt(Wr,Gr,Qr),ce(Wr,"htmx:afterProcessNode")}}function zt(Wr){if(Wr=p(Wr),v(Wr,Q.config.disableSelector)){m(Wr);return}_t(Wr),oe(Pt(Wr),function(Gr){_t(Gr)}),oe(kt(Wr),jt)}function $t(Wr){return Wr.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Wt(Wr,Gr){var Yr;return window.CustomEvent&&typeof window.CustomEvent=="function"?Yr=new CustomEvent(Wr,{bubbles:!0,cancelable:!0,detail:Gr}):(Yr=re().createEvent("CustomEvent"),Yr.initCustomEvent(Wr,!0,!0,Gr)),Yr}function fe(Wr,Gr,Yr){ce(Wr,Gr,le({error:Gr},Yr))}function Gt(Wr){return Wr==="htmx:afterProcessNode"}function R(Wr,Gr){oe(Fr(Wr),function(Yr){try{Gr(Yr)}catch(Zr){b(Zr)}})}function b(Wr){console.error?console.error(Wr):console.log&&console.log("ERROR: ",Wr)}function ce(Wr,Gr,Yr){Wr=p(Wr),Yr==null&&(Yr={}),Yr.elt=Wr;var Zr=Wt(Gr,Yr);Q.logger&&!Gt(Gr)&&Q.logger(Wr,Gr,Yr),Yr.error&&(b(Yr.error),ce(Wr,"htmx:error",{errorInfo:Yr}));var Kr=Wr.dispatchEvent(Zr),Qr=$t(Gr);if(Kr&&Qr!==Gr){var Jr=Wt(Qr,Zr.detail);Kr=Kr&&Wr.dispatchEvent(Jr)}return R(Wr,function(en){Kr=Kr&&en.onEvent(Gr,Zr)!==!1&&!Zr.defaultPrevented}),Kr}var Jt=location.pathname+location.search;function Zt(){var Wr=re().querySelector("[hx-history-elt],[data-hx-history-elt]");return Wr||re().body}function Kt(Wr,Gr,Yr,Zr){if(U()){if(Q.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}Wr=B(Wr);for(var Kr=E(localStorage.getItem("htmx-history-cache"))||[],Qr=0;Qr<Kr.length;Qr++)if(Kr[Qr].url===Wr){Kr.splice(Qr,1);break}var Jr={url:Wr,content:Gr,title:Yr,scroll:Zr};for(ce(re().body,"htmx:historyItemCreated",{item:Jr,cache:Kr}),Kr.push(Jr);Kr.length>Q.config.historyCacheSize;)Kr.shift();for(;Kr.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(Kr));break}catch(en){fe(re().body,"htmx:historyCacheError",{cause:en,cache:Kr}),Kr.shift()}}}function Yt(Wr){if(!U())return null;Wr=B(Wr);for(var Gr=E(localStorage.getItem("htmx-history-cache"))||[],Yr=0;Yr<Gr.length;Yr++)if(Gr[Yr].url===Wr)return Gr[Yr];return null}function Qt(Wr){var Gr=Q.config.requestClass,Yr=Wr.cloneNode(!0);return oe(f(Yr,"."+Gr),function(Zr){n(Zr,Gr)}),Yr.innerHTML}function er(){var Wr=Zt(),Gr=Jt||location.pathname+location.search,Yr;try{Yr=re().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{Yr=re().querySelector('[hx-history="false"],[data-hx-history="false"]')}Yr||(ce(re().body,"htmx:beforeHistorySave",{path:Gr,historyElt:Wr}),Kt(Gr,Qt(Wr),re().title,window.scrollY)),Q.config.historyEnabled&&history.replaceState({htmx:!0},re().title,window.location.href)}function tr(Wr){Q.config.getCacheBusterParam&&(Wr=Wr.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(G(Wr,"&")||G(Wr,"?"))&&(Wr=Wr.slice(0,-1))),Q.config.historyEnabled&&history.pushState({htmx:!0},"",Wr),Jt=Wr}function rr(Wr){Q.config.historyEnabled&&history.replaceState({htmx:!0},"",Wr),Jt=Wr}function nr(Wr){oe(Wr,function(Gr){Gr.call()})}function ir(Wr){var Gr=new XMLHttpRequest,Yr={path:Wr,xhr:Gr};ce(re().body,"htmx:historyCacheMiss",Yr),Gr.open("GET",Wr,!0),Gr.setRequestHeader("HX-Request","true"),Gr.setRequestHeader("HX-History-Restore-Request","true"),Gr.setRequestHeader("HX-Current-URL",re().location.href),Gr.onload=function(){if(this.status>=200&&this.status<400){ce(re().body,"htmx:historyCacheMissLoad",Yr);var Zr=l(this.response);Zr=Zr.querySelector("[hx-history-elt],[data-hx-history-elt]")||Zr;var Kr=Zt(),Qr=T(Kr),Jr=Ve(this.response);if(Jr){var en=C("title");en?en.innerHTML=Jr:window.document.title=Jr}Ue(Kr,Zr,Qr),nr(Qr.tasks),Jt=Wr,ce(re().body,"htmx:historyRestore",{path:Wr,cacheMiss:!0,serverResponse:this.response})}else fe(re().body,"htmx:historyCacheMissLoadError",Yr)},Gr.send()}function ar(Wr){er(),Wr=Wr||location.pathname+location.search;var Gr=Yt(Wr);if(Gr){var Yr=l(Gr.content),Zr=Zt(),Kr=T(Zr);Ue(Zr,Yr,Kr),nr(Kr.tasks),document.title=Gr.title,setTimeout(function(){window.scrollTo(0,Gr.scroll)},0),Jt=Wr,ce(re().body,"htmx:historyRestore",{path:Wr,item:Gr})}else Q.config.refreshOnHistoryMiss?window.location.reload(!0):ir(Wr)}function or(Wr){var Gr=me(Wr,"hx-indicator");return Gr==null&&(Gr=[Wr]),oe(Gr,function(Yr){var Zr=ae(Yr);Zr.requestCount=(Zr.requestCount||0)+1,Yr.classList.add.call(Yr.classList,Q.config.requestClass)}),Gr}function sr(Wr){var Gr=me(Wr,"hx-disabled-elt");return Gr==null&&(Gr=[]),oe(Gr,function(Yr){var Zr=ae(Yr);Zr.requestCount=(Zr.requestCount||0)+1,Yr.setAttribute("disabled","")}),Gr}function lr(Wr,Gr){oe(Wr,function(Yr){var Zr=ae(Yr);Zr.requestCount=(Zr.requestCount||0)-1,Zr.requestCount===0&&Yr.classList.remove.call(Yr.classList,Q.config.requestClass)}),oe(Gr,function(Yr){var Zr=ae(Yr);Zr.requestCount=(Zr.requestCount||0)-1,Zr.requestCount===0&&Yr.removeAttribute("disabled")})}function ur(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++){var Zr=Wr[Yr];if(Zr.isSameNode(Gr))return!0}return!1}function fr(Wr){return Wr.name===""||Wr.name==null||Wr.disabled||v(Wr,"fieldset[disabled]")||Wr.type==="button"||Wr.type==="submit"||Wr.tagName==="image"||Wr.tagName==="reset"||Wr.tagName==="file"?!1:Wr.type==="checkbox"||Wr.type==="radio"?Wr.checked:!0}function cr(Wr,Gr,Yr){if(Wr!=null&&Gr!=null){var Zr=Yr[Wr];Zr===void 0?Yr[Wr]=Gr:Array.isArray(Zr)?Array.isArray(Gr)?Yr[Wr]=Zr.concat(Gr):Zr.push(Gr):Array.isArray(Gr)?Yr[Wr]=[Zr].concat(Gr):Yr[Wr]=[Zr,Gr]}}function hr(Wr,Gr,Yr,Zr,Kr){if(!(Zr==null||ur(Wr,Zr))){if(Wr.push(Zr),fr(Zr)){var Qr=ee(Zr,"name"),Jr=Zr.value;Zr.multiple&&Zr.tagName==="SELECT"&&(Jr=M(Zr.querySelectorAll("option:checked")).map(function(tn){return tn.value})),Zr.files&&(Jr=M(Zr.files)),cr(Qr,Jr,Gr),Kr&&vr(Zr,Yr)}if(h(Zr,"form")){var en=Zr.elements;oe(en,function(tn){hr(Wr,Gr,Yr,tn,Kr)})}}}function vr(Wr,Gr){Wr.willValidate&&(ce(Wr,"htmx:validation:validate"),Wr.checkValidity()||(Gr.push({elt:Wr,message:Wr.validationMessage,validity:Wr.validity}),ce(Wr,"htmx:validation:failed",{message:Wr.validationMessage,validity:Wr.validity})))}function dr(Wr,Gr){var Yr=[],Zr={},Kr={},Qr=[],Jr=ae(Wr);Jr.lastButtonClicked&&!se(Jr.lastButtonClicked)&&(Jr.lastButtonClicked=null);var en=h(Wr,"form")&&Wr.noValidate!==!0||te(Wr,"hx-validate")==="true";if(Jr.lastButtonClicked&&(en=en&&Jr.lastButtonClicked.formNoValidate!==!0),Gr!=="get"&&hr(Yr,Kr,Qr,v(Wr,"form"),en),hr(Yr,Zr,Qr,Wr,en),Jr.lastButtonClicked||Wr.tagName==="BUTTON"||Wr.tagName==="INPUT"&&ee(Wr,"type")==="submit"){var tn=Jr.lastButtonClicked||Wr,rn=ee(tn,"name");cr(rn,tn.value,Kr)}var an=me(Wr,"hx-include");return oe(an,function(nn){hr(Yr,Zr,Qr,nn,en),h(nn,"form")||oe(nn.querySelectorAll(rt),function(sn){hr(Yr,Zr,Qr,sn,en)})}),Zr=le(Zr,Kr),{errors:Qr,values:Zr}}function gr(Wr,Gr,Yr){Wr!==""&&(Wr+="&"),String(Yr)==="[object Object]"&&(Yr=JSON.stringify(Yr));var Zr=encodeURIComponent(Yr);return Wr+=encodeURIComponent(Gr)+"="+Zr,Wr}function pr(Wr){var Gr="";for(var Yr in Wr)if(Wr.hasOwnProperty(Yr)){var Zr=Wr[Yr];Array.isArray(Zr)?oe(Zr,function(Kr){Gr=gr(Gr,Yr,Kr)}):Gr=gr(Gr,Yr,Zr)}return Gr}function mr(Wr){var Gr=new FormData;for(var Yr in Wr)if(Wr.hasOwnProperty(Yr)){var Zr=Wr[Yr];Array.isArray(Zr)?oe(Zr,function(Kr){Gr.append(Yr,Kr)}):Gr.append(Yr,Zr)}return Gr}function xr(Wr,Gr,Yr){var Zr={"HX-Request":"true","HX-Trigger":ee(Wr,"id"),"HX-Trigger-Name":ee(Wr,"name"),"HX-Target":te(Gr,"id"),"HX-Current-URL":re().location.href};return Rr(Wr,"hx-headers",!1,Zr),Yr!==void 0&&(Zr["HX-Prompt"]=Yr),ae(Wr).boosted&&(Zr["HX-Boosted"]="true"),Zr}function yr(Wr,Gr){var Yr=ne(Gr,"hx-params");if(Yr){if(Yr==="none")return{};if(Yr==="*")return Wr;if(Yr.indexOf("not ")===0)return oe(Yr.substr(4).split(","),function(Kr){Kr=Kr.trim(),delete Wr[Kr]}),Wr;var Zr={};return oe(Yr.split(","),function(Kr){Kr=Kr.trim(),Zr[Kr]=Wr[Kr]}),Zr}else return Wr}function br(Wr){return ee(Wr,"href")&&ee(Wr,"href").indexOf("#")>=0}function wr(Wr,Gr){var Yr=Gr||ne(Wr,"hx-swap"),Zr={swapStyle:ae(Wr).boosted?"innerHTML":Q.config.defaultSwapStyle,swapDelay:Q.config.defaultSwapDelay,settleDelay:Q.config.defaultSettleDelay};if(Q.config.scrollIntoViewOnBoost&&ae(Wr).boosted&&!br(Wr)&&(Zr.show="top"),Yr){var Kr=D(Yr);if(Kr.length>0)for(var Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];if(Jr.indexOf("swap:")===0)Zr.swapDelay=d(Jr.substr(5));else if(Jr.indexOf("settle:")===0)Zr.settleDelay=d(Jr.substr(7));else if(Jr.indexOf("transition:")===0)Zr.transition=Jr.substr(11)==="true";else if(Jr.indexOf("ignoreTitle:")===0)Zr.ignoreTitle=Jr.substr(12)==="true";else if(Jr.indexOf("scroll:")===0){var en=Jr.substr(7),tn=en.split(":"),rn=tn.pop(),an=tn.length>0?tn.join(":"):null;Zr.scroll=rn,Zr.scrollTarget=an}else if(Jr.indexOf("show:")===0){var nn=Jr.substr(5),tn=nn.split(":"),sn=tn.pop(),an=tn.length>0?tn.join(":"):null;Zr.show=sn,Zr.showTarget=an}else if(Jr.indexOf("focus-scroll:")===0){var ln=Jr.substr(13);Zr.focusScroll=ln=="true"}else Qr==0?Zr.swapStyle=Jr:b("Unknown modifier in hx-swap: "+Jr)}}return Zr}function Sr(Wr){return ne(Wr,"hx-encoding")==="multipart/form-data"||h(Wr,"form")&&ee(Wr,"enctype")==="multipart/form-data"}function Er(Wr,Gr,Yr){var Zr=null;return R(Gr,function(Kr){Zr==null&&(Zr=Kr.encodeParameters(Wr,Yr,Gr))}),Zr??(Sr(Gr)?mr(Yr):pr(Yr))}function T(Wr){return{tasks:[],elts:[Wr]}}function Cr(Wr,Gr){var Yr=Wr[0],Zr=Wr[Wr.length-1];if(Gr.scroll){var Kr=null;Gr.scrollTarget&&(Kr=ue(Yr,Gr.scrollTarget)),Gr.scroll==="top"&&(Yr||Kr)&&(Kr=Kr||Yr,Kr.scrollTop=0),Gr.scroll==="bottom"&&(Zr||Kr)&&(Kr=Kr||Zr,Kr.scrollTop=Kr.scrollHeight)}if(Gr.show){var Kr=null;if(Gr.showTarget){var Qr=Gr.showTarget;Gr.showTarget==="window"&&(Qr="body"),Kr=ue(Yr,Qr)}Gr.show==="top"&&(Yr||Kr)&&(Kr=Kr||Yr,Kr.scrollIntoView({block:"start",behavior:Q.config.scrollBehavior})),Gr.show==="bottom"&&(Zr||Kr)&&(Kr=Kr||Zr,Kr.scrollIntoView({block:"end",behavior:Q.config.scrollBehavior}))}}function Rr(Wr,Gr,Yr,Zr){if(Zr==null&&(Zr={}),Wr==null)return Zr;var Kr=te(Wr,Gr);if(Kr){var Qr=Kr.trim(),Jr=Yr;if(Qr==="unset")return null;Qr.indexOf("javascript:")===0?(Qr=Qr.substr(11),Jr=!0):Qr.indexOf("js:")===0&&(Qr=Qr.substr(3),Jr=!0),Qr.indexOf("{")!==0&&(Qr="{"+Qr+"}");var en;Jr?en=Tr(Wr,function(){return Function("return ("+Qr+")")()},{}):en=E(Qr);for(var tn in en)en.hasOwnProperty(tn)&&Zr[tn]==null&&(Zr[tn]=en[tn])}return Rr(u(Wr),Gr,Yr,Zr)}function Tr(Wr,Gr,Yr){return Q.config.allowEval?Gr():(fe(Wr,"htmx:evalDisallowedError"),Yr)}function Or(Wr,Gr){return Rr(Wr,"hx-vars",!0,Gr)}function qr(Wr,Gr){return Rr(Wr,"hx-vals",!1,Gr)}function Hr(Wr){return le(Or(Wr),qr(Wr))}function Lr(Wr,Gr,Yr){if(Yr!==null)try{Wr.setRequestHeader(Gr,Yr)}catch{Wr.setRequestHeader(Gr,encodeURIComponent(Yr)),Wr.setRequestHeader(Gr+"-URI-AutoEncoded","true")}}function Ar(Wr){if(Wr.responseURL&&typeof URL<"u")try{var Gr=new URL(Wr.responseURL);return Gr.pathname+Gr.search}catch{fe(re().body,"htmx:badResponseUrl",{url:Wr.responseURL})}}function O(Wr,Gr){return Gr.test(Wr.getAllResponseHeaders())}function Nr(Wr,Gr,Yr){return Wr=Wr.toLowerCase(),Yr?Yr instanceof Element||I(Yr,"String")?he(Wr,Gr,null,null,{targetOverride:p(Yr),returnPromise:!0}):he(Wr,Gr,p(Yr.source),Yr.event,{handler:Yr.handler,headers:Yr.headers,values:Yr.values,targetOverride:p(Yr.target),swapOverride:Yr.swap,select:Yr.select,returnPromise:!0}):he(Wr,Gr,null,null,{returnPromise:!0})}function Ir(Wr){for(var Gr=[];Wr;)Gr.push(Wr),Wr=Wr.parentElement;return Gr}function kr(Wr,Gr,Yr){var Zr,Kr;if(typeof URL=="function"){Kr=new URL(Gr,document.location.href);var Qr=document.location.origin;Zr=Qr===Kr.origin}else Kr=Gr,Zr=g(Gr,document.location.origin);return Q.config.selfRequestsOnly&&!Zr?!1:ce(Wr,"htmx:validateUrl",le({url:Kr,sameHost:Zr},Yr))}function he(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=null,en=null;if(Kr=Kr??{},Kr.returnPromise&&typeof Promise<"u")var tn=new Promise(function(Un,jn){Jr=Un,en=jn});Yr==null&&(Yr=re().body);var rn=Kr.handler||Mr,an=Kr.select||null;if(!se(Yr))return ie(Jr),tn;var nn=Kr.targetOverride||ye(Yr);if(nn==null||nn==pe)return fe(Yr,"htmx:targetError",{target:te(Yr,"hx-target")}),ie(en),tn;var sn=ae(Yr),ln=sn.lastButtonClicked;if(ln){var un=ee(ln,"formaction");un!=null&&(Gr=un);var cn=ee(ln,"formmethod");cn!=null&&cn.toLowerCase()!=="dialog"&&(Wr=cn)}var hn=ne(Yr,"hx-confirm");if(Qr===void 0){var dn=function(Un){return he(Wr,Gr,Yr,Zr,Kr,!!Un)},fn={target:nn,elt:Yr,path:Gr,verb:Wr,triggeringEvent:Zr,etc:Kr,issueRequest:dn,question:hn};if(ce(Yr,"htmx:confirm",fn)===!1)return ie(Jr),tn}var pn=Yr,gn=ne(Yr,"hx-sync"),vn=null,mn=!1;if(gn){var yn=gn.split(":"),xn=yn[0].trim();if(xn==="this"?pn=xe(Yr,"hx-sync"):pn=ue(Yr,xn),gn=(yn[1]||"drop").trim(),sn=ae(pn),gn==="drop"&&sn.xhr&&sn.abortable!==!0)return ie(Jr),tn;if(gn==="abort"){if(sn.xhr)return ie(Jr),tn;mn=!0}else if(gn==="replace")ce(pn,"htmx:abort");else if(gn.indexOf("queue")===0){var bn=gn.split(" ");vn=(bn[1]||"last").trim()}}if(sn.xhr)if(sn.abortable)ce(pn,"htmx:abort");else{if(vn==null){if(Zr){var Sn=ae(Zr);Sn&&Sn.triggerSpec&&Sn.triggerSpec.queue&&(vn=Sn.triggerSpec.queue)}vn==null&&(vn="last")}return sn.queuedRequests==null&&(sn.queuedRequests=[]),vn==="first"&&sn.queuedRequests.length===0?sn.queuedRequests.push(function(){he(Wr,Gr,Yr,Zr,Kr)}):vn==="all"?sn.queuedRequests.push(function(){he(Wr,Gr,Yr,Zr,Kr)}):vn==="last"&&(sn.queuedRequests=[],sn.queuedRequests.push(function(){he(Wr,Gr,Yr,Zr,Kr)})),ie(Jr),tn}var wn=new XMLHttpRequest;sn.xhr=wn,sn.abortable=mn;var _n=function(){if(sn.xhr=null,sn.abortable=!1,sn.queuedRequests!=null&&sn.queuedRequests.length>0){var Un=sn.queuedRequests.shift();Un()}},An=ne(Yr,"hx-prompt");if(An){var Cn=prompt(An);if(Cn===null||!ce(Yr,"htmx:prompt",{prompt:Cn,target:nn}))return ie(Jr),_n(),tn}if(hn&&!Qr&&!confirm(hn))return ie(Jr),_n(),tn;var Tn=xr(Yr,nn,Cn);Wr!=="get"&&!Sr(Yr)&&(Tn["Content-Type"]="application/x-www-form-urlencoded"),Kr.headers&&(Tn=le(Tn,Kr.headers));var Mn=dr(Yr,Wr),En=Mn.errors,Ln=Mn.values;Kr.values&&(Ln=le(Ln,Kr.values));var In=Hr(Yr),Pn=le(Ln,In),Dn=yr(Pn,Yr);Q.config.getCacheBusterParam&&Wr==="get"&&(Dn["org.htmx.cache-buster"]=ee(nn,"id")||"true"),(Gr==null||Gr==="")&&(Gr=re().location.href);var kn=Rr(Yr,"hx-request"),Nn=ae(Yr).boosted,Rn=Q.config.methodsThatUseUrlParams.indexOf(Wr)>=0,Fn={boosted:Nn,useUrlParams:Rn,parameters:Dn,unfilteredParameters:Pn,headers:Tn,target:nn,verb:Wr,errors:En,withCredentials:Kr.credentials||kn.credentials||Q.config.withCredentials,timeout:Kr.timeout||kn.timeout||Q.config.timeout,path:Gr,triggeringEvent:Zr};if(!ce(Yr,"htmx:configRequest",Fn))return ie(Jr),_n(),tn;if(Gr=Fn.path,Wr=Fn.verb,Tn=Fn.headers,Dn=Fn.parameters,En=Fn.errors,Rn=Fn.useUrlParams,En&&En.length>0)return ce(Yr,"htmx:validation:halted",Fn),ie(Jr),_n(),tn;var Hn=Gr.split("#"),Gn=Hn[0],zn=Hn[1],On=Gr;if(Rn){On=Gn;var Bn=Object.keys(Dn).length!==0;Bn&&(On.indexOf("?")<0?On+="?":On+="&",On+=pr(Dn),zn&&(On+="#"+zn))}if(!kr(Yr,On,Fn))return fe(Yr,"htmx:invalidPath",Fn),ie(en),tn;if(wn.open(Wr.toUpperCase(),On,!0),wn.overrideMimeType("text/html"),wn.withCredentials=Fn.withCredentials,wn.timeout=Fn.timeout,!kn.noHeaders){for(var $n in Tn)if(Tn.hasOwnProperty($n)){var Vn=Tn[$n];Lr(wn,$n,Vn)}}var Yn={xhr:wn,target:nn,requestConfig:Fn,etc:Kr,boosted:Nn,select:an,pathInfo:{requestPath:Gr,finalRequestPath:On,anchor:zn}};if(wn.onload=function(){try{var Un=Ir(Yr);if(Yn.pathInfo.responsePath=Ar(wn),rn(Yr,Yn),lr(Wn,Xn),ce(Yr,"htmx:afterRequest",Yn),ce(Yr,"htmx:afterOnLoad",Yn),!se(Yr)){for(var jn=null;Un.length>0&&jn==null;){var Zn=Un.shift();se(Zn)&&(jn=Zn)}jn&&(ce(jn,"htmx:afterRequest",Yn),ce(jn,"htmx:afterOnLoad",Yn))}ie(Jr),_n()}catch(Kn){throw fe(Yr,"htmx:onLoadError",le({error:Kn},Yn)),Kn}},wn.onerror=function(){lr(Wn,Xn),fe(Yr,"htmx:afterRequest",Yn),fe(Yr,"htmx:sendError",Yn),ie(en),_n()},wn.onabort=function(){lr(Wn,Xn),fe(Yr,"htmx:afterRequest",Yn),fe(Yr,"htmx:sendAbort",Yn),ie(en),_n()},wn.ontimeout=function(){lr(Wn,Xn),fe(Yr,"htmx:afterRequest",Yn),fe(Yr,"htmx:timeout",Yn),ie(en),_n()},!ce(Yr,"htmx:beforeRequest",Yn))return ie(Jr),_n(),tn;var Wn=or(Yr),Xn=sr(Yr);oe(["loadstart","loadend","progress","abort"],function(Un){oe([wn,wn.upload],function(jn){jn.addEventListener(Un,function(Zn){ce(Yr,"htmx:xhr:"+Un,{lengthComputable:Zn.lengthComputable,loaded:Zn.loaded,total:Zn.total})})})}),ce(Yr,"htmx:beforeSend",Yn);var qn=Rn?null:Er(wn,Yr,Dn);return wn.send(qn),tn}function Pr(Wr,Gr){var Yr=Gr.xhr,Zr=null,Kr=null;if(O(Yr,/HX-Push:/i)?(Zr=Yr.getResponseHeader("HX-Push"),Kr="push"):O(Yr,/HX-Push-Url:/i)?(Zr=Yr.getResponseHeader("HX-Push-Url"),Kr="push"):O(Yr,/HX-Replace-Url:/i)&&(Zr=Yr.getResponseHeader("HX-Replace-Url"),Kr="replace"),Zr)return Zr==="false"?{}:{type:Kr,path:Zr};var Qr=Gr.pathInfo.finalRequestPath,Jr=Gr.pathInfo.responsePath,en=ne(Wr,"hx-push-url"),tn=ne(Wr,"hx-replace-url"),rn=ae(Wr).boosted,an=null,nn=null;return en?(an="push",nn=en):tn?(an="replace",nn=tn):rn&&(an="push",nn=Jr||Qr),nn?nn==="false"?{}:(nn==="true"&&(nn=Jr||Qr),Gr.pathInfo.anchor&&nn.indexOf("#")===-1&&(nn=nn+"#"+Gr.pathInfo.anchor),{type:an,path:nn}):{}}function Mr(Wr,Gr){var Yr=Gr.xhr,Zr=Gr.target,Kr=Gr.etc;Gr.requestConfig;var Qr=Gr.select;if(ce(Wr,"htmx:beforeOnLoad",Gr)){if(O(Yr,/HX-Trigger:/i)&&_e(Yr,"HX-Trigger",Wr),O(Yr,/HX-Location:/i)){er();var Jr=Yr.getResponseHeader("HX-Location"),en;Jr.indexOf("{")===0&&(en=E(Jr),Jr=en.path,delete en.path),Nr("GET",Jr,en).then(function(){tr(Jr)});return}var tn=O(Yr,/HX-Refresh:/i)&&Yr.getResponseHeader("HX-Refresh")==="true";if(O(Yr,/HX-Redirect:/i)){location.href=Yr.getResponseHeader("HX-Redirect"),tn&&location.reload();return}if(tn){location.reload();return}O(Yr,/HX-Retarget:/i)&&(Yr.getResponseHeader("HX-Retarget")==="this"?Gr.target=Wr:Gr.target=ue(Wr,Yr.getResponseHeader("HX-Retarget")));var rn=Pr(Wr,Gr),an=Yr.status>=200&&Yr.status<400&&Yr.status!==204,nn=Yr.response,sn=Yr.status>=400,ln=Q.config.ignoreTitle,un=le({shouldSwap:an,serverResponse:nn,isError:sn,ignoreTitle:ln},Gr);if(ce(Zr,"htmx:beforeSwap",un)){if(Zr=un.target,nn=un.serverResponse,sn=un.isError,ln=un.ignoreTitle,Gr.target=Zr,Gr.failed=sn,Gr.successful=!sn,un.shouldSwap){Yr.status===286&&at(Wr),R(Wr,function(yn){nn=yn.transformResponse(nn,Yr,Wr)}),rn.type&&er();var cn=Kr.swapOverride;O(Yr,/HX-Reswap:/i)&&(cn=Yr.getResponseHeader("HX-Reswap"));var en=wr(Wr,cn);en.hasOwnProperty("ignoreTitle")&&(ln=en.ignoreTitle),Zr.classList.add(Q.config.swappingClass);var hn=null,dn=null,fn=function(){try{var yn=document.activeElement,xn={};try{xn={elt:yn,start:yn?yn.selectionStart:null,end:yn?yn.selectionEnd:null}}catch{}var bn;Qr&&(bn=Qr),O(Yr,/HX-Reselect:/i)&&(bn=Yr.getResponseHeader("HX-Reselect")),rn.type&&(ce(re().body,"htmx:beforeHistoryUpdate",le({history:rn},Gr)),rn.type==="push"?(tr(rn.path),ce(re().body,"htmx:pushedIntoHistory",{path:rn.path})):(rr(rn.path),ce(re().body,"htmx:replacedInHistory",{path:rn.path})));var Sn=T(Zr);if(je(en.swapStyle,Zr,Wr,nn,Sn,bn),xn.elt&&!se(xn.elt)&&ee(xn.elt,"id")){var wn=document.getElementById(ee(xn.elt,"id")),_n={preventScroll:en.focusScroll!==void 0?!en.focusScroll:!Q.config.defaultFocusScroll};if(wn){if(xn.start&&wn.setSelectionRange)try{wn.setSelectionRange(xn.start,xn.end)}catch{}wn.focus(_n)}}if(Zr.classList.remove(Q.config.swappingClass),oe(Sn.elts,function(Tn){Tn.classList&&Tn.classList.add(Q.config.settlingClass),ce(Tn,"htmx:afterSwap",Gr)}),O(Yr,/HX-Trigger-After-Swap:/i)){var An=Wr;se(Wr)||(An=re().body),_e(Yr,"HX-Trigger-After-Swap",An)}var Cn=function(){if(oe(Sn.tasks,function(Ln){Ln.call()}),oe(Sn.elts,function(Ln){Ln.classList&&Ln.classList.remove(Q.config.settlingClass),ce(Ln,"htmx:afterSettle",Gr)}),Gr.pathInfo.anchor){var Tn=re().getElementById(Gr.pathInfo.anchor);Tn&&Tn.scrollIntoView({block:"start",behavior:"auto"})}if(Sn.title&&!ln){var Mn=C("title");Mn?Mn.innerHTML=Sn.title:window.document.title=Sn.title}if(Cr(Sn.elts,en),O(Yr,/HX-Trigger-After-Settle:/i)){var En=Wr;se(Wr)||(En=re().body),_e(Yr,"HX-Trigger-After-Settle",En)}ie(hn)};en.settleDelay>0?setTimeout(Cn,en.settleDelay):Cn()}catch(Tn){throw fe(Wr,"htmx:swapError",Gr),ie(dn),Tn}},pn=Q.config.globalViewTransitions;if(en.hasOwnProperty("transition")&&(pn=en.transition),pn&&ce(Wr,"htmx:beforeTransition",Gr)&&typeof Promise<"u"&&document.startViewTransition){var gn=new Promise(function(yn,xn){hn=yn,dn=xn}),vn=fn;fn=function(){document.startViewTransition(function(){return vn(),gn})}}en.swapDelay>0?setTimeout(fn,en.swapDelay):fn()}sn&&fe(Wr,"htmx:responseError",le({error:"Response Status Error Code "+Yr.status+" from "+Gr.pathInfo.requestPath},Gr))}}}var Xr={};function Dr(){return{init:function(Wr){return null},onEvent:function(Wr,Gr){return!0},transformResponse:function(Wr,Gr,Yr){return Wr},isInlineSwap:function(Wr){return!1},handleSwap:function(Wr,Gr,Yr,Zr){return!1},encodeParameters:function(Wr,Gr,Yr){return null}}}function Ur(Wr,Gr){Gr.init&&Gr.init(r),Xr[Wr]=le(Dr(),Gr)}function Br(Wr){delete Xr[Wr]}function Fr(Wr,Gr,Yr){if(Wr==null)return Gr;Gr==null&&(Gr=[]),Yr==null&&(Yr=[]);var Zr=te(Wr,"hx-ext");return Zr&&oe(Zr.split(","),function(Kr){if(Kr=Kr.replace(/ /g,""),Kr.slice(0,7)=="ignore:"){Yr.push(Kr.slice(7));return}if(Yr.indexOf(Kr)<0){var Qr=Xr[Kr];Qr&&Gr.indexOf(Qr)<0&&Gr.push(Qr)}}),Fr(u(Wr),Gr,Yr)}var Vr=!1;re().addEventListener("DOMContentLoaded",function(){Vr=!0});function jr(Wr){Vr||re().readyState==="complete"?Wr():re().addEventListener("DOMContentLoaded",Wr)}function _r(){Q.config.includeIndicatorStyles!==!1&&re().head.insertAdjacentHTML("beforeend","<style>                      ."+Q.config.indicatorClass+"{opacity:0}                      ."+Q.config.requestClass+" ."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                      ."+Q.config.requestClass+"."+Q.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}                    </style>")}function zr(){var Wr=re().querySelector('meta[name="htmx-config"]');return Wr?E(Wr.content):null}function $r(){var Wr=zr();Wr&&(Q.config=le(Q.config,Wr))}return jr(function(){$r(),_r();var Wr=re().body;zt(Wr);var Gr=re().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");Wr.addEventListener("htmx:abort",function(Zr){var Kr=Zr.target,Qr=ae(Kr);Qr&&Qr.xhr&&Qr.xhr.abort()});const Yr=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(Zr){Zr.state&&Zr.state.htmx?(ar(),oe(Gr,function(Kr){ce(Kr,"htmx:restored",{document:re(),triggerEvent:ce})})):Yr&&Yr(Zr)},setTimeout(function(){ce(Wr,"htmx:load",{}),Wr=null},0)}),Q}()})}(htmx_min$1)),htmx_min$1.exports}var htmx_minExports=requireHtmx_min();const htmx=getDefaultExportFromCjs(htmx_minExports);var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(Wr){queueJob(Wr)}function queueJob(Wr){queue.includes(Wr)||queue.push(Wr),queueFlush()}function dequeueJob(Wr){let Gr=queue.indexOf(Wr);Gr!==-1&&Gr>lastFlushedIndex&&queue.splice(Gr,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let Wr=0;Wr<queue.length;Wr++)queue[Wr](),lastFlushedIndex=Wr;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release$1,raw,shouldSchedule=!0;function disableEffectScheduling(Wr){shouldSchedule=!1,Wr(),shouldSchedule=!0}function setReactivityEngine(Wr){reactive=Wr.reactive,release$1=Wr.release,effect=Gr=>Wr.effect(Gr,{scheduler:Yr=>{shouldSchedule?scheduler(Yr):Yr()}}),raw=Wr.raw}function overrideEffect(Wr){effect=Wr}function elementBoundEffect(Wr){let Gr=()=>{};return[Zr=>{let Kr=effect(Zr);return Wr._x_effects||(Wr._x_effects=new Set,Wr._x_runEffects=()=>{Wr._x_effects.forEach(Qr=>Qr())}),Wr._x_effects.add(Kr),Gr=()=>{Kr!==void 0&&(Wr._x_effects.delete(Kr),release$1(Kr))},Kr},()=>{Gr()}]}function watch(Wr,Gr){let Yr=!0,Zr,Kr=effect(()=>{let Qr=Wr();JSON.stringify(Qr),Yr?Zr=Qr:queueMicrotask(()=>{Gr(Qr,Zr),Zr=Qr}),Yr=!1});return()=>release$1(Kr)}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(Wr){onElAddeds.push(Wr)}function onElRemoved(Wr,Gr){typeof Gr=="function"?(Wr._x_cleanups||(Wr._x_cleanups=[]),Wr._x_cleanups.push(Gr)):(Gr=Wr,onElRemoveds.push(Gr))}function onAttributesAdded(Wr){onAttributeAddeds.push(Wr)}function onAttributeRemoved(Wr,Gr,Yr){Wr._x_attributeCleanups||(Wr._x_attributeCleanups={}),Wr._x_attributeCleanups[Gr]||(Wr._x_attributeCleanups[Gr]=[]),Wr._x_attributeCleanups[Gr].push(Yr)}function cleanupAttributes(Wr,Gr){Wr._x_attributeCleanups&&Object.entries(Wr._x_attributeCleanups).forEach(([Yr,Zr])=>{(Gr===void 0||Gr.includes(Yr))&&(Zr.forEach(Kr=>Kr()),delete Wr._x_attributeCleanups[Yr])})}function cleanupElement(Wr){var Gr,Yr;for((Gr=Wr._x_effects)==null||Gr.forEach(dequeueJob);(Yr=Wr._x_cleanups)!=null&&Yr.length;)Wr._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var queuedMutations=[];function flushObserver(){let Wr=observer.takeRecords();queuedMutations.push(()=>Wr.length>0&&onMutate(Wr));let Gr=queuedMutations.length;queueMicrotask(()=>{if(queuedMutations.length===Gr)for(;queuedMutations.length>0;)queuedMutations.shift()()})}function mutateDom(Wr){if(!currentlyObserving)return Wr();stopObservingMutations();let Gr=Wr();return startObservingMutations(),Gr}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(Wr){if(isCollecting){deferredMutations=deferredMutations.concat(Wr);return}let Gr=[],Yr=new Set,Zr=new Map,Kr=new Map;for(let Qr=0;Qr<Wr.length;Qr++)if(!Wr[Qr].target._x_ignoreMutationObserver&&(Wr[Qr].type==="childList"&&(Wr[Qr].removedNodes.forEach(Jr=>{Jr.nodeType===1&&Jr._x_marker&&Yr.add(Jr)}),Wr[Qr].addedNodes.forEach(Jr=>{if(Jr.nodeType===1){if(Yr.has(Jr)){Yr.delete(Jr);return}Jr._x_marker||Gr.push(Jr)}})),Wr[Qr].type==="attributes")){let Jr=Wr[Qr].target,en=Wr[Qr].attributeName,tn=Wr[Qr].oldValue,rn=()=>{Zr.has(Jr)||Zr.set(Jr,[]),Zr.get(Jr).push({name:en,value:Jr.getAttribute(en)})},an=()=>{Kr.has(Jr)||Kr.set(Jr,[]),Kr.get(Jr).push(en)};Jr.hasAttribute(en)&&tn===null?rn():Jr.hasAttribute(en)?(an(),rn()):an()}Kr.forEach((Qr,Jr)=>{cleanupAttributes(Jr,Qr)}),Zr.forEach((Qr,Jr)=>{onAttributeAddeds.forEach(en=>en(Jr,Qr))});for(let Qr of Yr)Gr.some(Jr=>Jr.contains(Qr))||onElRemoveds.forEach(Jr=>Jr(Qr));for(let Qr of Gr)Qr.isConnected&&onElAddeds.forEach(Jr=>Jr(Qr));Gr=null,Yr=null,Zr=null,Kr=null}function scope(Wr){return mergeProxies(closestDataStack(Wr))}function addScopeToNode(Wr,Gr,Yr){return Wr._x_dataStack=[Gr,...closestDataStack(Yr||Wr)],()=>{Wr._x_dataStack=Wr._x_dataStack.filter(Zr=>Zr!==Gr)}}function closestDataStack(Wr){return Wr._x_dataStack?Wr._x_dataStack:typeof ShadowRoot=="function"&&Wr instanceof ShadowRoot?closestDataStack(Wr.host):Wr.parentNode?closestDataStack(Wr.parentNode):[]}function mergeProxies(Wr){return new Proxy({objects:Wr},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:Wr}){return Array.from(new Set(Wr.flatMap(Gr=>Object.keys(Gr))))},has({objects:Wr},Gr){return Gr==Symbol.unscopables?!1:Wr.some(Yr=>Object.prototype.hasOwnProperty.call(Yr,Gr)||Reflect.has(Yr,Gr))},get({objects:Wr},Gr,Yr){return Gr=="toJSON"?collapseProxies:Reflect.get(Wr.find(Zr=>Reflect.has(Zr,Gr))||{},Gr,Yr)},set({objects:Wr},Gr,Yr,Zr){const Kr=Wr.find(Jr=>Object.prototype.hasOwnProperty.call(Jr,Gr))||Wr[Wr.length-1],Qr=Object.getOwnPropertyDescriptor(Kr,Gr);return Qr!=null&&Qr.set&&(Qr!=null&&Qr.get)?Qr.set.call(Zr,Yr)||!0:Reflect.set(Kr,Gr,Yr)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((Gr,Yr)=>(Gr[Yr]=Reflect.get(this,Yr),Gr),{})}function initInterceptors(Wr){let Gr=Zr=>typeof Zr=="object"&&!Array.isArray(Zr)&&Zr!==null,Yr=(Zr,Kr="")=>{Object.entries(Object.getOwnPropertyDescriptors(Zr)).forEach(([Qr,{value:Jr,enumerable:en}])=>{if(en===!1||Jr===void 0||typeof Jr=="object"&&Jr!==null&&Jr.__v_skip)return;let tn=Kr===""?Qr:`${Kr}.${Qr}`;typeof Jr=="object"&&Jr!==null&&Jr._x_interceptor?Zr[Qr]=Jr.initialize(Wr,tn,Qr):Gr(Jr)&&Jr!==Zr&&!(Jr instanceof Element)&&Yr(Jr,tn)})};return Yr(Wr)}function interceptor(Wr,Gr=()=>{}){let Yr={initialValue:void 0,_x_interceptor:!0,initialize(Zr,Kr,Qr){return Wr(this.initialValue,()=>get$1(Zr,Kr),Jr=>set$2(Zr,Kr,Jr),Kr,Qr)}};return Gr(Yr),Zr=>{if(typeof Zr=="object"&&Zr!==null&&Zr._x_interceptor){let Kr=Yr.initialize.bind(Yr);Yr.initialize=(Qr,Jr,en)=>{let tn=Zr.initialize(Qr,Jr,en);return Yr.initialValue=tn,Kr(Qr,Jr,en)}}else Yr.initialValue=Zr;return Yr}}function get$1(Wr,Gr){return Gr.split(".").reduce((Yr,Zr)=>Yr[Zr],Wr)}function set$2(Wr,Gr,Yr){if(typeof Gr=="string"&&(Gr=Gr.split(".")),Gr.length===1)Wr[Gr[0]]=Yr;else{if(Gr.length===0)throw error;return Wr[Gr[0]]||(Wr[Gr[0]]={}),set$2(Wr[Gr[0]],Gr.slice(1),Yr)}}var magics={};function magic(Wr,Gr){magics[Wr]=Gr}function injectMagics(Wr,Gr){let Yr=getUtilities(Gr);return Object.entries(magics).forEach(([Zr,Kr])=>{Object.defineProperty(Wr,`$${Zr}`,{get(){return Kr(Gr,Yr)},enumerable:!1})}),Wr}function getUtilities(Wr){let[Gr,Yr]=getElementBoundUtilities(Wr),Zr={interceptor,...Gr};return onElRemoved(Wr,Yr),Zr}function tryCatch(Wr,Gr,Yr,...Zr){try{return Yr(...Zr)}catch(Kr){handleError(Kr,Wr,Gr)}}function handleError(Wr,Gr,Yr=void 0){Wr=Object.assign(Wr??{message:"No error message given."},{el:Gr,expression:Yr}),console.warn(`Alpine Expression Error: ${Wr.message}

${Yr?'Expression: "'+Yr+`"

`:""}`,Gr),setTimeout(()=>{throw Wr},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(Wr){let Gr=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let Yr=Wr();return shouldAutoEvaluateFunctions=Gr,Yr}function evaluate(Wr,Gr,Yr={}){let Zr;return evaluateLater(Wr,Gr)(Kr=>Zr=Kr,Yr),Zr}function evaluateLater(...Wr){return theEvaluatorFunction(...Wr)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(Wr){theEvaluatorFunction=Wr}function normalEvaluator(Wr,Gr){let Yr={};injectMagics(Yr,Wr);let Zr=[Yr,...closestDataStack(Wr)],Kr=typeof Gr=="function"?generateEvaluatorFromFunction(Zr,Gr):generateEvaluatorFromString(Zr,Gr,Wr);return tryCatch.bind(null,Wr,Gr,Kr)}function generateEvaluatorFromFunction(Wr,Gr){return(Yr=()=>{},{scope:Zr={},params:Kr=[]}={})=>{let Qr=Gr.apply(mergeProxies([Zr,...Wr]),Kr);runIfTypeOfFunction(Yr,Qr)}}var evaluatorMemo={};function generateFunctionFromString(Wr,Gr){if(evaluatorMemo[Wr])return evaluatorMemo[Wr];let Yr=Object.getPrototypeOf(async function(){}).constructor,Zr=/^[\n\s]*if.*\(.*\)/.test(Wr.trim())||/^(let|const)\s/.test(Wr.trim())?`(async()=>{ ${Wr} })()`:Wr,Qr=(()=>{try{let Jr=new Yr(["__self","scope"],`with (scope) { __self.result = ${Zr} }; __self.finished = true; return __self.result;`);return Object.defineProperty(Jr,"name",{value:`[Alpine] ${Wr}`}),Jr}catch(Jr){return handleError(Jr,Gr,Wr),Promise.resolve()}})();return evaluatorMemo[Wr]=Qr,Qr}function generateEvaluatorFromString(Wr,Gr,Yr){let Zr=generateFunctionFromString(Gr,Yr);return(Kr=()=>{},{scope:Qr={},params:Jr=[]}={})=>{Zr.result=void 0,Zr.finished=!1;let en=mergeProxies([Qr,...Wr]);if(typeof Zr=="function"){let tn=Zr(Zr,en).catch(rn=>handleError(rn,Yr,Gr));Zr.finished?(runIfTypeOfFunction(Kr,Zr.result,en,Jr,Yr),Zr.result=void 0):tn.then(rn=>{runIfTypeOfFunction(Kr,rn,en,Jr,Yr)}).catch(rn=>handleError(rn,Yr,Gr)).finally(()=>Zr.result=void 0)}}}function runIfTypeOfFunction(Wr,Gr,Yr,Zr,Kr){if(shouldAutoEvaluateFunctions&&typeof Gr=="function"){let Qr=Gr.apply(Yr,Zr);Qr instanceof Promise?Qr.then(Jr=>runIfTypeOfFunction(Wr,Jr,Yr,Zr)).catch(Jr=>handleError(Jr,Kr,Gr)):Wr(Qr)}else typeof Gr=="object"&&Gr instanceof Promise?Gr.then(Qr=>Wr(Qr)):Wr(Gr)}var prefixAsString="x-";function prefix(Wr=""){return prefixAsString+Wr}function setPrefix(Wr){prefixAsString=Wr}var directiveHandlers={};function directive(Wr,Gr){return directiveHandlers[Wr]=Gr,{before(Yr){if(!directiveHandlers[Yr]){console.warn(String.raw`Cannot find directive \`${Yr}\`. \`${Wr}\` will use the default order of execution`);return}const Zr=directiveOrder.indexOf(Yr);directiveOrder.splice(Zr>=0?Zr:directiveOrder.indexOf("DEFAULT"),0,Wr)}}}function directiveExists(Wr){return Object.keys(directiveHandlers).includes(Wr)}function directives(Wr,Gr,Yr){if(Gr=Array.from(Gr),Wr._x_virtualDirectives){let Qr=Object.entries(Wr._x_virtualDirectives).map(([en,tn])=>({name:en,value:tn})),Jr=attributesOnly(Qr);Qr=Qr.map(en=>Jr.find(tn=>tn.name===en.name)?{name:`x-bind:${en.name}`,value:`"${en.value}"`}:en),Gr=Gr.concat(Qr)}let Zr={};return Gr.map(toTransformedAttributes((Qr,Jr)=>Zr[Qr]=Jr)).filter(outNonAlpineAttributes).map(toParsedDirectives(Zr,Yr)).sort(byPriority).map(Qr=>getDirectiveHandler(Wr,Qr))}function attributesOnly(Wr){return Array.from(Wr).map(toTransformedAttributes()).filter(Gr=>!outNonAlpineAttributes(Gr))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(Wr){isDeferringHandlers=!0;let Gr=Symbol();currentHandlerStackKey=Gr,directiveHandlerStacks.set(Gr,[]);let Yr=()=>{for(;directiveHandlerStacks.get(Gr).length;)directiveHandlerStacks.get(Gr).shift()();directiveHandlerStacks.delete(Gr)},Zr=()=>{isDeferringHandlers=!1,Yr()};Wr(Yr),Zr()}function getElementBoundUtilities(Wr){let Gr=[],Yr=en=>Gr.push(en),[Zr,Kr]=elementBoundEffect(Wr);return Gr.push(Kr),[{Alpine:alpine_default,effect:Zr,cleanup:Yr,evaluateLater:evaluateLater.bind(evaluateLater,Wr),evaluate:evaluate.bind(evaluate,Wr)},()=>Gr.forEach(en=>en())]}function getDirectiveHandler(Wr,Gr){let Yr=()=>{},Zr=directiveHandlers[Gr.type]||Yr,[Kr,Qr]=getElementBoundUtilities(Wr);onAttributeRemoved(Wr,Gr.original,Qr);let Jr=()=>{Wr._x_ignore||Wr._x_ignoreSelf||(Zr.inline&&Zr.inline(Wr,Gr,Kr),Zr=Zr.bind(Zr,Wr,Gr,Kr),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(Zr):Zr())};return Jr.runCleanups=Qr,Jr}var startingWith=(Wr,Gr)=>({name:Yr,value:Zr})=>(Yr.startsWith(Wr)&&(Yr=Yr.replace(Wr,Gr)),{name:Yr,value:Zr}),into=Wr=>Wr;function toTransformedAttributes(Wr=()=>{}){return({name:Gr,value:Yr})=>{let{name:Zr,value:Kr}=attributeTransformers.reduce((Qr,Jr)=>Jr(Qr),{name:Gr,value:Yr});return Zr!==Gr&&Wr(Zr,Gr),{name:Zr,value:Kr}}}var attributeTransformers=[];function mapAttributes(Wr){attributeTransformers.push(Wr)}function outNonAlpineAttributes({name:Wr}){return alpineAttributeRegex().test(Wr)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(Wr,Gr){return({name:Yr,value:Zr})=>{let Kr=Yr.match(alpineAttributeRegex()),Qr=Yr.match(/:([a-zA-Z0-9\-_:]+)/),Jr=Yr.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],en=Gr||Wr[Yr]||Yr;return{type:Kr?Kr[1]:null,value:Qr?Qr[1]:null,modifiers:Jr.map(tn=>tn.replace(".","")),expression:Zr,original:en}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(Wr,Gr){let Yr=directiveOrder.indexOf(Wr.type)===-1?DEFAULT:Wr.type,Zr=directiveOrder.indexOf(Gr.type)===-1?DEFAULT:Gr.type;return directiveOrder.indexOf(Yr)-directiveOrder.indexOf(Zr)}function dispatch(Wr,Gr,Yr={}){Wr.dispatchEvent(new CustomEvent(Gr,{detail:Yr,bubbles:!0,composed:!0,cancelable:!0}))}function walk(Wr,Gr){if(typeof ShadowRoot=="function"&&Wr instanceof ShadowRoot){Array.from(Wr.children).forEach(Kr=>walk(Kr,Gr));return}let Yr=!1;if(Gr(Wr,()=>Yr=!0),Yr)return;let Zr=Wr.firstElementChild;for(;Zr;)walk(Zr,Gr),Zr=Zr.nextElementSibling}function warn(Wr,...Gr){console.warn(`Alpine Warning: ${Wr}`,...Gr)}var started=!1;function start$1(){started&&warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(Gr=>initTree(Gr,walk)),onElRemoved(Gr=>destroyTree(Gr)),onAttributesAdded((Gr,Yr)=>{directives(Gr,Yr).forEach(Zr=>Zr())});let Wr=Gr=>!closestRoot(Gr.parentElement,!0);Array.from(document.querySelectorAll(allSelectors().join(","))).filter(Wr).forEach(Gr=>{initTree(Gr)}),dispatch(document,"alpine:initialized"),setTimeout(()=>{warnAboutMissingPlugins()})}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(Wr=>Wr())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(Wr=>Wr())}function addRootSelector(Wr){rootSelectorCallbacks.push(Wr)}function addInitSelector(Wr){initSelectorCallbacks.push(Wr)}function closestRoot(Wr,Gr=!1){return findClosest(Wr,Yr=>{if((Gr?allSelectors():rootSelectors()).some(Kr=>Yr.matches(Kr)))return!0})}function findClosest(Wr,Gr){if(Wr){if(Gr(Wr))return Wr;if(Wr._x_teleportBack&&(Wr=Wr._x_teleportBack),!!Wr.parentElement)return findClosest(Wr.parentElement,Gr)}}function isRoot(Wr){return rootSelectors().some(Gr=>Wr.matches(Gr))}var initInterceptors2=[];function interceptInit(Wr){initInterceptors2.push(Wr)}var markerDispenser=1;function initTree(Wr,Gr=walk,Yr=()=>{}){findClosest(Wr,Zr=>Zr._x_ignore)||deferHandlingDirectives(()=>{Gr(Wr,(Zr,Kr)=>{Zr._x_marker||(Yr(Zr,Kr),initInterceptors2.forEach(Qr=>Qr(Zr,Kr)),directives(Zr,Zr.attributes).forEach(Qr=>Qr()),Zr._x_ignore||(Zr._x_marker=markerDispenser++),Zr._x_ignore&&Kr())})})}function destroyTree(Wr,Gr=walk){Gr(Wr,Yr=>{cleanupElement(Yr),cleanupAttributes(Yr),delete Yr._x_marker})}function warnAboutMissingPlugins(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([Gr,Yr,Zr])=>{directiveExists(Yr)||Zr.some(Kr=>{if(document.querySelector(Kr))return warn(`found "${Kr}", but missing ${Gr} plugin`),!0})})}var tickStack=[],isHolding=!1;function nextTick(Wr=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(Gr=>{tickStack.push(()=>{Wr(),Gr()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(Wr,Gr){return Array.isArray(Gr)?setClassesFromString(Wr,Gr.join(" ")):typeof Gr=="object"&&Gr!==null?setClassesFromObject(Wr,Gr):typeof Gr=="function"?setClasses(Wr,Gr()):setClassesFromString(Wr,Gr)}function setClassesFromString(Wr,Gr){let Yr=Kr=>Kr.split(" ").filter(Qr=>!Wr.classList.contains(Qr)).filter(Boolean),Zr=Kr=>(Wr.classList.add(...Kr),()=>{Wr.classList.remove(...Kr)});return Gr=Gr===!0?Gr="":Gr||"",Zr(Yr(Gr))}function setClassesFromObject(Wr,Gr){let Yr=en=>en.split(" ").filter(Boolean),Zr=Object.entries(Gr).flatMap(([en,tn])=>tn?Yr(en):!1).filter(Boolean),Kr=Object.entries(Gr).flatMap(([en,tn])=>tn?!1:Yr(en)).filter(Boolean),Qr=[],Jr=[];return Kr.forEach(en=>{Wr.classList.contains(en)&&(Wr.classList.remove(en),Jr.push(en))}),Zr.forEach(en=>{Wr.classList.contains(en)||(Wr.classList.add(en),Qr.push(en))}),()=>{Jr.forEach(en=>Wr.classList.add(en)),Qr.forEach(en=>Wr.classList.remove(en))}}function setStyles(Wr,Gr){return typeof Gr=="object"&&Gr!==null?setStylesFromObject(Wr,Gr):setStylesFromString(Wr,Gr)}function setStylesFromObject(Wr,Gr){let Yr={};return Object.entries(Gr).forEach(([Zr,Kr])=>{Yr[Zr]=Wr.style[Zr],Zr.startsWith("--")||(Zr=kebabCase(Zr)),Wr.style.setProperty(Zr,Kr)}),setTimeout(()=>{Wr.style.length===0&&Wr.removeAttribute("style")}),()=>{setStyles(Wr,Yr)}}function setStylesFromString(Wr,Gr){let Yr=Wr.getAttribute("style",Gr);return Wr.setAttribute("style",Gr),()=>{Wr.setAttribute("style",Yr||"")}}function kebabCase(Wr){return Wr.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(Wr,Gr=()=>{}){let Yr=!1;return function(){Yr?Gr.apply(this,arguments):(Yr=!0,Wr.apply(this,arguments))}}directive("transition",(Wr,{value:Gr,modifiers:Yr,expression:Zr},{evaluate:Kr})=>{typeof Zr=="function"&&(Zr=Kr(Zr)),Zr!==!1&&(!Zr||typeof Zr=="boolean"?registerTransitionsFromHelper(Wr,Yr,Gr):registerTransitionsFromClassString(Wr,Zr,Gr))});function registerTransitionsFromClassString(Wr,Gr,Yr){registerTransitionObject(Wr,setClasses,""),{enter:Kr=>{Wr._x_transition.enter.during=Kr},"enter-start":Kr=>{Wr._x_transition.enter.start=Kr},"enter-end":Kr=>{Wr._x_transition.enter.end=Kr},leave:Kr=>{Wr._x_transition.leave.during=Kr},"leave-start":Kr=>{Wr._x_transition.leave.start=Kr},"leave-end":Kr=>{Wr._x_transition.leave.end=Kr}}[Yr](Gr)}function registerTransitionsFromHelper(Wr,Gr,Yr){registerTransitionObject(Wr,setStyles);let Zr=!Gr.includes("in")&&!Gr.includes("out")&&!Yr,Kr=Zr||Gr.includes("in")||["enter"].includes(Yr),Qr=Zr||Gr.includes("out")||["leave"].includes(Yr);Gr.includes("in")&&!Zr&&(Gr=Gr.filter((dn,fn)=>fn<Gr.indexOf("out"))),Gr.includes("out")&&!Zr&&(Gr=Gr.filter((dn,fn)=>fn>Gr.indexOf("out")));let Jr=!Gr.includes("opacity")&&!Gr.includes("scale"),en=Jr||Gr.includes("opacity"),tn=Jr||Gr.includes("scale"),rn=en?0:1,an=tn?modifierValue(Gr,"scale",95)/100:1,nn=modifierValue(Gr,"delay",0)/1e3,sn=modifierValue(Gr,"origin","center"),ln="opacity, transform",un=modifierValue(Gr,"duration",150)/1e3,cn=modifierValue(Gr,"duration",75)/1e3,hn="cubic-bezier(0.4, 0.0, 0.2, 1)";Kr&&(Wr._x_transition.enter.during={transformOrigin:sn,transitionDelay:`${nn}s`,transitionProperty:ln,transitionDuration:`${un}s`,transitionTimingFunction:hn},Wr._x_transition.enter.start={opacity:rn,transform:`scale(${an})`},Wr._x_transition.enter.end={opacity:1,transform:"scale(1)"}),Qr&&(Wr._x_transition.leave.during={transformOrigin:sn,transitionDelay:`${nn}s`,transitionProperty:ln,transitionDuration:`${cn}s`,transitionTimingFunction:hn},Wr._x_transition.leave.start={opacity:1,transform:"scale(1)"},Wr._x_transition.leave.end={opacity:rn,transform:`scale(${an})`})}function registerTransitionObject(Wr,Gr,Yr={}){Wr._x_transition||(Wr._x_transition={enter:{during:Yr,start:Yr,end:Yr},leave:{during:Yr,start:Yr,end:Yr},in(Zr=()=>{},Kr=()=>{}){transition(Wr,Gr,{during:this.enter.during,start:this.enter.start,end:this.enter.end},Zr,Kr)},out(Zr=()=>{},Kr=()=>{}){transition(Wr,Gr,{during:this.leave.during,start:this.leave.start,end:this.leave.end},Zr,Kr)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(Wr,Gr,Yr,Zr){const Kr=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let Qr=()=>Kr(Yr);if(Gr){Wr._x_transition&&(Wr._x_transition.enter||Wr._x_transition.leave)?Wr._x_transition.enter&&(Object.entries(Wr._x_transition.enter.during).length||Object.entries(Wr._x_transition.enter.start).length||Object.entries(Wr._x_transition.enter.end).length)?Wr._x_transition.in(Yr):Qr():Wr._x_transition?Wr._x_transition.in(Yr):Qr();return}Wr._x_hidePromise=Wr._x_transition?new Promise((Jr,en)=>{Wr._x_transition.out(()=>{},()=>Jr(Zr)),Wr._x_transitioning&&Wr._x_transitioning.beforeCancel(()=>en({isFromCancelledTransition:!0}))}):Promise.resolve(Zr),queueMicrotask(()=>{let Jr=closestHide(Wr);Jr?(Jr._x_hideChildren||(Jr._x_hideChildren=[]),Jr._x_hideChildren.push(Wr)):Kr(()=>{let en=tn=>{let rn=Promise.all([tn._x_hidePromise,...(tn._x_hideChildren||[]).map(en)]).then(([an])=>an==null?void 0:an());return delete tn._x_hidePromise,delete tn._x_hideChildren,rn};en(Wr).catch(tn=>{if(!tn.isFromCancelledTransition)throw tn})})})};function closestHide(Wr){let Gr=Wr.parentNode;if(Gr)return Gr._x_hidePromise?Gr:closestHide(Gr)}function transition(Wr,Gr,{during:Yr,start:Zr,end:Kr}={},Qr=()=>{},Jr=()=>{}){if(Wr._x_transitioning&&Wr._x_transitioning.cancel(),Object.keys(Yr).length===0&&Object.keys(Zr).length===0&&Object.keys(Kr).length===0){Qr(),Jr();return}let en,tn,rn;performTransition(Wr,{start(){en=Gr(Wr,Zr)},during(){tn=Gr(Wr,Yr)},before:Qr,end(){en(),rn=Gr(Wr,Kr)},after:Jr,cleanup(){tn(),rn()}})}function performTransition(Wr,Gr){let Yr,Zr,Kr,Qr=once(()=>{mutateDom(()=>{Yr=!0,Zr||Gr.before(),Kr||(Gr.end(),releaseNextTicks()),Gr.after(),Wr.isConnected&&Gr.cleanup(),delete Wr._x_transitioning})});Wr._x_transitioning={beforeCancels:[],beforeCancel(Jr){this.beforeCancels.push(Jr)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();Qr()}),finish:Qr},mutateDom(()=>{Gr.start(),Gr.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(Yr)return;let Jr=Number(getComputedStyle(Wr).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,en=Number(getComputedStyle(Wr).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;Jr===0&&(Jr=Number(getComputedStyle(Wr).animationDuration.replace("s",""))*1e3),mutateDom(()=>{Gr.before()}),Zr=!0,requestAnimationFrame(()=>{Yr||(mutateDom(()=>{Gr.end()}),releaseNextTicks(),setTimeout(Wr._x_transitioning.finish,Jr+en),Kr=!0)})})}function modifierValue(Wr,Gr,Yr){if(Wr.indexOf(Gr)===-1)return Yr;const Zr=Wr[Wr.indexOf(Gr)+1];if(!Zr||Gr==="scale"&&isNaN(Zr))return Yr;if(Gr==="duration"||Gr==="delay"){let Kr=Zr.match(/([0-9]+)ms/);if(Kr)return Kr[1]}return Gr==="origin"&&["top","right","left","center","bottom"].includes(Wr[Wr.indexOf(Gr)+2])?[Zr,Wr[Wr.indexOf(Gr)+2]].join(" "):Zr}var isCloning=!1;function skipDuringClone(Wr,Gr=()=>{}){return(...Yr)=>isCloning?Gr(...Yr):Wr(...Yr)}function onlyDuringClone(Wr){return(...Gr)=>isCloning&&Wr(...Gr)}var interceptors=[];function interceptClone(Wr){interceptors.push(Wr)}function cloneNode(Wr,Gr){interceptors.forEach(Yr=>Yr(Wr,Gr)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(Gr,(Yr,Zr)=>{Zr(Yr,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone$5(Wr,Gr){Gr._x_dataStack||(Gr._x_dataStack=Wr._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(Gr)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(Wr){let Gr=!1;initTree(Wr,(Zr,Kr)=>{walk(Zr,(Qr,Jr)=>{if(Gr&&isRoot(Qr))return Jr();Gr=!0,Kr(Qr,Jr)})})}function dontRegisterReactiveSideEffects(Wr){let Gr=effect;overrideEffect((Yr,Zr)=>{let Kr=Gr(Yr);return release$1(Kr),()=>{}}),Wr(),overrideEffect(Gr)}function bind$2(Wr,Gr,Yr,Zr=[]){switch(Wr._x_bindings||(Wr._x_bindings=reactive({})),Wr._x_bindings[Gr]=Yr,Gr=Zr.includes("camel")?camelCase(Gr):Gr,Gr){case"value":bindInputValue(Wr,Yr);break;case"style":bindStyles(Wr,Yr);break;case"class":bindClasses(Wr,Yr);break;case"selected":case"checked":bindAttributeAndProperty(Wr,Gr,Yr);break;default:bindAttribute(Wr,Gr,Yr);break}}function bindInputValue(Wr,Gr){if(isRadio(Wr))Wr.attributes.value===void 0&&(Wr.value=Gr),window.fromModel&&(typeof Gr=="boolean"?Wr.checked=safeParseBoolean(Wr.value)===Gr:Wr.checked=checkedAttrLooseCompare(Wr.value,Gr));else if(isCheckbox(Wr))Number.isInteger(Gr)?Wr.value=Gr:!Array.isArray(Gr)&&typeof Gr!="boolean"&&![null,void 0].includes(Gr)?Wr.value=String(Gr):Array.isArray(Gr)?Wr.checked=Gr.some(Yr=>checkedAttrLooseCompare(Yr,Wr.value)):Wr.checked=!!Gr;else if(Wr.tagName==="SELECT")updateSelect(Wr,Gr);else{if(Wr.value===Gr)return;Wr.value=Gr===void 0?"":Gr}}function bindClasses(Wr,Gr){Wr._x_undoAddedClasses&&Wr._x_undoAddedClasses(),Wr._x_undoAddedClasses=setClasses(Wr,Gr)}function bindStyles(Wr,Gr){Wr._x_undoAddedStyles&&Wr._x_undoAddedStyles(),Wr._x_undoAddedStyles=setStyles(Wr,Gr)}function bindAttributeAndProperty(Wr,Gr,Yr){bindAttribute(Wr,Gr,Yr),setPropertyIfChanged(Wr,Gr,Yr)}function bindAttribute(Wr,Gr,Yr){[null,void 0,!1].includes(Yr)&&attributeShouldntBePreservedIfFalsy(Gr)?Wr.removeAttribute(Gr):(isBooleanAttr(Gr)&&(Yr=Gr),setIfChanged(Wr,Gr,Yr))}function setIfChanged(Wr,Gr,Yr){Wr.getAttribute(Gr)!=Yr&&Wr.setAttribute(Gr,Yr)}function setPropertyIfChanged(Wr,Gr,Yr){Wr[Gr]!==Yr&&(Wr[Gr]=Yr)}function updateSelect(Wr,Gr){const Yr=[].concat(Gr).map(Zr=>Zr+"");Array.from(Wr.options).forEach(Zr=>{Zr.selected=Yr.includes(Zr.value)})}function camelCase(Wr){return Wr.toLowerCase().replace(/-(\w)/g,(Gr,Yr)=>Yr.toUpperCase())}function checkedAttrLooseCompare(Wr,Gr){return Wr==Gr}function safeParseBoolean(Wr){return[1,"1","true","on","yes",!0].includes(Wr)?!0:[0,"0","false","off","no",!1].includes(Wr)?!1:Wr?!!Wr:null}var booleanAttributes=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function isBooleanAttr(Wr){return booleanAttributes.has(Wr)}function attributeShouldntBePreservedIfFalsy(Wr){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(Wr)}function getBinding(Wr,Gr,Yr){return Wr._x_bindings&&Wr._x_bindings[Gr]!==void 0?Wr._x_bindings[Gr]:getAttributeBinding(Wr,Gr,Yr)}function extractProp(Wr,Gr,Yr,Zr=!0){if(Wr._x_bindings&&Wr._x_bindings[Gr]!==void 0)return Wr._x_bindings[Gr];if(Wr._x_inlineBindings&&Wr._x_inlineBindings[Gr]!==void 0){let Kr=Wr._x_inlineBindings[Gr];return Kr.extract=Zr,dontAutoEvaluateFunctions(()=>evaluate(Wr,Kr.expression))}return getAttributeBinding(Wr,Gr,Yr)}function getAttributeBinding(Wr,Gr,Yr){let Zr=Wr.getAttribute(Gr);return Zr===null?typeof Yr=="function"?Yr():Yr:Zr===""?!0:isBooleanAttr(Gr)?!![Gr,"true"].includes(Zr):Zr}function isCheckbox(Wr){return Wr.type==="checkbox"||Wr.localName==="ui-checkbox"||Wr.localName==="ui-switch"}function isRadio(Wr){return Wr.type==="radio"||Wr.localName==="ui-radio"}function debounce(Wr,Gr){var Yr;return function(){var Zr=this,Kr=arguments,Qr=function(){Yr=null,Wr.apply(Zr,Kr)};clearTimeout(Yr),Yr=setTimeout(Qr,Gr)}}function throttle$1(Wr,Gr){let Yr;return function(){let Zr=this,Kr=arguments;Yr||(Wr.apply(Zr,Kr),Yr=!0,setTimeout(()=>Yr=!1,Gr))}}function entangle({get:Wr,set:Gr},{get:Yr,set:Zr}){let Kr=!0,Qr,Jr=effect(()=>{let en=Wr(),tn=Yr();if(Kr)Zr(cloneIfObject(en)),Kr=!1;else{let rn=JSON.stringify(en),an=JSON.stringify(tn);rn!==Qr?Zr(cloneIfObject(en)):rn!==an&&Gr(cloneIfObject(tn))}Qr=JSON.stringify(Wr()),JSON.stringify(Yr())});return()=>{release$1(Jr)}}function cloneIfObject(Wr){return typeof Wr=="object"?JSON.parse(JSON.stringify(Wr)):Wr}function plugin(Wr){(Array.isArray(Wr)?Wr:[Wr]).forEach(Yr=>Yr(alpine_default))}var stores={},isReactive=!1;function store(Wr,Gr){if(isReactive||(stores=reactive(stores),isReactive=!0),Gr===void 0)return stores[Wr];stores[Wr]=Gr,initInterceptors(stores[Wr]),typeof Gr=="object"&&Gr!==null&&Gr.hasOwnProperty("init")&&typeof Gr.init=="function"&&stores[Wr].init()}function getStores(){return stores}var binds={};function bind2(Wr,Gr){let Yr=typeof Gr!="function"?()=>Gr:Gr;return Wr instanceof Element?applyBindingsObject(Wr,Yr()):(binds[Wr]=Yr,()=>{})}function injectBindingProviders(Wr){return Object.entries(binds).forEach(([Gr,Yr])=>{Object.defineProperty(Wr,Gr,{get(){return(...Zr)=>Yr(...Zr)}})}),Wr}function applyBindingsObject(Wr,Gr,Yr){let Zr=[];for(;Zr.length;)Zr.pop()();let Kr=Object.entries(Gr).map(([Jr,en])=>({name:Jr,value:en})),Qr=attributesOnly(Kr);return Kr=Kr.map(Jr=>Qr.find(en=>en.name===Jr.name)?{name:`x-bind:${Jr.name}`,value:`"${Jr.value}"`}:Jr),directives(Wr,Kr,Yr).map(Jr=>{Zr.push(Jr.runCleanups),Jr()}),()=>{for(;Zr.length;)Zr.pop()()}}var datas={};function data(Wr,Gr){datas[Wr]=Gr}function injectDataProviders(Wr,Gr){return Object.entries(datas).forEach(([Yr,Zr])=>{Object.defineProperty(Wr,Yr,{get(){return(...Kr)=>Zr.bind(Gr)(...Kr)},enumerable:!1})}),Wr}var Alpine={get reactive(){return reactive},get release(){return release$1},get effect(){return effect},get raw(){return raw},version:"3.14.8",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,interceptClone,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle:throttle$1,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start:start$1,clone:clone$5,cloneNode,bound:getBinding,$data:scope,watch,walk,data,bind:bind2},alpine_default=Alpine;function makeMap(Wr,Gr){const Yr=Object.create(null),Zr=Wr.split(",");for(let Kr=0;Kr<Zr.length;Kr++)Yr[Zr[Kr]]=!0;return Kr=>!!Yr[Kr]}var EMPTY_OBJ$1=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn$1=(Wr,Gr)=>hasOwnProperty.call(Wr,Gr),isArray$2=Array.isArray,isMap=Wr=>toTypeString(Wr)==="[object Map]",isString$1=Wr=>typeof Wr=="string",isSymbol=Wr=>typeof Wr=="symbol",isObject$4=Wr=>Wr!==null&&typeof Wr=="object",objectToString=Object.prototype.toString,toTypeString=Wr=>objectToString.call(Wr),toRawType=Wr=>toTypeString(Wr).slice(8,-1),isIntegerKey=Wr=>isString$1(Wr)&&Wr!=="NaN"&&Wr[0]!=="-"&&""+parseInt(Wr,10)===Wr,cacheStringFunction=Wr=>{const Gr=Object.create(null);return Yr=>Gr[Yr]||(Gr[Yr]=Wr(Yr))},capitalize=cacheStringFunction(Wr=>Wr.charAt(0).toUpperCase()+Wr.slice(1)),hasChanged=(Wr,Gr)=>Wr!==Gr&&(Wr===Wr||Gr===Gr),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(Wr){return Wr&&Wr._isEffect===!0}function effect2(Wr,Gr=EMPTY_OBJ$1){isEffect(Wr)&&(Wr=Wr.raw);const Yr=createReactiveEffect(Wr,Gr);return Gr.lazy||Yr(),Yr}function stop$1(Wr){Wr.active&&(cleanup(Wr),Wr.options.onStop&&Wr.options.onStop(),Wr.active=!1)}var uid=0;function createReactiveEffect(Wr,Gr){const Yr=function(){if(!Yr.active)return Wr();if(!effectStack.includes(Yr)){cleanup(Yr);try{return enableTracking(),effectStack.push(Yr),activeEffect=Yr,Wr()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return Yr.id=uid++,Yr.allowRecurse=!!Gr.allowRecurse,Yr._isEffect=!0,Yr.active=!0,Yr.raw=Wr,Yr.deps=[],Yr.options=Gr,Yr}function cleanup(Wr){const{deps:Gr}=Wr;if(Gr.length){for(let Yr=0;Yr<Gr.length;Yr++)Gr[Yr].delete(Wr);Gr.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const Wr=trackStack.pop();shouldTrack=Wr===void 0?!0:Wr}function track(Wr,Gr,Yr){if(!shouldTrack||activeEffect===void 0)return;let Zr=targetMap.get(Wr);Zr||targetMap.set(Wr,Zr=new Map);let Kr=Zr.get(Yr);Kr||Zr.set(Yr,Kr=new Set),Kr.has(activeEffect)||(Kr.add(activeEffect),activeEffect.deps.push(Kr),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:Wr,type:Gr,key:Yr}))}function trigger$2(Wr,Gr,Yr,Zr,Kr,Qr){const Jr=targetMap.get(Wr);if(!Jr)return;const en=new Set,tn=an=>{an&&an.forEach(nn=>{(nn!==activeEffect||nn.allowRecurse)&&en.add(nn)})};if(Gr==="clear")Jr.forEach(tn);else if(Yr==="length"&&isArray$2(Wr))Jr.forEach((an,nn)=>{(nn==="length"||nn>=Zr)&&tn(an)});else switch(Yr!==void 0&&tn(Jr.get(Yr)),Gr){case"add":isArray$2(Wr)?isIntegerKey(Yr)&&tn(Jr.get("length")):(tn(Jr.get(ITERATE_KEY)),isMap(Wr)&&tn(Jr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(Wr)||(tn(Jr.get(ITERATE_KEY)),isMap(Wr)&&tn(Jr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(Wr)&&tn(Jr.get(ITERATE_KEY));break}const rn=an=>{an.options.onTrigger&&an.options.onTrigger({effect:an,target:Wr,key:Yr,type:Gr,newValue:Zr,oldValue:Kr,oldTarget:Qr}),an.options.scheduler?an.options.scheduler(an):an()};en.forEach(rn)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(Wr=>Symbol[Wr]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const Wr={};return["includes","indexOf","lastIndexOf"].forEach(Gr=>{Wr[Gr]=function(...Yr){const Zr=toRaw(this);for(let Qr=0,Jr=this.length;Qr<Jr;Qr++)track(Zr,"get",Qr+"");const Kr=Zr[Gr](...Yr);return Kr===-1||Kr===!1?Zr[Gr](...Yr.map(toRaw)):Kr}}),["push","pop","shift","unshift","splice"].forEach(Gr=>{Wr[Gr]=function(...Yr){pauseTracking();const Zr=toRaw(this)[Gr].apply(this,Yr);return resetTracking(),Zr}}),Wr}function createGetter(Wr=!1,Gr=!1){return function(Zr,Kr,Qr){if(Kr==="__v_isReactive")return!Wr;if(Kr==="__v_isReadonly")return Wr;if(Kr==="__v_raw"&&Qr===(Wr?Gr?shallowReadonlyMap:readonlyMap:Gr?shallowReactiveMap:reactiveMap).get(Zr))return Zr;const Jr=isArray$2(Zr);if(!Wr&&Jr&&hasOwn$1(arrayInstrumentations,Kr))return Reflect.get(arrayInstrumentations,Kr,Qr);const en=Reflect.get(Zr,Kr,Qr);return(isSymbol(Kr)?builtInSymbols.has(Kr):isNonTrackableKeys(Kr))||(Wr||track(Zr,"get",Kr),Gr)?en:isRef(en)?!Jr||!isIntegerKey(Kr)?en.value:en:isObject$4(en)?Wr?readonly(en):reactive2(en):en}}var set2=createSetter();function createSetter(Wr=!1){return function(Yr,Zr,Kr,Qr){let Jr=Yr[Zr];if(!Wr&&(Kr=toRaw(Kr),Jr=toRaw(Jr),!isArray$2(Yr)&&isRef(Jr)&&!isRef(Kr)))return Jr.value=Kr,!0;const en=isArray$2(Yr)&&isIntegerKey(Zr)?Number(Zr)<Yr.length:hasOwn$1(Yr,Zr),tn=Reflect.set(Yr,Zr,Kr,Qr);return Yr===toRaw(Qr)&&(en?hasChanged(Kr,Jr)&&trigger$2(Yr,"set",Zr,Kr,Jr):trigger$2(Yr,"add",Zr,Kr)),tn}}function deleteProperty(Wr,Gr){const Yr=hasOwn$1(Wr,Gr),Zr=Wr[Gr],Kr=Reflect.deleteProperty(Wr,Gr);return Kr&&Yr&&trigger$2(Wr,"delete",Gr,void 0,Zr),Kr}function has$2(Wr,Gr){const Yr=Reflect.has(Wr,Gr);return(!isSymbol(Gr)||!builtInSymbols.has(Gr))&&track(Wr,"has",Gr),Yr}function ownKeys(Wr){return track(Wr,"iterate",isArray$2(Wr)?"length":ITERATE_KEY),Reflect.ownKeys(Wr)}var mutableHandlers={get:get2,set:set2,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(Wr,Gr){return console.warn(`Set operation on key "${String(Gr)}" failed: target is readonly.`,Wr),!0},deleteProperty(Wr,Gr){return console.warn(`Delete operation on key "${String(Gr)}" failed: target is readonly.`,Wr),!0}},toReactive=Wr=>isObject$4(Wr)?reactive2(Wr):Wr,toReadonly=Wr=>isObject$4(Wr)?readonly(Wr):Wr,toShallow=Wr=>Wr,getProto=Wr=>Reflect.getPrototypeOf(Wr);function get$1$1(Wr,Gr,Yr=!1,Zr=!1){Wr=Wr.__v_raw;const Kr=toRaw(Wr),Qr=toRaw(Gr);Gr!==Qr&&!Yr&&track(Kr,"get",Gr),!Yr&&track(Kr,"get",Qr);const{has:Jr}=getProto(Kr),en=Zr?toShallow:Yr?toReadonly:toReactive;if(Jr.call(Kr,Gr))return en(Wr.get(Gr));if(Jr.call(Kr,Qr))return en(Wr.get(Qr));Wr!==Kr&&Wr.get(Gr)}function has$1$1(Wr,Gr=!1){const Yr=this.__v_raw,Zr=toRaw(Yr),Kr=toRaw(Wr);return Wr!==Kr&&!Gr&&track(Zr,"has",Wr),!Gr&&track(Zr,"has",Kr),Wr===Kr?Yr.has(Wr):Yr.has(Wr)||Yr.has(Kr)}function size(Wr,Gr=!1){return Wr=Wr.__v_raw,!Gr&&track(toRaw(Wr),"iterate",ITERATE_KEY),Reflect.get(Wr,"size",Wr)}function add$1(Wr){Wr=toRaw(Wr);const Gr=toRaw(this);return getProto(Gr).has.call(Gr,Wr)||(Gr.add(Wr),trigger$2(Gr,"add",Wr,Wr)),this}function set$1$1(Wr,Gr){Gr=toRaw(Gr);const Yr=toRaw(this),{has:Zr,get:Kr}=getProto(Yr);let Qr=Zr.call(Yr,Wr);Qr?checkIdentityKeys(Yr,Zr,Wr):(Wr=toRaw(Wr),Qr=Zr.call(Yr,Wr));const Jr=Kr.call(Yr,Wr);return Yr.set(Wr,Gr),Qr?hasChanged(Gr,Jr)&&trigger$2(Yr,"set",Wr,Gr,Jr):trigger$2(Yr,"add",Wr,Gr),this}function deleteEntry(Wr){const Gr=toRaw(this),{has:Yr,get:Zr}=getProto(Gr);let Kr=Yr.call(Gr,Wr);Kr?checkIdentityKeys(Gr,Yr,Wr):(Wr=toRaw(Wr),Kr=Yr.call(Gr,Wr));const Qr=Zr?Zr.call(Gr,Wr):void 0,Jr=Gr.delete(Wr);return Kr&&trigger$2(Gr,"delete",Wr,void 0,Qr),Jr}function clear$2(){const Wr=toRaw(this),Gr=Wr.size!==0,Yr=isMap(Wr)?new Map(Wr):new Set(Wr),Zr=Wr.clear();return Gr&&trigger$2(Wr,"clear",void 0,void 0,Yr),Zr}function createForEach(Wr,Gr){return function(Zr,Kr){const Qr=this,Jr=Qr.__v_raw,en=toRaw(Jr),tn=Gr?toShallow:Wr?toReadonly:toReactive;return!Wr&&track(en,"iterate",ITERATE_KEY),Jr.forEach((rn,an)=>Zr.call(Kr,tn(rn),tn(an),Qr))}}function createIterableMethod(Wr,Gr,Yr){return function(...Zr){const Kr=this.__v_raw,Qr=toRaw(Kr),Jr=isMap(Qr),en=Wr==="entries"||Wr===Symbol.iterator&&Jr,tn=Wr==="keys"&&Jr,rn=Kr[Wr](...Zr),an=Yr?toShallow:Gr?toReadonly:toReactive;return!Gr&&track(Qr,"iterate",tn?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:nn,done:sn}=rn.next();return sn?{value:nn,done:sn}:{value:en?[an(nn[0]),an(nn[1])]:an(nn),done:sn}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(Wr){return function(...Gr){{const Yr=Gr[0]?`on key "${Gr[0]}" `:"";console.warn(`${capitalize(Wr)} operation ${Yr}failed: target is readonly.`,toRaw(this))}return Wr==="delete"?!1:this}}function createInstrumentations(){const Wr={get(Qr){return get$1$1(this,Qr)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},Gr={get(Qr){return get$1$1(this,Qr,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},Yr={get(Qr){return get$1$1(this,Qr,!0)},get size(){return size(this,!0)},has(Qr){return has$1$1.call(this,Qr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Zr={get(Qr){return get$1$1(this,Qr,!0,!0)},get size(){return size(this,!0)},has(Qr){return has$1$1.call(this,Qr,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Qr=>{Wr[Qr]=createIterableMethod(Qr,!1,!1),Yr[Qr]=createIterableMethod(Qr,!0,!1),Gr[Qr]=createIterableMethod(Qr,!1,!0),Zr[Qr]=createIterableMethod(Qr,!0,!0)}),[Wr,Yr,Gr,Zr]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(Wr,Gr){const Yr=Wr?readonlyInstrumentations:mutableInstrumentations;return(Zr,Kr,Qr)=>Kr==="__v_isReactive"?!Wr:Kr==="__v_isReadonly"?Wr:Kr==="__v_raw"?Zr:Reflect.get(hasOwn$1(Yr,Kr)&&Kr in Zr?Yr:Zr,Kr,Qr)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0)};function checkIdentityKeys(Wr,Gr,Yr){const Zr=toRaw(Yr);if(Zr!==Yr&&Gr.call(Wr,Zr)){const Kr=toRawType(Wr);console.warn(`Reactive ${Kr} contains both the raw and reactive versions of the same object${Kr==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(Wr){switch(Wr){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(Wr){return Wr.__v_skip||!Object.isExtensible(Wr)?0:targetTypeMap(toRawType(Wr))}function reactive2(Wr){return Wr&&Wr.__v_isReadonly?Wr:createReactiveObject(Wr,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(Wr){return createReactiveObject(Wr,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(Wr,Gr,Yr,Zr,Kr){if(!isObject$4(Wr))return console.warn(`value cannot be made reactive: ${String(Wr)}`),Wr;if(Wr.__v_raw&&!(Gr&&Wr.__v_isReactive))return Wr;const Qr=Kr.get(Wr);if(Qr)return Qr;const Jr=getTargetType(Wr);if(Jr===0)return Wr;const en=new Proxy(Wr,Jr===2?Zr:Yr);return Kr.set(Wr,en),en}function toRaw(Wr){return Wr&&toRaw(Wr.__v_raw)||Wr}function isRef(Wr){return!!(Wr&&Wr.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",Wr=>dispatch.bind(dispatch,Wr));magic("watch",(Wr,{evaluateLater:Gr,cleanup:Yr})=>(Zr,Kr)=>{let Qr=Gr(Zr),en=watch(()=>{let tn;return Qr(rn=>tn=rn),tn},Kr);Yr(en)});magic("store",getStores);magic("data",Wr=>scope(Wr));magic("root",Wr=>closestRoot(Wr));magic("refs",Wr=>(Wr._x_refs_proxy||(Wr._x_refs_proxy=mergeProxies(getArrayOfRefObject(Wr))),Wr._x_refs_proxy));function getArrayOfRefObject(Wr){let Gr=[];return findClosest(Wr,Yr=>{Yr._x_refs&&Gr.push(Yr._x_refs)}),Gr}var globalIdMemo={};function findAndIncrementId(Wr){return globalIdMemo[Wr]||(globalIdMemo[Wr]=0),++globalIdMemo[Wr]}function closestIdRoot(Wr,Gr){return findClosest(Wr,Yr=>{if(Yr._x_ids&&Yr._x_ids[Gr])return!0})}function setIdRoot(Wr,Gr){Wr._x_ids||(Wr._x_ids={}),Wr._x_ids[Gr]||(Wr._x_ids[Gr]=findAndIncrementId(Gr))}magic("id",(Wr,{cleanup:Gr})=>(Yr,Zr=null)=>{let Kr=`${Yr}${Zr?`-${Zr}`:""}`;return cacheIdByNameOnElement(Wr,Kr,Gr,()=>{let Qr=closestIdRoot(Wr,Yr),Jr=Qr?Qr._x_ids[Yr]:findAndIncrementId(Yr);return Zr?`${Yr}-${Jr}-${Zr}`:`${Yr}-${Jr}`})});interceptClone((Wr,Gr)=>{Wr._x_id&&(Gr._x_id=Wr._x_id)});function cacheIdByNameOnElement(Wr,Gr,Yr,Zr){if(Wr._x_id||(Wr._x_id={}),Wr._x_id[Gr])return Wr._x_id[Gr];let Kr=Zr();return Wr._x_id[Gr]=Kr,Yr(()=>{delete Wr._x_id[Gr]}),Kr}magic("el",Wr=>Wr);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(Wr,Gr,Yr){magic(Gr,Zr=>warn(`You can't use [$${Gr}] without first installing the "${Wr}" plugin here: https://alpinejs.dev/plugins/${Yr}`,Zr))}directive("modelable",(Wr,{expression:Gr},{effect:Yr,evaluateLater:Zr,cleanup:Kr})=>{let Qr=Zr(Gr),Jr=()=>{let an;return Qr(nn=>an=nn),an},en=Zr(`${Gr} = __placeholder`),tn=an=>en(()=>{},{scope:{__placeholder:an}}),rn=Jr();tn(rn),queueMicrotask(()=>{if(!Wr._x_model)return;Wr._x_removeModelListeners.default();let an=Wr._x_model.get,nn=Wr._x_model.set,sn=entangle({get(){return an()},set(ln){nn(ln)}},{get(){return Jr()},set(ln){tn(ln)}});Kr(sn)})});directive("teleport",(Wr,{modifiers:Gr,expression:Yr},{cleanup:Zr})=>{Wr.tagName.toLowerCase()!=="template"&&warn("x-teleport can only be used on a <template> tag",Wr);let Kr=getTarget(Yr),Qr=Wr.content.cloneNode(!0).firstElementChild;Wr._x_teleport=Qr,Qr._x_teleportBack=Wr,Wr.setAttribute("data-teleport-template",!0),Qr.setAttribute("data-teleport-target",!0),Wr._x_forwardEvents&&Wr._x_forwardEvents.forEach(en=>{Qr.addEventListener(en,tn=>{tn.stopPropagation(),Wr.dispatchEvent(new tn.constructor(tn.type,tn))})}),addScopeToNode(Qr,{},Wr);let Jr=(en,tn,rn)=>{rn.includes("prepend")?tn.parentNode.insertBefore(en,tn):rn.includes("append")?tn.parentNode.insertBefore(en,tn.nextSibling):tn.appendChild(en)};mutateDom(()=>{Jr(Qr,Kr,Gr),skipDuringClone(()=>{initTree(Qr)})()}),Wr._x_teleportPutBack=()=>{let en=getTarget(Yr);mutateDom(()=>{Jr(Wr._x_teleport,en,Gr)})},Zr(()=>mutateDom(()=>{Qr.remove(),destroyTree(Qr)}))});var teleportContainerDuringClone=document.createElement("div");function getTarget(Wr){let Gr=skipDuringClone(()=>document.querySelector(Wr),()=>teleportContainerDuringClone)();return Gr||warn(`Cannot find x-teleport element for selector: "${Wr}"`),Gr}var handler=()=>{};handler.inline=(Wr,{modifiers:Gr},{cleanup:Yr})=>{Gr.includes("self")?Wr._x_ignoreSelf=!0:Wr._x_ignore=!0,Yr(()=>{Gr.includes("self")?delete Wr._x_ignoreSelf:delete Wr._x_ignore})};directive("ignore",handler);directive("effect",skipDuringClone((Wr,{expression:Gr},{effect:Yr})=>{Yr(evaluateLater(Wr,Gr))}));function on(Wr,Gr,Yr,Zr){let Kr=Wr,Qr=tn=>Zr(tn),Jr={},en=(tn,rn)=>an=>rn(tn,an);if(Yr.includes("dot")&&(Gr=dotSyntax(Gr)),Yr.includes("camel")&&(Gr=camelCase2(Gr)),Yr.includes("passive")&&(Jr.passive=!0),Yr.includes("capture")&&(Jr.capture=!0),Yr.includes("window")&&(Kr=window),Yr.includes("document")&&(Kr=document),Yr.includes("debounce")){let tn=Yr[Yr.indexOf("debounce")+1]||"invalid-wait",rn=isNumeric$1(tn.split("ms")[0])?Number(tn.split("ms")[0]):250;Qr=debounce(Qr,rn)}if(Yr.includes("throttle")){let tn=Yr[Yr.indexOf("throttle")+1]||"invalid-wait",rn=isNumeric$1(tn.split("ms")[0])?Number(tn.split("ms")[0]):250;Qr=throttle$1(Qr,rn)}return Yr.includes("prevent")&&(Qr=en(Qr,(tn,rn)=>{rn.preventDefault(),tn(rn)})),Yr.includes("stop")&&(Qr=en(Qr,(tn,rn)=>{rn.stopPropagation(),tn(rn)})),Yr.includes("once")&&(Qr=en(Qr,(tn,rn)=>{tn(rn),Kr.removeEventListener(Gr,Qr,Jr)})),(Yr.includes("away")||Yr.includes("outside"))&&(Kr=document,Qr=en(Qr,(tn,rn)=>{Wr.contains(rn.target)||rn.target.isConnected!==!1&&(Wr.offsetWidth<1&&Wr.offsetHeight<1||Wr._x_isShown!==!1&&tn(rn))})),Yr.includes("self")&&(Qr=en(Qr,(tn,rn)=>{rn.target===Wr&&tn(rn)})),(isKeyEvent(Gr)||isClickEvent(Gr))&&(Qr=en(Qr,(tn,rn)=>{isListeningForASpecificKeyThatHasntBeenPressed(rn,Yr)||tn(rn)})),Kr.addEventListener(Gr,Qr,Jr),()=>{Kr.removeEventListener(Gr,Qr,Jr)}}function dotSyntax(Wr){return Wr.replace(/-/g,".")}function camelCase2(Wr){return Wr.toLowerCase().replace(/-(\w)/g,(Gr,Yr)=>Yr.toUpperCase())}function isNumeric$1(Wr){return!Array.isArray(Wr)&&!isNaN(Wr)}function kebabCase2(Wr){return[" ","_"].includes(Wr)?Wr:Wr.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(Wr){return["keydown","keyup"].includes(Wr)}function isClickEvent(Wr){return["contextmenu","click","mouse"].some(Gr=>Wr.includes(Gr))}function isListeningForASpecificKeyThatHasntBeenPressed(Wr,Gr){let Yr=Gr.filter(Qr=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(Qr));if(Yr.includes("debounce")){let Qr=Yr.indexOf("debounce");Yr.splice(Qr,isNumeric$1((Yr[Qr+1]||"invalid-wait").split("ms")[0])?2:1)}if(Yr.includes("throttle")){let Qr=Yr.indexOf("throttle");Yr.splice(Qr,isNumeric$1((Yr[Qr+1]||"invalid-wait").split("ms")[0])?2:1)}if(Yr.length===0||Yr.length===1&&keyToModifiers(Wr.key).includes(Yr[0]))return!1;const Kr=["ctrl","shift","alt","meta","cmd","super"].filter(Qr=>Yr.includes(Qr));return Yr=Yr.filter(Qr=>!Kr.includes(Qr)),!(Kr.length>0&&Kr.filter(Jr=>((Jr==="cmd"||Jr==="super")&&(Jr="meta"),Wr[`${Jr}Key`])).length===Kr.length&&(isClickEvent(Wr.type)||keyToModifiers(Wr.key).includes(Yr[0])))}function keyToModifiers(Wr){if(!Wr)return[];Wr=kebabCase2(Wr);let Gr={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return Gr[Wr]=Wr,Object.keys(Gr).map(Yr=>{if(Gr[Yr]===Wr)return Yr}).filter(Yr=>Yr)}directive("model",(Wr,{modifiers:Gr,expression:Yr},{effect:Zr,cleanup:Kr})=>{let Qr=Wr;Gr.includes("parent")&&(Qr=Wr.parentNode);let Jr=evaluateLater(Qr,Yr),en;typeof Yr=="string"?en=evaluateLater(Qr,`${Yr} = __placeholder`):typeof Yr=="function"&&typeof Yr()=="string"?en=evaluateLater(Qr,`${Yr()} = __placeholder`):en=()=>{};let tn=()=>{let sn;return Jr(ln=>sn=ln),isGetterSetter(sn)?sn.get():sn},rn=sn=>{let ln;Jr(un=>ln=un),isGetterSetter(ln)?ln.set(sn):en(()=>{},{scope:{__placeholder:sn}})};typeof Yr=="string"&&Wr.type==="radio"&&mutateDom(()=>{Wr.hasAttribute("name")||Wr.setAttribute("name",Yr)});var an=Wr.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(Wr.type)||Gr.includes("lazy")?"change":"input";let nn=isCloning?()=>{}:on(Wr,an,Gr,sn=>{rn(getInputValue(Wr,Gr,sn,tn()))});if(Gr.includes("fill")&&([void 0,null,""].includes(tn())||isCheckbox(Wr)&&Array.isArray(tn())||Wr.tagName.toLowerCase()==="select"&&Wr.multiple)&&rn(getInputValue(Wr,Gr,{target:Wr},tn())),Wr._x_removeModelListeners||(Wr._x_removeModelListeners={}),Wr._x_removeModelListeners.default=nn,Kr(()=>Wr._x_removeModelListeners.default()),Wr.form){let sn=on(Wr.form,"reset",[],ln=>{nextTick(()=>Wr._x_model&&Wr._x_model.set(getInputValue(Wr,Gr,{target:Wr},tn())))});Kr(()=>sn())}Wr._x_model={get(){return tn()},set(sn){rn(sn)}},Wr._x_forceModelUpdate=sn=>{sn===void 0&&typeof Yr=="string"&&Yr.match(/\./)&&(sn=""),window.fromModel=!0,mutateDom(()=>bind$2(Wr,"value",sn)),delete window.fromModel},Zr(()=>{let sn=tn();Gr.includes("unintrusive")&&document.activeElement.isSameNode(Wr)||Wr._x_forceModelUpdate(sn)})});function getInputValue(Wr,Gr,Yr,Zr){return mutateDom(()=>{if(Yr instanceof CustomEvent&&Yr.detail!==void 0)return Yr.detail!==null&&Yr.detail!==void 0?Yr.detail:Yr.target.value;if(isCheckbox(Wr))if(Array.isArray(Zr)){let Kr=null;return Gr.includes("number")?Kr=safeParseNumber(Yr.target.value):Gr.includes("boolean")?Kr=safeParseBoolean(Yr.target.value):Kr=Yr.target.value,Yr.target.checked?Zr.includes(Kr)?Zr:Zr.concat([Kr]):Zr.filter(Qr=>!checkedAttrLooseCompare2(Qr,Kr))}else return Yr.target.checked;else{if(Wr.tagName.toLowerCase()==="select"&&Wr.multiple)return Gr.includes("number")?Array.from(Yr.target.selectedOptions).map(Kr=>{let Qr=Kr.value||Kr.text;return safeParseNumber(Qr)}):Gr.includes("boolean")?Array.from(Yr.target.selectedOptions).map(Kr=>{let Qr=Kr.value||Kr.text;return safeParseBoolean(Qr)}):Array.from(Yr.target.selectedOptions).map(Kr=>Kr.value||Kr.text);{let Kr;return isRadio(Wr)?Yr.target.checked?Kr=Yr.target.value:Kr=Zr:Kr=Yr.target.value,Gr.includes("number")?safeParseNumber(Kr):Gr.includes("boolean")?safeParseBoolean(Kr):Gr.includes("trim")?Kr.trim():Kr}}})}function safeParseNumber(Wr){let Gr=Wr?parseFloat(Wr):null;return isNumeric2(Gr)?Gr:Wr}function checkedAttrLooseCompare2(Wr,Gr){return Wr==Gr}function isNumeric2(Wr){return!Array.isArray(Wr)&&!isNaN(Wr)}function isGetterSetter(Wr){return Wr!==null&&typeof Wr=="object"&&typeof Wr.get=="function"&&typeof Wr.set=="function"}directive("cloak",Wr=>queueMicrotask(()=>mutateDom(()=>Wr.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((Wr,{expression:Gr},{evaluate:Yr})=>typeof Gr=="string"?!!Gr.trim()&&Yr(Gr,{},!1):Yr(Gr,{},!1)));directive("text",(Wr,{expression:Gr},{effect:Yr,evaluateLater:Zr})=>{let Kr=Zr(Gr);Yr(()=>{Kr(Qr=>{mutateDom(()=>{Wr.textContent=Qr})})})});directive("html",(Wr,{expression:Gr},{effect:Yr,evaluateLater:Zr})=>{let Kr=Zr(Gr);Yr(()=>{Kr(Qr=>{mutateDom(()=>{Wr.innerHTML=Qr,Wr._x_ignoreSelf=!0,initTree(Wr),delete Wr._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(Wr,{value:Gr,modifiers:Yr,expression:Zr,original:Kr},{effect:Qr,cleanup:Jr})=>{if(!Gr){let tn={};injectBindingProviders(tn),evaluateLater(Wr,Zr)(an=>{applyBindingsObject(Wr,an,Kr)},{scope:tn});return}if(Gr==="key")return storeKeyForXFor(Wr,Zr);if(Wr._x_inlineBindings&&Wr._x_inlineBindings[Gr]&&Wr._x_inlineBindings[Gr].extract)return;let en=evaluateLater(Wr,Zr);Qr(()=>en(tn=>{tn===void 0&&typeof Zr=="string"&&Zr.match(/\./)&&(tn=""),mutateDom(()=>bind$2(Wr,Gr,tn,Yr))})),Jr(()=>{Wr._x_undoAddedClasses&&Wr._x_undoAddedClasses(),Wr._x_undoAddedStyles&&Wr._x_undoAddedStyles()})};handler2.inline=(Wr,{value:Gr,modifiers:Yr,expression:Zr})=>{Gr&&(Wr._x_inlineBindings||(Wr._x_inlineBindings={}),Wr._x_inlineBindings[Gr]={expression:Zr,extract:!1})};directive("bind",handler2);function storeKeyForXFor(Wr,Gr){Wr._x_keyExpression=Gr}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(Wr,{expression:Gr},{cleanup:Yr})=>{if(shouldSkipRegisteringDataDuringClone(Wr))return;Gr=Gr===""?"{}":Gr;let Zr={};injectMagics(Zr,Wr);let Kr={};injectDataProviders(Kr,Zr);let Qr=evaluate(Wr,Gr,{scope:Kr});(Qr===void 0||Qr===!0)&&(Qr={}),injectMagics(Qr,Wr);let Jr=reactive(Qr);initInterceptors(Jr);let en=addScopeToNode(Wr,Jr);Jr.init&&evaluate(Wr,Jr.init),Yr(()=>{Jr.destroy&&evaluate(Wr,Jr.destroy),en()})});interceptClone((Wr,Gr)=>{Wr._x_dataStack&&(Gr._x_dataStack=Wr._x_dataStack,Gr.setAttribute("data-has-alpine-state",!0))});function shouldSkipRegisteringDataDuringClone(Wr){return isCloning?isCloningLegacy?!0:Wr.hasAttribute("data-has-alpine-state"):!1}directive("show",(Wr,{modifiers:Gr,expression:Yr},{effect:Zr})=>{let Kr=evaluateLater(Wr,Yr);Wr._x_doHide||(Wr._x_doHide=()=>{mutateDom(()=>{Wr.style.setProperty("display","none",Gr.includes("important")?"important":void 0)})}),Wr._x_doShow||(Wr._x_doShow=()=>{mutateDom(()=>{Wr.style.length===1&&Wr.style.display==="none"?Wr.removeAttribute("style"):Wr.style.removeProperty("display")})});let Qr=()=>{Wr._x_doHide(),Wr._x_isShown=!1},Jr=()=>{Wr._x_doShow(),Wr._x_isShown=!0},en=()=>setTimeout(Jr),tn=once(nn=>nn?Jr():Qr(),nn=>{typeof Wr._x_toggleAndCascadeWithTransitions=="function"?Wr._x_toggleAndCascadeWithTransitions(Wr,nn,Jr,Qr):nn?en():Qr()}),rn,an=!0;Zr(()=>Kr(nn=>{!an&&nn===rn||(Gr.includes("immediate")&&(nn?en():Qr()),tn(nn),rn=nn,an=!1)}))});directive("for",(Wr,{expression:Gr},{effect:Yr,cleanup:Zr})=>{let Kr=parseForExpression(Gr),Qr=evaluateLater(Wr,Kr.items),Jr=evaluateLater(Wr,Wr._x_keyExpression||"index");Wr._x_prevKeys=[],Wr._x_lookup={},Yr(()=>loop(Wr,Kr,Qr,Jr)),Zr(()=>{Object.values(Wr._x_lookup).forEach(en=>mutateDom(()=>{destroyTree(en),en.remove()})),delete Wr._x_prevKeys,delete Wr._x_lookup})});function loop(Wr,Gr,Yr,Zr){let Kr=Jr=>typeof Jr=="object"&&!Array.isArray(Jr),Qr=Wr;Yr(Jr=>{isNumeric3(Jr)&&Jr>=0&&(Jr=Array.from(Array(Jr).keys(),hn=>hn+1)),Jr===void 0&&(Jr=[]);let en=Wr._x_lookup,tn=Wr._x_prevKeys,rn=[],an=[];if(Kr(Jr))Jr=Object.entries(Jr).map(([hn,dn])=>{let fn=getIterationScopeVariables(Gr,dn,hn,Jr);Zr(pn=>{an.includes(pn)&&warn("Duplicate key on x-for",Wr),an.push(pn)},{scope:{index:hn,...fn}}),rn.push(fn)});else for(let hn=0;hn<Jr.length;hn++){let dn=getIterationScopeVariables(Gr,Jr[hn],hn,Jr);Zr(fn=>{an.includes(fn)&&warn("Duplicate key on x-for",Wr),an.push(fn)},{scope:{index:hn,...dn}}),rn.push(dn)}let nn=[],sn=[],ln=[],un=[];for(let hn=0;hn<tn.length;hn++){let dn=tn[hn];an.indexOf(dn)===-1&&ln.push(dn)}tn=tn.filter(hn=>!ln.includes(hn));let cn="template";for(let hn=0;hn<an.length;hn++){let dn=an[hn],fn=tn.indexOf(dn);if(fn===-1)tn.splice(hn,0,dn),nn.push([cn,hn]);else if(fn!==hn){let pn=tn.splice(hn,1)[0],gn=tn.splice(fn-1,1)[0];tn.splice(hn,0,gn),tn.splice(fn,0,pn),sn.push([pn,gn])}else un.push(dn);cn=dn}for(let hn=0;hn<ln.length;hn++){let dn=ln[hn];dn in en&&(mutateDom(()=>{destroyTree(en[dn]),en[dn].remove()}),delete en[dn])}for(let hn=0;hn<sn.length;hn++){let[dn,fn]=sn[hn],pn=en[dn],gn=en[fn],vn=document.createElement("div");mutateDom(()=>{gn||warn('x-for ":key" is undefined or invalid',Qr,fn,en),gn.after(vn),pn.after(gn),gn._x_currentIfEl&&gn.after(gn._x_currentIfEl),vn.before(pn),pn._x_currentIfEl&&pn.after(pn._x_currentIfEl),vn.remove()}),gn._x_refreshXForScope(rn[an.indexOf(fn)])}for(let hn=0;hn<nn.length;hn++){let[dn,fn]=nn[hn],pn=dn==="template"?Qr:en[dn];pn._x_currentIfEl&&(pn=pn._x_currentIfEl);let gn=rn[fn],vn=an[fn],mn=document.importNode(Qr.content,!0).firstElementChild,yn=reactive(gn);addScopeToNode(mn,yn,Qr),mn._x_refreshXForScope=xn=>{Object.entries(xn).forEach(([bn,Sn])=>{yn[bn]=Sn})},mutateDom(()=>{pn.after(mn),skipDuringClone(()=>initTree(mn))()}),typeof vn=="object"&&warn("x-for key cannot be an object, it must be a string or an integer",Qr),en[vn]=mn}for(let hn=0;hn<un.length;hn++)en[un[hn]]._x_refreshXForScope(rn[an.indexOf(un[hn])]);Qr._x_prevKeys=an})}function parseForExpression(Wr){let Gr=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Yr=/^\s*\(|\)\s*$/g,Zr=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Kr=Wr.match(Zr);if(!Kr)return;let Qr={};Qr.items=Kr[2].trim();let Jr=Kr[1].replace(Yr,"").trim(),en=Jr.match(Gr);return en?(Qr.item=Jr.replace(Gr,"").trim(),Qr.index=en[1].trim(),en[2]&&(Qr.collection=en[2].trim())):Qr.item=Jr,Qr}function getIterationScopeVariables(Wr,Gr,Yr,Zr){let Kr={};return/^\[.*\]$/.test(Wr.item)&&Array.isArray(Gr)?Wr.item.replace("[","").replace("]","").split(",").map(Jr=>Jr.trim()).forEach((Jr,en)=>{Kr[Jr]=Gr[en]}):/^\{.*\}$/.test(Wr.item)&&!Array.isArray(Gr)&&typeof Gr=="object"?Wr.item.replace("{","").replace("}","").split(",").map(Jr=>Jr.trim()).forEach(Jr=>{Kr[Jr]=Gr[Jr]}):Kr[Wr.item]=Gr,Wr.index&&(Kr[Wr.index]=Yr),Wr.collection&&(Kr[Wr.collection]=Zr),Kr}function isNumeric3(Wr){return!Array.isArray(Wr)&&!isNaN(Wr)}function handler3(){}handler3.inline=(Wr,{expression:Gr},{cleanup:Yr})=>{let Zr=closestRoot(Wr);Zr._x_refs||(Zr._x_refs={}),Zr._x_refs[Gr]=Wr,Yr(()=>delete Zr._x_refs[Gr])};directive("ref",handler3);directive("if",(Wr,{expression:Gr},{effect:Yr,cleanup:Zr})=>{Wr.tagName.toLowerCase()!=="template"&&warn("x-if can only be used on a <template> tag",Wr);let Kr=evaluateLater(Wr,Gr),Qr=()=>{if(Wr._x_currentIfEl)return Wr._x_currentIfEl;let en=Wr.content.cloneNode(!0).firstElementChild;return addScopeToNode(en,{},Wr),mutateDom(()=>{Wr.after(en),skipDuringClone(()=>initTree(en))()}),Wr._x_currentIfEl=en,Wr._x_undoIf=()=>{mutateDom(()=>{destroyTree(en),en.remove()}),delete Wr._x_currentIfEl},en},Jr=()=>{Wr._x_undoIf&&(Wr._x_undoIf(),delete Wr._x_undoIf)};Yr(()=>Kr(en=>{en?Qr():Jr()})),Zr(()=>Wr._x_undoIf&&Wr._x_undoIf())});directive("id",(Wr,{expression:Gr},{evaluate:Yr})=>{Yr(Gr).forEach(Kr=>setIdRoot(Wr,Kr))});interceptClone((Wr,Gr)=>{Wr._x_ids&&(Gr._x_ids=Wr._x_ids)});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((Wr,{value:Gr,modifiers:Yr,expression:Zr},{cleanup:Kr})=>{let Qr=Zr?evaluateLater(Wr,Zr):()=>{};Wr.tagName.toLowerCase()==="template"&&(Wr._x_forwardEvents||(Wr._x_forwardEvents=[]),Wr._x_forwardEvents.includes(Gr)||Wr._x_forwardEvents.push(Gr));let Jr=on(Wr,Gr,Yr,en=>{Qr(()=>{},{scope:{$event:en},params:[en]})});Kr(()=>Jr())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(Wr,Gr,Yr){directive(Gr,Zr=>warn(`You can't use [x-${Gr}] without first installing the "${Wr}" plugin here: https://alpinejs.dev/plugins/${Yr}`,Zr))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop$1,raw:toRaw});var src_default=alpine_default,module_default=src_default;const STORAGE_KEY="state",defaultState={currentRoute:"/",queryParams:null,user:null,isAuthenticated:!1,timeUp:!1,navigationBlocked:!1,componentLoading:!1,data:{},filters:{}};let state={...defaultState};const subscribers=[];function loadFromStorage(){try{const Wr=sessionStorage.getItem(STORAGE_KEY);if(Wr){const Gr=JSON.parse(Wr);return typeof Gr.user=="string"&&(Gr.user=JSON.parse(Gr.user)),{...defaultState,...Gr}}}catch(Wr){return console.error("Error loading state:",Wr),{...defaultState}}}function updateState(Wr){try{state={...state,...Wr},sessionStorage.setItem(STORAGE_KEY,JSON.stringify(state)),subscribers.forEach(Gr=>Gr(state))}catch(Gr){console.error("Error updating state:",Gr),state={...defaultState}}}function getState(){return{...loadFromStorage()}}const translations={en:{statusDisputed:"Disputed",statusNotDisputed:"Not disputed",enterDisputeReason:"Enter your dispute reason",confirmDispute:"Confirm",confirm:"Confirm",cancelDispute:"Cancel",cancel:"Cancel",openDispute:"Open Dispute",explanationButton:"Explanation",submitAnswer:"Submit answer",floatingSubmit:"Submit",emptyExplanation:"No explanation provided",noResults:"No results found",userNotLoggedIn:"User is not logged in",registrationSuccessful:"Registration successful",registrationFailed:"Registration failed. Please try again",loginSuccessful:"Registration successful",unknownErrorCode:"UNKNOWN_ERROR",unknownErrorMessage:"An unknown error occurred",responseMapError:"An unknown error occurred when trying to handle the server's response",allQuestionsNotAnswered:"Please answer all questions before submitting",submitConfirmation:"Are you sure you want to submit the answers?",authenticationDetails:"Authentication details",modalInformation:"Information",modalButton:"OK",question:"Question",answer:"Your Answer",correctAnswer:"Correct Answer",explanation:"Explanation",blacklistedInfo:"Are you sure you don't want to see this question again?",blacklistError:"Failed to unlist question",blackListSuccess:"Question unlist successfully",general:"General",specific:"Specific",lesson:"Lesson",filterHeaders:{study:{title:"Study",description:"Stydy mode, with a gamified interface"},simulation:{title:"Simulation",description:"Simulation of an official exam, with a defined time and random questions"}}},es:{statusDisputed:"Impugnado",statusNotDisputed:"No impugnado",enterDisputeReason:"Describa el motivo de su impugna",confirm:"Confirmar",confirmDispute:"Confirmar",cancelDispute:"Cancelar",cancel:"Cancelar",openDispute:"Impugnar",explanationButton:"Explicación",submitAnswer:"Enviar respuesta",floatingSubmit:"Enviar todo",emptyExplanation:"No hay explicación proporcionada",noResults:"No se encontraron resultados",userNotLoggedIn:"El usuario no tiene una sesión activa",registrationSuccessful:"Registro realizado con éxito",registrationFailed:"Registro fallido. Por favor, inténtelo de nuevo",loginSuccessful:"Inicio de sesión exitoso",unknownErrorCode:"ERROR_DESCONOCIDO",unknownErrorMessage:"Ha ocurrido un error desconocido",responseMapError:"Ha ocurrido un error desconocido al intentar traducir la respuesta del servidor",allQuestionsNotAnswered:"Por favor responda todas las preguntas antes de enviar",submitConfirmation:"¿Estás seguro de enviar las respuestas?",authenticationDetails:"Detalles de autenticación",modalInformation:"Información",modalButton:"Aceptar",question:"Pregunta",answer:"Su respuesta",correctAnswer:"Respuesta correcta",explanation:"Explicación",blacklistedInfo:"¿Estás seguro de que no quieres volver a ver esta pregunta?",blacklistError:"Error al excluir la pregunta de la lista",blackListSuccess:"Pregunta excluida satisfactoriamente",general:"General",specific:"Específico",lesson:"Tema",filterHeaders:{study:{title:"Estudio",description:"Modo de estudio, con una interfaz gamificada"},simulation:{title:"Simulacro",description:"Simulación de un examen oficial, con un tiempo definido y preguntas aleatorias"}}}},userLanguage="es",__vite_import_meta_env__={VITE_AUTH_REQUIRED:"true",VITE_CLIENT_URL:"https://imas-staging.saludeduca.es/",VITE_DEBUG:"true",VITE_ENV:"staging",VITE_SERVER_URL:"https://api-imas-staging.saludeduca.es/",__BUILD_TIMESTAMP__:"2025-03-08T11:11:18",__WEB_VERSION__:"v-20250308111118"},env$1=__vite_import_meta_env__,DEBUG=env$1.VITE_DEBUG==="true",ENVIRONMENT=env$1.VITE_ENV,CLIENT_URL=env$1.VITE_CLIENT_URL,SERVER_URL=env$1.VITE_SERVER_URL,AUTH_REQUIRED=env$1.VITE_AUTH_REQUIRED==="true",WEB_VERSION=env$1.__WEB_VERSION__,BUILD_TIMESTAMP=env$1.__BUILD_TIMESTAMP__,STUDY_DEFAULT_VALUE=10,STUDY_MIN_QUESTIONS=5,STUDY_MAX_QUESTIONS=25,GAME_PARTS_DEFAULT=1,GAME_PARTS_CONFIG={0:{partType:"general",defaultQuestions:65,validQuestions:55,defaultTime:1,label:translations[userLanguage].general,pointsPerCorrect:.182,pointsPerIncorrect:.0455},1:{partType:"specific",defaultQuestions:40,validQuestions:35,defaultTime:1,label:translations[userLanguage].specific,pointsPerCorrect:.286,pointsPerIncorrect:.095}},getGamePartKeyFromType=Wr=>{var Yr;const Gr=(Yr=Object.entries(GAME_PARTS_CONFIG).find(([Zr,Kr])=>Kr.partType===Wr))==null?void 0:Yr[0];return Gr!==void 0?Number(Gr):GAME_PARTS_DEFAULT},DASHBOARD_TABLE_HISTORY_AMOUNT=5,SUCCESS_THRESHOLD_SIMULATION=.5,SUCCESS_THRESHOLD_STUDY=.5,REFRESH_TOKEN_TIME_INTERVAL=60*10,REFRESH_TOKEN_RENEW_CHECKPOINT=60*60*6;function showErrorModal(Wr,Gr={}){const Yr=`[ERROR]: ${Wr.code}: ${Wr.message} ${Wr.details?`${JSON.stringify(Wr.details)}`:""}`;alert(Yr),console.log(`${Yr}${Gr?` (${JSON.stringify(Gr)})`:""}`)}const types={success:`<span class="text-green-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M360 688C541.149 688 688 541.149 688 360C688 178.851 541.149 32 360 32C178.851 32 32 178.851 32 360C32 541.149 178.851 688 360 688Z" stroke="#2D4C1C" stroke-width="38.7163" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M591.236 228.916C587.206 224.91 581.755 222.661 576.072 222.661C570.39 222.661 564.939 224.91 560.909 228.916L322.158 466.591L193.103 337.537C189.167 333.287 183.704 330.775 177.916 330.553C172.127 330.331 166.488 332.418 162.238 336.354C157.988 340.29 155.476 345.753 155.254 351.541C155.032 357.33 157.119 362.969 161.055 367.219L322.158 527.892L591.236 259.459C593.252 257.459 594.853 255.08 595.945 252.459C597.036 249.838 597.599 247.027 597.599 244.187C597.599 241.348 597.036 238.536 595.945 235.915C594.853 233.294 593.252 230.915 591.236 228.916Z" fill="#2D4C1C"/>
				</svg>
            </span>`,error:`<span class="text-red-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clip-path="url(#clip0_335_1226)">
					<path d="M524.672 198.761L207.424 521.371" stroke="#782324" stroke-width="40.55" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M524.672 521.371L207.424 198.761" stroke="#782324" stroke-width="40" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M365.54 -1C295.413 -1 226.86 20.1467 168.551 59.7659C110.243 99.3851 64.7964 155.697 37.9598 221.582C11.1232 287.466 4.10149 359.963 17.7827 429.906C31.4639 499.848 65.2334 564.094 114.821 614.52C164.409 664.946 227.587 699.286 296.367 713.199C365.147 727.111 436.439 719.971 501.229 692.68C566.018 665.39 621.394 619.176 660.355 559.882C699.316 500.587 720.111 430.876 720.111 359.563C720.111 263.936 682.755 172.225 616.26 104.607C549.765 36.9878 459.578 -1 365.54 -1ZM365.54 675.056C304.179 675.056 244.195 656.553 193.175 621.886C142.155 587.219 102.389 537.946 78.9074 480.297C55.4253 422.648 49.2813 359.213 61.2524 298.014C73.2234 236.814 102.772 180.599 146.161 136.476C189.55 92.3537 244.831 62.3059 305.014 50.1325C365.196 37.9592 427.577 44.207 484.268 68.0859C540.958 91.9648 589.413 132.402 623.503 184.285C657.594 236.167 675.79 297.165 675.79 359.563C675.79 443.237 643.103 523.484 584.92 582.651C526.737 641.817 447.824 675.056 365.54 675.056Z" fill="#782324"/>
					</g>
				</svg>
            </span>`,info:`<span class="text-blue-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M360.333 527V327" stroke="#1C274C" stroke-width="50" stroke-linecap="round"/>
					<path d="M360.333 193.666C378.743 193.666 393.667 208.59 393.667 227C393.667 245.409 378.743 260.333 360.333 260.333C341.924 260.333 327 245.409 327 227C327 208.59 341.924 193.666 360.333 193.666Z" fill="#1C274C"/>
					<path d="M27 360.333C27 203.198 27 124.631 75.8157 75.8157C124.631 27 203.198 27 360.333 27C517.467 27 596.037 27 644.85 75.8157C693.667 124.631 693.667 203.198 693.667 360.333C693.667 517.467 693.667 596.037 644.85 644.85C596.037 693.667 517.467 693.667 360.333 693.667C203.198 693.667 124.631 693.667 75.8157 644.85C27 596.037 27 517.467 27 360.333Z" stroke="#1C274C" stroke-width="50"/>
				</svg>
            </span>`,warning:`<span class="text-yellow-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M323.234 10.5224C357.893 -10.9544 401.161 1.52498 422.422 38.1271L425.182 43.2669L683.814 565.658C689.974 578.1 693.205 592.09 693.205 606.313C693.205 650.722 662.367 687.074 623.34 690.026L618.205 690.219H101.014C88.3034 690.219 75.8016 686.606 64.6821 679.717C30.0208 658.245 16.5194 610.593 32.9713 571.011L35.4012 565.667L293.961 43.2756C300.779 29.5014 310.923 18.1512 323.234 10.5224ZM640.075 592.762L381.443 70.3701C374.753 56.8576 359.539 51.9709 347.46 59.4552C344.383 61.3624 341.711 63.9674 339.609 67.0877L337.703 70.373L79.1429 592.764C72.4544 606.278 76.8243 623.298 88.9032 630.781C91.6831 632.503 94.7221 633.611 97.8553 634.058L101.014 634.282H618.205C632.013 634.282 643.205 621.76 643.205 606.313C643.205 602.757 642.6 599.245 641.43 595.962L640.075 592.762ZM359.603 503.504C377.988 503.504 392.891 520.178 392.891 540.746C392.891 561.314 377.988 577.988 359.603 577.988C341.218 577.988 326.314 561.314 326.314 540.746C326.314 520.178 341.218 503.504 359.603 503.504ZM359.463 223.733C372.119 223.722 382.587 234.235 384.252 247.885L384.483 251.68L384.603 419.552C384.614 434.998 373.43 447.53 359.623 447.543C346.966 447.554 336.499 437.041 334.834 423.391L334.603 419.596L334.483 251.724C334.472 236.278 345.656 223.746 359.463 223.733Z" fill="#A58E4A"/>
				</svg>
            </span>`,debug:`<span class="text-zinc-500">
                <svg width="24" height="24" viewBox="0 0 720 720" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M492.129 330.263C431.354 330.263 383.749 362.396 383.749 403.419C383.749 444.441 431.355 476.575 492.129 476.575C552.904 476.575 600.509 444.442 600.509 403.419C600.51 362.396 552.904 330.263 492.129 330.263Z" fill="#666666"/>
					<path d="M459.347 524.735L410.342 402.222C415.992 392.935 419.249 382.038 419.249 370.396C419.249 336.532 391.699 308.981 357.834 308.981C323.969 308.981 296.42 336.531 296.42 370.396C296.42 380.087 298.684 389.256 302.699 397.415L291.542 425.305L244.575 401.822L195.411 524.735H158.226V553.63H214.974L259.741 441.71L306.708 465.194L324.11 421.687C333.797 428.077 345.385 431.811 357.833 431.811C368.752 431.811 379.005 428.934 387.899 423.917L439.784 553.63H494.331V524.735H459.347Z" fill="#414141"/>
					<path d="M459.347 524.735L410.342 402.222C415.992 392.935 419.249 382.038 419.249 370.396C419.249 336.532 391.699 308.981 357.834 308.981C357.834 346.454 357.834 395.577 357.834 431.811C368.753 431.811 379.006 428.934 387.9 423.917L439.785 553.63H494.332V524.735H459.347Z" fill="black"/>
					<path d="M274.995 229.59L243.979 177.896H123V149H260.34L299.772 214.724L274.995 229.59Z" fill="black"/>
					<path d="M352.949 227.616C340.362 212.459 320.442 204.773 293.744 204.773C270.871 204.773 243.225 215.744 211.572 237.381C188.899 252.88 172.502 268.223 171.815 268.869L160.612 279.396L171.815 289.924C172.502 290.569 188.899 305.914 211.572 321.411C243.225 343.048 270.871 354.019 293.744 354.019C320.442 354.019 340.361 346.334 352.949 331.176C363.323 318.683 368.367 301.745 368.367 279.395C368.367 257.045 363.324 240.11 352.949 227.616Z" fill="#666666"/>
					<path d="M295.728 260.775H266.833V289.671H295.728V260.775Z" fill="black"/>
					<path d="M579.001 524.735L502.6 331.914L455.602 395.283L477.609 414.117L494.868 390.846L559.368 553.631H616.151V524.735H579.001Z" fill="black"/>
					<path d="M25 360.333C25 203.198 25 124.631 73.8157 75.8157C122.631 27 201.198 27 358.333 27C515.467 27 594.037 27 642.85 75.8157C691.667 124.631 691.667 203.198 691.667 360.333C691.667 517.467 691.667 596.037 642.85 644.85C594.037 693.667 515.467 693.667 358.333 693.667C201.198 693.667 122.631 693.667 73.8157 644.85C25 596.037 25 517.467 25 360.333Z" stroke="#1C274C" stroke-width="50"/>
				</svg>
            </span>`};function showModalX(Wr="success",Gr="Notification",Yr="This is a notification."){let Zr=document.querySelector("#notification-container");Zr||(Zr=document.createElement("div"),Zr.id="notification-container",Zr.className=`
            fixed top-4 right-4 sm:top-4 sm:right-4 lg:top-8 lg:right-8
            flex flex-col space-y-4 z-50
        `,document.body.appendChild(Zr));const Kr=document.createElement("div");Kr.setAttribute("role","alert"),Kr.className=`
        p-4 rounded-xl bg-zinc-500/75 text-white shadow-lg w-80 max-w-full z-50
        transform translate-x-full opacity-0
        transition-all duration-300 ease-in-out
    `,Kr.innerHTML=`
        <div class="flex items-start">
            ${types[Wr]}
            <div class="ml-3 flex-1">
                <strong class="block text-lg font-medium text-white">${Gr}</strong>
                <p class="text-sm text-zinc-300 mt-1">${Yr}</p>
            </div>

            <button class="text-zinc-500 hover:text-zinc-400 ml-3" onclick="this.closest('div[role=alert]').remove()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    `,Zr.prepend(Kr),requestAnimationFrame(()=>{Kr.classList.remove("translate-x-full","opacity-0"),Kr.classList.add("translate-x-0","opacity-100")});let Qr=setTimeout(()=>Jr(),5e3);Kr.onmouseover=()=>clearTimeout(Qr),Kr.onmouseleave=()=>{Qr=setTimeout(()=>Jr(),5e3)};function Jr(){Kr.classList.remove("translate-x-0","opacity-100"),Kr.classList.add("translate-x-full","opacity-0"),Kr.addEventListener("transitionend",()=>{Kr.remove(),Zr.children.length||Zr.remove()},{once:!0})}}async function apiRequest$1(Wr,Gr="GET",Yr={}){try{Wr.charAt(0)==="/"&&(Wr=Wr.slice(1));const Zr=await fetch(SERVER_URL+Wr,{method:Gr,headers:{"Content-Type":"application/json"},credentials:"include",...Yr});if(!Zr.ok)return{response:null,error:await mapServerErrorResponse(Zr)};let Kr=null;return[101,204,205,304].includes(Zr.status)||(Kr=await Zr.json()),{response:Kr,error:null}}catch(Zr){let Kr;return console.error("Unknown error:",Zr),Zr instanceof TypeError&&Zr.message.includes("fetch")?Kr=new WebError(Zr,"NETWORK_ERROR","Cannot connect to server. Please check your network connection and try again."):(console.error("Unknown error:",Zr),Kr=new WebError(Zr,"UNKNOWN_ERROR","An unknown error occurred")),showErrorModal(Kr.toJSON()),{response:null,error:Kr}}}async function submitAnswersV2(Wr,Gr,Yr){const Zr={answers:Wr,submissionType:Gr,metadata:Yr},{response:Kr,error:Qr}=await fetchAPI("QUESTIONS.SUBMISSIONS","POST",{},Zr);if(Qr)throw Qr;return!(Kr!=null&&Kr.success)||Kr.data===null||typeof Kr.data!="object"?(console.error("Invalid API response structure"),{data:[]}):{data:{submission:Kr.data}}}function extractSerializableResponse(Wr){return Wr instanceof Response?{url:Wr.url||null,status:Wr.status||null,statusText:Wr.statusText||null,headers:Wr.headers?[...Wr.headers.entries()]:[],ok:Wr.ok||!1,redirected:Wr.redirected||!1,type:Wr.type||null}:Wr}function safeJSONParse$1(Wr){if(!Wr)return null;if(typeof Wr!="string")return Wr;try{let Gr=Wr;for(;typeof Gr=="string"&&(Gr.startsWith("[")||Gr.startsWith("{"));)Gr=JSON.parse(Gr);return typeof Gr=="object"&&Gr!==null&&Object.keys(Gr).forEach(Yr=>{if(typeof Gr[Yr]=="string")try{(Gr[Yr].startsWith("{")||Gr[Yr].startsWith("["))&&(Gr[Yr]=JSON.parse(Gr[Yr]))}catch(Zr){console.error("safeJSONParse parsing failed",Zr)}}),Gr}catch(Gr){return console.warn("JSON parse error:",Gr),null}}function normalizeText(Wr){return Wr.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}const DEFAULT_MESSAGES={UNKNOWN_ERROR_CODE:translations[userLanguage].unknownErrorCode,UNKNOWN_ERROR_MESSAGE:translations[userLanguage].unknownErrorMessage,RESPONSE_MAP_ERROR:translations[userLanguage].responseMapError};class WebError extends Error{constructor(Gr,Yr,Zr,Kr={},Qr={}){super(),this.originalError=Gr,this.name="WebError",this.message=Zr||DEFAULT_MESSAGES.UNKNOWN_ERROR_MESSAGE,this.code=Yr||DEFAULT_MESSAGES.UNKNOWN_ERROR_CODE,this.level="error",this.stack=new Error().stack,Object.keys(Kr).length>0&&(this.context=Kr),Object.keys(Qr).length>0&&(this.details=Qr)}toJSON(){const{message:Gr,name:Yr,code:Zr,level:Kr,stack:Qr,originalError:Jr,context:en,details:tn}=this;return{level:Kr,name:Yr,code:Zr,message:Gr,stack:Qr,originalError:Jr,...en&&{context:en},...tn&&{details:tn}}}}async function mapServerErrorResponse(Wr){try{const Yr=(await Wr.json()).error||{},Zr=Yr.code||DEFAULT_MESSAGES.UNKNOWN_ERROR_CODE,Kr=Yr.message||DEFAULT_MESSAGES.UNKNOWN_ERROR_MESSAGE,Qr=Yr.details?Yr.details:"No additional details";return new WebError(null,Zr,Kr,extractSerializableResponse(Wr),Qr)}catch(Gr){const Yr=Gr.message||DEFAULT_MESSAGES.RESPONSE_MAP_ERROR;return new WebError(Gr,"PARSE_ERROR",Yr,extractSerializableResponse(Wr),"No additional details")}}class SchemaBuilder{number(Gr=void 0){return{type:"number",...Gr!==void 0&&{default:Gr}}}array(Gr){return{type:"array",itemType:Gr}}string(Gr=0,Yr=1/0){return{type:"string",minLength:Gr,maxLength:Yr}}date(Gr="ISO"){return{type:"date",format:Gr}}enum(Gr){return{type:"enum",values:Gr}}object(Gr){return{type:"object",properties:Gr}}}class EndpointBuilder{constructor(Gr="v1"){this.basePath=`/api/${Gr}`}create(Gr){return`/${Gr}`}}class APIContractFactory{constructor(Gr="v1"){this.schema=new SchemaBuilder,this.endpoint=new EndpointBuilder(Gr)}createContract(){const Gr={validateParams:this.validateParams,buildQueryString:this.buildQueryString};return{endpoints:{QUESTIONS:{UPDATE:this.endpoint.create("questions"),BASE:this.endpoint.create("questions"),SELF:this.endpoint.create("questions/self"),SUBMISSIONS:this.endpoint.create("questions/submissions"),LAST_SUBMISSION:this.endpoint.create("questions/submissions/last"),DISPUTES:this.endpoint.create("questions/disputes"),SUBMIT:this.endpoint.create("questions/submit"),BLACKLIST:this.endpoint.create("questions/blacklist"),UPLOAD:this.endpoint.create("questions/upload"),EXTRAS:this.endpoint.create("questions/extras"),COUNT:this.endpoint.create("questions/count")},USERS:{SELF:this.endpoint.create("users/self/"),BASE:this.endpoint.create("users"),PROFILE:this.endpoint.create("users/profile"),STATS:this.endpoint.create("users/stats")},AUTH:{LOGIN:this.endpoint.create("login"),LOGOUT:this.endpoint.create("logout"),REFRESH:this.endpoint.create("refresh")},REGIONS:{BASE:this.endpoint.create("regions")},INSTITUTIONS:{BASE:this.endpoint.create("institutions")},CATEGORIES:{BASE:this.endpoint.create("categories")},STATS:{CHART:this.endpoint.create("stats/chart"),USER:this.endpoint.create("stats/user")},LESSONS:{SELF:this.endpoint.create("lessons/self")}},schemas:{QUESTIONS:{EXTRAS:{GET:{}},COUNT:{GET:{}},UPLOAD:{POST:{}},UPDATE:{PATCH:{accepted:this.schema.number(),answers:this.schema.array("object"),categories:this.schema.number(),explanation:this.schema.string(),extra:this.schema.object(),institutions:this.schema.number(),question:this.schema.string(),regions:this.schema.number(),year:this.schema.number()}},BASE:{GET:{offset:this.schema.number(),limit:this.schema.number()}},SELF:{GET:{amount:this.schema.number(10),yearFrom:this.schema.number(),yearTo:this.schema.number(),regions:this.schema.array("number"),topics:this.schema.array("string")}},DISPUTES:{POST:{id:this.schema.number(),reason:this.schema.string(0,500)},GET:{userId:this.schema.number()}},BLACKLIST:{POST:{id:this.schema.number()}},SUBMISSIONS:{POST:{answers:this.schema.array("object"),submissionType:this.schema.enum(["undefined"])},GET:{amount:this.schema.number(5),startDate:this.schema.date(),endDate:this.schema.date()}}},USERS:{STATS:{POST:{answers:this.schema.array("object"),submissionType:this.schema.string(),metadata:this.schema.object()}},PROFILE:{GET:{name:this.schema.string(),email:this.schema.string()}}},AUTH:{LOGIN:{POST:{email:this.schema.string(10,50),password:this.schema.string(10,50)}},LOGOUT:{POST:{}},REFRESH:{POST:{}}},REGIONS:{BASE:{GET:{}}},INSTITUTIONS:{BASE:{GET:{}}},CATEGORIES:{BASE:{GET:{}}},STATS:{CHART:{GET:{months:this.schema.number()}},USER:{GET:{days:this.schema.number()}}},LESSONS:{SELF:{GET:{}}}},getSchemaForEndpoint(Yr,Zr="GET"){var tn;const[Kr,Qr]=Yr.split("."),en=(tn=(this.schemas||{})[Kr])==null?void 0:tn[Qr];return en&&en[Zr]||null},getSchemaForEndpoint2(Yr){var Jr,en;const[Zr,Kr]=Yr.split("."),Qr=this.schemas||{};return((Jr=Qr[Zr])==null?void 0:Jr[Kr])||((en=Qr[Zr])==null?void 0:en.BASE)},validateParams:Gr.validateParams,buildQueryString:Gr.buildQueryString}}validateParams(Gr,Yr={}){const Zr=[],Kr={};return Object.entries(Yr).forEach(([Qr,Jr])=>{const en=Gr[Qr];if(!en){Zr.push(`parámetro desconocido: ${Qr}`);return}if(en.type==="number"){const tn=Number(Jr);isNaN(tn)?Zr.push(`${Qr} must be a number`):Kr[Qr]=tn}if(en.type==="array"&&(Array.isArray(Jr)?Kr[Qr]=Jr.join(","):Zr.push(`${Qr} must be an array`)),en.type==="string"&&typeof Jr=="string"&&(Kr[Qr]=Jr),en.type==="date"){const tn=new Date(Jr);isNaN(tn)?Zr.push(`${Qr} must be a valid date`):Kr[Qr]=tn}if(en.type==="enum"&&en.values.includes(Jr)&&(Kr[Qr]=Jr),en.type==="object"){const{validated:tn,errors:rn}=this.validateParams(en.properties,Jr);Kr[Qr]=tn,Zr.push(...rn)}}),{validated:Kr,errors:Zr}}buildQueryString(Gr,Yr={}){const{validated:Zr,errors:Kr}=this.validateParams(Gr,Yr);if(Kr.length)return console.error("Validation errors:",Kr),showModalX("error","Validation failed",Kr),Kr;const Qr=new URLSearchParams;return Object.entries(Zr).forEach(([Jr,en])=>{en!==null&&Qr.append(Jr,en.toString())}),Qr.toString()?`?${Qr}`:""}}async function apiRequest(Wr,Gr="GET",Yr={}){try{Wr.charAt(0)==="/"&&(Wr=Wr.slice(1));const Zr=await fetch(SERVER_URL+Wr,{method:Gr,headers:{"Content-Type":"application/json"},credentials:"include",...Yr});if(!Zr.ok)return{response:null,error:await mapServerErrorResponse(Zr)};let Kr=null;return[101,204,205,304].includes(Zr.status)||(Kr=await Zr.json()),Kr.error?{response:null,error:Kr.error}:{response:Kr,error:null}}catch(Zr){console.error("Unknown error:",Zr);const Kr=Zr instanceof TypeError&&Zr.message.includes("fetch")?{type:"ERROR_DE_RED",message:"No se puede conectar al servidor. Por favor, verifique su conexión de red e inténtelo de nuevo."}:{type:"ERROR_DESCONOCIDO",message:"Ha ocurrido un error inesperado. Por favor, inténtelo de nuevo."};return showModalX("error",Kr.type,Kr.message),{response:null,error:Kr}}}async function fetchAPI(Wr,Gr="GET",Yr={},Zr=null){try{const Kr=Wr.split(".");let Qr;switch(Kr.length){case 1:Qr=API.endpoints[Kr[0]];break;case 2:Qr=API.endpoints[Kr[0]][Kr[1]];break;default:throw new Error("Invalid endpoint key")}if(!Qr)throw new Error("Invalid endpoint key");const Jr=API.getSchemaForEndpoint(Wr);let en=Qr;if(Gr==="GET"){const nn=API.buildQueryString(Jr,Yr);en+=`${nn!=null&&nn.length?`${nn}`:""}`}Yr!=null&&Yr.id&&(Gr==="POST"||Gr==="PATCH")&&(en+=`/${Yr.id}`);const tn={method:Gr,...Zr?{body:JSON.stringify(Zr)}:{}},{response:rn,error:an}=await apiRequest(en,Gr,tn);return an?(console.error("Error during API request:",an),{error:an}):{response:rn}}catch(Kr){return console.error("Unexpected error:",Kr),{error:Kr}}}const fetchAPIByID=async(Wr,Gr)=>{const{response:Yr,error:Zr}=await apiRequest(`${Wr}${Gr?`/${Gr}`:""}`,"GET");return Zr?Promise.reject(Zr):Yr},factory=new APIContractFactory,API=factory.createContract();function getSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const updateHTMLTagColor=Wr=>{const Gr=document.querySelector("html");Gr.classList.add(`${Wr?"bg-zinc-950":"bg-gray-50"}`),Gr.classList.remove(`${Wr?"bg-gray-50":"bg-zinc-950"}`)},toggleTheme=()=>{const Gr=(localStorage.theme||getSystemTheme())==="dark"?"light":"dark";setTheme(Gr)},setTheme=Wr=>{localStorage.theme=Wr;const Gr=Wr==="dark";updateHTMLTagColor(Gr),document.documentElement.classList.toggle("dark",Gr)};function toggleHiddenClass(Wr,Gr){document.querySelectorAll(Wr).forEach(Yr=>{Yr.classList.toggle("hidden",Gr)})}function safeJSONParse(Wr,Gr=[]){try{return JSON.parse(Wr)}catch{return console.warn("Failed to parse JSON:",Wr),Gr}}function capitalizeFirst(Wr){return Wr?Wr.charAt(0).toUpperCase()+Wr.slice(1):""}function toTitleCase(Wr){if(!Wr)return"";const Gr=["de","del","la","las","los","el","y","e"];return Wr.toLowerCase().split(/\s+/).map(Yr=>Yr.includes("-")?Yr.split("-").map(Zr=>capitalizeFirst(Zr)).join("-"):Gr.includes(Yr)?Yr:capitalizeFirst(Yr)).join(" ")}class Component{constructor(Gr){this.name=Gr,this.state=getState()}async initialize(Gr={}){try{const Yr=await this.fetchData(Gr);updateState({[`${this.name}Data`]:Yr}),this.generateContent(Yr),this.setupEventListeners()}catch(Yr){console.error(`Error initializing ${this.name}:`,Yr),showErrorModal(Yr)}}async fetchData(Gr){throw new Error("fetchData method must be implemented")}generateContent(Gr){throw new Error("generateContent method must be implemented")}setupEventListeners(){}}/*!
 * ApexCharts v4.4.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function t(Wr,Gr){(Gr==null||Gr>Wr.length)&&(Gr=Wr.length);for(var Yr=0,Zr=Array(Gr);Yr<Gr;Yr++)Zr[Yr]=Wr[Yr];return Zr}function e$1(Wr){if(Wr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Wr}function i$1(Wr,Gr){if(!(Wr instanceof Gr))throw new TypeError("Cannot call a class as a function")}function a(Wr,Gr){for(var Yr=0;Yr<Gr.length;Yr++){var Zr=Gr[Yr];Zr.enumerable=Zr.enumerable||!1,Zr.configurable=!0,"value"in Zr&&(Zr.writable=!0),Object.defineProperty(Wr,x(Zr.key),Zr)}}function s(Wr,Gr,Yr){return Gr&&a(Wr.prototype,Gr),Yr&&a(Wr,Yr),Object.defineProperty(Wr,"prototype",{writable:!1}),Wr}function r(Wr,Gr){var Yr=typeof Symbol<"u"&&Wr[Symbol.iterator]||Wr["@@iterator"];if(!Yr){if(Array.isArray(Wr)||(Yr=m$1(Wr))||Gr){Yr&&(Wr=Yr);var Zr=0,Kr=function(){};return{s:Kr,n:function(){return Zr>=Wr.length?{done:!0}:{done:!1,value:Wr[Zr++]}},e:function(tn){throw tn},f:Kr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qr,Jr=!0,en=!1;return{s:function(){Yr=Yr.call(Wr)},n:function(){var tn=Yr.next();return Jr=tn.done,tn},e:function(tn){en=!0,Qr=tn},f:function(){try{Jr||Yr.return==null||Yr.return()}finally{if(en)throw Qr}}}}function n(Wr){var Gr=c();return function(){var Yr,Zr=l(Wr);if(Gr){var Kr=l(this).constructor;Yr=Reflect.construct(Zr,arguments,Kr)}else Yr=Zr.apply(this,arguments);return function(Qr,Jr){if(Jr&&(typeof Jr=="object"||typeof Jr=="function"))return Jr;if(Jr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$1(Qr)}(this,Yr)}}function o(Wr,Gr,Yr){return(Gr=x(Gr))in Wr?Object.defineProperty(Wr,Gr,{value:Yr,enumerable:!0,configurable:!0,writable:!0}):Wr[Gr]=Yr,Wr}function l(Wr){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Gr){return Gr.__proto__||Object.getPrototypeOf(Gr)},l(Wr)}function h(Wr,Gr){if(typeof Gr!="function"&&Gr!==null)throw new TypeError("Super expression must either be null or a function");Wr.prototype=Object.create(Gr&&Gr.prototype,{constructor:{value:Wr,writable:!0,configurable:!0}}),Object.defineProperty(Wr,"prototype",{writable:!1}),Gr&&g(Wr,Gr)}function c(){try{var Wr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!Wr})()}function d(Wr,Gr){var Yr=Object.keys(Wr);if(Object.getOwnPropertySymbols){var Zr=Object.getOwnPropertySymbols(Wr);Gr&&(Zr=Zr.filter(function(Kr){return Object.getOwnPropertyDescriptor(Wr,Kr).enumerable})),Yr.push.apply(Yr,Zr)}return Yr}function u(Wr){for(var Gr=1;Gr<arguments.length;Gr++){var Yr=arguments[Gr]!=null?arguments[Gr]:{};Gr%2?d(Object(Yr),!0).forEach(function(Zr){o(Wr,Zr,Yr[Zr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wr,Object.getOwnPropertyDescriptors(Yr)):d(Object(Yr)).forEach(function(Zr){Object.defineProperty(Wr,Zr,Object.getOwnPropertyDescriptor(Yr,Zr))})}return Wr}function g(Wr,Gr){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Yr,Zr){return Yr.__proto__=Zr,Yr},g(Wr,Gr)}function p(Wr,Gr){return function(Yr){if(Array.isArray(Yr))return Yr}(Wr)||function(Yr,Zr){var Kr=Yr==null?null:typeof Symbol<"u"&&Yr[Symbol.iterator]||Yr["@@iterator"];if(Kr!=null){var Qr,Jr,en,tn,rn=[],an=!0,nn=!1;try{if(en=(Kr=Kr.call(Yr)).next,Zr===0){if(Object(Kr)!==Kr)return;an=!1}else for(;!(an=(Qr=en.call(Kr)).done)&&(rn.push(Qr.value),rn.length!==Zr);an=!0);}catch(sn){nn=!0,Jr=sn}finally{try{if(!an&&Kr.return!=null&&(tn=Kr.return(),Object(tn)!==tn))return}finally{if(nn)throw Jr}}return rn}}(Wr,Gr)||m$1(Wr,Gr)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(Wr){return function(Gr){if(Array.isArray(Gr))return t(Gr)}(Wr)||function(Gr){if(typeof Symbol<"u"&&Gr[Symbol.iterator]!=null||Gr["@@iterator"]!=null)return Array.from(Gr)}(Wr)||m$1(Wr)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(Wr){var Gr=function(Yr,Zr){if(typeof Yr!="object"||!Yr)return Yr;var Kr=Yr[Symbol.toPrimitive];if(Kr!==void 0){var Qr=Kr.call(Yr,Zr);if(typeof Qr!="object")return Qr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Zr==="string"?String:Number)(Yr)}(Wr,"string");return typeof Gr=="symbol"?Gr:Gr+""}function b(Wr){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Gr){return typeof Gr}:function(Gr){return Gr&&typeof Symbol=="function"&&Gr.constructor===Symbol&&Gr!==Symbol.prototype?"symbol":typeof Gr},b(Wr)}function m$1(Wr,Gr){if(Wr){if(typeof Wr=="string")return t(Wr,Gr);var Yr={}.toString.call(Wr).slice(8,-1);return Yr==="Object"&&Wr.constructor&&(Yr=Wr.constructor.name),Yr==="Map"||Yr==="Set"?Array.from(Wr):Yr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yr)?t(Wr,Gr):void 0}}var v=function(){function Wr(){i$1(this,Wr)}return s(Wr,[{key:"shadeRGBColor",value:function(Gr,Yr){var Zr=Yr.split(","),Kr=Gr<0?0:255,Qr=Gr<0?-1*Gr:Gr,Jr=parseInt(Zr[0].slice(4),10),en=parseInt(Zr[1],10),tn=parseInt(Zr[2],10);return"rgb("+(Math.round((Kr-Jr)*Qr)+Jr)+","+(Math.round((Kr-en)*Qr)+en)+","+(Math.round((Kr-tn)*Qr)+tn)+")"}},{key:"shadeHexColor",value:function(Gr,Yr){var Zr=parseInt(Yr.slice(1),16),Kr=Gr<0?0:255,Qr=Gr<0?-1*Gr:Gr,Jr=Zr>>16,en=Zr>>8&255,tn=255&Zr;return"#"+(16777216+65536*(Math.round((Kr-Jr)*Qr)+Jr)+256*(Math.round((Kr-en)*Qr)+en)+(Math.round((Kr-tn)*Qr)+tn)).toString(16).slice(1)}},{key:"shadeColor",value:function(Gr,Yr){return Wr.isColorHex(Yr)?this.shadeHexColor(Gr,Yr):this.shadeRGBColor(Gr,Yr)}}],[{key:"bind",value:function(Gr,Yr){return function(){return Gr.apply(Yr,arguments)}}},{key:"isObject",value:function(Gr){return Gr&&b(Gr)==="object"&&!Array.isArray(Gr)&&Gr!=null}},{key:"is",value:function(Gr,Yr){return Object.prototype.toString.call(Yr)==="[object "+Gr+"]"}},{key:"listToArray",value:function(Gr){var Yr,Zr=[];for(Yr=0;Yr<Gr.length;Yr++)Zr[Yr]=Gr[Yr];return Zr}},{key:"extend",value:function(Gr,Yr){var Zr=this;typeof Object.assign!="function"&&(Object.assign=function(Qr){if(Qr==null)throw new TypeError("Cannot convert undefined or null to object");for(var Jr=Object(Qr),en=1;en<arguments.length;en++){var tn=arguments[en];if(tn!=null)for(var rn in tn)tn.hasOwnProperty(rn)&&(Jr[rn]=tn[rn])}return Jr});var Kr=Object.assign({},Gr);return this.isObject(Gr)&&this.isObject(Yr)&&Object.keys(Yr).forEach(function(Qr){Zr.isObject(Yr[Qr])&&Qr in Gr?Kr[Qr]=Zr.extend(Gr[Qr],Yr[Qr]):Object.assign(Kr,o({},Qr,Yr[Qr]))}),Kr}},{key:"extendArray",value:function(Gr,Yr){var Zr=[];return Gr.map(function(Kr){Zr.push(Wr.extend(Yr,Kr))}),Gr=Zr}},{key:"monthMod",value:function(Gr){return Gr%12}},{key:"clone",value:function(Gr){var Yr,Zr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(Gr===null||b(Gr)!=="object")return Gr;if(Zr.has(Gr))return Zr.get(Gr);if(Array.isArray(Gr)){Yr=[],Zr.set(Gr,Yr);for(var Kr=0;Kr<Gr.length;Kr++)Yr[Kr]=this.clone(Gr[Kr],Zr)}else if(Gr instanceof Date)Yr=new Date(Gr.getTime());else for(var Qr in Yr={},Zr.set(Gr,Yr),Gr)Gr.hasOwnProperty(Qr)&&(Yr[Qr]=this.clone(Gr[Qr],Zr));return Yr}},{key:"log10",value:function(Gr){return Math.log(Gr)/Math.LN10}},{key:"roundToBase10",value:function(Gr){return Math.pow(10,Math.floor(Math.log10(Gr)))}},{key:"roundToBase",value:function(Gr,Yr){return Math.pow(Yr,Math.floor(Math.log(Gr)/Math.log(Yr)))}},{key:"parseNumber",value:function(Gr){return Gr===null?Gr:parseFloat(Gr)}},{key:"stripNumber",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(Gr)?Gr:parseFloat(Gr.toPrecision(Yr))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(Gr){return Gr.toString().includes("e")?Math.round(Gr):Gr}},{key:"elementExists",value:function(Gr){return!(!Gr||!Gr.isConnected)}},{key:"getDimensions",value:function(Gr){var Yr=getComputedStyle(Gr,null),Zr=Gr.clientHeight,Kr=Gr.clientWidth;return Zr-=parseFloat(Yr.paddingTop)+parseFloat(Yr.paddingBottom),[Kr-=parseFloat(Yr.paddingLeft)+parseFloat(Yr.paddingRight),Zr]}},{key:"getBoundingClientRect",value:function(Gr){var Yr=Gr.getBoundingClientRect();return{top:Yr.top,right:Yr.right,bottom:Yr.bottom,left:Yr.left,width:Gr.clientWidth,height:Gr.clientHeight,x:Yr.left,y:Yr.top}}},{key:"getLargestStringFromArr",value:function(Gr){return Gr.reduce(function(Yr,Zr){return Array.isArray(Zr)&&(Zr=Zr.reduce(function(Kr,Qr){return Kr.length>Qr.length?Kr:Qr})),Yr.length>Zr.length?Yr:Zr},0)}},{key:"hexToRgba",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;Gr.substring(0,1)!=="#"&&(Gr="#999999");var Zr=Gr.replace("#","");Zr=Zr.match(new RegExp("(.{"+Zr.length/3+"})","g"));for(var Kr=0;Kr<Zr.length;Kr++)Zr[Kr]=parseInt(Zr[Kr].length===1?Zr[Kr]+Zr[Kr]:Zr[Kr],16);return Yr!==void 0&&Zr.push(Yr),"rgba("+Zr.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(Gr){return parseFloat(Gr.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(Gr){return(Gr=Gr.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&Gr.length===4?"#"+("0"+parseInt(Gr[1],10).toString(16)).slice(-2)+("0"+parseInt(Gr[2],10).toString(16)).slice(-2)+("0"+parseInt(Gr[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(Gr){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(Gr)}},{key:"getPolygonPos",value:function(Gr,Yr){for(var Zr=[],Kr=2*Math.PI/Yr,Qr=0;Qr<Yr;Qr++){var Jr={};Jr.x=Gr*Math.sin(Qr*Kr),Jr.y=-Gr*Math.cos(Qr*Kr),Zr.push(Jr)}return Zr}},{key:"polarToCartesian",value:function(Gr,Yr,Zr,Kr){var Qr=(Kr-90)*Math.PI/180;return{x:Gr+Zr*Math.cos(Qr),y:Yr+Zr*Math.sin(Qr)}}},{key:"escapeString",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",Zr=Gr.toString().slice();return Zr=Zr.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,Yr)}},{key:"negToZero",value:function(Gr){return Gr<0?0:Gr}},{key:"moveIndexInArray",value:function(Gr,Yr,Zr){if(Zr>=Gr.length)for(var Kr=Zr-Gr.length+1;Kr--;)Gr.push(void 0);return Gr.splice(Zr,0,Gr.splice(Yr,1)[0]),Gr}},{key:"extractNumber",value:function(Gr){return parseFloat(Gr.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(Gr,Yr){for(;(Gr=Gr.parentElement)&&!Gr.classList.contains(Yr););return Gr}},{key:"setELstyles",value:function(Gr,Yr){for(var Zr in Yr)Yr.hasOwnProperty(Zr)&&(Gr.style.key=Yr[Zr])}},{key:"preciseAddition",value:function(Gr,Yr){var Zr=(String(Gr).split(".")[1]||"").length,Kr=(String(Yr).split(".")[1]||"").length,Qr=Math.pow(10,Math.max(Zr,Kr));return(Math.round(Gr*Qr)+Math.round(Yr*Qr))/Qr}},{key:"isNumber",value:function(Gr){return!isNaN(Gr)&&parseFloat(Number(Gr))===Gr&&!isNaN(parseInt(Gr,10))}},{key:"isFloat",value:function(Gr){return Number(Gr)===Gr&&Gr%1!=0}},{key:"isMsEdge",value:function(){var Gr=window.navigator.userAgent,Yr=Gr.indexOf("Edge/");return Yr>0&&parseInt(Gr.substring(Yr+5,Gr.indexOf(".",Yr)),10)}},{key:"getGCD",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,Kr=Math.pow(10,Zr-Math.floor(Math.log10(Math.max(Gr,Yr))));for(Gr=Math.round(Math.abs(Gr)*Kr),Yr=Math.round(Math.abs(Yr)*Kr);Yr;){var Qr=Yr;Yr=Gr%Yr,Gr=Qr}return Gr/Kr}},{key:"getPrimeFactors",value:function(Gr){for(var Yr=[],Zr=2;Gr>=2;)Gr%Zr==0?(Yr.push(Zr),Gr/=Zr):Zr++;return Yr}},{key:"mod",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,Kr=Math.pow(10,Zr-Math.floor(Math.log10(Math.max(Gr,Yr))));return(Gr=Math.round(Math.abs(Gr)*Kr))%(Yr=Math.round(Math.abs(Yr)*Kr))/Kr}}]),Wr}(),y=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"animateLine",value:function(Gr,Yr,Zr,Kr){Gr.attr(Yr).animate(Kr).attr(Zr)}},{key:"animateMarker",value:function(Gr,Yr,Zr,Kr){Gr.attr({opacity:0}).animate(Yr).attr({opacity:1}).after(function(){Kr()})}},{key:"animateRect",value:function(Gr,Yr,Zr,Kr,Qr){Gr.attr(Yr).animate(Kr).attr(Zr).after(function(){return Qr()})}},{key:"animatePathsGradually",value:function(Gr){var Yr=Gr.el,Zr=Gr.realIndex,Kr=Gr.j,Qr=Gr.fill,Jr=Gr.pathFrom,en=Gr.pathTo,tn=Gr.speed,rn=Gr.delay,an=this.w,nn=0;an.config.chart.animations.animateGradually.enabled&&(nn=an.config.chart.animations.animateGradually.delay),an.config.chart.animations.dynamicAnimation.enabled&&an.globals.dataChanged&&an.config.chart.type!=="bar"&&(nn=0),this.morphSVG(Yr,Zr,Kr,an.config.chart.type!=="line"||an.globals.comboCharts?Qr:"stroke",Jr,en,tn,rn*nn)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(Gr){var Yr=Gr.el;Yr.classList.remove("apexcharts-element-hidden"),Yr.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(Gr){var Yr=this.w;Yr.globals.animationEnded||(Yr.globals.animationEnded=!0,this.showDelayedElements(),typeof Yr.config.chart.events.animationEnd=="function"&&Yr.config.chart.events.animationEnd(this.ctx,{el:Gr,w:Yr}))}},{key:"morphSVG",value:function(Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this,an=this.w;Qr||(Qr=Gr.attr("pathFrom")),Jr||(Jr=Gr.attr("pathTo"));var nn=function(sn){return an.config.chart.type==="radar"&&(en=1),"M 0 ".concat(an.globals.gridHeight)};(!Qr||Qr.indexOf("undefined")>-1||Qr.indexOf("NaN")>-1)&&(Qr=nn()),(!Jr.trim()||Jr.indexOf("undefined")>-1||Jr.indexOf("NaN")>-1)&&(Jr=nn()),an.globals.shouldAnimate||(en=1),Gr.plot(Qr).animate(1,tn).plot(Qr).animate(en,tn).plot(Jr).after(function(){v.isNumber(Zr)?Zr===an.globals.series[an.globals.maxValsInArrayIndex].length-2&&an.globals.shouldAnimate&&rn.animationCompleted(Gr):Kr!=="none"&&an.globals.shouldAnimate&&(!an.globals.comboCharts&&Yr===an.globals.series.length-1||an.globals.comboCharts)&&rn.animationCompleted(Gr),rn.showDelayedElements()})}}]),Wr}();const w={},k$1=[];function A(Wr,Gr){if(Array.isArray(Wr))for(const Yr of Wr)A(Yr,Gr);else if(typeof Wr!="object")S(Object.getOwnPropertyNames(Gr)),w[Wr]=Object.assign(w[Wr]||{},Gr);else for(const Yr in Wr)A(Yr,Wr[Yr])}function C(Wr){return w[Wr]||{}}function S(Wr){k$1.push(...Wr)}function L(Wr,Gr){let Yr;const Zr=Wr.length,Kr=[];for(Yr=0;Yr<Zr;Yr++)Kr.push(Gr(Wr[Yr]));return Kr}function M(Wr){return Wr%360*Math.PI/180}function P(Wr){return Wr.charAt(0).toUpperCase()+Wr.slice(1)}function I(Wr,Gr,Yr,Zr){return Gr!=null&&Yr!=null||(Zr=Zr||Wr.bbox(),Gr==null?Gr=Zr.width/Zr.height*Yr:Yr==null&&(Yr=Zr.height/Zr.width*Gr)),{width:Gr,height:Yr}}function T(Wr,Gr){const Yr=Wr.origin;let Zr=Wr.ox!=null?Wr.ox:Wr.originX!=null?Wr.originX:"center",Kr=Wr.oy!=null?Wr.oy:Wr.originY!=null?Wr.originY:"center";Yr!=null&&([Zr,Kr]=Array.isArray(Yr)?Yr:typeof Yr=="object"?[Yr.x,Yr.y]:[Yr,Yr]);const Qr=typeof Zr=="string",Jr=typeof Kr=="string";if(Qr||Jr){const{height:en,width:tn,x:rn,y:an}=Gr.bbox();Qr&&(Zr=Zr.includes("left")?rn:Zr.includes("right")?rn+tn:rn+tn/2),Jr&&(Kr=Kr.includes("top")?an:Kr.includes("bottom")?an+en:an+en/2)}return[Zr,Kr]}const z=new Set(["desc","metadata","title"]),X=Wr=>z.has(Wr.nodeName),R=(Wr,Gr,Yr={})=>{const Zr={...Gr};for(const Kr in Zr)Zr[Kr].valueOf()===Yr[Kr]&&delete Zr[Kr];Object.keys(Zr).length?Wr.node.setAttribute("data-svgjs",JSON.stringify(Zr)):(Wr.node.removeAttribute("data-svgjs"),Wr.node.removeAttribute("svgjs:data"))},E="http://www.w3.org/2000/svg",Y="http://www.w3.org/2000/xmlns/",H="http://www.w3.org/1999/xlink",O={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function F(){return O.window}let D=class{};const _={},N="___SYMBOL___ROOT___";function W(Wr,Gr=E){return O.document.createElementNS(Gr,Wr)}function B(Wr,Gr=!1){if(Wr instanceof D)return Wr;if(typeof Wr=="object")return U(Wr);if(Wr==null)return new _[N];if(typeof Wr=="string"&&Wr.charAt(0)!=="<")return U(O.document.querySelector(Wr));const Yr=Gr?O.document.createElement("div"):W("svg");return Yr.innerHTML=Wr,Wr=U(Yr.firstChild),Yr.removeChild(Yr.firstChild),Wr}function G(Wr,Gr){return Gr&&(Gr instanceof O.window.Node||Gr.ownerDocument&&Gr instanceof Gr.ownerDocument.defaultView.Node)?Gr:W(Wr)}function V(Wr){if(!Wr)return null;if(Wr.instance instanceof D)return Wr.instance;if(Wr.nodeName==="#document-fragment")return new _.Fragment(Wr);let Gr=P(Wr.nodeName||"Dom");return Gr==="LinearGradient"||Gr==="RadialGradient"?Gr="Gradient":_[Gr]||(Gr="Dom"),new _[Gr](Wr)}let U=V;function q(Wr,Gr=Wr.name,Yr=!1){return _[Gr]=Wr,Yr&&(_[N]=Wr),S(Object.getOwnPropertyNames(Wr.prototype)),Wr}let Z=1e3;function $(Wr){return"Svgjs"+P(Wr)+Z++}function J(Wr){for(let Gr=Wr.children.length-1;Gr>=0;Gr--)J(Wr.children[Gr]);return Wr.id&&(Wr.id=$(Wr.nodeName)),Wr}function Q(Wr,Gr){let Yr,Zr;for(Zr=(Wr=Array.isArray(Wr)?Wr:[Wr]).length-1;Zr>=0;Zr--)for(Yr in Gr)Wr[Zr].prototype[Yr]=Gr[Yr]}function K(Wr){return function(...Gr){const Yr=Gr[Gr.length-1];return!Yr||Yr.constructor!==Object||Yr instanceof Array?Wr.apply(this,Gr):Wr.apply(this,Gr.slice(0,-1)).attr(Yr)}}A("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const Wr=this.position();return this.parent().add(this.remove(),Wr+1),this},backward:function(){const Wr=this.position();return this.parent().add(this.remove(),Wr?Wr-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(Wr){(Wr=B(Wr)).remove();const Gr=this.position();return this.parent().add(Wr,Gr),this},after:function(Wr){(Wr=B(Wr)).remove();const Gr=this.position();return this.parent().add(Wr,Gr+1),this},insertBefore:function(Wr){return(Wr=B(Wr)).before(this),this},insertAfter:function(Wr){return(Wr=B(Wr)).after(this),this}});const tt=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,et=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,it=/rgb\((\d+),(\d+),(\d+)\)/,at=/(#[a-z_][a-z0-9\-_]*)/i,st=/\)\s*,?\s*/,rt$1=/\s/g,nt=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ot=/^rgb\(/,lt$1=/^(\s+)?$/,ht=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,dt=/[\s,]+/,ut=/[MLHVCSQTAZ]/i;function gt(Wr){const Gr=Math.round(Wr),Yr=Math.max(0,Math.min(255,Gr)).toString(16);return Yr.length===1?"0"+Yr:Yr}function pt(Wr,Gr){for(let Yr=Gr.length;Yr--;)if(Wr[Gr[Yr]]==null)return!1;return!0}function ft(Wr,Gr,Yr){return Yr<0&&(Yr+=1),Yr>1&&(Yr-=1),Yr<1/6?Wr+6*(Gr-Wr)*Yr:Yr<.5?Gr:Yr<2/3?Wr+(Gr-Wr)*(2/3-Yr)*6:Wr}A("Dom",{classes:function(){const Wr=this.attr("class");return Wr==null?[]:Wr.trim().split(dt)},hasClass:function(Wr){return this.classes().indexOf(Wr)!==-1},addClass:function(Wr){if(!this.hasClass(Wr)){const Gr=this.classes();Gr.push(Wr),this.attr("class",Gr.join(" "))}return this},removeClass:function(Wr){return this.hasClass(Wr)&&this.attr("class",this.classes().filter(function(Gr){return Gr!==Wr}).join(" ")),this},toggleClass:function(Wr){return this.hasClass(Wr)?this.removeClass(Wr):this.addClass(Wr)}}),A("Dom",{css:function(Wr,Gr){const Yr={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(Zr){return!!Zr.length}).forEach(function(Zr){const Kr=Zr.split(/\s*:\s*/);Yr[Kr[0]]=Kr[1]}),Yr;if(arguments.length<2){if(Array.isArray(Wr)){for(const Zr of Wr){const Kr=Zr;Yr[Zr]=this.node.style.getPropertyValue(Kr)}return Yr}if(typeof Wr=="string")return this.node.style.getPropertyValue(Wr);if(typeof Wr=="object")for(const Zr in Wr)this.node.style.setProperty(Zr,Wr[Zr]==null||lt$1.test(Wr[Zr])?"":Wr[Zr])}return arguments.length===2&&this.node.style.setProperty(Wr,Gr==null||lt$1.test(Gr)?"":Gr),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),A("Dom",{data:function(Wr,Gr,Yr){if(Wr==null)return this.data(L(function(Zr,Kr){let Qr;const Jr=Zr.length,en=[];for(Qr=0;Qr<Jr;Qr++)Kr(Zr[Qr])&&en.push(Zr[Qr]);return en}(this.node.attributes,Zr=>Zr.nodeName.indexOf("data-")===0),Zr=>Zr.nodeName.slice(5)));if(Wr instanceof Array){const Zr={};for(const Kr of Wr)Zr[Kr]=this.data(Kr);return Zr}if(typeof Wr=="object")for(Gr in Wr)this.data(Gr,Wr[Gr]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+Wr))}catch{return this.attr("data-"+Wr)}else this.attr("data-"+Wr,Gr===null?null:Yr===!0||typeof Gr=="string"||typeof Gr=="number"?Gr:JSON.stringify(Gr));return this}}),A("Dom",{remember:function(Wr,Gr){if(typeof arguments[0]=="object")for(const Yr in Wr)this.remember(Yr,Wr[Yr]);else{if(arguments.length===1)return this.memory()[Wr];this.memory()[Wr]=Gr}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let Wr=arguments.length-1;Wr>=0;Wr--)delete this.memory()[arguments[Wr]];return this},memory:function(){return this._memory=this._memory||{}}});class xt{constructor(...Gr){this.init(...Gr)}static isColor(Gr){return Gr&&(Gr instanceof xt||this.isRgb(Gr)||this.test(Gr))}static isRgb(Gr){return Gr&&typeof Gr.r=="number"&&typeof Gr.g=="number"&&typeof Gr.b=="number"}static random(Gr="vibrant",Yr){const{random:Zr,round:Kr,sin:Qr,PI:Jr}=Math;if(Gr==="vibrant"){const en=24*Zr()+57,tn=38*Zr()+45,rn=360*Zr();return new xt(en,tn,rn,"lch")}if(Gr==="sine"){const en=Kr(80*Qr(2*Jr*(Yr=Yr??Zr())/.5+.01)+150),tn=Kr(50*Qr(2*Jr*Yr/.5+4.6)+200),rn=Kr(100*Qr(2*Jr*Yr/.5+2.3)+150);return new xt(en,tn,rn)}if(Gr==="pastel"){const en=8*Zr()+86,tn=17*Zr()+9,rn=360*Zr();return new xt(en,tn,rn,"lch")}if(Gr==="dark"){const en=10+10*Zr(),tn=50*Zr()+86,rn=360*Zr();return new xt(en,tn,rn,"lch")}if(Gr==="rgb"){const en=255*Zr(),tn=255*Zr(),rn=255*Zr();return new xt(en,tn,rn)}if(Gr==="lab"){const en=100*Zr(),tn=256*Zr()-128,rn=256*Zr()-128;return new xt(en,tn,rn,"lab")}if(Gr==="grey"){const en=255*Zr();return new xt(en,en,en)}throw new Error("Unsupported random color mode")}static test(Gr){return typeof Gr=="string"&&(nt.test(Gr)||ot.test(Gr))}cmyk(){const{_a:Gr,_b:Yr,_c:Zr}=this.rgb(),[Kr,Qr,Jr]=[Gr,Yr,Zr].map(tn=>tn/255),en=Math.min(1-Kr,1-Qr,1-Jr);return en===1?new xt(0,0,0,1,"cmyk"):new xt((1-Kr-en)/(1-en),(1-Qr-en)/(1-en),(1-Jr-en)/(1-en),en,"cmyk")}hsl(){const{_a:Gr,_b:Yr,_c:Zr}=this.rgb(),[Kr,Qr,Jr]=[Gr,Yr,Zr].map(sn=>sn/255),en=Math.max(Kr,Qr,Jr),tn=Math.min(Kr,Qr,Jr),rn=(en+tn)/2,an=en===tn,nn=en-tn;return new xt(360*(an?0:en===Kr?((Qr-Jr)/nn+(Qr<Jr?6:0))/6:en===Qr?((Jr-Kr)/nn+2)/6:en===Jr?((Kr-Qr)/nn+4)/6:0),100*(an?0:rn>.5?nn/(2-en-tn):nn/(en+tn)),100*rn,"hsl")}init(Gr=0,Yr=0,Zr=0,Kr=0,Qr="rgb"){if(Gr=Gr||0,this.space)for(const nn in this.space)delete this[this.space[nn]];if(typeof Gr=="number")Qr=typeof Kr=="string"?Kr:Qr,Kr=typeof Kr=="string"?0:Kr,Object.assign(this,{_a:Gr,_b:Yr,_c:Zr,_d:Kr,space:Qr});else if(Gr instanceof Array)this.space=Yr||(typeof Gr[3]=="string"?Gr[3]:Gr[4])||"rgb",Object.assign(this,{_a:Gr[0],_b:Gr[1],_c:Gr[2],_d:Gr[3]||0});else if(Gr instanceof Object){const nn=function(sn,ln){const un=pt(sn,"rgb")?{_a:sn.r,_b:sn.g,_c:sn.b,_d:0,space:"rgb"}:pt(sn,"xyz")?{_a:sn.x,_b:sn.y,_c:sn.z,_d:0,space:"xyz"}:pt(sn,"hsl")?{_a:sn.h,_b:sn.s,_c:sn.l,_d:0,space:"hsl"}:pt(sn,"lab")?{_a:sn.l,_b:sn.a,_c:sn.b,_d:0,space:"lab"}:pt(sn,"lch")?{_a:sn.l,_b:sn.c,_c:sn.h,_d:0,space:"lch"}:pt(sn,"cmyk")?{_a:sn.c,_b:sn.m,_c:sn.y,_d:sn.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return un.space=ln||un.space,un}(Gr,Yr);Object.assign(this,nn)}else if(typeof Gr=="string")if(ot.test(Gr)){const nn=Gr.replace(rt$1,""),[sn,ln,un]=it.exec(nn).slice(1,4).map(cn=>parseInt(cn));Object.assign(this,{_a:sn,_b:ln,_c:un,_d:0,space:"rgb"})}else{if(!nt.test(Gr))throw Error("Unsupported string format, can't construct Color");{const nn=cn=>parseInt(cn,16),[,sn,ln,un]=et.exec(function(cn){return cn.length===4?["#",cn.substring(1,2),cn.substring(1,2),cn.substring(2,3),cn.substring(2,3),cn.substring(3,4),cn.substring(3,4)].join(""):cn}(Gr)).map(nn);Object.assign(this,{_a:sn,_b:ln,_c:un,_d:0,space:"rgb"})}}const{_a:Jr,_b:en,_c:tn,_d:rn}=this,an=this.space==="rgb"?{r:Jr,g:en,b:tn}:this.space==="xyz"?{x:Jr,y:en,z:tn}:this.space==="hsl"?{h:Jr,s:en,l:tn}:this.space==="lab"?{l:Jr,a:en,b:tn}:this.space==="lch"?{l:Jr,c:en,h:tn}:this.space==="cmyk"?{c:Jr,m:en,y:tn,k:rn}:{};Object.assign(this,an)}lab(){const{x:Gr,y:Yr,z:Zr}=this.xyz();return new xt(116*Yr-16,500*(Gr-Yr),200*(Yr-Zr),"lab")}lch(){const{l:Gr,a:Yr,b:Zr}=this.lab(),Kr=Math.sqrt(Yr**2+Zr**2);let Qr=180*Math.atan2(Zr,Yr)/Math.PI;return Qr<0&&(Qr*=-1,Qr=360-Qr),new xt(Gr,Kr,Qr,"lch")}rgb(){if(this.space==="rgb")return this;if((Gr=this.space)==="lab"||Gr==="xyz"||Gr==="lch"){let{x:Yr,y:Zr,z:Kr}=this;if(this.space==="lab"||this.space==="lch"){let{l:ln,a:un,b:cn}=this;if(this.space==="lch"){const{c:mn,h:yn}=this,xn=Math.PI/180;un=mn*Math.cos(xn*yn),cn=mn*Math.sin(xn*yn)}const hn=(ln+16)/116,dn=un/500+hn,fn=hn-cn/200,pn=16/116,gn=.008856,vn=7.787;Yr=.95047*(dn**3>gn?dn**3:(dn-pn)/vn),Zr=1*(hn**3>gn?hn**3:(hn-pn)/vn),Kr=1.08883*(fn**3>gn?fn**3:(fn-pn)/vn)}const Qr=3.2406*Yr+-1.5372*Zr+-.4986*Kr,Jr=-.9689*Yr+1.8758*Zr+.0415*Kr,en=.0557*Yr+-.204*Zr+1.057*Kr,tn=Math.pow,rn=.0031308,an=Qr>rn?1.055*tn(Qr,1/2.4)-.055:12.92*Qr,nn=Jr>rn?1.055*tn(Jr,1/2.4)-.055:12.92*Jr,sn=en>rn?1.055*tn(en,1/2.4)-.055:12.92*en;return new xt(255*an,255*nn,255*sn)}if(this.space==="hsl"){let{h:Yr,s:Zr,l:Kr}=this;if(Yr/=360,Zr/=100,Kr/=100,Zr===0)return Kr*=255,new xt(Kr,Kr,Kr);const Qr=Kr<.5?Kr*(1+Zr):Kr+Zr-Kr*Zr,Jr=2*Kr-Qr,en=255*ft(Jr,Qr,Yr+1/3),tn=255*ft(Jr,Qr,Yr),rn=255*ft(Jr,Qr,Yr-1/3);return new xt(en,tn,rn)}if(this.space==="cmyk"){const{c:Yr,m:Zr,y:Kr,k:Qr}=this,Jr=255*(1-Math.min(1,Yr*(1-Qr)+Qr)),en=255*(1-Math.min(1,Zr*(1-Qr)+Qr)),tn=255*(1-Math.min(1,Kr*(1-Qr)+Qr));return new xt(Jr,en,tn)}return this;var Gr}toArray(){const{_a:Gr,_b:Yr,_c:Zr,_d:Kr,space:Qr}=this;return[Gr,Yr,Zr,Kr,Qr]}toHex(){const[Gr,Yr,Zr]=this._clamped().map(gt);return`#${Gr}${Yr}${Zr}`}toRgb(){const[Gr,Yr,Zr]=this._clamped();return`rgb(${Gr},${Yr},${Zr})`}toString(){return this.toHex()}xyz(){const{_a:Gr,_b:Yr,_c:Zr}=this.rgb(),[Kr,Qr,Jr]=[Gr,Yr,Zr].map(hn=>hn/255),en=Kr>.04045?Math.pow((Kr+.055)/1.055,2.4):Kr/12.92,tn=Qr>.04045?Math.pow((Qr+.055)/1.055,2.4):Qr/12.92,rn=Jr>.04045?Math.pow((Jr+.055)/1.055,2.4):Jr/12.92,an=(.4124*en+.3576*tn+.1805*rn)/.95047,nn=(.2126*en+.7152*tn+.0722*rn)/1,sn=(.0193*en+.1192*tn+.9505*rn)/1.08883,ln=an>.008856?Math.pow(an,1/3):7.787*an+16/116,un=nn>.008856?Math.pow(nn,1/3):7.787*nn+16/116,cn=sn>.008856?Math.pow(sn,1/3):7.787*sn+16/116;return new xt(ln,un,cn,"xyz")}_clamped(){const{_a:Gr,_b:Yr,_c:Zr}=this.rgb(),{max:Kr,min:Qr,round:Jr}=Math;return[Gr,Yr,Zr].map(en=>Kr(0,Qr(Jr(en),255)))}}class bt{constructor(...Gr){this.init(...Gr)}clone(){return new bt(this)}init(Gr,Yr){const Qr=Array.isArray(Gr)?{x:Gr[0],y:Gr[1]}:typeof Gr=="object"?{x:Gr.x,y:Gr.y}:{x:Gr,y:Yr};return this.x=Qr.x==null?0:Qr.x,this.y=Qr.y==null?0:Qr.y,this}toArray(){return[this.x,this.y]}transform(Gr){return this.clone().transformO(Gr)}transformO(Gr){vt.isMatrixLike(Gr)||(Gr=new vt(Gr));const{x:Yr,y:Zr}=this;return this.x=Gr.a*Yr+Gr.c*Zr+Gr.e,this.y=Gr.b*Yr+Gr.d*Zr+Gr.f,this}}function mt(Wr,Gr,Yr){return Math.abs(Gr-Wr)<1e-6}class vt{constructor(...Gr){this.init(...Gr)}static formatTransforms(Gr){const Yr=Gr.flip==="both"||Gr.flip===!0,Zr=Gr.flip&&(Yr||Gr.flip==="x")?-1:1,Kr=Gr.flip&&(Yr||Gr.flip==="y")?-1:1,Qr=Gr.skew&&Gr.skew.length?Gr.skew[0]:isFinite(Gr.skew)?Gr.skew:isFinite(Gr.skewX)?Gr.skewX:0,Jr=Gr.skew&&Gr.skew.length?Gr.skew[1]:isFinite(Gr.skew)?Gr.skew:isFinite(Gr.skewY)?Gr.skewY:0,en=Gr.scale&&Gr.scale.length?Gr.scale[0]*Zr:isFinite(Gr.scale)?Gr.scale*Zr:isFinite(Gr.scaleX)?Gr.scaleX*Zr:Zr,tn=Gr.scale&&Gr.scale.length?Gr.scale[1]*Kr:isFinite(Gr.scale)?Gr.scale*Kr:isFinite(Gr.scaleY)?Gr.scaleY*Kr:Kr,rn=Gr.shear||0,an=Gr.rotate||Gr.theta||0,nn=new bt(Gr.origin||Gr.around||Gr.ox||Gr.originX,Gr.oy||Gr.originY),sn=nn.x,ln=nn.y,un=new bt(Gr.position||Gr.px||Gr.positionX||NaN,Gr.py||Gr.positionY||NaN),cn=un.x,hn=un.y,dn=new bt(Gr.translate||Gr.tx||Gr.translateX,Gr.ty||Gr.translateY),fn=dn.x,pn=dn.y,gn=new bt(Gr.relative||Gr.rx||Gr.relativeX,Gr.ry||Gr.relativeY);return{scaleX:en,scaleY:tn,skewX:Qr,skewY:Jr,shear:rn,theta:an,rx:gn.x,ry:gn.y,tx:fn,ty:pn,ox:sn,oy:ln,px:cn,py:hn}}static fromArray(Gr){return{a:Gr[0],b:Gr[1],c:Gr[2],d:Gr[3],e:Gr[4],f:Gr[5]}}static isMatrixLike(Gr){return Gr.a!=null||Gr.b!=null||Gr.c!=null||Gr.d!=null||Gr.e!=null||Gr.f!=null}static matrixMultiply(Gr,Yr,Zr){const Kr=Gr.a*Yr.a+Gr.c*Yr.b,Qr=Gr.b*Yr.a+Gr.d*Yr.b,Jr=Gr.a*Yr.c+Gr.c*Yr.d,en=Gr.b*Yr.c+Gr.d*Yr.d,tn=Gr.e+Gr.a*Yr.e+Gr.c*Yr.f,rn=Gr.f+Gr.b*Yr.e+Gr.d*Yr.f;return Zr.a=Kr,Zr.b=Qr,Zr.c=Jr,Zr.d=en,Zr.e=tn,Zr.f=rn,Zr}around(Gr,Yr,Zr){return this.clone().aroundO(Gr,Yr,Zr)}aroundO(Gr,Yr,Zr){const Kr=Gr||0,Qr=Yr||0;return this.translateO(-Kr,-Qr).lmultiplyO(Zr).translateO(Kr,Qr)}clone(){return new vt(this)}decompose(Gr=0,Yr=0){const Zr=this.a,Kr=this.b,Qr=this.c,Jr=this.d,en=this.e,tn=this.f,rn=Zr*Jr-Kr*Qr,an=rn>0?1:-1,nn=an*Math.sqrt(Zr*Zr+Kr*Kr),sn=Math.atan2(an*Kr,an*Zr),ln=180/Math.PI*sn,un=Math.cos(sn),cn=Math.sin(sn),hn=(Zr*Qr+Kr*Jr)/rn,dn=Qr*nn/(hn*Zr-Kr)||Jr*nn/(hn*Kr+Zr);return{scaleX:nn,scaleY:dn,shear:hn,rotate:ln,translateX:en-Gr+Gr*un*nn+Yr*(hn*un*nn-cn*dn),translateY:tn-Yr+Gr*cn*nn+Yr*(hn*cn*nn+un*dn),originX:Gr,originY:Yr,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(Gr){if(Gr===this)return!0;const Yr=new vt(Gr);return mt(this.a,Yr.a)&&mt(this.b,Yr.b)&&mt(this.c,Yr.c)&&mt(this.d,Yr.d)&&mt(this.e,Yr.e)&&mt(this.f,Yr.f)}flip(Gr,Yr){return this.clone().flipO(Gr,Yr)}flipO(Gr,Yr){return Gr==="x"?this.scaleO(-1,1,Yr,0):Gr==="y"?this.scaleO(1,-1,0,Yr):this.scaleO(-1,-1,Gr,Yr||Gr)}init(Gr){const Yr=vt.fromArray([1,0,0,1,0,0]);return Gr=Gr instanceof Gt?Gr.matrixify():typeof Gr=="string"?vt.fromArray(Gr.split(dt).map(parseFloat)):Array.isArray(Gr)?vt.fromArray(Gr):typeof Gr=="object"&&vt.isMatrixLike(Gr)?Gr:typeof Gr=="object"?new vt().transform(Gr):arguments.length===6?vt.fromArray([].slice.call(arguments)):Yr,this.a=Gr.a!=null?Gr.a:Yr.a,this.b=Gr.b!=null?Gr.b:Yr.b,this.c=Gr.c!=null?Gr.c:Yr.c,this.d=Gr.d!=null?Gr.d:Yr.d,this.e=Gr.e!=null?Gr.e:Yr.e,this.f=Gr.f!=null?Gr.f:Yr.f,this}inverse(){return this.clone().inverseO()}inverseO(){const Gr=this.a,Yr=this.b,Zr=this.c,Kr=this.d,Qr=this.e,Jr=this.f,en=Gr*Kr-Yr*Zr;if(!en)throw new Error("Cannot invert "+this);const tn=Kr/en,rn=-Yr/en,an=-Zr/en,nn=Gr/en,sn=-(tn*Qr+an*Jr),ln=-(rn*Qr+nn*Jr);return this.a=tn,this.b=rn,this.c=an,this.d=nn,this.e=sn,this.f=ln,this}lmultiply(Gr){return this.clone().lmultiplyO(Gr)}lmultiplyO(Gr){const Yr=Gr instanceof vt?Gr:new vt(Gr);return vt.matrixMultiply(Yr,this,this)}multiply(Gr){return this.clone().multiplyO(Gr)}multiplyO(Gr){const Yr=Gr instanceof vt?Gr:new vt(Gr);return vt.matrixMultiply(this,Yr,this)}rotate(Gr,Yr,Zr){return this.clone().rotateO(Gr,Yr,Zr)}rotateO(Gr,Yr=0,Zr=0){Gr=M(Gr);const Kr=Math.cos(Gr),Qr=Math.sin(Gr),{a:Jr,b:en,c:tn,d:rn,e:an,f:nn}=this;return this.a=Jr*Kr-en*Qr,this.b=en*Kr+Jr*Qr,this.c=tn*Kr-rn*Qr,this.d=rn*Kr+tn*Qr,this.e=an*Kr-nn*Qr+Zr*Qr-Yr*Kr+Yr,this.f=nn*Kr+an*Qr-Yr*Qr-Zr*Kr+Zr,this}scale(){return this.clone().scaleO(...arguments)}scaleO(Gr,Yr=Gr,Zr=0,Kr=0){arguments.length===3&&(Kr=Zr,Zr=Yr,Yr=Gr);const{a:Qr,b:Jr,c:en,d:tn,e:rn,f:an}=this;return this.a=Qr*Gr,this.b=Jr*Yr,this.c=en*Gr,this.d=tn*Yr,this.e=rn*Gr-Zr*Gr+Zr,this.f=an*Yr-Kr*Yr+Kr,this}shear(Gr,Yr,Zr){return this.clone().shearO(Gr,Yr,Zr)}shearO(Gr,Yr=0,Zr=0){const{a:Kr,b:Qr,c:Jr,d:en,e:tn,f:rn}=this;return this.a=Kr+Qr*Gr,this.c=Jr+en*Gr,this.e=tn+rn*Gr-Zr*Gr,this}skew(){return this.clone().skewO(...arguments)}skewO(Gr,Yr=Gr,Zr=0,Kr=0){arguments.length===3&&(Kr=Zr,Zr=Yr,Yr=Gr),Gr=M(Gr),Yr=M(Yr);const Qr=Math.tan(Gr),Jr=Math.tan(Yr),{a:en,b:tn,c:rn,d:an,e:nn,f:sn}=this;return this.a=en+tn*Qr,this.b=tn+en*Jr,this.c=rn+an*Qr,this.d=an+rn*Jr,this.e=nn+sn*Qr-Kr*Qr,this.f=sn+nn*Jr-Zr*Jr,this}skewX(Gr,Yr,Zr){return this.skew(Gr,0,Yr,Zr)}skewY(Gr,Yr,Zr){return this.skew(0,Gr,Yr,Zr)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(Gr){if(vt.isMatrixLike(Gr))return new vt(Gr).multiplyO(this);const Yr=vt.formatTransforms(Gr),{x:Zr,y:Kr}=new bt(Yr.ox,Yr.oy).transform(this),Qr=new vt().translateO(Yr.rx,Yr.ry).lmultiplyO(this).translateO(-Zr,-Kr).scaleO(Yr.scaleX,Yr.scaleY).skewO(Yr.skewX,Yr.skewY).shearO(Yr.shear).rotateO(Yr.theta).translateO(Zr,Kr);if(isFinite(Yr.px)||isFinite(Yr.py)){const Jr=new bt(Zr,Kr).transform(Qr),en=isFinite(Yr.px)?Yr.px-Jr.x:0,tn=isFinite(Yr.py)?Yr.py-Jr.y:0;Qr.translateO(en,tn)}return Qr.translateO(Yr.tx,Yr.ty),Qr}translate(Gr,Yr){return this.clone().translateO(Gr,Yr)}translateO(Gr,Yr){return this.e+=Gr||0,this.f+=Yr||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function yt(){if(!yt.nodes){const Wr=B().size(2,0);Wr.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),Wr.attr("focusable","false"),Wr.attr("aria-hidden","true");const Gr=Wr.path().node;yt.nodes={svg:Wr,path:Gr}}if(!yt.nodes.svg.node.parentNode){const Wr=O.document.body||O.document.documentElement;yt.nodes.svg.addTo(Wr)}return yt.nodes}function wt(Wr){return!(Wr.width||Wr.height||Wr.x||Wr.y)}q(vt,"Matrix");class kt{constructor(...Gr){this.init(...Gr)}addOffset(){return this.x+=O.window.pageXOffset,this.y+=O.window.pageYOffset,new kt(this)}init(Gr){return Gr=typeof Gr=="string"?Gr.split(dt).map(parseFloat):Array.isArray(Gr)?Gr:typeof Gr=="object"?[Gr.left!=null?Gr.left:Gr.x,Gr.top!=null?Gr.top:Gr.y,Gr.width,Gr.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=Gr[0]||0,this.y=Gr[1]||0,this.width=this.w=Gr[2]||0,this.height=this.h=Gr[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wt(this)}merge(Gr){const Yr=Math.min(this.x,Gr.x),Zr=Math.min(this.y,Gr.y),Kr=Math.max(this.x+this.width,Gr.x+Gr.width)-Yr,Qr=Math.max(this.y+this.height,Gr.y+Gr.height)-Zr;return new kt(Yr,Zr,Kr,Qr)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(Gr){Gr instanceof vt||(Gr=new vt(Gr));let Yr=1/0,Zr=-1/0,Kr=1/0,Qr=-1/0;return[new bt(this.x,this.y),new bt(this.x2,this.y),new bt(this.x,this.y2),new bt(this.x2,this.y2)].forEach(function(Jr){Jr=Jr.transform(Gr),Yr=Math.min(Yr,Jr.x),Zr=Math.max(Zr,Jr.x),Kr=Math.min(Kr,Jr.y),Qr=Math.max(Qr,Jr.y)}),new kt(Yr,Kr,Zr-Yr,Qr-Kr)}}function At(Wr,Gr,Yr){let Zr;try{if(Zr=Gr(Wr.node),wt(Zr)&&(Kr=Wr.node)!==O.document&&!(O.document.documentElement.contains||function(Qr){for(;Qr.parentNode;)Qr=Qr.parentNode;return Qr===O.document}).call(O.document.documentElement,Kr))throw new Error("Element not in the dom")}catch{Zr=Yr(Wr)}var Kr;return Zr}A({viewbox:{viewbox(Wr,Gr,Yr,Zr){return Wr==null?new kt(this.attr("viewBox")):this.attr("viewBox",new kt(Wr,Gr,Yr,Zr))},zoom(Wr,Gr){let{width:Yr,height:Zr}=this.attr(["width","height"]);if((Yr||Zr)&&typeof Yr!="string"&&typeof Zr!="string"||(Yr=this.node.clientWidth,Zr=this.node.clientHeight),!Yr||!Zr)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const Kr=this.viewbox(),Qr=Yr/Kr.width,Jr=Zr/Kr.height,en=Math.min(Qr,Jr);if(Wr==null)return en;let tn=en/Wr;tn===1/0&&(tn=Number.MAX_SAFE_INTEGER/100),Gr=Gr||new bt(Yr/2/Qr+Kr.x,Zr/2/Jr+Kr.y);const rn=new kt(Kr).transform(new vt({scale:tn,origin:Gr}));return this.viewbox(rn)}}}),q(kt,"Box");class Ct extends Array{constructor(Gr=[],...Yr){if(super(Gr,...Yr),typeof Gr=="number")return this;this.length=0,this.push(...Gr)}}Q([Ct],{each(Wr,...Gr){return typeof Wr=="function"?this.map((Yr,Zr,Kr)=>Wr.call(Yr,Yr,Zr,Kr)):this.map(Yr=>Yr[Wr](...Gr))},toArray(){return Array.prototype.concat.apply([],this)}});const St=["toArray","constructor","each"];function Lt(Wr,Gr){return new Ct(L((Gr||O.document).querySelectorAll(Wr),function(Yr){return V(Yr)}))}Ct.extend=function(Wr){Wr=Wr.reduce((Gr,Yr)=>(St.includes(Yr)||Yr[0]==="_"||(Yr in Array.prototype&&(Gr["$"+Yr]=Array.prototype[Yr]),Gr[Yr]=function(...Zr){return this.each(Yr,...Zr)}),Gr),{}),Q([Ct],Wr)};let Mt=0;const Pt={};function It(Wr){let Gr=Wr.getEventHolder();return Gr===O.window&&(Gr=Pt),Gr.events||(Gr.events={}),Gr.events}function Tt(Wr){return Wr.getEventTarget()}function zt(Wr,Gr,Yr,Zr,Kr){const Qr=Yr.bind(Zr||Wr),Jr=B(Wr),en=It(Jr),tn=Tt(Jr);Gr=Array.isArray(Gr)?Gr:Gr.split(dt),Yr._svgjsListenerId||(Yr._svgjsListenerId=++Mt),Gr.forEach(function(rn){const an=rn.split(".")[0],nn=rn.split(".")[1]||"*";en[an]=en[an]||{},en[an][nn]=en[an][nn]||{},en[an][nn][Yr._svgjsListenerId]=Qr,tn.addEventListener(an,Qr,Kr||!1)})}function Xt(Wr,Gr,Yr,Zr){const Kr=B(Wr),Qr=It(Kr),Jr=Tt(Kr);(typeof Yr!="function"||(Yr=Yr._svgjsListenerId))&&(Gr=Array.isArray(Gr)?Gr:(Gr||"").split(dt)).forEach(function(en){const tn=en&&en.split(".")[0],rn=en&&en.split(".")[1];let an,nn;if(Yr)Qr[tn]&&Qr[tn][rn||"*"]&&(Jr.removeEventListener(tn,Qr[tn][rn||"*"][Yr],Zr||!1),delete Qr[tn][rn||"*"][Yr]);else if(tn&&rn){if(Qr[tn]&&Qr[tn][rn]){for(nn in Qr[tn][rn])Xt(Jr,[tn,rn].join("."),nn);delete Qr[tn][rn]}}else if(rn)for(en in Qr)for(an in Qr[en])rn===an&&Xt(Jr,[en,rn].join("."));else if(tn){if(Qr[tn]){for(an in Qr[tn])Xt(Jr,[tn,an].join("."));delete Qr[tn]}}else{for(en in Qr)Xt(Jr,en);(function(sn){let ln=sn.getEventHolder();ln===O.window&&(ln=Pt),ln.events&&(ln.events={})})(Kr)}})}class Rt extends D{addEventListener(){}dispatch(Gr,Yr,Zr){return function(Kr,Qr,Jr,en){const tn=Tt(Kr);return Qr instanceof O.window.Event||(Qr=new O.window.CustomEvent(Qr,{detail:Jr,cancelable:!0,...en})),tn.dispatchEvent(Qr),Qr}(this,Gr,Yr,Zr)}dispatchEvent(Gr){const Yr=this.getEventHolder().events;if(!Yr)return!0;const Zr=Yr[Gr.type];for(const Kr in Zr)for(const Qr in Zr[Kr])Zr[Kr][Qr](Gr);return!Gr.defaultPrevented}fire(Gr,Yr,Zr){return this.dispatch(Gr,Yr,Zr),this}getEventHolder(){return this}getEventTarget(){return this}off(Gr,Yr,Zr){return Xt(this,Gr,Yr,Zr),this}on(Gr,Yr,Zr,Kr){return zt(this,Gr,Yr,Zr,Kr),this}removeEventListener(){}}function Et(){}q(Rt,"EventTarget");const Yt=400,Ht=">",Ot=0,Ft={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Dt extends Array{constructor(...Gr){super(...Gr),this.init(...Gr)}clone(){return new this.constructor(this)}init(Gr){return typeof Gr=="number"||(this.length=0,this.push(...this.parse(Gr))),this}parse(Gr=[]){return Gr instanceof Array?Gr:Gr.trim().split(dt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const Gr=[];return Gr.push(...this),Gr}}class _t{constructor(...Gr){this.init(...Gr)}convert(Gr){return new _t(this.value,Gr)}divide(Gr){return Gr=new _t(Gr),new _t(this/Gr,this.unit||Gr.unit)}init(Gr,Yr){return Yr=Array.isArray(Gr)?Gr[1]:Yr,Gr=Array.isArray(Gr)?Gr[0]:Gr,this.value=0,this.unit=Yr||"",typeof Gr=="number"?this.value=isNaN(Gr)?0:isFinite(Gr)?Gr:Gr<0?-34e37:34e37:typeof Gr=="string"?(Yr=Gr.match(tt))&&(this.value=parseFloat(Yr[1]),Yr[5]==="%"?this.value/=100:Yr[5]==="s"&&(this.value*=1e3),this.unit=Yr[5]):Gr instanceof _t&&(this.value=Gr.valueOf(),this.unit=Gr.unit),this}minus(Gr){return Gr=new _t(Gr),new _t(this-Gr,this.unit||Gr.unit)}plus(Gr){return Gr=new _t(Gr),new _t(this+Gr,this.unit||Gr.unit)}times(Gr){return Gr=new _t(Gr),new _t(this*Gr,this.unit||Gr.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Nt=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Wt=[];class Bt extends Rt{constructor(Gr,Yr){super(),this.node=Gr,this.type=Gr.nodeName,Yr&&Gr!==Yr&&this.attr(Yr)}add(Gr,Yr){return(Gr=B(Gr)).removeNamespace&&this.node instanceof O.window.SVGElement&&Gr.removeNamespace(),Yr==null?this.node.appendChild(Gr.node):Gr.node!==this.node.childNodes[Yr]&&this.node.insertBefore(Gr.node,this.node.childNodes[Yr]),this}addTo(Gr,Yr){return B(Gr).put(this,Yr)}children(){return new Ct(L(this.node.children,function(Gr){return V(Gr)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(Gr=!0,Yr=!0){this.writeDataToDom();let Zr=this.node.cloneNode(Gr);return Yr&&(Zr=J(Zr)),new this.constructor(Zr)}each(Gr,Yr){const Zr=this.children();let Kr,Qr;for(Kr=0,Qr=Zr.length;Kr<Qr;Kr++)Gr.apply(Zr[Kr],[Kr,Zr]),Yr&&Zr[Kr].each(Gr,Yr);return this}element(Gr,Yr){return this.put(new Bt(W(Gr),Yr))}first(){return V(this.node.firstChild)}get(Gr){return V(this.node.childNodes[Gr])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(Gr){return this.index(Gr)>=0}html(Gr,Yr){return this.xml(Gr,Yr,"http://www.w3.org/1999/xhtml")}id(Gr){return Gr!==void 0||this.node.id||(this.node.id=$(this.type)),this.attr("id",Gr)}index(Gr){return[].slice.call(this.node.childNodes).indexOf(Gr.node)}last(){return V(this.node.lastChild)}matches(Gr){const Yr=this.node,Zr=Yr.matches||Yr.matchesSelector||Yr.msMatchesSelector||Yr.mozMatchesSelector||Yr.webkitMatchesSelector||Yr.oMatchesSelector||null;return Zr&&Zr.call(Yr,Gr)}parent(Gr){let Yr=this;if(!Yr.node.parentNode)return null;if(Yr=V(Yr.node.parentNode),!Gr)return Yr;do if(typeof Gr=="string"?Yr.matches(Gr):Yr instanceof Gr)return Yr;while(Yr=V(Yr.node.parentNode));return Yr}put(Gr,Yr){return Gr=B(Gr),this.add(Gr,Yr),Gr}putIn(Gr,Yr){return B(Gr).add(this,Yr)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(Gr){return this.node.removeChild(Gr.node),this}replace(Gr){return Gr=B(Gr),this.node.parentNode&&this.node.parentNode.replaceChild(Gr.node,this.node),Gr}round(Gr=2,Yr=null){const Zr=10**Gr,Kr=this.attr(Yr);for(const Qr in Kr)typeof Kr[Qr]=="number"&&(Kr[Qr]=Math.round(Kr[Qr]*Zr)/Zr);return this.attr(Kr),this}svg(Gr,Yr){return this.xml(Gr,Yr,E)}toString(){return this.id()}words(Gr){return this.node.textContent=Gr,this}wrap(Gr){const Yr=this.parent();if(!Yr)return this.addTo(Gr);const Zr=Yr.index(this);return Yr.put(Gr,Zr).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(Gr,Yr,Zr){if(typeof Gr=="boolean"&&(Zr=Yr,Yr=Gr,Gr=null),Gr==null||typeof Gr=="function"){Yr=Yr==null||Yr,this.writeDataToDom();let en=this;if(Gr!=null){if(en=V(en.node.cloneNode(!0)),Yr){const tn=Gr(en);if(en=tn||en,tn===!1)return""}en.each(function(){const tn=Gr(this),rn=tn||this;tn===!1?this.remove():tn&&this!==rn&&this.replace(rn)},!0)}return Yr?en.node.outerHTML:en.node.innerHTML}Yr=Yr!=null&&Yr;const Kr=W("wrapper",Zr),Qr=O.document.createDocumentFragment();Kr.innerHTML=Gr;for(let en=Kr.children.length;en--;)Qr.appendChild(Kr.firstElementChild);const Jr=this.parent();return Yr?this.replace(Qr)&&Jr:this.add(Qr)}}Q(Bt,{attr:function(Wr,Gr,Yr){if(Wr==null){Wr={},Gr=this.node.attributes;for(const Zr of Gr)Wr[Zr.nodeName]=ht.test(Zr.nodeValue)?parseFloat(Zr.nodeValue):Zr.nodeValue;return Wr}if(Wr instanceof Array)return Wr.reduce((Zr,Kr)=>(Zr[Kr]=this.attr(Kr),Zr),{});if(typeof Wr=="object"&&Wr.constructor===Object)for(Gr in Wr)this.attr(Gr,Wr[Gr]);else if(Gr===null)this.node.removeAttribute(Wr);else{if(Gr==null)return(Gr=this.node.getAttribute(Wr))==null?Ft[Wr]:ht.test(Gr)?parseFloat(Gr):Gr;typeof(Gr=Wt.reduce((Zr,Kr)=>Kr(Wr,Zr,this),Gr))=="number"?Gr=new _t(Gr):Nt.has(Wr)&&xt.isColor(Gr)?Gr=new xt(Gr):Gr.constructor===Array&&(Gr=new Dt(Gr)),Wr==="leading"?this.leading&&this.leading(Gr):typeof Yr=="string"?this.node.setAttributeNS(Yr,Wr,Gr.toString()):this.node.setAttribute(Wr,Gr.toString()),!this.rebuild||Wr!=="font-size"&&Wr!=="x"||this.rebuild()}return this},find:function(Wr){return Lt(Wr,this.node)},findOne:function(Wr){return V(this.node.querySelector(Wr))}}),q(Bt,"Dom");let Gt=class extends Bt{constructor(Wr,Gr){super(Wr,Gr),this.dom={},this.node.instance=this,(Wr.hasAttribute("data-svgjs")||Wr.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(Wr.getAttribute("data-svgjs"))??JSON.parse(Wr.getAttribute("svgjs:data"))??{})}center(Wr,Gr){return this.cx(Wr).cy(Gr)}cx(Wr){return Wr==null?this.x()+this.width()/2:this.x(Wr-this.width()/2)}cy(Wr){return Wr==null?this.y()+this.height()/2:this.y(Wr-this.height()/2)}defs(){const Wr=this.root();return Wr&&Wr.defs()}dmove(Wr,Gr){return this.dx(Wr).dy(Gr)}dx(Wr=0){return this.x(new _t(Wr).plus(this.x()))}dy(Wr=0){return this.y(new _t(Wr).plus(this.y()))}getEventHolder(){return this}height(Wr){return this.attr("height",Wr)}move(Wr,Gr){return this.x(Wr).y(Gr)}parents(Wr=this.root()){const Gr=typeof Wr=="string";Gr||(Wr=B(Wr));const Yr=new Ct;let Zr=this;for(;(Zr=Zr.parent())&&Zr.node!==O.document&&Zr.nodeName!=="#document-fragment"&&(Yr.push(Zr),Gr||Zr.node!==Wr.node)&&(!Gr||!Zr.matches(Wr));)if(Zr.node===this.root().node)return null;return Yr}reference(Wr){if(!(Wr=this.attr(Wr)))return null;const Gr=(Wr+"").match(at);return Gr?B(Gr[1]):null}root(){const Wr=this.parent(function(Gr){return _[Gr]}(N));return Wr&&Wr.root()}setData(Wr){return this.dom=Wr,this}size(Wr,Gr){const Yr=I(this,Wr,Gr);return this.width(new _t(Yr.width)).height(new _t(Yr.height))}width(Wr){return this.attr("width",Wr)}writeDataToDom(){return R(this,this.dom),super.writeDataToDom()}x(Wr){return this.attr("x",Wr)}y(Wr){return this.attr("y",Wr)}};Q(Gt,{bbox:function(){const Wr=At(this,Gr=>Gr.getBBox(),Gr=>{try{const Yr=Gr.clone().addTo(yt().svg).show(),Zr=Yr.node.getBBox();return Yr.remove(),Zr}catch(Yr){throw new Error(`Getting bbox of element "${Gr.node.nodeName}" is not possible: ${Yr.toString()}`)}});return new kt(Wr)},rbox:function(Wr){const Gr=At(this,Zr=>Zr.getBoundingClientRect(),Zr=>{throw new Error(`Getting rbox of element "${Zr.node.nodeName}" is not possible`)}),Yr=new kt(Gr);return Wr?Yr.transform(Wr.screenCTM().inverseO()):Yr.addOffset()},inside:function(Wr,Gr){const Yr=this.bbox();return Wr>Yr.x&&Gr>Yr.y&&Wr<Yr.x+Yr.width&&Gr<Yr.y+Yr.height},point:function(Wr,Gr){return new bt(Wr,Gr).transformO(this.screenCTM().inverseO())},ctm:function(){return new vt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const Wr=this.rect(1,1),Gr=Wr.node.getScreenCTM();return Wr.remove(),new vt(Gr)}return new vt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new vt}}}),q(Gt,"Element");const jt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(Wr,Gr){return Gr==="color"?Wr:Wr+"-"+Gr}};["fill","stroke"].forEach(function(Wr){const Gr={};let Yr;Gr[Wr]=function(Zr){if(Zr===void 0)return this.attr(Wr);if(typeof Zr=="string"||Zr instanceof xt||xt.isRgb(Zr)||Zr instanceof Gt)this.attr(Wr,Zr);else for(Yr=jt[Wr].length-1;Yr>=0;Yr--)Zr[jt[Wr][Yr]]!=null&&this.attr(jt.prefix(Wr,jt[Wr][Yr]),Zr[jt[Wr][Yr]]);return this},A(["Element","Runner"],Gr)}),A(["Element","Runner"],{matrix:function(Wr,Gr,Yr,Zr,Kr,Qr){return Wr==null?new vt(this):this.attr("transform",new vt(Wr,Gr,Yr,Zr,Kr,Qr))},rotate:function(Wr,Gr,Yr){return this.transform({rotate:Wr,ox:Gr,oy:Yr},!0)},skew:function(Wr,Gr,Yr,Zr){return arguments.length===1||arguments.length===3?this.transform({skew:Wr,ox:Gr,oy:Yr},!0):this.transform({skew:[Wr,Gr],ox:Yr,oy:Zr},!0)},shear:function(Wr,Gr,Yr){return this.transform({shear:Wr,ox:Gr,oy:Yr},!0)},scale:function(Wr,Gr,Yr,Zr){return arguments.length===1||arguments.length===3?this.transform({scale:Wr,ox:Gr,oy:Yr},!0):this.transform({scale:[Wr,Gr],ox:Yr,oy:Zr},!0)},translate:function(Wr,Gr){return this.transform({translate:[Wr,Gr]},!0)},relative:function(Wr,Gr){return this.transform({relative:[Wr,Gr]},!0)},flip:function(Wr="both",Gr="center"){return"xybothtrue".indexOf(Wr)===-1&&(Gr=Wr,Wr="both"),this.transform({flip:Wr,origin:Gr},!0)},opacity:function(Wr){return this.attr("opacity",Wr)}}),A("radius",{radius:function(Wr,Gr=Wr){return(this._element||this).type==="radialGradient"?this.attr("r",new _t(Wr)):this.rx(Wr).ry(Gr)}}),A("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(Wr){return new bt(this.node.getPointAtLength(Wr))}}),A(["Element","Runner"],{font:function(Wr,Gr){if(typeof Wr=="object"){for(Gr in Wr)this.font(Gr,Wr[Gr]);return this}return Wr==="leading"?this.leading(Gr):Wr==="anchor"?this.attr("text-anchor",Gr):Wr==="size"||Wr==="family"||Wr==="weight"||Wr==="stretch"||Wr==="variant"||Wr==="style"?this.attr("font-"+Wr,Gr):this.attr(Wr,Gr)}});A("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(Wr,Gr){return Wr[Gr]=function(Yr){return Yr===null?this.off(Gr):this.on(Gr,Yr),this},Wr},{})),A("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(st).slice(0,-1).map(function(Gr){const Yr=Gr.trim().split("(");return[Yr[0],Yr[1].split(dt).map(function(Zr){return parseFloat(Zr)})]}).reverse().reduce(function(Gr,Yr){return Yr[0]==="matrix"?Gr.lmultiply(vt.fromArray(Yr[1])):Gr[Yr[0]].apply(Gr,Yr[1])},new vt)},toParent:function(Wr,Gr){if(this===Wr)return this;if(X(this.node))return this.addTo(Wr,Gr);const Yr=this.screenCTM(),Zr=Wr.screenCTM().inverse();return this.addTo(Wr,Gr).untransform().transform(Zr.multiply(Yr)),this},toRoot:function(Wr){return this.toParent(this.root(),Wr)},transform:function(Wr,Gr){if(Wr==null||typeof Wr=="string"){const Zr=new vt(this).decompose();return Wr==null?Zr:Zr[Wr]}vt.isMatrixLike(Wr)||(Wr={...Wr,origin:T(Wr,this)});const Yr=new vt(Gr===!0?this:Gr||!1).transform(Wr);return this.attr("transform",Yr)}});class Vt extends Gt{flatten(){return this.each(function(){if(this instanceof Vt)return this.flatten().ungroup()}),this}ungroup(Gr=this.parent(),Yr=Gr.index(this)){return Yr=Yr===-1?Gr.children().length:Yr,this.each(function(Zr,Kr){return Kr[Kr.length-Zr-1].toParent(Gr,Yr)}),this.remove()}}q(Vt,"Container");class Ut extends Vt{constructor(Gr,Yr=Gr){super(G("defs",Gr),Yr)}flatten(){return this}ungroup(){return this}}q(Ut,"Defs");class qt extends Gt{}function Zt(Wr){return this.attr("rx",Wr)}function $t(Wr){return this.attr("ry",Wr)}function Jt(Wr){return Wr==null?this.cx()-this.rx():this.cx(Wr+this.rx())}function Qt(Wr){return Wr==null?this.cy()-this.ry():this.cy(Wr+this.ry())}function Kt(Wr){return this.attr("cx",Wr)}function te(Wr){return this.attr("cy",Wr)}function ee(Wr){return Wr==null?2*this.rx():this.rx(new _t(Wr).divide(2))}function ie(Wr){return Wr==null?2*this.ry():this.ry(new _t(Wr).divide(2))}q(qt,"Shape");var ae=Object.freeze({__proto__:null,cx:Kt,cy:te,height:ie,rx:Zt,ry:$t,width:ee,x:Jt,y:Qt});class se extends qt{constructor(Gr,Yr=Gr){super(G("ellipse",Gr),Yr)}size(Gr,Yr){const Zr=I(this,Gr,Yr);return this.rx(new _t(Zr.width).divide(2)).ry(new _t(Zr.height).divide(2))}}Q(se,ae),A("Container",{ellipse:K(function(Wr=0,Gr=Wr){return this.put(new se).size(Wr,Gr).move(0,0)})}),q(se,"Ellipse");class re extends Bt{constructor(Gr=O.document.createDocumentFragment()){super(Gr)}xml(Gr,Yr,Zr){if(typeof Gr=="boolean"&&(Zr=Yr,Yr=Gr,Gr=null),Gr==null||typeof Gr=="function"){const Kr=new Bt(W("wrapper",Zr));return Kr.add(this.node.cloneNode(!0)),Kr.xml(!1,Zr)}return super.xml(Gr,!1,Zr)}}function ne(Wr,Gr){return(this._element||this).type==="radialGradient"?this.attr({fx:new _t(Wr),fy:new _t(Gr)}):this.attr({x1:new _t(Wr),y1:new _t(Gr)})}function oe(Wr,Gr){return(this._element||this).type==="radialGradient"?this.attr({cx:new _t(Wr),cy:new _t(Gr)}):this.attr({x2:new _t(Wr),y2:new _t(Gr)})}q(re,"Fragment");var le=Object.freeze({__proto__:null,from:ne,to:oe});class he extends Vt{constructor(Gr,Yr){super(G(Gr+"Gradient",typeof Gr=="string"?null:Gr),Yr)}attr(Gr,Yr,Zr){return Gr==="transform"&&(Gr="gradientTransform"),super.attr(Gr,Yr,Zr)}bbox(){return new kt}targets(){return Lt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Gr){return this.clear(),typeof Gr=="function"&&Gr.call(this,this),this}url(){return"url(#"+this.id()+")"}}Q(he,le),A({Container:{gradient(...Wr){return this.defs().gradient(...Wr)}},Defs:{gradient:K(function(Wr,Gr){return this.put(new he(Wr)).update(Gr)})}}),q(he,"Gradient");class ce extends Vt{constructor(Gr,Yr=Gr){super(G("pattern",Gr),Yr)}attr(Gr,Yr,Zr){return Gr==="transform"&&(Gr="patternTransform"),super.attr(Gr,Yr,Zr)}bbox(){return new kt}targets(){return Lt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(Gr){return this.clear(),typeof Gr=="function"&&Gr.call(this,this),this}url(){return"url(#"+this.id()+")"}}A({Container:{pattern(...Wr){return this.defs().pattern(...Wr)}},Defs:{pattern:K(function(Wr,Gr,Yr){return this.put(new ce).update(Yr).attr({x:0,y:0,width:Wr,height:Gr,patternUnits:"userSpaceOnUse"})})}}),q(ce,"Pattern");let de=class extends qt{constructor(Wr,Gr=Wr){super(G("image",Wr),Gr)}load(Wr,Gr){if(!Wr)return this;const Yr=new O.window.Image;return zt(Yr,"load",function(Zr){const Kr=this.parent(ce);this.width()===0&&this.height()===0&&this.size(Yr.width,Yr.height),Kr instanceof ce&&Kr.width()===0&&Kr.height()===0&&Kr.size(this.width(),this.height()),typeof Gr=="function"&&Gr.call(this,Zr)},this),zt(Yr,"load error",function(){Xt(Yr)}),this.attr("href",Yr.src=Wr,H)}};var ue;ue=function(Wr,Gr,Yr){return Wr!=="fill"&&Wr!=="stroke"||ct.test(Gr)&&(Gr=Yr.root().defs().image(Gr)),Gr instanceof de&&(Gr=Yr.root().defs().pattern(0,0,Zr=>{Zr.add(Gr)})),Gr},Wt.push(ue),A({Container:{image:K(function(Wr,Gr){return this.put(new de).size(0,0).load(Wr,Gr)})}}),q(de,"Image");class ge extends Dt{bbox(){let Gr=-1/0,Yr=-1/0,Zr=1/0,Kr=1/0;return this.forEach(function(Qr){Gr=Math.max(Qr[0],Gr),Yr=Math.max(Qr[1],Yr),Zr=Math.min(Qr[0],Zr),Kr=Math.min(Qr[1],Kr)}),new kt(Zr,Kr,Gr-Zr,Yr-Kr)}move(Gr,Yr){const Zr=this.bbox();if(Gr-=Zr.x,Yr-=Zr.y,!isNaN(Gr)&&!isNaN(Yr))for(let Kr=this.length-1;Kr>=0;Kr--)this[Kr]=[this[Kr][0]+Gr,this[Kr][1]+Yr];return this}parse(Gr=[0,0]){const Yr=[];(Gr=Gr instanceof Array?Array.prototype.concat.apply([],Gr):Gr.trim().split(dt).map(parseFloat)).length%2!=0&&Gr.pop();for(let Zr=0,Kr=Gr.length;Zr<Kr;Zr+=2)Yr.push([Gr[Zr],Gr[Zr+1]]);return Yr}size(Gr,Yr){let Zr;const Kr=this.bbox();for(Zr=this.length-1;Zr>=0;Zr--)Kr.width&&(this[Zr][0]=(this[Zr][0]-Kr.x)*Gr/Kr.width+Kr.x),Kr.height&&(this[Zr][1]=(this[Zr][1]-Kr.y)*Yr/Kr.height+Kr.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const Gr=[];for(let Yr=0,Zr=this.length;Yr<Zr;Yr++)Gr.push(this[Yr].join(","));return Gr.join(" ")}transform(Gr){return this.clone().transformO(Gr)}transformO(Gr){vt.isMatrixLike(Gr)||(Gr=new vt(Gr));for(let Yr=this.length;Yr--;){const[Zr,Kr]=this[Yr];this[Yr][0]=Gr.a*Zr+Gr.c*Kr+Gr.e,this[Yr][1]=Gr.b*Zr+Gr.d*Kr+Gr.f}return this}}const pe=ge;var fe=Object.freeze({__proto__:null,MorphArray:pe,height:function(Wr){const Gr=this.bbox();return Wr==null?Gr.height:this.size(Gr.width,Wr)},width:function(Wr){const Gr=this.bbox();return Wr==null?Gr.width:this.size(Wr,Gr.height)},x:function(Wr){return Wr==null?this.bbox().x:this.move(Wr,this.bbox().y)},y:function(Wr){return Wr==null?this.bbox().y:this.move(this.bbox().x,Wr)}});let xe=class extends qt{constructor(Wr,Gr=Wr){super(G("line",Wr),Gr)}array(){return new ge([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(Wr,Gr){return this.attr(this.array().move(Wr,Gr).toLine())}plot(Wr,Gr,Yr,Zr){return Wr==null?this.array():(Wr=Gr!==void 0?{x1:Wr,y1:Gr,x2:Yr,y2:Zr}:new ge(Wr).toLine(),this.attr(Wr))}size(Wr,Gr){const Yr=I(this,Wr,Gr);return this.attr(this.array().size(Yr.width,Yr.height).toLine())}};Q(xe,fe),A({Container:{line:K(function(...Wr){return xe.prototype.plot.apply(this.put(new xe),Wr[0]!=null?Wr:[0,0,0,0])})}}),q(xe,"Line");let be=class extends Vt{constructor(Wr,Gr=Wr){super(G("marker",Wr),Gr)}height(Wr){return this.attr("markerHeight",Wr)}orient(Wr){return this.attr("orient",Wr)}ref(Wr,Gr){return this.attr("refX",Wr).attr("refY",Gr)}toString(){return"url(#"+this.id()+")"}update(Wr){return this.clear(),typeof Wr=="function"&&Wr.call(this,this),this}width(Wr){return this.attr("markerWidth",Wr)}};function me(Wr,Gr){return function(Yr){return Yr==null?this[Wr]:(this[Wr]=Yr,Gr&&Gr.call(this),this)}}A({Container:{marker(...Wr){return this.defs().marker(...Wr)}},Defs:{marker:K(function(Wr,Gr,Yr){return this.put(new be).size(Wr,Gr).ref(Wr/2,Gr/2).viewbox(0,0,Wr,Gr).attr("orient","auto").update(Yr)})},marker:{marker(Wr,Gr,Yr,Zr){let Kr=["marker"];return Wr!=="all"&&Kr.push(Wr),Kr=Kr.join("-"),Wr=arguments[1]instanceof be?arguments[1]:this.defs().marker(Gr,Yr,Zr),this.attr(Kr,Wr)}}}),q(be,"Marker");const ve={"-":function(Wr){return Wr},"<>":function(Wr){return-Math.cos(Wr*Math.PI)/2+.5},">":function(Wr){return Math.sin(Wr*Math.PI/2)},"<":function(Wr){return 1-Math.cos(Wr*Math.PI/2)},bezier:function(Wr,Gr,Yr,Zr){return function(Kr){return Kr<0?Wr>0?Gr/Wr*Kr:Yr>0?Zr/Yr*Kr:0:Kr>1?Yr<1?(1-Zr)/(1-Yr)*Kr+(Zr-Yr)/(1-Yr):Wr<1?(1-Gr)/(1-Wr)*Kr+(Gr-Wr)/(1-Wr):1:3*Kr*(1-Kr)**2*Gr+3*Kr**2*(1-Kr)*Zr+Kr**3}},steps:function(Wr,Gr="end"){Gr=Gr.split("-").reverse()[0];let Yr=Wr;return Gr==="none"?--Yr:Gr==="both"&&++Yr,(Zr,Kr=!1)=>{let Qr=Math.floor(Zr*Wr);const Jr=Zr*Qr%1==0;return Gr!=="start"&&Gr!=="both"||++Qr,Kr&&Jr&&--Qr,Zr>=0&&Qr<0&&(Qr=0),Zr<=1&&Qr>Yr&&(Qr=Yr),Qr/Yr}}};class ye{done(){return!1}}class we extends ye{constructor(Gr=Ht){super(),this.ease=ve[Gr]||Gr}step(Gr,Yr,Zr){return typeof Gr!="number"?Zr<1?Gr:Yr:Gr+(Yr-Gr)*this.ease(Zr)}}class ke extends ye{constructor(Gr){super(),this.stepper=Gr}done(Gr){return Gr.done}step(Gr,Yr,Zr,Kr){return this.stepper(Gr,Yr,Zr,Kr)}}function Ae(){const Wr=(this._duration||500)/1e3,Gr=this._overshoot||0,Yr=Math.PI,Zr=Math.log(Gr/100+1e-10),Kr=-Zr/Math.sqrt(Yr*Yr+Zr*Zr),Qr=3.9/(Kr*Wr);this.d=2*Kr*Qr,this.k=Qr*Qr}Q(class extends ke{constructor(Wr=500,Gr=0){super(),this.duration(Wr).overshoot(Gr)}step(Wr,Gr,Yr,Zr){if(typeof Wr=="string")return Wr;if(Zr.done=Yr===1/0,Yr===1/0)return Gr;if(Yr===0)return Wr;Yr>100&&(Yr=16),Yr/=1e3;const Kr=Zr.velocity||0,Qr=-this.d*Kr-this.k*(Wr-Gr),Jr=Wr+Kr*Yr+Qr*Yr*Yr/2;return Zr.velocity=Kr+Qr*Yr,Zr.done=Math.abs(Gr-Jr)+Math.abs(Kr)<.002,Zr.done?Gr:Jr}},{duration:me("_duration",Ae),overshoot:me("_overshoot",Ae)});Q(class extends ke{constructor(Wr=.1,Gr=.01,Yr=0,Zr=1e3){super(),this.p(Wr).i(Gr).d(Yr).windup(Zr)}step(Wr,Gr,Yr,Zr){if(typeof Wr=="string")return Wr;if(Zr.done=Yr===1/0,Yr===1/0)return Gr;if(Yr===0)return Wr;const Kr=Gr-Wr;let Qr=(Zr.integral||0)+Kr*Yr;const Jr=(Kr-(Zr.error||0))/Yr,en=this._windup;return en!==!1&&(Qr=Math.max(-en,Math.min(Qr,en))),Zr.error=Kr,Zr.integral=Qr,Zr.done=Math.abs(Kr)<.001,Zr.done?Gr:Wr+(this.P*Kr+this.I*Qr+this.D*Jr)}},{windup:me("_windup"),p:me("P"),i:me("I"),d:me("D")});const Ce={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Se={M:function(Wr,Gr,Yr){return Gr.x=Yr.x=Wr[0],Gr.y=Yr.y=Wr[1],["M",Gr.x,Gr.y]},L:function(Wr,Gr){return Gr.x=Wr[0],Gr.y=Wr[1],["L",Wr[0],Wr[1]]},H:function(Wr,Gr){return Gr.x=Wr[0],["H",Wr[0]]},V:function(Wr,Gr){return Gr.y=Wr[0],["V",Wr[0]]},C:function(Wr,Gr){return Gr.x=Wr[4],Gr.y=Wr[5],["C",Wr[0],Wr[1],Wr[2],Wr[3],Wr[4],Wr[5]]},S:function(Wr,Gr){return Gr.x=Wr[2],Gr.y=Wr[3],["S",Wr[0],Wr[1],Wr[2],Wr[3]]},Q:function(Wr,Gr){return Gr.x=Wr[2],Gr.y=Wr[3],["Q",Wr[0],Wr[1],Wr[2],Wr[3]]},T:function(Wr,Gr){return Gr.x=Wr[0],Gr.y=Wr[1],["T",Wr[0],Wr[1]]},Z:function(Wr,Gr,Yr){return Gr.x=Yr.x,Gr.y=Yr.y,["Z"]},A:function(Wr,Gr){return Gr.x=Wr[5],Gr.y=Wr[6],["A",Wr[0],Wr[1],Wr[2],Wr[3],Wr[4],Wr[5],Wr[6]]}},Le="mlhvqtcsaz".split("");for(let Wr=0,Gr=Le.length;Wr<Gr;++Wr)Se[Le[Wr]]=function(Yr){return function(Zr,Kr,Qr){if(Yr==="H")Zr[0]=Zr[0]+Kr.x;else if(Yr==="V")Zr[0]=Zr[0]+Kr.y;else if(Yr==="A")Zr[5]=Zr[5]+Kr.x,Zr[6]=Zr[6]+Kr.y;else for(let Jr=0,en=Zr.length;Jr<en;++Jr)Zr[Jr]=Zr[Jr]+(Jr%2?Kr.y:Kr.x);return Se[Yr](Zr,Kr,Qr)}}(Le[Wr].toUpperCase());function Me(Wr){return Wr.segment.length&&Wr.segment.length-1===Ce[Wr.segment[0].toUpperCase()]}function Pe(Wr,Gr){Wr.inNumber&&Ie(Wr,!1);const Yr=ut.test(Gr);if(Yr)Wr.segment=[Gr];else{const Zr=Wr.lastCommand,Kr=Zr.toLowerCase(),Qr=Zr===Kr;Wr.segment=[Kr==="m"?Qr?"l":"L":Zr]}return Wr.inSegment=!0,Wr.lastCommand=Wr.segment[0],Yr}function Ie(Wr,Gr){if(!Wr.inNumber)throw new Error("Parser Error");Wr.number&&Wr.segment.push(parseFloat(Wr.number)),Wr.inNumber=Gr,Wr.number="",Wr.pointSeen=!1,Wr.hasExponent=!1,Me(Wr)&&Te(Wr)}function Te(Wr){Wr.inSegment=!1,Wr.absolute&&(Wr.segment=function(Gr){const Yr=Gr.segment[0];return Se[Yr](Gr.segment.slice(1),Gr.p,Gr.p0)}(Wr)),Wr.segments.push(Wr.segment)}function ze(Wr){if(!Wr.segment.length)return!1;const Gr=Wr.segment[0].toUpperCase()==="A",Yr=Wr.segment.length;return Gr&&(Yr===4||Yr===5)}function Xe(Wr){return Wr.lastToken.toUpperCase()==="E"}const Re=new Set([" ",",","	",`
`,"\r","\f"]);class Ee extends Dt{bbox(){return yt().path.setAttribute("d",this.toString()),new kt(yt.nodes.path.getBBox())}move(Gr,Yr){const Zr=this.bbox();if(Gr-=Zr.x,Yr-=Zr.y,!isNaN(Gr)&&!isNaN(Yr))for(let Kr,Qr=this.length-1;Qr>=0;Qr--)Kr=this[Qr][0],Kr==="M"||Kr==="L"||Kr==="T"?(this[Qr][1]+=Gr,this[Qr][2]+=Yr):Kr==="H"?this[Qr][1]+=Gr:Kr==="V"?this[Qr][1]+=Yr:Kr==="C"||Kr==="S"||Kr==="Q"?(this[Qr][1]+=Gr,this[Qr][2]+=Yr,this[Qr][3]+=Gr,this[Qr][4]+=Yr,Kr==="C"&&(this[Qr][5]+=Gr,this[Qr][6]+=Yr)):Kr==="A"&&(this[Qr][6]+=Gr,this[Qr][7]+=Yr);return this}parse(Gr="M0 0"){return Array.isArray(Gr)&&(Gr=Array.prototype.concat.apply([],Gr).toString()),function(Yr,Zr=!0){let Kr=0,Qr="";const Jr={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:Zr,p0:new bt,p:new bt};for(;Jr.lastToken=Qr,Qr=Yr.charAt(Kr++);)if(Jr.inSegment||!Pe(Jr,Qr))if(Qr!==".")if(isNaN(parseInt(Qr)))if(Re.has(Qr))Jr.inNumber&&Ie(Jr,!1);else if(Qr!=="-"&&Qr!=="+")if(Qr.toUpperCase()!=="E"){if(ut.test(Qr)){if(Jr.inNumber)Ie(Jr,!1);else{if(!Me(Jr))throw new Error("parser Error");Te(Jr)}--Kr}}else Jr.number+=Qr,Jr.hasExponent=!0;else{if(Jr.inNumber&&!Xe(Jr)){Ie(Jr,!1),--Kr;continue}Jr.number+=Qr,Jr.inNumber=!0}else{if(Jr.number==="0"||ze(Jr)){Jr.inNumber=!0,Jr.number=Qr,Ie(Jr,!0);continue}Jr.inNumber=!0,Jr.number+=Qr}else{if(Jr.pointSeen||Jr.hasExponent){Ie(Jr,!1),--Kr;continue}Jr.inNumber=!0,Jr.pointSeen=!0,Jr.number+=Qr}return Jr.inNumber&&Ie(Jr,!1),Jr.inSegment&&Me(Jr)&&Te(Jr),Jr.segments}(Gr)}size(Gr,Yr){const Zr=this.bbox();let Kr,Qr;for(Zr.width=Zr.width===0?1:Zr.width,Zr.height=Zr.height===0?1:Zr.height,Kr=this.length-1;Kr>=0;Kr--)Qr=this[Kr][0],Qr==="M"||Qr==="L"||Qr==="T"?(this[Kr][1]=(this[Kr][1]-Zr.x)*Gr/Zr.width+Zr.x,this[Kr][2]=(this[Kr][2]-Zr.y)*Yr/Zr.height+Zr.y):Qr==="H"?this[Kr][1]=(this[Kr][1]-Zr.x)*Gr/Zr.width+Zr.x:Qr==="V"?this[Kr][1]=(this[Kr][1]-Zr.y)*Yr/Zr.height+Zr.y:Qr==="C"||Qr==="S"||Qr==="Q"?(this[Kr][1]=(this[Kr][1]-Zr.x)*Gr/Zr.width+Zr.x,this[Kr][2]=(this[Kr][2]-Zr.y)*Yr/Zr.height+Zr.y,this[Kr][3]=(this[Kr][3]-Zr.x)*Gr/Zr.width+Zr.x,this[Kr][4]=(this[Kr][4]-Zr.y)*Yr/Zr.height+Zr.y,Qr==="C"&&(this[Kr][5]=(this[Kr][5]-Zr.x)*Gr/Zr.width+Zr.x,this[Kr][6]=(this[Kr][6]-Zr.y)*Yr/Zr.height+Zr.y)):Qr==="A"&&(this[Kr][1]=this[Kr][1]*Gr/Zr.width,this[Kr][2]=this[Kr][2]*Yr/Zr.height,this[Kr][6]=(this[Kr][6]-Zr.x)*Gr/Zr.width+Zr.x,this[Kr][7]=(this[Kr][7]-Zr.y)*Yr/Zr.height+Zr.y);return this}toString(){return function(Gr){let Yr="";for(let Zr=0,Kr=Gr.length;Zr<Kr;Zr++)Yr+=Gr[Zr][0],Gr[Zr][1]!=null&&(Yr+=Gr[Zr][1],Gr[Zr][2]!=null&&(Yr+=" ",Yr+=Gr[Zr][2],Gr[Zr][3]!=null&&(Yr+=" ",Yr+=Gr[Zr][3],Yr+=" ",Yr+=Gr[Zr][4],Gr[Zr][5]!=null&&(Yr+=" ",Yr+=Gr[Zr][5],Yr+=" ",Yr+=Gr[Zr][6],Gr[Zr][7]!=null&&(Yr+=" ",Yr+=Gr[Zr][7])))));return Yr+" "}(this)}}const Ye=Wr=>{const Gr=typeof Wr;return Gr==="number"?_t:Gr==="string"?xt.isColor(Wr)?xt:dt.test(Wr)?ut.test(Wr)?Ee:Dt:tt.test(Wr)?_t:Oe:Ne.indexOf(Wr.constructor)>-1?Wr.constructor:Array.isArray(Wr)?Dt:Gr==="object"?_e:Oe};class He{constructor(Gr){this._stepper=Gr||new we("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(Gr){return this._morphObj.morph(this._from,this._to,Gr,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(Gr,Yr){return Gr&&Yr},!0)}from(Gr){return Gr==null?this._from:(this._from=this._set(Gr),this)}stepper(Gr){return Gr==null?this._stepper:(this._stepper=Gr,this)}to(Gr){return Gr==null?this._to:(this._to=this._set(Gr),this)}type(Gr){return Gr==null?this._type:(this._type=Gr,this)}_set(Gr){this._type||this.type(Ye(Gr));let Yr=new this._type(Gr);return this._type===xt&&(Yr=this._to?Yr[this._to[4]]():this._from?Yr[this._from[4]]():Yr),this._type===_e&&(Yr=this._to?Yr.align(this._to):this._from?Yr.align(this._from):Yr),Yr=Yr.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(Yr.length)).map(Object).map(function(Zr){return Zr.done=!0,Zr}),Yr}}class Oe{constructor(...Gr){this.init(...Gr)}init(Gr){return Gr=Array.isArray(Gr)?Gr[0]:Gr,this.value=Gr,this}toArray(){return[this.value]}valueOf(){return this.value}}class Fe{constructor(...Gr){this.init(...Gr)}init(Gr){return Array.isArray(Gr)&&(Gr={scaleX:Gr[0],scaleY:Gr[1],shear:Gr[2],rotate:Gr[3],translateX:Gr[4],translateY:Gr[5],originX:Gr[6],originY:Gr[7]}),Object.assign(this,Fe.defaults,Gr),this}toArray(){const Gr=this;return[Gr.scaleX,Gr.scaleY,Gr.shear,Gr.rotate,Gr.translateX,Gr.translateY,Gr.originX,Gr.originY]}}Fe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const De=(Wr,Gr)=>Wr[0]<Gr[0]?-1:Wr[0]>Gr[0]?1:0;class _e{constructor(...Gr){this.init(...Gr)}align(Gr){const Yr=this.values;for(let Zr=0,Kr=Yr.length;Zr<Kr;++Zr){if(Yr[Zr+1]===Gr[Zr+1]){if(Yr[Zr+1]===xt&&Gr[Zr+7]!==Yr[Zr+7]){const en=Gr[Zr+7],tn=new xt(this.values.splice(Zr+3,5))[en]().toArray();this.values.splice(Zr+3,0,...tn)}Zr+=Yr[Zr+2]+2;continue}if(!Gr[Zr+1])return this;const Qr=new Gr[Zr+1]().toArray(),Jr=Yr[Zr+2]+3;Yr.splice(Zr,Jr,Gr[Zr],Gr[Zr+1],Gr[Zr+2],...Qr),Zr+=Yr[Zr+2]+2}return this}init(Gr){if(this.values=[],Array.isArray(Gr))return void(this.values=Gr.slice());Gr=Gr||{};const Yr=[];for(const Zr in Gr){const Kr=Ye(Gr[Zr]),Qr=new Kr(Gr[Zr]).toArray();Yr.push([Zr,Kr,Qr.length,...Qr])}return Yr.sort(De),this.values=Yr.reduce((Zr,Kr)=>Zr.concat(Kr),[]),this}toArray(){return this.values}valueOf(){const Gr={},Yr=this.values;for(;Yr.length;){const Zr=Yr.shift(),Kr=Yr.shift(),Qr=Yr.shift(),Jr=Yr.splice(0,Qr);Gr[Zr]=new Kr(Jr)}return Gr}}const Ne=[Oe,Fe,_e];class We extends qt{constructor(Gr,Yr=Gr){super(G("path",Gr),Yr)}array(){return this._array||(this._array=new Ee(this.attr("d")))}clear(){return delete this._array,this}height(Gr){return Gr==null?this.bbox().height:this.size(this.bbox().width,Gr)}move(Gr,Yr){return this.attr("d",this.array().move(Gr,Yr))}plot(Gr){return Gr==null?this.array():this.clear().attr("d",typeof Gr=="string"?Gr:this._array=new Ee(Gr))}size(Gr,Yr){const Zr=I(this,Gr,Yr);return this.attr("d",this.array().size(Zr.width,Zr.height))}width(Gr){return Gr==null?this.bbox().width:this.size(Gr,this.bbox().height)}x(Gr){return Gr==null?this.bbox().x:this.move(Gr,this.bbox().y)}y(Gr){return Gr==null?this.bbox().y:this.move(this.bbox().x,Gr)}}We.prototype.MorphArray=Ee,A({Container:{path:K(function(Wr){return this.put(new We).plot(Wr||new Ee)})}}),q(We,"Path");var Be=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ge(this.attr("points")))},clear:function(){return delete this._array,this},move:function(Wr,Gr){return this.attr("points",this.array().move(Wr,Gr))},plot:function(Wr){return Wr==null?this.array():this.clear().attr("points",typeof Wr=="string"?Wr:this._array=new ge(Wr))},size:function(Wr,Gr){const Yr=I(this,Wr,Gr);return this.attr("points",this.array().size(Yr.width,Yr.height))}});class Ge extends qt{constructor(Gr,Yr=Gr){super(G("polygon",Gr),Yr)}}A({Container:{polygon:K(function(Wr){return this.put(new Ge).plot(Wr||new ge)})}}),Q(Ge,fe),Q(Ge,Be),q(Ge,"Polygon");class je extends qt{constructor(Gr,Yr=Gr){super(G("polyline",Gr),Yr)}}A({Container:{polyline:K(function(Wr){return this.put(new je).plot(Wr||new ge)})}}),Q(je,fe),Q(je,Be),q(je,"Polyline");class Ve extends qt{constructor(Gr,Yr=Gr){super(G("rect",Gr),Yr)}}Q(Ve,{rx:Zt,ry:$t}),A({Container:{rect:K(function(Wr,Gr){return this.put(new Ve).size(Wr,Gr)})}}),q(Ve,"Rect");class Ue{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(Gr){const Yr=Gr.next!==void 0?Gr:{value:Gr,next:null,prev:null};return this._last?(Yr.prev=this._last,this._last.next=Yr,this._last=Yr):(this._last=Yr,this._first=Yr),Yr}remove(Gr){Gr.prev&&(Gr.prev.next=Gr.next),Gr.next&&(Gr.next.prev=Gr.prev),Gr===this._last&&(this._last=Gr.prev),Gr===this._first&&(this._first=Gr.next),Gr.prev=null,Gr.next=null}shift(){const Gr=this._first;return Gr?(this._first=Gr.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,Gr.value):null}}const qe={nextDraw:null,frames:new Ue,timeouts:new Ue,immediates:new Ue,timer:()=>O.window.performance||O.window.Date,transforms:[],frame(Wr){const Gr=qe.frames.push({run:Wr});return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),Gr},timeout(Wr,Gr){Gr=Gr||0;const Yr=qe.timer().now()+Gr,Zr=qe.timeouts.push({run:Wr,time:Yr});return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),Zr},immediate(Wr){const Gr=qe.immediates.push(Wr);return qe.nextDraw===null&&(qe.nextDraw=O.window.requestAnimationFrame(qe._draw)),Gr},cancelFrame(Wr){Wr!=null&&qe.frames.remove(Wr)},clearTimeout(Wr){Wr!=null&&qe.timeouts.remove(Wr)},cancelImmediate(Wr){Wr!=null&&qe.immediates.remove(Wr)},_draw(Wr){let Gr=null;const Yr=qe.timeouts.last();for(;(Gr=qe.timeouts.shift())&&(Wr>=Gr.time?Gr.run():qe.timeouts.push(Gr),Gr!==Yr););let Zr=null;const Kr=qe.frames.last();for(;Zr!==Kr&&(Zr=qe.frames.shift());)Zr.run(Wr);let Qr=null;for(;Qr=qe.immediates.shift();)Qr();qe.nextDraw=qe.timeouts.first()||qe.frames.first()?O.window.requestAnimationFrame(qe._draw):null}},Ze=function(Wr){const Gr=Wr.start,Yr=Wr.runner.duration();return{start:Gr,duration:Yr,end:Gr+Yr,runner:Wr.runner}},$e=function(){const Wr=O.window;return(Wr.performance||Wr.Date).now()};class Je extends Rt{constructor(Gr=$e){super(),this._timeSource=Gr,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const Gr=this.getLastRunnerInfo(),Yr=Gr?Gr.runner.duration():0;return(Gr?Gr.start:this._time)+Yr}getEndTimeOfTimeline(){const Gr=this._runners.map(Yr=>Yr.start+Yr.runner.duration());return Math.max(0,...Gr)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(Gr){return this._runners[this._runnerIds.indexOf(Gr)]||null}pause(){return this._paused=!0,this._continue()}persist(Gr){return Gr==null?this._persist:(this._persist=Gr,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(Gr){const Yr=this.speed();if(Gr==null)return this.speed(-Yr);const Zr=Math.abs(Yr);return this.speed(Gr?-Zr:Zr)}schedule(Gr,Yr,Zr){if(Gr==null)return this._runners.map(Ze);let Kr=0;const Qr=this.getEndTime();if(Yr=Yr||0,Zr==null||Zr==="last"||Zr==="after")Kr=Qr;else if(Zr==="absolute"||Zr==="start")Kr=Yr,Yr=0;else if(Zr==="now")Kr=this._time;else if(Zr==="relative"){const tn=this.getRunnerInfoById(Gr.id);tn&&(Kr=tn.start+Yr,Yr=0)}else{if(Zr!=="with-last")throw new Error('Invalid value for the "when" parameter');{const tn=this.getLastRunnerInfo();Kr=tn?tn.start:this._time}}Gr.unschedule(),Gr.timeline(this);const Jr=Gr.persist(),en={persist:Jr===null?this._persist:Jr,start:Kr+Yr,runner:Gr};return this._lastRunnerId=Gr.id,this._runners.push(en),this._runners.sort((tn,rn)=>tn.start-rn.start),this._runnerIds=this._runners.map(tn=>tn.runner.id),this.updateTime()._continue(),this}seek(Gr){return this.time(this._time+Gr)}source(Gr){return Gr==null?this._timeSource:(this._timeSource=Gr,this)}speed(Gr){return Gr==null?this._speed:(this._speed=Gr,this)}stop(){return this.time(0),this.pause()}time(Gr){return Gr==null?this._time:(this._time=Gr,this._continue(!0))}unschedule(Gr){const Yr=this._runnerIds.indexOf(Gr.id);return Yr<0||(this._runners.splice(Yr,1),this._runnerIds.splice(Yr,1),Gr.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(Gr=!1){return qe.cancelFrame(this._nextFrame),this._nextFrame=null,Gr?this._stepImmediate():(this._paused||(this._nextFrame=qe.frame(this._step)),this)}_stepFn(Gr=!1){const Yr=this._timeSource();let Zr=Yr-this._lastSourceTime;Gr&&(Zr=0);const Kr=this._speed*Zr+(this._time-this._lastStepTime);this._lastSourceTime=Yr,Gr||(this._time+=Kr,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let Jr=this._runners.length;Jr--;){const en=this._runners[Jr],tn=en.runner;this._time-en.start<=0&&tn.reset()}let Qr=!1;for(let Jr=0,en=this._runners.length;Jr<en;Jr++){const tn=this._runners[Jr],rn=tn.runner;let an=Kr;const nn=this._time-tn.start;if(nn<=0){Qr=!0;continue}nn<an&&(an=nn),rn.active()&&(rn.step(an).done?tn.persist!==!0&&rn.duration()-rn.time()+this._time+tn.persist<this._time&&(rn.unschedule(),--Jr,--en):Qr=!0)}return Qr&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}A({Element:{timeline:function(Wr){return Wr==null?(this._timeline=this._timeline||new Je,this._timeline):(this._timeline=Wr,this)}}});class Qe extends Rt{constructor(Gr){super(),this.id=Qe.id++,Gr=typeof(Gr=Gr??Yt)=="function"?new ke(Gr):Gr,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof Gr=="number"&&Gr,this._isDeclarative=Gr instanceof ke,this._stepper=this._isDeclarative?Gr:new we,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new vt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(Gr,Yr,Zr){let Kr=1,Qr=!1,Jr=0;return Yr=Yr??Ot,Zr=Zr||"last",typeof(Gr=Gr??Yt)!="object"||Gr instanceof ye||(Yr=Gr.delay??Yr,Zr=Gr.when??Zr,Qr=Gr.swing||Qr,Kr=Gr.times??Kr,Jr=Gr.wait??Jr,Gr=Gr.duration??Yt),{duration:Gr,delay:Yr,swing:Qr,times:Kr,wait:Jr,when:Zr}}active(Gr){return Gr==null?this.enabled:(this.enabled=Gr,this)}addTransform(Gr){return this.transforms.lmultiplyO(Gr),this}after(Gr){return this.on("finished",Gr)}animate(Gr,Yr,Zr){const Kr=Qe.sanitise(Gr,Yr,Zr),Qr=new Qe(Kr.duration);return this._timeline&&Qr.timeline(this._timeline),this._element&&Qr.element(this._element),Qr.loop(Kr).schedule(Kr.delay,Kr.when)}clearTransform(){return this.transforms=new vt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(Gr=>!Gr.isTransform))}delay(Gr){return this.animate(0,Gr)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(Gr){return this.queue(null,Gr)}ease(Gr){return this._stepper=new we(Gr),this}element(Gr){return Gr==null?this._element:(this._element=Gr,Gr._prepareRunner(),this)}finish(){return this.step(1/0)}loop(Gr,Yr,Zr){return typeof Gr=="object"&&(Yr=Gr.swing,Zr=Gr.wait,Gr=Gr.times),this._times=Gr||1/0,this._swing=Yr||!1,this._wait=Zr||0,this._times===!0&&(this._times=1/0),this}loops(Gr){const Yr=this._duration+this._wait;if(Gr==null){const Qr=Math.floor(this._time/Yr),Jr=(this._time-Qr*Yr)/this._duration;return Math.min(Qr+Jr,this._times)}const Zr=Gr%1,Kr=Yr*Math.floor(Gr)+this._duration*Zr;return this.time(Kr)}persist(Gr){return Gr==null?this._persist:(this._persist=Gr,this)}position(Gr){const Yr=this._time,Zr=this._duration,Kr=this._wait,Qr=this._times,Jr=this._swing,en=this._reverse;let tn;if(Gr==null){const nn=function(ln){const un=Jr*Math.floor(ln%(2*(Kr+Zr))/(Kr+Zr)),cn=un&&!en||!un&&en,hn=Math.pow(-1,cn)*(ln%(Kr+Zr))/Zr+cn;return Math.max(Math.min(hn,1),0)},sn=Qr*(Kr+Zr)-Kr;return tn=Yr<=0?Math.round(nn(1e-5)):Yr<sn?nn(Yr):Math.round(nn(sn-1e-5)),tn}const rn=Math.floor(this.loops()),an=Jr&&rn%2==0;return tn=rn+(an&&!en||en&&an?Gr:1-Gr),this.loops(tn)}progress(Gr){return Gr==null?Math.min(1,this._time/this.duration()):this.time(Gr*this.duration())}queue(Gr,Yr,Zr,Kr){return this._queue.push({initialiser:Gr||Et,runner:Yr||Et,retarget:Zr,isTransform:Kr,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(Gr){return this._reverse=Gr??!this._reverse,this}schedule(Gr,Yr,Zr){if(Gr instanceof Je||(Zr=Yr,Yr=Gr,Gr=this.timeline()),!Gr)throw Error("Runner cannot be scheduled without timeline");return Gr.schedule(this,Yr,Zr),this}step(Gr){if(!this.enabled)return this;Gr=Gr??16,this._time+=Gr;const Yr=this.position(),Zr=this._lastPosition!==Yr&&this._time>=0;this._lastPosition=Yr;const Kr=this.duration(),Qr=this._lastTime<=0&&this._time>0,Jr=this._lastTime<Kr&&this._time>=Kr;this._lastTime=this._time,Qr&&this.fire("start",this);const en=this._isDeclarative;this.done=!en&&!Jr&&this._time>=Kr,this._reseted=!1;let tn=!1;return(Zr||en)&&(this._initialise(Zr),this.transforms=new vt,tn=this._run(en?Gr:Yr),this.fire("step",this)),this.done=this.done||tn&&en,Jr&&this.fire("finished",this),this}time(Gr){if(Gr==null)return this._time;const Yr=Gr-this._time;return this.step(Yr),this}timeline(Gr){return Gr===void 0?this._timeline:(this._timeline=Gr,this)}unschedule(){const Gr=this.timeline();return Gr&&Gr.unschedule(this),this}_initialise(Gr){if(Gr||this._isDeclarative)for(let Yr=0,Zr=this._queue.length;Yr<Zr;++Yr){const Kr=this._queue[Yr],Qr=this._isDeclarative||!Kr.initialised&&Gr;Gr=!Kr.finished,Qr&&Gr&&(Kr.initialiser.call(this),Kr.initialised=!0)}}_rememberMorpher(Gr,Yr){if(this._history[Gr]={morpher:Yr,caller:this._queue[this._queue.length-1]},this._isDeclarative){const Zr=this.timeline();Zr&&Zr.play()}}_run(Gr){let Yr=!0;for(let Zr=0,Kr=this._queue.length;Zr<Kr;++Zr){const Qr=this._queue[Zr],Jr=Qr.runner.call(this,Gr);Qr.finished=Qr.finished||Jr===!0,Yr=Yr&&Qr.finished}return Yr}_tryRetarget(Gr,Yr,Zr){if(this._history[Gr]){if(!this._history[Gr].caller.initialised){const Qr=this._queue.indexOf(this._history[Gr].caller);return this._queue.splice(Qr,1),!1}this._history[Gr].caller.retarget?this._history[Gr].caller.retarget.call(this,Yr,Zr):this._history[Gr].morpher.to(Yr),this._history[Gr].caller.finished=!1;const Kr=this.timeline();return Kr&&Kr.play(),!0}return!1}}Qe.id=0;class Ke{constructor(Gr=new vt,Yr=-1,Zr=!0){this.transforms=Gr,this.id=Yr,this.done=Zr}clearTransformsFromQueue(){}}Q([Qe,Ke],{mergeWith(Wr){return new Ke(Wr.transforms.lmultiply(this.transforms),Wr.id)}});const ti=(Wr,Gr)=>Wr.lmultiplyO(Gr),ei=Wr=>Wr.transforms;function ii(){const Wr=this._transformationRunners.runners.map(ei).reduce(ti,new vt);this.transform(Wr),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class ai{constructor(){this.runners=[],this.ids=[]}add(Gr){if(this.runners.includes(Gr))return;const Yr=Gr.id+1;return this.runners.push(Gr),this.ids.push(Yr),this}clearBefore(Gr){const Yr=this.ids.indexOf(Gr+1)||1;return this.ids.splice(0,Yr,0),this.runners.splice(0,Yr,new Ke).forEach(Zr=>Zr.clearTransformsFromQueue()),this}edit(Gr,Yr){const Zr=this.ids.indexOf(Gr+1);return this.ids.splice(Zr,1,Gr+1),this.runners.splice(Zr,1,Yr),this}getByID(Gr){return this.runners[this.ids.indexOf(Gr+1)]}length(){return this.ids.length}merge(){let Gr=null;for(let Yr=0;Yr<this.runners.length;++Yr){const Zr=this.runners[Yr];if(Gr&&Zr.done&&Gr.done&&(!Zr._timeline||!Zr._timeline._runnerIds.includes(Zr.id))&&(!Gr._timeline||!Gr._timeline._runnerIds.includes(Gr.id))){this.remove(Zr.id);const Kr=Zr.mergeWith(Gr);this.edit(Gr.id,Kr),Gr=Kr,--Yr}else Gr=Zr}return this}remove(Gr){const Yr=this.ids.indexOf(Gr+1);return this.ids.splice(Yr,1),this.runners.splice(Yr,1),this}}A({Element:{animate(Wr,Gr,Yr){const Zr=Qe.sanitise(Wr,Gr,Yr),Kr=this.timeline();return new Qe(Zr.duration).loop(Zr).element(this).timeline(Kr.play()).schedule(Zr.delay,Zr.when)},delay(Wr,Gr){return this.animate(0,Wr,Gr)},_clearTransformRunnersBefore(Wr){this._transformationRunners.clearBefore(Wr.id)},_currentTransform(Wr){return this._transformationRunners.runners.filter(Gr=>Gr.id<=Wr.id).map(ei).reduce(ti,new vt)},_addRunner(Wr){this._transformationRunners.add(Wr),qe.cancelImmediate(this._frameId),this._frameId=qe.immediate(ii.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new ai().add(new Ke(new vt(this))))}}});Q(Qe,{attr(Wr,Gr){return this.styleAttr("attr",Wr,Gr)},css(Wr,Gr){return this.styleAttr("css",Wr,Gr)},styleAttr(Wr,Gr,Yr){if(typeof Gr=="string")return this.styleAttr(Wr,{[Gr]:Yr});let Zr=Gr;if(this._tryRetarget(Wr,Zr))return this;let Kr=new He(this._stepper).to(Zr),Qr=Object.keys(Zr);return this.queue(function(){Kr=Kr.from(this.element()[Wr](Qr))},function(Jr){return this.element()[Wr](Kr.at(Jr).valueOf()),Kr.done()},function(Jr){const en=Object.keys(Jr),tn=(rn=Qr,en.filter(nn=>!rn.includes(nn)));var rn;if(tn.length){const nn=this.element()[Wr](tn),sn=new _e(Kr.from()).valueOf();Object.assign(sn,nn),Kr.from(sn)}const an=new _e(Kr.to()).valueOf();Object.assign(an,Jr),Kr.to(an),Qr=en,Zr=Jr}),this._rememberMorpher(Wr,Kr),this},zoom(Wr,Gr){if(this._tryRetarget("zoom",Wr,Gr))return this;let Yr=new He(this._stepper).to(new _t(Wr));return this.queue(function(){Yr=Yr.from(this.element().zoom())},function(Zr){return this.element().zoom(Yr.at(Zr),Gr),Yr.done()},function(Zr,Kr){Gr=Kr,Yr.to(Zr)}),this._rememberMorpher("zoom",Yr),this},transform(Wr,Gr,Yr){if(Gr=Wr.relative||Gr,this._isDeclarative&&!Gr&&this._tryRetarget("transform",Wr))return this;const Zr=vt.isMatrixLike(Wr);Yr=Wr.affine!=null?Wr.affine:Yr??!Zr;const Kr=new He(this._stepper).type(Yr?Fe:vt);let Qr,Jr,en,tn,rn;return this.queue(function(){Jr=Jr||this.element(),Qr=Qr||T(Wr,Jr),rn=new vt(Gr?void 0:Jr),Jr._addRunner(this),Gr||Jr._clearTransformRunnersBefore(this)},function(an){Gr||this.clearTransform();const{x:nn,y:sn}=new bt(Qr).transform(Jr._currentTransform(this));let ln=new vt({...Wr,origin:[nn,sn]}),un=this._isDeclarative&&en?en:rn;if(Yr){ln=ln.decompose(nn,sn),un=un.decompose(nn,sn);const hn=ln.rotate,dn=un.rotate,fn=[hn-360,hn,hn+360],pn=fn.map(mn=>Math.abs(mn-dn)),gn=Math.min(...pn),vn=pn.indexOf(gn);ln.rotate=fn[vn]}Gr&&(Zr||(ln.rotate=Wr.rotate||0),this._isDeclarative&&tn&&(un.rotate=tn)),Kr.from(un),Kr.to(ln);const cn=Kr.at(an);return tn=cn.rotate,en=new vt(cn),this.addTransform(en),Jr._addRunner(this),Kr.done()},function(an){(an.origin||"center").toString()!==(Wr.origin||"center").toString()&&(Qr=T(an,Jr)),Wr={...an,origin:Qr}},!0),this._isDeclarative&&this._rememberMorpher("transform",Kr),this},x(Wr){return this._queueNumber("x",Wr)},y(Wr){return this._queueNumber("y",Wr)},ax(Wr){return this._queueNumber("ax",Wr)},ay(Wr){return this._queueNumber("ay",Wr)},dx(Wr=0){return this._queueNumberDelta("x",Wr)},dy(Wr=0){return this._queueNumberDelta("y",Wr)},dmove(Wr,Gr){return this.dx(Wr).dy(Gr)},_queueNumberDelta(Wr,Gr){if(Gr=new _t(Gr),this._tryRetarget(Wr,Gr))return this;const Yr=new He(this._stepper).to(Gr);let Zr=null;return this.queue(function(){Zr=this.element()[Wr](),Yr.from(Zr),Yr.to(Zr+Gr)},function(Kr){return this.element()[Wr](Yr.at(Kr)),Yr.done()},function(Kr){Yr.to(Zr+new _t(Kr))}),this._rememberMorpher(Wr,Yr),this},_queueObject(Wr,Gr){if(this._tryRetarget(Wr,Gr))return this;const Yr=new He(this._stepper).to(Gr);return this.queue(function(){Yr.from(this.element()[Wr]())},function(Zr){return this.element()[Wr](Yr.at(Zr)),Yr.done()}),this._rememberMorpher(Wr,Yr),this},_queueNumber(Wr,Gr){return this._queueObject(Wr,new _t(Gr))},cx(Wr){return this._queueNumber("cx",Wr)},cy(Wr){return this._queueNumber("cy",Wr)},move(Wr,Gr){return this.x(Wr).y(Gr)},amove(Wr,Gr){return this.ax(Wr).ay(Gr)},center(Wr,Gr){return this.cx(Wr).cy(Gr)},size(Wr,Gr){let Yr;return Wr&&Gr||(Yr=this._element.bbox()),Wr||(Wr=Yr.width/Yr.height*Gr),Gr||(Gr=Yr.height/Yr.width*Wr),this.width(Wr).height(Gr)},width(Wr){return this._queueNumber("width",Wr)},height(Wr){return this._queueNumber("height",Wr)},plot(Wr,Gr,Yr,Zr){if(arguments.length===4)return this.plot([Wr,Gr,Yr,Zr]);if(this._tryRetarget("plot",Wr))return this;const Kr=new He(this._stepper).type(this._element.MorphArray).to(Wr);return this.queue(function(){Kr.from(this._element.array())},function(Qr){return this._element.plot(Kr.at(Qr)),Kr.done()}),this._rememberMorpher("plot",Kr),this},leading(Wr){return this._queueNumber("leading",Wr)},viewbox(Wr,Gr,Yr,Zr){return this._queueObject("viewbox",new kt(Wr,Gr,Yr,Zr))},update(Wr){return typeof Wr!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(Wr.opacity!=null&&this.attr("stop-opacity",Wr.opacity),Wr.color!=null&&this.attr("stop-color",Wr.color),Wr.offset!=null&&this.attr("offset",Wr.offset),this)}}),Q(Qe,{rx:Zt,ry:$t,from:ne,to:oe}),q(Qe,"Runner");class si extends Vt{constructor(Gr,Yr=Gr){super(G("svg",Gr),Yr),this.namespace()}defs(){return this.isRoot()?V(this.node.querySelector("defs"))||this.put(new Ut):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof O.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:E,version:"1.1"}).attr("xmlns:xlink",H,Y):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Y).attr("xmlns:svgjs",null,Y)}root(){return this.isRoot()?this:super.root()}}A({Container:{nested:K(function(){return this.put(new si)})}}),q(si,"Svg",!0);let ri=class extends Vt{constructor(Wr,Gr=Wr){super(G("symbol",Wr),Gr)}};A({Container:{symbol:K(function(){return this.put(new ri)})}}),q(ri,"Symbol");var ni=Object.freeze({__proto__:null,amove:function(Wr,Gr){return this.ax(Wr).ay(Gr)},ax:function(Wr){return this.attr("x",Wr)},ay:function(Wr){return this.attr("y",Wr)},build:function(Wr){return this._build=!!Wr,this},center:function(Wr,Gr,Yr=this.bbox()){return this.cx(Wr,Yr).cy(Gr,Yr)},cx:function(Wr,Gr=this.bbox()){return Wr==null?Gr.cx:this.attr("x",this.attr("x")+Wr-Gr.cx)},cy:function(Wr,Gr=this.bbox()){return Wr==null?Gr.cy:this.attr("y",this.attr("y")+Wr-Gr.cy)},length:function(){return this.node.getComputedTextLength()},move:function(Wr,Gr,Yr=this.bbox()){return this.x(Wr,Yr).y(Gr,Yr)},plain:function(Wr){return this._build===!1&&this.clear(),this.node.appendChild(O.document.createTextNode(Wr)),this},x:function(Wr,Gr=this.bbox()){return Wr==null?Gr.x:this.attr("x",this.attr("x")+Wr-Gr.x)},y:function(Wr,Gr=this.bbox()){return Wr==null?Gr.y:this.attr("y",this.attr("y")+Wr-Gr.y)}});class oi extends qt{constructor(Gr,Yr=Gr){super(G("text",Gr),Yr),this.dom.leading=this.dom.leading??new _t(1.3),this._rebuild=!0,this._build=!1}leading(Gr){return Gr==null?this.dom.leading:(this.dom.leading=new _t(Gr),this.rebuild())}rebuild(Gr){if(typeof Gr=="boolean"&&(this._rebuild=Gr),this._rebuild){const Yr=this;let Zr=0;const Kr=this.dom.leading;this.each(function(Qr){if(X(this.node))return;const Jr=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),en=Kr*new _t(Jr);this.dom.newLined&&(this.attr("x",Yr.attr("x")),this.text()===`
`?Zr+=en:(this.attr("dy",Qr?en+Zr:0),Zr=0))}),this.fire("rebuild")}return this}setData(Gr){return this.dom=Gr,this.dom.leading=new _t(Gr.leading||1.3),this}writeDataToDom(){return R(this,this.dom,{leading:1.3}),this}text(Gr){if(Gr===void 0){const Yr=this.node.childNodes;let Zr=0;Gr="";for(let Kr=0,Qr=Yr.length;Kr<Qr;++Kr)Yr[Kr].nodeName==="textPath"||X(Yr[Kr])?Kr===0&&(Zr=Kr+1):(Kr!==Zr&&Yr[Kr].nodeType!==3&&V(Yr[Kr]).dom.newLined===!0&&(Gr+=`
`),Gr+=Yr[Kr].textContent);return Gr}if(this.clear().build(!0),typeof Gr=="function")Gr.call(this,this);else for(let Yr=0,Zr=(Gr=(Gr+"").split(`
`)).length;Yr<Zr;Yr++)this.newLine(Gr[Yr]);return this.build(!1).rebuild()}}Q(oi,ni),A({Container:{text:K(function(Wr=""){return this.put(new oi).text(Wr)}),plain:K(function(Wr=""){return this.put(new oi).plain(Wr)})}}),q(oi,"Text");class li extends qt{constructor(Gr,Yr=Gr){super(G("tspan",Gr),Yr),this._build=!1}dx(Gr){return this.attr("dx",Gr)}dy(Gr){return this.attr("dy",Gr)}newLine(){this.dom.newLined=!0;const Gr=this.parent();if(!(Gr instanceof oi))return this;const Yr=Gr.index(this),Zr=O.window.getComputedStyle(this.node).getPropertyValue("font-size"),Kr=Gr.dom.leading*new _t(Zr);return this.dy(Yr?Kr:0).attr("x",Gr.x())}text(Gr){return Gr==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof Gr=="function"?(this.clear().build(!0),Gr.call(this,this),this.build(!1)):this.plain(Gr),this)}}Q(li,ni),A({Tspan:{tspan:K(function(Wr=""){const Gr=new li;return this._build||this.clear(),this.put(Gr).text(Wr)})},Text:{newLine:function(Wr=""){return this.tspan(Wr).newLine()}}}),q(li,"Tspan");class hi extends qt{constructor(Gr,Yr=Gr){super(G("circle",Gr),Yr)}radius(Gr){return this.attr("r",Gr)}rx(Gr){return this.attr("r",Gr)}ry(Gr){return this.rx(Gr)}size(Gr){return this.radius(new _t(Gr).divide(2))}}Q(hi,{x:Jt,y:Qt,cx:Kt,cy:te,width:ee,height:ie}),A({Container:{circle:K(function(Wr=0){return this.put(new hi).size(Wr).move(0,0)})}}),q(hi,"Circle");class ci extends Vt{constructor(Gr,Yr=Gr){super(G("clipPath",Gr),Yr)}remove(){return this.targets().forEach(function(Gr){Gr.unclip()}),super.remove()}targets(){return Lt("svg [clip-path*="+this.id()+"]")}}A({Container:{clip:K(function(){return this.defs().put(new ci)})},Element:{clipper(){return this.reference("clip-path")},clipWith(Wr){const Gr=Wr instanceof ci?Wr:this.parent().clip().add(Wr);return this.attr("clip-path","url(#"+Gr.id()+")")},unclip(){return this.attr("clip-path",null)}}}),q(ci,"ClipPath");class di extends Gt{constructor(Gr,Yr=Gr){super(G("foreignObject",Gr),Yr)}}A({Container:{foreignObject:K(function(Wr,Gr){return this.put(new di).size(Wr,Gr)})}}),q(di,"ForeignObject");var ui=Object.freeze({__proto__:null,dmove:function(Wr,Gr){return this.children().forEach(Yr=>{let Zr;try{Zr=Yr.node instanceof F().SVGSVGElement?new kt(Yr.attr(["x","y","width","height"])):Yr.bbox()}catch{return}const Kr=new vt(Yr),Qr=Kr.translate(Wr,Gr).transform(Kr.inverse()),Jr=new bt(Zr.x,Zr.y).transform(Qr);Yr.move(Jr.x,Jr.y)}),this},dx:function(Wr){return this.dmove(Wr,0)},dy:function(Wr){return this.dmove(0,Wr)},height:function(Wr,Gr=this.bbox()){return Wr==null?Gr.height:this.size(Gr.width,Wr,Gr)},move:function(Wr=0,Gr=0,Yr=this.bbox()){const Zr=Wr-Yr.x,Kr=Gr-Yr.y;return this.dmove(Zr,Kr)},size:function(Wr,Gr,Yr=this.bbox()){const Zr=I(this,Wr,Gr,Yr),Kr=Zr.width/Yr.width,Qr=Zr.height/Yr.height;return this.children().forEach(Jr=>{const en=new bt(Yr).transform(new vt(Jr).inverse());Jr.scale(Kr,Qr,en.x,en.y)}),this},width:function(Wr,Gr=this.bbox()){return Wr==null?Gr.width:this.size(Wr,Gr.height,Gr)},x:function(Wr,Gr=this.bbox()){return Wr==null?Gr.x:this.move(Wr,Gr.y,Gr)},y:function(Wr,Gr=this.bbox()){return Wr==null?Gr.y:this.move(Gr.x,Wr,Gr)}});class gi extends Vt{constructor(Gr,Yr=Gr){super(G("g",Gr),Yr)}}Q(gi,ui),A({Container:{group:K(function(){return this.put(new gi)})}}),q(gi,"G");class pi extends Vt{constructor(Gr,Yr=Gr){super(G("a",Gr),Yr)}target(Gr){return this.attr("target",Gr)}to(Gr){return this.attr("href",Gr,H)}}Q(pi,ui),A({Container:{link:K(function(Wr){return this.put(new pi).to(Wr)})},Element:{unlink(){const Wr=this.linker();if(!Wr)return this;const Gr=Wr.parent();if(!Gr)return this.remove();const Yr=Gr.index(Wr);return Gr.add(this,Yr),Wr.remove(),this},linkTo(Wr){let Gr=this.linker();return Gr||(Gr=new pi,this.wrap(Gr)),typeof Wr=="function"?Wr.call(Gr,Gr):Gr.to(Wr),this},linker(){const Wr=this.parent();return Wr&&Wr.node.nodeName.toLowerCase()==="a"?Wr:null}}}),q(pi,"A");class fi extends Vt{constructor(Gr,Yr=Gr){super(G("mask",Gr),Yr)}remove(){return this.targets().forEach(function(Gr){Gr.unmask()}),super.remove()}targets(){return Lt("svg [mask*="+this.id()+"]")}}A({Container:{mask:K(function(){return this.defs().put(new fi)})},Element:{masker(){return this.reference("mask")},maskWith(Wr){const Gr=Wr instanceof fi?Wr:this.parent().mask().add(Wr);return this.attr("mask","url(#"+Gr.id()+")")},unmask(){return this.attr("mask",null)}}}),q(fi,"Mask");class xi extends Gt{constructor(Gr,Yr=Gr){super(G("stop",Gr),Yr)}update(Gr){return(typeof Gr=="number"||Gr instanceof _t)&&(Gr={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),Gr.opacity!=null&&this.attr("stop-opacity",Gr.opacity),Gr.color!=null&&this.attr("stop-color",Gr.color),Gr.offset!=null&&this.attr("offset",new _t(Gr.offset)),this}}A({Gradient:{stop:function(Wr,Gr,Yr){return this.put(new xi).update(Wr,Gr,Yr)}}}),q(xi,"Stop");class bi extends Gt{constructor(Gr,Yr=Gr){super(G("style",Gr),Yr)}addText(Gr=""){return this.node.textContent+=Gr,this}font(Gr,Yr,Zr={}){return this.rule("@font-face",{fontFamily:Gr,src:Yr,...Zr})}rule(Gr,Yr){return this.addText(function(Zr,Kr){if(!Zr)return"";if(!Kr)return Zr;let Qr=Zr+"{";for(const Jr in Kr)Qr+=Jr.replace(/([A-Z])/g,function(en,tn){return"-"+tn.toLowerCase()})+":"+Kr[Jr]+";";return Qr+="}",Qr}(Gr,Yr))}}A("Dom",{style(Wr,Gr){return this.put(new bi).rule(Wr,Gr)},fontface(Wr,Gr,Yr){return this.put(new bi).font(Wr,Gr,Yr)}}),q(bi,"Style");class mi extends oi{constructor(Gr,Yr=Gr){super(G("textPath",Gr),Yr)}array(){const Gr=this.track();return Gr?Gr.array():null}plot(Gr){const Yr=this.track();let Zr=null;return Yr&&(Zr=Yr.plot(Gr)),Gr==null?Zr:this}track(){return this.reference("href")}}A({Container:{textPath:K(function(Wr,Gr){return Wr instanceof oi||(Wr=this.text(Wr)),Wr.path(Gr)})},Text:{path:K(function(Wr,Gr=!0){const Yr=new mi;let Zr;if(Wr instanceof We||(Wr=this.defs().path(Wr)),Yr.attr("href","#"+Wr,H),Gr)for(;Zr=this.node.firstChild;)Yr.node.appendChild(Zr);return this.put(Yr)}),textPath(){return this.findOne("textPath")}},Path:{text:K(function(Wr){return Wr instanceof oi||(Wr=new oi().addTo(this.parent()).text(Wr)),Wr.path(this)}),targets(){return Lt("svg textPath").filter(Wr=>(Wr.attr("href")||"").includes(this.id()))}}}),mi.prototype.MorphArray=Ee,q(mi,"TextPath");class vi extends qt{constructor(Gr,Yr=Gr){super(G("use",Gr),Yr)}use(Gr,Yr){return this.attr("href",(Yr||"")+"#"+Gr,H)}}A({Container:{use:K(function(Wr,Gr){return this.put(new vi).use(Wr,Gr)})}}),q(vi,"Use");const yi=B;Q([si,ri,de,ce,be],C("viewbox")),Q([xe,je,Ge,We],C("marker")),Q(oi,C("Text")),Q(We,C("Path")),Q(Ut,C("Defs")),Q([oi,li],C("Tspan")),Q([Ve,se,he,Qe],C("radius")),Q(Rt,C("EventTarget")),Q(Bt,C("Dom")),Q(Gt,C("Element")),Q(qt,C("Shape")),Q([Vt,re],C("Container")),Q(he,C("Gradient")),Q(Qe,C("Runner")),Ct.extend([...new Set(k$1)]),function(Wr=[]){Ne.push(...[].concat(Wr))}([_t,xt,kt,vt,Dt,ge,Ee,bt]),Q(Ne,{to(Wr){return new He().type(this.constructor).from(this.toArray()).to(Wr)},fromArray(Wr){return this.init(Wr),this},toConsumable(){return this.toArray()},morph(Wr,Gr,Yr,Zr,Kr){return this.fromArray(Wr.map(function(Qr,Jr){return Zr.step(Qr,Gr[Jr],Yr,Kr[Jr],Kr)}))}});class wi extends Gt{constructor(Gr){super(G("filter",Gr),Gr),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(Gr,Yr){return!(Gr=super.put(Gr,Yr)).attr("in")&&this.$autoSetIn&&Gr.attr("in",this.$source),Gr.attr("result")||Gr.attr("result",Gr.id()),Gr}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Lt('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class ki extends Gt{constructor(Gr,Yr){super(Gr,Yr),this.result(this.id())}in(Gr){if(Gr==null){const Yr=this.attr("in");return this.parent()&&this.parent().find(`[result="${Yr}"]`)[0]||Yr}return this.attr("in",Gr)}result(Gr){return this.attr("result",Gr)}toString(){return this.result()}}const Ai=Wr=>function(...Gr){for(let Yr=Wr.length;Yr--;)Gr[Yr]!=null&&this.attr(Wr[Yr],Gr[Yr])},Ci={blend:Ai(["in","in2","mode"]),colorMatrix:Ai(["type","values"]),composite:Ai(["in","in2","operator"]),convolveMatrix:function(Wr){Wr=new Dt(Wr).toString(),this.attr({order:Math.sqrt(Wr.split(" ").length),kernelMatrix:Wr})},diffuseLighting:Ai(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ai(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ai(["in","dx","dy","stdDeviation"]),flood:Ai(["flood-color","flood-opacity"]),gaussianBlur:function(Wr=0,Gr=Wr){this.attr("stdDeviation",Wr+" "+Gr)},image:function(Wr){this.attr("href",Wr,H)},morphology:Ai(["operator","radius"]),offset:Ai(["dx","dy"]),specularLighting:Ai(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ai([]),turbulence:Ai(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(Wr=>{const Gr=P(Wr),Yr=Ci[Wr];wi[Gr+"Effect"]=class extends ki{constructor(Zr){super(G("fe"+Gr,Zr),Zr)}update(Zr){return Yr.apply(this,Zr),this}},wi.prototype[Wr]=K(function(Zr,...Kr){const Qr=new wi[Gr+"Effect"];return Zr==null?this.put(Qr):(typeof Zr=="function"?Zr.call(Qr,Qr):Kr.unshift(Zr),this.put(Qr).update(Kr))})}),Q(wi,{merge(Wr){const Gr=this.put(new wi.MergeEffect);return typeof Wr=="function"?(Wr.call(Gr,Gr),Gr):((Wr instanceof Array?Wr:[...arguments]).forEach(Yr=>{Yr instanceof wi.MergeNode?Gr.put(Yr):Gr.mergeNode(Yr)}),Gr)},componentTransfer(Wr={}){const Gr=this.put(new wi.ComponentTransferEffect);if(typeof Wr=="function")return Wr.call(Gr,Gr),Gr;Wr.r||Wr.g||Wr.b||Wr.a||(Wr={r:Wr,g:Wr,b:Wr,a:Wr});for(const Yr in Wr)Gr.add(new wi["Func"+Yr.toUpperCase()](Wr[Yr]));return Gr}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(Wr=>{const Gr=P(Wr);wi[Gr]=class extends ki{constructor(Yr){super(G("fe"+Gr,Yr),Yr)}}});["funcR","funcG","funcB","funcA"].forEach(function(Wr){const Gr=wi[P(Wr)],Yr=K(function(){return this.put(new Gr)});wi.ComponentTransferEffect.prototype[Wr]=Yr});["distantLight","pointLight","spotLight"].forEach(Wr=>{const Gr=wi[P(Wr)],Yr=K(function(){return this.put(new Gr)});wi.DiffuseLightingEffect.prototype[Wr]=Yr,wi.SpecularLightingEffect.prototype[Wr]=Yr}),Q(wi.MergeEffect,{mergeNode(Wr){return this.put(new wi.MergeNode).attr("in",Wr)}}),Q(Ut,{filter:function(Wr){const Gr=this.put(new wi);return typeof Wr=="function"&&Wr.call(Gr,Gr),Gr}}),Q(Vt,{filter:function(Wr){return this.defs().filter(Wr)}}),Q(Gt,{filterWith:function(Wr){const Gr=Wr instanceof wi?Wr:this.defs().filter(Wr);return this.attr("filter",Gr)},unfilter:function(Wr){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const Si={blend:function(Wr,Gr){return this.parent()&&this.parent().blend(this,Wr,Gr)},colorMatrix:function(Wr,Gr){return this.parent()&&this.parent().colorMatrix(Wr,Gr).in(this)},componentTransfer:function(Wr){return this.parent()&&this.parent().componentTransfer(Wr).in(this)},composite:function(Wr,Gr){return this.parent()&&this.parent().composite(this,Wr,Gr)},convolveMatrix:function(Wr){return this.parent()&&this.parent().convolveMatrix(Wr).in(this)},diffuseLighting:function(Wr,Gr,Yr,Zr){return this.parent()&&this.parent().diffuseLighting(Wr,Yr,Zr).in(this)},displacementMap:function(Wr,Gr,Yr,Zr){return this.parent()&&this.parent().displacementMap(this,Wr,Gr,Yr,Zr)},dropShadow:function(Wr,Gr,Yr){return this.parent()&&this.parent().dropShadow(this,Wr,Gr,Yr).in(this)},flood:function(Wr,Gr){return this.parent()&&this.parent().flood(Wr,Gr)},gaussianBlur:function(Wr,Gr){return this.parent()&&this.parent().gaussianBlur(Wr,Gr).in(this)},image:function(Wr){return this.parent()&&this.parent().image(Wr)},merge:function(Wr){return Wr=Wr instanceof Array?Wr:[...Wr],this.parent()&&this.parent().merge(this,...Wr)},morphology:function(Wr,Gr){return this.parent()&&this.parent().morphology(Wr,Gr).in(this)},offset:function(Wr,Gr){return this.parent()&&this.parent().offset(Wr,Gr).in(this)},specularLighting:function(Wr,Gr,Yr,Zr,Kr){return this.parent()&&this.parent().specularLighting(Wr,Yr,Zr,Kr).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(Wr,Gr,Yr,Zr,Kr){return this.parent()&&this.parent().turbulence(Wr,Gr,Yr,Zr,Kr).in(this)}};Q(ki,Si),Q(wi.MergeEffect,{in:function(Wr){return Wr instanceof wi.MergeNode?this.add(Wr,0):this.add(new wi.MergeNode().in(Wr),0),this}}),Q([wi.CompositeEffect,wi.BlendEffect,wi.DisplacementMapEffect],{in2:function(Wr){if(Wr==null){const Gr=this.attr("in2");return this.parent()&&this.parent().find(`[result="${Gr}"]`)[0]||Gr}return this.attr("in2",Wr)}}),wi.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Li=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"getDefaultFilter",value:function(Gr,Yr){var Zr=this.w;Gr.unfilter(!0),new wi().size("120%","180%","-5%","-40%"),Zr.config.chart.dropShadow.enabled&&this.dropShadow(Gr,Zr.config.chart.dropShadow,Yr)}},{key:"applyFilter",value:function(Gr,Yr,Zr){var Kr,Qr=this,Jr=this.w;if(Gr.unfilter(!0),Zr!=="none"){var en,tn,rn=Jr.config.chart.dropShadow,an=Zr==="lighten"?2:.3;Gr.filterWith(function(nn){nn.colorMatrix({type:"matrix",values:`
          `.concat(an,` 0 0 0 0
          0 `).concat(an,` 0 0 0
          0 0 `).concat(an,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),rn.enabled&&Qr.addShadow(nn,Yr,rn,"brightness")}),!rn.noUserSpaceOnUse&&((en=Gr.filterer())===null||en===void 0||(tn=en.node)===null||tn===void 0||tn.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((Kr=Gr.filterer())===null||Kr===void 0?void 0:Kr.node)}else this.getDefaultFilter(Gr,Yr)}},{key:"addShadow",value:function(Gr,Yr,Zr,Kr){var Qr,Jr=this.w,en=Zr.blur,tn=Zr.top,rn=Zr.left,an=Zr.color,nn=Zr.opacity;if(an=Array.isArray(an)?an[Yr]:an,((Qr=Jr.config.chart.dropShadow.enabledOnSeries)===null||Qr===void 0?void 0:Qr.length)>0&&Jr.config.chart.dropShadow.enabledOnSeries.indexOf(Yr)===-1)return Gr;Gr.offset({in:Kr,dx:rn,dy:tn,result:"offset"}),Gr.gaussianBlur({in:"offset",stdDeviation:en,result:"blur"}),Gr.flood({"flood-color":an,"flood-opacity":nn,result:"flood"}),Gr.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),Gr.merge(["shadow",Kr])}},{key:"dropShadow",value:function(Gr,Yr){var Zr,Kr,Qr,Jr,en,tn=this,rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,an=this.w;return Gr.unfilter(!0),v.isMsEdge()&&an.config.chart.type==="radialBar"||((Zr=an.config.chart.dropShadow.enabledOnSeries)===null||Zr===void 0?void 0:Zr.length)>0&&((Qr=an.config.chart.dropShadow.enabledOnSeries)===null||Qr===void 0?void 0:Qr.indexOf(rn))===-1?Gr:(Gr.filterWith(function(nn){tn.addShadow(nn,rn,Yr,"SourceGraphic")}),Yr.noUserSpaceOnUse||(Jr=Gr.filterer())===null||Jr===void 0||(en=Jr.node)===null||en===void 0||en.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((Kr=Gr.filterer())===null||Kr===void 0?void 0:Kr.node),Gr)}},{key:"setSelectionFilter",value:function(Gr,Yr,Zr){var Kr=this.w;if(Kr.globals.selectedDataPoints[Yr]!==void 0&&Kr.globals.selectedDataPoints[Yr].indexOf(Zr)>-1){Gr.node.setAttribute("selected",!0);var Qr=Kr.config.states.active.filter;Qr!=="none"&&this.applyFilter(Gr,Yr,Qr.type)}}},{key:"_scaleFilterSize",value:function(Gr){Gr&&function(Yr){for(var Zr in Yr)Yr.hasOwnProperty(Zr)&&Gr.setAttribute(Zr,Yr[Zr])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Wr}(),Mi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"roundPathCorners",value:function(Gr,Yr){function Zr(xn,bn,Sn){var wn=bn.x-xn.x,_n=bn.y-xn.y,An=Math.sqrt(wn*wn+_n*_n);return Kr(xn,bn,Math.min(1,Sn/An))}function Kr(xn,bn,Sn){return{x:xn.x+(bn.x-xn.x)*Sn,y:xn.y+(bn.y-xn.y)*Sn}}function Qr(xn,bn){xn.length>2&&(xn[xn.length-2]=bn.x,xn[xn.length-1]=bn.y)}function Jr(xn){return{x:parseFloat(xn[xn.length-2]),y:parseFloat(xn[xn.length-1])}}Gr.indexOf("NaN")>-1&&(Gr="");var en=Gr.split(/[,\s]/).reduce(function(xn,bn){var Sn=bn.match("([a-zA-Z])(.+)");return Sn?(xn.push(Sn[1]),xn.push(Sn[2])):xn.push(bn),xn},[]).reduce(function(xn,bn){return parseFloat(bn)==bn&&xn.length?xn[xn.length-1].push(bn):xn.push([bn]),xn},[]),tn=[];if(en.length>1){var rn=Jr(en[0]),an=null;en[en.length-1][0]=="Z"&&en[0].length>2&&(an=["L",rn.x,rn.y],en[en.length-1]=an),tn.push(en[0]);for(var nn=1;nn<en.length;nn++){var sn=tn[tn.length-1],ln=en[nn],un=ln==an?en[1]:en[nn+1];if(un&&sn&&sn.length>2&&ln[0]=="L"&&un.length>2&&un[0]=="L"){var cn,hn,dn=Jr(sn),fn=Jr(ln),pn=Jr(un);cn=Zr(fn,dn,Yr),hn=Zr(fn,pn,Yr),Qr(ln,cn),ln.origPoint=fn,tn.push(ln);var gn=Kr(cn,fn,.5),vn=Kr(fn,hn,.5),mn=["C",gn.x,gn.y,vn.x,vn.y,hn.x,hn.y];mn.origPoint=fn,tn.push(mn)}else tn.push(ln)}if(an){var yn=Jr(tn[tn.length-1]);tn.push(["Z"]),Qr(tn[0],yn)}}else tn=en;return tn.reduce(function(xn,bn){return xn+bn.join(" ")+" "},"")}},{key:"drawLine",value:function(Gr,Yr,Zr,Kr){var Qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",Jr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,en=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,tn=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:Gr,y1:Yr,x2:Zr,y2:Kr,stroke:Qr,"stroke-dasharray":Jr,"stroke-width":en,"stroke-linecap":tn})}},{key:"drawRect",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Jr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",en=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,tn=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,rn=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,an=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,nn=this.w.globals.dom.Paper.rect();return nn.attr({x:Gr,y:Yr,width:Zr>0?Zr:0,height:Kr>0?Kr:0,rx:Qr,ry:Qr,opacity:en,"stroke-width":tn!==null?tn:0,stroke:rn!==null?rn:"none","stroke-dasharray":an}),nn.node.setAttribute("fill",Jr),nn}},{key:"drawPolygon",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(Gr).attr({fill:Kr,stroke:Yr,"stroke-width":Zr})}},{key:"drawCircle",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Gr<0&&(Gr=0);var Zr=this.w.globals.dom.Paper.circle(2*Gr);return Yr!==null&&Zr.attr(Yr),Zr}},{key:"drawPath",value:function(Gr){var Yr=Gr.d,Zr=Yr===void 0?"":Yr,Kr=Gr.stroke,Qr=Kr===void 0?"#a8a8a8":Kr,Jr=Gr.strokeWidth,en=Jr===void 0?1:Jr,tn=Gr.fill,rn=Gr.fillOpacity,an=rn===void 0?1:rn,nn=Gr.strokeOpacity,sn=nn===void 0?1:nn,ln=Gr.classes,un=Gr.strokeLinecap,cn=un===void 0?null:un,hn=Gr.strokeDashArray,dn=hn===void 0?0:hn,fn=this.w;return cn===null&&(cn=fn.config.stroke.lineCap),(Zr.indexOf("undefined")>-1||Zr.indexOf("NaN")>-1)&&(Zr="M 0 ".concat(fn.globals.gridHeight)),fn.globals.dom.Paper.path(Zr).attr({fill:tn,"fill-opacity":an,stroke:Qr,"stroke-opacity":sn,"stroke-linecap":cn,"stroke-width":en,"stroke-dasharray":dn,class:ln})}},{key:"group",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Yr=this.w.globals.dom.Paper.group();return Gr!==null&&Yr.attr(Gr),Yr}},{key:"move",value:function(Gr,Yr){var Zr=["M",Gr,Yr].join(" ");return Zr}},{key:"line",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Kr=null;return Zr===null?Kr=[" L",Gr,Yr].join(" "):Zr==="H"?Kr=[" H",Gr].join(" "):Zr==="V"&&(Kr=[" V",Yr].join(" ")),Kr}},{key:"curve",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en=["C",Gr,Yr,Zr,Kr,Qr,Jr].join(" ");return en}},{key:"quadraticCurve",value:function(Gr,Yr,Zr,Kr){return["Q",Gr,Yr,Zr,Kr].join(" ")}},{key:"arc",value:function(Gr,Yr,Zr,Kr,Qr,Jr,en){var tn="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(tn="a");var rn=[tn,Gr,Yr,Zr,Kr,Qr,Jr,en].join(" ");return rn}},{key:"renderPaths",value:function(Gr){var Yr,Zr=Gr.j,Kr=Gr.realIndex,Qr=Gr.pathFrom,Jr=Gr.pathTo,en=Gr.stroke,tn=Gr.strokeWidth,rn=Gr.strokeLinecap,an=Gr.fill,nn=Gr.animationDelay,sn=Gr.initialSpeed,ln=Gr.dataChangeSpeed,un=Gr.className,cn=Gr.chartType,hn=Gr.shouldClipToGrid,dn=hn===void 0||hn,fn=Gr.bindEventsOnPaths,pn=fn===void 0||fn,gn=Gr.drawShadow,vn=gn===void 0||gn,mn=this.w,yn=new Li(this.ctx),xn=new y(this.ctx),bn=this.w.config.chart.animations.enabled,Sn=bn&&this.w.config.chart.animations.dynamicAnimation.enabled,wn=!!(bn&&!mn.globals.resized||Sn&&mn.globals.dataChanged&&mn.globals.shouldAnimate);wn?Yr=Qr:(Yr=Jr,mn.globals.animationEnded=!0);var _n=mn.config.stroke.dashArray,An=0;An=Array.isArray(_n)?_n[Kr]:mn.config.stroke.dashArray;var Cn=this.drawPath({d:Yr,stroke:en,strokeWidth:tn,fill:an,fillOpacity:1,classes:un,strokeLinecap:rn,strokeDashArray:An});Cn.attr("index",Kr),dn&&(cn==="bar"&&!mn.globals.isHorizontal||mn.globals.comboCharts?Cn.attr({"clip-path":"url(#gridRectBarMask".concat(mn.globals.cuid,")")}):Cn.attr({"clip-path":"url(#gridRectMask".concat(mn.globals.cuid,")")})),mn.config.chart.dropShadow.enabled&&vn&&yn.dropShadow(Cn,mn.config.chart.dropShadow,Kr),pn&&(Cn.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Cn)),Cn.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Cn)),Cn.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Cn))),Cn.attr({pathTo:Jr,pathFrom:Qr});var Tn={el:Cn,j:Zr,realIndex:Kr,pathFrom:Qr,pathTo:Jr,fill:an,strokeWidth:tn,delay:nn};return!bn||mn.globals.resized||mn.globals.dataChanged?!mn.globals.resized&&mn.globals.dataChanged||xn.showDelayedElements():xn.animatePathsGradually(u(u({},Tn),{},{speed:sn})),mn.globals.dataChanged&&Sn&&wn&&xn.animatePathsGradually(u(u({},Tn),{},{speed:ln})),Cn}},{key:"drawPattern",value:function(Gr,Yr,Zr){var Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",Qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(Yr,Zr,function(Jr){Gr==="horizontalLines"?Jr.line(0,0,Zr,0).stroke({color:Kr,width:Qr+1}):Gr==="verticalLines"?Jr.line(0,0,0,Yr).stroke({color:Kr,width:Qr+1}):Gr==="slantedLines"?Jr.line(0,0,Yr,Zr).stroke({color:Kr,width:Qr}):Gr==="squares"?Jr.rect(Yr,Zr).fill("none").stroke({color:Kr,width:Qr}):Gr==="circles"&&Jr.circle(Yr).fill("none").stroke({color:Kr,width:Qr})})}},{key:"drawGradient",value:function(Gr,Yr,Zr,Kr,Qr){var Jr,en=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,tn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,rn=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],an=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,nn=this.w;Yr.length<9&&Yr.indexOf("#")===0&&(Yr=v.hexToRgba(Yr,Kr)),Zr.length<9&&Zr.indexOf("#")===0&&(Zr=v.hexToRgba(Zr,Qr));var sn=0,ln=1,un=1,cn=null;tn!==null&&(sn=tn[0]!==void 0?tn[0]/100:0,ln=tn[1]!==void 0?tn[1]/100:1,un=tn[2]!==void 0?tn[2]/100:1,cn=tn[3]!==void 0?tn[3]/100:null);var hn=!(nn.config.chart.type!=="donut"&&nn.config.chart.type!=="pie"&&nn.config.chart.type!=="polarArea"&&nn.config.chart.type!=="bubble");if(Jr=rn&&rn.length!==0?nn.globals.dom.Paper.gradient(hn?"radial":"linear",function(pn){(Array.isArray(rn[an])?rn[an]:rn).forEach(function(gn){pn.stop(gn.offset/100,gn.color,gn.opacity)})}):nn.globals.dom.Paper.gradient(hn?"radial":"linear",function(pn){pn.stop(sn,Yr,Kr),pn.stop(ln,Zr,Qr),pn.stop(un,Zr,Qr),cn!==null&&pn.stop(cn,Yr,Kr)}),hn){var dn=nn.globals.gridWidth/2,fn=nn.globals.gridHeight/2;nn.config.chart.type!=="bubble"?Jr.attr({gradientUnits:"userSpaceOnUse",cx:dn,cy:fn,r:en}):Jr.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else Gr==="vertical"?Jr.from(0,0).to(0,1):Gr==="diagonal"?Jr.from(0,0).to(1,1):Gr==="horizontal"?Jr.from(0,1).to(1,1):Gr==="diagonal2"&&Jr.from(1,0).to(0,1);return Jr}},{key:"getTextBasedOnMaxWidth",value:function(Gr){var Yr=Gr.text,Zr=Gr.maxWidth,Kr=Gr.fontSize,Qr=Gr.fontFamily,Jr=this.getTextRects(Yr,Kr,Qr),en=Jr.width/Yr.length,tn=Math.floor(Zr/en);return Zr<Jr.width?Yr.slice(0,tn-3)+"...":Yr}},{key:"drawText",value:function(Gr){var Yr=this,Zr=Gr.x,Kr=Gr.y,Qr=Gr.text,Jr=Gr.textAnchor,en=Gr.fontSize,tn=Gr.fontFamily,rn=Gr.fontWeight,an=Gr.foreColor,nn=Gr.opacity,sn=Gr.maxWidth,ln=Gr.cssClass,un=ln===void 0?"":ln,cn=Gr.isPlainText,hn=cn===void 0||cn,dn=Gr.dominantBaseline,fn=dn===void 0?"auto":dn,pn=this.w;Qr===void 0&&(Qr="");var gn=Qr;Jr||(Jr="start"),an&&an.length||(an=pn.config.chart.foreColor),tn=tn||pn.config.chart.fontFamily,rn=rn||"regular";var vn,mn={maxWidth:sn,fontSize:en=en||"11px",fontFamily:tn};return Array.isArray(Qr)?vn=pn.globals.dom.Paper.text(function(yn){for(var xn=0;xn<Qr.length;xn++)gn=Qr[xn],sn&&(gn=Yr.getTextBasedOnMaxWidth(u({text:Qr[xn]},mn))),xn===0?yn.tspan(gn):yn.tspan(gn).newLine()}):(sn&&(gn=this.getTextBasedOnMaxWidth(u({text:Qr},mn))),vn=hn?pn.globals.dom.Paper.plain(Qr):pn.globals.dom.Paper.text(function(yn){return yn.tspan(gn)})),vn.attr({x:Zr,y:Kr,"text-anchor":Jr,"dominant-baseline":fn,"font-size":en,"font-family":tn,"font-weight":rn,fill:an,class:"apexcharts-text "+un}),vn.node.style.fontFamily=tn,vn.node.style.opacity=nn,vn}},{key:"getMarkerPath",value:function(Gr,Yr,Zr,Kr){var Qr="";switch(Zr){case"cross":Qr="M ".concat(Gr-(Kr/=1.4)," ").concat(Yr-Kr," L ").concat(Gr+Kr," ").concat(Yr+Kr,"  M ").concat(Gr-Kr," ").concat(Yr+Kr," L ").concat(Gr+Kr," ").concat(Yr-Kr);break;case"plus":Qr="M ".concat(Gr-(Kr/=1.12)," ").concat(Yr," L ").concat(Gr+Kr," ").concat(Yr,"  M ").concat(Gr," ").concat(Yr-Kr," L ").concat(Gr," ").concat(Yr+Kr);break;case"star":case"sparkle":var Jr=5;Kr*=1.15,Zr==="sparkle"&&(Kr/=1.1,Jr=4);for(var en=Math.PI/Jr,tn=0;tn<=2*Jr;tn++){var rn=tn*en,an=tn%2==0?Kr:Kr/2;Qr+=(tn===0?"M":"L")+(Gr+an*Math.sin(rn))+","+(Yr-an*Math.cos(rn))}Qr+="Z";break;case"triangle":Qr="M ".concat(Gr," ").concat(Yr-Kr,` 
             L `).concat(Gr+Kr," ").concat(Yr+Kr,` 
             L `).concat(Gr-Kr," ").concat(Yr+Kr,` 
             Z`);break;case"square":case"rect":Qr="M ".concat(Gr-(Kr/=1.125)," ").concat(Yr-Kr,` 
           L `).concat(Gr+Kr," ").concat(Yr-Kr,` 
           L `).concat(Gr+Kr," ").concat(Yr+Kr,` 
           L `).concat(Gr-Kr," ").concat(Yr+Kr,` 
           Z`);break;case"diamond":Kr*=1.05,Qr="M ".concat(Gr," ").concat(Yr-Kr,` 
             L `).concat(Gr+Kr," ").concat(Yr,` 
             L `).concat(Gr," ").concat(Yr+Kr,` 
             L `).concat(Gr-Kr," ").concat(Yr,` 
            Z`);break;case"line":Qr="M ".concat(Gr-(Kr/=1.1)," ").concat(Yr,` 
           L `).concat(Gr+Kr," ").concat(Yr);break;default:Kr*=2,Qr="M ".concat(Gr,", ").concat(Yr,` 
           m -`).concat(Kr/2,`, 0 
           a `).concat(Kr/2,",").concat(Kr/2," 0 1,0 ").concat(Kr,`,0 
           a `).concat(Kr/2,",").concat(Kr/2," 0 1,0 -").concat(Kr,",0")}return Qr}},{key:"drawMarkerShape",value:function(Gr,Yr,Zr,Kr,Qr){var Jr=this.drawPath({d:this.getMarkerPath(Gr,Yr,Zr,Kr,Qr),stroke:Qr.pointStrokeColor,strokeDashArray:Qr.pointStrokeDashArray,strokeWidth:Qr.pointStrokeWidth,fill:Qr.pointFillColor,fillOpacity:Qr.pointFillOpacity,strokeOpacity:Qr.pointStrokeOpacity});return Jr.attr({cx:Gr,cy:Yr,shape:Qr.shape,class:Qr.class?Qr.class:""}),Jr}},{key:"drawMarker",value:function(Gr,Yr,Zr){Gr=Gr||0;var Kr=Zr.pSize||0;return v.isNumber(Yr)||(Kr=0,Yr=0),this.drawMarkerShape(Gr,Yr,Zr==null?void 0:Zr.shape,Kr,u(u({},Zr),Zr.shape==="line"||Zr.shape==="plus"||Zr.shape==="cross"?{pointStrokeColor:Zr.pointFillColor,pointStrokeOpacity:Zr.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(Gr,Yr){var Zr=this.w,Kr=new Li(this.ctx),Qr=parseInt(Gr.node.getAttribute("index"),10),Jr=parseInt(Gr.node.getAttribute("j"),10);if(typeof Zr.config.chart.events.dataPointMouseEnter=="function"&&Zr.config.chart.events.dataPointMouseEnter(Yr,this.ctx,{seriesIndex:Qr,dataPointIndex:Jr,w:Zr}),this.ctx.events.fireEvent("dataPointMouseEnter",[Yr,this.ctx,{seriesIndex:Qr,dataPointIndex:Jr,w:Zr}]),(Zr.config.states.active.filter.type==="none"||Gr.node.getAttribute("selected")!=="true")&&Zr.config.states.hover.filter.type!=="none"&&!Zr.globals.isTouchDevice){var en=Zr.config.states.hover.filter;Kr.applyFilter(Gr,Qr,en.type)}}},{key:"pathMouseLeave",value:function(Gr,Yr){var Zr=this.w,Kr=new Li(this.ctx),Qr=parseInt(Gr.node.getAttribute("index"),10),Jr=parseInt(Gr.node.getAttribute("j"),10);typeof Zr.config.chart.events.dataPointMouseLeave=="function"&&Zr.config.chart.events.dataPointMouseLeave(Yr,this.ctx,{seriesIndex:Qr,dataPointIndex:Jr,w:Zr}),this.ctx.events.fireEvent("dataPointMouseLeave",[Yr,this.ctx,{seriesIndex:Qr,dataPointIndex:Jr,w:Zr}]),Zr.config.states.active.filter.type!=="none"&&Gr.node.getAttribute("selected")==="true"||Zr.config.states.hover.filter.type!=="none"&&Kr.getDefaultFilter(Gr,Qr)}},{key:"pathMouseDown",value:function(Gr,Yr){var Zr=this.w,Kr=new Li(this.ctx),Qr=parseInt(Gr.node.getAttribute("index"),10),Jr=parseInt(Gr.node.getAttribute("j"),10),en="false";if(Gr.node.getAttribute("selected")==="true"){if(Gr.node.setAttribute("selected","false"),Zr.globals.selectedDataPoints[Qr].indexOf(Jr)>-1){var tn=Zr.globals.selectedDataPoints[Qr].indexOf(Jr);Zr.globals.selectedDataPoints[Qr].splice(tn,1)}}else{if(!Zr.config.states.active.allowMultipleDataPointsSelection&&Zr.globals.selectedDataPoints.length>0){Zr.globals.selectedDataPoints=[];var rn=Zr.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),an=Zr.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),nn=function(un){Array.prototype.forEach.call(un,function(cn){cn.node.setAttribute("selected","false"),Kr.getDefaultFilter(cn,Qr)})};nn(rn),nn(an)}Gr.node.setAttribute("selected","true"),en="true",Zr.globals.selectedDataPoints[Qr]===void 0&&(Zr.globals.selectedDataPoints[Qr]=[]),Zr.globals.selectedDataPoints[Qr].push(Jr)}if(en==="true"){var sn=Zr.config.states.active.filter;if(sn!=="none")Kr.applyFilter(Gr,Qr,sn.type);else if(Zr.config.states.hover.filter!=="none"&&!Zr.globals.isTouchDevice){var ln=Zr.config.states.hover.filter;Kr.applyFilter(Gr,Qr,ln.type)}}else Zr.config.states.active.filter.type!=="none"&&(Zr.config.states.hover.filter.type==="none"||Zr.globals.isTouchDevice?Kr.getDefaultFilter(Gr,Qr):(ln=Zr.config.states.hover.filter,Kr.applyFilter(Gr,Qr,ln.type)));typeof Zr.config.chart.events.dataPointSelection=="function"&&Zr.config.chart.events.dataPointSelection(Yr,this.ctx,{selectedDataPoints:Zr.globals.selectedDataPoints,seriesIndex:Qr,dataPointIndex:Jr,w:Zr}),Yr&&this.ctx.events.fireEvent("dataPointSelection",[Yr,this.ctx,{selectedDataPoints:Zr.globals.selectedDataPoints,seriesIndex:Qr,dataPointIndex:Jr,w:Zr}])}},{key:"rotateAroundCenter",value:function(Gr){var Yr={};return Gr&&typeof Gr.getBBox=="function"&&(Yr=Gr.getBBox()),{x:Yr.x+Yr.width/2,y:Yr.y+Yr.height/2}}},{key:"getTextRects",value:function(Gr,Yr,Zr,Kr){var Qr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],Jr=this.w,en=this.drawText({x:-200,y:-200,text:Gr,textAnchor:"start",fontSize:Yr,fontFamily:Zr,foreColor:"#fff",opacity:0});Kr&&en.attr("transform",Kr),Jr.globals.dom.Paper.add(en);var tn=en.bbox();return Qr||(tn=en.node.getBoundingClientRect()),en.remove(),{width:tn.width,height:tn.height}}},{key:"placeTextWithEllipsis",value:function(Gr,Yr,Zr){if(typeof Gr.getComputedTextLength=="function"&&(Gr.textContent=Yr,Yr.length>0&&Gr.getComputedTextLength()>=Zr/1.1)){for(var Kr=Yr.length-3;Kr>0;Kr-=3)if(Gr.getSubStringLength(0,Kr)<=Zr/1.1)return void(Gr.textContent=Yr.substring(0,Kr)+"...");Gr.textContent="."}}}],[{key:"setAttrs",value:function(Gr,Yr){for(var Zr in Yr)Yr.hasOwnProperty(Zr)&&Gr.setAttribute(Zr,Yr[Zr])}}]),Wr}(),Pi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"getStackedSeriesTotals",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Yr=this.w,Zr=[];if(Yr.globals.series.length===0)return Zr;for(var Kr=0;Kr<Yr.globals.series[Yr.globals.maxValsInArrayIndex].length;Kr++){for(var Qr=0,Jr=0;Jr<Yr.globals.series.length;Jr++)Yr.globals.series[Jr][Kr]!==void 0&&Gr.indexOf(Jr)===-1&&(Qr+=Yr.globals.series[Jr][Kr]);Zr.push(Qr)}return Zr}},{key:"getSeriesTotalByIndex",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Gr===null?this.w.config.series.reduce(function(Yr,Zr){return Yr+Zr},0):this.w.globals.series[Gr].reduce(function(Yr,Zr){return Yr+Zr},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var Gr=this,Yr=this.w,Zr=[];return Yr.globals.seriesGroups.forEach(function(Kr){var Qr=[];Yr.config.series.forEach(function(en,tn){Kr.indexOf(Yr.globals.seriesNames[tn])>-1&&Qr.push(tn)});var Jr=Yr.globals.series.map(function(en,tn){return Qr.indexOf(tn)===-1?tn:-1}).filter(function(en){return en!==-1});Zr.push(Gr.getStackedSeriesTotals(Jr))}),Zr}},{key:"setSeriesYAxisMappings",value:function(){var Gr=this.w.globals,Yr=this.w.config,Zr=[],Kr=[],Qr=[],Jr=Gr.series.length>Yr.yaxis.length||Yr.yaxis.some(function(nn){return Array.isArray(nn.seriesName)});Yr.series.forEach(function(nn,sn){Qr.push(sn),Kr.push(null)}),Yr.yaxis.forEach(function(nn,sn){Zr[sn]=[]});var en=[];Yr.yaxis.forEach(function(nn,sn){var ln=!1;if(nn.seriesName){var un=[];Array.isArray(nn.seriesName)?un=nn.seriesName:un.push(nn.seriesName),un.forEach(function(cn){Yr.series.forEach(function(hn,dn){if(hn.name===cn){var fn=dn;sn===dn||Jr?!Jr||Qr.indexOf(dn)>-1?Zr[sn].push([sn,dn]):console.warn("Series '"+hn.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(Zr[dn].push([dn,sn]),fn=sn),ln=!0,(fn=Qr.indexOf(fn))!==-1&&Qr.splice(fn,1)}})})}ln||en.push(sn)}),Zr=Zr.map(function(nn,sn){var ln=[];return nn.forEach(function(un){Kr[un[1]]=un[0],ln.push(un[1])}),ln});for(var tn=Yr.yaxis.length-1,rn=0;rn<en.length&&(tn=en[rn],Zr[tn]=[],Qr);rn++){var an=Qr[0];Qr.shift(),Zr[tn].push(an),Kr[an]=tn}Qr.forEach(function(nn){Zr[tn].push(nn),Kr[nn]=tn}),Gr.seriesYAxisMap=Zr.map(function(nn){return nn}),Gr.seriesYAxisReverseMap=Kr.map(function(nn){return nn}),Gr.seriesYAxisMap.forEach(function(nn,sn){nn.forEach(function(ln){Yr.series[ln]&&Yr.series[ln].group===void 0&&(Yr.series[ln].group="apexcharts-axis-".concat(sn.toString()))})})}},{key:"isSeriesNull",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(Gr===null?this.w.config.series.filter(function(Yr){return Yr!==null}):this.w.config.series[Gr].data.filter(function(Yr){return Yr!==null})).length===0}},{key:"seriesHaveSameValues",value:function(Gr){return this.w.globals.series[Gr].every(function(Yr,Zr,Kr){return Yr===Kr[0]})}},{key:"getCategoryLabels",value:function(Gr){var Yr=this.w,Zr=Gr.slice();return Yr.config.xaxis.convertedCatToNumeric&&(Zr=Gr.map(function(Kr,Qr){return Yr.config.xaxis.labels.formatter(Kr-Yr.globals.minX+1)})),Zr}},{key:"getLargestSeries",value:function(){var Gr=this.w;Gr.globals.maxValsInArrayIndex=Gr.globals.series.map(function(Yr){return Yr.length}).indexOf(Math.max.apply(Math,Gr.globals.series.map(function(Yr){return Yr.length})))}},{key:"getLargestMarkerSize",value:function(){var Gr=this.w,Yr=0;return Gr.globals.markers.size.forEach(function(Zr){Yr=Math.max(Yr,Zr)}),Gr.config.markers.discrete&&Gr.config.markers.discrete.length&&Gr.config.markers.discrete.forEach(function(Zr){Yr=Math.max(Yr,Zr.size)}),Yr>0&&(Gr.config.markers.hover.size>0?Yr=Gr.config.markers.hover.size:Yr+=Gr.config.markers.hover.sizeOffset),Gr.globals.markers.largestSize=Yr,Yr}},{key:"getSeriesTotals",value:function(){var Gr=this.w;Gr.globals.seriesTotals=Gr.globals.series.map(function(Yr,Zr){var Kr=0;if(Array.isArray(Yr))for(var Qr=0;Qr<Yr.length;Qr++)Kr+=Yr[Qr];else Kr+=Yr;return Kr})}},{key:"getSeriesTotalsXRange",value:function(Gr,Yr){var Zr=this.w;return Zr.globals.series.map(function(Kr,Qr){for(var Jr=0,en=0;en<Kr.length;en++)Zr.globals.seriesX[Qr][en]>Gr&&Zr.globals.seriesX[Qr][en]<Yr&&(Jr+=Kr[en]);return Jr})}},{key:"getPercentSeries",value:function(){var Gr=this.w;Gr.globals.seriesPercent=Gr.globals.series.map(function(Yr,Zr){var Kr=[];if(Array.isArray(Yr))for(var Qr=0;Qr<Yr.length;Qr++){var Jr=Gr.globals.stackedSeriesTotals[Qr],en=0;Jr&&(en=100*Yr[Qr]/Jr),Kr.push(en)}else{var tn=100*Yr/Gr.globals.seriesTotals.reduce(function(rn,an){return rn+an},0);Kr.push(tn)}return Kr})}},{key:"getCalculatedRatios",value:function(){var Gr,Yr,Zr,Kr=this,Qr=this.w,Jr=Qr.globals,en=[],tn=0,rn=[],an=.1,nn=0;if(Jr.yRange=[],Jr.isMultipleYAxis)for(var sn=0;sn<Jr.minYArr.length;sn++)Jr.yRange.push(Math.abs(Jr.minYArr[sn]-Jr.maxYArr[sn])),rn.push(0);else Jr.yRange.push(Math.abs(Jr.minY-Jr.maxY));Jr.xRange=Math.abs(Jr.maxX-Jr.minX),Jr.zRange=Math.abs(Jr.maxZ-Jr.minZ);for(var ln=0;ln<Jr.yRange.length;ln++)en.push(Jr.yRange[ln]/Jr.gridHeight);if(Yr=Jr.xRange/Jr.gridWidth,Gr=Jr.yRange/Jr.gridWidth,Zr=Jr.xRange/Jr.gridHeight,(tn=Jr.zRange/Jr.gridHeight*16)||(tn=1),Jr.minY!==Number.MIN_VALUE&&Math.abs(Jr.minY)!==0&&(Jr.hasNegs=!0),Qr.globals.seriesYAxisReverseMap.length>0){var un=function(hn,dn){var fn=Qr.config.yaxis[Qr.globals.seriesYAxisReverseMap[dn]],pn=hn<0?-1:1;return hn=Math.abs(hn),fn.logarithmic&&(hn=Kr.getBaseLog(fn.logBase,hn)),-pn*hn/en[dn]};if(Jr.isMultipleYAxis){rn=[];for(var cn=0;cn<en.length;cn++)rn.push(un(Jr.minYArr[cn],cn))}else(rn=[]).push(un(Jr.minY,0)),Jr.minY!==Number.MIN_VALUE&&Math.abs(Jr.minY)!==0&&(an=-Jr.minY/Gr,nn=Jr.minX/Yr)}else(rn=[]).push(0),an=0,nn=0;return{yRatio:en,invertedYRatio:Gr,zRatio:tn,xRatio:Yr,invertedXRatio:Zr,baseLineInvertedY:an,baseLineY:rn,baseLineX:nn}}},{key:"getLogSeries",value:function(Gr){var Yr=this,Zr=this.w;return Zr.globals.seriesLog=Gr.map(function(Kr,Qr){var Jr=Zr.globals.seriesYAxisReverseMap[Qr];return Zr.config.yaxis[Jr]&&Zr.config.yaxis[Jr].logarithmic?Kr.map(function(en){return en===null?null:Yr.getLogVal(Zr.config.yaxis[Jr].logBase,en,Qr)}):Kr}),Zr.globals.invalidLogScale?Gr:Zr.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(Gr,Yr){if(Gr===null)return null;var Zr=this.w,Kr=Zr.globals.seriesYAxisReverseMap[Yr];return Zr.config.yaxis[Kr]&&Zr.config.yaxis[Kr].logarithmic?this.getLogVal(Zr.config.yaxis[Kr].logBase,Gr,Yr):Gr}},{key:"getBaseLog",value:function(Gr,Yr){return Math.log(Yr)/Math.log(Gr)}},{key:"getLogVal",value:function(Gr,Yr,Zr){if(Yr<=0)return 0;var Kr=this.w,Qr=Kr.globals.minYArr[Zr]===0?-1:this.getBaseLog(Gr,Kr.globals.minYArr[Zr]),Jr=(Kr.globals.maxYArr[Zr]===0?0:this.getBaseLog(Gr,Kr.globals.maxYArr[Zr]))-Qr;return Yr<1?Yr/Jr:(this.getBaseLog(Gr,Yr)-Qr)/Jr}},{key:"getLogYRatios",value:function(Gr){var Yr=this,Zr=this.w,Kr=this.w.globals;return Kr.yLogRatio=Gr.slice(),Kr.logYRange=Kr.yRange.map(function(Qr,Jr){var en=Zr.globals.seriesYAxisReverseMap[Jr];if(Zr.config.yaxis[en]&&Yr.w.config.yaxis[en].logarithmic){var tn,rn=-Number.MAX_VALUE,an=Number.MIN_VALUE;return Kr.seriesLog.forEach(function(nn,sn){nn.forEach(function(ln){Zr.config.yaxis[sn]&&Zr.config.yaxis[sn].logarithmic&&(rn=Math.max(ln,rn),an=Math.min(ln,an))})}),tn=Math.pow(Kr.yRange[Jr],Math.abs(an-rn)/Kr.yRange[Jr]),Kr.yLogRatio[Jr]=tn/Kr.gridHeight,tn}}),Kr.invalidLogScale?Gr.slice():Kr.yLogRatio}},{key:"drawSeriesByGroup",value:function(Gr,Yr,Zr,Kr){var Qr=this.w,Jr=[];return Gr.series.length>0&&Yr.forEach(function(en){var tn=[],rn=[];Gr.i.forEach(function(an,nn){Qr.config.series[an].group===en&&(tn.push(Gr.series[nn]),rn.push(an))}),tn.length>0&&Jr.push(Kr.draw(tn,Zr,rn))}),Jr}}],[{key:"checkComboSeries",value:function(Gr,Yr){var Zr=!1,Kr=0,Qr=0;return Yr===void 0&&(Yr="line"),Gr.length&&Gr[0].type!==void 0&&Gr.forEach(function(Jr){Jr.type!=="bar"&&Jr.type!=="column"&&Jr.type!=="candlestick"&&Jr.type!=="boxPlot"||Kr++,Jr.type!==void 0&&Jr.type!==Yr&&Qr++}),Qr>0&&(Zr=!0),{comboBarCount:Kr,comboCharts:Zr}}},{key:"extendArrayProps",value:function(Gr,Yr,Zr){var Kr,Qr,Jr,en,tn,rn;return(Kr=Yr)!==null&&Kr!==void 0&&Kr.yaxis&&(Yr=Gr.extendYAxis(Yr,Zr)),(Qr=Yr)!==null&&Qr!==void 0&&Qr.annotations&&(Yr.annotations.yaxis&&(Yr=Gr.extendYAxisAnnotations(Yr)),(Jr=Yr)!==null&&Jr!==void 0&&(en=Jr.annotations)!==null&&en!==void 0&&en.xaxis&&(Yr=Gr.extendXAxisAnnotations(Yr)),(tn=Yr)!==null&&tn!==void 0&&(rn=tn.annotations)!==null&&rn!==void 0&&rn.points&&(Yr=Gr.extendPointAnnotations(Yr))),Yr}}]),Wr}(),Ii=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.annoCtx=Gr}return s(Wr,[{key:"setOrientations",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Zr=this.w;if(Gr.label.orientation==="vertical"){var Kr=Yr!==null?Yr:0,Qr=Zr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(Kr,"']"));if(Qr!==null){var Jr=Qr.getBoundingClientRect();Qr.setAttribute("x",parseFloat(Qr.getAttribute("x"))-Jr.height+4);var en=Gr.label.position==="top"?Jr.width:-Jr.width;Qr.setAttribute("y",parseFloat(Qr.getAttribute("y"))+en);var tn=this.annoCtx.graphics.rotateAroundCenter(Qr),rn=tn.x,an=tn.y;Qr.setAttribute("transform","rotate(-90 ".concat(rn," ").concat(an,")"))}}}},{key:"addBackgroundToAnno",value:function(Gr,Yr){var Zr=this.w;if(!Gr||!Yr.label.text||!String(Yr.label.text).trim())return null;var Kr=Zr.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),Qr=Gr.getBoundingClientRect(),Jr=Yr.label.style.padding,en=Jr.left,tn=Jr.right,rn=Jr.top,an=Jr.bottom;if(Yr.label.orientation==="vertical"){var nn=[en,tn,rn,an];rn=nn[0],an=nn[1],en=nn[2],tn=nn[3]}var sn=Qr.left-Kr.left-en,ln=Qr.top-Kr.top-rn,un=this.annoCtx.graphics.drawRect(sn-Zr.globals.barPadForNumericAxis,ln,Qr.width+en+tn,Qr.height+rn+an,Yr.label.borderRadius,Yr.label.style.background,1,Yr.label.borderWidth,Yr.label.borderColor,0);return Yr.id&&un.node.classList.add(Yr.id),un}},{key:"annotationsBackground",value:function(){var Gr=this,Yr=this.w,Zr=function(Kr,Qr,Jr){var en=Yr.globals.dom.baseEl.querySelector(".apexcharts-".concat(Jr,"-annotations .apexcharts-").concat(Jr,"-annotation-label[rel='").concat(Qr,"']"));if(en){var tn=en.parentNode,rn=Gr.addBackgroundToAnno(en,Kr);rn&&(tn.insertBefore(rn.node,en),Kr.label.mouseEnter&&rn.node.addEventListener("mouseenter",Kr.label.mouseEnter.bind(Gr,Kr)),Kr.label.mouseLeave&&rn.node.addEventListener("mouseleave",Kr.label.mouseLeave.bind(Gr,Kr)),Kr.label.click&&rn.node.addEventListener("click",Kr.label.click.bind(Gr,Kr)))}};Yr.config.annotations.xaxis.forEach(function(Kr,Qr){return Zr(Kr,Qr,"xaxis")}),Yr.config.annotations.yaxis.forEach(function(Kr,Qr){return Zr(Kr,Qr,"yaxis")}),Yr.config.annotations.points.forEach(function(Kr,Qr){return Zr(Kr,Qr,"point")})}},{key:"getY1Y2",value:function(Gr,Yr){var Zr,Kr=this.w,Qr=Gr==="y1"?Yr.y:Yr.y2,Jr=!1;if(this.annoCtx.invertAxis){var en=Kr.config.xaxis.convertedCatToNumeric?Kr.globals.categoryLabels:Kr.globals.labels,tn=en.indexOf(Qr),rn=Kr.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(tn+1,")"));Zr=rn?parseFloat(rn.getAttribute("y")):(Kr.globals.gridHeight/en.length-1)*(tn+1)-Kr.globals.barHeight,Yr.seriesIndex!==void 0&&Kr.globals.barHeight&&(Zr-=Kr.globals.barHeight/2*(Kr.globals.series.length-1)-Kr.globals.barHeight*Yr.seriesIndex)}else{var an,nn=Kr.globals.seriesYAxisMap[Yr.yAxisIndex][0],sn=Kr.config.yaxis[Yr.yAxisIndex].logarithmic?new Pi(this.annoCtx.ctx).getLogVal(Kr.config.yaxis[Yr.yAxisIndex].logBase,Qr,nn)/Kr.globals.yLogRatio[nn]:(Qr-Kr.globals.minYArr[nn])/(Kr.globals.yRange[nn]/Kr.globals.gridHeight);Zr=Kr.globals.gridHeight-Math.min(Math.max(sn,0),Kr.globals.gridHeight),Jr=sn>Kr.globals.gridHeight||sn<0,!Yr.marker||Yr.y!==void 0&&Yr.y!==null||(Zr=0),(an=Kr.config.yaxis[Yr.yAxisIndex])!==null&&an!==void 0&&an.reversed&&(Zr=sn)}return typeof Qr=="string"&&Qr.includes("px")&&(Zr=parseFloat(Qr)),{yP:Zr,clipped:Jr}}},{key:"getX1X2",value:function(Gr,Yr){var Zr=this.w,Kr=Gr==="x1"?Yr.x:Yr.x2,Qr=this.annoCtx.invertAxis?Zr.globals.minY:Zr.globals.minX,Jr=this.annoCtx.invertAxis?Zr.globals.maxY:Zr.globals.maxX,en=this.annoCtx.invertAxis?Zr.globals.yRange[0]:Zr.globals.xRange,tn=!1,rn=this.annoCtx.inversedReversedAxis?(Jr-Kr)/(en/Zr.globals.gridWidth):(Kr-Qr)/(en/Zr.globals.gridWidth);return Zr.config.xaxis.type!=="category"&&!Zr.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||Zr.globals.dataFormatXNumeric||Zr.config.chart.sparkline.enabled||(rn=this.getStringX(Kr)),typeof Kr=="string"&&Kr.includes("px")&&(rn=parseFloat(Kr)),Kr==null&&Yr.marker&&(rn=Zr.globals.gridWidth),Yr.seriesIndex!==void 0&&Zr.globals.barWidth&&!this.annoCtx.invertAxis&&(rn-=Zr.globals.barWidth/2*(Zr.globals.series.length-1)-Zr.globals.barWidth*Yr.seriesIndex),rn>Zr.globals.gridWidth?(rn=Zr.globals.gridWidth,tn=!0):rn<0&&(rn=0,tn=!0),{x:rn,clipped:tn}}},{key:"getStringX",value:function(Gr){var Yr=this.w,Zr=Gr;Yr.config.xaxis.convertedCatToNumeric&&Yr.globals.categoryLabels.length&&(Gr=Yr.globals.categoryLabels.indexOf(Gr)+1);var Kr=Yr.globals.labels.map(function(Jr){return Array.isArray(Jr)?Jr.join(" "):Jr}).indexOf(Gr),Qr=Yr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(Kr+1,")"));return Qr&&(Zr=parseFloat(Qr.getAttribute("x"))),Zr}}]),Wr}(),Ti=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.annoCtx=Gr,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ii(this.annoCtx)}return s(Wr,[{key:"addXaxisAnnotation",value:function(Gr,Yr,Zr){var Kr,Qr=this.w,Jr=this.helpers.getX1X2("x1",Gr),en=Jr.x,tn=Jr.clipped,rn=!0,an=Gr.label.text,nn=Gr.strokeDashArray;if(v.isNumber(en)){if(Gr.x2===null||Gr.x2===void 0){if(!tn){var sn=this.annoCtx.graphics.drawLine(en+Gr.offsetX,0+Gr.offsetY,en+Gr.offsetX,Qr.globals.gridHeight+Gr.offsetY,Gr.borderColor,nn,Gr.borderWidth);Yr.appendChild(sn.node),Gr.id&&sn.node.classList.add(Gr.id)}}else{var ln=this.helpers.getX1X2("x2",Gr);if(Kr=ln.x,rn=ln.clipped,Kr<en){var un=en;en=Kr,Kr=un}var cn=this.annoCtx.graphics.drawRect(en+Gr.offsetX,0+Gr.offsetY,Kr-en,Qr.globals.gridHeight+Gr.offsetY,0,Gr.fillColor,Gr.opacity,1,Gr.borderColor,nn);cn.node.classList.add("apexcharts-annotation-rect"),cn.attr("clip-path","url(#gridRectMask".concat(Qr.globals.cuid,")")),Yr.appendChild(cn.node),Gr.id&&cn.node.classList.add(Gr.id)}if(!tn||!rn){var hn=this.annoCtx.graphics.getTextRects(an,parseFloat(Gr.label.style.fontSize)),dn=Gr.label.position==="top"?4:Gr.label.position==="center"?Qr.globals.gridHeight/2+(Gr.label.orientation==="vertical"?hn.width/2:0):Qr.globals.gridHeight,fn=this.annoCtx.graphics.drawText({x:en+Gr.label.offsetX,y:dn+Gr.label.offsetY-(Gr.label.orientation==="vertical"?Gr.label.position==="top"?hn.width/2-12:-hn.width/2:0),text:an,textAnchor:Gr.label.textAnchor,fontSize:Gr.label.style.fontSize,fontFamily:Gr.label.style.fontFamily,fontWeight:Gr.label.style.fontWeight,foreColor:Gr.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(Gr.label.style.cssClass," ").concat(Gr.id?Gr.id:"")});fn.attr({rel:Zr}),Yr.appendChild(fn.node),this.annoCtx.helpers.setOrientations(Gr,Zr)}}}},{key:"drawXAxisAnnotations",value:function(){var Gr=this,Yr=this.w,Zr=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return Yr.config.annotations.xaxis.map(function(Kr,Qr){Gr.addXaxisAnnotation(Kr,Zr.node,Qr)}),Zr}}]),Wr}(),zi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s(Wr,[{key:"isValidDate",value:function(Gr){return typeof Gr!="number"&&!isNaN(this.parseDate(Gr))}},{key:"getTimeStamp",value:function(Gr){return Date.parse(Gr)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Gr).toISOString().substr(0,25)).getTime():new Date(Gr).getTime():Gr}},{key:"getDate",value:function(Gr){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(Gr).toUTCString()):new Date(Gr)}},{key:"parseDate",value:function(Gr){var Yr=Date.parse(Gr);if(!isNaN(Yr))return this.getTimeStamp(Gr);var Zr=Date.parse(Gr.replace(/-/g,"/").replace(/[a-z]+/gi," "));return Zr=this.getTimeStamp(Zr)}},{key:"parseDateWithTimezone",value:function(Gr){return Date.parse(Gr.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(Gr,Yr){var Zr=this.w.globals.locale,Kr=this.w.config.xaxis.labels.datetimeUTC,Qr=["\0"].concat(f(Zr.months)),Jr=[""].concat(f(Zr.shortMonths)),en=[""].concat(f(Zr.days)),tn=[""].concat(f(Zr.shortDays));function rn(xn,bn){var Sn=xn+"";for(bn=bn||2;Sn.length<bn;)Sn="0"+Sn;return Sn}var an=Kr?Gr.getUTCFullYear():Gr.getFullYear();Yr=(Yr=(Yr=Yr.replace(/(^|[^\\])yyyy+/g,"$1"+an)).replace(/(^|[^\\])yy/g,"$1"+an.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+an);var nn=(Kr?Gr.getUTCMonth():Gr.getMonth())+1;Yr=(Yr=(Yr=(Yr=Yr.replace(/(^|[^\\])MMMM+/g,"$1"+Qr[0])).replace(/(^|[^\\])MMM/g,"$1"+Jr[0])).replace(/(^|[^\\])MM/g,"$1"+rn(nn))).replace(/(^|[^\\])M/g,"$1"+nn);var sn=Kr?Gr.getUTCDate():Gr.getDate();Yr=(Yr=(Yr=(Yr=Yr.replace(/(^|[^\\])dddd+/g,"$1"+en[0])).replace(/(^|[^\\])ddd/g,"$1"+tn[0])).replace(/(^|[^\\])dd/g,"$1"+rn(sn))).replace(/(^|[^\\])d/g,"$1"+sn);var ln=Kr?Gr.getUTCHours():Gr.getHours(),un=ln>12?ln-12:ln===0?12:ln;Yr=(Yr=(Yr=(Yr=Yr.replace(/(^|[^\\])HH+/g,"$1"+rn(ln))).replace(/(^|[^\\])H/g,"$1"+ln)).replace(/(^|[^\\])hh+/g,"$1"+rn(un))).replace(/(^|[^\\])h/g,"$1"+un);var cn=Kr?Gr.getUTCMinutes():Gr.getMinutes();Yr=(Yr=Yr.replace(/(^|[^\\])mm+/g,"$1"+rn(cn))).replace(/(^|[^\\])m/g,"$1"+cn);var hn=Kr?Gr.getUTCSeconds():Gr.getSeconds();Yr=(Yr=Yr.replace(/(^|[^\\])ss+/g,"$1"+rn(hn))).replace(/(^|[^\\])s/g,"$1"+hn);var dn=Kr?Gr.getUTCMilliseconds():Gr.getMilliseconds();Yr=Yr.replace(/(^|[^\\])fff+/g,"$1"+rn(dn,3)),dn=Math.round(dn/10),Yr=Yr.replace(/(^|[^\\])ff/g,"$1"+rn(dn)),dn=Math.round(dn/10);var fn=ln<12?"AM":"PM";Yr=(Yr=(Yr=Yr.replace(/(^|[^\\])f/g,"$1"+dn)).replace(/(^|[^\\])TT+/g,"$1"+fn)).replace(/(^|[^\\])T/g,"$1"+fn.charAt(0));var pn=fn.toLowerCase();Yr=(Yr=Yr.replace(/(^|[^\\])tt+/g,"$1"+pn)).replace(/(^|[^\\])t/g,"$1"+pn.charAt(0));var gn=-Gr.getTimezoneOffset(),vn=Kr||!gn?"Z":gn>0?"+":"-";if(!Kr){var mn=(gn=Math.abs(gn))%60;vn+=rn(Math.floor(gn/60))+":"+rn(mn)}Yr=Yr.replace(/(^|[^\\])K/g,"$1"+vn);var yn=(Kr?Gr.getUTCDay():Gr.getDay())+1;return Yr=(Yr=(Yr=(Yr=(Yr=Yr.replace(new RegExp(en[0],"g"),en[yn])).replace(new RegExp(tn[0],"g"),tn[yn])).replace(new RegExp(Qr[0],"g"),Qr[nn])).replace(new RegExp(Jr[0],"g"),Jr[nn])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(Gr,Yr,Zr){var Kr=this.w;Kr.config.xaxis.min!==void 0&&(Gr=Kr.config.xaxis.min),Kr.config.xaxis.max!==void 0&&(Yr=Kr.config.xaxis.max);var Qr=this.getDate(Gr),Jr=this.getDate(Yr),en=this.formatDate(Qr,"yyyy MM dd HH mm ss fff").split(" "),tn=this.formatDate(Jr,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(en[6],10),maxMillisecond:parseInt(tn[6],10),minSecond:parseInt(en[5],10),maxSecond:parseInt(tn[5],10),minMinute:parseInt(en[4],10),maxMinute:parseInt(tn[4],10),minHour:parseInt(en[3],10),maxHour:parseInt(tn[3],10),minDate:parseInt(en[2],10),maxDate:parseInt(tn[2],10),minMonth:parseInt(en[1],10)-1,maxMonth:parseInt(tn[1],10)-1,minYear:parseInt(en[0],10),maxYear:parseInt(tn[0],10)}}},{key:"isLeapYear",value:function(Gr){return Gr%4==0&&Gr%100!=0||Gr%400==0}},{key:"calculcateLastDaysOfMonth",value:function(Gr,Yr,Zr){return this.determineDaysOfMonths(Gr,Yr)-Zr}},{key:"determineDaysOfYear",value:function(Gr){var Yr=365;return this.isLeapYear(Gr)&&(Yr=366),Yr}},{key:"determineRemainingDaysOfYear",value:function(Gr,Yr,Zr){var Kr=this.daysCntOfYear[Yr]+Zr;return Yr>1&&this.isLeapYear()&&Kr++,Kr}},{key:"determineDaysOfMonths",value:function(Gr,Yr){var Zr=30;switch(Gr=v.monthMod(Gr),!0){case this.months30.indexOf(Gr)>-1:Gr===2&&(Zr=this.isLeapYear(Yr)?29:28);break;case this.months31.indexOf(Gr)>-1:default:Zr=31}return Zr}}]),Wr}(),Xi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.tooltipKeyFormat="dd MMM"}return s(Wr,[{key:"xLabelFormat",value:function(Gr,Yr,Zr,Kr){var Qr=this.w;if(Qr.config.xaxis.type==="datetime"&&Qr.config.xaxis.labels.formatter===void 0&&Qr.config.tooltip.x.formatter===void 0){var Jr=new zi(this.ctx);return Jr.formatDate(Jr.getDate(Yr),Qr.config.tooltip.x.format)}return Gr(Yr,Zr,Kr)}},{key:"defaultGeneralFormatter",value:function(Gr){return Array.isArray(Gr)?Gr.map(function(Yr){return Yr}):Gr}},{key:"defaultYFormatter",value:function(Gr,Yr,Zr){var Kr=this.w;if(v.isNumber(Gr))if(Kr.globals.yValueDecimal!==0)Gr=Gr.toFixed(Yr.decimalsInFloat!==void 0?Yr.decimalsInFloat:Kr.globals.yValueDecimal);else{var Qr=Gr.toFixed(0);Gr=Gr==Qr?Qr:Gr.toFixed(1)}return Gr}},{key:"setLabelFormatters",value:function(){var Gr=this,Yr=this.w;return Yr.globals.xaxisTooltipFormatter=function(Zr){return Gr.defaultGeneralFormatter(Zr)},Yr.globals.ttKeyFormatter=function(Zr){return Gr.defaultGeneralFormatter(Zr)},Yr.globals.ttZFormatter=function(Zr){return Zr},Yr.globals.legendFormatter=function(Zr){return Gr.defaultGeneralFormatter(Zr)},Yr.config.xaxis.labels.formatter!==void 0?Yr.globals.xLabelFormatter=Yr.config.xaxis.labels.formatter:Yr.globals.xLabelFormatter=function(Zr){if(v.isNumber(Zr)){if(!Yr.config.xaxis.convertedCatToNumeric&&Yr.config.xaxis.type==="numeric"){if(v.isNumber(Yr.config.xaxis.decimalsInFloat))return Zr.toFixed(Yr.config.xaxis.decimalsInFloat);var Kr=Yr.globals.maxX-Yr.globals.minX;return Kr>0&&Kr<100?Zr.toFixed(1):Zr.toFixed(0)}return Yr.globals.isBarHorizontal&&Yr.globals.maxY-Yr.globals.minYArr<4?Zr.toFixed(1):Zr.toFixed(0)}return Zr},typeof Yr.config.tooltip.x.formatter=="function"?Yr.globals.ttKeyFormatter=Yr.config.tooltip.x.formatter:Yr.globals.ttKeyFormatter=Yr.globals.xLabelFormatter,typeof Yr.config.xaxis.tooltip.formatter=="function"&&(Yr.globals.xaxisTooltipFormatter=Yr.config.xaxis.tooltip.formatter),(Array.isArray(Yr.config.tooltip.y)||Yr.config.tooltip.y.formatter!==void 0)&&(Yr.globals.ttVal=Yr.config.tooltip.y),Yr.config.tooltip.z.formatter!==void 0&&(Yr.globals.ttZFormatter=Yr.config.tooltip.z.formatter),Yr.config.legend.formatter!==void 0&&(Yr.globals.legendFormatter=Yr.config.legend.formatter),Yr.config.yaxis.forEach(function(Zr,Kr){Zr.labels.formatter!==void 0?Yr.globals.yLabelFormatters[Kr]=Zr.labels.formatter:Yr.globals.yLabelFormatters[Kr]=function(Qr){return Yr.globals.xyCharts?Array.isArray(Qr)?Qr.map(function(Jr){return Gr.defaultYFormatter(Jr,Zr,Kr)}):Gr.defaultYFormatter(Qr,Zr,Kr):Qr}}),Yr.globals}},{key:"heatmapLabelFormatters",value:function(){var Gr=this.w;if(Gr.config.chart.type==="heatmap"){Gr.globals.yAxisScale[0].result=Gr.globals.seriesNames.slice();var Yr=Gr.globals.seriesNames.reduce(function(Zr,Kr){return Zr.length>Kr.length?Zr:Kr},0);Gr.globals.yAxisScale[0].niceMax=Yr,Gr.globals.yAxisScale[0].niceMin=Yr}}}]),Wr}(),Ri=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"getLabel",value:function(Gr,Yr,Zr,Kr){var Qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],Jr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",en=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],tn=this.w,rn=Gr[Kr]===void 0?"":Gr[Kr],an=rn,nn=tn.globals.xLabelFormatter,sn=tn.config.xaxis.labels.formatter,ln=!1,un=new Xi(this.ctx),cn=rn;en&&(an=un.xLabelFormat(nn,rn,cn,{i:Kr,dateFormatter:new zi(this.ctx).formatDate,w:tn}),sn!==void 0&&(an=sn(rn,Gr[Kr],{i:Kr,dateFormatter:new zi(this.ctx).formatDate,w:tn})));var hn,dn;Yr.length>0?(hn=Yr[Kr].unit,dn=null,Yr.forEach(function(vn){vn.unit==="month"?dn="year":vn.unit==="day"?dn="month":vn.unit==="hour"?dn="day":vn.unit==="minute"&&(dn="hour")}),ln=dn===hn,Zr=Yr[Kr].position,an=Yr[Kr].value):tn.config.xaxis.type==="datetime"&&sn===void 0&&(an=""),an===void 0&&(an=""),an=Array.isArray(an)?an:an.toString();var fn=new Mi(this.ctx),pn={};pn=tn.globals.rotateXLabels&&en?fn.getTextRects(an,parseInt(Jr,10),null,"rotate(".concat(tn.config.xaxis.labels.rotate," 0 0)"),!1):fn.getTextRects(an,parseInt(Jr,10));var gn=!tn.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(an)&&(String(an)==="NaN"||Qr.indexOf(an)>=0&&gn)&&(an=""),{x:Zr,text:an,textRect:pn,isBold:ln}}},{key:"checkLabelBasedOnTickamount",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=Kr.config.xaxis.tickAmount;return Qr==="dataPoints"&&(Qr=Math.round(Kr.globals.gridWidth/120)),Qr>Zr||Gr%Math.round(Zr/(Qr+1))==0||(Yr.text=""),Yr}},{key:"checkForOverflowingLabels",value:function(Gr,Yr,Zr,Kr,Qr){var Jr=this.w;if(Gr===0&&Jr.globals.skipFirstTimelinelabel&&(Yr.text=""),Gr===Zr-1&&Jr.globals.skipLastTimelinelabel&&(Yr.text=""),Jr.config.xaxis.labels.hideOverlappingLabels&&Kr.length>0){var en=Qr[Qr.length-1];Yr.x<en.textRect.width/(Jr.globals.rotateXLabels?Math.abs(Jr.config.xaxis.labels.rotate)/12:1.01)+en.x&&(Yr.text="")}return Yr}},{key:"checkForReversedLabels",value:function(Gr,Yr){var Zr=this.w;return Zr.config.yaxis[Gr]&&Zr.config.yaxis[Gr].reversed&&Yr.reverse(),Yr}},{key:"yAxisAllSeriesCollapsed",value:function(Gr){var Yr=this.w.globals;return!Yr.seriesYAxisMap[Gr].some(function(Zr){return Yr.collapsedSeriesIndices.indexOf(Zr)===-1})}},{key:"translateYAxisIndex",value:function(Gr){var Yr=this.w,Zr=Yr.globals,Kr=Yr.config.yaxis;return Zr.series.length>Kr.length||Kr.some(function(Qr){return Array.isArray(Qr.seriesName)})?Gr:Zr.seriesYAxisReverseMap[Gr]}},{key:"isYAxisHidden",value:function(Gr){var Yr=this.w,Zr=Yr.config.yaxis[Gr];if(!Zr.show||this.yAxisAllSeriesCollapsed(Gr))return!0;if(!Zr.showForNullSeries){var Kr=Yr.globals.seriesYAxisMap[Gr],Qr=new Pi(this.ctx);return Kr.every(function(Jr){return Qr.isSeriesNull(Jr)})}return!1}},{key:"getYAxisForeColor",value:function(Gr,Yr){var Zr=this.w;return Array.isArray(Gr)&&Zr.globals.yAxisScale[Yr]&&this.ctx.theme.pushExtraColors(Gr,Zr.globals.yAxisScale[Yr].result.length,!1),Gr}},{key:"drawYAxisTicks",value:function(Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=this.w,rn=new Mi(this.ctx),an=tn.globals.translateY+tn.config.yaxis[Qr].labels.offsetY;if(tn.globals.isBarHorizontal?an=0:tn.config.chart.type==="heatmap"&&(an+=Jr/2),Kr.show&&Yr>0){tn.config.yaxis[Qr].opposite===!0&&(Gr+=Kr.width);for(var nn=Yr;nn>=0;nn--){var sn=rn.drawLine(Gr+Zr.offsetX-Kr.width+Kr.offsetX,an+Kr.offsetY,Gr+Zr.offsetX+Kr.offsetX,an+Kr.offsetY,Kr.color);en.add(sn),an+=Jr}}}}]),Wr}(),Ei=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.annoCtx=Gr,this.helpers=new Ii(this.annoCtx),this.axesUtils=new Ri(this.annoCtx)}return s(Wr,[{key:"addYaxisAnnotation",value:function(Gr,Yr,Zr){var Kr,Qr=this.w,Jr=Gr.strokeDashArray,en=this.helpers.getY1Y2("y1",Gr),tn=en.yP,rn=en.clipped,an=!0,nn=!1,sn=Gr.label.text;if(Gr.y2===null||Gr.y2===void 0){if(!rn){nn=!0;var ln=this.annoCtx.graphics.drawLine(0+Gr.offsetX,tn+Gr.offsetY,this._getYAxisAnnotationWidth(Gr),tn+Gr.offsetY,Gr.borderColor,Jr,Gr.borderWidth);Yr.appendChild(ln.node),Gr.id&&ln.node.classList.add(Gr.id)}}else{if(Kr=(en=this.helpers.getY1Y2("y2",Gr)).yP,an=en.clipped,Kr>tn){var un=tn;tn=Kr,Kr=un}if(!rn||!an){nn=!0;var cn=this.annoCtx.graphics.drawRect(0+Gr.offsetX,Kr+Gr.offsetY,this._getYAxisAnnotationWidth(Gr),tn-Kr,0,Gr.fillColor,Gr.opacity,1,Gr.borderColor,Jr);cn.node.classList.add("apexcharts-annotation-rect"),cn.attr("clip-path","url(#gridRectMask".concat(Qr.globals.cuid,")")),Yr.appendChild(cn.node),Gr.id&&cn.node.classList.add(Gr.id)}}if(nn){var hn=Gr.label.position==="right"?Qr.globals.gridWidth:Gr.label.position==="center"?Qr.globals.gridWidth/2:0,dn=this.annoCtx.graphics.drawText({x:hn+Gr.label.offsetX,y:(Kr??tn)+Gr.label.offsetY-3,text:sn,textAnchor:Gr.label.textAnchor,fontSize:Gr.label.style.fontSize,fontFamily:Gr.label.style.fontFamily,fontWeight:Gr.label.style.fontWeight,foreColor:Gr.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(Gr.label.style.cssClass," ").concat(Gr.id?Gr.id:"")});dn.attr({rel:Zr}),Yr.appendChild(dn.node)}}},{key:"_getYAxisAnnotationWidth",value:function(Gr){var Yr=this.w;return Yr.globals.gridWidth,(Gr.width.indexOf("%")>-1?Yr.globals.gridWidth*parseInt(Gr.width,10)/100:parseInt(Gr.width,10))+Gr.offsetX}},{key:"drawYAxisAnnotations",value:function(){var Gr=this,Yr=this.w,Zr=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return Yr.config.annotations.yaxis.forEach(function(Kr,Qr){Kr.yAxisIndex=Gr.axesUtils.translateYAxisIndex(Kr.yAxisIndex),Gr.axesUtils.isYAxisHidden(Kr.yAxisIndex)&&Gr.axesUtils.yAxisAllSeriesCollapsed(Kr.yAxisIndex)||Gr.addYaxisAnnotation(Kr,Zr.node,Qr)}),Zr}}]),Wr}(),Yi=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.annoCtx=Gr,this.helpers=new Ii(this.annoCtx)}return s(Wr,[{key:"addPointAnnotation",value:function(Gr,Yr,Zr){if(!(this.w.globals.collapsedSeriesIndices.indexOf(Gr.seriesIndex)>-1)){var Kr=this.helpers.getX1X2("x1",Gr),Qr=Kr.x,Jr=Kr.clipped,en=(Kr=this.helpers.getY1Y2("y1",Gr)).yP,tn=Kr.clipped;if(v.isNumber(Qr)&&!tn&&!Jr){var rn={pSize:Gr.marker.size,pointStrokeWidth:Gr.marker.strokeWidth,pointFillColor:Gr.marker.fillColor,pointStrokeColor:Gr.marker.strokeColor,shape:Gr.marker.shape,pRadius:Gr.marker.radius,class:"apexcharts-point-annotation-marker ".concat(Gr.marker.cssClass," ").concat(Gr.id?Gr.id:"")},an=this.annoCtx.graphics.drawMarker(Qr+Gr.marker.offsetX,en+Gr.marker.offsetY,rn);Yr.appendChild(an.node);var nn=Gr.label.text?Gr.label.text:"",sn=this.annoCtx.graphics.drawText({x:Qr+Gr.label.offsetX,y:en+Gr.label.offsetY-Gr.marker.size-parseFloat(Gr.label.style.fontSize)/1.6,text:nn,textAnchor:Gr.label.textAnchor,fontSize:Gr.label.style.fontSize,fontFamily:Gr.label.style.fontFamily,fontWeight:Gr.label.style.fontWeight,foreColor:Gr.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(Gr.label.style.cssClass," ").concat(Gr.id?Gr.id:"")});if(sn.attr({rel:Zr}),Yr.appendChild(sn.node),Gr.customSVG.SVG){var ln=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+Gr.customSVG.cssClass});ln.attr({transform:"translate(".concat(Qr+Gr.customSVG.offsetX,", ").concat(en+Gr.customSVG.offsetY,")")}),ln.node.innerHTML=Gr.customSVG.SVG,Yr.appendChild(ln.node)}if(Gr.image.path){var un=Gr.image.width?Gr.image.width:20,cn=Gr.image.height?Gr.image.height:20;an=this.annoCtx.addImage({x:Qr+Gr.image.offsetX-un/2,y:en+Gr.image.offsetY-cn/2,width:un,height:cn,path:Gr.image.path,appendTo:".apexcharts-point-annotations"})}Gr.mouseEnter&&an.node.addEventListener("mouseenter",Gr.mouseEnter.bind(this,Gr)),Gr.mouseLeave&&an.node.addEventListener("mouseleave",Gr.mouseLeave.bind(this,Gr)),Gr.click&&an.node.addEventListener("click",Gr.click.bind(this,Gr))}}}},{key:"drawPointAnnotations",value:function(){var Gr=this,Yr=this.w,Zr=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return Yr.config.annotations.points.map(function(Kr,Qr){Gr.addPointAnnotation(Kr,Zr.node,Qr)}),Zr}}]),Wr}(),Hi={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Oi=function(){function Wr(){i$1(this,Wr),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return s(Wr,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Hi],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(Gr){return Gr}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(Gr){return Gr+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(Gr){return Gr.globals.seriesTotals.reduce(function(Yr,Zr){return Yr+Zr},0)/Gr.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(Gr){return Gr},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(Gr){return Gr}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(Gr){return Gr}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(Gr){return Gr.globals.seriesTotals.reduce(function(Yr,Zr){return Yr+Zr},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(Gr){return Gr!==null?Gr:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(Gr){return Gr?Gr+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Wr}(),Fi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.graphics=new Mi(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ii(this),this.xAxisAnnotations=new Ti(this),this.yAxisAnnotations=new Ei(this),this.pointsAnnotations=new Yi(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s(Wr,[{key:"drawAxesAnnotations",value:function(){var Gr=this.w;if(Gr.globals.axisCharts&&Gr.globals.dataPoints){for(var Yr=this.yAxisAnnotations.drawYAxisAnnotations(),Zr=this.xAxisAnnotations.drawXAxisAnnotations(),Kr=this.pointsAnnotations.drawPointAnnotations(),Qr=Gr.config.chart.animations.enabled,Jr=[Yr,Zr,Kr],en=[Zr.node,Yr.node,Kr.node],tn=0;tn<3;tn++)Gr.globals.dom.elGraphical.add(Jr[tn]),!Qr||Gr.globals.resized||Gr.globals.dataChanged||Gr.config.chart.type!=="scatter"&&Gr.config.chart.type!=="bubble"&&Gr.globals.dataPoints>1&&en[tn].classList.add("apexcharts-element-hidden"),Gr.globals.delayedElements.push({el:en[tn],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var Gr=this;this.w.config.annotations.images.map(function(Yr,Zr){Gr.addImage(Yr,Zr)})}},{key:"drawTextAnnos",value:function(){var Gr=this;this.w.config.annotations.texts.map(function(Yr,Zr){Gr.addText(Yr,Zr)})}},{key:"addXaxisAnnotation",value:function(Gr,Yr,Zr){this.xAxisAnnotations.addXaxisAnnotation(Gr,Yr,Zr)}},{key:"addYaxisAnnotation",value:function(Gr,Yr,Zr){this.yAxisAnnotations.addYaxisAnnotation(Gr,Yr,Zr)}},{key:"addPointAnnotation",value:function(Gr,Yr,Zr){this.pointsAnnotations.addPointAnnotation(Gr,Yr,Zr)}},{key:"addText",value:function(Gr,Yr){var Zr=Gr.x,Kr=Gr.y,Qr=Gr.text,Jr=Gr.textAnchor,en=Gr.foreColor,tn=Gr.fontSize,rn=Gr.fontFamily,an=Gr.fontWeight,nn=Gr.cssClass,sn=Gr.backgroundColor,ln=Gr.borderWidth,un=Gr.strokeDashArray,cn=Gr.borderRadius,hn=Gr.borderColor,dn=Gr.appendTo,fn=dn===void 0?".apexcharts-svg":dn,pn=Gr.paddingLeft,gn=pn===void 0?4:pn,vn=Gr.paddingRight,mn=vn===void 0?4:vn,yn=Gr.paddingBottom,xn=yn===void 0?2:yn,bn=Gr.paddingTop,Sn=bn===void 0?2:bn,wn=this.w,_n=this.graphics.drawText({x:Zr,y:Kr,text:Qr,textAnchor:Jr||"start",fontSize:tn||"12px",fontWeight:an||"regular",fontFamily:rn||wn.config.chart.fontFamily,foreColor:en||wn.config.chart.foreColor,cssClass:nn}),An=wn.globals.dom.baseEl.querySelector(fn);An&&An.appendChild(_n.node);var Cn=_n.bbox();if(Qr){var Tn=this.graphics.drawRect(Cn.x-gn,Cn.y-Sn,Cn.width+gn+mn,Cn.height+xn+Sn,cn,sn||"transparent",1,ln,hn,un);An.insertBefore(Tn.node,_n.node)}}},{key:"addImage",value:function(Gr,Yr){var Zr=this.w,Kr=Gr.path,Qr=Gr.x,Jr=Qr===void 0?0:Qr,en=Gr.y,tn=en===void 0?0:en,rn=Gr.width,an=rn===void 0?20:rn,nn=Gr.height,sn=nn===void 0?20:nn,ln=Gr.appendTo,un=ln===void 0?".apexcharts-svg":ln,cn=Zr.globals.dom.Paper.image(Kr);cn.size(an,sn).move(Jr,tn);var hn=Zr.globals.dom.baseEl.querySelector(un);return hn&&hn.appendChild(cn.node),cn}},{key:"addXaxisAnnotationExternal",value:function(Gr,Yr,Zr){return this.addAnnotationExternal({params:Gr,pushToMemory:Yr,context:Zr,type:"xaxis",contextMethod:Zr.addXaxisAnnotation}),Zr}},{key:"addYaxisAnnotationExternal",value:function(Gr,Yr,Zr){return this.addAnnotationExternal({params:Gr,pushToMemory:Yr,context:Zr,type:"yaxis",contextMethod:Zr.addYaxisAnnotation}),Zr}},{key:"addPointAnnotationExternal",value:function(Gr,Yr,Zr){return this.invertAxis===void 0&&(this.invertAxis=Zr.w.globals.isBarHorizontal),this.addAnnotationExternal({params:Gr,pushToMemory:Yr,context:Zr,type:"point",contextMethod:Zr.addPointAnnotation}),Zr}},{key:"addAnnotationExternal",value:function(Gr){var Yr=Gr.params,Zr=Gr.pushToMemory,Kr=Gr.context,Qr=Gr.type,Jr=Gr.contextMethod,en=Kr,tn=en.w,rn=tn.globals.dom.baseEl.querySelector(".apexcharts-".concat(Qr,"-annotations")),an=rn.childNodes.length+1,nn=new Oi,sn=Object.assign({},Qr==="xaxis"?nn.xAxisAnnotation:Qr==="yaxis"?nn.yAxisAnnotation:nn.pointAnnotation),ln=v.extend(sn,Yr);switch(Qr){case"xaxis":this.addXaxisAnnotation(ln,rn,an);break;case"yaxis":this.addYaxisAnnotation(ln,rn,an);break;case"point":this.addPointAnnotation(ln,rn,an)}var un=tn.globals.dom.baseEl.querySelector(".apexcharts-".concat(Qr,"-annotations .apexcharts-").concat(Qr,"-annotation-label[rel='").concat(an,"']")),cn=this.helpers.addBackgroundToAnno(un,ln);return cn&&rn.insertBefore(cn.node,un),Zr&&tn.globals.memory.methodsToExec.push({context:en,id:ln.id?ln.id:v.randomId(),method:Jr,label:"addAnnotation",params:Yr}),Kr}},{key:"clearAnnotations",value:function(Gr){for(var Yr=Gr.w,Zr=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),Kr=Yr.globals.memory.methodsToExec.length-1;Kr>=0;Kr--)Yr.globals.memory.methodsToExec[Kr].label!=="addText"&&Yr.globals.memory.methodsToExec[Kr].label!=="addAnnotation"||Yr.globals.memory.methodsToExec.splice(Kr,1);Zr=v.listToArray(Zr),Array.prototype.forEach.call(Zr,function(Qr){for(;Qr.firstChild;)Qr.removeChild(Qr.firstChild)})}},{key:"removeAnnotation",value:function(Gr,Yr){var Zr=Gr.w,Kr=Zr.globals.dom.baseEl.querySelectorAll(".".concat(Yr));Kr&&(Zr.globals.memory.methodsToExec.map(function(Qr,Jr){Qr.id===Yr&&Zr.globals.memory.methodsToExec.splice(Jr,1)}),Array.prototype.forEach.call(Kr,function(Qr){Qr.parentElement.removeChild(Qr)}))}}]),Wr}(),Di=function(Wr){var Gr,Yr=Wr.isTimeline,Zr=Wr.ctx,Kr=Wr.seriesIndex,Qr=Wr.dataPointIndex,Jr=Wr.y1,en=Wr.y2,tn=Wr.w,rn=tn.globals.seriesRangeStart[Kr][Qr],an=tn.globals.seriesRangeEnd[Kr][Qr],nn=tn.globals.labels[Qr],sn=tn.config.series[Kr].name?tn.config.series[Kr].name:"",ln=tn.globals.ttKeyFormatter,un=tn.config.tooltip.y.title.formatter,cn={w:tn,seriesIndex:Kr,dataPointIndex:Qr,start:rn,end:an};typeof un=="function"&&(sn=un(sn,cn)),(Gr=tn.config.series[Kr].data[Qr])!==null&&Gr!==void 0&&Gr.x&&(nn=tn.config.series[Kr].data[Qr].x),Yr||tn.config.xaxis.type==="datetime"&&(nn=new Xi(Zr).xLabelFormat(tn.globals.ttKeyFormatter,nn,nn,{i:void 0,dateFormatter:new zi(Zr).formatDate,w:tn})),typeof ln=="function"&&(nn=ln(nn,cn)),Number.isFinite(Jr)&&Number.isFinite(en)&&(rn=Jr,an=en);var hn="",dn="",fn=tn.globals.colors[Kr];if(tn.config.tooltip.x.formatter===void 0)if(tn.config.xaxis.type==="datetime"){var pn=new zi(Zr);hn=pn.formatDate(pn.getDate(rn),tn.config.tooltip.x.format),dn=pn.formatDate(pn.getDate(an),tn.config.tooltip.x.format)}else hn=rn,dn=an;else hn=tn.config.tooltip.x.formatter(rn),dn=tn.config.tooltip.x.formatter(an);return{start:rn,end:an,startVal:hn,endVal:dn,ylabel:nn,color:fn,seriesName:sn}},_i=function(Wr){var Gr=Wr.color,Yr=Wr.seriesName,Zr=Wr.ylabel,Kr=Wr.start,Qr=Wr.end,Jr=Wr.seriesIndex,en=Wr.dataPointIndex,tn=Wr.ctx.tooltip.tooltipLabels.getFormatters(Jr);Kr=tn.yLbFormatter(Kr),Qr=tn.yLbFormatter(Qr);var rn=tn.yLbFormatter(Wr.w.globals.series[Jr][en]),an=`<span class="value start-value">
  `.concat(Kr,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(Qr,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+Gr+'">'+(Yr||"")+'</span></div><div> <span class="category">'+Zr+": </span> "+(Wr.w.globals.comboCharts?Wr.w.config.series[Jr].type==="rangeArea"||Wr.w.config.series[Jr].type==="rangeBar"?an:"<span>".concat(rn,"</span>"):an)+" </div></div>"},Ni=function(){function Wr(Gr){i$1(this,Wr),this.opts=Gr}return s(Wr,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(Gr){return this.hideYAxis(),v.extend(Gr,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(Gr,Yr){var Zr=Yr.w.config.series[Yr.seriesIndex].name;return Gr!==null?Zr+": "+Gr:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),u(u({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var Gr=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(Yr){var Zr=Yr.seriesIndex,Kr=Yr.dataPointIndex,Qr=Yr.w;return Gr._getBoxTooltip(Qr,Zr,Kr,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var Gr=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(Yr){var Zr=Yr.seriesIndex,Kr=Yr.dataPointIndex,Qr=Yr.w;return Gr._getBoxTooltip(Qr,Zr,Kr,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(Gr,Yr){Yr.ctx;var Zr=Yr.seriesIndex,Kr=Yr.dataPointIndex,Qr=Yr.w,Jr=function(){var en=Qr.globals.seriesRangeStart[Zr][Kr];return Qr.globals.seriesRangeEnd[Zr][Kr]-en};return Qr.globals.comboCharts?Qr.config.series[Zr].type==="rangeBar"||Qr.config.series[Zr].type==="rangeArea"?Jr():Gr:Jr()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(Gr){return Gr.w.config.plotOptions&&Gr.w.config.plotOptions.bar&&Gr.w.config.plotOptions.bar.horizontal?function(Yr){var Zr=Di(u(u({},Yr),{},{isTimeline:!0})),Kr=Zr.color,Qr=Zr.seriesName,Jr=Zr.ylabel,en=Zr.startVal,tn=Zr.endVal;return _i(u(u({},Yr),{},{color:Kr,seriesName:Qr,ylabel:Jr,start:en,end:tn}))}(Gr):function(Yr){var Zr=Di(Yr),Kr=Zr.color,Qr=Zr.seriesName,Jr=Zr.ylabel,en=Zr.start,tn=Zr.end;return _i(u(u({},Yr),{},{color:Kr,seriesName:Qr,ylabel:Jr,start:en,end:tn}))}(Gr)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(Gr){var Yr,Zr;return(Yr=Gr.plotOptions.bar)!==null&&Yr!==void 0&&Yr.barHeight||(Gr.plotOptions.bar.barHeight=2),(Zr=Gr.plotOptions.bar)!==null&&Zr!==void 0&&Zr.columnWidth||(Gr.plotOptions.bar.columnWidth=2),Gr}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(Gr){return function(Yr){var Zr=Di(Yr),Kr=Zr.color,Qr=Zr.seriesName,Jr=Zr.ylabel,en=Zr.start,tn=Zr.end;return _i(u(u({},Yr),{},{color:Kr,seriesName:Qr,ylabel:Jr,start:en,end:tn}))}(Gr)}}}}},{key:"brush",value:function(Gr){return v.extend(Gr,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(Gr){Gr.dataLabels=Gr.dataLabels||{},Gr.dataLabels.formatter=Gr.dataLabels.formatter||void 0;var Yr=Gr.dataLabels.formatter;return Gr.yaxis.forEach(function(Zr,Kr){Gr.yaxis[Kr].min=0,Gr.yaxis[Kr].max=100}),Gr.chart.type==="bar"&&(Gr.dataLabels.formatter=Yr||function(Zr){return typeof Zr=="number"&&Zr?Zr.toFixed(0)+"%":Zr}),Gr}},{key:"stackedBars",value:function(){var Gr=this.bar();return u(u({},Gr),{},{plotOptions:u(u({},Gr.plotOptions),{},{bar:u(u({},Gr.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(Gr){return Gr.xaxis.convertedCatToNumeric=!0,Gr}},{key:"convertCatToNumericXaxis",value:function(Gr,Yr,Zr){Gr.xaxis.type="numeric",Gr.xaxis.labels=Gr.xaxis.labels||{},Gr.xaxis.labels.formatter=Gr.xaxis.labels.formatter||function(Jr){return v.isNumber(Jr)?Math.floor(Jr):Jr};var Kr=Gr.xaxis.labels.formatter,Qr=Gr.xaxis.categories&&Gr.xaxis.categories.length?Gr.xaxis.categories:Gr.labels;return Zr&&Zr.length&&(Qr=Zr.map(function(Jr){return Array.isArray(Jr)?Jr:String(Jr)})),Qr&&Qr.length&&(Gr.xaxis.labels.formatter=function(Jr){return v.isNumber(Jr)?Kr(Qr[Math.floor(Jr)-1]):Kr(Jr)}),Gr.xaxis.categories=[],Gr.labels=[],Gr.xaxis.tickAmount=Gr.xaxis.tickAmount||"dataPoints",Gr}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(Gr){return Gr.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Gr){return Gr.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(Gr){return Gr.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(Gr){return Gr},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(Gr,Yr,Zr,Kr,Qr){var Jr=Gr.globals.seriesCandleO[Yr][Zr],en=Gr.globals.seriesCandleH[Yr][Zr],tn=Gr.globals.seriesCandleM[Yr][Zr],rn=Gr.globals.seriesCandleL[Yr][Zr],an=Gr.globals.seriesCandleC[Yr][Zr];return Gr.config.series[Yr].type&&Gr.config.series[Yr].type!==Qr?`<div class="apexcharts-custom-tooltip">
          `.concat(Gr.config.series[Yr].name?Gr.config.series[Yr].name:"series-"+(Yr+1),": <strong>").concat(Gr.globals.series[Yr][Zr],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(Gr.config.chart.type,'">')+"<div>".concat(Kr[0],': <span class="value">')+Jr+"</span></div>"+"<div>".concat(Kr[1],': <span class="value">')+en+"</span></div>"+(tn?"<div>".concat(Kr[2],': <span class="value">')+tn+"</span></div>":"")+"<div>".concat(Kr[3],': <span class="value">')+rn+"</span></div>"+"<div>".concat(Kr[4],': <span class="value">')+an+"</span></div></div>"}}]),Wr}(),Wi=function(){function Wr(Gr){i$1(this,Wr),this.opts=Gr}return s(Wr,[{key:"init",value:function(Gr){var Yr=Gr.responsiveOverride,Zr=this.opts,Kr=new Oi,Qr=new Ni(Zr);this.chartType=Zr.chart.type,Zr=this.extendYAxis(Zr),Zr=this.extendAnnotations(Zr);var Jr=Kr.init(),en={};if(Zr&&b(Zr)==="object"){var tn,rn,an,nn,sn,ln,un,cn,hn,dn,fn={};fn=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(Zr.chart.type)!==-1?Qr[Zr.chart.type]():Qr.line(),(tn=Zr.plotOptions)!==null&&tn!==void 0&&(rn=tn.bar)!==null&&rn!==void 0&&rn.isFunnel&&(fn=Qr.funnel()),Zr.chart.stacked&&Zr.chart.type==="bar"&&(fn=Qr.stackedBars()),(an=Zr.chart.brush)!==null&&an!==void 0&&an.enabled&&(fn=Qr.brush(fn)),(nn=Zr.plotOptions)!==null&&nn!==void 0&&(sn=nn.line)!==null&&sn!==void 0&&sn.isSlopeChart&&(fn=Qr.slope()),Zr.chart.stacked&&Zr.chart.stackType==="100%"&&(Zr=Qr.stacked100(Zr)),(ln=Zr.plotOptions)!==null&&ln!==void 0&&(un=ln.bar)!==null&&un!==void 0&&un.isDumbbell&&(Zr=Qr.dumbbell(Zr)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(Zr),Zr.xaxis=Zr.xaxis||window.Apex.xaxis||{},Yr||(Zr.xaxis.convertedCatToNumeric=!1),((cn=(Zr=this.checkForCatToNumericXAxis(this.chartType,fn,Zr)).chart.sparkline)!==null&&cn!==void 0&&cn.enabled||(hn=window.Apex.chart)!==null&&hn!==void 0&&(dn=hn.sparkline)!==null&&dn!==void 0&&dn.enabled)&&(fn=Qr.sparkline(fn)),en=v.extend(Jr,fn)}var pn=v.extend(en,window.Apex);return Jr=v.extend(pn,Zr),Jr=this.handleUserInputErrors(Jr)}},{key:"checkForCatToNumericXAxis",value:function(Gr,Yr,Zr){var Kr,Qr,Jr=new Ni(Zr),en=(Gr==="bar"||Gr==="boxPlot")&&((Kr=Zr.plotOptions)===null||Kr===void 0||(Qr=Kr.bar)===null||Qr===void 0?void 0:Qr.horizontal),tn=Gr==="pie"||Gr==="polarArea"||Gr==="donut"||Gr==="radar"||Gr==="radialBar"||Gr==="heatmap",rn=Zr.xaxis.type!=="datetime"&&Zr.xaxis.type!=="numeric",an=Zr.xaxis.tickPlacement?Zr.xaxis.tickPlacement:Yr.xaxis&&Yr.xaxis.tickPlacement;return en||tn||!rn||an==="between"||(Zr=Jr.convertCatToNumeric(Zr)),Zr}},{key:"extendYAxis",value:function(Gr,Yr){var Zr=new Oi;(Gr.yaxis===void 0||!Gr.yaxis||Array.isArray(Gr.yaxis)&&Gr.yaxis.length===0)&&(Gr.yaxis={}),Gr.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(Gr.yaxis=v.extend(Gr.yaxis,window.Apex.yaxis)),Gr.yaxis.constructor!==Array?Gr.yaxis=[v.extend(Zr.yAxis,Gr.yaxis)]:Gr.yaxis=v.extendArray(Gr.yaxis,Zr.yAxis);var Kr=!1;Gr.yaxis.forEach(function(Jr){Jr.logarithmic&&(Kr=!0)});var Qr=Gr.series;return Yr&&!Qr&&(Qr=Yr.config.series),Kr&&Qr.length!==Gr.yaxis.length&&Qr.length&&(Gr.yaxis=Qr.map(function(Jr,en){if(Jr.name||(Qr[en].name="series-".concat(en+1)),Gr.yaxis[en])return Gr.yaxis[en].seriesName=Qr[en].name,Gr.yaxis[en];var tn=v.extend(Zr.yAxis,Gr.yaxis[0]);return tn.show=!1,tn})),Kr&&Qr.length>1&&Qr.length!==Gr.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),Gr}},{key:"extendAnnotations",value:function(Gr){return Gr.annotations===void 0&&(Gr.annotations={},Gr.annotations.yaxis=[],Gr.annotations.xaxis=[],Gr.annotations.points=[]),Gr=this.extendYAxisAnnotations(Gr),Gr=this.extendXAxisAnnotations(Gr),Gr=this.extendPointAnnotations(Gr)}},{key:"extendYAxisAnnotations",value:function(Gr){var Yr=new Oi;return Gr.annotations.yaxis=v.extendArray(Gr.annotations.yaxis!==void 0?Gr.annotations.yaxis:[],Yr.yAxisAnnotation),Gr}},{key:"extendXAxisAnnotations",value:function(Gr){var Yr=new Oi;return Gr.annotations.xaxis=v.extendArray(Gr.annotations.xaxis!==void 0?Gr.annotations.xaxis:[],Yr.xAxisAnnotation),Gr}},{key:"extendPointAnnotations",value:function(Gr){var Yr=new Oi;return Gr.annotations.points=v.extendArray(Gr.annotations.points!==void 0?Gr.annotations.points:[],Yr.pointAnnotation),Gr}},{key:"checkForDarkTheme",value:function(Gr){Gr.theme&&Gr.theme.mode==="dark"&&(Gr.tooltip||(Gr.tooltip={}),Gr.tooltip.theme!=="light"&&(Gr.tooltip.theme="dark"),Gr.chart.foreColor||(Gr.chart.foreColor="#f6f7f8"),Gr.theme.palette||(Gr.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(Gr){var Yr=Gr;if(Yr.tooltip.shared&&Yr.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(Yr.chart.type==="bar"&&Yr.plotOptions.bar.horizontal){if(Yr.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");Yr.yaxis[0].reversed&&(Yr.yaxis[0].opposite=!0),Yr.xaxis.tooltip.enabled=!1,Yr.yaxis[0].tooltip.enabled=!1,Yr.chart.zoom.enabled=!1}return Yr.chart.type!=="bar"&&Yr.chart.type!=="rangeBar"||Yr.tooltip.shared&&Yr.xaxis.crosshairs.width==="barWidth"&&Yr.series.length>1&&(Yr.xaxis.crosshairs.width="tickWidth"),Yr.chart.type!=="candlestick"&&Yr.chart.type!=="boxPlot"||Yr.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(Yr.chart.type," chart is not supported.")),Yr.yaxis[0].reversed=!1),Yr}}]),Wr}(),Bi=function(){function Wr(){i$1(this,Wr)}return s(Wr,[{key:"initGlobalVars",value:function(Gr){Gr.series=[],Gr.seriesCandleO=[],Gr.seriesCandleH=[],Gr.seriesCandleM=[],Gr.seriesCandleL=[],Gr.seriesCandleC=[],Gr.seriesRangeStart=[],Gr.seriesRangeEnd=[],Gr.seriesRange=[],Gr.seriesPercent=[],Gr.seriesGoals=[],Gr.seriesX=[],Gr.seriesZ=[],Gr.seriesNames=[],Gr.seriesTotals=[],Gr.seriesLog=[],Gr.seriesColors=[],Gr.stackedSeriesTotals=[],Gr.seriesXvalues=[],Gr.seriesYvalues=[],Gr.labels=[],Gr.hasXaxisGroups=!1,Gr.groups=[],Gr.barGroups=[],Gr.lineGroups=[],Gr.areaGroups=[],Gr.hasSeriesGroups=!1,Gr.seriesGroups=[],Gr.categoryLabels=[],Gr.timescaleLabels=[],Gr.noLabelsProvided=!1,Gr.resizeTimer=null,Gr.selectionResizeTimer=null,Gr.lastWheelExecution=0,Gr.delayedElements=[],Gr.pointsArray=[],Gr.dataLabelsRects=[],Gr.isXNumeric=!1,Gr.skipLastTimelinelabel=!1,Gr.skipFirstTimelinelabel=!1,Gr.isDataXYZ=!1,Gr.isMultiLineX=!1,Gr.isMultipleYAxis=!1,Gr.maxY=-Number.MAX_VALUE,Gr.minY=Number.MIN_VALUE,Gr.minYArr=[],Gr.maxYArr=[],Gr.maxX=-Number.MAX_VALUE,Gr.minX=Number.MAX_VALUE,Gr.initialMaxX=-Number.MAX_VALUE,Gr.initialMinX=Number.MAX_VALUE,Gr.maxDate=0,Gr.minDate=Number.MAX_VALUE,Gr.minZ=Number.MAX_VALUE,Gr.maxZ=-Number.MAX_VALUE,Gr.minXDiff=Number.MAX_VALUE,Gr.yAxisScale=[],Gr.xAxisScale=null,Gr.xAxisTicksPositions=[],Gr.yLabelsCoords=[],Gr.yTitleCoords=[],Gr.barPadForNumericAxis=0,Gr.padHorizontal=0,Gr.xRange=0,Gr.yRange=[],Gr.zRange=0,Gr.dataPoints=0,Gr.xTickAmount=0,Gr.multiAxisTickAmount=0}},{key:"globalVars",value:function(Gr){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:Gr.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:Gr.chart.toolbar.autoSelected==="zoom"&&Gr.chart.toolbar.tools.zoom&&Gr.chart.zoom.enabled,panEnabled:Gr.chart.toolbar.autoSelected==="pan"&&Gr.chart.toolbar.tools.pan,selectionEnabled:Gr.chart.toolbar.autoSelected==="selection"&&Gr.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:Gr.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(Gr){var Yr=this.globalVars(Gr);return this.initGlobalVars(Yr),Yr.initialConfig=v.extend({},Gr),Yr.initialSeries=v.clone(Gr.series),Yr.lastXAxis=v.clone(Yr.initialConfig.xaxis),Yr.lastYAxis=v.clone(Yr.initialConfig.yaxis),Yr}}]),Wr}(),Gi=function(){function Wr(Gr){i$1(this,Wr),this.opts=Gr}return s(Wr,[{key:"init",value:function(){var Gr=new Wi(this.opts).init({responsiveOverride:!1});return{config:Gr,globals:new Bi().init(Gr)}}}]),Wr}(),ji=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return s(Wr,[{key:"clippedImgArea",value:function(Gr){var Yr=this.w,Zr=Yr.config,Kr=parseInt(Yr.globals.gridWidth,10),Qr=parseInt(Yr.globals.gridHeight,10),Jr=Kr>Qr?Kr:Qr,en=Gr.image,tn=0,rn=0;Gr.width===void 0&&Gr.height===void 0?Zr.fill.image.width!==void 0&&Zr.fill.image.height!==void 0?(tn=Zr.fill.image.width+1,rn=Zr.fill.image.height):(tn=Jr+1,rn=Jr):(tn=Gr.width,rn=Gr.height);var an=document.createElementNS(Yr.globals.SVGNS,"pattern");Mi.setAttrs(an,{id:Gr.patternID,patternUnits:Gr.patternUnits?Gr.patternUnits:"userSpaceOnUse",width:tn+"px",height:rn+"px"});var nn=document.createElementNS(Yr.globals.SVGNS,"image");an.appendChild(nn),nn.setAttributeNS(window.SVG.xlink,"href",en),Mi.setAttrs(nn,{x:0,y:0,preserveAspectRatio:"none",width:tn+"px",height:rn+"px"}),nn.style.opacity=Gr.opacity,Yr.globals.dom.elDefs.node.appendChild(an)}},{key:"getSeriesIndex",value:function(Gr){var Yr=this.w,Zr=Yr.config.chart.type;return(Zr==="bar"||Zr==="rangeBar")&&Yr.config.plotOptions.bar.distributed||Zr==="heatmap"||Zr==="treemap"?this.seriesIndex=Gr.seriesNumber:this.seriesIndex=Gr.seriesNumber%Yr.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(Gr,Yr){var Zr,Kr=this.w,Qr=null,Jr=null,en=r(Gr);try{for(en.s();!(Zr=en.n()).done;){var tn=Zr.value;tn>=Yr.threshold?(Qr===null||tn>Qr)&&(Qr=tn):(Jr===null||tn<Jr)&&(Jr=tn)}}catch(nn){en.e(nn)}finally{en.f()}Qr===null&&(Qr=Yr.threshold),Jr===null&&(Jr=Yr.threshold);var rn=Qr-Yr.threshold+(Yr.threshold-Jr);rn===0&&(rn=1);var an=100-(Yr.threshold-Jr)/rn*100;return[{offset:an=Math.max(0,Math.min(an,100)),color:Yr.colorAboveThreshold,opacity:Kr.config.fill.opacity},{offset:0,color:Yr.colorBelowThreshold,opacity:Kr.config.fill.opacity}]}},{key:"fillPath",value:function(Gr){var Yr,Zr,Kr,Qr=this.w;this.opts=Gr;var Jr,en,tn,rn=this.w.config;this.seriesIndex=this.getSeriesIndex(Gr);var an=rn.plotOptions.line.colors.colorAboveThreshold&&rn.plotOptions.line.colors.colorBelowThreshold,nn=this.getFillColors()[this.seriesIndex];Qr.globals.seriesColors[this.seriesIndex]!==void 0&&(nn=Qr.globals.seriesColors[this.seriesIndex]),typeof nn=="function"&&(nn=nn({seriesIndex:this.seriesIndex,dataPointIndex:Gr.dataPointIndex,value:Gr.value,w:Qr}));var sn,ln,un,cn=Gr.fillType?Gr.fillType:this.getFillType(this.seriesIndex),hn=Array.isArray(rn.fill.opacity)?rn.fill.opacity[this.seriesIndex]:rn.fill.opacity,dn=cn==="gradient"||an;Gr.color&&(nn=Gr.color),(Yr=Qr.config.series[this.seriesIndex])!==null&&Yr!==void 0&&(Zr=Yr.data)!==null&&Zr!==void 0&&(Kr=Zr[Gr.dataPointIndex])!==null&&Kr!==void 0&&Kr.fillColor&&(nn=(sn=Qr.config.series[this.seriesIndex])===null||sn===void 0||(ln=sn.data)===null||ln===void 0||(un=ln[Gr.dataPointIndex])===null||un===void 0?void 0:un.fillColor),nn||(nn="#fff",console.warn("undefined color - ApexCharts"));var fn=nn;if(nn.indexOf("rgb")===-1?nn.indexOf("#")===-1?fn=nn:nn.length<9&&(fn=v.hexToRgba(nn,hn)):nn.indexOf("rgba")>-1?hn=v.getOpacityFromRGBA(nn):fn=v.hexToRgba(v.rgb2hex(nn),hn),Gr.opacity&&(hn=Gr.opacity),cn==="pattern"&&(en=this.handlePatternFill({fillConfig:Gr.fillConfig,patternFill:en,fillColor:nn,fillOpacity:hn,defaultColor:fn})),dn){var pn=f(rn.fill.gradient.colorStops)||[],gn=rn.fill.gradient.type;an&&(pn[this.seriesIndex]=this.computeColorStops(Qr.globals.series[this.seriesIndex],rn.plotOptions.line.colors),gn="vertical"),tn=this.handleGradientFill({type:gn,fillConfig:Gr.fillConfig,fillColor:nn,fillOpacity:hn,colorStops:pn,i:this.seriesIndex})}if(cn==="image"){var vn=rn.fill.image.src,mn=Gr.patternID?Gr.patternID:"",yn="pattern".concat(Qr.globals.cuid).concat(Gr.seriesNumber+1).concat(mn);this.patternIDs.indexOf(yn)===-1&&(this.clippedImgArea({opacity:hn,image:Array.isArray(vn)?Gr.seriesNumber<vn.length?vn[Gr.seriesNumber]:vn[0]:vn,width:Gr.width?Gr.width:void 0,height:Gr.height?Gr.height:void 0,patternUnits:Gr.patternUnits,patternID:yn}),this.patternIDs.push(yn)),Jr="url(#".concat(yn,")")}else Jr=dn?tn:cn==="pattern"?en:fn;return Gr.solid&&(Jr=fn),Jr}},{key:"getFillType",value:function(Gr){var Yr=this.w;return Array.isArray(Yr.config.fill.type)?Yr.config.fill.type[Gr]:Yr.config.fill.type}},{key:"getFillColors",value:function(){var Gr=this.w,Yr=Gr.config,Zr=this.opts,Kr=[];return Gr.globals.comboCharts?Gr.config.series[this.seriesIndex].type==="line"?Array.isArray(Gr.globals.stroke.colors)?Kr=Gr.globals.stroke.colors:Kr.push(Gr.globals.stroke.colors):Array.isArray(Gr.globals.fill.colors)?Kr=Gr.globals.fill.colors:Kr.push(Gr.globals.fill.colors):Yr.chart.type==="line"?Array.isArray(Gr.globals.stroke.colors)?Kr=Gr.globals.stroke.colors:Kr.push(Gr.globals.stroke.colors):Array.isArray(Gr.globals.fill.colors)?Kr=Gr.globals.fill.colors:Kr.push(Gr.globals.fill.colors),Zr.fillColors!==void 0&&(Kr=[],Array.isArray(Zr.fillColors)?Kr=Zr.fillColors.slice():Kr.push(Zr.fillColors)),Kr}},{key:"handlePatternFill",value:function(Gr){var Yr=Gr.fillConfig,Zr=Gr.patternFill,Kr=Gr.fillColor,Qr=Gr.fillOpacity,Jr=Gr.defaultColor,en=this.w.config.fill;Yr&&(en=Yr);var tn=this.opts,rn=new Mi(this.ctx),an=Array.isArray(en.pattern.strokeWidth)?en.pattern.strokeWidth[this.seriesIndex]:en.pattern.strokeWidth,nn=Kr;return Array.isArray(en.pattern.style)?Zr=en.pattern.style[tn.seriesNumber]!==void 0?rn.drawPattern(en.pattern.style[tn.seriesNumber],en.pattern.width,en.pattern.height,nn,an,Qr):Jr:Zr=rn.drawPattern(en.pattern.style,en.pattern.width,en.pattern.height,nn,an,Qr),Zr}},{key:"handleGradientFill",value:function(Gr){var Yr=Gr.type,Zr=Gr.fillColor,Kr=Gr.fillOpacity,Qr=Gr.fillConfig,Jr=Gr.colorStops,en=Gr.i,tn=this.w.config.fill;Qr&&(tn=u(u({},tn),Qr));var rn=this.opts,an=new Mi(this.ctx),nn=new v;Yr=Yr||tn.gradient.type;var sn,ln=Zr,un=tn.gradient.opacityFrom===void 0?Kr:Array.isArray(tn.gradient.opacityFrom)?tn.gradient.opacityFrom[en]:tn.gradient.opacityFrom;ln.indexOf("rgba")>-1&&(un=v.getOpacityFromRGBA(ln));var cn=tn.gradient.opacityTo===void 0?Kr:Array.isArray(tn.gradient.opacityTo)?tn.gradient.opacityTo[en]:tn.gradient.opacityTo;if(tn.gradient.gradientToColors===void 0||tn.gradient.gradientToColors.length===0)sn=tn.gradient.shade==="dark"?nn.shadeColor(-1*parseFloat(tn.gradient.shadeIntensity),Zr.indexOf("rgb")>-1?v.rgb2hex(Zr):Zr):nn.shadeColor(parseFloat(tn.gradient.shadeIntensity),Zr.indexOf("rgb")>-1?v.rgb2hex(Zr):Zr);else if(tn.gradient.gradientToColors[rn.seriesNumber]){var hn=tn.gradient.gradientToColors[rn.seriesNumber];sn=hn,hn.indexOf("rgba")>-1&&(cn=v.getOpacityFromRGBA(hn))}else sn=Zr;if(tn.gradient.gradientFrom&&(ln=tn.gradient.gradientFrom),tn.gradient.gradientTo&&(sn=tn.gradient.gradientTo),tn.gradient.inverseColors){var dn=ln;ln=sn,sn=dn}return ln.indexOf("rgb")>-1&&(ln=v.rgb2hex(ln)),sn.indexOf("rgb")>-1&&(sn=v.rgb2hex(sn)),an.drawGradient(Yr,ln,sn,un,cn,rn.size,tn.gradient.stops,Jr,en)}}]),Wr}(),Vi=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"setGlobalMarkerSize",value:function(){var Gr=this.w;if(Gr.globals.markers.size=Array.isArray(Gr.config.markers.size)?Gr.config.markers.size:[Gr.config.markers.size],Gr.globals.markers.size.length>0){if(Gr.globals.markers.size.length<Gr.globals.series.length+1)for(var Yr=0;Yr<=Gr.globals.series.length;Yr++)Gr.globals.markers.size[Yr]===void 0&&Gr.globals.markers.size.push(Gr.globals.markers.size[0])}else Gr.globals.markers.size=Gr.config.series.map(function(Zr){return Gr.config.markers.size})}},{key:"plotChartMarkers",value:function(Gr){var Yr=Gr.pointsPos,Zr=Gr.seriesIndex,Kr=Gr.j,Qr=Gr.pSize,Jr=Gr.alwaysDrawMarker,en=Jr!==void 0&&Jr,tn=Gr.isVirtualPoint,rn=tn!==void 0&&tn,an=this.w,nn=Zr,sn=Yr,ln=null,un=new Mi(this.ctx),cn=an.config.markers.discrete&&an.config.markers.discrete.length;if(Array.isArray(sn.x))for(var hn=0;hn<sn.x.length;hn++){var dn=void 0,fn=Kr,pn=!v.isNumber(sn.y[hn]);an.globals.markers.largestSize===0&&an.globals.hasNullValues&&an.globals.series[nn][Kr+1]!==null&&!rn&&(pn=!0),Kr===1&&hn===0&&(fn=0),Kr===1&&hn===1&&(fn=1);var gn="apexcharts-marker";if(an.config.chart.type!=="line"&&an.config.chart.type!=="area"||an.globals.comboCharts||an.config.tooltip.intersect||(gn+=" no-pointer-events"),(Array.isArray(an.config.markers.size)?an.globals.markers.size[Zr]>0:an.config.markers.size>0)||en||cn){pn||(gn+=" w".concat(v.randomId()));var vn=this.getMarkerConfig({cssClass:gn,seriesIndex:Zr,dataPointIndex:fn});an.config.series[nn].data[fn]&&(an.config.series[nn].data[fn].fillColor&&(vn.pointFillColor=an.config.series[nn].data[fn].fillColor),an.config.series[nn].data[fn].strokeColor&&(vn.pointStrokeColor=an.config.series[nn].data[fn].strokeColor)),Qr!==void 0&&(vn.pSize=Qr),(sn.x[hn]<-an.globals.markers.largestSize||sn.x[hn]>an.globals.gridWidth+an.globals.markers.largestSize||sn.y[hn]<-an.globals.markers.largestSize||sn.y[hn]>an.globals.gridHeight+an.globals.markers.largestSize)&&(vn.pSize=0),!pn&&((an.globals.markers.size[Zr]>0||en||cn)&&!ln&&(ln=un.group({class:en||cn?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(an.globals.cuid,")")),(dn=un.drawMarker(sn.x[hn],sn.y[hn],vn)).attr("rel",fn),dn.attr("j",fn),dn.attr("index",Zr),dn.node.setAttribute("default-marker-size",vn.pSize),new Li(this.ctx).setSelectionFilter(dn,Zr,fn),this.addEvents(dn),ln&&ln.add(dn))}else an.globals.pointsArray[Zr]===void 0&&(an.globals.pointsArray[Zr]=[]),an.globals.pointsArray[Zr].push([sn.x[hn],sn.y[hn]])}return ln}},{key:"getMarkerConfig",value:function(Gr){var Yr=Gr.cssClass,Zr=Gr.seriesIndex,Kr=Gr.dataPointIndex,Qr=Kr===void 0?null:Kr,Jr=Gr.radius,en=Jr===void 0?null:Jr,tn=Gr.size,rn=tn===void 0?null:tn,an=Gr.strokeWidth,nn=an===void 0?null:an,sn=this.w,ln=this.getMarkerStyle(Zr),un=rn===null?sn.globals.markers.size[Zr]:rn,cn=sn.config.markers;return Qr!==null&&cn.discrete.length&&cn.discrete.map(function(hn){hn.seriesIndex===Zr&&hn.dataPointIndex===Qr&&(ln.pointStrokeColor=hn.strokeColor,ln.pointFillColor=hn.fillColor,un=hn.size,ln.pointShape=hn.shape)}),{pSize:en===null?un:en,pRadius:en!==null?en:cn.radius,pointStrokeWidth:nn!==null?nn:Array.isArray(cn.strokeWidth)?cn.strokeWidth[Zr]:cn.strokeWidth,pointStrokeColor:ln.pointStrokeColor,pointFillColor:ln.pointFillColor,shape:ln.pointShape||(Array.isArray(cn.shape)?cn.shape[Zr]:cn.shape),class:Yr,pointStrokeOpacity:Array.isArray(cn.strokeOpacity)?cn.strokeOpacity[Zr]:cn.strokeOpacity,pointStrokeDashArray:Array.isArray(cn.strokeDashArray)?cn.strokeDashArray[Zr]:cn.strokeDashArray,pointFillOpacity:Array.isArray(cn.fillOpacity)?cn.fillOpacity[Zr]:cn.fillOpacity,seriesIndex:Zr}}},{key:"addEvents",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx);Gr.node.addEventListener("mouseenter",Zr.pathMouseEnter.bind(this.ctx,Gr)),Gr.node.addEventListener("mouseleave",Zr.pathMouseLeave.bind(this.ctx,Gr)),Gr.node.addEventListener("mousedown",Zr.pathMouseDown.bind(this.ctx,Gr)),Gr.node.addEventListener("click",Yr.config.markers.onClick),Gr.node.addEventListener("dblclick",Yr.config.markers.onDblClick),Gr.node.addEventListener("touchstart",Zr.pathMouseDown.bind(this.ctx,Gr),{passive:!0})}},{key:"getMarkerStyle",value:function(Gr){var Yr=this.w,Zr=Yr.globals.markers.colors,Kr=Yr.config.markers.strokeColor||Yr.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(Kr)?Kr[Gr]:Kr,pointFillColor:Array.isArray(Zr)?Zr[Gr]:Zr}}}]),Wr}(),Ui=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.initialAnim=this.w.config.chart.animations.enabled}return s(Wr,[{key:"draw",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=new Mi(this.ctx),Jr=Zr.realIndex,en=Zr.pointsPos,tn=Zr.zRatio,rn=Zr.elParent,an=Qr.group({class:"apexcharts-series-markers apexcharts-series-".concat(Kr.config.chart.type)});if(an.attr("clip-path","url(#gridRectMarkerMask".concat(Kr.globals.cuid,")")),Array.isArray(en.x))for(var nn=0;nn<en.x.length;nn++){var sn=Yr+1,ln=!0;Yr===0&&nn===0&&(sn=0),Yr===0&&nn===1&&(sn=1);var un=Kr.globals.markers.size[Jr];if(tn!==1/0){var cn=Kr.config.plotOptions.bubble;un=Kr.globals.seriesZ[Jr][sn],cn.zScaling&&(un/=tn),cn.minBubbleRadius&&un<cn.minBubbleRadius&&(un=cn.minBubbleRadius),cn.maxBubbleRadius&&un>cn.maxBubbleRadius&&(un=cn.maxBubbleRadius)}var hn=en.x[nn],dn=en.y[nn];if(un=un||0,dn!==null&&Kr.globals.series[Jr][sn]!==void 0||(ln=!1),ln){var fn=this.drawPoint(hn,dn,un,Jr,sn,Yr);an.add(fn)}rn.add(an)}}},{key:"drawPoint",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en=this.w,tn=Kr,rn=new y(this.ctx),an=new Li(this.ctx),nn=new ji(this.ctx),sn=new Vi(this.ctx),ln=new Mi(this.ctx),un=sn.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:tn,dataPointIndex:Qr,radius:en.config.chart.type==="bubble"||en.globals.comboCharts&&en.config.series[Kr]&&en.config.series[Kr].type==="bubble"?Zr:null}),cn=nn.fillPath({seriesNumber:Kr,dataPointIndex:Qr,color:un.pointFillColor,patternUnits:"objectBoundingBox",value:en.globals.series[Kr][Jr]}),hn=ln.drawMarker(Gr,Yr,un);if(en.config.series[tn].data[Qr]&&en.config.series[tn].data[Qr].fillColor&&(cn=en.config.series[tn].data[Qr].fillColor),hn.attr({fill:cn}),en.config.chart.dropShadow.enabled){var dn=en.config.chart.dropShadow;an.dropShadow(hn,dn,Kr)}if(!this.initialAnim||en.globals.dataChanged||en.globals.resized)en.globals.animationEnded=!0;else{var fn=en.config.chart.animations.speed;rn.animateMarker(hn,fn,en.globals.easing,function(){window.setTimeout(function(){rn.animationCompleted(hn)},100)})}return hn.attr({rel:Qr,j:Qr,index:Kr,"default-marker-size":un.pSize}),an.setSelectionFilter(hn,Kr,Qr),sn.addEvents(hn),hn.node.classList.add("apexcharts-marker"),hn}},{key:"centerTextInBubble",value:function(Gr){var Yr=this.w;return{y:Gr+=parseInt(Yr.config.dataLabels.style.fontSize,10)/4}}}]),Wr}(),qi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"dataLabelsCorrection",value:function(Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=this.w,rn=!1,an=new Mi(this.ctx).getTextRects(Zr,en),nn=an.width,sn=an.height;Yr<0&&(Yr=0),Yr>tn.globals.gridHeight+sn&&(Yr=tn.globals.gridHeight+sn/2),tn.globals.dataLabelsRects[Kr]===void 0&&(tn.globals.dataLabelsRects[Kr]=[]),tn.globals.dataLabelsRects[Kr].push({x:Gr,y:Yr,width:nn,height:sn});var ln=tn.globals.dataLabelsRects[Kr].length-2,un=tn.globals.lastDrawnDataLabelsIndexes[Kr]!==void 0?tn.globals.lastDrawnDataLabelsIndexes[Kr][tn.globals.lastDrawnDataLabelsIndexes[Kr].length-1]:0;if(tn.globals.dataLabelsRects[Kr][ln]!==void 0){var cn=tn.globals.dataLabelsRects[Kr][un];(Gr>cn.x+cn.width||Yr>cn.y+cn.height||Yr+sn<cn.y||Gr+nn<cn.x)&&(rn=!0)}return(Qr===0||Jr)&&(rn=!0),{x:Gr,y:Yr,textRects:an,drawnextLabel:rn}}},{key:"drawDataLabel",value:function(Gr){var Yr=this,Zr=Gr.type,Kr=Gr.pos,Qr=Gr.i,Jr=Gr.j,en=Gr.isRangeStart,tn=Gr.strokeWidth,rn=tn===void 0?2:tn,an=this.w,nn=new Mi(this.ctx),sn=an.config.dataLabels,ln=0,un=0,cn=Jr,hn=null;if(an.globals.collapsedSeriesIndices.indexOf(Qr)!==-1||!sn.enabled||!Array.isArray(Kr.x))return hn;hn=nn.group({class:"apexcharts-data-labels"});for(var dn=0;dn<Kr.x.length;dn++)if(ln=Kr.x[dn]+sn.offsetX,un=Kr.y[dn]+sn.offsetY+rn,!isNaN(ln)){Jr===1&&dn===0&&(cn=0),Jr===1&&dn===1&&(cn=1);var fn=an.globals.series[Qr][cn];Zr==="rangeArea"&&(fn=en?an.globals.seriesRangeStart[Qr][cn]:an.globals.seriesRangeEnd[Qr][cn]);var pn="",gn=function(mn){return an.config.dataLabels.formatter(mn,{ctx:Yr.ctx,seriesIndex:Qr,dataPointIndex:cn,w:an})};an.config.chart.type==="bubble"?(pn=gn(fn=an.globals.seriesZ[Qr][cn]),un=Kr.y[dn],un=new Ui(this.ctx).centerTextInBubble(un,Qr,cn).y):fn!==void 0&&(pn=gn(fn));var vn=an.config.dataLabels.textAnchor;an.globals.isSlopeChart&&(vn=cn===0?"end":cn===an.config.series[Qr].data.length-1?"start":"middle"),this.plotDataLabelsText({x:ln,y:un,text:pn,i:Qr,j:cn,parent:hn,offsetCorrection:!0,dataLabelsConfig:an.config.dataLabels,textAnchor:vn})}return hn}},{key:"plotDataLabelsText",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx),Kr=Gr.x,Qr=Gr.y,Jr=Gr.i,en=Gr.j,tn=Gr.text,rn=Gr.textAnchor,an=Gr.fontSize,nn=Gr.parent,sn=Gr.dataLabelsConfig,ln=Gr.color,un=Gr.alwaysDrawDataLabel,cn=Gr.offsetCorrection,hn=Gr.className,dn=null;if(Array.isArray(Yr.config.dataLabels.enabledOnSeries)&&Yr.config.dataLabels.enabledOnSeries.indexOf(Jr)<0)return dn;var fn={x:Kr,y:Qr,drawnextLabel:!0,textRects:null};cn&&(fn=this.dataLabelsCorrection(Kr,Qr,tn,Jr,en,un,parseInt(sn.style.fontSize,10))),Yr.globals.zoomed||(Kr=fn.x,Qr=fn.y),fn.textRects&&(Kr<-20-fn.textRects.width||Kr>Yr.globals.gridWidth+fn.textRects.width+30)&&(tn="");var pn=Yr.globals.dataLabels.style.colors[Jr];((Yr.config.chart.type==="bar"||Yr.config.chart.type==="rangeBar")&&Yr.config.plotOptions.bar.distributed||Yr.config.dataLabels.distributed)&&(pn=Yr.globals.dataLabels.style.colors[en]),typeof pn=="function"&&(pn=pn({series:Yr.globals.series,seriesIndex:Jr,dataPointIndex:en,w:Yr})),ln&&(pn=ln);var gn=sn.offsetX,vn=sn.offsetY;if(Yr.config.chart.type!=="bar"&&Yr.config.chart.type!=="rangeBar"||(gn=0,vn=0),Yr.globals.isSlopeChart&&(en!==0&&(gn=-2*sn.offsetX+5),en!==0&&en!==Yr.config.series[Jr].data.length-1&&(gn=0)),fn.drawnextLabel){if((dn=Zr.drawText({width:100,height:parseInt(sn.style.fontSize,10),x:Kr+gn,y:Qr+vn,foreColor:pn,textAnchor:rn||sn.textAnchor,text:tn,fontSize:an||sn.style.fontSize,fontFamily:sn.style.fontFamily,fontWeight:sn.style.fontWeight||"normal"})).attr({class:hn||"apexcharts-datalabel",cx:Kr,cy:Qr}),sn.dropShadow.enabled){var mn=sn.dropShadow;new Li(this.ctx).dropShadow(dn,mn)}nn.add(dn),Yr.globals.lastDrawnDataLabelsIndexes[Jr]===void 0&&(Yr.globals.lastDrawnDataLabelsIndexes[Jr]=[]),Yr.globals.lastDrawnDataLabelsIndexes[Jr].push(en)}return dn}},{key:"addBackgroundToDataLabel",value:function(Gr,Yr){var Zr=this.w,Kr=Zr.config.dataLabels.background,Qr=Kr.padding,Jr=Kr.padding/2,en=Yr.width,tn=Yr.height,rn=new Mi(this.ctx).drawRect(Yr.x-Qr,Yr.y-Jr/2,en+2*Qr,tn+Jr,Kr.borderRadius,Zr.config.chart.background!=="transparent"&&Zr.config.chart.background?Zr.config.chart.background:"#fff",Kr.opacity,Kr.borderWidth,Kr.borderColor);return Kr.dropShadow.enabled&&new Li(this.ctx).dropShadow(rn,Kr.dropShadow),rn}},{key:"dataLabelsBackground",value:function(){var Gr=this.w;if(Gr.config.chart.type!=="bubble")for(var Yr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr],Qr=Kr.getBBox(),Jr=null;if(Qr.width&&Qr.height&&(Jr=this.addBackgroundToDataLabel(Kr,Qr)),Jr){Kr.parentNode.insertBefore(Jr.node,Kr);var en=Kr.getAttribute("fill");Gr.config.chart.animations.enabled&&!Gr.globals.resized&&!Gr.globals.dataChanged?Jr.animate().attr({fill:en}):Jr.attr({fill:en}),Kr.setAttribute("fill",Gr.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var Gr=this.w,Yr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),Zr=Gr.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),Kr=0;Kr<Yr.length;Kr++)Zr&&Zr.insertBefore(Yr[Kr],Zr.nextSibling)}}]),Wr}(),Zi=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.legendInactiveClass="legend-mouseover-inactive"}return s(Wr,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(Gr){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(v.escapeString(Gr),"']"))}},{key:"isSeriesHidden",value:function(Gr){var Yr=this.getSeriesByName(Gr),Zr=parseInt(Yr.getAttribute("data:realIndex"),10);return{isHidden:Yr.classList.contains("apexcharts-series-collapsed"),realIndex:Zr}}},{key:"addCollapsedClassToSeries",value:function(Gr,Yr){var Zr=this.w;function Kr(Qr){for(var Jr=0;Jr<Qr.length;Jr++)Qr[Jr].index===Yr&&Gr.node.classList.add("apexcharts-series-collapsed")}Kr(Zr.globals.collapsedSeries),Kr(Zr.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(Gr){var Yr=this.isSeriesHidden(Gr);return this.ctx.legend.legendHelpers.toggleDataSeries(Yr.realIndex,Yr.isHidden),Yr.isHidden}},{key:"showSeries",value:function(Gr){var Yr=this.isSeriesHidden(Gr);Yr.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(Yr.realIndex,!0)}},{key:"hideSeries",value:function(Gr){var Yr=this.isSeriesHidden(Gr);Yr.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(Yr.realIndex,!1)}},{key:"resetSeries",value:function(){var Gr=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Kr=this.w,Qr=v.clone(Kr.globals.initialSeries);Kr.globals.previousPaths=[],Zr?(Kr.globals.collapsedSeries=[],Kr.globals.ancillaryCollapsedSeries=[],Kr.globals.collapsedSeriesIndices=[],Kr.globals.ancillaryCollapsedSeriesIndices=[]):Qr=this.emptyCollapsedSeries(Qr),Kr.config.series=Qr,Gr&&(Yr&&(Kr.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(Qr,Kr.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(Gr){for(var Yr=this.w,Zr=0;Zr<Gr.length;Zr++)Yr.globals.collapsedSeriesIndices.indexOf(Zr)>-1&&(Gr[Zr].data=[]);return Gr}},{key:"highlightSeries",value:function(Gr){var Yr=this.w,Zr=this.getSeriesByName(Gr),Kr=parseInt(Zr==null?void 0:Zr.getAttribute("data:realIndex"),10),Qr=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),Jr=null,en=null,tn=null;if(Yr.globals.axisCharts||Yr.config.chart.type==="radialBar")if(Yr.globals.axisCharts){Jr=Yr.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(Kr,"']")),en=Yr.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(Kr,"']"));var rn=Yr.globals.seriesYAxisReverseMap[Kr];tn=Yr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(rn,"']"))}else Jr=Yr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(Kr+1,"']"));else Jr=Yr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(Kr+1,"'] path"));for(var an=0;an<Qr.length;an++)Qr[an].classList.add(this.legendInactiveClass);if(Jr)Yr.globals.axisCharts||Jr.parentNode.classList.remove(this.legendInactiveClass),Jr.classList.remove(this.legendInactiveClass),en!==null&&en.classList.remove(this.legendInactiveClass),tn!==null&&tn.classList.remove(this.legendInactiveClass);else for(var nn=0;nn<Qr.length;nn++)Qr[nn].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(Gr,Yr){var Zr=this.w;Yr||(Yr=Gr.target);var Kr=Zr.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(Gr.type==="mousemove"){var Qr=parseInt(Yr.getAttribute("rel"),10)-1;this.highlightSeries(Zr.globals.seriesNames[Qr])}else if(Gr.type==="mouseout")for(var Jr=0;Jr<Kr.length;Jr++)Kr[Jr].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(Gr,Yr){var Zr=this,Kr=this.w,Qr=Kr.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),Jr=function(rn){for(var an=0;an<Qr.length;an++)Qr[an].classList[rn](Zr.legendInactiveClass)};if(Gr.type==="mousemove"){var en=parseInt(Yr.getAttribute("rel"),10)-1;Jr("add");var tn=Kr.config.plotOptions.heatmap.colorScale.ranges;(function(rn,an){for(var nn=0;nn<Qr.length;nn++){var sn=Number(Qr[nn].getAttribute("val"));sn>=rn.from&&(sn<rn.to||rn.to===an&&sn===an)&&Qr[nn].classList.remove(Zr.legendInactiveClass)}})(tn[en],tn.reduce(function(rn,an){return Math.max(rn,an.to)},0))}else Gr.type==="mouseout"&&Jr("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Zr=this.w,Kr=0;if(Zr.config.series.length>1){for(var Qr=Zr.config.series.map(function(en,tn){return en.data&&en.data.length>0&&Zr.globals.collapsedSeriesIndices.indexOf(tn)===-1&&(!Zr.globals.comboCharts||Yr.length===0||Yr.length&&Yr.indexOf(Zr.config.series[tn].type)>-1)?tn:-1}),Jr=Gr==="asc"?0:Qr.length-1;Gr==="asc"?Jr<Qr.length:Jr>=0;Gr==="asc"?Jr++:Jr--)if(Qr[Jr]!==-1){Kr=Qr[Jr];break}}return Kr}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(Gr,Yr){return Gr.type==="bar"||Gr.type==="column"?Yr:-1}).filter(function(Gr){return Gr!==-1}):this.w.config.series.map(function(Gr,Yr){return Yr})}},{key:"getPreviousPaths",value:function(){var Gr=this.w;function Yr(Jr,en,tn){for(var rn=Jr[en].childNodes,an={type:tn,paths:[],realIndex:Jr[en].getAttribute("data:realIndex")},nn=0;nn<rn.length;nn++)if(rn[nn].hasAttribute("pathTo")){var sn=rn[nn].getAttribute("pathTo");an.paths.push({d:sn})}Gr.globals.previousPaths.push(an)}Gr.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(Jr){for(var en,tn=(en=Jr,Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(en,"-series .apexcharts-series"))),rn=0;rn<tn.length;rn++)Yr(tn,rn,Jr)});var Zr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Gr.config.chart.type," .apexcharts-series"));if(Zr.length>0)for(var Kr=function(Jr){for(var en=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Gr.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(Jr,"'] rect")),tn=[],rn=function(nn){var sn=function(un){return en[nn].getAttribute(un)},ln={x:parseFloat(sn("x")),y:parseFloat(sn("y")),width:parseFloat(sn("width")),height:parseFloat(sn("height"))};tn.push({rect:ln,color:en[nn].getAttribute("color")})},an=0;an<en.length;an++)rn(an);Gr.globals.previousPaths.push(tn)},Qr=0;Qr<Zr.length;Qr++)Kr(Qr);Gr.globals.axisCharts||(Gr.globals.previousPaths=Gr.globals.series)}},{key:"clearPreviousPaths",value:function(){var Gr=this.w;Gr.globals.previousPaths=[],Gr.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var Gr=this.w,Yr=Gr.config.noData,Zr=new Mi(this.ctx),Kr=Gr.globals.svgWidth/2,Qr=Gr.globals.svgHeight/2,Jr="middle";if(Gr.globals.noData=!0,Gr.globals.animationEnded=!0,Yr.align==="left"?(Kr=10,Jr="start"):Yr.align==="right"&&(Kr=Gr.globals.svgWidth-10,Jr="end"),Yr.verticalAlign==="top"?Qr=50:Yr.verticalAlign==="bottom"&&(Qr=Gr.globals.svgHeight-50),Kr+=Yr.offsetX,Qr=Qr+parseInt(Yr.style.fontSize,10)+2+Yr.offsetY,Yr.text!==void 0&&Yr.text!==""){var en=Zr.drawText({x:Kr,y:Qr,text:Yr.text,textAnchor:Jr,fontSize:Yr.style.fontSize,fontFamily:Yr.style.fontFamily,foreColor:Yr.style.color,opacity:1,class:"apexcharts-text-nodata"});Gr.globals.dom.Paper.add(en)}}},{key:"setNullSeriesToZeroValues",value:function(Gr){for(var Yr=this.w,Zr=0;Zr<Gr.length;Zr++)if(Gr[Zr].length===0)for(var Kr=0;Kr<Gr[Yr.globals.maxValsInArrayIndex].length;Kr++)Gr[Zr].push(0);return Gr}},{key:"hasAllSeriesEqualX",value:function(){for(var Gr=!0,Yr=this.w,Zr=this.filteredSeriesX(),Kr=0;Kr<Zr.length-1;Kr++)if(Zr[Kr][0]!==Zr[Kr+1][0]){Gr=!1;break}return Yr.globals.allSeriesHasEqualX=Gr,Gr}},{key:"filteredSeriesX",value:function(){var Gr=this.w.globals.seriesX.map(function(Yr){return Yr.length>0?Yr:[]});return Gr}}]),Wr}(),$i=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Pi(this.ctx)}return s(Wr,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var Gr=this.w.config.series.slice(),Yr=new Zi(this.ctx);if(this.activeSeriesIndex=Yr.getActiveConfigSeriesIndex(),Gr[this.activeSeriesIndex].data!==void 0&&Gr[this.activeSeriesIndex].data.length>0&&Gr[this.activeSeriesIndex].data[0]!==null&&Gr[this.activeSeriesIndex].data[0].x!==void 0&&Gr[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var Gr=this.w.config.series.slice(),Yr=new Zi(this.ctx);if(this.activeSeriesIndex=Yr.getActiveConfigSeriesIndex(),Gr[this.activeSeriesIndex].data!==void 0&&Gr[this.activeSeriesIndex].data.length>0&&Gr[this.activeSeriesIndex].data[0]!==void 0&&Gr[this.activeSeriesIndex].data[0]!==null&&Gr[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(Gr,Yr){for(var Zr=this.w.config,Kr=this.w.globals,Qr=Zr.chart.type==="boxPlot"||Zr.series[Yr].type==="boxPlot",Jr=0;Jr<Gr[Yr].data.length;Jr++)if(Gr[Yr].data[Jr][1]!==void 0&&(Array.isArray(Gr[Yr].data[Jr][1])&&Gr[Yr].data[Jr][1].length===4&&!Qr?this.twoDSeries.push(v.parseNumber(Gr[Yr].data[Jr][1][3])):Gr[Yr].data[Jr].length>=5?this.twoDSeries.push(v.parseNumber(Gr[Yr].data[Jr][4])):this.twoDSeries.push(v.parseNumber(Gr[Yr].data[Jr][1])),Kr.dataFormatXNumeric=!0),Zr.xaxis.type==="datetime"){var en=new Date(Gr[Yr].data[Jr][0]);en=new Date(en).getTime(),this.twoDSeriesX.push(en)}else this.twoDSeriesX.push(Gr[Yr].data[Jr][0]);for(var tn=0;tn<Gr[Yr].data.length;tn++)Gr[Yr].data[tn][2]!==void 0&&(this.threeDSeries.push(Gr[Yr].data[tn][2]),Kr.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(Gr,Yr){var Zr=this.w.config,Kr=this.w.globals,Qr=new zi(this.ctx),Jr=Yr;Kr.collapsedSeriesIndices.indexOf(Yr)>-1&&(Jr=this.activeSeriesIndex);for(var en=0;en<Gr[Yr].data.length;en++)Gr[Yr].data[en].y!==void 0&&(Array.isArray(Gr[Yr].data[en].y)?this.twoDSeries.push(v.parseNumber(Gr[Yr].data[en].y[Gr[Yr].data[en].y.length-1])):this.twoDSeries.push(v.parseNumber(Gr[Yr].data[en].y))),Gr[Yr].data[en].goals!==void 0&&Array.isArray(Gr[Yr].data[en].goals)?(this.seriesGoals[Yr]===void 0&&(this.seriesGoals[Yr]=[]),this.seriesGoals[Yr].push(Gr[Yr].data[en].goals)):(this.seriesGoals[Yr]===void 0&&(this.seriesGoals[Yr]=[]),this.seriesGoals[Yr].push(null));for(var tn=0;tn<Gr[Jr].data.length;tn++){var rn=typeof Gr[Jr].data[tn].x=="string",an=Array.isArray(Gr[Jr].data[tn].x),nn=!an&&!!Qr.isValidDate(Gr[Jr].data[tn].x);if(rn||nn)if(rn||Zr.xaxis.convertedCatToNumeric){var sn=Kr.isBarHorizontal&&Kr.isRangeData;Zr.xaxis.type!=="datetime"||sn?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Gr[Jr].data[tn].x),isNaN(Gr[Jr].data[tn].x)||this.w.config.xaxis.type==="category"||typeof Gr[Jr].data[tn].x=="string"||(Kr.isXNumeric=!0)):this.twoDSeriesX.push(Qr.parseDate(Gr[Jr].data[tn].x))}else Zr.xaxis.type==="datetime"?this.twoDSeriesX.push(Qr.parseDate(Gr[Jr].data[tn].x.toString())):(Kr.dataFormatXNumeric=!0,Kr.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(Gr[Jr].data[tn].x)));else an?(this.fallbackToCategory=!0,this.twoDSeriesX.push(Gr[Jr].data[tn].x)):(Kr.isXNumeric=!0,Kr.dataFormatXNumeric=!0,this.twoDSeriesX.push(Gr[Jr].data[tn].x))}if(Gr[Yr].data[0]&&Gr[Yr].data[0].z!==void 0){for(var ln=0;ln<Gr[Yr].data.length;ln++)this.threeDSeries.push(Gr[Yr].data[ln].z);Kr.isDataXYZ=!0}}},{key:"handleRangeData",value:function(Gr,Yr){var Zr=this.w.globals,Kr={};return this.isFormat2DArray()?Kr=this.handleRangeDataFormat("array",Gr,Yr):this.isFormatXY()&&(Kr=this.handleRangeDataFormat("xy",Gr,Yr)),Zr.seriesRangeStart.push(Kr.start===void 0?[]:Kr.start),Zr.seriesRangeEnd.push(Kr.end===void 0?[]:Kr.end),Zr.seriesRange.push(Kr.rangeUniques),Zr.seriesRange.forEach(function(Qr,Jr){Qr&&Qr.forEach(function(en,tn){en.y.forEach(function(rn,an){for(var nn=0;nn<en.y.length;nn++)if(an!==nn){var sn=rn.y1,ln=rn.y2,un=en.y[nn].y1;sn<=en.y[nn].y2&&un<=ln&&(en.overlaps.indexOf(rn.rangeName)<0&&en.overlaps.push(rn.rangeName),en.overlaps.indexOf(en.y[nn].rangeName)<0&&en.overlaps.push(en.y[nn].rangeName))}})})}),Kr}},{key:"handleCandleStickBoxData",value:function(Gr,Yr){var Zr=this.w.globals,Kr={};return this.isFormat2DArray()?Kr=this.handleCandleStickBoxDataFormat("array",Gr,Yr):this.isFormatXY()&&(Kr=this.handleCandleStickBoxDataFormat("xy",Gr,Yr)),Zr.seriesCandleO[Yr]=Kr.o,Zr.seriesCandleH[Yr]=Kr.h,Zr.seriesCandleM[Yr]=Kr.m,Zr.seriesCandleL[Yr]=Kr.l,Zr.seriesCandleC[Yr]=Kr.c,Kr}},{key:"handleRangeDataFormat",value:function(Gr,Yr,Zr){var Kr=[],Qr=[],Jr=Yr[Zr].data.filter(function(an,nn,sn){return nn===sn.findIndex(function(ln){return ln.x===an.x})}).map(function(an,nn){return{x:an.x,overlaps:[],y:[]}});if(Gr==="array")for(var en=0;en<Yr[Zr].data.length;en++)Array.isArray(Yr[Zr].data[en])?(Kr.push(Yr[Zr].data[en][1][0]),Qr.push(Yr[Zr].data[en][1][1])):(Kr.push(Yr[Zr].data[en]),Qr.push(Yr[Zr].data[en]));else if(Gr==="xy")for(var tn=function(an){var nn=Array.isArray(Yr[Zr].data[an].y),sn=v.randomId(),ln=Yr[Zr].data[an].x,un={y1:nn?Yr[Zr].data[an].y[0]:Yr[Zr].data[an].y,y2:nn?Yr[Zr].data[an].y[1]:Yr[Zr].data[an].y,rangeName:sn};Yr[Zr].data[an].rangeName=sn;var cn=Jr.findIndex(function(hn){return hn.x===ln});Jr[cn].y.push(un),Kr.push(un.y1),Qr.push(un.y2)},rn=0;rn<Yr[Zr].data.length;rn++)tn(rn);return{start:Kr,end:Qr,rangeUniques:Jr}}},{key:"handleCandleStickBoxDataFormat",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=Kr.config.chart.type==="boxPlot"||Kr.config.series[Zr].type==="boxPlot",Jr=[],en=[],tn=[],rn=[],an=[];if(Gr==="array")if(Qr&&Yr[Zr].data[0].length===6||!Qr&&Yr[Zr].data[0].length===5)for(var nn=0;nn<Yr[Zr].data.length;nn++)Jr.push(Yr[Zr].data[nn][1]),en.push(Yr[Zr].data[nn][2]),Qr?(tn.push(Yr[Zr].data[nn][3]),rn.push(Yr[Zr].data[nn][4]),an.push(Yr[Zr].data[nn][5])):(rn.push(Yr[Zr].data[nn][3]),an.push(Yr[Zr].data[nn][4]));else for(var sn=0;sn<Yr[Zr].data.length;sn++)Array.isArray(Yr[Zr].data[sn][1])&&(Jr.push(Yr[Zr].data[sn][1][0]),en.push(Yr[Zr].data[sn][1][1]),Qr?(tn.push(Yr[Zr].data[sn][1][2]),rn.push(Yr[Zr].data[sn][1][3]),an.push(Yr[Zr].data[sn][1][4])):(rn.push(Yr[Zr].data[sn][1][2]),an.push(Yr[Zr].data[sn][1][3])));else if(Gr==="xy")for(var ln=0;ln<Yr[Zr].data.length;ln++)Array.isArray(Yr[Zr].data[ln].y)&&(Jr.push(Yr[Zr].data[ln].y[0]),en.push(Yr[Zr].data[ln].y[1]),Qr?(tn.push(Yr[Zr].data[ln].y[2]),rn.push(Yr[Zr].data[ln].y[3]),an.push(Yr[Zr].data[ln].y[4])):(rn.push(Yr[Zr].data[ln].y[2]),an.push(Yr[Zr].data[ln].y[3])));return{o:Jr,h:en,m:tn,l:rn,c:an}}},{key:"parseDataAxisCharts",value:function(Gr){var Yr=this,Zr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,Kr=this.w.config,Qr=this.w.globals,Jr=new zi(Zr),en=Kr.labels.length>0?Kr.labels.slice():Kr.xaxis.categories.slice();Qr.isRangeBar=Kr.chart.type==="rangeBar"&&Qr.isBarHorizontal,Qr.hasXaxisGroups=Kr.xaxis.type==="category"&&Kr.xaxis.group.groups.length>0,Qr.hasXaxisGroups&&(Qr.groups=Kr.xaxis.group.groups),Gr.forEach(function(ln,un){ln.name!==void 0?Qr.seriesNames.push(ln.name):Qr.seriesNames.push("series-"+parseInt(un+1,10))}),this.coreUtils.setSeriesYAxisMappings();var tn=[],rn=f(new Set(Kr.series.map(function(ln){return ln.group})));Kr.series.forEach(function(ln,un){var cn=rn.indexOf(ln.group);tn[cn]||(tn[cn]=[]),tn[cn].push(Qr.seriesNames[un])}),Qr.seriesGroups=tn;for(var an=function(){for(var ln=0;ln<en.length;ln++)if(typeof en[ln]=="string"){if(!Jr.isValidDate(en[ln]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");Yr.twoDSeriesX.push(Jr.parseDate(en[ln]))}else Yr.twoDSeriesX.push(en[ln])},nn=0;nn<Gr.length;nn++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],Gr[nn].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(Kr.chart.type!=="rangeBar"&&Kr.chart.type!=="rangeArea"&&Gr[nn].type!=="rangeBar"&&Gr[nn].type!=="rangeArea"||(Qr.isRangeData=!0,Kr.chart.type!=="rangeBar"&&Kr.chart.type!=="rangeArea"||this.handleRangeData(Gr,nn)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(Gr,nn):this.isFormatXY()&&this.handleFormatXY(Gr,nn),Kr.chart.type!=="candlestick"&&Gr[nn].type!=="candlestick"&&Kr.chart.type!=="boxPlot"&&Gr[nn].type!=="boxPlot"||this.handleCandleStickBoxData(Gr,nn),Qr.series.push(this.twoDSeries),Qr.labels.push(this.twoDSeriesX),Qr.seriesX.push(this.twoDSeriesX),Qr.seriesGoals=this.seriesGoals,nn!==this.activeSeriesIndex||this.fallbackToCategory||(Qr.isXNumeric=!0);else{Kr.xaxis.type==="datetime"?(Qr.isXNumeric=!0,an(),Qr.seriesX.push(this.twoDSeriesX)):Kr.xaxis.type==="numeric"&&(Qr.isXNumeric=!0,en.length>0&&(this.twoDSeriesX=en,Qr.seriesX.push(this.twoDSeriesX))),Qr.labels.push(this.twoDSeriesX);var sn=Gr[nn].data.map(function(ln){return v.parseNumber(ln)});Qr.series.push(sn)}Qr.seriesZ.push(this.threeDSeries),Gr[nn].color!==void 0?Qr.seriesColors.push(Gr[nn].color):Qr.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(Gr){var Yr=this.w.globals,Zr=this.w.config;Yr.series=Gr.slice(),Yr.seriesNames=Zr.labels.slice();for(var Kr=0;Kr<Yr.series.length;Kr++)Yr.seriesNames[Kr]===void 0&&Yr.seriesNames.push("series-"+(Kr+1));return this.w}},{key:"handleExternalLabelsData",value:function(Gr){var Yr=this.w.config,Zr=this.w.globals;Yr.xaxis.categories.length>0?Zr.labels=Yr.xaxis.categories:Yr.labels.length>0?Zr.labels=Yr.labels.slice():this.fallbackToCategory?(Zr.labels=Zr.labels[0],Zr.seriesRange.length&&(Zr.seriesRange.map(function(Kr){Kr.forEach(function(Qr){Zr.labels.indexOf(Qr.x)<0&&Qr.x&&Zr.labels.push(Qr.x)})}),Zr.labels=Array.from(new Set(Zr.labels.map(JSON.stringify)),JSON.parse)),Yr.xaxis.convertedCatToNumeric&&(new Ni(Yr).convertCatToNumericXaxis(Yr,this.ctx,Zr.seriesX[0]),this._generateExternalLabels(Gr))):this._generateExternalLabels(Gr)}},{key:"_generateExternalLabels",value:function(Gr){var Yr=this.w.globals,Zr=this.w.config,Kr=[];if(Yr.axisCharts){if(Yr.series.length>0)if(this.isFormatXY())for(var Qr=Zr.series.map(function(nn,sn){return nn.data.filter(function(ln,un,cn){return cn.findIndex(function(hn){return hn.x===ln.x})===un})}),Jr=Qr.reduce(function(nn,sn,ln,un){return un[nn].length>sn.length?nn:ln},0),en=0;en<Qr[Jr].length;en++)Kr.push(en+1);else for(var tn=0;tn<Yr.series[Yr.maxValsInArrayIndex].length;tn++)Kr.push(tn+1);Yr.seriesX=[];for(var rn=0;rn<Gr.length;rn++)Yr.seriesX.push(Kr);this.w.globals.isBarHorizontal||(Yr.isXNumeric=!0)}if(Kr.length===0){Kr=Yr.axisCharts?[]:Yr.series.map(function(nn,sn){return sn+1});for(var an=0;an<Gr.length;an++)Yr.seriesX.push(Kr)}Yr.labels=Kr,Zr.xaxis.convertedCatToNumeric&&(Yr.categoryLabels=Kr.map(function(nn){return Zr.xaxis.labels.formatter(nn)})),Yr.noLabelsProvided=!0}},{key:"parseData",value:function(Gr){var Yr=this.w,Zr=Yr.config,Kr=Yr.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),Kr.axisCharts?(this.parseDataAxisCharts(Gr),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(Gr),Zr.chart.stacked){var Qr=new Zi(this.ctx);Kr.series=Qr.setNullSeriesToZeroValues(Kr.series)}this.coreUtils.getSeriesTotals(),Kr.axisCharts&&(Kr.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),Kr.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),Kr.dataFormatXNumeric||Kr.isXNumeric&&(Zr.xaxis.type!=="numeric"||Zr.labels.length!==0||Zr.xaxis.categories.length!==0)||this.handleExternalLabelsData(Gr);for(var Jr=this.coreUtils.getCategoryLabels(Kr.labels),en=0;en<Jr.length;en++)if(Array.isArray(Jr[en])){Kr.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var Gr=this.w,Yr=[];Gr.globals.seriesYAxisMap.forEach(function(Zr,Kr){var Qr=0;Zr.forEach(function(Jr){Gr.globals.collapsedSeriesIndices.indexOf(Jr)!==-1&&Qr++}),Qr>0&&Qr==Zr.length&&Yr.push(Kr)}),Gr.globals.ignoreYAxisIndexes=Yr.map(function(Zr){return Zr})}}]),Wr}(),Ji=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"scaleSvgNode",value:function(Gr,Yr){var Zr=parseFloat(Gr.getAttributeNS(null,"width")),Kr=parseFloat(Gr.getAttributeNS(null,"height"));Gr.setAttributeNS(null,"width",Zr*Yr),Gr.setAttributeNS(null,"height",Kr*Yr),Gr.setAttributeNS(null,"viewBox","0 0 "+Zr+" "+Kr)}},{key:"getSvgString",value:function(Gr){var Yr=this;return new Promise(function(Zr){var Kr=Yr.w,Qr=Gr||Kr.config.chart.toolbar.export.scale||Kr.config.chart.toolbar.export.width/Kr.globals.svgWidth;Qr||(Qr=1);var Jr=Yr.w.globals.dom.Paper.svg(),en=Yr.w.globals.dom.Paper.node.cloneNode(!0);Qr!==1&&Yr.scaleSvgNode(en,Qr),Yr.convertImagesToBase64(en).then(function(){Jr=new XMLSerializer().serializeToString(en),Zr(Jr.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(Gr){var Yr=this,Zr=Gr.getElementsByTagName("image"),Kr=Array.from(Zr).map(function(Qr){var Jr=Qr.getAttributeNS("http://www.w3.org/1999/xlink","href");return Jr&&!Jr.startsWith("data:")?Yr.getBase64FromUrl(Jr).then(function(en){Qr.setAttributeNS("http://www.w3.org/1999/xlink","href",en)}).catch(function(en){console.error("Error converting image to base64:",en)}):Promise.resolve()});return Promise.all(Kr)}},{key:"getBase64FromUrl",value:function(Gr){return new Promise(function(Yr,Zr){var Kr=new Image;Kr.crossOrigin="Anonymous",Kr.onload=function(){var Qr=document.createElement("canvas");Qr.width=Kr.width,Qr.height=Kr.height,Qr.getContext("2d").drawImage(Kr,0,0),Yr(Qr.toDataURL())},Kr.onerror=Zr,Kr.src=Gr})}},{key:"cleanup",value:function(){var Gr=this.w,Yr=Gr.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),Zr=Gr.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),Kr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(Kr,function(Qr){Qr.setAttribute("width",0)}),Yr&&Yr[0]&&(Yr[0].setAttribute("x",-500),Yr[0].setAttribute("x1",-500),Yr[0].setAttribute("x2",-500)),Zr&&Zr[0]&&(Zr[0].setAttribute("y",-100),Zr[0].setAttribute("y1",-100),Zr[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var Gr=this;return new Promise(function(Yr){Gr.cleanup(),Gr.getSvgString().then(function(Zr){var Kr=new Blob([Zr],{type:"image/svg+xml;charset=utf-8"});Yr(URL.createObjectURL(Kr))})})}},{key:"dataURI",value:function(Gr){var Yr=this;return new Promise(function(Zr){var Kr=Yr.w,Qr=Gr?Gr.scale||Gr.width/Kr.globals.svgWidth:1;Yr.cleanup();var Jr=document.createElement("canvas");Jr.width=Kr.globals.svgWidth*Qr,Jr.height=parseInt(Kr.globals.dom.elWrap.style.height,10)*Qr;var en=Kr.config.chart.background!=="transparent"&&Kr.config.chart.background?Kr.config.chart.background:"#fff",tn=Jr.getContext("2d");tn.fillStyle=en,tn.fillRect(0,0,Jr.width*Qr,Jr.height*Qr),Yr.getSvgString(Qr).then(function(rn){var an="data:image/svg+xml,"+encodeURIComponent(rn),nn=new Image;nn.crossOrigin="anonymous",nn.onload=function(){if(tn.drawImage(nn,0,0),Jr.msToBlob){var sn=Jr.msToBlob();Zr({blob:sn})}else{var ln=Jr.toDataURL("image/png");Zr({imgURI:ln})}},nn.src=an})})}},{key:"exportToSVG",value:function(){var Gr=this;this.svgUrl().then(function(Yr){Gr.triggerDownload(Yr,Gr.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var Gr=this,Yr=this.w.config.chart.toolbar.export.scale,Zr=this.w.config.chart.toolbar.export.width,Kr=Yr?{scale:Yr}:Zr?{width:Zr}:void 0;this.dataURI(Kr).then(function(Qr){var Jr=Qr.imgURI,en=Qr.blob;en?navigator.msSaveOrOpenBlob(en,Gr.w.globals.chartID+".png"):Gr.triggerDownload(Jr,Gr.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(Gr){var Yr=this,Zr=Gr.series,Kr=Gr.fileName,Qr=Gr.columnDelimiter,Jr=Qr===void 0?",":Qr,en=Gr.lineDelimiter,tn=en===void 0?`
`:en,rn=this.w;Zr||(Zr=rn.config.series);var an=[],nn=[],sn="",ln=rn.globals.series.map(function(vn,mn){return rn.globals.collapsedSeriesIndices.indexOf(mn)===-1?vn:[]}),un=function(vn){return typeof rn.config.chart.toolbar.export.csv.categoryFormatter=="function"?rn.config.chart.toolbar.export.csv.categoryFormatter(vn):rn.config.xaxis.type==="datetime"&&String(vn).length>=10?new Date(vn).toDateString():v.isNumber(vn)?vn:vn.split(Jr).join("")},cn=function(vn){return typeof rn.config.chart.toolbar.export.csv.valueFormatter=="function"?rn.config.chart.toolbar.export.csv.valueFormatter(vn):vn},hn=Math.max.apply(Math,f(Zr.map(function(vn){return vn.data?vn.data.length:0}))),dn=new $i(this.ctx),fn=new Ri(this.ctx),pn=function(vn){var mn="";if(rn.globals.axisCharts){if(rn.config.xaxis.type==="category"||rn.config.xaxis.convertedCatToNumeric)if(rn.globals.isBarHorizontal){var yn=rn.globals.yLabelFormatters[0],xn=new Zi(Yr.ctx).getActiveConfigSeriesIndex();mn=yn(rn.globals.labels[vn],{seriesIndex:xn,dataPointIndex:vn,w:rn})}else mn=fn.getLabel(rn.globals.labels,rn.globals.timescaleLabels,0,vn).text;rn.config.xaxis.type==="datetime"&&(rn.config.xaxis.categories.length?mn=rn.config.xaxis.categories[vn]:rn.config.labels.length&&(mn=rn.config.labels[vn]))}else mn=rn.config.labels[vn];return mn===null?"nullvalue":(Array.isArray(mn)&&(mn=mn.join(" ")),v.isNumber(mn)?mn:mn.split(Jr).join(""))},gn=function(vn,mn){if(an.length&&mn===0&&nn.push(an.join(Jr)),vn.data){vn.data=vn.data.length&&vn.data||f(Array(hn)).map(function(){return""});for(var yn=0;yn<vn.data.length;yn++){an=[];var xn=pn(yn);if(xn!=="nullvalue"){if(xn||(dn.isFormatXY()?xn=Zr[mn].data[yn].x:dn.isFormat2DArray()&&(xn=Zr[mn].data[yn]?Zr[mn].data[yn][0]:"")),mn===0){an.push(un(xn));for(var bn=0;bn<rn.globals.series.length;bn++){var Sn,wn=dn.isFormatXY()?(Sn=Zr[bn].data[yn])===null||Sn===void 0?void 0:Sn.y:ln[bn][yn];an.push(cn(wn))}}(rn.config.chart.type==="candlestick"||vn.type&&vn.type==="candlestick")&&(an.pop(),an.push(rn.globals.seriesCandleO[mn][yn]),an.push(rn.globals.seriesCandleH[mn][yn]),an.push(rn.globals.seriesCandleL[mn][yn]),an.push(rn.globals.seriesCandleC[mn][yn])),(rn.config.chart.type==="boxPlot"||vn.type&&vn.type==="boxPlot")&&(an.pop(),an.push(rn.globals.seriesCandleO[mn][yn]),an.push(rn.globals.seriesCandleH[mn][yn]),an.push(rn.globals.seriesCandleM[mn][yn]),an.push(rn.globals.seriesCandleL[mn][yn]),an.push(rn.globals.seriesCandleC[mn][yn])),rn.config.chart.type==="rangeBar"&&(an.pop(),an.push(rn.globals.seriesRangeStart[mn][yn]),an.push(rn.globals.seriesRangeEnd[mn][yn])),an.length&&nn.push(an.join(Jr))}}}};an.push(rn.config.chart.toolbar.export.csv.headerCategory),rn.config.chart.type==="boxPlot"?(an.push("minimum"),an.push("q1"),an.push("median"),an.push("q3"),an.push("maximum")):rn.config.chart.type==="candlestick"?(an.push("open"),an.push("high"),an.push("low"),an.push("close")):rn.config.chart.type==="rangeBar"?(an.push("minimum"),an.push("maximum")):Zr.map(function(vn,mn){var yn=(vn.name?vn.name:"series-".concat(mn))+"";rn.globals.axisCharts&&an.push(yn.split(Jr).join("")?yn.split(Jr).join(""):"series-".concat(mn))}),rn.globals.axisCharts||(an.push(rn.config.chart.toolbar.export.csv.headerValue),nn.push(an.join(Jr))),rn.globals.allSeriesHasEqualX||!rn.globals.axisCharts||rn.config.xaxis.categories.length||rn.config.labels.length?Zr.map(function(vn,mn){rn.globals.axisCharts?gn(vn,mn):((an=[]).push(un(rn.globals.labels[mn])),an.push(cn(ln[mn])),nn.push(an.join(Jr)))}):function(){var vn=new Set,mn={};Zr.forEach(function(yn,xn){yn==null||yn.data.forEach(function(bn){var Sn,wn;if(dn.isFormatXY())Sn=bn.x,wn=bn.y;else{if(!dn.isFormat2DArray())return;Sn=bn[0],wn=bn[1]}mn[Sn]||(mn[Sn]=Array(Zr.length).fill("")),mn[Sn][xn]=cn(wn),vn.add(Sn)})}),an.length&&nn.push(an.join(Jr)),Array.from(vn).sort().forEach(function(yn){nn.push([un(yn),mn[yn].join(Jr)])})}(),sn+=nn.join(tn),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+sn),Kr||rn.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(Gr,Yr,Zr){var Kr=document.createElement("a");Kr.href=Gr,Kr.download=(Yr||this.w.globals.chartID)+Zr,document.body.appendChild(Kr),Kr.click(),document.body.removeChild(Kr)}}]),Wr}(),Qi=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.elgrid=Yr,this.w=Gr.w;var Zr=this.w;this.axesUtils=new Ri(Gr),this.xaxisLabels=Zr.globals.labels.slice(),Zr.globals.timescaleLabels.length>0&&!Zr.globals.isBarHorizontal&&(this.xaxisLabels=Zr.globals.timescaleLabels.slice()),Zr.config.xaxis.overwriteCategories&&(this.xaxisLabels=Zr.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],Zr.config.xaxis.position==="top"?this.offY=0:this.offY=Zr.globals.gridHeight,this.offY=this.offY+Zr.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=Zr.config.chart.type==="bar"&&Zr.config.plotOptions.bar.horizontal,this.xaxisFontSize=Zr.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=Zr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=Zr.config.xaxis.labels.style.colors,this.xaxisBorderWidth=Zr.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=Zr.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=Zr.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=Zr.config.xaxis.axisBorder.height,this.yaxis=Zr.config.yaxis[0]}return s(Wr,[{key:"drawXaxis",value:function(){var Gr=this.w,Yr=new Mi(this.ctx),Zr=Yr.group({class:"apexcharts-xaxis",transform:"translate(".concat(Gr.config.xaxis.offsetX,", ").concat(Gr.config.xaxis.offsetY,")")}),Kr=Yr.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(Gr.globals.translateXAxisX,", ").concat(Gr.globals.translateXAxisY,")")});Zr.add(Kr);for(var Qr=[],Jr=0;Jr<this.xaxisLabels.length;Jr++)Qr.push(this.xaxisLabels[Jr]);if(this.drawXAxisLabelAndGroup(!0,Yr,Kr,Qr,Gr.globals.isXNumeric,function(un,cn){return cn}),Gr.globals.hasXaxisGroups){var en=Gr.globals.groups;Qr=[];for(var tn=0;tn<en.length;tn++)Qr.push(en[tn].title);var rn={};Gr.config.xaxis.group.style&&(rn.xaxisFontSize=Gr.config.xaxis.group.style.fontSize,rn.xaxisFontFamily=Gr.config.xaxis.group.style.fontFamily,rn.xaxisForeColors=Gr.config.xaxis.group.style.colors,rn.fontWeight=Gr.config.xaxis.group.style.fontWeight,rn.cssClass=Gr.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,Yr,Kr,Qr,!1,function(un,cn){return en[un].cols*cn},rn)}if(Gr.config.xaxis.title.text!==void 0){var an=Yr.group({class:"apexcharts-xaxis-title"}),nn=Yr.drawText({x:Gr.globals.gridWidth/2+Gr.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(Gr.config.xaxis.position==="bottom"?Gr.globals.xAxisLabelsHeight:-Gr.globals.xAxisLabelsHeight-10)+Gr.config.xaxis.title.offsetY,text:Gr.config.xaxis.title.text,textAnchor:"middle",fontSize:Gr.config.xaxis.title.style.fontSize,fontFamily:Gr.config.xaxis.title.style.fontFamily,fontWeight:Gr.config.xaxis.title.style.fontWeight,foreColor:Gr.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+Gr.config.xaxis.title.style.cssClass});an.add(nn),Zr.add(an)}if(Gr.config.xaxis.axisBorder.show){var sn=Gr.globals.barPadForNumericAxis,ln=Yr.drawLine(Gr.globals.padHorizontal+Gr.config.xaxis.axisBorder.offsetX-sn,this.offY,this.xaxisBorderWidth+sn,this.offY,Gr.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&Gr.config.grid.show?this.elgrid.elGridBorders.add(ln):Zr.add(ln)}return Zr}},{key:"drawXAxisLabelAndGroup",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en,tn=this,rn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},an=[],nn=[],sn=this.w,ln=rn.xaxisFontSize||this.xaxisFontSize,un=rn.xaxisFontFamily||this.xaxisFontFamily,cn=rn.xaxisForeColors||this.xaxisForeColors,hn=rn.fontWeight||sn.config.xaxis.labels.style.fontWeight,dn=rn.cssClass||sn.config.xaxis.labels.style.cssClass,fn=sn.globals.padHorizontal,pn=Kr.length,gn=sn.config.xaxis.type==="category"?sn.globals.dataPoints:pn;if(gn===0&&pn>gn&&(gn=pn),Qr){var vn=Math.max(Number(sn.config.xaxis.tickAmount)||1,gn>1?gn-1:gn);en=sn.globals.gridWidth/Math.min(vn,pn-1),fn=fn+Jr(0,en)/2+sn.config.xaxis.labels.offsetX}else en=sn.globals.gridWidth/gn,fn=fn+Jr(0,en)+sn.config.xaxis.labels.offsetX;for(var mn=function(xn){var bn=fn-Jr(xn,en)/2+sn.config.xaxis.labels.offsetX;xn===0&&pn===1&&en/2===fn&&gn===1&&(bn=sn.globals.gridWidth/2);var Sn=tn.axesUtils.getLabel(Kr,sn.globals.timescaleLabels,bn,xn,an,ln,Gr),wn=28;if(sn.globals.rotateXLabels&&Gr&&(wn=22),sn.config.xaxis.title.text&&sn.config.xaxis.position==="top"&&(wn+=parseFloat(sn.config.xaxis.title.style.fontSize)+2),Gr||(wn=wn+parseFloat(ln)+(sn.globals.xAxisLabelsHeight-sn.globals.xAxisGroupLabelsHeight)+(sn.globals.rotateXLabels?10:0)),Sn=sn.config.xaxis.tickAmount!==void 0&&sn.config.xaxis.tickAmount!=="dataPoints"&&sn.config.xaxis.type!=="datetime"?tn.axesUtils.checkLabelBasedOnTickamount(xn,Sn,pn):tn.axesUtils.checkForOverflowingLabels(xn,Sn,pn,an,nn),sn.config.xaxis.labels.show){var _n=Yr.drawText({x:Sn.x,y:tn.offY+sn.config.xaxis.labels.offsetY+wn-(sn.config.xaxis.position==="top"?sn.globals.xAxisHeight+sn.config.xaxis.axisTicks.height-2:0),text:Sn.text,textAnchor:"middle",fontWeight:Sn.isBold?600:hn,fontSize:ln,fontFamily:un,foreColor:Array.isArray(cn)?Gr&&sn.config.xaxis.convertedCatToNumeric?cn[sn.globals.minX+xn-1]:cn[xn]:cn,isPlainText:!1,cssClass:(Gr?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+dn});if(Zr.add(_n),_n.on("click",function(Cn){if(typeof sn.config.chart.events.xAxisLabelClick=="function"){var Tn=Object.assign({},sn,{labelIndex:xn});sn.config.chart.events.xAxisLabelClick(Cn,tn.ctx,Tn)}}),Gr){var An=document.createElementNS(sn.globals.SVGNS,"title");An.textContent=Array.isArray(Sn.text)?Sn.text.join(" "):Sn.text,_n.node.appendChild(An),Sn.text!==""&&(an.push(Sn.text),nn.push(Sn))}}xn<pn-1&&(fn+=Jr(xn+1,en))},yn=0;yn<=pn-1;yn++)mn(yn)}},{key:"drawXaxisInversed",value:function(Gr){var Yr,Zr,Kr=this,Qr=this.w,Jr=new Mi(this.ctx),en=Qr.config.yaxis[0].opposite?Qr.globals.translateYAxisX[Gr]:0,tn=Jr.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:Gr}),rn=Jr.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+en+", 0)"});tn.add(rn);var an=[];if(Qr.config.yaxis[Gr].show)for(var nn=0;nn<this.xaxisLabels.length;nn++)an.push(this.xaxisLabels[nn]);Yr=Qr.globals.gridHeight/an.length,Zr=-Yr/2.2;var sn=Qr.globals.yLabelFormatters[0],ln=Qr.config.yaxis[0].labels;if(ln.show)for(var un=function(vn){var mn=an[vn]===void 0?"":an[vn];mn=sn(mn,{seriesIndex:Gr,dataPointIndex:vn,w:Qr});var yn=Kr.axesUtils.getYAxisForeColor(ln.style.colors,Gr),xn=0;Array.isArray(mn)&&(xn=mn.length/2*parseInt(ln.style.fontSize,10));var bn=ln.offsetX-15,Sn="end";Kr.yaxis.opposite&&(Sn="start"),Qr.config.yaxis[0].labels.align==="left"?(bn=ln.offsetX,Sn="start"):Qr.config.yaxis[0].labels.align==="center"?(bn=ln.offsetX,Sn="middle"):Qr.config.yaxis[0].labels.align==="right"&&(Sn="end");var wn=Jr.drawText({x:bn,y:Zr+Yr+ln.offsetY-xn,text:mn,textAnchor:Sn,foreColor:Array.isArray(yn)?yn[vn]:yn,fontSize:ln.style.fontSize,fontFamily:ln.style.fontFamily,fontWeight:ln.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+ln.style.cssClass,maxWidth:ln.maxWidth});rn.add(wn),wn.on("click",function(Cn){if(typeof Qr.config.chart.events.xAxisLabelClick=="function"){var Tn=Object.assign({},Qr,{labelIndex:vn});Qr.config.chart.events.xAxisLabelClick(Cn,Kr.ctx,Tn)}});var _n=document.createElementNS(Qr.globals.SVGNS,"title");if(_n.textContent=Array.isArray(mn)?mn.join(" "):mn,wn.node.appendChild(_n),Qr.config.yaxis[Gr].labels.rotate!==0){var An=Jr.rotateAroundCenter(wn.node);wn.node.setAttribute("transform","rotate(".concat(Qr.config.yaxis[Gr].labels.rotate," 0 ").concat(An.y,")"))}Zr+=Yr},cn=0;cn<=an.length-1;cn++)un(cn);if(Qr.config.yaxis[0].title.text!==void 0){var hn=Jr.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+en+", 0)"}),dn=Jr.drawText({x:Qr.config.yaxis[0].title.offsetX,y:Qr.globals.gridHeight/2+Qr.config.yaxis[0].title.offsetY,text:Qr.config.yaxis[0].title.text,textAnchor:"middle",foreColor:Qr.config.yaxis[0].title.style.color,fontSize:Qr.config.yaxis[0].title.style.fontSize,fontWeight:Qr.config.yaxis[0].title.style.fontWeight,fontFamily:Qr.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+Qr.config.yaxis[0].title.style.cssClass});hn.add(dn),tn.add(hn)}var fn=0;this.isCategoryBarHorizontal&&Qr.config.yaxis[0].opposite&&(fn=Qr.globals.gridWidth);var pn=Qr.config.xaxis.axisBorder;if(pn.show){var gn=Jr.drawLine(Qr.globals.padHorizontal+pn.offsetX+fn,1+pn.offsetY,Qr.globals.padHorizontal+pn.offsetX+fn,Qr.globals.gridHeight+pn.offsetY,pn.color,0);this.elgrid&&this.elgrid.elGridBorders&&Qr.config.grid.show?this.elgrid.elGridBorders.add(gn):tn.add(gn)}return Qr.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(fn,an.length,Qr.config.yaxis[0].axisBorder,Qr.config.yaxis[0].axisTicks,0,Yr,tn),tn}},{key:"drawXaxisTicks",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=Gr;if(!(Gr<0||Gr-2>Kr.globals.gridWidth)){var Jr=this.offY+Kr.config.xaxis.axisTicks.offsetY;if(Yr=Yr+Jr+Kr.config.xaxis.axisTicks.height,Kr.config.xaxis.position==="top"&&(Yr=Jr-Kr.config.xaxis.axisTicks.height),Kr.config.xaxis.axisTicks.show){var en=new Mi(this.ctx).drawLine(Gr+Kr.config.xaxis.axisTicks.offsetX,Jr+Kr.config.xaxis.offsetY,Qr+Kr.config.xaxis.axisTicks.offsetX,Yr+Kr.config.xaxis.offsetY,Kr.config.xaxis.axisTicks.color);Zr.add(en),en.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var Gr=this.w,Yr=[],Zr=this.xaxisLabels.length,Kr=Gr.globals.padHorizontal;if(Gr.globals.timescaleLabels.length>0)for(var Qr=0;Qr<Zr;Qr++)Kr=this.xaxisLabels[Qr].position,Yr.push(Kr);else for(var Jr=Zr,en=0;en<Jr;en++){var tn=Jr;Gr.globals.isXNumeric&&Gr.config.chart.type!=="bar"&&(tn-=1),Kr+=Gr.globals.gridWidth/tn,Yr.push(Kr)}return Yr}},{key:"xAxisLabelCorrections",value:function(){var Gr=this.w,Yr=new Mi(this.ctx),Zr=Gr.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),Kr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),Qr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),Jr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(Gr.globals.rotateXLabels||Gr.config.xaxis.labels.rotateAlways)for(var en=0;en<Kr.length;en++){var tn=Yr.rotateAroundCenter(Kr[en]);tn.y=tn.y-1,tn.x=tn.x+1,Kr[en].setAttribute("transform","rotate(".concat(Gr.config.xaxis.labels.rotate," ").concat(tn.x," ").concat(tn.y,")")),Kr[en].setAttribute("text-anchor","end"),Zr.setAttribute("transform","translate(0, ".concat(-10,")"));var rn=Kr[en].childNodes;Gr.config.xaxis.labels.trim&&Array.prototype.forEach.call(rn,function(ln){Yr.placeTextWithEllipsis(ln,ln.textContent,Gr.globals.xAxisLabelsHeight-(Gr.config.legend.position==="bottom"?20:10))})}else(function(){for(var ln=Gr.globals.gridWidth/(Gr.globals.labels.length+1),un=0;un<Kr.length;un++){var cn=Kr[un].childNodes;Gr.config.xaxis.labels.trim&&Gr.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(cn,function(hn){Yr.placeTextWithEllipsis(hn,hn.textContent,ln)})}})();if(Qr.length>0){var an=Qr[Qr.length-1].getBBox(),nn=Qr[0].getBBox();an.x<-20&&Qr[Qr.length-1].parentNode.removeChild(Qr[Qr.length-1]),nn.x+nn.width>Gr.globals.gridWidth&&!Gr.globals.isBarHorizontal&&Qr[0].parentNode.removeChild(Qr[0]);for(var sn=0;sn<Jr.length;sn++)Yr.placeTextWithEllipsis(Jr[sn],Jr[sn].textContent,Gr.config.yaxis[0].labels.maxWidth-(Gr.config.yaxis[0].title.text?2*parseFloat(Gr.config.yaxis[0].title.style.fontSize):0)-15)}}}]),Wr}(),Ki=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w;var Yr=this.w;this.xaxisLabels=Yr.globals.labels.slice(),this.axesUtils=new Ri(Gr),this.isRangeBar=Yr.globals.seriesRange.length&&Yr.globals.isBarHorizontal,Yr.globals.timescaleLabels.length>0&&(this.xaxisLabels=Yr.globals.timescaleLabels.slice())}return s(Wr,[{key:"drawGridArea",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Yr=this.w,Zr=new Mi(this.ctx);Gr||(Gr=Zr.group({class:"apexcharts-grid"}));var Kr=Zr.drawLine(Yr.globals.padHorizontal,1,Yr.globals.padHorizontal,Yr.globals.gridHeight,"transparent"),Qr=Zr.drawLine(Yr.globals.padHorizontal,Yr.globals.gridHeight,Yr.globals.gridWidth,Yr.globals.gridHeight,"transparent");return Gr.add(Qr),Gr.add(Kr),Gr}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var Gr=this.renderGrid();return this.drawGridArea(Gr.el),Gr}return null}},{key:"createGridMask",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=new Mi(this.ctx),Kr=Array.isArray(Gr.config.stroke.width)?Math.max.apply(Math,f(Gr.config.stroke.width)):Gr.config.stroke.width,Qr=function(an){var nn=document.createElementNS(Yr.SVGNS,"clipPath");return nn.setAttribute("id",an),nn};Yr.dom.elGridRectMask=Qr("gridRectMask".concat(Yr.cuid)),Yr.dom.elGridRectBarMask=Qr("gridRectBarMask".concat(Yr.cuid)),Yr.dom.elGridRectMarkerMask=Qr("gridRectMarkerMask".concat(Yr.cuid)),Yr.dom.elForecastMask=Qr("forecastMask".concat(Yr.cuid)),Yr.dom.elNonForecastMask=Qr("nonForecastMask".concat(Yr.cuid));var Jr=0,en=0;(["bar","rangeBar","candlestick","boxPlot"].includes(Gr.config.chart.type)||Gr.globals.comboBarCount>0)&&Gr.globals.isXNumeric&&!Gr.globals.isBarHorizontal&&(Jr=Math.max(Gr.config.grid.padding.left,Yr.barPadForNumericAxis),en=Math.max(Gr.config.grid.padding.right,Yr.barPadForNumericAxis)),Yr.dom.elGridRect=Zr.drawRect(-Kr/2-2,-Kr/2-2,Yr.gridWidth+Kr+4,Yr.gridHeight+Kr+4,0,"#fff"),Yr.dom.elGridRectBar=Zr.drawRect(-Kr/2-Jr-2,-Kr/2-2,Yr.gridWidth+Kr+en+Jr+4,Yr.gridHeight+Kr+4,0,"#fff");var tn=Gr.globals.markers.largestSize;Yr.dom.elGridRectMarker=Zr.drawRect(-tn,-tn,Yr.gridWidth+2*tn,Yr.gridHeight+2*tn,0,"#fff"),Yr.dom.elGridRectMask.appendChild(Yr.dom.elGridRect.node),Yr.dom.elGridRectBarMask.appendChild(Yr.dom.elGridRectBar.node),Yr.dom.elGridRectMarkerMask.appendChild(Yr.dom.elGridRectMarker.node);var rn=Yr.dom.baseEl.querySelector("defs");rn.appendChild(Yr.dom.elGridRectMask),rn.appendChild(Yr.dom.elGridRectBarMask),rn.appendChild(Yr.dom.elGridRectMarkerMask),rn.appendChild(Yr.dom.elForecastMask),rn.appendChild(Yr.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(Gr){var Yr=Gr.i,Zr=Gr.x1,Kr=Gr.y1,Qr=Gr.x2,Jr=Gr.y2,en=Gr.xCount,tn=Gr.parent,rn=this.w;if(!(Yr===0&&rn.globals.skipFirstTimelinelabel||Yr===en-1&&rn.globals.skipLastTimelinelabel&&!rn.config.xaxis.labels.formatter||rn.config.chart.type==="radar")){rn.config.grid.xaxis.lines.show&&this._drawGridLine({i:Yr,x1:Zr,y1:Kr,x2:Qr,y2:Jr,xCount:en,parent:tn});var an=0;if(rn.globals.hasXaxisGroups&&rn.config.xaxis.tickPlacement==="between"){var nn=rn.globals.groups;if(nn){for(var sn=0,ln=0;sn<Yr&&ln<nn.length;ln++)sn+=nn[ln].cols;sn===Yr&&(an=.6*rn.globals.xAxisLabelsHeight)}}new Qi(this.ctx).drawXaxisTicks(Zr,an,rn.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(Gr){var Yr=Gr.i,Zr=Gr.x1,Kr=Gr.y1,Qr=Gr.x2,Jr=Gr.y2,en=Gr.xCount,tn=Gr.parent,rn=this.w,an=tn.node.classList.contains("apexcharts-gridlines-horizontal"),nn=rn.globals.barPadForNumericAxis,sn=Kr===0&&Jr===0||Zr===0&&Qr===0||Kr===rn.globals.gridHeight&&Jr===rn.globals.gridHeight||rn.globals.isBarHorizontal&&(Yr===0||Yr===en-1),ln=new Mi(this).drawLine(Zr-(an?nn:0),Kr,Qr+(an?nn:0),Jr,rn.config.grid.borderColor,rn.config.grid.strokeDashArray);ln.node.classList.add("apexcharts-gridline"),sn&&rn.config.grid.show?this.elGridBorders.add(ln):tn.add(ln)}},{key:"_drawGridBandRect",value:function(Gr){var Yr=Gr.c,Zr=Gr.x1,Kr=Gr.y1,Qr=Gr.x2,Jr=Gr.y2,en=Gr.type,tn=this.w,rn=new Mi(this.ctx),an=tn.globals.barPadForNumericAxis,nn=tn.config.grid[en].colors[Yr],sn=rn.drawRect(Zr-(en==="row"?an:0),Kr,Qr+(en==="row"?2*an:0),Jr,0,nn,tn.config.grid[en].opacity);this.elg.add(sn),sn.attr("clip-path","url(#gridRectMask".concat(tn.globals.cuid,")")),sn.node.classList.add("apexcharts-grid-".concat(en))}},{key:"_drawXYLines",value:function(Gr){var Yr=this,Zr=Gr.xCount,Kr=Gr.tickAmount,Qr=this.w;if(Qr.config.grid.xaxis.lines.show||Qr.config.xaxis.axisTicks.show){var Jr,en=Qr.globals.padHorizontal,tn=Qr.globals.gridHeight;Qr.globals.timescaleLabels.length?function(un){for(var cn=un.xC,hn=un.x1,dn=un.y1,fn=un.x2,pn=un.y2,gn=0;gn<cn;gn++)hn=Yr.xaxisLabels[gn].position,fn=Yr.xaxisLabels[gn].position,Yr._drawGridLines({i:gn,x1:hn,y1:dn,x2:fn,y2:pn,xCount:Zr,parent:Yr.elgridLinesV})}({xC:Zr,x1:en,y1:0,x2:Jr,y2:tn}):(Qr.globals.isXNumeric&&(Zr=Qr.globals.xAxisScale.result.length),function(un){for(var cn=un.xC,hn=un.x1,dn=un.y1,fn=un.x2,pn=un.y2,gn=0;gn<cn+(Qr.globals.isXNumeric?0:1);gn++)gn===0&&cn===1&&Qr.globals.dataPoints===1&&(fn=hn=Qr.globals.gridWidth/2),Yr._drawGridLines({i:gn,x1:hn,y1:dn,x2:fn,y2:pn,xCount:Zr,parent:Yr.elgridLinesV}),fn=hn+=Qr.globals.gridWidth/(Qr.globals.isXNumeric?cn-1:cn)}({xC:Zr,x1:en,y1:0,x2:Jr,y2:tn}))}if(Qr.config.grid.yaxis.lines.show){var rn=0,an=0,nn=Qr.globals.gridWidth,sn=Kr+1;this.isRangeBar&&(sn=Qr.globals.labels.length);for(var ln=0;ln<sn+(this.isRangeBar?1:0);ln++)this._drawGridLine({i:ln,xCount:sn+(this.isRangeBar?1:0),x1:0,y1:rn,x2:nn,y2:an,parent:this.elgridLinesH}),an=rn+=Qr.globals.gridHeight/(this.isRangeBar?sn:Kr)}}},{key:"_drawInvertedXYLines",value:function(Gr){var Yr=Gr.xCount,Zr=this.w;if(Zr.config.grid.xaxis.lines.show||Zr.config.xaxis.axisTicks.show)for(var Kr,Qr=Zr.globals.padHorizontal,Jr=Zr.globals.gridHeight,en=0;en<Yr+1;en++)Zr.config.grid.xaxis.lines.show&&this._drawGridLine({i:en,xCount:Yr+1,x1:Qr,y1:0,x2:Kr,y2:Jr,parent:this.elgridLinesV}),new Qi(this.ctx).drawXaxisTicks(Qr,0,Zr.globals.dom.elGraphical),Kr=Qr+=Zr.globals.gridWidth/Yr;if(Zr.config.grid.yaxis.lines.show)for(var tn=0,rn=0,an=Zr.globals.gridWidth,nn=0;nn<Zr.globals.dataPoints+1;nn++)this._drawGridLine({i:nn,xCount:Zr.globals.dataPoints+1,x1:0,y1:tn,x2:an,y2:rn,parent:this.elgridLinesH}),rn=tn+=Zr.globals.gridHeight/Zr.globals.dataPoints}},{key:"renderGrid",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=new Mi(this.ctx);this.elg=Zr.group({class:"apexcharts-grid"}),this.elgridLinesH=Zr.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=Zr.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=Zr.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),Gr.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var Kr=0;Kr<Yr.seriesYAxisMap.length&&Yr.ignoreYAxisIndexes.includes(Kr);)Kr++;Kr===Yr.seriesYAxisMap.length&&(Kr=0);var Qr,Jr=Yr.yAxisScale[Kr].result.length-1;if(!Yr.isBarHorizontal||this.isRangeBar){var en,tn,rn;Qr=this.xaxisLabels.length,this.isRangeBar&&(Jr=Yr.labels.length,Gr.config.xaxis.tickAmount&&Gr.config.xaxis.labels.formatter&&(Qr=Gr.config.xaxis.tickAmount),((en=Yr.yAxisScale)===null||en===void 0||(tn=en[Kr])===null||tn===void 0||(rn=tn.result)===null||rn===void 0?void 0:rn.length)>0&&Gr.config.xaxis.type!=="datetime"&&(Qr=Yr.yAxisScale[Kr].result.length-1)),this._drawXYLines({xCount:Qr,tickAmount:Jr})}else Qr=Jr,Jr=Yr.xTickAmount,this._drawInvertedXYLines({xCount:Qr,tickAmount:Jr});return this.drawGridBands(Qr,Jr),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:Yr.gridWidth/Qr}}},{key:"drawGridBands",value:function(Gr,Yr){var Zr,Kr,Qr=this,Jr=this.w;if(((Zr=Jr.config.grid.row.colors)===null||Zr===void 0?void 0:Zr.length)>0&&function(un,cn,hn,dn,fn,pn){for(var gn=0,vn=0;gn<cn;gn++,vn++)vn>=Jr.config.grid[un].colors.length&&(vn=0),Qr._drawGridBandRect({c:vn,x1:hn,y1:dn,x2:fn,y2:pn,type:un}),dn+=Jr.globals.gridHeight/Yr}("row",Yr,0,0,Jr.globals.gridWidth,Jr.globals.gridHeight/Yr),((Kr=Jr.config.grid.column.colors)===null||Kr===void 0?void 0:Kr.length)>0){var en=Jr.globals.isBarHorizontal||Jr.config.xaxis.tickPlacement!=="on"||Jr.config.xaxis.type!=="category"&&!Jr.config.xaxis.convertedCatToNumeric?Gr:Gr-1;Jr.globals.isXNumeric&&(en=Jr.globals.xAxisScale.result.length-1);for(var tn=Jr.globals.padHorizontal,rn=Jr.globals.padHorizontal+Jr.globals.gridWidth/en,an=Jr.globals.gridHeight,nn=0,sn=0;nn<Gr;nn++,sn++){var ln;sn>=Jr.config.grid.column.colors.length&&(sn=0),Jr.config.xaxis.type==="datetime"&&(tn=this.xaxisLabels[nn].position,rn=(((ln=this.xaxisLabels[nn+1])===null||ln===void 0?void 0:ln.position)||Jr.globals.gridWidth)-this.xaxisLabels[nn].position),this._drawGridBandRect({c:sn,x1:tn,y1:0,x2:rn,y2:an,type:"column"}),tn+=Jr.globals.gridWidth/en}}}}]),Wr}(),ta=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.coreUtils=new Pi(this.ctx)}return s(Wr,[{key:"niceScale",value:function(Gr,Yr){var Zr,Kr,Qr,Jr,en=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,tn=1e-11,rn=this.w,an=rn.globals;an.isBarHorizontal?(Zr=rn.config.xaxis,Kr=Math.max((an.svgWidth-100)/25,2)):(Zr=rn.config.yaxis[en],Kr=Math.max((an.svgHeight-100)/15,2)),v.isNumber(Kr)||(Kr=10),Qr=Zr.min!==void 0&&Zr.min!==null,Jr=Zr.max!==void 0&&Zr.min!==null;var nn=Zr.stepSize!==void 0&&Zr.stepSize!==null,sn=Zr.tickAmount!==void 0&&Zr.tickAmount!==null,ln=sn?Zr.tickAmount:an.niceScaleDefaultTicks[Math.min(Math.round(Kr/2),an.niceScaleDefaultTicks.length-1)];if(an.isMultipleYAxis&&!sn&&an.multiAxisTickAmount>0&&(ln=an.multiAxisTickAmount,sn=!0),ln=ln==="dataPoints"?an.dataPoints-1:Math.abs(Math.round(ln)),(Gr===Number.MIN_VALUE&&Yr===0||!v.isNumber(Gr)&&!v.isNumber(Yr)||Gr===Number.MIN_VALUE&&Yr===-Number.MAX_VALUE)&&(Gr=v.isNumber(Zr.min)?Zr.min:0,Yr=v.isNumber(Zr.max)?Zr.max:Gr+ln,an.allSeriesCollapsed=!1),Gr>Yr){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var un=Yr;Yr=Gr,Gr=un}else Gr===Yr&&(Gr=Gr===0?0:Gr-1,Yr=Yr===0?2:Yr+1);var cn=[];ln<1&&(ln=1);var hn=ln,dn=Math.abs(Yr-Gr);!Qr&&Gr>0&&Gr/dn<.15&&(Gr=0,Qr=!0),!Jr&&Yr<0&&-Yr/dn<.15&&(Yr=0,Jr=!0);var fn=(dn=Math.abs(Yr-Gr))/hn,pn=fn,gn=Math.floor(Math.log10(pn)),vn=Math.pow(10,gn),mn=Math.ceil(pn/vn);if(fn=pn=(mn=an.niceScaleAllowedMagMsd[an.yValueDecimal===0?0:1][mn])*vn,an.isBarHorizontal&&Zr.stepSize&&Zr.type!=="datetime"?(fn=Zr.stepSize,nn=!0):nn&&(fn=Zr.stepSize),nn&&Zr.forceNiceScale){var yn=Math.floor(Math.log10(fn));fn*=Math.pow(10,gn-yn)}if(Qr&&Jr){var xn=dn/hn;if(sn)if(nn)if(v.mod(dn,fn)!=0){var bn=v.getGCD(fn,xn);fn=xn/bn<10?bn:xn}else v.mod(fn,xn)==0?fn=xn:(xn=fn,sn=!1);else fn=xn;else if(nn)v.mod(dn,fn)==0?xn=fn:fn=xn;else if(v.mod(dn,fn)==0)xn=fn;else{xn=dn/(hn=Math.ceil(dn/fn));var Sn=v.getGCD(dn,fn);dn/Sn<Kr&&(xn=Sn),fn=xn}hn=Math.round(dn/fn)}else{if(Qr||Jr){if(Jr)if(sn)Gr=Yr-fn*hn;else{var wn=Gr;Gr=fn*Math.floor(Gr/fn),Math.abs(Yr-Gr)/v.getGCD(dn,fn)>Kr&&(Gr=Yr-fn*ln,Gr+=fn*Math.floor((wn-Gr)/fn))}else if(Qr)if(sn)Yr=Gr+fn*hn;else{var _n=Yr;Yr=fn*Math.ceil(Yr/fn),Math.abs(Yr-Gr)/v.getGCD(dn,fn)>Kr&&(Yr=Gr+fn*ln,Yr+=fn*Math.ceil((_n-Yr)/fn))}}else if(an.isMultipleYAxis&&sn){var An=fn*Math.floor(Gr/fn),Cn=An+fn*hn;Cn<Yr&&(fn*=2),Cn=Yr,Yr=(Gr=An)+fn*hn,dn=Math.abs(Yr-Gr),Gr>0&&Gr<Math.abs(Cn-Yr)&&(Gr=0,Yr=fn*hn),Yr<0&&-Yr<Math.abs(An-Gr)&&(Yr=0,Gr=-fn*hn)}else Gr=fn*Math.floor(Gr/fn),Yr=fn*Math.ceil(Yr/fn);dn=Math.abs(Yr-Gr),fn=v.getGCD(dn,fn),hn=Math.round(dn/fn)}if(sn||Qr||Jr||(hn=Math.ceil((dn-tn)/(fn+tn)))>16&&v.getPrimeFactors(hn).length<2&&hn++,!sn&&Zr.forceNiceScale&&an.yValueDecimal===0&&hn>dn&&(hn=dn,fn=Math.round(dn/hn)),hn>Kr&&(!sn&&!nn||Zr.forceNiceScale)){var Tn=v.getPrimeFactors(hn),Mn=Tn.length-1,En=hn;e:for(var Ln=0;Ln<Mn;Ln++)for(var In=0;In<=Mn-Ln;In++){for(var Pn=Math.min(In+Ln,Mn),Dn=En,kn=1,Nn=In;Nn<=Pn;Nn++)kn*=Tn[Nn];if((Dn/=kn)<Kr){En=Dn;break e}}fn=En===hn?dn:dn/En,hn=Math.round(dn/fn)}an.isMultipleYAxis&&an.multiAxisTickAmount==0&&an.ignoreYAxisIndexes.indexOf(en)<0&&(an.multiAxisTickAmount=hn);var Rn=Gr-fn,Fn=fn*tn;do Rn+=fn,cn.push(v.stripNumber(Rn,7));while(Yr-Rn>Fn);return{result:cn,niceMin:cn[0],niceMax:cn[cn.length-1]}}},{key:"linearScale",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,Jr=Math.abs(Yr-Gr),en=[];if(Gr===Yr)return{result:en=[Gr],niceMin:en[0],niceMax:en[en.length-1]};(Zr=this._adjustTicksForSmallRange(Zr,Kr,Jr))==="dataPoints"&&(Zr=this.w.globals.dataPoints-1),Qr||(Qr=Jr/Zr),Qr=Math.round(10*(Qr+Number.EPSILON))/10,Zr===Number.MAX_VALUE&&(Zr=5,Qr=1);for(var tn=Gr;Zr>=0;)en.push(tn),tn=v.preciseAddition(tn,Qr),Zr-=1;return{result:en,niceMin:en[0],niceMax:en[en.length-1]}}},{key:"logarithmicScaleNice",value:function(Gr,Yr,Zr){Yr<=0&&(Yr=Math.max(Gr,Zr)),Gr<=0&&(Gr=Math.min(Yr,Zr));for(var Kr=[],Qr=Math.ceil(Math.log(Yr)/Math.log(Zr)+1),Jr=Math.floor(Math.log(Gr)/Math.log(Zr));Jr<Qr;Jr++)Kr.push(Math.pow(Zr,Jr));return{result:Kr,niceMin:Kr[0],niceMax:Kr[Kr.length-1]}}},{key:"logarithmicScale",value:function(Gr,Yr,Zr){Yr<=0&&(Yr=Math.max(Gr,Zr)),Gr<=0&&(Gr=Math.min(Yr,Zr));for(var Kr=[],Qr=Math.log(Yr)/Math.log(Zr),Jr=Math.log(Gr)/Math.log(Zr),en=Qr-Jr,tn=Math.round(en),rn=en/tn,an=0,nn=Jr;an<tn;an++,nn+=rn)Kr.push(Math.pow(Zr,nn));return Kr.push(Math.pow(Zr,Qr)),{result:Kr,niceMin:Gr,niceMax:Yr}}},{key:"_adjustTicksForSmallRange",value:function(Gr,Yr,Zr){var Kr=Gr;if(Yr!==void 0&&this.w.config.yaxis[Yr].labels.formatter&&this.w.config.yaxis[Yr].tickAmount===void 0){var Qr=Number(this.w.config.yaxis[Yr].labels.formatter(1));v.isNumber(Qr)&&this.w.globals.yValueDecimal===0&&(Kr=Math.ceil(Zr))}return Kr<Gr?Kr:Gr}},{key:"setYScaleForIndex",value:function(Gr,Yr,Zr){var Kr=this.w.globals,Qr=this.w.config,Jr=Kr.isBarHorizontal?Qr.xaxis:Qr.yaxis[Gr];Kr.yAxisScale[Gr]===void 0&&(Kr.yAxisScale[Gr]=[]);var en=Math.abs(Zr-Yr);Jr.logarithmic&&en<=5&&(Kr.invalidLogScale=!0),Jr.logarithmic&&en>5?(Kr.allSeriesCollapsed=!1,Kr.yAxisScale[Gr]=Jr.forceNiceScale?this.logarithmicScaleNice(Yr,Zr,Jr.logBase):this.logarithmicScale(Yr,Zr,Jr.logBase)):Zr!==-Number.MAX_VALUE&&v.isNumber(Zr)&&Yr!==Number.MAX_VALUE&&v.isNumber(Yr)?(Kr.allSeriesCollapsed=!1,Kr.yAxisScale[Gr]=this.niceScale(Yr,Zr,Gr)):Kr.yAxisScale[Gr]=this.niceScale(Number.MIN_VALUE,0,Gr)}},{key:"setXScale",value:function(Gr,Yr){var Zr=this.w,Kr=Zr.globals,Qr=Math.abs(Yr-Gr);if(Yr!==-Number.MAX_VALUE&&v.isNumber(Yr)){var Jr=Kr.xTickAmount;Qr<10&&Qr>1&&(Jr=Qr),Kr.xAxisScale=this.linearScale(Gr,Yr,Jr,0,Zr.config.xaxis.stepSize)}else Kr.xAxisScale=this.linearScale(0,10,10);return Kr.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var Gr=this,Yr=this.w.config,Zr=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var Kr=Zr.seriesYAxisMap,Qr=Zr.minYArr,Jr=Zr.maxYArr;Zr.allSeriesCollapsed=!0,Zr.barGroups=[],Kr.forEach(function(en,tn){var rn=[];en.forEach(function(an){var nn,sn=(nn=Yr.series[an])===null||nn===void 0?void 0:nn.group;rn.indexOf(sn)<0&&rn.push(sn)}),en.length>0?function(){var an,nn,sn=Number.MAX_VALUE,ln=-Number.MAX_VALUE,un=sn,cn=ln;if(Yr.chart.stacked)(function(){var fn=new Array(Zr.dataPoints).fill(0),pn=[],gn=[],vn=[];rn.forEach(function(){pn.push(fn.map(function(){return Number.MIN_VALUE})),gn.push(fn.map(function(){return Number.MIN_VALUE})),vn.push(fn.map(function(){return Number.MIN_VALUE}))});for(var mn=function(xn){!an&&Yr.series[en[xn]].type&&(an=Yr.series[en[xn]].type);var bn=en[xn];nn=Yr.series[bn].group?Yr.series[bn].group:"axis-".concat(tn),!(Zr.collapsedSeriesIndices.indexOf(bn)<0&&Zr.ancillaryCollapsedSeriesIndices.indexOf(bn)<0)||(Zr.allSeriesCollapsed=!1,rn.forEach(function(Sn,wn){if(Yr.series[bn].group===Sn)for(var _n=0;_n<Zr.series[bn].length;_n++){var An=Zr.series[bn][_n];An>=0?gn[wn][_n]+=An:vn[wn][_n]+=An,pn[wn][_n]+=An,un=Math.min(un,An),cn=Math.max(cn,An)}})),an!=="bar"&&an!=="column"||Zr.barGroups.push(nn)},yn=0;yn<en.length;yn++)mn(yn);an||(an=Yr.chart.type),an==="bar"||an==="column"?rn.forEach(function(xn,bn){sn=Math.min(sn,Math.min.apply(null,vn[bn])),ln=Math.max(ln,Math.max.apply(null,gn[bn]))}):(rn.forEach(function(xn,bn){un=Math.min(un,Math.min.apply(null,pn[bn])),cn=Math.max(cn,Math.max.apply(null,pn[bn]))}),sn=un,ln=cn),sn===Number.MIN_VALUE&&ln===Number.MIN_VALUE&&(ln=-Number.MAX_VALUE)})();else for(var hn=0;hn<en.length;hn++){var dn=en[hn];sn=Math.min(sn,Qr[dn]),ln=Math.max(ln,Jr[dn]),!(Zr.collapsedSeriesIndices.indexOf(dn)<0&&Zr.ancillaryCollapsedSeriesIndices.indexOf(dn)<0)||(Zr.allSeriesCollapsed=!1)}Yr.yaxis[tn].min!==void 0&&(sn=typeof Yr.yaxis[tn].min=="function"?Yr.yaxis[tn].min(sn):Yr.yaxis[tn].min),Yr.yaxis[tn].max!==void 0&&(ln=typeof Yr.yaxis[tn].max=="function"?Yr.yaxis[tn].max(ln):Yr.yaxis[tn].max),Zr.barGroups=Zr.barGroups.filter(function(fn,pn,gn){return gn.indexOf(fn)===pn}),Gr.setYScaleForIndex(tn,sn,ln),en.forEach(function(fn){Qr[fn]=Zr.yAxisScale[tn].niceMin,Jr[fn]=Zr.yAxisScale[tn].niceMax})}():Gr.setYScaleForIndex(tn,0,-Number.MAX_VALUE)})}}]),Wr}(),ea=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.scales=new ta(Gr)}return s(Wr,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Qr=this.w.config,Jr=this.w.globals,en=-Number.MAX_VALUE,tn=Number.MIN_VALUE;Kr===null&&(Kr=Gr+1);var rn=Jr.series,an=rn,nn=rn;Qr.chart.type==="candlestick"?(an=Jr.seriesCandleL,nn=Jr.seriesCandleH):Qr.chart.type==="boxPlot"?(an=Jr.seriesCandleO,nn=Jr.seriesCandleC):Jr.isRangeData&&(an=Jr.seriesRangeStart,nn=Jr.seriesRangeEnd);var sn=!1;if(Jr.seriesX.length>=Kr){var ln,un=(ln=Jr.brushSource)===null||ln===void 0?void 0:ln.w.config.chart.brush;(Qr.chart.zoom.enabled&&Qr.chart.zoom.autoScaleYaxis||un!=null&&un.enabled&&un!=null&&un.autoScaleYaxis)&&(sn=!0)}for(var cn=Gr;cn<Kr;cn++){Jr.dataPoints=Math.max(Jr.dataPoints,rn[cn].length);var hn=Qr.series[cn].type;Jr.categoryLabels.length&&(Jr.dataPoints=Jr.categoryLabels.filter(function(vn){return vn!==void 0}).length),Jr.labels.length&&Qr.xaxis.type!=="datetime"&&Jr.series.reduce(function(vn,mn){return vn+mn.length},0)!==0&&(Jr.dataPoints=Math.max(Jr.dataPoints,Jr.labels.length));var dn=0,fn=rn[cn].length-1;if(sn){if(Qr.xaxis.min)for(;dn<fn&&Jr.seriesX[cn][dn]<Qr.xaxis.min;dn++);if(Qr.xaxis.max)for(;fn>dn&&Jr.seriesX[cn][fn]>Qr.xaxis.max;fn--);}for(var pn=dn;pn<=fn&&pn<Jr.series[cn].length;pn++){var gn=rn[cn][pn];if(gn!==null&&v.isNumber(gn)){switch(nn[cn][pn]!==void 0&&(en=Math.max(en,nn[cn][pn]),Yr=Math.min(Yr,nn[cn][pn])),an[cn][pn]!==void 0&&(Yr=Math.min(Yr,an[cn][pn]),Zr=Math.max(Zr,an[cn][pn])),hn){case"candlestick":Jr.seriesCandleC[cn][pn]!==void 0&&(en=Math.max(en,Jr.seriesCandleH[cn][pn]),Yr=Math.min(Yr,Jr.seriesCandleL[cn][pn]));break;case"boxPlot":Jr.seriesCandleC[cn][pn]!==void 0&&(en=Math.max(en,Jr.seriesCandleC[cn][pn]),Yr=Math.min(Yr,Jr.seriesCandleO[cn][pn]))}hn&&hn!=="candlestick"&&hn!=="boxPlot"&&hn!=="rangeArea"&&hn!=="rangeBar"&&(en=Math.max(en,Jr.series[cn][pn]),Yr=Math.min(Yr,Jr.series[cn][pn])),Jr.seriesGoals[cn]&&Jr.seriesGoals[cn][pn]&&Array.isArray(Jr.seriesGoals[cn][pn])&&Jr.seriesGoals[cn][pn].forEach(function(vn){en=Math.max(en,vn.value),Yr=Math.min(Yr,vn.value)}),Zr=en,gn=v.noExponents(gn),v.isFloat(gn)&&(Jr.yValueDecimal=Math.max(Jr.yValueDecimal,gn.toString().split(".")[1].length)),tn>an[cn][pn]&&an[cn][pn]<0&&(tn=an[cn][pn])}else Jr.hasNullValues=!0}hn!=="bar"&&hn!=="column"||(tn<0&&en<0&&(en=0,Zr=Math.max(Zr,0)),tn===Number.MIN_VALUE&&(tn=0,Yr=Math.min(Yr,0)))}return Qr.chart.type==="rangeBar"&&Jr.seriesRangeStart.length&&Jr.isBarHorizontal&&(tn=Yr),Qr.chart.type==="bar"&&(tn<0&&en<0&&(en=0),tn===Number.MIN_VALUE&&(tn=0)),{minY:tn,maxY:en,lowestY:Yr,highestY:Zr}}},{key:"setYRange",value:function(){var Gr=this.w.globals,Yr=this.w.config;Gr.maxY=-Number.MAX_VALUE,Gr.minY=Number.MIN_VALUE;var Zr,Kr=Number.MAX_VALUE;if(Gr.isMultipleYAxis){Kr=Number.MAX_VALUE;for(var Qr=0;Qr<Gr.series.length;Qr++)Zr=this.getMinYMaxY(Qr),Gr.minYArr[Qr]=Zr.lowestY,Gr.maxYArr[Qr]=Zr.highestY,Kr=Math.min(Kr,Zr.lowestY)}return Zr=this.getMinYMaxY(0,Kr,null,Gr.series.length),Yr.chart.type==="bar"?(Gr.minY=Zr.minY,Gr.maxY=Zr.maxY):(Gr.minY=Zr.lowestY,Gr.maxY=Zr.highestY),Kr=Zr.lowestY,Yr.chart.stacked&&this._setStackedMinMax(),Yr.chart.type==="line"||Yr.chart.type==="area"||Yr.chart.type==="scatter"||Yr.chart.type==="candlestick"||Yr.chart.type==="boxPlot"||Yr.chart.type==="rangeBar"&&!Gr.isBarHorizontal?Gr.minY===Number.MIN_VALUE&&Kr!==-Number.MAX_VALUE&&Kr!==Gr.maxY&&(Gr.minY=Kr):Gr.minY=Gr.minY!==Number.MIN_VALUE?Math.min(Zr.minY,Gr.minY):Zr.minY,Yr.yaxis.forEach(function(Jr,en){Jr.max!==void 0&&(typeof Jr.max=="number"?Gr.maxYArr[en]=Jr.max:typeof Jr.max=="function"&&(Gr.maxYArr[en]=Jr.max(Gr.isMultipleYAxis?Gr.maxYArr[en]:Gr.maxY)),Gr.maxY=Gr.maxYArr[en]),Jr.min!==void 0&&(typeof Jr.min=="number"?Gr.minYArr[en]=Jr.min:typeof Jr.min=="function"&&(Gr.minYArr[en]=Jr.min(Gr.isMultipleYAxis?Gr.minYArr[en]===Number.MIN_VALUE?0:Gr.minYArr[en]:Gr.minY)),Gr.minY=Gr.minYArr[en])}),Gr.isBarHorizontal&&["min","max"].forEach(function(Jr){Yr.xaxis[Jr]!==void 0&&typeof Yr.xaxis[Jr]=="number"&&(Jr==="min"?Gr.minY=Yr.xaxis[Jr]:Gr.maxY=Yr.xaxis[Jr])}),Gr.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),Gr.minY=Kr):(this.scales.setYScaleForIndex(0,Gr.minY,Gr.maxY),Gr.minY=Gr.yAxisScale[0].niceMin,Gr.maxY=Gr.yAxisScale[0].niceMax,Gr.minYArr[0]=Gr.minY,Gr.maxYArr[0]=Gr.maxY),Gr.barGroups=[],Gr.lineGroups=[],Gr.areaGroups=[],Yr.series.forEach(function(Jr){switch(Jr.type||Yr.chart.type){case"bar":case"column":Gr.barGroups.push(Jr.group);break;case"line":Gr.lineGroups.push(Jr.group);break;case"area":Gr.areaGroups.push(Jr.group)}}),Gr.barGroups=Gr.barGroups.filter(function(Jr,en,tn){return tn.indexOf(Jr)===en}),Gr.lineGroups=Gr.lineGroups.filter(function(Jr,en,tn){return tn.indexOf(Jr)===en}),Gr.areaGroups=Gr.areaGroups.filter(function(Jr,en,tn){return tn.indexOf(Jr)===en}),{minY:Gr.minY,maxY:Gr.maxY,minYArr:Gr.minYArr,maxYArr:Gr.maxYArr,yAxisScale:Gr.yAxisScale}}},{key:"setXRange",value:function(){var Gr=this.w.globals,Yr=this.w.config,Zr=Yr.xaxis.type==="numeric"||Yr.xaxis.type==="datetime"||Yr.xaxis.type==="category"&&!Gr.noLabelsProvided||Gr.noLabelsProvided||Gr.isXNumeric;if(Gr.isXNumeric&&function(){for(var tn=0;tn<Gr.series.length;tn++)if(Gr.labels[tn])for(var rn=0;rn<Gr.labels[tn].length;rn++)Gr.labels[tn][rn]!==null&&v.isNumber(Gr.labels[tn][rn])&&(Gr.maxX=Math.max(Gr.maxX,Gr.labels[tn][rn]),Gr.initialMaxX=Math.max(Gr.maxX,Gr.labels[tn][rn]),Gr.minX=Math.min(Gr.minX,Gr.labels[tn][rn]),Gr.initialMinX=Math.min(Gr.minX,Gr.labels[tn][rn]))}(),Gr.noLabelsProvided&&Yr.xaxis.categories.length===0&&(Gr.maxX=Gr.labels[Gr.labels.length-1],Gr.initialMaxX=Gr.labels[Gr.labels.length-1],Gr.minX=1,Gr.initialMinX=1),Gr.isXNumeric||Gr.noLabelsProvided||Gr.dataFormatXNumeric){var Kr=10;if(Yr.xaxis.tickAmount===void 0)Kr=Math.round(Gr.svgWidth/150),Yr.xaxis.type==="numeric"&&Gr.dataPoints<30&&(Kr=Gr.dataPoints-1),Kr>Gr.dataPoints&&Gr.dataPoints!==0&&(Kr=Gr.dataPoints-1);else if(Yr.xaxis.tickAmount==="dataPoints"){if(Gr.series.length>1&&(Kr=Gr.series[Gr.maxValsInArrayIndex].length-1),Gr.isXNumeric){var Qr=Gr.maxX-Gr.minX;Qr<30&&(Kr=Qr-1)}}else Kr=Yr.xaxis.tickAmount;if(Gr.xTickAmount=Kr,Yr.xaxis.max!==void 0&&typeof Yr.xaxis.max=="number"&&(Gr.maxX=Yr.xaxis.max),Yr.xaxis.min!==void 0&&typeof Yr.xaxis.min=="number"&&(Gr.minX=Yr.xaxis.min),Yr.xaxis.range!==void 0&&(Gr.minX=Gr.maxX-Yr.xaxis.range),Gr.minX!==Number.MAX_VALUE&&Gr.maxX!==-Number.MAX_VALUE)if(Yr.xaxis.convertedCatToNumeric&&!Gr.dataFormatXNumeric){for(var Jr=[],en=Gr.minX-1;en<Gr.maxX;en++)Jr.push(en+1);Gr.xAxisScale={result:Jr,niceMin:Jr[0],niceMax:Jr[Jr.length-1]}}else Gr.xAxisScale=this.scales.setXScale(Gr.minX,Gr.maxX);else Gr.xAxisScale=this.scales.linearScale(0,Kr,Kr,0,Yr.xaxis.stepSize),Gr.noLabelsProvided&&Gr.labels.length>0&&(Gr.xAxisScale=this.scales.linearScale(1,Gr.labels.length,Kr-1,0,Yr.xaxis.stepSize),Gr.seriesX=Gr.labels.slice());Zr&&(Gr.labels=Gr.xAxisScale.result.slice())}return Gr.isBarHorizontal&&Gr.labels.length&&(Gr.xTickAmount=Gr.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:Gr.minX,maxX:Gr.maxX}}},{key:"setZRange",value:function(){var Gr=this.w.globals;if(Gr.isDataXYZ){for(var Yr=0;Yr<Gr.series.length;Yr++)if(Gr.seriesZ[Yr]!==void 0)for(var Zr=0;Zr<Gr.seriesZ[Yr].length;Zr++)Gr.seriesZ[Yr][Zr]!==null&&v.isNumber(Gr.seriesZ[Yr][Zr])&&(Gr.maxZ=Math.max(Gr.maxZ,Gr.seriesZ[Yr][Zr]),Gr.minZ=Math.min(Gr.minZ,Gr.seriesZ[Yr][Zr]))}}},{key:"_handleSingleDataPoint",value:function(){var Gr=this.w.globals,Yr=this.w.config;if(Gr.minX===Gr.maxX){var Zr=new zi(this.ctx);if(Yr.xaxis.type==="datetime"){var Kr=Zr.getDate(Gr.minX);Yr.xaxis.labels.datetimeUTC?Kr.setUTCDate(Kr.getUTCDate()-2):Kr.setDate(Kr.getDate()-2),Gr.minX=new Date(Kr).getTime();var Qr=Zr.getDate(Gr.maxX);Yr.xaxis.labels.datetimeUTC?Qr.setUTCDate(Qr.getUTCDate()+2):Qr.setDate(Qr.getDate()+2),Gr.maxX=new Date(Qr).getTime()}else(Yr.xaxis.type==="numeric"||Yr.xaxis.type==="category"&&!Gr.noLabelsProvided)&&(Gr.minX=Gr.minX-2,Gr.initialMinX=Gr.minX,Gr.maxX=Gr.maxX+2,Gr.initialMaxX=Gr.maxX)}}},{key:"_getMinXDiff",value:function(){var Gr=this.w.globals;Gr.isXNumeric&&Gr.seriesX.forEach(function(Yr,Zr){if(Yr.length){Yr.length===1&&Yr.push(Gr.seriesX[Gr.maxValsInArrayIndex][Gr.seriesX[Gr.maxValsInArrayIndex].length-1]);var Kr=Yr.slice();Kr.sort(function(Qr,Jr){return Qr-Jr}),Kr.forEach(function(Qr,Jr){if(Jr>0){var en=Qr-Kr[Jr-1];en>0&&(Gr.minXDiff=Math.min(en,Gr.minXDiff))}}),Gr.dataPoints!==1&&Gr.minXDiff!==Number.MAX_VALUE||(Gr.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var Gr=this,Yr=this.w.globals;if(Yr.series.length){var Zr=Yr.seriesGroups;Zr.length||(Zr=[this.w.globals.seriesNames.map(function(Jr){return Jr})]);var Kr={},Qr={};Zr.forEach(function(Jr){Kr[Jr]=[],Qr[Jr]=[],Gr.w.config.series.map(function(en,tn){return Jr.indexOf(Yr.seriesNames[tn])>-1?tn:null}).filter(function(en){return en!==null}).forEach(function(en){for(var tn=0;tn<Yr.series[Yr.maxValsInArrayIndex].length;tn++){var rn,an,nn,sn;Kr[Jr][tn]===void 0&&(Kr[Jr][tn]=0,Qr[Jr][tn]=0),(Gr.w.config.chart.stacked&&!Yr.comboCharts||Gr.w.config.chart.stacked&&Yr.comboCharts&&(!Gr.w.config.chart.stackOnlyBar||((rn=Gr.w.config.series)===null||rn===void 0||(an=rn[en])===null||an===void 0?void 0:an.type)==="bar"||((nn=Gr.w.config.series)===null||nn===void 0||(sn=nn[en])===null||sn===void 0?void 0:sn.type)==="column"))&&Yr.series[en][tn]!==null&&v.isNumber(Yr.series[en][tn])&&(Yr.series[en][tn]>0?Kr[Jr][tn]+=parseFloat(Yr.series[en][tn])+1e-4:Qr[Jr][tn]+=parseFloat(Yr.series[en][tn]))}})}),Object.entries(Kr).forEach(function(Jr){var en=p(Jr,1)[0];Kr[en].forEach(function(tn,rn){Yr.maxY=Math.max(Yr.maxY,Kr[en][rn]),Yr.minY=Math.min(Yr.minY,Qr[en][rn])})})}}}]),Wr}(),ia=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.elgrid=Yr,this.w=Gr.w;var Zr=this.w;this.xaxisFontSize=Zr.config.xaxis.labels.style.fontSize,this.axisFontFamily=Zr.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=Zr.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=Zr.config.chart.type==="bar"&&Zr.config.plotOptions.bar.horizontal,this.xAxisoffX=Zr.config.xaxis.position==="bottom"?Zr.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ri(Gr)}return s(Wr,[{key:"drawYaxis",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx),Kr=Yr.config.yaxis[Gr].labels.style,Qr=Kr.fontSize,Jr=Kr.fontFamily,en=Kr.fontWeight,tn=Zr.group({class:"apexcharts-yaxis",rel:Gr,transform:"translate(".concat(Yr.globals.translateYAxisX[Gr],", 0)")});if(this.axesUtils.isYAxisHidden(Gr))return tn;var rn=Zr.group({class:"apexcharts-yaxis-texts-g"});tn.add(rn);var an=Yr.globals.yAxisScale[Gr].result.length-1,nn=Yr.globals.gridHeight/an,sn=Yr.globals.yLabelFormatters[Gr],ln=this.axesUtils.checkForReversedLabels(Gr,Yr.globals.yAxisScale[Gr].result.slice());if(Yr.config.yaxis[Gr].labels.show){var un=Yr.globals.translateY+Yr.config.yaxis[Gr].labels.offsetY;Yr.globals.isBarHorizontal?un=0:Yr.config.chart.type==="heatmap"&&(un-=nn/2),un+=parseInt(Qr,10)/3;for(var cn=an;cn>=0;cn--){var hn=sn(ln[cn],cn,Yr),dn=Yr.config.yaxis[Gr].labels.padding;Yr.config.yaxis[Gr].opposite&&Yr.config.yaxis.length!==0&&(dn*=-1);var fn=this.getTextAnchor(Yr.config.yaxis[Gr].labels.align,Yr.config.yaxis[Gr].opposite),pn=this.axesUtils.getYAxisForeColor(Kr.colors,Gr),gn=Array.isArray(pn)?pn[cn]:pn,vn=v.listToArray(Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(Gr,"'] .apexcharts-yaxis-label tspan"))).map(function(yn){return yn.textContent}),mn=Zr.drawText({x:dn,y:un,text:vn.includes(hn)&&!Yr.config.yaxis[Gr].labels.showDuplicates?"":hn,textAnchor:fn,fontSize:Qr,fontFamily:Jr,fontWeight:en,maxWidth:Yr.config.yaxis[Gr].labels.maxWidth,foreColor:gn,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(Kr.cssClass)});rn.add(mn),this.addTooltip(mn,hn),Yr.config.yaxis[Gr].labels.rotate!==0&&this.rotateLabel(Zr,mn,firstLabel,Yr.config.yaxis[Gr].labels.rotate),un+=nn}}return this.addYAxisTitle(Zr,tn,Gr),this.addAxisBorder(Zr,tn,Gr,an,nn),tn}},{key:"getTextAnchor",value:function(Gr,Yr){return Gr==="left"?"start":Gr==="center"?"middle":Gr==="right"?"end":Yr?"start":"end"}},{key:"addTooltip",value:function(Gr,Yr){var Zr=document.createElementNS(this.w.globals.SVGNS,"title");Zr.textContent=Array.isArray(Yr)?Yr.join(" "):Yr,Gr.node.appendChild(Zr)}},{key:"rotateLabel",value:function(Gr,Yr,Zr,Kr){var Qr=Gr.rotateAroundCenter(Zr.node),Jr=Gr.rotateAroundCenter(Yr.node);Yr.node.setAttribute("transform","rotate(".concat(Kr," ").concat(Qr.x," ").concat(Jr.y,")"))}},{key:"addYAxisTitle",value:function(Gr,Yr,Zr){var Kr=this.w;if(Kr.config.yaxis[Zr].title.text!==void 0){var Qr=Gr.group({class:"apexcharts-yaxis-title"}),Jr=Kr.config.yaxis[Zr].opposite?Kr.globals.translateYAxisX[Zr]:0,en=Gr.drawText({x:Jr,y:Kr.globals.gridHeight/2+Kr.globals.translateY+Kr.config.yaxis[Zr].title.offsetY,text:Kr.config.yaxis[Zr].title.text,textAnchor:"end",foreColor:Kr.config.yaxis[Zr].title.style.color,fontSize:Kr.config.yaxis[Zr].title.style.fontSize,fontWeight:Kr.config.yaxis[Zr].title.style.fontWeight,fontFamily:Kr.config.yaxis[Zr].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(Kr.config.yaxis[Zr].title.style.cssClass)});Qr.add(en),Yr.add(Qr)}}},{key:"addAxisBorder",value:function(Gr,Yr,Zr,Kr,Qr){var Jr=this.w,en=Jr.config.yaxis[Zr].axisBorder,tn=31+en.offsetX;if(Jr.config.yaxis[Zr].opposite&&(tn=-31-en.offsetX),en.show){var rn=Gr.drawLine(tn,Jr.globals.translateY+en.offsetY-2,tn,Jr.globals.gridHeight+Jr.globals.translateY+en.offsetY+2,en.color,0,en.width);Yr.add(rn)}Jr.config.yaxis[Zr].axisTicks.show&&this.axesUtils.drawYAxisTicks(tn,Kr,en,Jr.config.yaxis[Zr].axisTicks,Zr,Qr,Yr)}},{key:"drawYaxisInversed",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx),Kr=Zr.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),Qr=Zr.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(Yr.globals.translateXAxisX,", ").concat(Yr.globals.translateXAxisY,")")});Kr.add(Qr);var Jr=Yr.globals.yAxisScale[Gr].result.length-1,en=Yr.globals.gridWidth/Jr+.1,tn=en+Yr.config.xaxis.labels.offsetX,rn=Yr.globals.xLabelFormatter,an=this.axesUtils.checkForReversedLabels(Gr,Yr.globals.yAxisScale[Gr].result.slice()),nn=Yr.globals.timescaleLabels;if(nn.length>0&&(this.xaxisLabels=nn.slice(),Jr=(an=nn.slice()).length),Yr.config.xaxis.labels.show)for(var sn=nn.length?0:Jr;nn.length?sn<nn.length:sn>=0;nn.length?sn++:sn--){var ln=rn(an[sn],sn,Yr),un=Yr.globals.gridWidth+Yr.globals.padHorizontal-(tn-en+Yr.config.xaxis.labels.offsetX);if(nn.length){var cn=this.axesUtils.getLabel(an,nn,un,sn,this.drawnLabels,this.xaxisFontSize);un=cn.x,ln=cn.text,this.drawnLabels.push(cn.text),sn===0&&Yr.globals.skipFirstTimelinelabel&&(ln=""),sn===an.length-1&&Yr.globals.skipLastTimelinelabel&&(ln="")}var hn=Zr.drawText({x:un,y:this.xAxisoffX+Yr.config.xaxis.labels.offsetY+30-(Yr.config.xaxis.position==="top"?Yr.globals.xAxisHeight+Yr.config.xaxis.axisTicks.height-2:0),text:ln,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[Gr]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:Yr.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(Yr.config.xaxis.labels.style.cssClass)});Qr.add(hn),hn.tspan(ln),this.addTooltip(hn,ln),tn+=en}return this.inversedYAxisTitleText(Kr),this.inversedYAxisBorder(Kr),Kr}},{key:"inversedYAxisBorder",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx),Kr=Yr.config.xaxis.axisBorder;if(Kr.show){var Qr=0;Yr.config.chart.type==="bar"&&Yr.globals.isXNumeric&&(Qr-=15);var Jr=Zr.drawLine(Yr.globals.padHorizontal+Qr+Kr.offsetX,this.xAxisoffX,Yr.globals.gridWidth,this.xAxisoffX,Kr.color,0,Kr.height);this.elgrid&&this.elgrid.elGridBorders&&Yr.config.grid.show?this.elgrid.elGridBorders.add(Jr):Gr.add(Jr)}}},{key:"inversedYAxisTitleText",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx);if(Yr.config.xaxis.title.text!==void 0){var Kr=Zr.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),Qr=Zr.drawText({x:Yr.globals.gridWidth/2+Yr.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(Yr.config.xaxis.title.style.fontSize)+Yr.config.xaxis.title.offsetY+20,text:Yr.config.xaxis.title.text,textAnchor:"middle",fontSize:Yr.config.xaxis.title.style.fontSize,fontFamily:Yr.config.xaxis.title.style.fontFamily,fontWeight:Yr.config.xaxis.title.style.fontWeight,foreColor:Yr.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(Yr.config.xaxis.title.style.cssClass)});Kr.add(Qr),Gr.add(Kr)}}},{key:"yAxisTitleRotate",value:function(Gr,Yr){var Zr=this.w,Kr=new Mi(this.ctx),Qr=Zr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Gr,"'] .apexcharts-yaxis-texts-g")),Jr=Qr?Qr.getBoundingClientRect():{width:0,height:0},en=Zr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Gr,"'] .apexcharts-yaxis-title text")),tn=en?en.getBoundingClientRect():{width:0,height:0};if(en){var rn=this.xPaddingForYAxisTitle(Gr,Jr,tn,Yr);en.setAttribute("x",rn.xPos-(Yr?10:0));var an=Kr.rotateAroundCenter(en);en.setAttribute("transform","rotate(".concat(Yr?-1*Zr.config.yaxis[Gr].title.rotate:Zr.config.yaxis[Gr].title.rotate," ").concat(an.x," ").concat(an.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(Gr,Yr,Zr,Kr){var Qr=this.w,Jr=0,en=10;return Qr.config.yaxis[Gr].title.text===void 0||Gr<0?{xPos:Jr,padd:0}:(Kr?Jr=Yr.width+Qr.config.yaxis[Gr].title.offsetX+Zr.width/2+en/2:(Jr=-1*Yr.width+Qr.config.yaxis[Gr].title.offsetX+en/2+Zr.width/2,Qr.globals.isBarHorizontal&&(en=25,Jr=-1*Yr.width-Qr.config.yaxis[Gr].title.offsetX-en)),{xPos:Jr,padd:en})}},{key:"setYAxisXPosition",value:function(Gr,Yr){var Zr=this.w,Kr=0,Qr=0,Jr=18,en=1;Zr.config.yaxis.length>1&&(this.multipleYs=!0),Zr.config.yaxis.forEach(function(tn,rn){var an=Zr.globals.ignoreYAxisIndexes.includes(rn)||!tn.show||tn.floating||Gr[rn].width===0,nn=Gr[rn].width+Yr[rn].width;tn.opposite?Zr.globals.isBarHorizontal?(Qr=Zr.globals.gridWidth+Zr.globals.translateX-1,Zr.globals.translateYAxisX[rn]=Qr-tn.labels.offsetX):(Qr=Zr.globals.gridWidth+Zr.globals.translateX+en,an||(en+=nn+20),Zr.globals.translateYAxisX[rn]=Qr-tn.labels.offsetX+20):(Kr=Zr.globals.translateX-Jr,an||(Jr+=nn+20),Zr.globals.translateYAxisX[rn]=Kr+tn.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var Gr=this.w;v.listToArray(Gr.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(Yr,Zr){var Kr=Gr.config.yaxis[Zr];if(Kr&&!Kr.floating&&Kr.labels.align!==void 0){var Qr=Gr.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(Zr,"'] .apexcharts-yaxis-texts-g")),Jr=v.listToArray(Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(Zr,"'] .apexcharts-yaxis-label"))),en=Qr.getBoundingClientRect();Jr.forEach(function(tn){tn.setAttribute("text-anchor",Kr.labels.align)}),Kr.labels.align!=="left"||Kr.opposite?Kr.labels.align==="center"?Qr.setAttribute("transform","translate(".concat(en.width/2*(Kr.opposite?1:-1),", 0)")):Kr.labels.align==="right"&&Kr.opposite&&Qr.setAttribute("transform","translate(".concat(en.width,", 0)")):Qr.setAttribute("transform","translate(-".concat(en.width,", 0)"))}})}}]),Wr}(),aa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.documentEvent=v.bind(this.documentEvent,this)}return s(Wr,[{key:"addEventListener",value:function(Gr,Yr){var Zr=this.w;Zr.globals.events.hasOwnProperty(Gr)?Zr.globals.events[Gr].push(Yr):Zr.globals.events[Gr]=[Yr]}},{key:"removeEventListener",value:function(Gr,Yr){var Zr=this.w;if(Zr.globals.events.hasOwnProperty(Gr)){var Kr=Zr.globals.events[Gr].indexOf(Yr);Kr!==-1&&Zr.globals.events[Gr].splice(Kr,1)}}},{key:"fireEvent",value:function(Gr,Yr){var Zr=this.w;if(Zr.globals.events.hasOwnProperty(Gr)){Yr&&Yr.length||(Yr=[]);for(var Kr=Zr.globals.events[Gr],Qr=Kr.length,Jr=0;Jr<Qr;Jr++)Kr[Jr].apply(null,Yr)}}},{key:"setupEventHandlers",value:function(){var Gr=this,Yr=this.w,Zr=this.ctx,Kr=Yr.globals.dom.baseEl.querySelector(Yr.globals.chartClass);this.ctx.eventList.forEach(function(Qr){Kr.addEventListener(Qr,function(Jr){var en=Object.assign({},Yr,{seriesIndex:Yr.globals.axisCharts?Yr.globals.capturedSeriesIndex:0,dataPointIndex:Yr.globals.capturedDataPointIndex});Jr.type==="mousemove"||Jr.type==="touchmove"?typeof Yr.config.chart.events.mouseMove=="function"&&Yr.config.chart.events.mouseMove(Jr,Zr,en):Jr.type==="mouseleave"||Jr.type==="touchleave"?typeof Yr.config.chart.events.mouseLeave=="function"&&Yr.config.chart.events.mouseLeave(Jr,Zr,en):(Jr.type==="mouseup"&&Jr.which===1||Jr.type==="touchend")&&(typeof Yr.config.chart.events.click=="function"&&Yr.config.chart.events.click(Jr,Zr,en),Zr.ctx.events.fireEvent("click",[Jr,Zr,en]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(Qr){Yr.globals.dom.baseEl.addEventListener(Qr,Gr.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(Gr){var Yr=this.w,Zr=Gr.target.className;if(Gr.type==="click"){var Kr=Yr.globals.dom.baseEl.querySelector(".apexcharts-menu");Kr&&Kr.classList.contains("apexcharts-menu-open")&&Zr!=="apexcharts-menu-icon"&&Kr.classList.remove("apexcharts-menu-open")}Yr.globals.clientX=Gr.type==="touchmove"?Gr.touches[0].clientX:Gr.clientX,Yr.globals.clientY=Gr.type==="touchmove"?Gr.touches[0].clientY:Gr.clientY}}]),Wr}(),sa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"setCurrentLocaleValues",value:function(Gr){var Yr=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(Yr=this.w.config.chart.locales.concat(window.Apex.chart.locales));var Zr=Yr.filter(function(Qr){return Qr.name===Gr})[0];if(!Zr)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var Kr=v.extend(Hi,Zr);this.w.globals.locale=Kr.options}}]),Wr}(),ra=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"drawAxis",value:function(Gr,Yr){var Zr,Kr,Qr=this,Jr=this.w.globals,en=this.w.config,tn=new Qi(this.ctx,Yr),rn=new ia(this.ctx,Yr);Jr.axisCharts&&Gr!=="radar"&&(Jr.isBarHorizontal?(Kr=rn.drawYaxisInversed(0),Zr=tn.drawXaxisInversed(0),Jr.dom.elGraphical.add(Zr),Jr.dom.elGraphical.add(Kr)):(Zr=tn.drawXaxis(),Jr.dom.elGraphical.add(Zr),en.yaxis.map(function(an,nn){if(Jr.ignoreYAxisIndexes.indexOf(nn)===-1&&(Kr=rn.drawYaxis(nn),Jr.dom.Paper.add(Kr),Qr.w.config.grid.position==="back")){var sn=Jr.dom.Paper.children()[1];sn.remove(),Jr.dom.Paper.add(sn)}})))}}]),Wr}(),na=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"drawXCrosshairs",value:function(){var Gr=this.w,Yr=new Mi(this.ctx),Zr=new Li(this.ctx),Kr=Gr.config.xaxis.crosshairs.fill.gradient,Qr=Gr.config.xaxis.crosshairs.dropShadow,Jr=Gr.config.xaxis.crosshairs.fill.type,en=Kr.colorFrom,tn=Kr.colorTo,rn=Kr.opacityFrom,an=Kr.opacityTo,nn=Kr.stops,sn=Qr.enabled,ln=Qr.left,un=Qr.top,cn=Qr.blur,hn=Qr.color,dn=Qr.opacity,fn=Gr.config.xaxis.crosshairs.fill.color;if(Gr.config.xaxis.crosshairs.show){Jr==="gradient"&&(fn=Yr.drawGradient("vertical",en,tn,rn,an,null,nn,null));var pn=Yr.drawRect();Gr.config.xaxis.crosshairs.width===1&&(pn=Yr.drawLine());var gn=Gr.globals.gridHeight;(!v.isNumber(gn)||gn<0)&&(gn=0);var vn=Gr.config.xaxis.crosshairs.width;(!v.isNumber(vn)||vn<0)&&(vn=0),pn.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:gn,width:vn,height:gn,fill:fn,filter:"none","fill-opacity":Gr.config.xaxis.crosshairs.opacity,stroke:Gr.config.xaxis.crosshairs.stroke.color,"stroke-width":Gr.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":Gr.config.xaxis.crosshairs.stroke.dashArray}),sn&&(pn=Zr.dropShadow(pn,{left:ln,top:un,blur:cn,color:hn,opacity:dn})),Gr.globals.dom.elGraphical.add(pn)}}},{key:"drawYCrosshairs",value:function(){var Gr=this.w,Yr=new Mi(this.ctx),Zr=Gr.config.yaxis[0].crosshairs,Kr=Gr.globals.barPadForNumericAxis;if(Gr.config.yaxis[0].crosshairs.show){var Qr=Yr.drawLine(-Kr,0,Gr.globals.gridWidth+Kr,0,Zr.stroke.color,Zr.stroke.dashArray,Zr.stroke.width);Qr.attr({class:"apexcharts-ycrosshairs"}),Gr.globals.dom.elGraphical.add(Qr)}var Jr=Yr.drawLine(-Kr,0,Gr.globals.gridWidth+Kr,0,Zr.stroke.color,0,0);Jr.attr({class:"apexcharts-ycrosshairs-hidden"}),Gr.globals.dom.elGraphical.add(Jr)}}]),Wr}(),oa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"checkResponsiveConfig",value:function(Gr){var Yr=this,Zr=this.w,Kr=Zr.config;if(Kr.responsive.length!==0){var Qr=Kr.responsive.slice();Qr.sort(function(rn,an){return rn.breakpoint>an.breakpoint?1:an.breakpoint>rn.breakpoint?-1:0}).reverse();var Jr=new Wi({}),en=function(){var rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},an=Qr[0].breakpoint,nn=window.innerWidth>0?window.innerWidth:screen.width;if(nn>an){var sn=v.clone(Zr.globals.initialConfig);sn.series=v.clone(Zr.config.series);var ln=Pi.extendArrayProps(Jr,sn,Zr);rn=v.extend(ln,rn),rn=v.extend(Zr.config,rn),Yr.overrideResponsiveOptions(rn)}else for(var un=0;un<Qr.length;un++)nn<Qr[un].breakpoint&&(rn=Pi.extendArrayProps(Jr,Qr[un].options,Zr),rn=v.extend(Zr.config,rn),Yr.overrideResponsiveOptions(rn))};if(Gr){var tn=Pi.extendArrayProps(Jr,Gr,Zr);tn=v.extend(Zr.config,tn),en(tn=v.extend(tn,Gr))}else en({})}}},{key:"overrideResponsiveOptions",value:function(Gr){var Yr=new Wi(Gr).init({responsiveOverride:!0});this.w.config=Yr}}]),Wr}(),la=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return s(Wr,[{key:"checkHeatmapDistributed",value:function(){var Gr=this.w.config,Yr=Gr.chart,Zr=Gr.plotOptions;return Yr.type==="treemap"&&Zr.treemap&&Zr.treemap.distributed||Yr.type==="heatmap"&&Zr.heatmap&&Zr.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var Gr=this.w.config,Yr=Gr.chart,Zr=Gr.plotOptions;return Zr.bar&&Zr.bar.distributed&&(Yr.type==="bar"||Yr.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var Gr=this.w,Yr=new v;Gr.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(Gr.config.theme.mode));var Zr=f(Gr.config.colors||Gr.config.fill.colors||[]);Gr.globals.colors=this.getColors(Zr),this.applySeriesColors(Gr.globals.seriesColors,Gr.globals.colors),Gr.config.theme.monochrome.enabled&&(Gr.globals.colors=this.getMonochromeColors(Gr.config.theme.monochrome,Gr.globals.series,Yr));var Kr=Gr.globals.colors.slice();this.pushExtraColors(Gr.globals.colors),this.applyColorTypes(["fill","stroke"],Kr),this.applyDataLabelsColors(Kr),this.applyRadarPolygonsColors(),this.applyMarkersColors(Kr)}},{key:"getColors",value:function(Gr){var Yr=this,Zr=this.w;return Gr&&Gr.length!==0?Array.isArray(Gr)&&Gr.length>0&&typeof Gr[0]=="function"?(this.isColorFn=!0,Zr.config.series.map(function(Kr,Qr){var Jr=Gr[Qr]||Gr[0];return typeof Jr=="function"?Jr({value:Zr.globals.axisCharts?Zr.globals.series[Qr][0]||0:Zr.globals.series[Qr],seriesIndex:Qr,dataPointIndex:Qr,w:Yr.w}):Jr})):Gr:this.predefined()}},{key:"applySeriesColors",value:function(Gr,Yr){Gr.forEach(function(Zr,Kr){Zr&&(Yr[Kr]=Zr)})}},{key:"getMonochromeColors",value:function(Gr,Yr,Zr){var Kr=Gr.color,Qr=Gr.shadeIntensity,Jr=Gr.shadeTo,en=this.isBarDistributed||this.isHeatmapDistributed?Yr[0].length*Yr.length:Yr.length,tn=1/(en/Qr),rn=0;return Array.from({length:en},function(){var an=Jr==="dark"?Zr.shadeColor(-1*rn,Kr):Zr.shadeColor(rn,Kr);return rn+=tn,an})}},{key:"applyColorTypes",value:function(Gr,Yr){var Zr=this,Kr=this.w;Gr.forEach(function(Qr){Kr.globals[Qr].colors=Kr.config[Qr].colors===void 0?Zr.isColorFn?Kr.config.colors:Yr:Kr.config[Qr].colors.slice(),Zr.pushExtraColors(Kr.globals[Qr].colors)})}},{key:"applyDataLabelsColors",value:function(Gr){var Yr=this.w;Yr.globals.dataLabels.style.colors=Yr.config.dataLabels.style.colors===void 0?Gr:Yr.config.dataLabels.style.colors.slice(),this.pushExtraColors(Yr.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var Gr=this.w;Gr.globals.radarPolygons.fill.colors=Gr.config.plotOptions.radar.polygons.fill.colors===void 0?[Gr.config.theme.mode==="dark"?"#424242":"none"]:Gr.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(Gr.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(Gr){var Yr=this.w;Yr.globals.markers.colors=Yr.config.markers.colors===void 0?Gr:Yr.config.markers.colors.slice(),this.pushExtraColors(Yr.globals.markers.colors)}},{key:"pushExtraColors",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Kr=this.w,Qr=Yr||Kr.globals.series.length;if(Zr===null&&(Zr=this.isBarDistributed||this.isHeatmapDistributed||Kr.config.chart.type==="heatmap"&&Kr.config.plotOptions.heatmap&&Kr.config.plotOptions.heatmap.colorScale.inverse),Zr&&Kr.globals.series.length&&(Qr=Kr.globals.series[Kr.globals.maxValsInArrayIndex].length*Kr.globals.series.length),Gr.length<Qr)for(var Jr=Qr-Gr.length,en=0;en<Jr;en++)Gr.push(Gr[en])}},{key:"updateThemeOptions",value:function(Gr){Gr.chart=Gr.chart||{},Gr.tooltip=Gr.tooltip||{};var Yr=Gr.theme.mode,Zr=Yr==="dark"?"palette4":Yr==="light"?"palette1":Gr.theme.palette||"palette1",Kr=Yr==="dark"?"#f6f7f8":Yr==="light"?"#373d3f":Gr.chart.foreColor||"#373d3f";return Gr.tooltip.theme=Yr||"light",Gr.chart.foreColor=Kr,Gr.theme.palette=Zr,Gr}},{key:"predefined",value:function(){var Gr={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return Gr[this.w.config.theme.palette]||Gr.default}}]),Wr}(),ha=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(Gr){var Yr=this.w,Zr=Gr==="title"?Yr.config.title:Yr.config.subtitle,Kr=Yr.globals.svgWidth/2,Qr=Zr.offsetY,Jr="middle";if(Zr.align==="left"?(Kr=10,Jr="start"):Zr.align==="right"&&(Kr=Yr.globals.svgWidth-10,Jr="end"),Kr+=Zr.offsetX,Qr=Qr+parseInt(Zr.style.fontSize,10)+Zr.margin/2,Zr.text!==void 0){var en=new Mi(this.ctx).drawText({x:Kr,y:Qr,text:Zr.text,textAnchor:Jr,fontSize:Zr.style.fontSize,fontFamily:Zr.style.fontFamily,fontWeight:Zr.style.fontWeight,foreColor:Zr.style.color,opacity:1});en.node.setAttribute("class","apexcharts-".concat(Gr,"-text")),Yr.globals.dom.Paper.add(en)}}}]),Wr}(),ca=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.dCtx=Gr}return s(Wr,[{key:"getTitleSubtitleCoords",value:function(Gr){var Yr=this.w,Zr=0,Kr=0,Qr=Gr==="title"?Yr.config.title.floating:Yr.config.subtitle.floating,Jr=Yr.globals.dom.baseEl.querySelector(".apexcharts-".concat(Gr,"-text"));if(Jr!==null&&!Qr){var en=Jr.getBoundingClientRect();Zr=en.width,Kr=Yr.globals.axisCharts?en.height+5:en.height}return{width:Zr,height:Kr}}},{key:"getLegendsRect",value:function(){var Gr=this.w,Yr=Gr.globals.dom.elLegendWrap;Gr.config.legend.height||Gr.config.legend.position!=="top"&&Gr.config.legend.position!=="bottom"||(Yr.style.maxHeight=Gr.globals.svgHeight/2+"px");var Zr=Object.assign({},v.getBoundingClientRect(Yr));return Yr!==null&&!Gr.config.legend.floating&&Gr.config.legend.show?this.dCtx.lgRect={x:Zr.x,y:Zr.y,height:Zr.height,width:Zr.height===0?0:Zr.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},Gr.config.legend.position!=="left"&&Gr.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>Gr.globals.svgWidth&&(this.dCtx.lgRect.width=Gr.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var Gr=this,Yr=this.w,Zr=[];Yr.config.series.forEach(function(tn,rn){tn.data.forEach(function(an,nn){var sn;sn=Yr.globals.series[rn][nn],Kr=Yr.config.dataLabels.formatter(sn,{ctx:Gr.dCtx.ctx,seriesIndex:rn,dataPointIndex:nn,w:Yr}),Zr.push(Kr)})});var Kr=v.getLargestStringFromArr(Zr),Qr=new Mi(this.dCtx.ctx),Jr=Yr.config.dataLabels.style,en=Qr.getTextRects(Kr,parseInt(Jr.fontSize),Jr.fontFamily);return{width:1.05*en.width,height:en.height}}},{key:"getLargestStringFromMultiArr",value:function(Gr,Yr){var Zr=Gr;if(this.w.globals.isMultiLineX){var Kr=Yr.map(function(Jr,en){return Array.isArray(Jr)?Jr.length:1}),Qr=Math.max.apply(Math,f(Kr));Zr=Yr[Kr.indexOf(Qr)]}return Zr}}]),Wr}(),da=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.dCtx=Gr}return s(Wr,[{key:"getxAxisLabelsCoords",value:function(){var Gr,Yr=this.w,Zr=Yr.globals.labels.slice();if(Yr.config.xaxis.convertedCatToNumeric&&Zr.length===0&&(Zr=Yr.globals.categoryLabels),Yr.globals.timescaleLabels.length>0){var Kr=this.getxAxisTimeScaleLabelsCoords();Gr={width:Kr.width,height:Kr.height},Yr.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=Yr.config.legend.position!=="left"&&Yr.config.legend.position!=="right"||Yr.config.legend.floating?0:this.dCtx.lgRect.width;var Qr=Yr.globals.xLabelFormatter,Jr=v.getLargestStringFromArr(Zr),en=this.dCtx.dimHelpers.getLargestStringFromMultiArr(Jr,Zr);Yr.globals.isBarHorizontal&&(en=Jr=Yr.globals.yAxisScale[0].result.reduce(function(un,cn){return un.length>cn.length?un:cn},0));var tn=new Xi(this.dCtx.ctx),rn=Jr;Jr=tn.xLabelFormat(Qr,Jr,rn,{i:void 0,dateFormatter:new zi(this.dCtx.ctx).formatDate,w:Yr}),en=tn.xLabelFormat(Qr,en,rn,{i:void 0,dateFormatter:new zi(this.dCtx.ctx).formatDate,w:Yr}),(Yr.config.xaxis.convertedCatToNumeric&&Jr===void 0||String(Jr).trim()==="")&&(en=Jr="1");var an=new Mi(this.dCtx.ctx),nn=an.getTextRects(Jr,Yr.config.xaxis.labels.style.fontSize),sn=nn;if(Jr!==en&&(sn=an.getTextRects(en,Yr.config.xaxis.labels.style.fontSize)),(Gr={width:nn.width>=sn.width?nn.width:sn.width,height:nn.height>=sn.height?nn.height:sn.height}).width*Zr.length>Yr.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&Yr.config.xaxis.labels.rotate!==0||Yr.config.xaxis.labels.rotateAlways){if(!Yr.globals.isBarHorizontal){Yr.globals.rotateXLabels=!0;var ln=function(un){return an.getTextRects(un,Yr.config.xaxis.labels.style.fontSize,Yr.config.xaxis.labels.style.fontFamily,"rotate(".concat(Yr.config.xaxis.labels.rotate," 0 0)"),!1)};nn=ln(Jr),Jr!==en&&(sn=ln(en)),Gr.height=(nn.height>sn.height?nn.height:sn.height)/1.5,Gr.width=nn.width>sn.width?nn.width:sn.width}}else Yr.globals.rotateXLabels=!1}return Yr.config.xaxis.labels.show||(Gr={width:0,height:0}),{width:Gr.width,height:Gr.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var Gr,Yr=this.w;if(!Yr.globals.hasXaxisGroups)return{width:0,height:0};var Zr,Kr=((Gr=Yr.config.xaxis.group.style)===null||Gr===void 0?void 0:Gr.fontSize)||Yr.config.xaxis.labels.style.fontSize,Qr=Yr.globals.groups.map(function(nn){return nn.title}),Jr=v.getLargestStringFromArr(Qr),en=this.dCtx.dimHelpers.getLargestStringFromMultiArr(Jr,Qr),tn=new Mi(this.dCtx.ctx),rn=tn.getTextRects(Jr,Kr),an=rn;return Jr!==en&&(an=tn.getTextRects(en,Kr)),Zr={width:rn.width>=an.width?rn.width:an.width,height:rn.height>=an.height?rn.height:an.height},Yr.config.xaxis.labels.show||(Zr={width:0,height:0}),{width:Zr.width,height:Zr.height}}},{key:"getxAxisTitleCoords",value:function(){var Gr=this.w,Yr=0,Zr=0;if(Gr.config.xaxis.title.text!==void 0){var Kr=new Mi(this.dCtx.ctx).getTextRects(Gr.config.xaxis.title.text,Gr.config.xaxis.title.style.fontSize);Yr=Kr.width,Zr=Kr.height}return{width:Yr,height:Zr}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var Gr,Yr=this.w;this.dCtx.timescaleLabels=Yr.globals.timescaleLabels.slice();var Zr=this.dCtx.timescaleLabels.map(function(Qr){return Qr.value}),Kr=Zr.reduce(function(Qr,Jr){return Qr===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):Qr.length>Jr.length?Qr:Jr},0);return 1.05*(Gr=new Mi(this.dCtx.ctx).getTextRects(Kr,Yr.config.xaxis.labels.style.fontSize)).width*Zr.length>Yr.globals.gridWidth&&Yr.config.xaxis.labels.rotate!==0&&(Yr.globals.overlappingXLabels=!0),Gr}},{key:"additionalPaddingXLabels",value:function(Gr){var Yr=this,Zr=this.w,Kr=Zr.globals,Qr=Zr.config,Jr=Qr.xaxis.type,en=Gr.width;Kr.skipLastTimelinelabel=!1,Kr.skipFirstTimelinelabel=!1;var tn=Zr.config.yaxis[0].opposite&&Zr.globals.isBarHorizontal,rn=function(an,nn){Qr.yaxis.length>1&&function(sn){return Kr.collapsedSeriesIndices.indexOf(sn)!==-1}(nn)||function(sn){if(Yr.dCtx.timescaleLabels&&Yr.dCtx.timescaleLabels.length){var ln=Yr.dCtx.timescaleLabels[0],un=Yr.dCtx.timescaleLabels[Yr.dCtx.timescaleLabels.length-1].position+en/1.75-Yr.dCtx.yAxisWidthRight,cn=ln.position-en/1.75+Yr.dCtx.yAxisWidthLeft,hn=Zr.config.legend.position==="right"&&Yr.dCtx.lgRect.width>0?Yr.dCtx.lgRect.width:0;un>Kr.svgWidth-Kr.translateX-hn&&(Kr.skipLastTimelinelabel=!0),cn<-(sn.show&&!sn.floating||Qr.chart.type!=="bar"&&Qr.chart.type!=="candlestick"&&Qr.chart.type!=="rangeBar"&&Qr.chart.type!=="boxPlot"?10:en/1.75)&&(Kr.skipFirstTimelinelabel=!0)}else Jr==="datetime"?Yr.dCtx.gridPad.right<en&&!Kr.rotateXLabels&&(Kr.skipLastTimelinelabel=!0):Jr!=="datetime"&&Yr.dCtx.gridPad.right<en/2-Yr.dCtx.yAxisWidthRight&&!Kr.rotateXLabels&&!Zr.config.xaxis.labels.trim&&(Yr.dCtx.xPadRight=en/2+1)}(an)};Qr.yaxis.forEach(function(an,nn){tn?(Yr.dCtx.gridPad.left<en&&(Yr.dCtx.xPadLeft=en/2+1),Yr.dCtx.xPadRight=en/2+1):rn(an,nn)})}}]),Wr}(),ua=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.dCtx=Gr}return s(Wr,[{key:"getyAxisLabelsCoords",value:function(){var Gr=this,Yr=this.w,Zr=[],Kr=10,Qr=new Ri(this.dCtx.ctx);return Yr.config.yaxis.map(function(Jr,en){var tn={seriesIndex:en,dataPointIndex:-1,w:Yr},rn=Yr.globals.yAxisScale[en],an=0;if(!Qr.isYAxisHidden(en)&&Jr.labels.show&&Jr.labels.minWidth!==void 0&&(an=Jr.labels.minWidth),!Qr.isYAxisHidden(en)&&Jr.labels.show&&rn.result.length){var nn=Yr.globals.yLabelFormatters[en],sn=rn.niceMin===Number.MIN_VALUE?0:rn.niceMin,ln=rn.result.reduce(function(gn,vn){var mn,yn;return((mn=String(nn(gn,tn)))===null||mn===void 0?void 0:mn.length)>((yn=String(nn(vn,tn)))===null||yn===void 0?void 0:yn.length)?gn:vn},sn),un=ln=nn(ln,tn);if(ln!==void 0&&ln.length!==0||(ln=rn.niceMax),Yr.globals.isBarHorizontal){Kr=0;var cn=Yr.globals.labels.slice();ln=v.getLargestStringFromArr(cn),ln=nn(ln,{seriesIndex:en,dataPointIndex:-1,w:Yr}),un=Gr.dCtx.dimHelpers.getLargestStringFromMultiArr(ln,cn)}var hn=new Mi(Gr.dCtx.ctx),dn="rotate(".concat(Jr.labels.rotate," 0 0)"),fn=hn.getTextRects(ln,Jr.labels.style.fontSize,Jr.labels.style.fontFamily,dn,!1),pn=fn;ln!==un&&(pn=hn.getTextRects(un,Jr.labels.style.fontSize,Jr.labels.style.fontFamily,dn,!1)),Zr.push({width:(an>pn.width||an>fn.width?an:pn.width>fn.width?pn.width:fn.width)+Kr,height:pn.height>fn.height?pn.height:fn.height})}else Zr.push({width:0,height:0})}),Zr}},{key:"getyAxisTitleCoords",value:function(){var Gr=this,Yr=this.w,Zr=[];return Yr.config.yaxis.map(function(Kr,Qr){if(Kr.show&&Kr.title.text!==void 0){var Jr=new Mi(Gr.dCtx.ctx),en="rotate(".concat(Kr.title.rotate," 0 0)"),tn=Jr.getTextRects(Kr.title.text,Kr.title.style.fontSize,Kr.title.style.fontFamily,en,!1);Zr.push({width:tn.width,height:tn.height})}else Zr.push({width:0,height:0})}),Zr}},{key:"getTotalYAxisWidth",value:function(){var Gr=this.w,Yr=0,Zr=0,Kr=0,Qr=Gr.globals.yAxisScale.length>1?10:0,Jr=new Ri(this.dCtx.ctx),en=function(tn,rn){var an=Gr.config.yaxis[rn].floating,nn=0;tn.width>0&&!an?(nn=tn.width+Qr,function(sn){return Gr.globals.ignoreYAxisIndexes.indexOf(sn)>-1}(rn)&&(nn=nn-tn.width-Qr)):nn=an||Jr.isYAxisHidden(rn)?0:5,Gr.config.yaxis[rn].opposite?Kr+=nn:Zr+=nn,Yr+=nn};return Gr.globals.yLabelsCoords.map(function(tn,rn){en(tn,rn)}),Gr.globals.yTitleCoords.map(function(tn,rn){en(tn,rn)}),Gr.globals.isBarHorizontal&&!Gr.config.yaxis[0].floating&&(Yr=Gr.globals.yLabelsCoords[0].width+Gr.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=Zr,this.dCtx.yAxisWidthRight=Kr,Yr}}]),Wr}(),ga=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.dCtx=Gr}return s(Wr,[{key:"gridPadForColumnsInNumericAxis",value:function(Gr){var Yr=this.w,Zr=Yr.config,Kr=Yr.globals;if(Kr.noData||Kr.collapsedSeries.length+Kr.ancillaryCollapsedSeries.length===Zr.series.length)return 0;var Qr=function(ln){return["bar","rangeBar","candlestick","boxPlot"].includes(ln)},Jr=Zr.chart.type,en=0,tn=Qr(Jr)?Zr.series.length:1;Kr.comboBarCount>0&&(tn=Kr.comboBarCount),Kr.collapsedSeries.forEach(function(ln){Qr(ln.type)&&(tn-=1)}),Zr.chart.stacked&&(tn=1);var rn=Qr(Jr)||Kr.comboBarCount>0,an=Math.abs(Kr.initialMaxX-Kr.initialMinX);if(rn&&Kr.isXNumeric&&!Kr.isBarHorizontal&&tn>0&&an!==0){an<=3&&(an=Kr.dataPoints);var nn=an/Gr,sn=Kr.minXDiff&&Kr.minXDiff/nn>0?Kr.minXDiff/nn:0;sn>Gr/2&&(sn/=2),(en=sn*parseInt(Zr.plotOptions.bar.columnWidth,10)/100)<1&&(en=1),Kr.barPadForNumericAxis=en}return en}},{key:"gridPadFortitleSubtitle",value:function(){var Gr=this,Yr=this.w,Zr=Yr.globals,Kr=this.dCtx.isSparkline||!Zr.axisCharts?0:10;["title","subtitle"].forEach(function(en){Yr.config[en].text!==void 0?Kr+=Yr.config[en].margin:Kr+=Gr.dCtx.isSparkline||!Zr.axisCharts?0:5}),!Yr.config.legend.show||Yr.config.legend.position!=="bottom"||Yr.config.legend.floating||Zr.axisCharts||(Kr+=10);var Qr=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),Jr=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");Zr.gridHeight-=Qr.height+Jr.height+Kr,Zr.translateY+=Qr.height+Jr.height+Kr}},{key:"setGridXPosForDualYAxis",value:function(Gr,Yr){var Zr=this.w,Kr=new Ri(this.dCtx.ctx);Zr.config.yaxis.forEach(function(Qr,Jr){Zr.globals.ignoreYAxisIndexes.indexOf(Jr)!==-1||Qr.floating||Kr.isYAxisHidden(Jr)||(Qr.opposite&&(Zr.globals.translateX-=Yr[Jr].width+Gr[Jr].width+parseInt(Qr.labels.style.fontSize,10)/1.2+12),Zr.globals.translateX<2&&(Zr.globals.translateX=2))})}}]),Wr}(),pa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ca(this),this.dimYAxis=new ua(this),this.dimXAxis=new da(this),this.dimGrid=new ga(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s(Wr,[{key:"plotCoords",value:function(){var Gr=this,Yr=this.w,Zr=Yr.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var Kr=Array.isArray(Yr.config.stroke.width)?Math.max.apply(Math,f(Yr.config.stroke.width)):Yr.config.stroke.width;this.isSparkline&&((Yr.config.markers.discrete.length>0||Yr.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(Jr){var en=p(Jr,2),tn=en[0],rn=en[1];Gr.gridPad[tn]=Math.max(rn,Gr.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(Kr/2,this.gridPad.top),this.gridPad.bottom=Math.max(Kr/2,this.gridPad.bottom)),Zr.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),Zr.gridHeight=Zr.gridHeight-this.gridPad.top-this.gridPad.bottom,Zr.gridWidth=Zr.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var Qr=this.dimGrid.gridPadForColumnsInNumericAxis(Zr.gridWidth);Zr.gridWidth=Zr.gridWidth-2*Qr,Zr.translateX=Zr.translateX+this.gridPad.left+this.xPadLeft+(Qr>0?Qr:0),Zr.translateY=Zr.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var Gr=this,Yr=this.w,Zr=Yr.globals,Kr=this.dimYAxis.getyAxisLabelsCoords(),Qr=this.dimYAxis.getyAxisTitleCoords();Zr.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),Yr.globals.yLabelsCoords=[],Yr.globals.yTitleCoords=[],Yr.config.yaxis.map(function(ln,un){Yr.globals.yLabelsCoords.push({width:Kr[un].width,index:un}),Yr.globals.yTitleCoords.push({width:Qr[un].width,index:un})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var Jr=this.dimXAxis.getxAxisLabelsCoords(),en=this.dimXAxis.getxAxisGroupLabelsCoords(),tn=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(Jr,tn,en),Zr.translateXAxisY=Yr.globals.rotateXLabels?this.xAxisHeight/8:-4,Zr.translateXAxisX=Yr.globals.rotateXLabels&&Yr.globals.isXNumeric&&Yr.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,Yr.globals.isBarHorizontal&&(Zr.rotateXLabels=!1,Zr.translateXAxisY=parseInt(Yr.config.xaxis.labels.style.fontSize,10)/1.5*-1),Zr.translateXAxisY=Zr.translateXAxisY+Yr.config.xaxis.labels.offsetY,Zr.translateXAxisX=Zr.translateXAxisX+Yr.config.xaxis.labels.offsetX;var rn=this.yAxisWidth,an=this.xAxisHeight;Zr.xAxisLabelsHeight=this.xAxisHeight-tn.height,Zr.xAxisGroupLabelsHeight=Zr.xAxisLabelsHeight-Jr.height,Zr.xAxisLabelsWidth=this.xAxisWidth,Zr.xAxisHeight=this.xAxisHeight;var nn=10;(Yr.config.chart.type==="radar"||this.isSparkline)&&(rn=0,an=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||Yr.config.chart.type==="treemap")&&(rn=0,an=0,nn=0),this.isSparkline||Yr.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(Jr);var sn=function(){Zr.translateX=rn+Gr.datalabelsCoords.width,Zr.gridHeight=Zr.svgHeight-Gr.lgRect.height-an-(Gr.isSparkline||Yr.config.chart.type==="treemap"?0:Yr.globals.rotateXLabels?10:15),Zr.gridWidth=Zr.svgWidth-rn-2*Gr.datalabelsCoords.width};switch(Yr.config.xaxis.position==="top"&&(nn=Zr.xAxisHeight-Yr.config.xaxis.axisTicks.height-5),Yr.config.legend.position){case"bottom":Zr.translateY=nn,sn();break;case"top":Zr.translateY=this.lgRect.height+nn,sn();break;case"left":Zr.translateY=nn,Zr.translateX=this.lgRect.width+rn+this.datalabelsCoords.width,Zr.gridHeight=Zr.svgHeight-an-12,Zr.gridWidth=Zr.svgWidth-this.lgRect.width-rn-2*this.datalabelsCoords.width;break;case"right":Zr.translateY=nn,Zr.translateX=rn+this.datalabelsCoords.width,Zr.gridHeight=Zr.svgHeight-an-12,Zr.gridWidth=Zr.svgWidth-this.lgRect.width-rn-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(Qr,Kr),new ia(this.ctx).setYAxisXPosition(Kr,Qr)}},{key:"setDimensionsForNonAxisCharts",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=Gr.config,Kr=0;Gr.config.legend.show&&!Gr.config.legend.floating&&(Kr=20);var Qr=Zr.chart.type==="pie"||Zr.chart.type==="polarArea"||Zr.chart.type==="donut"?"pie":"radialBar",Jr=Zr.plotOptions[Qr].offsetY,en=Zr.plotOptions[Qr].offsetX;if(!Zr.legend.show||Zr.legend.floating){Yr.gridHeight=Yr.svgHeight;var tn=Yr.dom.elWrap.getBoundingClientRect().width;return Yr.gridWidth=Math.min(tn,Yr.gridHeight),Yr.translateY=Jr,void(Yr.translateX=en+(Yr.svgWidth-Yr.gridWidth)/2)}switch(Zr.legend.position){case"bottom":Yr.gridHeight=Yr.svgHeight-this.lgRect.height,Yr.gridWidth=Yr.svgWidth,Yr.translateY=Jr-10,Yr.translateX=en+(Yr.svgWidth-Yr.gridWidth)/2;break;case"top":Yr.gridHeight=Yr.svgHeight-this.lgRect.height,Yr.gridWidth=Yr.svgWidth,Yr.translateY=this.lgRect.height+Jr+10,Yr.translateX=en+(Yr.svgWidth-Yr.gridWidth)/2;break;case"left":Yr.gridWidth=Yr.svgWidth-this.lgRect.width-Kr,Yr.gridHeight=Zr.chart.height!=="auto"?Yr.svgHeight:Yr.gridWidth,Yr.translateY=Jr,Yr.translateX=en+this.lgRect.width+Kr;break;case"right":Yr.gridWidth=Yr.svgWidth-this.lgRect.width-Kr-5,Yr.gridHeight=Zr.chart.height!=="auto"?Yr.svgHeight:Yr.gridWidth,Yr.translateY=Jr,Yr.translateX=en+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=Kr.globals.hasXaxisGroups?2:1,Jr=Zr.height+Gr.height+Yr.height,en=Kr.globals.isMultiLineX?1.2:Kr.globals.LINE_HEIGHT_RATIO,tn=Kr.globals.rotateXLabels?22:10,rn=Kr.globals.rotateXLabels&&Kr.config.legend.position==="bottom"?10:0;this.xAxisHeight=Jr*en+Qr*tn+rn,this.xAxisWidth=Gr.width,this.xAxisHeight-Yr.height>Kr.config.xaxis.labels.maxHeight&&(this.xAxisHeight=Kr.config.xaxis.labels.maxHeight),Kr.config.xaxis.labels.minHeight&&this.xAxisHeight<Kr.config.xaxis.labels.minHeight&&(this.xAxisHeight=Kr.config.xaxis.labels.minHeight),Kr.config.xaxis.floating&&(this.xAxisHeight=0);var an=0,nn=0;Kr.config.yaxis.forEach(function(sn){an+=sn.labels.minWidth,nn+=sn.labels.maxWidth}),this.yAxisWidth<an&&(this.yAxisWidth=an),this.yAxisWidth>nn&&(this.yAxisWidth=nn)}}]),Wr}(),fa=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.lgCtx=Gr}return s(Wr,[{key:"getLegendStyles",value:function(){var Gr,Yr,Zr,Kr=document.createElement("style");Kr.setAttribute("type","text/css");var Qr=((Gr=this.lgCtx.ctx)===null||Gr===void 0||(Yr=Gr.opts)===null||Yr===void 0||(Zr=Yr.chart)===null||Zr===void 0?void 0:Zr.nonce)||this.w.config.chart.nonce;Qr&&Kr.setAttribute("nonce",Qr);var Jr=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return Kr.appendChild(Jr),Kr}},{key:"getLegendDimensions",value:function(){var Gr=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),Yr=Gr.width;return{clwh:Gr.height,clww:Yr}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(Gr,Yr){var Zr=this,Kr=this.w;if(Kr.globals.axisCharts||Kr.config.chart.type==="radialBar"){Kr.globals.resized=!0;var Qr=null,Jr=null;Kr.globals.risingSeries=[],Kr.globals.axisCharts?(Qr=Kr.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(Gr,"']")),Jr=parseInt(Qr.getAttribute("data:realIndex"),10)):(Qr=Kr.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(Gr+1,"']")),Jr=parseInt(Qr.getAttribute("rel"),10)-1),Yr?[{cs:Kr.globals.collapsedSeries,csi:Kr.globals.collapsedSeriesIndices},{cs:Kr.globals.ancillaryCollapsedSeries,csi:Kr.globals.ancillaryCollapsedSeriesIndices}].forEach(function(an){Zr.riseCollapsedSeries(an.cs,an.csi,Jr)}):this.hideSeries({seriesEl:Qr,realIndex:Jr})}else{var en=Kr.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(Gr+1,"'] path")),tn=Kr.config.chart.type;if(tn==="pie"||tn==="polarArea"||tn==="donut"){var rn=Kr.config.plotOptions.pie.donut.labels;new Mi(this.lgCtx.ctx).pathMouseDown(en,null),this.lgCtx.ctx.pie.printDataLabelsInner(en.node,rn)}en.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(Gr){var Yr=Gr.realIndex,Zr=this.w,Kr=Zr.globals,Qr=v.clone(Zr.config.series);if(Kr.axisCharts){var Jr=Zr.config.yaxis[Kr.seriesYAxisReverseMap[Yr]],en={index:Yr,data:Qr[Yr].data.slice(),type:Qr[Yr].type||Zr.config.chart.type};if(Jr&&Jr.show&&Jr.showAlways)Kr.ancillaryCollapsedSeriesIndices.indexOf(Yr)<0&&(Kr.ancillaryCollapsedSeries.push(en),Kr.ancillaryCollapsedSeriesIndices.push(Yr));else if(Kr.collapsedSeriesIndices.indexOf(Yr)<0){Kr.collapsedSeries.push(en),Kr.collapsedSeriesIndices.push(Yr);var tn=Kr.risingSeries.indexOf(Yr);Kr.risingSeries.splice(tn,1)}}else Kr.collapsedSeries.push({index:Yr,data:Qr[Yr]}),Kr.collapsedSeriesIndices.push(Yr);return Kr.allSeriesCollapsed=Kr.collapsedSeries.length+Kr.ancillaryCollapsedSeries.length===Zr.config.series.length,this._getSeriesBasedOnCollapsedState(Qr)}},{key:"hideSeries",value:function(Gr){for(var Yr=Gr.seriesEl,Zr=Gr.realIndex,Kr=this.w,Qr=this.getSeriesAfterCollapsing({realIndex:Zr}),Jr=Yr.childNodes,en=0;en<Jr.length;en++)Jr[en].classList.contains("apexcharts-series-markers-wrap")&&(Jr[en].classList.contains("apexcharts-hide")?Jr[en].classList.remove("apexcharts-hide"):Jr[en].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(Qr,Kr.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=v.clone(Kr.config.series);if(Gr.length>0){for(var Jr=0;Jr<Gr.length;Jr++)Gr[Jr].index===Zr&&(Kr.globals.axisCharts?Qr[Zr].data=Gr[Jr].data.slice():Qr[Zr]=Gr[Jr].data,typeof Qr[Zr]!="number"&&(Qr[Zr].hidden=!1),Gr.splice(Jr,1),Yr.splice(Jr,1),Kr.globals.risingSeries.push(Zr));Qr=this._getSeriesBasedOnCollapsedState(Qr),this.lgCtx.ctx.updateHelpers._updateSeries(Qr,Kr.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(Gr){var Yr=this.w,Zr=0;return Yr.globals.axisCharts?Gr.forEach(function(Kr,Qr){Yr.globals.collapsedSeriesIndices.indexOf(Qr)<0&&Yr.globals.ancillaryCollapsedSeriesIndices.indexOf(Qr)<0||(Gr[Qr].data=[],Zr++)}):Gr.forEach(function(Kr,Qr){!Yr.globals.collapsedSeriesIndices.indexOf(Qr)<0&&(Gr[Qr]=0,Zr++)}),Yr.globals.allSeriesCollapsed=Zr===Gr.length,Gr}}]),Wr}(),xa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new fa(this)}return s(Wr,[{key:"init",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=Gr.config,Kr=Zr.legend.showForSingleSeries&&Yr.series.length===1||this.isBarsDistributed||Yr.series.length>1;if(this.legendHelpers.appendToForeignObject(),(Kr||!Yr.axisCharts)&&Zr.legend.show){for(;Yr.dom.elLegendWrap.firstChild;)Yr.dom.elLegendWrap.removeChild(Yr.dom.elLegendWrap.firstChild);this.drawLegends(),Zr.legend.position==="bottom"||Zr.legend.position==="top"?this.legendAlignHorizontal():Zr.legend.position!=="right"&&Zr.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(Gr){var Yr=Gr.i,Zr=Gr.fillcolor,Kr=this.w,Qr=document.createElement("span");Qr.classList.add("apexcharts-legend-marker");var Jr=Kr.config.legend.markers.shape||Kr.config.markers.shape,en=Jr;Array.isArray(Jr)&&(en=Jr[Yr]);var tn=Array.isArray(Kr.config.legend.markers.size)?parseFloat(Kr.config.legend.markers.size[Yr]):parseFloat(Kr.config.legend.markers.size),rn=Array.isArray(Kr.config.legend.markers.offsetX)?parseFloat(Kr.config.legend.markers.offsetX[Yr]):parseFloat(Kr.config.legend.markers.offsetX),an=Array.isArray(Kr.config.legend.markers.offsetY)?parseFloat(Kr.config.legend.markers.offsetY[Yr]):parseFloat(Kr.config.legend.markers.offsetY),nn=Array.isArray(Kr.config.legend.markers.strokeWidth)?parseFloat(Kr.config.legend.markers.strokeWidth[Yr]):parseFloat(Kr.config.legend.markers.strokeWidth),sn=Qr.style;if(sn.height=2*(tn+nn)+"px",sn.width=2*(tn+nn)+"px",sn.left=rn+"px",sn.top=an+"px",Kr.config.legend.markers.customHTML)sn.background="transparent",sn.color=Zr[Yr],Array.isArray(Kr.config.legend.markers.customHTML)?Kr.config.legend.markers.customHTML[Yr]&&(Qr.innerHTML=Kr.config.legend.markers.customHTML[Yr]()):Qr.innerHTML=Kr.config.legend.markers.customHTML();else{var ln=new Vi(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(en),seriesIndex:Yr,strokeWidth:nn,size:tn}),un=window.SVG().addTo(Qr).size("100%","100%"),cn=new Mi(this.ctx).drawMarker(0,0,u(u({},ln),{},{pointFillColor:Array.isArray(Zr)?Zr[Yr]:ln.pointFillColor,shape:en}));Kr.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(hn){hn.node.classList.contains("apexcharts-marker-triangle")?hn.node.style.transform="translate(50%, 45%)":hn.node.style.transform="translate(50%, 50%)"}),un.add(cn)}return Qr}},{key:"drawLegends",value:function(){var Gr=this,Yr=this,Zr=this.w,Kr=Zr.config.legend.fontFamily,Qr=Zr.globals.seriesNames,Jr=Zr.config.legend.markers.fillColors?Zr.config.legend.markers.fillColors.slice():Zr.globals.colors.slice();if(Zr.config.chart.type==="heatmap"){var en=Zr.config.plotOptions.heatmap.colorScale.ranges;Qr=en.map(function(ln){return ln.name?ln.name:ln.from+" - "+ln.to}),Jr=en.map(function(ln){return ln.color})}else this.isBarsDistributed&&(Qr=Zr.globals.labels.slice());Zr.config.legend.customLegendItems.length&&(Qr=Zr.config.legend.customLegendItems);var tn=Zr.globals.legendFormatter,rn=Zr.config.legend.inverseOrder,an=[];Zr.globals.seriesGroups.length>1&&Zr.config.legend.clusterGroupedSeries&&Zr.globals.seriesGroups.forEach(function(ln,un){an[un]=document.createElement("div"),an[un].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(un)),Zr.config.legend.clusterGroupedSeriesOrientation==="horizontal"?Zr.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):an[un].classList.add("apexcharts-legend-group-vertical")});for(var nn=function(ln){var un,cn=tn(Qr[ln],{seriesIndex:ln,w:Zr}),hn=!1,dn=!1;if(Zr.globals.collapsedSeries.length>0)for(var fn=0;fn<Zr.globals.collapsedSeries.length;fn++)Zr.globals.collapsedSeries[fn].index===ln&&(hn=!0);if(Zr.globals.ancillaryCollapsedSeriesIndices.length>0)for(var pn=0;pn<Zr.globals.ancillaryCollapsedSeriesIndices.length;pn++)Zr.globals.ancillaryCollapsedSeriesIndices[pn]===ln&&(dn=!0);var gn=Gr.createLegendMarker({i:ln,fillcolor:Jr});Mi.setAttrs(gn,{rel:ln+1,"data:collapsed":hn||dn}),(hn||dn)&&gn.classList.add("apexcharts-inactive-legend");var vn=document.createElement("div"),mn=document.createElement("span");mn.classList.add("apexcharts-legend-text"),mn.innerHTML=Array.isArray(cn)?cn.join(" "):cn;var yn=Zr.config.legend.labels.useSeriesColors?Zr.globals.colors[ln]:Array.isArray(Zr.config.legend.labels.colors)?(un=Zr.config.legend.labels.colors)===null||un===void 0?void 0:un[ln]:Zr.config.legend.labels.colors;yn||(yn=Zr.config.chart.foreColor),mn.style.color=yn,mn.style.fontSize=parseFloat(Zr.config.legend.fontSize)+"px",mn.style.fontWeight=Zr.config.legend.fontWeight,mn.style.fontFamily=Kr||Zr.config.chart.fontFamily,Mi.setAttrs(mn,{rel:ln+1,i:ln,"data:default-text":encodeURIComponent(cn),"data:collapsed":hn||dn}),vn.appendChild(gn),vn.appendChild(mn);var xn=new Pi(Gr.ctx);Zr.config.legend.showForZeroSeries||xn.getSeriesTotalByIndex(ln)===0&&xn.seriesHaveSameValues(ln)&&!xn.isSeriesNull(ln)&&Zr.globals.collapsedSeriesIndices.indexOf(ln)===-1&&Zr.globals.ancillaryCollapsedSeriesIndices.indexOf(ln)===-1&&vn.classList.add("apexcharts-hidden-zero-series"),Zr.config.legend.showForNullSeries||xn.isSeriesNull(ln)&&Zr.globals.collapsedSeriesIndices.indexOf(ln)===-1&&Zr.globals.ancillaryCollapsedSeriesIndices.indexOf(ln)===-1&&vn.classList.add("apexcharts-hidden-null-series"),an.length?Zr.globals.seriesGroups.forEach(function(bn,Sn){var wn;bn.includes((wn=Zr.config.series[ln])===null||wn===void 0?void 0:wn.name)&&(Zr.globals.dom.elLegendWrap.appendChild(an[Sn]),an[Sn].appendChild(vn))}):Zr.globals.dom.elLegendWrap.appendChild(vn),Zr.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(Zr.config.legend.horizontalAlign)),Zr.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+Zr.config.legend.position),vn.classList.add("apexcharts-legend-series"),vn.style.margin="".concat(Zr.config.legend.itemMargin.vertical,"px ").concat(Zr.config.legend.itemMargin.horizontal,"px"),Zr.globals.dom.elLegendWrap.style.width=Zr.config.legend.width?Zr.config.legend.width+"px":"",Zr.globals.dom.elLegendWrap.style.height=Zr.config.legend.height?Zr.config.legend.height+"px":"",Mi.setAttrs(vn,{rel:ln+1,seriesName:v.escapeString(Qr[ln]),"data:collapsed":hn||dn}),(hn||dn)&&vn.classList.add("apexcharts-inactive-legend"),Zr.config.legend.onItemClick.toggleDataSeries||vn.classList.add("apexcharts-no-click")},sn=rn?Qr.length-1:0;rn?sn>=0:sn<=Qr.length-1;rn?sn--:sn++)nn(sn);Zr.globals.dom.elWrap.addEventListener("click",Yr.onLegendClick,!0),Zr.config.legend.onItemHover.highlightDataSeries&&Zr.config.legend.customLegendItems.length===0&&(Zr.globals.dom.elWrap.addEventListener("mousemove",Yr.onLegendHovered,!0),Zr.globals.dom.elWrap.addEventListener("mouseout",Yr.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(Gr,Yr){var Zr=this.w,Kr=Zr.globals.dom.elLegendWrap,Qr=Kr.clientHeight,Jr=0,en=0;if(Zr.config.legend.position==="bottom")en=Zr.globals.svgHeight-Math.min(Qr,Zr.globals.svgHeight/2)-5;else if(Zr.config.legend.position==="top"){var tn=new pa(this.ctx),rn=tn.dimHelpers.getTitleSubtitleCoords("title").height,an=tn.dimHelpers.getTitleSubtitleCoords("subtitle").height;en=(rn>0?rn-10:0)+(an>0?an-10:0)}Kr.style.position="absolute",Jr=Jr+Gr+Zr.config.legend.offsetX,en=en+Yr+Zr.config.legend.offsetY,Kr.style.left=Jr+"px",Kr.style.top=en+"px",Zr.config.legend.position==="right"&&(Kr.style.left="auto",Kr.style.right=25+Zr.config.legend.offsetX+"px"),["width","height"].forEach(function(nn){Kr.style[nn]&&(Kr.style[nn]=parseInt(Zr.config.legend[nn],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var Gr=this.w;Gr.globals.dom.elLegendWrap.style.right=0;var Yr=new pa(this.ctx),Zr=Yr.dimHelpers.getTitleSubtitleCoords("title"),Kr=Yr.dimHelpers.getTitleSubtitleCoords("subtitle"),Qr=0;Gr.config.legend.position==="top"&&(Qr=Zr.height+Kr.height+Gr.config.title.margin+Gr.config.subtitle.margin-10),this.setLegendWrapXY(20,Qr)}},{key:"legendAlignVertical",value:function(){var Gr=this.w,Yr=this.legendHelpers.getLegendDimensions(),Zr=0;Gr.config.legend.position==="left"&&(Zr=20),Gr.config.legend.position==="right"&&(Zr=Gr.globals.svgWidth-Yr.clww-10),this.setLegendWrapXY(Zr,20)}},{key:"onLegendHovered",value:function(Gr){var Yr=this.w,Zr=Gr.target.classList.contains("apexcharts-legend-series")||Gr.target.classList.contains("apexcharts-legend-text")||Gr.target.classList.contains("apexcharts-legend-marker");if(Yr.config.chart.type==="heatmap"||this.isBarsDistributed){if(Zr){var Kr=parseInt(Gr.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,Kr,this.w]),new Zi(this.ctx).highlightRangeInSeries(Gr,Gr.target)}}else!Gr.target.classList.contains("apexcharts-inactive-legend")&&Zr&&new Zi(this.ctx).toggleSeriesOnHover(Gr,Gr.target)}},{key:"onLegendClick",value:function(Gr){var Yr=this.w;if(!Yr.config.legend.customLegendItems.length&&(Gr.target.classList.contains("apexcharts-legend-series")||Gr.target.classList.contains("apexcharts-legend-text")||Gr.target.classList.contains("apexcharts-legend-marker"))){var Zr=parseInt(Gr.target.getAttribute("rel"),10)-1,Kr=Gr.target.getAttribute("data:collapsed")==="true",Qr=this.w.config.chart.events.legendClick;typeof Qr=="function"&&Qr(this.ctx,Zr,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,Zr,this.w]);var Jr=this.w.config.legend.markers.onClick;typeof Jr=="function"&&Gr.target.classList.contains("apexcharts-legend-marker")&&(Jr(this.ctx,Zr,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,Zr,this.w])),Yr.config.chart.type!=="treemap"&&Yr.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&Yr.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(Zr,Kr)}}}]),Wr}(),ba=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w;var Yr=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=Yr.globals.minX,this.maxX=Yr.globals.maxX}return s(Wr,[{key:"createToolbar",value:function(){var Gr=this,Yr=this.w,Zr=function(){return document.createElement("div")},Kr=Zr();if(Kr.setAttribute("class","apexcharts-toolbar"),Kr.style.top=Yr.config.chart.toolbar.offsetY+"px",Kr.style.right=3-Yr.config.chart.toolbar.offsetX+"px",Yr.globals.dom.elWrap.appendChild(Kr),this.elZoom=Zr(),this.elZoomIn=Zr(),this.elZoomOut=Zr(),this.elPan=Zr(),this.elSelection=Zr(),this.elZoomReset=Zr(),this.elMenuIcon=Zr(),this.elMenu=Zr(),this.elCustomIcons=[],this.t=Yr.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var Qr=0;Qr<this.t.customIcons.length;Qr++)this.elCustomIcons.push(Zr());var Jr=[],en=function(nn,sn,ln){var un=nn.toLowerCase();Gr.t[un]&&Yr.config.chart.zoom.enabled&&Jr.push({el:sn,icon:typeof Gr.t[un]=="string"?Gr.t[un]:ln,title:Gr.localeValues[nn],class:"apexcharts-".concat(un,"-icon")})};en("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),en("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var tn=function(nn){Gr.t[nn]&&Yr.config.chart[nn].enabled&&Jr.push({el:nn==="zoom"?Gr.elZoom:Gr.elSelection,icon:typeof Gr.t[nn]=="string"?Gr.t[nn]:nn==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:Gr.localeValues[nn==="zoom"?"selectionZoom":"selection"],class:Yr.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(nn,"-icon")})};tn("zoom"),tn("selection"),this.t.pan&&Yr.config.chart.zoom.enabled&&Jr.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:Yr.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),en("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&Jr.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var rn=0;rn<this.elCustomIcons.length;rn++)Jr.push({el:this.elCustomIcons[rn],icon:this.t.customIcons[rn].icon,title:this.t.customIcons[rn].title,index:this.t.customIcons[rn].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[rn].class});Jr.forEach(function(nn,sn){nn.index&&v.moveIndexInArray(Jr,sn,nn.index)});for(var an=0;an<Jr.length;an++)Mi.setAttrs(Jr[an].el,{class:Jr[an].class,title:Jr[an].title}),Jr[an].el.innerHTML=Jr[an].icon,Kr.appendChild(Jr[an].el);this._createHamburgerMenu(Kr),Yr.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):Yr.globals.panEnabled?this.elPan.classList.add(this.selectedClass):Yr.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(Gr){this.elMenuItems=[],Gr.appendChild(this.elMenu),Mi.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var Yr=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],Zr=0;Zr<Yr.length;Zr++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[Zr].innerHTML=Yr[Zr].title,Mi.setAttrs(this.elMenuItems[Zr],{class:"apexcharts-menu-item ".concat(Yr[Zr].name),title:Yr[Zr].title}),this.elMenu.appendChild(this.elMenuItems[Zr])}},{key:"addToolbarEventListeners",value:function(){var Gr=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(Zr){Zr.classList.contains("exportSVG")?Zr.addEventListener("click",Gr.handleDownload.bind(Gr,"svg")):Zr.classList.contains("exportPNG")?Zr.addEventListener("click",Gr.handleDownload.bind(Gr,"png")):Zr.classList.contains("exportCSV")&&Zr.addEventListener("click",Gr.handleDownload.bind(Gr,"csv"))});for(var Yr=0;Yr<this.t.customIcons.length;Yr++)this.elCustomIcons[Yr].addEventListener("click",this.t.customIcons[Yr].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(Gr){this.ctx.getSyncedCharts().forEach(function(Yr){Yr.ctx.toolbar.toggleOtherControls();var Zr=Gr==="selection"?Yr.ctx.toolbar.elSelection:Yr.ctx.toolbar.elZoom,Kr=Gr==="selection"?"selectionEnabled":"zoomEnabled";Yr.w.globals[Kr]=!Yr.w.globals[Kr],Zr.classList.contains(Yr.ctx.toolbar.selectedClass)?Zr.classList.remove(Yr.ctx.toolbar.selectedClass):Zr.classList.add(Yr.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var Gr=this.w;this.elZoom||(this.elZoom=Gr.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=Gr.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=Gr.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(Gr){this.toggleOtherControls(),Gr==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var Yr=Gr==="pan"?this.elPan:this.elZoom,Zr=Gr==="pan"?this.elZoom:this.elPan;Yr&&Yr.classList.add(this.selectedClass),Zr&&Zr.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(Gr){Gr.ctx.toolbar.toggleOtherControls(),Gr.w.globals.panEnabled=!Gr.w.globals.panEnabled,Gr.ctx.toolbar.elPan.classList.contains(Gr.ctx.toolbar.selectedClass)?Gr.ctx.toolbar.elPan.classList.remove(Gr.ctx.toolbar.selectedClass):Gr.ctx.toolbar.elPan.classList.add(Gr.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var Gr=this,Yr=this.w;Yr.globals.panEnabled=!1,Yr.globals.zoomEnabled=!1,Yr.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(Zr){Zr&&Zr.classList.remove(Gr.selectedClass)})}},{key:"handleZoomIn",value:function(){var Gr=this.w;Gr.globals.isRangeBar&&(this.minX=Gr.globals.minY,this.maxX=Gr.globals.maxY);var Yr=(this.minX+this.maxX)/2,Zr=(this.minX+Yr)/2,Kr=(this.maxX+Yr)/2,Qr=this._getNewMinXMaxX(Zr,Kr);Gr.globals.disableZoomIn||this.zoomUpdateOptions(Qr.minX,Qr.maxX)}},{key:"handleZoomOut",value:function(){var Gr=this.w;if(Gr.globals.isRangeBar&&(this.minX=Gr.globals.minY,this.maxX=Gr.globals.maxY),!(Gr.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var Yr=(this.minX+this.maxX)/2,Zr=this.minX-(Yr-this.minX),Kr=this.maxX-(Yr-this.maxX),Qr=this._getNewMinXMaxX(Zr,Kr);Gr.globals.disableZoomOut||this.zoomUpdateOptions(Qr.minX,Qr.maxX)}}},{key:"_getNewMinXMaxX",value:function(Gr,Yr){var Zr=this.w.config.xaxis.convertedCatToNumeric;return{minX:Zr?Math.floor(Gr):Gr,maxX:Zr?Math.floor(Yr):Yr}}},{key:"zoomUpdateOptions",value:function(Gr,Yr){var Zr=this.w;if(Gr!==void 0||Yr!==void 0){if(!(Zr.config.xaxis.convertedCatToNumeric&&(Gr<1&&(Gr=1,Yr=Zr.globals.dataPoints),Yr-Gr<2))){var Kr={min:Gr,max:Yr},Qr=this.getBeforeZoomRange(Kr);Qr&&(Kr=Qr.xaxis);var Jr={xaxis:Kr},en=v.clone(Zr.globals.initialConfig.yaxis);Zr.config.chart.group||(Jr.yaxis=en),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(Jr,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(Kr,en)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(Gr,Yr){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:Gr,yaxis:Yr})}},{key:"getBeforeZoomRange",value:function(Gr,Yr){var Zr=null;return typeof this.ev.beforeZoom=="function"&&(Zr=this.ev.beforeZoom(this,{xaxis:Gr,yaxis:Yr})),Zr}},{key:"toggleMenu",value:function(){var Gr=this;window.setTimeout(function(){Gr.elMenu.classList.contains("apexcharts-menu-open")?Gr.elMenu.classList.remove("apexcharts-menu-open"):Gr.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(Gr){var Yr=this.w,Zr=new Ji(this.ctx);switch(Gr){case"svg":Zr.exportToSVG(this.ctx);break;case"png":Zr.exportToPng(this.ctx);break;case"csv":Zr.exportToCSV({series:Yr.config.series,columnDelimiter:Yr.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(Gr){this.ctx.getSyncedCharts().forEach(function(Yr){var Zr=Yr.w;if(Zr.globals.lastXAxis.min=Zr.globals.initialConfig.xaxis.min,Zr.globals.lastXAxis.max=Zr.globals.initialConfig.xaxis.max,Yr.updateHelpers.revertDefaultAxisMinMax(),typeof Zr.config.chart.events.beforeResetZoom=="function"){var Kr=Zr.config.chart.events.beforeResetZoom(Yr,Zr);Kr&&Yr.updateHelpers.revertDefaultAxisMinMax(Kr)}typeof Zr.config.chart.events.zoomed=="function"&&Yr.ctx.toolbar.zoomCallback({min:Zr.config.xaxis.min,max:Zr.config.xaxis.max}),Zr.globals.zoomed=!1;var Qr=Yr.ctx.series.emptyCollapsedSeries(v.clone(Zr.globals.initialSeries));Yr.updateHelpers._updateSeries(Qr,Zr.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Wr}(),ma=function(Wr){h(Yr,ba);var Gr=n(Yr);function Yr(Zr){var Kr;return i$1(this,Yr),(Kr=Gr.call(this,Zr)).ctx=Zr,Kr.w=Zr.w,Kr.dragged=!1,Kr.graphics=new Mi(Kr.ctx),Kr.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],Kr.clientX=0,Kr.clientY=0,Kr.startX=0,Kr.endX=0,Kr.dragX=0,Kr.startY=0,Kr.endY=0,Kr.dragY=0,Kr.moveDirection="none",Kr.debounceTimer=null,Kr.debounceDelay=100,Kr.wheelDelay=400,Kr}return s(Yr,[{key:"init",value:function(Zr){var Kr=this,Qr=Zr.xyRatios,Jr=this.w,en=this;this.xyRatios=Qr,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=Jr.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new kt(0,0,Jr.globals.gridWidth,Jr.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),Jr.globals.dom.Paper.add(this.zoomRect),Jr.globals.dom.Paper.add(this.selectionRect),Jr.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:Jr.globals.gridWidth,maxY:Jr.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):Jr.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:Jr.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=Jr.globals.dom.baseEl.querySelector("".concat(Jr.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(tn){Kr.hoverArea.addEventListener(tn,en.svgMouseEvents.bind(en,Qr),{capture:!1,passive:!0})}),Jr.config.chart.zoom.enabled&&Jr.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",en.mouseWheelEvent.bind(en),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(Zr,Kr){var Qr=this.w,Jr=this.ctx.toolbar,en=Qr.globals.zoomEnabled?Qr.config.chart.zoom.type:Qr.config.chart.selection.type,tn=Qr.config.chart.toolbar.autoSelected;if(Kr.shiftKey?(this.shiftWasPressed=!0,Jr.enableZoomPanFromToolbar(tn==="pan"?"zoom":"pan")):this.shiftWasPressed&&(Jr.enableZoomPanFromToolbar(tn),this.shiftWasPressed=!1),Kr.target){var rn,an=Kr.target.classList;if(Kr.target.parentNode&&Kr.target.parentNode!==null&&(rn=Kr.target.parentNode.classList),!(an.contains("apexcharts-legend-marker")||an.contains("apexcharts-legend-text")||rn&&rn.contains("apexcharts-toolbar"))){if(this.clientX=Kr.type==="touchmove"||Kr.type==="touchstart"?Kr.touches[0].clientX:Kr.type==="touchend"?Kr.changedTouches[0].clientX:Kr.clientX,this.clientY=Kr.type==="touchmove"||Kr.type==="touchstart"?Kr.touches[0].clientY:Kr.type==="touchend"?Kr.changedTouches[0].clientY:Kr.clientY,Kr.type==="mousedown"&&Kr.which===1||Kr.type==="touchstart"){var nn=this.gridRect.getBoundingClientRect();this.startX=this.clientX-nn.left-Qr.globals.barPadForNumericAxis,this.startY=this.clientY-nn.top,this.dragged=!1,this.w.globals.mousedown=!0}(Kr.type==="mousemove"&&Kr.which===1||Kr.type==="touchmove")&&(this.dragged=!0,Qr.globals.panEnabled?(Qr.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:en,xyRatios:Zr})):(this.w.globals.mousedown&&Qr.globals.zoomEnabled||this.w.globals.mousedown&&Qr.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:en}))),Kr.type!=="mouseup"&&Kr.type!=="touchend"&&Kr.type!=="mouseleave"||this.handleMouseUp({zoomtype:en}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(Zr){var Kr,Qr=Zr.zoomtype,Jr=Zr.isResized,en=this.w,tn=(Kr=this.gridRect)===null||Kr===void 0?void 0:Kr.getBoundingClientRect();tn&&(this.w.globals.mousedown||Jr)&&(this.endX=this.clientX-tn.left-en.globals.barPadForNumericAxis,this.endY=this.clientY-tn.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(en.globals.zoomEnabled||en.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:Qr}),en.globals.panEnabled&&en.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),en.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(Zr){var Kr=this,Qr=this.w;Zr.preventDefault();var Jr=Date.now();Jr-Qr.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(Zr),Qr.globals.lastWheelExecution=Jr),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){Jr-Qr.globals.lastWheelExecution>Kr.wheelDelay&&(Kr.executeMouseWheelZoom(Zr),Qr.globals.lastWheelExecution=Jr)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(Zr){var Kr,Qr=this.w;this.minX=Qr.globals.isRangeBar?Qr.globals.minY:Qr.globals.minX,this.maxX=Qr.globals.isRangeBar?Qr.globals.maxY:Qr.globals.maxX;var Jr=(Kr=this.gridRect)===null||Kr===void 0?void 0:Kr.getBoundingClientRect();if(Jr){var en,tn,rn,an=(Zr.clientX-Jr.left)/Jr.width,nn=this.minX,sn=this.maxX,ln=sn-nn;if(Zr.deltaY<0){var un=nn+an*ln;tn=un-(en=.5*ln)/2,rn=un+en/2}else tn=nn-(en=1.5*ln)/2,rn=sn+en/2;if(!Qr.globals.isRangeBar){tn=Math.max(tn,Qr.globals.initialMinX),rn=Math.min(rn,Qr.globals.initialMaxX);var cn=.01*(Qr.globals.initialMaxX-Qr.globals.initialMinX);if(rn-tn<cn){var hn=(tn+rn)/2;tn=hn-cn/2,rn=hn+cn/2}}var dn=this._getNewMinXMaxX(tn,rn);isNaN(dn.minX)||isNaN(dn.maxX)||this.zoomUpdateOptions(dn.minX,dn.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var Zr=this,Kr=this.w;if(this.selectionRect){var Qr=this.selectionRect.node.getBoundingClientRect();Qr.width>0&&Qr.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(Jr,en,tn,rn,an){return an==="l"||an==="r"?Jr.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):Jr.circle(0)},updateHandle:function(Jr,en){return Jr.center(en[0],en[1])}}).resize().on("resize",function(){var Jr=Kr.globals.zoomEnabled?Kr.config.chart.zoom.type:Kr.config.chart.selection.type;Zr.handleMouseUp({zoomtype:Jr,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var Zr=this.w,Kr=this.xyRatios;if(!Zr.globals.zoomEnabled){if(Zr.globals.selection!==void 0&&Zr.globals.selection!==null)this.drawSelectionRect(u(u({},Zr.globals.selection),{},{translateX:Zr.globals.translateX,translateY:Zr.globals.translateY}));else if(Zr.config.chart.selection.xaxis.min!==void 0&&Zr.config.chart.selection.xaxis.max!==void 0){var Qr=(Zr.config.chart.selection.xaxis.min-Zr.globals.minX)/Kr.xRatio,Jr=Zr.globals.gridWidth-(Zr.globals.maxX-Zr.config.chart.selection.xaxis.max)/Kr.xRatio-Qr;Zr.globals.isRangeBar&&(Qr=(Zr.config.chart.selection.xaxis.min-Zr.globals.yAxisScale[0].niceMin)/Kr.invertedYRatio,Jr=(Zr.config.chart.selection.xaxis.max-Zr.config.chart.selection.xaxis.min)/Kr.invertedYRatio);var en={x:Qr,y:0,width:Jr,height:Zr.globals.gridHeight,translateX:Zr.globals.translateX,translateY:Zr.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(en),this.makeSelectionRectDraggable(),typeof Zr.config.chart.events.selection=="function"&&Zr.config.chart.events.selection(this.ctx,{xaxis:{min:Zr.config.chart.selection.xaxis.min,max:Zr.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(Zr){var Kr=Zr.x,Qr=Zr.y,Jr=Zr.width,en=Zr.height,tn=Zr.translateX,rn=tn===void 0?0:tn,an=Zr.translateY,nn=an===void 0?0:an,sn=this.w,ln=this.zoomRect,un=this.selectionRect;if(this.dragged||sn.globals.selection!==null){var cn={transform:"translate("+rn+", "+nn+")"};sn.globals.zoomEnabled&&this.dragged&&(Jr<0&&(Jr=1),ln.attr({x:Kr,y:Qr,width:Jr,height:en,fill:sn.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":sn.config.chart.zoom.zoomedArea.fill.opacity,stroke:sn.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":sn.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":sn.config.chart.zoom.zoomedArea.stroke.opacity}),Mi.setAttrs(ln.node,cn)),sn.globals.selectionEnabled&&(un.attr({x:Kr,y:Qr,width:Jr>0?Jr:0,height:en>0?en:0,fill:sn.config.chart.selection.fill.color,"fill-opacity":sn.config.chart.selection.fill.opacity,stroke:sn.config.chart.selection.stroke.color,"stroke-width":sn.config.chart.selection.stroke.width,"stroke-dasharray":sn.config.chart.selection.stroke.dashArray,"stroke-opacity":sn.config.chart.selection.stroke.opacity}),Mi.setAttrs(un.node,cn))}}},{key:"hideSelectionRect",value:function(Zr){Zr&&Zr.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(Zr){var Kr=Zr.context,Qr=Zr.zoomtype,Jr=this.w,en=Kr,tn=this.gridRect.getBoundingClientRect(),rn=en.startX-1,an=en.startY,nn=!1,sn=!1,ln=en.clientX-tn.left-Jr.globals.barPadForNumericAxis,un=en.clientY-tn.top,cn=ln-rn,hn=un-an,dn={translateX:Jr.globals.translateX,translateY:Jr.globals.translateY};return Math.abs(cn+rn)>Jr.globals.gridWidth?cn=Jr.globals.gridWidth-rn:ln<0&&(cn=rn),rn>ln&&(nn=!0,cn=Math.abs(cn)),an>un&&(sn=!0,hn=Math.abs(hn)),dn=u(u({},dn=Qr==="x"?{x:nn?rn-cn:rn,y:0,width:cn,height:Jr.globals.gridHeight}:Qr==="y"?{x:0,y:sn?an-hn:an,width:Jr.globals.gridWidth,height:hn}:{x:nn?rn-cn:rn,y:sn?an-hn:an,width:cn,height:hn}),{},{translateX:Jr.globals.translateX,translateY:Jr.globals.translateY}),en.drawSelectionRect(dn),en.selectionDragging("resizing"),dn}},{key:"selectionDragging",value:function(Zr,Kr){var Qr=this,Jr=this.w;if(Kr){Kr.preventDefault();var en=Kr.detail,tn=en.handler,rn=en.box,an=rn.x,nn=rn.y;an<this.constraints.x&&(an=this.constraints.x),nn<this.constraints.y&&(nn=this.constraints.y),rn.x2>this.constraints.x2&&(an=this.constraints.x2-rn.w),rn.y2>this.constraints.y2&&(nn=this.constraints.y2-rn.h),tn.move(an,nn);var sn=this.xyRatios,ln=this.selectionRect,un=0;Zr==="resizing"&&(un=30);var cn=function(dn){return parseFloat(ln.node.getAttribute(dn))},hn={x:cn("x"),y:cn("y"),width:cn("width"),height:cn("height")};Jr.globals.selection=hn,typeof Jr.config.chart.events.selection=="function"&&Jr.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var dn,fn,pn,gn,vn=Qr.gridRect.getBoundingClientRect(),mn=ln.node.getBoundingClientRect();Jr.globals.isRangeBar?(dn=Jr.globals.yAxisScale[0].niceMin+(mn.left-vn.left)*sn.invertedYRatio,fn=Jr.globals.yAxisScale[0].niceMin+(mn.right-vn.left)*sn.invertedYRatio,pn=0,gn=1):(dn=Jr.globals.xAxisScale.niceMin+(mn.left-vn.left)*sn.xRatio,fn=Jr.globals.xAxisScale.niceMin+(mn.right-vn.left)*sn.xRatio,pn=Jr.globals.yAxisScale[0].niceMin+(vn.bottom-mn.bottom)*sn.yRatio[0],gn=Jr.globals.yAxisScale[0].niceMax-(mn.top-vn.top)*sn.yRatio[0]);var yn={xaxis:{min:dn,max:fn},yaxis:{min:pn,max:gn}};Jr.config.chart.events.selection(Qr.ctx,yn),Jr.config.chart.brush.enabled&&Jr.config.chart.events.brushScrolled!==void 0&&Jr.config.chart.events.brushScrolled(Qr.ctx,yn)},un))}}},{key:"selectionDrawn",value:function(Zr){var Kr,Qr,Jr=Zr.context,en=Zr.zoomtype,tn=this.w,rn=Jr,an=this.xyRatios,nn=this.ctx.toolbar,sn=tn.globals.zoomEnabled?rn.zoomRect.node.getBoundingClientRect():rn.selectionRect.node.getBoundingClientRect(),ln=rn.gridRect.getBoundingClientRect(),un=sn.left-ln.left-tn.globals.barPadForNumericAxis,cn=sn.right-ln.left-tn.globals.barPadForNumericAxis,hn=sn.top-ln.top,dn=sn.bottom-ln.top;tn.globals.isRangeBar?(Kr=tn.globals.yAxisScale[0].niceMin+un*an.invertedYRatio,Qr=tn.globals.yAxisScale[0].niceMin+cn*an.invertedYRatio):(Kr=tn.globals.xAxisScale.niceMin+un*an.xRatio,Qr=tn.globals.xAxisScale.niceMin+cn*an.xRatio);var fn=[],pn=[];if(tn.config.yaxis.forEach(function(Sn,wn){var _n=tn.globals.seriesYAxisMap[wn][0],An=tn.globals.yAxisScale[wn].niceMax-an.yRatio[_n]*hn,Cn=tn.globals.yAxisScale[wn].niceMax-an.yRatio[_n]*dn;fn.push(An),pn.push(Cn)}),rn.dragged&&(rn.dragX>10||rn.dragY>10)&&Kr!==Qr){if(tn.globals.zoomEnabled){var gn=v.clone(tn.globals.initialConfig.yaxis),vn=v.clone(tn.globals.initialConfig.xaxis);if(tn.globals.zoomed=!0,tn.config.xaxis.convertedCatToNumeric&&(Kr=Math.floor(Kr),Qr=Math.floor(Qr),Kr<1&&(Kr=1,Qr=tn.globals.dataPoints),Qr-Kr<2&&(Qr=Kr+1)),en!=="xy"&&en!=="x"||(vn={min:Kr,max:Qr}),en!=="xy"&&en!=="y"||gn.forEach(function(Sn,wn){gn[wn].min=pn[wn],gn[wn].max=fn[wn]}),nn){var mn=nn.getBeforeZoomRange(vn,gn);mn&&(vn=mn.xaxis?mn.xaxis:vn,gn=mn.yaxis?mn.yaxis:gn)}var yn={xaxis:vn};tn.config.chart.group||(yn.yaxis=gn),rn.ctx.updateHelpers._updateOptions(yn,!1,rn.w.config.chart.animations.dynamicAnimation.enabled),typeof tn.config.chart.events.zoomed=="function"&&nn.zoomCallback(vn,gn)}else if(tn.globals.selectionEnabled){var xn,bn=null;xn={min:Kr,max:Qr},en!=="xy"&&en!=="y"||(bn=v.clone(tn.config.yaxis)).forEach(function(Sn,wn){bn[wn].min=pn[wn],bn[wn].max=fn[wn]}),tn.globals.selection=rn.selection,typeof tn.config.chart.events.selection=="function"&&tn.config.chart.events.selection(rn.ctx,{xaxis:xn,yaxis:bn})}}}},{key:"panDragging",value:function(Zr){var Kr=Zr.context,Qr=this.w,Jr=Kr;if(Qr.globals.lastClientPosition.x!==void 0){var en=Qr.globals.lastClientPosition.x-Jr.clientX,tn=Qr.globals.lastClientPosition.y-Jr.clientY;Math.abs(en)>Math.abs(tn)&&en>0?this.moveDirection="left":Math.abs(en)>Math.abs(tn)&&en<0?this.moveDirection="right":Math.abs(tn)>Math.abs(en)&&tn>0?this.moveDirection="up":Math.abs(tn)>Math.abs(en)&&tn<0&&(this.moveDirection="down")}Qr.globals.lastClientPosition={x:Jr.clientX,y:Jr.clientY};var rn=Qr.globals.isRangeBar?Qr.globals.minY:Qr.globals.minX,an=Qr.globals.isRangeBar?Qr.globals.maxY:Qr.globals.maxX;Qr.config.xaxis.convertedCatToNumeric||Jr.panScrolled(rn,an)}},{key:"delayedPanScrolled",value:function(){var Zr=this.w,Kr=Zr.globals.minX,Qr=Zr.globals.maxX,Jr=(Zr.globals.maxX-Zr.globals.minX)/2;this.moveDirection==="left"?(Kr=Zr.globals.minX+Jr,Qr=Zr.globals.maxX+Jr):this.moveDirection==="right"&&(Kr=Zr.globals.minX-Jr,Qr=Zr.globals.maxX-Jr),Kr=Math.floor(Kr),Qr=Math.floor(Qr),this.updateScrolledChart({xaxis:{min:Kr,max:Qr}},Kr,Qr)}},{key:"panScrolled",value:function(Zr,Kr){var Qr=this.w,Jr=this.xyRatios,en=v.clone(Qr.globals.initialConfig.yaxis),tn=Jr.xRatio,rn=Qr.globals.minX,an=Qr.globals.maxX;Qr.globals.isRangeBar&&(tn=Jr.invertedYRatio,rn=Qr.globals.minY,an=Qr.globals.maxY),this.moveDirection==="left"?(Zr=rn+Qr.globals.gridWidth/15*tn,Kr=an+Qr.globals.gridWidth/15*tn):this.moveDirection==="right"&&(Zr=rn-Qr.globals.gridWidth/15*tn,Kr=an-Qr.globals.gridWidth/15*tn),Qr.globals.isRangeBar||(Zr<Qr.globals.initialMinX||Kr>Qr.globals.initialMaxX)&&(Zr=rn,Kr=an);var nn={xaxis:{min:Zr,max:Kr}};Qr.config.chart.group||(nn.yaxis=en),this.updateScrolledChart(nn,Zr,Kr)}},{key:"updateScrolledChart",value:function(Zr,Kr,Qr){var Jr=this.w;this.ctx.updateHelpers._updateOptions(Zr,!1,!1),typeof Jr.config.chart.events.scrolled=="function"&&Jr.config.chart.events.scrolled(this.ctx,{xaxis:{min:Kr,max:Qr}})}}]),Yr}(),va=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.ttCtx=Gr,this.ctx=Gr.ctx}return s(Wr,[{key:"getNearestValues",value:function(Gr){var Yr=Gr.hoverArea,Zr=Gr.elGrid,Kr=Gr.clientX,Qr=Gr.clientY,Jr=this.w,en=Zr.getBoundingClientRect(),tn=en.width,rn=en.height,an=tn/(Jr.globals.dataPoints-1),nn=rn/Jr.globals.dataPoints,sn=this.hasBars();!Jr.globals.comboCharts&&!sn||Jr.config.xaxis.convertedCatToNumeric||(an=tn/Jr.globals.dataPoints);var ln=Kr-en.left-Jr.globals.barPadForNumericAxis,un=Qr-en.top;ln<0||un<0||ln>tn||un>rn?(Yr.classList.remove("hovering-zoom"),Yr.classList.remove("hovering-pan")):Jr.globals.zoomEnabled?(Yr.classList.remove("hovering-pan"),Yr.classList.add("hovering-zoom")):Jr.globals.panEnabled&&(Yr.classList.remove("hovering-zoom"),Yr.classList.add("hovering-pan"));var cn=Math.round(ln/an),hn=Math.floor(un/nn);sn&&!Jr.config.xaxis.convertedCatToNumeric&&(cn=Math.ceil(ln/an),cn-=1);var dn=null,fn=null,pn=Jr.globals.seriesXvalues.map(function(xn){return xn.filter(function(bn){return v.isNumber(bn)})}),gn=Jr.globals.seriesYvalues.map(function(xn){return xn.filter(function(bn){return v.isNumber(bn)})});if(Jr.globals.isXNumeric){var vn=this.ttCtx.getElGrid().getBoundingClientRect(),mn=ln*(vn.width/tn),yn=un*(vn.height/rn);dn=(fn=this.closestInMultiArray(mn,yn,pn,gn)).index,cn=fn.j,dn!==null&&Jr.globals.hasNullValues&&(pn=Jr.globals.seriesXvalues[dn],cn=(fn=this.closestInArray(mn,pn)).j)}return Jr.globals.capturedSeriesIndex=dn===null?-1:dn,(!cn||cn<1)&&(cn=0),Jr.globals.isBarHorizontal?Jr.globals.capturedDataPointIndex=hn:Jr.globals.capturedDataPointIndex=cn,{capturedSeries:dn,j:Jr.globals.isBarHorizontal?hn:cn,hoverX:ln,hoverY:un}}},{key:"getFirstActiveXArray",value:function(Gr){for(var Yr=this.w,Zr=0,Kr=Gr.map(function(Jr,en){return Jr.length>0?en:-1}),Qr=0;Qr<Kr.length;Qr++)if(Kr[Qr]!==-1&&Yr.globals.collapsedSeriesIndices.indexOf(Qr)===-1&&Yr.globals.ancillaryCollapsedSeriesIndices.indexOf(Qr)===-1){Zr=Kr[Qr];break}return Zr}},{key:"closestInMultiArray",value:function(Gr,Yr,Zr,Kr){for(var Qr,Jr=this.w,en=1/0,tn=null,rn=null,an=0;an<Zr.length;an++)if(Qr=an,Jr.globals.collapsedSeriesIndices.indexOf(Qr)===-1&&Jr.globals.ancillaryCollapsedSeriesIndices.indexOf(Qr)===-1)for(var nn=Zr[an],sn=Kr[an],ln=Math.min(nn.length,sn.length),un=0;un<ln;un++){var cn=Gr-nn[un],hn=Math.sqrt(cn*cn);if(!Jr.globals.allSeriesHasEqualX){var dn=Yr-sn[un];hn=Math.sqrt(cn*cn+dn*dn)}hn<en&&(en=hn,tn=an,rn=un)}return{index:tn,j:rn}}},{key:"closestInArray",value:function(Gr,Yr){for(var Zr=Yr[0],Kr=null,Qr=Math.abs(Gr-Zr),Jr=0;Jr<Yr.length;Jr++){var en=Math.abs(Gr-Yr[Jr]);en<Qr&&(Qr=en,Kr=Jr)}return{j:Kr}}},{key:"isXoverlap",value:function(Gr){var Yr=[],Zr=this.w.globals.seriesX.filter(function(Qr){return Qr[0]!==void 0});if(Zr.length>0)for(var Kr=0;Kr<Zr.length-1;Kr++)Zr[Kr][Gr]!==void 0&&Zr[Kr+1][Gr]!==void 0&&Zr[Kr][Gr]!==Zr[Kr+1][Gr]&&Yr.push("unEqual");return Yr.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var Gr=!0,Yr=this.w.globals.initialSeries,Zr=0;Zr<Yr.length-1;Zr++)if(Yr[Zr].data.length!==Yr[Zr+1].data.length){Gr=!1;break}return Gr}},{key:"getBarsHeight",value:function(Gr){return f(Gr).reduce(function(Yr,Zr){return Yr+Zr.getBBox().height},0)}},{key:"getElMarkers",value:function(Gr){return typeof Gr=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(Gr,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var Gr=this,Yr=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Zr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");Zr=f(Zr),Yr&&(Zr=Zr.filter(function(Qr){var Jr=Number(Qr.getAttribute("data:realIndex"));return Gr.w.globals.collapsedSeriesIndices.indexOf(Jr)===-1})),Zr.sort(function(Qr,Jr){var en=Number(Qr.getAttribute("data:realIndex")),tn=Number(Jr.getAttribute("data:realIndex"));return tn<en?1:tn>en?-1:0});var Kr=[];return Zr.forEach(function(Qr){Kr.push(Qr.querySelector(".apexcharts-marker"))}),Kr}},{key:"hasMarkers",value:function(Gr){return this.getElMarkers(Gr).length>0}},{key:"getPathFromPoint",value:function(Gr,Yr){var Zr=Number(Gr.getAttribute("cx")),Kr=Number(Gr.getAttribute("cy")),Qr=Gr.getAttribute("shape");return new Mi(this.ctx).getMarkerPath(Zr,Kr,Qr,Yr)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(Gr){var Yr=this.w,Zr=Yr.config.markers.hover.size;return Zr===void 0&&(Zr=Yr.globals.markers.size[Gr]+Yr.config.markers.hover.sizeOffset),Zr}},{key:"toggleAllTooltipSeriesGroups",value:function(Gr){var Yr=this.w,Zr=this.ttCtx;Zr.allTooltipSeriesGroups.length===0&&(Zr.allTooltipSeriesGroups=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var Kr=Zr.allTooltipSeriesGroups,Qr=0;Qr<Kr.length;Qr++)Gr==="enable"?(Kr[Qr].classList.add("apexcharts-active"),Kr[Qr].style.display=Yr.config.tooltip.items.display):(Kr[Qr].classList.remove("apexcharts-active"),Kr[Qr].style.display="none")}}]),Wr}(),ya=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.ctx=Gr.ctx,this.ttCtx=Gr,this.tooltipUtil=new va(Gr)}return s(Wr,[{key:"drawSeriesTexts",value:function(Gr){var Yr=Gr.shared,Zr=Yr===void 0||Yr,Kr=Gr.ttItems,Qr=Gr.i,Jr=Qr===void 0?0:Qr,en=Gr.j,tn=en===void 0?null:en,rn=Gr.y1,an=Gr.y2,nn=Gr.e,sn=this.w;sn.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:Jr,j:tn,y1:rn,y2:an,w:sn}):this.toggleActiveInactiveSeries(Zr,Jr);var ln=this.getValuesToPrint({i:Jr,j:tn});this.printLabels({i:Jr,j:tn,values:ln,ttItems:Kr,shared:Zr,e:nn});var un=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=un.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=un.getBoundingClientRect().height}},{key:"printLabels",value:function(Gr){var Yr,Zr=this,Kr=Gr.i,Qr=Gr.j,Jr=Gr.values,en=Gr.ttItems,tn=Gr.shared,rn=Gr.e,an=this.w,nn=[],sn=function(vn){return an.globals.seriesGoals[vn]&&an.globals.seriesGoals[vn][Qr]&&Array.isArray(an.globals.seriesGoals[vn][Qr])},ln=Jr.xVal,un=Jr.zVal,cn=Jr.xAxisTTVal,hn="",dn=an.globals.colors[Kr];Qr!==null&&an.config.plotOptions.bar.distributed&&(dn=an.globals.colors[Qr]);for(var fn=function(vn,mn){var yn=Zr.getFormatters(Kr);hn=Zr.getSeriesName({fn:yn.yLbTitleFormatter,index:Kr,seriesIndex:Kr,j:Qr}),an.config.chart.type==="treemap"&&(hn=yn.yLbTitleFormatter(String(an.config.series[Kr].data[Qr].x),{series:an.globals.series,seriesIndex:Kr,dataPointIndex:Qr,w:an}));var xn=an.config.tooltip.inverseOrder?mn:vn;if(an.globals.axisCharts){var bn=function(_n){var An,Cn,Tn,Mn;return an.globals.isRangeData?yn.yLbFormatter((An=an.globals.seriesRangeStart)===null||An===void 0||(Cn=An[_n])===null||Cn===void 0?void 0:Cn[Qr],{series:an.globals.seriesRangeStart,seriesIndex:_n,dataPointIndex:Qr,w:an})+" - "+yn.yLbFormatter((Tn=an.globals.seriesRangeEnd)===null||Tn===void 0||(Mn=Tn[_n])===null||Mn===void 0?void 0:Mn[Qr],{series:an.globals.seriesRangeEnd,seriesIndex:_n,dataPointIndex:Qr,w:an}):yn.yLbFormatter(an.globals.series[_n][Qr],{series:an.globals.series,seriesIndex:_n,dataPointIndex:Qr,w:an})};if(tn)yn=Zr.getFormatters(xn),hn=Zr.getSeriesName({fn:yn.yLbTitleFormatter,index:xn,seriesIndex:Kr,j:Qr}),dn=an.globals.colors[xn],Yr=bn(xn),sn(xn)&&(nn=an.globals.seriesGoals[xn][Qr].map(function(_n){return{attrs:_n,val:yn.yLbFormatter(_n.value,{seriesIndex:xn,dataPointIndex:Qr,w:an})}}));else{var Sn,wn=rn==null||(Sn=rn.target)===null||Sn===void 0?void 0:Sn.getAttribute("fill");wn&&(wn.indexOf("url")!==-1?wn.indexOf("Pattern")!==-1&&(dn=an.globals.dom.baseEl.querySelector(wn.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):dn=wn),Yr=bn(Kr),sn(Kr)&&Array.isArray(an.globals.seriesGoals[Kr][Qr])&&(nn=an.globals.seriesGoals[Kr][Qr].map(function(_n){return{attrs:_n,val:yn.yLbFormatter(_n.value,{seriesIndex:Kr,dataPointIndex:Qr,w:an})}}))}}Qr===null&&(Yr=yn.yLbFormatter(an.globals.series[Kr],u(u({},an),{},{seriesIndex:Kr,dataPointIndex:Kr}))),Zr.DOMHandling({i:Kr,t:xn,j:Qr,ttItems:en,values:{val:Yr,goalVals:nn,xVal:ln,xAxisTTVal:cn,zVal:un},seriesName:hn,shared:tn,pColor:dn})},pn=0,gn=an.globals.series.length-1;pn<an.globals.series.length;pn++,gn--)fn(pn,gn)}},{key:"getFormatters",value:function(Gr){var Yr,Zr=this.w,Kr=Zr.globals.yLabelFormatters[Gr];return Zr.globals.ttVal!==void 0?Array.isArray(Zr.globals.ttVal)?(Kr=Zr.globals.ttVal[Gr]&&Zr.globals.ttVal[Gr].formatter,Yr=Zr.globals.ttVal[Gr]&&Zr.globals.ttVal[Gr].title&&Zr.globals.ttVal[Gr].title.formatter):(Kr=Zr.globals.ttVal.formatter,typeof Zr.globals.ttVal.title.formatter=="function"&&(Yr=Zr.globals.ttVal.title.formatter)):Yr=Zr.config.tooltip.y.title.formatter,typeof Kr!="function"&&(Kr=Zr.globals.yLabelFormatters[0]?Zr.globals.yLabelFormatters[0]:function(Qr){return Qr}),typeof Yr!="function"&&(Yr=function(Qr){return Qr?Qr+": ":""}),{yLbFormatter:Kr,yLbTitleFormatter:Yr}}},{key:"getSeriesName",value:function(Gr){var Yr=Gr.fn,Zr=Gr.index,Kr=Gr.seriesIndex,Qr=Gr.j,Jr=this.w;return Yr(String(Jr.globals.seriesNames[Zr]),{series:Jr.globals.series,seriesIndex:Kr,dataPointIndex:Qr,w:Jr})}},{key:"DOMHandling",value:function(Gr){Gr.i;var Yr=Gr.t,Zr=Gr.j,Kr=Gr.ttItems,Qr=Gr.values,Jr=Gr.seriesName,en=Gr.shared,tn=Gr.pColor,rn=this.w,an=this.ttCtx,nn=Qr.val,sn=Qr.goalVals,ln=Qr.xVal,un=Qr.xAxisTTVal,cn=Qr.zVal,hn=null;hn=Kr[Yr].children,rn.config.tooltip.fillSeriesColor&&(Kr[Yr].style.color=tn,hn[0].style.display="none"),an.showTooltipTitle&&(an.tooltipTitle===null&&(an.tooltipTitle=rn.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),an.tooltipTitle.innerHTML=ln),an.isXAxisTooltipEnabled&&(an.xaxisTooltipText.innerHTML=un!==""?un:ln);var dn=Kr[Yr].querySelector(".apexcharts-tooltip-text-y-label");dn&&(dn.innerHTML=Jr||"");var fn=Kr[Yr].querySelector(".apexcharts-tooltip-text-y-value");fn&&(fn.innerHTML=nn!==void 0?nn:""),hn[0]&&hn[0].classList.contains("apexcharts-tooltip-marker")&&(rn.config.tooltip.marker.fillColors&&Array.isArray(rn.config.tooltip.marker.fillColors)&&(tn=rn.config.tooltip.marker.fillColors[Yr]),hn[0].style.color=tn),rn.config.tooltip.marker.show||(hn[0].style.display="none");var pn=Kr[Yr].querySelector(".apexcharts-tooltip-text-goals-label"),gn=Kr[Yr].querySelector(".apexcharts-tooltip-text-goals-value");if(sn.length&&rn.globals.seriesGoals[Yr]){var vn=function(){var xn="<div>",bn="<div>";sn.forEach(function(Sn,wn){xn+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Sn.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Sn.attrs.name,"</div>"),bn+="<div>".concat(Sn.val,"</div>")}),pn.innerHTML=xn+"</div>",gn.innerHTML=bn+"</div>"};en?rn.globals.seriesGoals[Yr][Zr]&&Array.isArray(rn.globals.seriesGoals[Yr][Zr])?vn():(pn.innerHTML="",gn.innerHTML=""):vn()}else pn.innerHTML="",gn.innerHTML="";if(cn!==null&&(Kr[Yr].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=rn.config.tooltip.z.title,Kr[Yr].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=cn!==void 0?cn:""),en&&hn[0]){if(rn.config.tooltip.hideEmptySeries){var mn=Kr[Yr].querySelector(".apexcharts-tooltip-marker"),yn=Kr[Yr].querySelector(".apexcharts-tooltip-text");parseFloat(nn)==0?(mn.style.display="none",yn.style.display="none"):(mn.style.display="block",yn.style.display="block")}nn==null||rn.globals.ancillaryCollapsedSeriesIndices.indexOf(Yr)>-1||rn.globals.collapsedSeriesIndices.indexOf(Yr)>-1||Array.isArray(an.tConfig.enabledOnSeries)&&an.tConfig.enabledOnSeries.indexOf(Yr)===-1?hn[0].parentNode.style.display="none":hn[0].parentNode.style.display=rn.config.tooltip.items.display}else Array.isArray(an.tConfig.enabledOnSeries)&&an.tConfig.enabledOnSeries.indexOf(Yr)===-1&&(hn[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(Gr,Yr){var Zr=this.w;if(Gr)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var Kr=Zr.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(Yr));Kr&&(Kr.classList.add("apexcharts-active"),Kr.style.display=Zr.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(Gr){var Yr=Gr.i,Zr=Gr.j,Kr=this.w,Qr=this.ctx.series.filteredSeriesX(),Jr="",en="",tn=null,rn=null,an={series:Kr.globals.series,seriesIndex:Yr,dataPointIndex:Zr,w:Kr},nn=Kr.globals.ttZFormatter;Zr===null?rn=Kr.globals.series[Yr]:Kr.globals.isXNumeric&&Kr.config.chart.type!=="treemap"?(Jr=Qr[Yr][Zr],Qr[Yr].length===0&&(Jr=Qr[this.tooltipUtil.getFirstActiveXArray(Qr)][Zr])):Jr=new $i(this.ctx).isFormatXY()?Kr.config.series[Yr].data[Zr]!==void 0?Kr.config.series[Yr].data[Zr].x:"":Kr.globals.labels[Zr]!==void 0?Kr.globals.labels[Zr]:"";var sn=Jr;return Kr.globals.isXNumeric&&Kr.config.xaxis.type==="datetime"?Jr=new Xi(this.ctx).xLabelFormat(Kr.globals.ttKeyFormatter,sn,sn,{i:void 0,dateFormatter:new zi(this.ctx).formatDate,w:this.w}):Jr=Kr.globals.isBarHorizontal?Kr.globals.yLabelFormatters[0](sn,an):Kr.globals.xLabelFormatter(sn,an),Kr.config.tooltip.x.formatter!==void 0&&(Jr=Kr.globals.ttKeyFormatter(sn,an)),Kr.globals.seriesZ.length>0&&Kr.globals.seriesZ[Yr].length>0&&(tn=nn(Kr.globals.seriesZ[Yr][Zr],Kr)),en=typeof Kr.config.xaxis.tooltip.formatter=="function"?Kr.globals.xaxisTooltipFormatter(sn,an):Jr,{val:Array.isArray(rn)?rn.join(" "):rn,xVal:Array.isArray(Jr)?Jr.join(" "):Jr,xAxisTTVal:Array.isArray(en)?en.join(" "):en,zVal:tn}}},{key:"handleCustomTooltip",value:function(Gr){var Yr=Gr.i,Zr=Gr.j,Kr=Gr.y1,Qr=Gr.y2,Jr=Gr.w,en=this.ttCtx.getElTooltip(),tn=Jr.config.tooltip.custom;Array.isArray(tn)&&tn[Yr]&&(tn=tn[Yr]);var rn=tn({ctx:this.ctx,series:Jr.globals.series,seriesIndex:Yr,dataPointIndex:Zr,y1:Kr,y2:Qr,w:Jr});typeof rn=="string"?en.innerHTML=rn:(rn instanceof Element||typeof rn.nodeName=="string")&&(en.innerHTML="",en.appendChild(rn.cloneNode(!0)))}}]),Wr}(),wa=function(){function Wr(Gr){i$1(this,Wr),this.ttCtx=Gr,this.ctx=Gr.ctx,this.w=Gr.w}return s(Wr,[{key:"moveXCrosshairs",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Zr=this.ttCtx,Kr=this.w,Qr=Zr.getElXCrosshairs(),Jr=Gr-Zr.xcrosshairsWidth/2,en=Kr.globals.labels.slice().length;if(Yr!==null&&(Jr=Kr.globals.gridWidth/en*Yr),Qr===null||Kr.globals.isBarHorizontal||(Qr.setAttribute("x",Jr),Qr.setAttribute("x1",Jr),Qr.setAttribute("x2",Jr),Qr.setAttribute("y2",Kr.globals.gridHeight),Qr.classList.add("apexcharts-active")),Jr<0&&(Jr=0),Jr>Kr.globals.gridWidth&&(Jr=Kr.globals.gridWidth),Zr.isXAxisTooltipEnabled){var tn=Jr;Kr.config.xaxis.crosshairs.width!=="tickWidth"&&Kr.config.xaxis.crosshairs.width!=="barWidth"||(tn=Jr+Zr.xcrosshairsWidth/2),this.moveXAxisTooltip(tn)}}},{key:"moveYCrosshairs",value:function(Gr){var Yr=this.ttCtx;Yr.ycrosshairs!==null&&Mi.setAttrs(Yr.ycrosshairs,{y1:Gr,y2:Gr}),Yr.ycrosshairsHidden!==null&&Mi.setAttrs(Yr.ycrosshairsHidden,{y1:Gr,y2:Gr})}},{key:"moveXAxisTooltip",value:function(Gr){var Yr=this.w,Zr=this.ttCtx;if(Zr.xaxisTooltip!==null&&Zr.xcrosshairsWidth!==0){Zr.xaxisTooltip.classList.add("apexcharts-active");var Kr=Zr.xaxisOffY+Yr.config.xaxis.tooltip.offsetY+Yr.globals.translateY+1+Yr.config.xaxis.offsetY;if(Gr-=Zr.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(Gr)){Gr+=Yr.globals.translateX;var Qr;Qr=new Mi(this.ctx).getTextRects(Zr.xaxisTooltipText.innerHTML),Zr.xaxisTooltipText.style.minWidth=Qr.width+"px",Zr.xaxisTooltip.style.left=Gr+"px",Zr.xaxisTooltip.style.top=Kr+"px"}}}},{key:"moveYAxisTooltip",value:function(Gr){var Yr=this.w,Zr=this.ttCtx;Zr.yaxisTTEls===null&&(Zr.yaxisTTEls=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var Kr=parseInt(Zr.ycrosshairsHidden.getAttribute("y1"),10),Qr=Yr.globals.translateY+Kr,Jr=Zr.yaxisTTEls[Gr].getBoundingClientRect().height,en=Yr.globals.translateYAxisX[Gr]-2;Yr.config.yaxis[Gr].opposite&&(en-=26),Qr-=Jr/2,Yr.globals.ignoreYAxisIndexes.indexOf(Gr)===-1?(Zr.yaxisTTEls[Gr].classList.add("apexcharts-active"),Zr.yaxisTTEls[Gr].style.top=Qr+"px",Zr.yaxisTTEls[Gr].style.left=en+Yr.config.yaxis[Gr].tooltip.offsetX+"px"):Zr.yaxisTTEls[Gr].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Kr=this.w,Qr=this.ttCtx,Jr=Qr.getElTooltip(),en=Qr.tooltipRect,tn=Zr!==null?parseFloat(Zr):1,rn=parseFloat(Gr)+tn+5,an=parseFloat(Yr)+tn/2;if(rn>Kr.globals.gridWidth/2&&(rn=rn-en.ttWidth-tn-10),rn>Kr.globals.gridWidth-en.ttWidth-10&&(rn=Kr.globals.gridWidth-en.ttWidth),rn<-20&&(rn=-20),Kr.config.tooltip.followCursor){var nn=Qr.getElGrid().getBoundingClientRect();(rn=Qr.e.clientX-nn.left)>Kr.globals.gridWidth/2&&(rn-=Qr.tooltipRect.ttWidth),(an=Qr.e.clientY+Kr.globals.translateY-nn.top)>Kr.globals.gridHeight/2&&(an-=Qr.tooltipRect.ttHeight)}else Kr.globals.isBarHorizontal||en.ttHeight/2+an>Kr.globals.gridHeight&&(an=Kr.globals.gridHeight-en.ttHeight+Kr.globals.translateY);isNaN(rn)||(rn+=Kr.globals.translateX,Jr.style.left=rn+"px",Jr.style.top=an+"px")}},{key:"moveMarkers",value:function(Gr,Yr){var Zr=this.w,Kr=this.ttCtx;if(Zr.globals.markers.size[Gr]>0)for(var Qr=Zr.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(Gr,"'] .apexcharts-marker")),Jr=0;Jr<Qr.length;Jr++)parseInt(Qr[Jr].getAttribute("rel"),10)===Yr&&(Kr.marker.resetPointsSize(),Kr.marker.enlargeCurrentPoint(Yr,Qr[Jr]));else Kr.marker.resetPointsSize(),this.moveDynamicPointOnHover(Yr,Gr)}},{key:"moveDynamicPointOnHover",value:function(Gr,Yr){var Zr,Kr,Qr,Jr,en=this.w,tn=this.ttCtx,rn=new Mi(this.ctx),an=en.globals.pointsArray,nn=tn.tooltipUtil.getHoverMarkerSize(Yr),sn=en.config.series[Yr].type;if(!sn||sn!=="column"&&sn!=="candlestick"&&sn!=="boxPlot"){Qr=(Zr=an[Yr][Gr])===null||Zr===void 0?void 0:Zr[0],Jr=((Kr=an[Yr][Gr])===null||Kr===void 0?void 0:Kr[1])||0;var ln=en.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(Yr,"'] .apexcharts-series-markers path"));if(ln&&Jr<en.globals.gridHeight&&Jr>0){var un=ln.getAttribute("shape"),cn=rn.getMarkerPath(Qr,Jr,un,1.5*nn);ln.setAttribute("d",cn)}this.moveXCrosshairs(Qr),tn.fixedTooltip||this.moveTooltip(Qr,Jr,nn)}}},{key:"moveDynamicPointsOnHover",value:function(Gr){var Yr,Zr=this.ttCtx,Kr=Zr.w,Qr=0,Jr=0,en=Kr.globals.pointsArray,tn=new Zi(this.ctx),rn=new Mi(this.ctx);Yr=tn.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var an=Zr.tooltipUtil.getHoverMarkerSize(Yr);if(en[Yr]&&(Qr=en[Yr][Gr][0],Jr=en[Yr][Gr][1]),!isNaN(Qr)){var nn=Zr.tooltipUtil.getAllMarkers();if(nn.length)for(var sn=0;sn<Kr.globals.series.length;sn++){var ln=en[sn];if(Kr.globals.comboCharts&&ln===void 0&&nn.splice(sn,0,null),ln&&ln.length){var un=en[sn][Gr][1],cn=void 0;nn[sn].setAttribute("cx",Qr);var hn=nn[sn].getAttribute("shape");if(Kr.config.chart.type==="rangeArea"&&!Kr.globals.comboCharts){var dn=Gr+Kr.globals.series[sn].length;cn=en[sn][dn][1],un-=Math.abs(un-cn)/2}if(un!==null&&!isNaN(un)&&un<Kr.globals.gridHeight+an&&un+an>0){var fn=rn.getMarkerPath(Qr,un,hn,an);nn[sn].setAttribute("d",fn)}else nn[sn].setAttribute("d","")}}this.moveXCrosshairs(Qr),Zr.fixedTooltip||this.moveTooltip(Qr,Jr||Kr.globals.gridHeight,an)}}},{key:"moveStickyTooltipOverBars",value:function(Gr,Yr){var Zr=this.w,Kr=this.ttCtx,Qr=Zr.globals.columnSeries?Zr.globals.columnSeries.length:Zr.globals.series.length;Zr.config.chart.stacked&&(Qr=Zr.globals.barGroups.length);var Jr=Qr>=2&&Qr%2==0?Math.floor(Qr/2):Math.floor(Qr/2)+1;Zr.globals.isBarHorizontal&&(Jr=new Zi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var en=Zr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(Jr,"'] path[j='").concat(Gr,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(Jr,"'] path[j='").concat(Gr,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(Jr,"'] path[j='").concat(Gr,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(Jr,"'] path[j='").concat(Gr,"']"));en||typeof Yr!="number"||(en=Zr.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(Yr,"'] path[j='").concat(Gr,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(Yr,"'] path[j='").concat(Gr,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(Yr,"'] path[j='").concat(Gr,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(Yr,"'] path[j='").concat(Gr,"']")));var tn=en?parseFloat(en.getAttribute("cx")):0,rn=en?parseFloat(en.getAttribute("cy")):0,an=en?parseFloat(en.getAttribute("barWidth")):0,nn=Kr.getElGrid().getBoundingClientRect(),sn=en&&(en.classList.contains("apexcharts-candlestick-area")||en.classList.contains("apexcharts-boxPlot-area"));Zr.globals.isXNumeric?(en&&!sn&&(tn-=Qr%2!=0?an/2:0),en&&sn&&(tn-=an/2)):Zr.globals.isBarHorizontal||(tn=Kr.xAxisTicksPositions[Gr-1]+Kr.dataPointsDividedWidth/2,isNaN(tn)&&(tn=Kr.xAxisTicksPositions[Gr]-Kr.dataPointsDividedWidth/2)),Zr.globals.isBarHorizontal?rn-=Kr.tooltipRect.ttHeight:Zr.config.tooltip.followCursor?rn=Kr.e.clientY-nn.top-Kr.tooltipRect.ttHeight/2:rn+Kr.tooltipRect.ttHeight+15>Zr.globals.gridHeight&&(rn=Zr.globals.gridHeight),Zr.globals.isBarHorizontal||this.moveXCrosshairs(tn),Kr.fixedTooltip||this.moveTooltip(tn,rn||Zr.globals.gridHeight)}}]),Wr}(),ka=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.ttCtx=Gr,this.ctx=Gr.ctx,this.tooltipPosition=new wa(Gr)}return s(Wr,[{key:"drawDynamicPoints",value:function(){var Gr=this.w,Yr=new Mi(this.ctx),Zr=new Vi(this.ctx),Kr=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-series");Kr=f(Kr),Gr.config.chart.stacked&&Kr.sort(function(nn,sn){return parseFloat(nn.getAttribute("data:realIndex"))-parseFloat(sn.getAttribute("data:realIndex"))});for(var Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr].querySelector(".apexcharts-series-markers-wrap");if(Jr!==null){var en=void 0,tn="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));Gr.config.chart.type!=="line"&&Gr.config.chart.type!=="area"||Gr.globals.comboCharts||Gr.config.tooltip.intersect||(tn+=" no-pointer-events");var rn=Zr.getMarkerConfig({cssClass:tn,seriesIndex:Number(Jr.getAttribute("data:realIndex"))});(en=Yr.drawMarker(0,0,rn)).node.setAttribute("default-marker-size",0);var an=document.createElementNS(Gr.globals.SVGNS,"g");an.classList.add("apexcharts-series-markers"),an.appendChild(en.node),Jr.appendChild(an)}}}},{key:"enlargeCurrentPoint",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Qr=this.w;Qr.config.chart.type!=="bubble"&&this.newPointSize(Gr,Yr);var Jr=Yr.getAttribute("cx"),en=Yr.getAttribute("cy");if(Zr!==null&&Kr!==null&&(Jr=Zr,en=Kr),this.tooltipPosition.moveXCrosshairs(Jr),!this.fixedTooltip){if(Qr.config.chart.type==="radar"){var tn=this.ttCtx.getElGrid().getBoundingClientRect();Jr=this.ttCtx.e.clientX-tn.left}this.tooltipPosition.moveTooltip(Jr,en,Qr.config.markers.hover.size)}}},{key:"enlargePoints",value:function(Gr){for(var Yr=this.w,Zr=this,Kr=this.ttCtx,Qr=Gr,Jr=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),en=Yr.config.markers.hover.size,tn=0;tn<Jr.length;tn++){var rn=Jr[tn].getAttribute("rel"),an=Jr[tn].getAttribute("index");if(en===void 0&&(en=Yr.globals.markers.size[an]+Yr.config.markers.hover.sizeOffset),Qr===parseInt(rn,10)){Zr.newPointSize(Qr,Jr[tn]);var nn=Jr[tn].getAttribute("cx"),sn=Jr[tn].getAttribute("cy");Zr.tooltipPosition.moveXCrosshairs(nn),Kr.fixedTooltip||Zr.tooltipPosition.moveTooltip(nn,sn,en)}else Zr.oldPointSize(Jr[tn])}}},{key:"newPointSize",value:function(Gr,Yr){var Zr=this.w,Kr=Zr.config.markers.hover.size,Qr=Gr===0?Yr.parentNode.firstChild:Yr.parentNode.lastChild;if(Qr.getAttribute("default-marker-size")!=="0"){var Jr=parseInt(Qr.getAttribute("index"),10);Kr===void 0&&(Kr=Zr.globals.markers.size[Jr]+Zr.config.markers.hover.sizeOffset),Kr<0&&(Kr=0);var en=this.ttCtx.tooltipUtil.getPathFromPoint(Yr,Kr);Yr.setAttribute("d",en)}}},{key:"oldPointSize",value:function(Gr){var Yr=parseFloat(Gr.getAttribute("default-marker-size")),Zr=this.ttCtx.tooltipUtil.getPathFromPoint(Gr,Yr);Gr.setAttribute("d",Zr)}},{key:"resetPointsSize",value:function(){for(var Gr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),Yr=0;Yr<Gr.length;Yr++){var Zr=parseFloat(Gr[Yr].getAttribute("default-marker-size"));if(v.isNumber(Zr)&&Zr>0){var Kr=this.ttCtx.tooltipUtil.getPathFromPoint(Gr[Yr],Zr);Gr[Yr].setAttribute("d",Kr)}else Gr[Yr].setAttribute("d","M0,0")}}}]),Wr}(),Aa=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w;var Yr=this.w;this.ttCtx=Gr,this.isVerticalGroupedRangeBar=!Yr.globals.isBarHorizontal&&Yr.config.chart.type==="rangeBar"&&Yr.config.plotOptions.bar.rangeBarGroupRows}return s(Wr,[{key:"getAttr",value:function(Gr,Yr){return parseFloat(Gr.target.getAttribute(Yr))}},{key:"handleHeatTreeTooltip",value:function(Gr){var Yr=Gr.e,Zr=Gr.opt,Kr=Gr.x,Qr=Gr.y,Jr=Gr.type,en=this.ttCtx,tn=this.w;if(Yr.target.classList.contains("apexcharts-".concat(Jr,"-rect"))){var rn=this.getAttr(Yr,"i"),an=this.getAttr(Yr,"j"),nn=this.getAttr(Yr,"cx"),sn=this.getAttr(Yr,"cy"),ln=this.getAttr(Yr,"width"),un=this.getAttr(Yr,"height");if(en.tooltipLabels.drawSeriesTexts({ttItems:Zr.ttItems,i:rn,j:an,shared:!1,e:Yr}),tn.globals.capturedSeriesIndex=rn,tn.globals.capturedDataPointIndex=an,Kr=nn+en.tooltipRect.ttWidth/2+ln,Qr=sn+en.tooltipRect.ttHeight/2-un/2,en.tooltipPosition.moveXCrosshairs(nn+ln/2),Kr>tn.globals.gridWidth/2&&(Kr=nn-en.tooltipRect.ttWidth/2+ln),en.w.config.tooltip.followCursor){var cn=tn.globals.dom.elWrap.getBoundingClientRect();Kr=tn.globals.clientX-cn.left-(Kr>tn.globals.gridWidth/2?en.tooltipRect.ttWidth:0),Qr=tn.globals.clientY-cn.top-(Qr>tn.globals.gridHeight/2?en.tooltipRect.ttHeight:0)}}return{x:Kr,y:Qr}}},{key:"handleMarkerTooltip",value:function(Gr){var Yr,Zr,Kr=Gr.e,Qr=Gr.opt,Jr=Gr.x,en=Gr.y,tn=this.w,rn=this.ttCtx;if(Kr.target.classList.contains("apexcharts-marker")){var an=parseInt(Qr.paths.getAttribute("cx"),10),nn=parseInt(Qr.paths.getAttribute("cy"),10),sn=parseFloat(Qr.paths.getAttribute("val"));if(Zr=parseInt(Qr.paths.getAttribute("rel"),10),Yr=parseInt(Qr.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,rn.intersect){var ln=v.findAncestor(Qr.paths,"apexcharts-series");ln&&(Yr=parseInt(ln.getAttribute("data:realIndex"),10))}if(rn.tooltipLabels.drawSeriesTexts({ttItems:Qr.ttItems,i:Yr,j:Zr,shared:!rn.showOnIntersect&&tn.config.tooltip.shared,e:Kr}),Kr.type==="mouseup"&&rn.markerClick(Kr,Yr,Zr),tn.globals.capturedSeriesIndex=Yr,tn.globals.capturedDataPointIndex=Zr,Jr=an,en=nn+tn.globals.translateY-1.4*rn.tooltipRect.ttHeight,rn.w.config.tooltip.followCursor){var un=rn.getElGrid().getBoundingClientRect();en=rn.e.clientY+tn.globals.translateY-un.top}sn<0&&(en=nn),rn.marker.enlargeCurrentPoint(Zr,Qr.paths,Jr,en)}return{x:Jr,y:en}}},{key:"handleBarTooltip",value:function(Gr){var Yr,Zr,Kr=Gr.e,Qr=Gr.opt,Jr=this.w,en=this.ttCtx,tn=en.getElTooltip(),rn=0,an=0,nn=0,sn=this.getBarTooltipXY({e:Kr,opt:Qr});if(sn.j!==null||sn.barHeight!==0||sn.barWidth!==0){Yr=sn.i;var ln=sn.j;if(Jr.globals.capturedSeriesIndex=Yr,Jr.globals.capturedDataPointIndex=ln,Jr.globals.isBarHorizontal&&en.tooltipUtil.hasBars()||!Jr.config.tooltip.shared?(an=sn.x,nn=sn.y,Zr=Array.isArray(Jr.config.stroke.width)?Jr.config.stroke.width[Yr]:Jr.config.stroke.width,rn=an):Jr.globals.comboCharts||Jr.config.tooltip.shared||(rn/=2),isNaN(nn)&&(nn=Jr.globals.svgHeight-en.tooltipRect.ttHeight),parseInt(Qr.paths.parentNode.getAttribute("data:realIndex"),10),an+en.tooltipRect.ttWidth>Jr.globals.gridWidth?an-=en.tooltipRect.ttWidth:an<0&&(an=0),en.w.config.tooltip.followCursor){var un=en.getElGrid().getBoundingClientRect();nn=en.e.clientY-un.top}en.tooltip===null&&(en.tooltip=Jr.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),Jr.config.tooltip.shared||(Jr.globals.comboBarCount>0?en.tooltipPosition.moveXCrosshairs(rn+Zr/2):en.tooltipPosition.moveXCrosshairs(rn)),!en.fixedTooltip&&(!Jr.config.tooltip.shared||Jr.globals.isBarHorizontal&&en.tooltipUtil.hasBars())&&(nn=nn+Jr.globals.translateY-en.tooltipRect.ttHeight/2,tn.style.left=an+Jr.globals.translateX+"px",tn.style.top=nn+"px")}}},{key:"getBarTooltipXY",value:function(Gr){var Yr=this,Zr=Gr.e,Kr=Gr.opt,Qr=this.w,Jr=null,en=this.ttCtx,tn=0,rn=0,an=0,nn=0,sn=0,ln=Zr.target.classList;if(ln.contains("apexcharts-bar-area")||ln.contains("apexcharts-candlestick-area")||ln.contains("apexcharts-boxPlot-area")||ln.contains("apexcharts-rangebar-area")){var un=Zr.target,cn=un.getBoundingClientRect(),hn=Kr.elGrid.getBoundingClientRect(),dn=cn.height;sn=cn.height;var fn=cn.width,pn=parseInt(un.getAttribute("cx"),10),gn=parseInt(un.getAttribute("cy"),10);nn=parseFloat(un.getAttribute("barWidth"));var vn=Zr.type==="touchmove"?Zr.touches[0].clientX:Zr.clientX;Jr=parseInt(un.getAttribute("j"),10),tn=parseInt(un.parentNode.getAttribute("rel"),10)-1;var mn=un.getAttribute("data-range-y1"),yn=un.getAttribute("data-range-y2");Qr.globals.comboCharts&&(tn=parseInt(un.parentNode.getAttribute("data:realIndex"),10));var xn=function(Sn){return Qr.globals.isXNumeric?pn-fn/2:Yr.isVerticalGroupedRangeBar?pn+fn/2:pn-en.dataPointsDividedWidth+fn/2},bn=function(){return gn-en.dataPointsDividedHeight+dn/2-en.tooltipRect.ttHeight/2};en.tooltipLabels.drawSeriesTexts({ttItems:Kr.ttItems,i:tn,j:Jr,y1:mn?parseInt(mn,10):null,y2:yn?parseInt(yn,10):null,shared:!en.showOnIntersect&&Qr.config.tooltip.shared,e:Zr}),Qr.config.tooltip.followCursor?Qr.globals.isBarHorizontal?(rn=vn-hn.left+15,an=bn()):(rn=xn(),an=Zr.clientY-hn.top-en.tooltipRect.ttHeight/2-15):Qr.globals.isBarHorizontal?((rn=pn)<en.xyRatios.baseLineInvertedY&&(rn=pn-en.tooltipRect.ttWidth),an=bn()):(rn=xn(),an=gn)}return{x:rn,y:an,barHeight:sn,barWidth:nn,i:tn,j:Jr}}}]),Wr}(),Ca=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.ttCtx=Gr}return s(Wr,[{key:"drawXaxisTooltip",value:function(){var Gr=this.w,Yr=this.ttCtx,Zr=Gr.config.xaxis.position==="bottom";Yr.xaxisOffY=Zr?Gr.globals.gridHeight+1:-Gr.globals.xAxisHeight-Gr.config.xaxis.axisTicks.height+3;var Kr=Zr?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",Qr=Gr.globals.dom.elWrap;Yr.isXAxisTooltipEnabled&&Gr.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(Yr.xaxisTooltip=document.createElement("div"),Yr.xaxisTooltip.setAttribute("class",Kr+" apexcharts-theme-"+Gr.config.tooltip.theme),Qr.appendChild(Yr.xaxisTooltip),Yr.xaxisTooltipText=document.createElement("div"),Yr.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),Yr.xaxisTooltipText.style.fontFamily=Gr.config.xaxis.tooltip.style.fontFamily||Gr.config.chart.fontFamily,Yr.xaxisTooltipText.style.fontSize=Gr.config.xaxis.tooltip.style.fontSize,Yr.xaxisTooltip.appendChild(Yr.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var Gr=this.w,Yr=this.ttCtx,Zr=0;Zr<Gr.config.yaxis.length;Zr++){var Kr=Gr.config.yaxis[Zr].opposite||Gr.config.yaxis[Zr].crosshairs.opposite;Yr.yaxisOffX=Kr?Gr.globals.gridWidth+1:1;var Qr="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(Zr,Kr?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),Jr=Gr.globals.dom.elWrap;Gr.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(Zr))===null&&(Yr.yaxisTooltip=document.createElement("div"),Yr.yaxisTooltip.setAttribute("class",Qr+" apexcharts-theme-"+Gr.config.tooltip.theme),Jr.appendChild(Yr.yaxisTooltip),Zr===0&&(Yr.yaxisTooltipText=[]),Yr.yaxisTooltipText[Zr]=document.createElement("div"),Yr.yaxisTooltipText[Zr].classList.add("apexcharts-yaxistooltip-text"),Yr.yaxisTooltip.appendChild(Yr.yaxisTooltipText[Zr]))}}},{key:"setXCrosshairWidth",value:function(){var Gr=this.w,Yr=this.ttCtx,Zr=Yr.getElXCrosshairs();if(Yr.xcrosshairsWidth=parseInt(Gr.config.xaxis.crosshairs.width,10),Gr.globals.comboCharts){var Kr=Gr.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(Kr!==null&&Gr.config.xaxis.crosshairs.width==="barWidth"){var Qr=parseFloat(Kr.getAttribute("barWidth"));Yr.xcrosshairsWidth=Qr}else if(Gr.config.xaxis.crosshairs.width==="tickWidth"){var Jr=Gr.globals.labels.length;Yr.xcrosshairsWidth=Gr.globals.gridWidth/Jr}}else if(Gr.config.xaxis.crosshairs.width==="tickWidth"){var en=Gr.globals.labels.length;Yr.xcrosshairsWidth=Gr.globals.gridWidth/en}else if(Gr.config.xaxis.crosshairs.width==="barWidth"){var tn=Gr.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(tn!==null){var rn=parseFloat(tn.getAttribute("barWidth"));Yr.xcrosshairsWidth=rn}else Yr.xcrosshairsWidth=1}Gr.globals.isBarHorizontal&&(Yr.xcrosshairsWidth=0),Zr!==null&&Yr.xcrosshairsWidth>0&&Zr.setAttribute("width",Yr.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var Gr=this.w,Yr=this.ttCtx;Yr.ycrosshairs=Gr.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),Yr.ycrosshairsHidden=Gr.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(Gr,Yr,Zr){var Kr=this.ttCtx,Qr=this.w,Jr=Qr.globals,en=Jr.seriesYAxisMap[Gr];if(Kr.yaxisTooltips[Gr]&&en.length>0){var tn=Jr.yLabelFormatters[Gr],rn=Kr.getElGrid().getBoundingClientRect(),an=en[0],nn=0;Zr.yRatio.length>1&&(nn=an);var sn=(Yr-rn.top)*Zr.yRatio[nn],ln=Jr.maxYArr[an]-Jr.minYArr[an],un=Jr.minYArr[an]+(ln-sn);Qr.config.yaxis[Gr].reversed&&(un=Jr.maxYArr[an]-(ln-sn)),Kr.tooltipPosition.moveYCrosshairs(Yr-rn.top),Kr.yaxisTooltipText[Gr].innerHTML=tn(un),Kr.tooltipPosition.moveYAxisTooltip(Gr)}}}]),Wr}(),Sa=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w;var Yr=this.w;this.tConfig=Yr.config.tooltip,this.tooltipUtil=new va(this),this.tooltipLabels=new ya(this),this.tooltipPosition=new wa(this),this.marker=new ka(this),this.intersect=new Aa(this),this.axesTooltip=new Ca(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!Yr.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return s(Wr,[{key:"getElTooltip",value:function(Gr){return Gr||(Gr=this),Gr.w.globals.dom.baseEl?Gr.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(Gr){var Yr=this.w;this.xyRatios=Gr,this.isXAxisTooltipEnabled=Yr.config.xaxis.tooltip.enabled&&Yr.globals.axisCharts,this.yaxisTooltips=Yr.config.yaxis.map(function(Jr,en){return!!(Jr.show&&Jr.tooltip.enabled&&Yr.globals.axisCharts)}),this.allTooltipSeriesGroups=[],Yr.globals.axisCharts||(this.showTooltipTitle=!1);var Zr=document.createElement("div");if(Zr.classList.add("apexcharts-tooltip"),Yr.config.tooltip.cssClass&&Zr.classList.add(Yr.config.tooltip.cssClass),Zr.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),Yr.globals.dom.elWrap.appendChild(Zr),Yr.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var Kr=new Qi(this.ctx);this.xAxisTicksPositions=Kr.getXAxisTicksPositions()}if(!Yr.globals.comboCharts&&!this.tConfig.intersect&&Yr.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),Yr.config.markers.size!==0&&Yr.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),Yr.globals.collapsedSeries.length!==Yr.globals.series.length){this.dataPointsDividedHeight=Yr.globals.gridHeight/Yr.globals.dataPoints,this.dataPointsDividedWidth=Yr.globals.gridWidth/Yr.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||Yr.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,Zr.appendChild(this.tooltipTitle));var Qr=Yr.globals.series.length;(Yr.globals.xyCharts||Yr.globals.comboCharts)&&this.tConfig.shared&&(Qr=this.showOnIntersect?1:Yr.globals.series.length),this.legendLabels=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(Qr),this.addSVGEvents()}}},{key:"createTTElements",value:function(Gr){for(var Yr=this,Zr=this.w,Kr=[],Qr=this.getElTooltip(),Jr=function(tn){var rn=document.createElement("div");rn.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(tn)),rn.style.order=Zr.config.tooltip.inverseOrder?Gr-tn:tn+1;var an=document.createElement("span");an.classList.add("apexcharts-tooltip-marker"),an.style.color=Zr.globals.colors[tn];var nn=Zr.config.markers.shape,sn=nn;Array.isArray(nn)&&(sn=nn[tn]),an.setAttribute("shape",sn),rn.appendChild(an);var ln=document.createElement("div");ln.classList.add("apexcharts-tooltip-text"),ln.style.fontFamily=Yr.tConfig.style.fontFamily||Zr.config.chart.fontFamily,ln.style.fontSize=Yr.tConfig.style.fontSize,["y","goals","z"].forEach(function(un){var cn=document.createElement("div");cn.classList.add("apexcharts-tooltip-".concat(un,"-group"));var hn=document.createElement("span");hn.classList.add("apexcharts-tooltip-text-".concat(un,"-label")),cn.appendChild(hn);var dn=document.createElement("span");dn.classList.add("apexcharts-tooltip-text-".concat(un,"-value")),cn.appendChild(dn),ln.appendChild(cn)}),rn.appendChild(ln),Qr.appendChild(rn),Kr.push(rn)},en=0;en<Gr;en++)Jr(en);return Kr}},{key:"addSVGEvents",value:function(){var Gr=this.w,Yr=Gr.config.chart.type,Zr=this.getElTooltip(),Kr=!(Yr!=="bar"&&Yr!=="candlestick"&&Yr!=="boxPlot"&&Yr!=="rangeBar"),Qr=Yr==="area"||Yr==="line"||Yr==="scatter"||Yr==="bubble"||Yr==="radar",Jr=Gr.globals.dom.Paper.node,en=this.getElGrid();en&&(this.seriesBound=en.getBoundingClientRect());var tn,rn=[],an=[],nn={hoverArea:Jr,elGrid:en,tooltipEl:Zr,tooltipY:rn,tooltipX:an,ttItems:this.ttItems};if(Gr.globals.axisCharts&&(Qr?tn=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):Kr?tn=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):Yr!=="heatmap"&&Yr!=="treemap"||(tn=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),tn&&tn.length))for(var sn=0;sn<tn.length;sn++)rn.push(tn[sn].getAttribute("cy")),an.push(tn[sn].getAttribute("cx"));if(Gr.globals.xyCharts&&!this.showOnIntersect||Gr.globals.comboCharts&&!this.showOnIntersect||Kr&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([Jr],nn);else if(Kr&&!Gr.globals.comboCharts||Qr&&this.showOnIntersect)this.addDatapointEventsListeners(nn);else if(!Gr.globals.axisCharts||Yr==="heatmap"||Yr==="treemap"){var ln=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(ln,nn)}if(this.showOnIntersect){var un=Gr.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");un.length>0&&this.addPathsEventListeners(un,nn),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(nn)}}},{key:"drawFixedTooltipRect",value:function(){var Gr=this.w,Yr=this.getElTooltip(),Zr=Yr.getBoundingClientRect(),Kr=Zr.width+10,Qr=Zr.height+10,Jr=this.tConfig.fixed.offsetX,en=this.tConfig.fixed.offsetY,tn=this.tConfig.fixed.position.toLowerCase();return tn.indexOf("right")>-1&&(Jr=Jr+Gr.globals.svgWidth-Kr+10),tn.indexOf("bottom")>-1&&(en=en+Gr.globals.svgHeight-Qr-10),Yr.style.left=Jr+"px",Yr.style.top=en+"px",{x:Jr,y:en,ttWidth:Kr,ttHeight:Qr}}},{key:"addDatapointEventsListeners",value:function(Gr){var Yr=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(Yr,Gr)}},{key:"addPathsEventListeners",value:function(Gr,Yr){for(var Zr=this,Kr=function(Jr){var en={paths:Gr[Jr],tooltipEl:Yr.tooltipEl,tooltipY:Yr.tooltipY,tooltipX:Yr.tooltipX,elGrid:Yr.elGrid,hoverArea:Yr.hoverArea,ttItems:Yr.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(tn){return Gr[Jr].addEventListener(tn,Zr.onSeriesHover.bind(Zr,en),{capture:!1,passive:!0})})},Qr=0;Qr<Gr.length;Qr++)Kr(Qr)}},{key:"onSeriesHover",value:function(Gr,Yr){var Zr=this,Kr=Date.now()-this.lastHoverTime;Kr>=20?this.seriesHover(Gr,Yr):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){Zr.seriesHover(Gr,Yr)},20-Kr))}},{key:"seriesHover",value:function(Gr,Yr){var Zr=this;this.lastHoverTime=Date.now();var Kr=[],Qr=this.w;Qr.config.chart.group&&(Kr=this.ctx.getGroupedCharts()),Qr.globals.axisCharts&&(Qr.globals.minX===-1/0&&Qr.globals.maxX===1/0||Qr.globals.dataPoints===0)||(Kr.length?Kr.forEach(function(Jr){var en=Zr.getElTooltip(Jr),tn={paths:Gr.paths,tooltipEl:en,tooltipY:Gr.tooltipY,tooltipX:Gr.tooltipX,elGrid:Gr.elGrid,hoverArea:Gr.hoverArea,ttItems:Jr.w.globals.tooltip.ttItems};Jr.w.globals.minX===Zr.w.globals.minX&&Jr.w.globals.maxX===Zr.w.globals.maxX&&Jr.w.globals.tooltip.seriesHoverByContext({chartCtx:Jr,ttCtx:Jr.w.globals.tooltip,opt:tn,e:Yr})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:Gr,e:Yr}))}},{key:"seriesHoverByContext",value:function(Gr){var Yr=Gr.chartCtx,Zr=Gr.ttCtx,Kr=Gr.opt,Qr=Gr.e,Jr=Yr.w,en=this.getElTooltip(Yr);en&&(Zr.tooltipRect={x:0,y:0,ttWidth:en.getBoundingClientRect().width,ttHeight:en.getBoundingClientRect().height},Zr.e=Qr,Zr.tooltipUtil.hasBars()&&!Jr.globals.comboCharts&&!Zr.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Zi(Yr).toggleSeriesOnHover(Qr,Qr.target.parentNode),Zr.fixedTooltip&&Zr.drawFixedTooltipRect(),Jr.globals.axisCharts?Zr.axisChartsTooltips({e:Qr,opt:Kr,tooltipRect:Zr.tooltipRect}):Zr.nonAxisChartsTooltips({e:Qr,opt:Kr,tooltipRect:Zr.tooltipRect}))}},{key:"axisChartsTooltips",value:function(Gr){var Yr,Zr,Kr=Gr.e,Qr=Gr.opt,Jr=this.w,en=Qr.elGrid.getBoundingClientRect(),tn=Kr.type==="touchmove"?Kr.touches[0].clientX:Kr.clientX,rn=Kr.type==="touchmove"?Kr.touches[0].clientY:Kr.clientY;if(this.clientY=rn,this.clientX=tn,Jr.globals.capturedSeriesIndex=-1,Jr.globals.capturedDataPointIndex=-1,rn<en.top||rn>en.top+en.height)this.handleMouseOut(Qr);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!Jr.config.tooltip.shared){var an=parseInt(Qr.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(an)<0)return void this.handleMouseOut(Qr)}var nn=this.getElTooltip(),sn=this.getElXCrosshairs(),ln=[];Jr.config.chart.group&&(ln=this.ctx.getSyncedCharts());var un=Jr.globals.xyCharts||Jr.config.chart.type==="bar"&&!Jr.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||Jr.globals.comboCharts&&this.tooltipUtil.hasBars();if(Kr.type==="mousemove"||Kr.type==="touchmove"||Kr.type==="mouseup"){if(Jr.globals.collapsedSeries.length+Jr.globals.ancillaryCollapsedSeries.length===Jr.globals.series.length)return;sn!==null&&sn.classList.add("apexcharts-active");var cn=this.yaxisTooltips.filter(function(fn){return fn===!0});if(this.ycrosshairs!==null&&cn.length&&this.ycrosshairs.classList.add("apexcharts-active"),un&&!this.showOnIntersect||ln.length>1)this.handleStickyTooltip(Kr,tn,rn,Qr);else if(Jr.config.chart.type==="heatmap"||Jr.config.chart.type==="treemap"){var hn=this.intersect.handleHeatTreeTooltip({e:Kr,opt:Qr,x:Yr,y:Zr,type:Jr.config.chart.type});Yr=hn.x,Zr=hn.y,nn.style.left=Yr+"px",nn.style.top=Zr+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:Kr,opt:Qr}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:Kr,opt:Qr,x:Yr,y:Zr});if(this.yaxisTooltips.length)for(var dn=0;dn<Jr.config.yaxis.length;dn++)this.axesTooltip.drawYaxisTooltipText(dn,rn,this.xyRatios);Jr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),Qr.tooltipEl.classList.add("apexcharts-active")}else Kr.type!=="mouseout"&&Kr.type!=="touchend"||this.handleMouseOut(Qr)}}},{key:"nonAxisChartsTooltips",value:function(Gr){var Yr=Gr.e,Zr=Gr.opt,Kr=Gr.tooltipRect,Qr=this.w,Jr=Zr.paths.getAttribute("rel"),en=this.getElTooltip(),tn=Qr.globals.dom.elWrap.getBoundingClientRect();if(Yr.type==="mousemove"||Yr.type==="touchmove"){Qr.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),en.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:Zr.ttItems,i:parseInt(Jr,10)-1,shared:!1});var rn=Qr.globals.clientX-tn.left-Kr.ttWidth/2,an=Qr.globals.clientY-tn.top-Kr.ttHeight-10;if(en.style.left=rn+"px",en.style.top=an+"px",Qr.config.legend.tooltipHoverFormatter){var nn=Jr-1,sn=(0,Qr.config.legend.tooltipHoverFormatter)(this.legendLabels[nn].getAttribute("data:default-text"),{seriesIndex:nn,dataPointIndex:nn,w:Qr});this.legendLabels[nn].innerHTML=sn}}else Yr.type!=="mouseout"&&Yr.type!=="touchend"||(en.classList.remove("apexcharts-active"),Qr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),Qr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(ln){var un=ln.getAttribute("data:default-text");ln.innerHTML=decodeURIComponent(un)}))}},{key:"handleStickyTooltip",value:function(Gr,Yr,Zr,Kr){var Qr=this.w,Jr=this.tooltipUtil.getNearestValues({context:this,hoverArea:Kr.hoverArea,elGrid:Kr.elGrid,clientX:Yr,clientY:Zr}),en=Jr.j,tn=Jr.capturedSeries;Qr.globals.collapsedSeriesIndices.includes(tn)&&(tn=null);var rn=Kr.elGrid.getBoundingClientRect();if(Jr.hoverX<0||Jr.hoverX>rn.width)this.handleMouseOut(Kr);else if(tn!==null)this.handleStickyCapturedSeries(Gr,tn,Kr,en);else if(this.tooltipUtil.isXoverlap(en)||Qr.globals.isBarHorizontal){var an=Qr.globals.series.findIndex(function(nn,sn){return!Qr.globals.collapsedSeriesIndices.includes(sn)});this.create(Gr,this,an,en,Kr.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(Gr,Yr,Zr,Kr){var Qr=this.w;if(!this.tConfig.shared&&Qr.globals.series[Yr][Kr]===null)return void this.handleMouseOut(Zr);if(Qr.globals.series[Yr][Kr]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(Kr)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(Gr,this,Yr,Kr,Zr.ttItems):this.create(Gr,this,Yr,Kr,Zr.ttItems,!1);else if(this.tooltipUtil.isXoverlap(Kr)){var Jr=Qr.globals.series.findIndex(function(en,tn){return!Qr.globals.collapsedSeriesIndices.includes(tn)});this.create(Gr,this,Jr,Kr,Zr.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var Gr=this.w,Yr=new Mi(this.ctx),Zr=Gr.globals.dom.Paper.find(".apexcharts-bar-area"),Kr=0;Kr<Zr.length;Kr++)Yr.pathMouseLeave(Zr[Kr])}},{key:"handleMouseOut",value:function(Gr){var Yr=this.w,Zr=this.getElXCrosshairs();if(Yr.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),Gr.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),Yr.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),Zr!==null&&Zr.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=Yr.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var Kr=0;Kr<this.yaxisTTEls.length;Kr++)this.yaxisTTEls[Kr].classList.remove("apexcharts-active")}Yr.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(Qr){var Jr=Qr.getAttribute("data:default-text");Qr.innerHTML=decodeURIComponent(Jr)})}},{key:"markerClick",value:function(Gr,Yr,Zr){var Kr=this.w;typeof Kr.config.chart.events.markerClick=="function"&&Kr.config.chart.events.markerClick(Gr,this.ctx,{seriesIndex:Yr,dataPointIndex:Zr,w:Kr}),this.ctx.events.fireEvent("markerClick",[Gr,this.ctx,{seriesIndex:Yr,dataPointIndex:Zr,w:Kr}])}},{key:"create",value:function(Gr,Yr,Zr,Kr,Qr){var Jr,en,tn,rn,an,nn,sn,ln,un,cn,hn,dn,fn,pn,gn,vn,mn=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,yn=this.w,xn=Yr;Gr.type==="mouseup"&&this.markerClick(Gr,Zr,Kr),mn===null&&(mn=this.tConfig.shared);var bn=this.tooltipUtil.hasMarkers(Zr),Sn=this.tooltipUtil.getElBars(),wn=function(){yn.globals.markers.largestSize>0?xn.marker.enlargePoints(Kr):xn.tooltipPosition.moveDynamicPointsOnHover(Kr)};if(yn.config.legend.tooltipHoverFormatter){var _n=yn.config.legend.tooltipHoverFormatter,An=Array.from(this.legendLabels);An.forEach(function(Nn){var Rn=Nn.getAttribute("data:default-text");Nn.innerHTML=decodeURIComponent(Rn)});for(var Cn=0;Cn<An.length;Cn++){var Tn=An[Cn],Mn=parseInt(Tn.getAttribute("i"),10),En=decodeURIComponent(Tn.getAttribute("data:default-text")),Ln=_n(En,{seriesIndex:mn?Mn:Zr,dataPointIndex:Kr,w:yn});if(mn)Tn.innerHTML=yn.globals.collapsedSeriesIndices.indexOf(Mn)<0?Ln:En;else if(Tn.innerHTML=Mn===Zr?Ln:En,Zr===Mn)break}}var In=u(u({ttItems:Qr,i:Zr,j:Kr},((Jr=yn.globals.seriesRange)===null||Jr===void 0||(en=Jr[Zr])===null||en===void 0||(tn=en[Kr])===null||tn===void 0||(rn=tn.y[0])===null||rn===void 0?void 0:rn.y1)!==void 0&&{y1:(an=yn.globals.seriesRange)===null||an===void 0||(nn=an[Zr])===null||nn===void 0||(sn=nn[Kr])===null||sn===void 0||(ln=sn.y[0])===null||ln===void 0?void 0:ln.y1}),((un=yn.globals.seriesRange)===null||un===void 0||(cn=un[Zr])===null||cn===void 0||(hn=cn[Kr])===null||hn===void 0||(dn=hn.y[0])===null||dn===void 0?void 0:dn.y2)!==void 0&&{y2:(fn=yn.globals.seriesRange)===null||fn===void 0||(pn=fn[Zr])===null||pn===void 0||(gn=pn[Kr])===null||gn===void 0||(vn=gn.y[0])===null||vn===void 0?void 0:vn.y2});if(mn){if(xn.tooltipLabels.drawSeriesTexts(u(u({},In),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),bn)wn();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Sn),this.barSeriesHeight>0)){var Pn=new Mi(this.ctx),Dn=yn.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(Kr,"']"));this.deactivateHoverFilter(),xn.tooltipPosition.moveStickyTooltipOverBars(Kr,Zr),xn.tooltipUtil.getAllMarkers(!0).length&&wn();for(var kn=0;kn<Dn.length;kn++)Pn.pathMouseEnter(Dn[kn])}}else xn.tooltipLabels.drawSeriesTexts(u({shared:!1},In)),this.tooltipUtil.hasBars()&&xn.tooltipPosition.moveStickyTooltipOverBars(Kr,Zr),bn&&xn.tooltipPosition.moveMarkers(Zr,Kr)}}]),Wr}(),La=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.barCtx=Gr,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return s(Wr,[{key:"handleBarDataLabels",value:function(Gr){var Yr,Zr,Kr=Gr.x,Qr=Gr.y,Jr=Gr.y1,en=Gr.y2,tn=Gr.i,rn=Gr.j,an=Gr.realIndex,nn=Gr.columnGroupIndex,sn=Gr.series,ln=Gr.barHeight,un=Gr.barWidth,cn=Gr.barXPosition,hn=Gr.barYPosition,dn=Gr.visibleSeries,fn=Gr.renderedPath,pn=this.w,gn=new Mi(this.barCtx.ctx),vn=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[an]:this.barCtx.strokeWidth;pn.globals.isXNumeric&&!pn.globals.isBarHorizontal?(Yr=Kr+parseFloat(un*(dn+1)),Zr=Qr+parseFloat(ln*(dn+1))-vn):(Yr=Kr+parseFloat(un*dn),Zr=Qr+parseFloat(ln*dn));var mn,yn=null,xn=Kr,bn=Qr,Sn={},wn=pn.config.dataLabels,_n=this.barCtx.barOptions.dataLabels,An=this.barCtx.barOptions.dataLabels.total;hn!==void 0&&this.barCtx.isRangeBar&&(Zr=hn,bn=hn),cn!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(Yr=cn,xn=cn);var Cn=wn.offsetX,Tn=wn.offsetY,Mn={width:0,height:0};if(pn.config.dataLabels.enabled){var En=pn.globals.series[tn][rn];Mn=gn.getTextRects(pn.config.dataLabels.formatter?pn.config.dataLabels.formatter(En,u(u({},pn),{},{seriesIndex:tn,dataPointIndex:rn,w:pn})):pn.globals.yLabelFormatters[0](En),parseFloat(wn.style.fontSize))}var Ln={x:Kr,y:Qr,i:tn,j:rn,realIndex:an,columnGroupIndex:nn,renderedPath:fn,bcx:Yr,bcy:Zr,barHeight:ln,barWidth:un,textRects:Mn,strokeWidth:vn,dataLabelsX:xn,dataLabelsY:bn,dataLabelsConfig:wn,barDataLabelsConfig:_n,barTotalDataLabelsConfig:An,offX:Cn,offY:Tn};return Sn=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Ln):this.calculateColumnsDataLabelsPosition(Ln),fn.attr({cy:Sn.bcy,cx:Sn.bcx,j:rn,val:pn.globals.series[tn][rn],barHeight:ln,barWidth:un}),mn=this.drawCalculatedDataLabels({x:Sn.dataLabelsX,y:Sn.dataLabelsY,val:this.barCtx.isRangeBar?[Jr,en]:pn.config.chart.stackType==="100%"?sn[an][rn]:pn.globals.series[an][rn],i:an,j:rn,barWidth:un,barHeight:ln,textRects:Mn,dataLabelsConfig:wn}),pn.config.chart.stacked&&An.enabled&&(yn=this.drawTotalDataLabels({x:Sn.totalDataLabelsX,y:Sn.totalDataLabelsY,barWidth:un,barHeight:ln,realIndex:an,textAnchor:Sn.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:an,j:rn}),dataLabelsConfig:wn,barTotalDataLabelsConfig:An})),{dataLabels:mn,totalDataLabels:yn}}},{key:"getStackedTotalDataLabel",value:function(Gr){var Yr=Gr.realIndex,Zr=Gr.j,Kr=this.w,Qr=this.barCtx.stackedSeriesTotals[Zr];return this.totalFormatter&&(Qr=this.totalFormatter(Qr,u(u({},Kr),{},{seriesIndex:Yr,dataPointIndex:Zr,w:Kr}))),Qr}},{key:"calculateColumnsDataLabelsPosition",value:function(Gr){var Yr=this,Zr=this.w,Kr=Gr.i,Qr=Gr.j,Jr=Gr.realIndex;Gr.columnGroupIndex;var en,tn,rn=Gr.y,an=Gr.bcx,nn=Gr.barWidth,sn=Gr.barHeight,ln=Gr.textRects,un=Gr.dataLabelsX,cn=Gr.dataLabelsY,hn=Gr.dataLabelsConfig,dn=Gr.barDataLabelsConfig,fn=Gr.barTotalDataLabelsConfig,pn=Gr.strokeWidth,gn=Gr.offX,vn=Gr.offY,mn=an;sn=Math.abs(sn);var yn=Zr.config.plotOptions.bar.dataLabels.orientation==="vertical",xn=this.barCtx.barHelpers.getZeroValueEncounters({i:Kr,j:Qr}).zeroEncounters;an-=pn/2;var bn=Zr.globals.gridWidth/Zr.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?un+=nn/2:(un=Zr.globals.isXNumeric?an-nn/2+gn:an-bn+nn/2+gn,xn>0&&Zr.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(un-=nn*xn)),yn&&(un=un+ln.height/2-pn/2-2);var Sn=Zr.globals.series[Kr][Qr]<0,wn=rn;switch(this.barCtx.isReversed&&(wn=rn+(Sn?sn:-sn)),dn.position){case"center":cn=yn?Sn?wn-sn/2+vn:wn+sn/2-vn:Sn?wn-sn/2+ln.height/2+vn:wn+sn/2+ln.height/2-vn;break;case"bottom":cn=yn?Sn?wn-sn+vn:wn+sn-vn:Sn?wn-sn+ln.height+pn+vn:wn+sn-ln.height/2+pn-vn;break;case"top":cn=yn?Sn?wn+vn:wn-vn:Sn?wn-ln.height/2-vn:wn+ln.height+vn}var _n=wn;if(Zr.globals.seriesGroups.forEach(function(Tn){var Mn;(Mn=Yr.barCtx[Tn.join(",")])===null||Mn===void 0||Mn.prevY.forEach(function(En){_n=Sn?Math.max(En[Qr],_n):Math.min(En[Qr],_n)})}),this.barCtx.lastActiveBarSerieIndex===Jr&&fn.enabled){var An=new Mi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:Jr,j:Qr}),hn.fontSize);en=Sn?_n-An.height/2-vn-fn.offsetY+18:_n+An.height+vn+fn.offsetY-18;var Cn=bn;tn=mn+(Zr.globals.isXNumeric?-nn*Zr.globals.barGroups.length/2:Zr.globals.barGroups.length*nn/2-(Zr.globals.barGroups.length-1)*nn-Cn)+fn.offsetX}return Zr.config.chart.stacked||(cn<0?cn=0+pn:cn+ln.height/3>Zr.globals.gridHeight&&(cn=Zr.globals.gridHeight-pn)),{bcx:an,bcy:rn,dataLabelsX:un,dataLabelsY:cn,totalDataLabelsX:tn,totalDataLabelsY:en,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(Gr){var Yr=this,Zr=this.w,Kr=Gr.x,Qr=Gr.i,Jr=Gr.j,en=Gr.realIndex,tn=Gr.bcy,rn=Gr.barHeight,an=Gr.barWidth,nn=Gr.textRects,sn=Gr.dataLabelsX,ln=Gr.strokeWidth,un=Gr.dataLabelsConfig,cn=Gr.barDataLabelsConfig,hn=Gr.barTotalDataLabelsConfig,dn=Gr.offX,fn=Gr.offY,pn=Zr.globals.gridHeight/Zr.globals.dataPoints;an=Math.abs(an);var gn,vn,mn=tn-(this.barCtx.isRangeBar?0:pn)+rn/2+nn.height/2+fn-3,yn="start",xn=Zr.globals.series[Qr][Jr]<0,bn=Kr;switch(this.barCtx.isReversed&&(bn=Kr+(xn?-an:an),yn=xn?"start":"end"),cn.position){case"center":sn=xn?bn+an/2-dn:Math.max(nn.width/2,bn-an/2)+dn;break;case"bottom":sn=xn?bn+an-ln-dn:bn-an+ln+dn;break;case"top":sn=xn?bn-ln-dn:bn-ln+dn}var Sn=bn;if(Zr.globals.seriesGroups.forEach(function(_n){var An;(An=Yr.barCtx[_n.join(",")])===null||An===void 0||An.prevX.forEach(function(Cn){Sn=xn?Math.min(Cn[Jr],Sn):Math.max(Cn[Jr],Sn)})}),this.barCtx.lastActiveBarSerieIndex===en&&hn.enabled){var wn=new Mi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:en,j:Jr}),un.fontSize);xn?(gn=Sn-ln-dn-hn.offsetX,yn="end"):gn=Sn+dn+hn.offsetX+(this.barCtx.isReversed?-(an+ln):ln),vn=mn-nn.height/2+wn.height/2+hn.offsetY+ln,Zr.globals.barGroups.length>1&&(vn-=Zr.globals.barGroups.length/2*(rn/2))}return Zr.config.chart.stacked||(un.textAnchor==="start"?sn-nn.width<0?sn=xn?nn.width+ln:ln:sn+nn.width>Zr.globals.gridWidth&&(sn=xn?Zr.globals.gridWidth-ln:Zr.globals.gridWidth-nn.width-ln):un.textAnchor==="middle"?sn-nn.width/2<0?sn=nn.width/2+ln:sn+nn.width/2>Zr.globals.gridWidth&&(sn=Zr.globals.gridWidth-nn.width/2-ln):un.textAnchor==="end"&&(sn<1?sn=nn.width+ln:sn+1>Zr.globals.gridWidth&&(sn=Zr.globals.gridWidth-nn.width-ln))),{bcx:Kr,bcy:tn,dataLabelsX:sn,dataLabelsY:mn,totalDataLabelsX:gn,totalDataLabelsY:vn,totalDataLabelsAnchor:yn}}},{key:"drawCalculatedDataLabels",value:function(Gr){var Yr=Gr.x,Zr=Gr.y,Kr=Gr.val,Qr=Gr.i,Jr=Gr.j,en=Gr.textRects,tn=Gr.barHeight,rn=Gr.barWidth,an=Gr.dataLabelsConfig,nn=this.w,sn="rotate(0)";nn.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(sn="rotate(-90, ".concat(Yr,", ").concat(Zr,")"));var ln=new qi(this.barCtx.ctx),un=new Mi(this.barCtx.ctx),cn=an.formatter,hn=null,dn=nn.globals.collapsedSeriesIndices.indexOf(Qr)>-1;if(an.enabled&&!dn){hn=un.group({class:"apexcharts-data-labels",transform:sn});var fn="";Kr!==void 0&&(fn=cn(Kr,u(u({},nn),{},{seriesIndex:Qr,dataPointIndex:Jr,w:nn}))),!Kr&&nn.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(fn="");var pn=nn.globals.series[Qr][Jr]<0,gn=nn.config.plotOptions.bar.dataLabels.position;nn.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(gn==="top"&&(an.textAnchor=pn?"end":"start"),gn==="center"&&(an.textAnchor="middle"),gn==="bottom"&&(an.textAnchor=pn?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&rn<un.getTextRects(fn,parseFloat(an.style.fontSize)).width&&(fn=""),nn.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?en.width/1.6>Math.abs(rn)&&(fn=""):en.height/1.6>Math.abs(tn)&&(fn=""));var vn=u({},an);this.barCtx.isHorizontal&&Kr<0&&(an.textAnchor==="start"?vn.textAnchor="end":an.textAnchor==="end"&&(vn.textAnchor="start")),ln.plotDataLabelsText({x:Yr,y:Zr,text:fn,i:Qr,j:Jr,parent:hn,dataLabelsConfig:vn,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return hn}},{key:"drawTotalDataLabels",value:function(Gr){var Yr=Gr.x,Zr=Gr.y,Kr=Gr.val,Qr=Gr.realIndex,Jr=Gr.textAnchor,en=Gr.barTotalDataLabelsConfig;this.w;var tn,rn=new Mi(this.barCtx.ctx);return en.enabled&&Yr!==void 0&&Zr!==void 0&&this.barCtx.lastActiveBarSerieIndex===Qr&&(tn=rn.drawText({x:Yr,y:Zr,foreColor:en.style.color,text:Kr,textAnchor:Jr,fontFamily:en.style.fontFamily,fontSize:en.style.fontSize,fontWeight:en.style.fontWeight})),tn}}]),Wr}(),Ma=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.barCtx=Gr}return s(Wr,[{key:"initVariables",value:function(Gr){var Yr=this.w;this.barCtx.series=Gr,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var Zr=0;Zr<Gr.length;Zr++)if(Gr[Zr].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=Gr[Zr].length),Yr.globals.isXNumeric)for(var Kr=0;Kr<Gr[Zr].length;Kr++)Yr.globals.seriesX[Zr][Kr]>Yr.globals.minX&&Yr.globals.seriesX[Zr][Kr]<Yr.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=Yr.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(Yr.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],Yr.globals.comboCharts||this.checkZeroSeries({series:Gr})}},{key:"initialPositions",value:function(Gr){var Yr,Zr,Kr,Qr,Jr,en,tn,rn,an=this.w,nn=an.globals.dataPoints;this.barCtx.isRangeBar&&(nn=an.globals.labels.length);var sn=this.barCtx.seriesLen;if(an.config.plotOptions.bar.rangeBarGroupRows&&(sn=1),this.barCtx.isHorizontal)Jr=(Kr=an.globals.gridHeight/nn)/sn,an.globals.isXNumeric&&(Jr=(Kr=an.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),Jr=Jr*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(Jr=parseInt(this.barCtx.barOptions.barHeight,10)),rn=this.barCtx.baseLineInvertedY+an.globals.padHorizontal+(this.barCtx.isReversed?an.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(rn=an.globals.gridWidth/2),Zr=(Kr-Jr*this.barCtx.seriesLen)/2;else{if(Qr=an.globals.gridWidth/this.barCtx.visibleItems,an.config.xaxis.convertedCatToNumeric&&(Qr=an.globals.gridWidth/an.globals.dataPoints),en=Qr/sn*parseInt(this.barCtx.barOptions.columnWidth,10)/100,an.globals.isXNumeric){var ln=this.barCtx.xRatio;an.globals.minXDiff&&an.globals.minXDiff!==.5&&an.globals.minXDiff/ln>0&&(Qr=an.globals.minXDiff/ln),(en=Qr/sn*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(en=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(en=parseInt(this.barCtx.barOptions.columnWidth,10)),tn=an.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?an.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),an.globals.isXNumeric?Yr=this.barCtx.getBarXForNumericXAxis({x:Yr,j:0,realIndex:Gr,barWidth:en}).x:Yr=an.globals.padHorizontal+v.noExponents(Qr-en*this.barCtx.seriesLen)/2}return an.globals.barHeight=Jr,an.globals.barWidth=en,{x:Yr,y:Zr,yDivision:Kr,xDivision:Qr,barHeight:Jr,barWidth:en,zeroH:tn,zeroW:rn}}},{key:"initializeStackedPrevVars",value:function(Gr){Gr.w.globals.seriesGroups.forEach(function(Yr){Gr[Yr]||(Gr[Yr]={}),Gr[Yr].prevY=[],Gr[Yr].prevX=[],Gr[Yr].prevYF=[],Gr[Yr].prevXF=[],Gr[Yr].prevYVal=[],Gr[Yr].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(Gr){Gr.w.globals.seriesGroups.forEach(function(Yr){Gr[Yr]||(Gr[Yr]={}),Gr[Yr].xArrj=[],Gr[Yr].xArrjF=[],Gr[Yr].xArrjVal=[],Gr[Yr].yArrj=[],Gr[Yr].yArrjF=[],Gr[Yr].yArrjVal=[]})}},{key:"getPathFillColor",value:function(Gr,Yr,Zr,Kr){var Qr,Jr,en,tn,rn=this.w,an=this.barCtx.ctx.fill,nn=null,sn=this.barCtx.barOptions.distributed?Zr:Yr,ln=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(un){Gr[Yr][Zr]>=un.from&&Gr[Yr][Zr]<=un.to&&(nn=un.color,ln=!0)}),{color:an.fillPath({seriesNumber:this.barCtx.barOptions.distributed?sn:Kr,dataPointIndex:Zr,color:nn,value:Gr[Yr][Zr],fillConfig:(Qr=rn.config.series[Yr].data[Zr])===null||Qr===void 0?void 0:Qr.fill,fillType:(Jr=rn.config.series[Yr].data[Zr])!==null&&Jr!==void 0&&(en=Jr.fill)!==null&&en!==void 0&&en.type?(tn=rn.config.series[Yr].data[Zr])===null||tn===void 0?void 0:tn.fill.type:Array.isArray(rn.config.fill.type)?rn.config.fill.type[Kr]:rn.config.fill.type}),useRangeColor:ln}}},{key:"getStrokeWidth",value:function(Gr,Yr,Zr){var Kr=0,Qr=this.w;return this.barCtx.series[Gr][Yr]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,Qr.config.stroke.show&&(this.barCtx.isNullValue||(Kr=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[Zr]:this.barCtx.strokeWidth)),Kr}},{key:"createBorderRadiusArr",value:function(Gr){var Yr,Zr=this.w,Kr=!this.w.config.chart.stacked||Zr.config.plotOptions.bar.borderRadius<=0,Qr=Gr.length,Jr=0|((Yr=Gr[0])===null||Yr===void 0?void 0:Yr.length),en=Array.from({length:Qr},function(){return Array(Jr).fill(Kr?"top":"none")});if(Kr)return en;for(var tn=0;tn<Jr;tn++){for(var rn=[],an=[],nn=0,sn=0;sn<Qr;sn++){var ln=Gr[sn][tn];ln>0?(rn.push(sn),nn++):ln<0&&(an.push(sn),nn++)}if(rn.length>0&&an.length===0)if(rn.length===1)en[rn[0]][tn]="both";else{var un,cn=rn[0],hn=rn[rn.length-1],dn=r(rn);try{for(dn.s();!(un=dn.n()).done;){var fn=un.value;en[fn][tn]=fn===cn?"bottom":fn===hn?"top":"none"}}catch(Mn){dn.e(Mn)}finally{dn.f()}}else if(an.length>0&&rn.length===0)if(an.length===1)en[an[0]][tn]="both";else{var pn,gn=Math.max.apply(Math,an),vn=Math.min.apply(Math,an),mn=r(an);try{for(mn.s();!(pn=mn.n()).done;){var yn=pn.value;en[yn][tn]=yn===gn?"bottom":yn===vn?"top":"none"}}catch(Mn){mn.e(Mn)}finally{mn.f()}}else if(rn.length>0&&an.length>0){var xn,bn=rn[rn.length-1],Sn=r(rn);try{for(Sn.s();!(xn=Sn.n()).done;){var wn=xn.value;en[wn][tn]=wn===bn?"top":"none"}}catch(Mn){Sn.e(Mn)}finally{Sn.f()}var _n,An=Math.max.apply(Math,an),Cn=r(an);try{for(Cn.s();!(_n=Cn.n()).done;){var Tn=_n.value;en[Tn][tn]=Tn===An?"bottom":"none"}}catch(Mn){Cn.e(Mn)}finally{Cn.f()}}else nn===1&&(en[rn[0]||an[0]][tn]="both")}return en}},{key:"barBackground",value:function(Gr){var Yr=Gr.j,Zr=Gr.i,Kr=Gr.x1,Qr=Gr.x2,Jr=Gr.y1,en=Gr.y2,tn=Gr.elSeries,rn=this.w,an=new Mi(this.barCtx.ctx),nn=new Zi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&nn===Zr){Yr>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(Yr%=this.barCtx.barOptions.colors.backgroundBarColors.length);var sn=this.barCtx.barOptions.colors.backgroundBarColors[Yr],ln=an.drawRect(Kr!==void 0?Kr:0,Jr!==void 0?Jr:0,Qr!==void 0?Qr:rn.globals.gridWidth,en!==void 0?en:rn.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,sn,this.barCtx.barOptions.colors.backgroundBarOpacity);tn.add(ln),ln.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(Gr){var Yr,Zr=Gr.barWidth,Kr=Gr.barXPosition,Qr=Gr.y1,Jr=Gr.y2,en=Gr.strokeWidth,tn=Gr.isReversed,rn=Gr.series,an=Gr.seriesGroup,nn=Gr.realIndex,sn=Gr.i,ln=Gr.j,un=Gr.w,cn=new Mi(this.barCtx.ctx);(en=Array.isArray(en)?en[nn]:en)||(en=0);var hn=Zr,dn=Kr;(Yr=un.config.series[nn].data[ln])!==null&&Yr!==void 0&&Yr.columnWidthOffset&&(dn=Kr-un.config.series[nn].data[ln].columnWidthOffset/2,hn=Zr+un.config.series[nn].data[ln].columnWidthOffset);var fn=en/2,pn=dn+fn,gn=dn+hn-fn,vn=(rn[sn][ln]>=0?1:-1)*(tn?-1:1);Qr+=.001-fn*vn,Jr+=.001+fn*vn;var mn=cn.move(pn,Qr),yn=cn.move(pn,Qr),xn=cn.line(gn,Qr);if(un.globals.previousPaths.length>0&&(yn=this.barCtx.getPreviousPath(nn,ln,!1)),mn=mn+cn.line(pn,Jr)+cn.line(gn,Jr)+xn+(un.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[nn][ln]==="both"?" Z":" z"),yn=yn+cn.line(pn,Qr)+xn+xn+xn+xn+xn+cn.line(pn,Qr)+(un.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[nn][ln]==="both"?" Z":" z"),this.arrBorderRadius[nn][ln]!=="none"&&(mn=cn.roundPathCorners(mn,un.config.plotOptions.bar.borderRadius)),un.config.chart.stacked){var bn=this.barCtx;(bn=this.barCtx[an]).yArrj.push(Jr-fn*vn),bn.yArrjF.push(Math.abs(Qr-Jr+en*vn)),bn.yArrjVal.push(this.barCtx.series[sn][ln])}return{pathTo:mn,pathFrom:yn}}},{key:"getBarpaths",value:function(Gr){var Yr,Zr=Gr.barYPosition,Kr=Gr.barHeight,Qr=Gr.x1,Jr=Gr.x2,en=Gr.strokeWidth,tn=Gr.isReversed,rn=Gr.series,an=Gr.seriesGroup,nn=Gr.realIndex,sn=Gr.i,ln=Gr.j,un=Gr.w,cn=new Mi(this.barCtx.ctx);(en=Array.isArray(en)?en[nn]:en)||(en=0);var hn=Zr,dn=Kr;(Yr=un.config.series[nn].data[ln])!==null&&Yr!==void 0&&Yr.barHeightOffset&&(hn=Zr-un.config.series[nn].data[ln].barHeightOffset/2,dn=Kr+un.config.series[nn].data[ln].barHeightOffset);var fn=en/2,pn=hn+fn,gn=hn+dn-fn,vn=(rn[sn][ln]>=0?1:-1)*(tn?-1:1);Qr+=.001+fn*vn,Jr+=.001-fn*vn;var mn=cn.move(Qr,pn),yn=cn.move(Qr,pn);un.globals.previousPaths.length>0&&(yn=this.barCtx.getPreviousPath(nn,ln,!1));var xn=cn.line(Qr,gn);if(mn=mn+cn.line(Jr,pn)+cn.line(Jr,gn)+xn+(un.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[nn][ln]==="both"?" Z":" z"),yn=yn+cn.line(Qr,pn)+xn+xn+xn+xn+xn+cn.line(Qr,pn)+(un.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[nn][ln]==="both"?" Z":" z"),this.arrBorderRadius[nn][ln]!=="none"&&(mn=cn.roundPathCorners(mn,un.config.plotOptions.bar.borderRadius)),un.config.chart.stacked){var bn=this.barCtx;(bn=this.barCtx[an]).xArrj.push(Jr+fn*vn),bn.xArrjF.push(Math.abs(Qr-Jr-en*vn)),bn.xArrjVal.push(this.barCtx.series[sn][ln])}return{pathTo:mn,pathFrom:yn}}},{key:"checkZeroSeries",value:function(Gr){for(var Yr=Gr.series,Zr=this.w,Kr=0;Kr<Yr.length;Kr++){for(var Qr=0,Jr=0;Jr<Yr[Zr.globals.maxValsInArrayIndex].length;Jr++)Qr+=Yr[Kr][Jr];Qr===0&&this.barCtx.zeroSerieses.push(Kr)}}},{key:"getXForValue",value:function(Gr,Yr){var Zr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?Yr:null;return Gr!=null&&(Zr=Yr+Gr/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?Gr/this.barCtx.invertedYRatio:0)),Zr}},{key:"getYForValue",value:function(Gr,Yr,Zr){var Kr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?Yr:null;return Gr!=null&&(Kr=Yr-Gr/this.barCtx.yRatio[Zr]+2*(this.barCtx.isReversed?Gr/this.barCtx.yRatio[Zr]:0)),Kr}},{key:"getGoalValues",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en=this,tn=this.w,rn=[],an=function(ln,un){var cn;rn.push((o(cn={},Gr,Gr==="x"?en.getXForValue(ln,Yr,!1):en.getYForValue(ln,Zr,Jr,!1)),o(cn,"attrs",un),cn))};if(tn.globals.seriesGoals[Kr]&&tn.globals.seriesGoals[Kr][Qr]&&Array.isArray(tn.globals.seriesGoals[Kr][Qr])&&tn.globals.seriesGoals[Kr][Qr].forEach(function(ln){an(ln.value,ln)}),this.barCtx.barOptions.isDumbbell&&tn.globals.seriesRange.length){var nn=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:tn.globals.colors,sn={strokeHeight:Gr==="x"?0:tn.globals.markers.size[Kr],strokeWidth:Gr==="x"?tn.globals.markers.size[Kr]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(nn[Kr])?nn[Kr][0]:nn[Kr]};an(tn.globals.seriesRangeStart[Kr][Qr],sn),an(tn.globals.seriesRangeEnd[Kr][Qr],u(u({},sn),{},{strokeColor:Array.isArray(nn[Kr])?nn[Kr][1]:nn[Kr]}))}return rn}},{key:"drawGoalLine",value:function(Gr){var Yr=Gr.barXPosition,Zr=Gr.barYPosition,Kr=Gr.goalX,Qr=Gr.goalY,Jr=Gr.barWidth,en=Gr.barHeight,tn=new Mi(this.barCtx.ctx),rn=tn.group({className:"apexcharts-bar-goals-groups"});rn.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:rn.node}),rn.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var an=null;return this.barCtx.isHorizontal?Array.isArray(Kr)&&Kr.forEach(function(nn){if(nn.x>=-1&&nn.x<=tn.w.globals.gridWidth+1){var sn=nn.attrs.strokeHeight!==void 0?nn.attrs.strokeHeight:en/2,ln=Zr+sn+en/2;an=tn.drawLine(nn.x,ln-2*sn,nn.x,ln,nn.attrs.strokeColor?nn.attrs.strokeColor:void 0,nn.attrs.strokeDashArray,nn.attrs.strokeWidth?nn.attrs.strokeWidth:2,nn.attrs.strokeLineCap),rn.add(an)}}):Array.isArray(Qr)&&Qr.forEach(function(nn){if(nn.y>=-1&&nn.y<=tn.w.globals.gridHeight+1){var sn=nn.attrs.strokeWidth!==void 0?nn.attrs.strokeWidth:Jr/2,ln=Yr+sn+Jr/2;an=tn.drawLine(ln-2*sn,nn.y,ln,nn.y,nn.attrs.strokeColor?nn.attrs.strokeColor:void 0,nn.attrs.strokeDashArray,nn.attrs.strokeHeight?nn.attrs.strokeHeight:2,nn.attrs.strokeLineCap),rn.add(an)}}),rn}},{key:"drawBarShadow",value:function(Gr){var Yr=Gr.prevPaths,Zr=Gr.currPaths,Kr=Gr.color,Qr=this.w,Jr=Yr.x,en=Yr.x1,tn=Yr.barYPosition,rn=Zr.x,an=Zr.x1,nn=Zr.barYPosition,sn=tn+Zr.barHeight,ln=new Mi(this.barCtx.ctx),un=new v,cn=ln.move(en,sn)+ln.line(Jr,sn)+ln.line(rn,nn)+ln.line(an,nn)+ln.line(en,sn)+(Qr.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return ln.drawPath({d:cn,fill:un.shadeColor(.5,v.rgb2hex(Kr)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(Gr){var Yr,Zr=Gr.i,Kr=Gr.j,Qr=this.w,Jr=0,en=0;return(Qr.config.plotOptions.bar.horizontal?Qr.globals.series.map(function(tn,rn){return rn}):((Yr=Qr.globals.columnSeries)===null||Yr===void 0?void 0:Yr.i.map(function(tn){return tn}))||[]).forEach(function(tn){var rn=Qr.globals.seriesPercent[tn][Kr];rn&&Jr++,tn<Zr&&rn===0&&en++}),{nonZeroColumns:Jr,zeroEncounters:en}}},{key:"getGroupIndex",value:function(Gr){var Yr=this.w,Zr=Yr.globals.seriesGroups.findIndex(function(Jr){return Jr.indexOf(Yr.globals.seriesNames[Gr])>-1}),Kr=this.barCtx.columnGroupIndices,Qr=Kr.indexOf(Zr);return Qr<0&&(Kr.push(Zr),Qr=Kr.length-1),{groupIndex:Zr,columnGroupIndex:Qr}}}]),Wr}(),Pa=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w;var Zr=this.w;this.barOptions=Zr.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=Zr.config.stroke.width,this.isNullValue=!1,this.isRangeBar=Zr.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!Zr.globals.isBarHorizontal&&Zr.globals.seriesRange.length&&Zr.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=Yr,this.xyRatios!==null&&(this.xRatio=Yr.xRatio,this.yRatio=Yr.yRatio,this.invertedXRatio=Yr.invertedXRatio,this.invertedYRatio=Yr.invertedYRatio,this.baseLineY=Yr.baseLineY,this.baseLineInvertedY=Yr.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var Kr=new Zi(this.ctx);this.lastActiveBarSerieIndex=Kr.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var Qr=Kr.getBarSeriesIndices(),Jr=new Pi(this.ctx);this.stackedSeriesTotals=Jr.getStackedSeriesTotals(this.w.config.series.map(function(en,tn){return Qr.indexOf(tn)===-1?tn:-1}).filter(function(en){return en!==-1})),this.barHelpers=new Ma(this)}return s(Wr,[{key:"draw",value:function(Gr,Yr){var Zr=this.w,Kr=new Mi(this.ctx),Qr=new Pi(this.ctx,Zr);Gr=Qr.getLogSeries(Gr),this.series=Gr,this.yRatio=Qr.getLogYRatios(this.yRatio),this.barHelpers.initVariables(Gr);var Jr=Kr.group({class:"apexcharts-bar-series apexcharts-plot-series"});Zr.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var en=0,tn=0;en<Gr.length;en++,tn++){var rn,an,nn,sn,ln=void 0,un=void 0,cn=[],hn=[],dn=Zr.globals.comboCharts?Yr[en]:en,fn=this.barHelpers.getGroupIndex(dn).columnGroupIndex,pn=Kr.group({class:"apexcharts-series",rel:en+1,seriesName:v.escapeString(Zr.globals.seriesNames[dn]),"data:realIndex":dn});this.ctx.series.addCollapsedClassToSeries(pn,dn),Gr[en].length>0&&(this.visibleI=this.visibleI+1);var gn=0,vn=0;this.yRatio.length>1&&(this.yaxisIndex=Zr.globals.seriesYAxisReverseMap[dn],this.translationsIndex=dn);var mn=this.translationsIndex;this.isReversed=Zr.config.yaxis[this.yaxisIndex]&&Zr.config.yaxis[this.yaxisIndex].reversed;var yn=this.barHelpers.initialPositions(dn);un=yn.y,gn=yn.barHeight,an=yn.yDivision,sn=yn.zeroW,ln=yn.x,vn=yn.barWidth,rn=yn.xDivision,nn=yn.zeroH,this.isHorizontal||hn.push(ln+vn/2);var xn=Kr.group({class:"apexcharts-datalabels","data:realIndex":dn});Zr.globals.delayedElements.push({el:xn.node}),xn.node.classList.add("apexcharts-element-hidden");var bn=Kr.group({class:"apexcharts-bar-goals-markers"}),Sn=Kr.group({class:"apexcharts-bar-shadows"});Zr.globals.delayedElements.push({el:Sn.node}),Sn.node.classList.add("apexcharts-element-hidden");for(var wn=0;wn<Gr[en].length;wn++){var _n=this.barHelpers.getStrokeWidth(en,wn,dn),An=null,Cn={indexes:{i:en,j:wn,realIndex:dn,translationsIndex:mn,bc:tn},x:ln,y:un,strokeWidth:_n,elSeries:pn};this.isHorizontal?(An=this.drawBarPaths(u(u({},Cn),{},{barHeight:gn,zeroW:sn,yDivision:an})),vn=this.series[en][wn]/this.invertedYRatio):(An=this.drawColumnPaths(u(u({},Cn),{},{xDivision:rn,barWidth:vn,zeroH:nn})),gn=this.series[en][wn]/this.yRatio[mn]);var Tn=this.barHelpers.getPathFillColor(Gr,en,wn,dn);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&wn>0){var Mn,En=this.barHelpers.drawBarShadow({color:typeof Tn.color=="string"&&((Mn=Tn.color)===null||Mn===void 0?void 0:Mn.indexOf("url"))===-1?Tn.color:v.hexToRgba(Zr.globals.colors[en]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:An});Sn.add(En),Zr.config.chart.dropShadow.enabled&&new Li(this.ctx).dropShadow(En,Zr.config.chart.dropShadow,dn)}this.pathArr.push(An);var Ln=this.barHelpers.drawGoalLine({barXPosition:An.barXPosition,barYPosition:An.barYPosition,goalX:An.goalX,goalY:An.goalY,barHeight:gn,barWidth:vn});Ln&&bn.add(Ln),un=An.y,ln=An.x,wn>0&&hn.push(ln+vn/2),cn.push(un),this.renderSeries(u(u({realIndex:dn,pathFill:Tn.color},Tn.useRangeColor?{lineFill:Tn.color}:{}),{},{j:wn,i:en,columnGroupIndex:fn,pathFrom:An.pathFrom,pathTo:An.pathTo,strokeWidth:_n,elSeries:pn,x:ln,y:un,series:Gr,barHeight:Math.abs(An.barHeight?An.barHeight:gn),barWidth:Math.abs(An.barWidth?An.barWidth:vn),elDataLabelsWrap:xn,elGoalsMarkers:bn,elBarShadows:Sn,visibleSeries:this.visibleI,type:"bar"}))}Zr.globals.seriesXvalues[dn]=hn,Zr.globals.seriesYvalues[dn]=cn,Jr.add(pn)}return Jr}},{key:"renderSeries",value:function(Gr){var Yr=Gr.realIndex,Zr=Gr.pathFill,Kr=Gr.lineFill,Qr=Gr.j,Jr=Gr.i,en=Gr.columnGroupIndex,tn=Gr.pathFrom,rn=Gr.pathTo,an=Gr.strokeWidth,nn=Gr.elSeries,sn=Gr.x,ln=Gr.y,un=Gr.y1,cn=Gr.y2,hn=Gr.series,dn=Gr.barHeight,fn=Gr.barWidth,pn=Gr.barXPosition,gn=Gr.barYPosition,vn=Gr.elDataLabelsWrap,mn=Gr.elGoalsMarkers,yn=Gr.elBarShadows,xn=Gr.visibleSeries,bn=Gr.type,Sn=Gr.classes,wn=this.w,_n=new Mi(this.ctx);if(!Kr){var An=typeof wn.globals.stroke.colors[Yr]=="function"?function(Ln){var In,Pn=wn.config.stroke.colors;return Array.isArray(Pn)&&Pn.length>0&&((In=Pn[Ln])||(In=""),typeof In=="function")?In({value:wn.globals.series[Ln][Qr],dataPointIndex:Qr,w:wn}):In}(Yr):wn.globals.stroke.colors[Yr];Kr=this.barOptions.distributed?wn.globals.stroke.colors[Qr]:An}wn.config.series[Jr].data[Qr]&&wn.config.series[Jr].data[Qr].strokeColor&&(Kr=wn.config.series[Jr].data[Qr].strokeColor),this.isNullValue&&(Zr="none");var Cn=Qr/wn.config.chart.animations.animateGradually.delay*(wn.config.chart.animations.speed/wn.globals.dataPoints)/2.4,Tn=_n.renderPaths({i:Jr,j:Qr,realIndex:Yr,pathFrom:tn,pathTo:rn,stroke:Kr,strokeWidth:an,strokeLineCap:wn.config.stroke.lineCap,fill:Zr,animationDelay:Cn,initialSpeed:wn.config.chart.animations.speed,dataChangeSpeed:wn.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(bn,"-area ").concat(Sn),chartType:bn});Tn.attr("clip-path","url(#gridRectBarMask".concat(wn.globals.cuid,")"));var Mn=wn.config.forecastDataPoints;Mn.count>0&&Qr>=wn.globals.dataPoints-Mn.count&&(Tn.node.setAttribute("stroke-dasharray",Mn.dashArray),Tn.node.setAttribute("stroke-width",Mn.strokeWidth),Tn.node.setAttribute("fill-opacity",Mn.fillOpacity)),un!==void 0&&cn!==void 0&&(Tn.attr("data-range-y1",un),Tn.attr("data-range-y2",cn)),new Li(this.ctx).setSelectionFilter(Tn,Yr,Qr),nn.add(Tn);var En=new La(this).handleBarDataLabels({x:sn,y:ln,y1:un,y2:cn,i:Jr,j:Qr,series:hn,realIndex:Yr,columnGroupIndex:en,barHeight:dn,barWidth:fn,barXPosition:pn,barYPosition:gn,renderedPath:Tn,visibleSeries:xn});return En.dataLabels!==null&&vn.add(En.dataLabels),En.totalDataLabels&&vn.add(En.totalDataLabels),nn.add(vn),mn&&nn.add(mn),yn&&nn.add(yn),nn}},{key:"drawBarPaths",value:function(Gr){var Yr,Zr=Gr.indexes,Kr=Gr.barHeight,Qr=Gr.strokeWidth,Jr=Gr.zeroW,en=Gr.x,tn=Gr.y,rn=Gr.yDivision,an=Gr.elSeries,nn=this.w,sn=Zr.i,ln=Zr.j;if(nn.globals.isXNumeric)Yr=(tn=(nn.globals.seriesX[sn][ln]-nn.globals.minX)/this.invertedXRatio-Kr)+Kr*this.visibleI;else if(nn.config.plotOptions.bar.hideZeroBarsWhenGrouped){var un=0,cn=0;nn.globals.seriesPercent.forEach(function(dn,fn){dn[ln]&&un++,fn<sn&&dn[ln]===0&&cn++}),un>0&&(Kr=this.seriesLen*Kr/un),Yr=tn+Kr*this.visibleI,Yr-=Kr*cn}else Yr=tn+Kr*this.visibleI;this.isFunnel&&(Jr-=(this.barHelpers.getXForValue(this.series[sn][ln],Jr)-Jr)/2),en=this.barHelpers.getXForValue(this.series[sn][ln],Jr);var hn=this.barHelpers.getBarpaths({barYPosition:Yr,barHeight:Kr,x1:Jr,x2:en,strokeWidth:Qr,isReversed:this.isReversed,series:this.series,realIndex:Zr.realIndex,i:sn,j:ln,w:nn});return nn.globals.isXNumeric||(tn+=rn),this.barHelpers.barBackground({j:ln,i:sn,y1:Yr-Kr*this.visibleI,y2:Kr*this.seriesLen,elSeries:an}),{pathTo:hn.pathTo,pathFrom:hn.pathFrom,x1:Jr,x:en,y:tn,goalX:this.barHelpers.getGoalValues("x",Jr,null,sn,ln),barYPosition:Yr,barHeight:Kr}}},{key:"drawColumnPaths",value:function(Gr){var Yr,Zr=Gr.indexes,Kr=Gr.x,Qr=Gr.y,Jr=Gr.xDivision,en=Gr.barWidth,tn=Gr.zeroH,rn=Gr.strokeWidth,an=Gr.elSeries,nn=this.w,sn=Zr.realIndex,ln=Zr.translationsIndex,un=Zr.i,cn=Zr.j,hn=Zr.bc;if(nn.globals.isXNumeric){var dn=this.getBarXForNumericXAxis({x:Kr,j:cn,realIndex:sn,barWidth:en});Kr=dn.x,Yr=dn.barXPosition}else if(nn.config.plotOptions.bar.hideZeroBarsWhenGrouped){var fn=this.barHelpers.getZeroValueEncounters({i:un,j:cn}),pn=fn.nonZeroColumns,gn=fn.zeroEncounters;pn>0&&(en=this.seriesLen*en/pn),Yr=Kr+en*this.visibleI,Yr-=en*gn}else Yr=Kr+en*this.visibleI;Qr=this.barHelpers.getYForValue(this.series[un][cn],tn,ln);var vn=this.barHelpers.getColumnPaths({barXPosition:Yr,barWidth:en,y1:tn,y2:Qr,strokeWidth:rn,isReversed:this.isReversed,series:this.series,realIndex:sn,i:un,j:cn,w:nn});return nn.globals.isXNumeric||(Kr+=Jr),this.barHelpers.barBackground({bc:hn,j:cn,i:un,x1:Yr-rn/2-en*this.visibleI,x2:en*this.seriesLen+rn/2,elSeries:an}),{pathTo:vn.pathTo,pathFrom:vn.pathFrom,x:Kr,y:Qr,goalY:this.barHelpers.getGoalValues("y",null,tn,un,cn,ln),barXPosition:Yr,barWidth:en}}},{key:"getBarXForNumericXAxis",value:function(Gr){var Yr=Gr.x,Zr=Gr.barWidth,Kr=Gr.realIndex,Qr=Gr.j,Jr=this.w,en=Kr;return Jr.globals.seriesX[Kr].length||(en=Jr.globals.maxValsInArrayIndex),v.isNumber(Jr.globals.seriesX[en][Qr])&&(Yr=(Jr.globals.seriesX[en][Qr]-Jr.globals.minX)/this.xRatio-Zr*this.seriesLen/2),{barXPosition:Yr+Zr*this.visibleI,x:Yr}}},{key:"getPreviousPath",value:function(Gr,Yr){for(var Zr,Kr=this.w,Qr=0;Qr<Kr.globals.previousPaths.length;Qr++){var Jr=Kr.globals.previousPaths[Qr];Jr.paths&&Jr.paths.length>0&&parseInt(Jr.realIndex,10)===parseInt(Gr,10)&&Kr.globals.previousPaths[Qr].paths[Yr]!==void 0&&(Zr=Kr.globals.previousPaths[Qr].paths[Yr].d)}return Zr}}]),Wr}(),Ia=function(Wr){h(Yr,Pa);var Gr=n(Yr);function Yr(){return i$1(this,Yr),Gr.apply(this,arguments)}return s(Yr,[{key:"draw",value:function(Zr,Kr){var Qr=this,Jr=this.w;this.graphics=new Mi(this.ctx),this.bar=new Pa(this.ctx,this.xyRatios);var en=new Pi(this.ctx,Jr);Zr=en.getLogSeries(Zr),this.yRatio=en.getLogYRatios(this.yRatio),this.barHelpers.initVariables(Zr),Jr.config.chart.stackType==="100%"&&(Zr=Jr.globals.comboCharts?Kr.map(function(un){return Jr.globals.seriesPercent[un]}):Jr.globals.seriesPercent.slice()),this.series=Zr,this.barHelpers.initializeStackedPrevVars(this);for(var tn=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),rn=0,an=0,nn=function(un,cn){var hn=void 0,dn=void 0,fn=void 0,pn=void 0,gn=Jr.globals.comboCharts?Kr[un]:un,vn=Qr.barHelpers.getGroupIndex(gn),mn=vn.groupIndex,yn=vn.columnGroupIndex;Qr.groupCtx=Qr[Jr.globals.seriesGroups[mn]];var xn=[],bn=[],Sn=0;Qr.yRatio.length>1&&(Qr.yaxisIndex=Jr.globals.seriesYAxisReverseMap[gn][0],Sn=gn),Qr.isReversed=Jr.config.yaxis[Qr.yaxisIndex]&&Jr.config.yaxis[Qr.yaxisIndex].reversed;var wn=Qr.graphics.group({class:"apexcharts-series",seriesName:v.escapeString(Jr.globals.seriesNames[gn]),rel:un+1,"data:realIndex":gn});Qr.ctx.series.addCollapsedClassToSeries(wn,gn);var _n=Qr.graphics.group({class:"apexcharts-datalabels","data:realIndex":gn}),An=Qr.graphics.group({class:"apexcharts-bar-goals-markers"}),Cn=0,Tn=0,Mn=Qr.initialPositions(rn,an,hn,dn,fn,pn,Sn);an=Mn.y,Cn=Mn.barHeight,dn=Mn.yDivision,pn=Mn.zeroW,rn=Mn.x,Tn=Mn.barWidth,hn=Mn.xDivision,fn=Mn.zeroH,Jr.globals.barHeight=Cn,Jr.globals.barWidth=Tn,Qr.barHelpers.initializeStackedXYVars(Qr),Qr.groupCtx.prevY.length===1&&Qr.groupCtx.prevY[0].every(function(Fn){return isNaN(Fn)})&&(Qr.groupCtx.prevY[0]=Qr.groupCtx.prevY[0].map(function(){return fn}),Qr.groupCtx.prevYF[0]=Qr.groupCtx.prevYF[0].map(function(){return 0}));for(var En=0;En<Jr.globals.dataPoints;En++){var Ln=Qr.barHelpers.getStrokeWidth(un,En,gn),In={indexes:{i:un,j:En,realIndex:gn,translationsIndex:Sn,bc:cn},strokeWidth:Ln,x:rn,y:an,elSeries:wn,columnGroupIndex:yn,seriesGroup:Jr.globals.seriesGroups[mn]},Pn=null;Qr.isHorizontal?(Pn=Qr.drawStackedBarPaths(u(u({},In),{},{zeroW:pn,barHeight:Cn,yDivision:dn})),Tn=Qr.series[un][En]/Qr.invertedYRatio):(Pn=Qr.drawStackedColumnPaths(u(u({},In),{},{xDivision:hn,barWidth:Tn,zeroH:fn})),Cn=Qr.series[un][En]/Qr.yRatio[Sn]);var Dn=Qr.barHelpers.drawGoalLine({barXPosition:Pn.barXPosition,barYPosition:Pn.barYPosition,goalX:Pn.goalX,goalY:Pn.goalY,barHeight:Cn,barWidth:Tn});Dn&&An.add(Dn),an=Pn.y,rn=Pn.x,xn.push(rn),bn.push(an);var kn=Qr.barHelpers.getPathFillColor(Zr,un,En,gn),Nn="",Rn=Jr.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(Qr.barHelpers.arrBorderRadius[gn][En]==="bottom"&&Jr.globals.series[gn][En]>0||Qr.barHelpers.arrBorderRadius[gn][En]==="top"&&Jr.globals.series[gn][En]<0)&&(Nn=Rn),wn=Qr.renderSeries(u(u({realIndex:gn,pathFill:kn.color},kn.useRangeColor?{lineFill:kn.color}:{}),{},{j:En,i:un,columnGroupIndex:yn,pathFrom:Pn.pathFrom,pathTo:Pn.pathTo,strokeWidth:Ln,elSeries:wn,x:rn,y:an,series:Zr,barHeight:Cn,barWidth:Tn,elDataLabelsWrap:_n,elGoalsMarkers:An,type:"bar",visibleSeries:yn,classes:Nn}))}Jr.globals.seriesXvalues[gn]=xn,Jr.globals.seriesYvalues[gn]=bn,Qr.groupCtx.prevY.push(Qr.groupCtx.yArrj),Qr.groupCtx.prevYF.push(Qr.groupCtx.yArrjF),Qr.groupCtx.prevYVal.push(Qr.groupCtx.yArrjVal),Qr.groupCtx.prevX.push(Qr.groupCtx.xArrj),Qr.groupCtx.prevXF.push(Qr.groupCtx.xArrjF),Qr.groupCtx.prevXVal.push(Qr.groupCtx.xArrjVal),tn.add(wn)},sn=0,ln=0;sn<Zr.length;sn++,ln++)nn(sn,ln);return tn}},{key:"initialPositions",value:function(Zr,Kr,Qr,Jr,en,tn,rn){var an,nn,sn=this.w;if(this.isHorizontal){Jr=sn.globals.gridHeight/sn.globals.dataPoints;var ln=sn.config.plotOptions.bar.barHeight;an=String(ln).indexOf("%")===-1?parseInt(ln,10):Jr*parseInt(ln,10)/100,tn=sn.globals.padHorizontal+(this.isReversed?sn.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),Kr=(Jr-an)/2}else{nn=Qr=sn.globals.gridWidth/sn.globals.dataPoints;var un=sn.config.plotOptions.bar.columnWidth;sn.globals.isXNumeric&&sn.globals.dataPoints>1?nn=(Qr=sn.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(un).indexOf("%")===-1?nn=parseInt(un,10):nn*=parseInt(un,10)/100,en=this.isReversed?this.baseLineY[rn]:sn.globals.gridHeight-this.baseLineY[rn],Zr=sn.globals.padHorizontal+(Qr-nn)/2}var cn=sn.globals.barGroups.length||1;return{x:Zr,y:Kr,yDivision:Jr,xDivision:Qr,barHeight:an/cn,barWidth:nn/cn,zeroH:en,zeroW:tn}}},{key:"drawStackedBarPaths",value:function(Zr){for(var Kr,Qr=Zr.indexes,Jr=Zr.barHeight,en=Zr.strokeWidth,tn=Zr.zeroW,rn=Zr.x,an=Zr.y,nn=Zr.columnGroupIndex,sn=Zr.seriesGroup,ln=Zr.yDivision,un=Zr.elSeries,cn=this.w,hn=an+nn*Jr,dn=Qr.i,fn=Qr.j,pn=Qr.realIndex,gn=Qr.translationsIndex,vn=0,mn=0;mn<this.groupCtx.prevXF.length;mn++)vn+=this.groupCtx.prevXF[mn][fn];var yn;if((yn=sn.indexOf(cn.config.series[pn].name))>0){var xn=tn;this.groupCtx.prevXVal[yn-1][fn]<0?xn=this.series[dn][fn]>=0?this.groupCtx.prevX[yn-1][fn]+vn-2*(this.isReversed?vn:0):this.groupCtx.prevX[yn-1][fn]:this.groupCtx.prevXVal[yn-1][fn]>=0&&(xn=this.series[dn][fn]>=0?this.groupCtx.prevX[yn-1][fn]:this.groupCtx.prevX[yn-1][fn]-vn+2*(this.isReversed?vn:0)),Kr=xn}else Kr=tn;rn=this.series[dn][fn]===null?Kr:Kr+this.series[dn][fn]/this.invertedYRatio-2*(this.isReversed?this.series[dn][fn]/this.invertedYRatio:0);var bn=this.barHelpers.getBarpaths({barYPosition:hn,barHeight:Jr,x1:Kr,x2:rn,strokeWidth:en,isReversed:this.isReversed,series:this.series,realIndex:Qr.realIndex,seriesGroup:sn,i:dn,j:fn,w:cn});return this.barHelpers.barBackground({j:fn,i:dn,y1:hn,y2:Jr,elSeries:un}),an+=ln,{pathTo:bn.pathTo,pathFrom:bn.pathFrom,goalX:this.barHelpers.getGoalValues("x",tn,null,dn,fn,gn),barXPosition:Kr,barYPosition:hn,x:rn,y:an}}},{key:"drawStackedColumnPaths",value:function(Zr){var Kr=Zr.indexes,Qr=Zr.x,Jr=Zr.y,en=Zr.xDivision,tn=Zr.barWidth,rn=Zr.zeroH,an=Zr.columnGroupIndex,nn=Zr.seriesGroup,sn=Zr.elSeries,ln=this.w,un=Kr.i,cn=Kr.j,hn=Kr.bc,dn=Kr.realIndex,fn=Kr.translationsIndex;if(ln.globals.isXNumeric){var pn=ln.globals.seriesX[dn][cn];pn||(pn=0),Qr=(pn-ln.globals.minX)/this.xRatio-tn/2*ln.globals.barGroups.length}for(var gn,vn=Qr+an*tn,mn=0,yn=0;yn<this.groupCtx.prevYF.length;yn++)mn+=isNaN(this.groupCtx.prevYF[yn][cn])?0:this.groupCtx.prevYF[yn][cn];var xn=un;if(nn&&(xn=nn.indexOf(ln.globals.seriesNames[dn])),xn>0&&!ln.globals.isXNumeric||xn>0&&ln.globals.isXNumeric&&ln.globals.seriesX[dn-1][cn]===ln.globals.seriesX[dn][cn]){var bn,Sn,wn,_n=Math.min(this.yRatio.length+1,dn+1);if(this.groupCtx.prevY[xn-1]!==void 0&&this.groupCtx.prevY[xn-1].length)for(var An=1;An<_n;An++){var Cn;if(!isNaN((Cn=this.groupCtx.prevY[xn-An])===null||Cn===void 0?void 0:Cn[cn])){wn=this.groupCtx.prevY[xn-An][cn];break}}for(var Tn=1;Tn<_n;Tn++){var Mn,En;if(((Mn=this.groupCtx.prevYVal[xn-Tn])===null||Mn===void 0?void 0:Mn[cn])<0){Sn=this.series[un][cn]>=0?wn-mn+2*(this.isReversed?mn:0):wn;break}if(((En=this.groupCtx.prevYVal[xn-Tn])===null||En===void 0?void 0:En[cn])>=0){Sn=this.series[un][cn]>=0?wn:wn+mn-2*(this.isReversed?mn:0);break}}Sn===void 0&&(Sn=ln.globals.gridHeight),gn=(bn=this.groupCtx.prevYF[0])!==null&&bn!==void 0&&bn.every(function(In){return In===0})&&this.groupCtx.prevYF.slice(1,xn).every(function(In){return In.every(function(Pn){return isNaN(Pn)})})?rn:Sn}else gn=rn;Jr=this.series[un][cn]?gn-this.series[un][cn]/this.yRatio[fn]+2*(this.isReversed?this.series[un][cn]/this.yRatio[fn]:0):gn;var Ln=this.barHelpers.getColumnPaths({barXPosition:vn,barWidth:tn,y1:gn,y2:Jr,yRatio:this.yRatio[fn],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:nn,realIndex:Kr.realIndex,i:un,j:cn,w:ln});return this.barHelpers.barBackground({bc:hn,j:cn,i:un,x1:vn,x2:tn,elSeries:sn}),{pathTo:Ln.pathTo,pathFrom:Ln.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,rn,un,cn),barXPosition:vn,x:ln.globals.isXNumeric?Qr:Qr+en,y:Jr}}}]),Yr}(),Ta=function(Wr){h(Yr,Pa);var Gr=n(Yr);function Yr(){return i$1(this,Yr),Gr.apply(this,arguments)}return s(Yr,[{key:"draw",value:function(Zr,Kr,Qr){var Jr=this,en=this.w,tn=new Mi(this.ctx),rn=en.globals.comboCharts?Kr:en.config.chart.type,an=new ji(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=en.config.plotOptions.bar.horizontal;var nn=new Pi(this.ctx,en);Zr=nn.getLogSeries(Zr),this.series=Zr,this.yRatio=nn.getLogYRatios(this.yRatio),this.barHelpers.initVariables(Zr);for(var sn=tn.group({class:"apexcharts-".concat(rn,"-series apexcharts-plot-series")}),ln=function(cn){Jr.isBoxPlot=en.config.chart.type==="boxPlot"||en.config.series[cn].type==="boxPlot";var hn,dn,fn,pn,gn=void 0,vn=void 0,mn=[],yn=[],xn=en.globals.comboCharts?Qr[cn]:cn,bn=Jr.barHelpers.getGroupIndex(xn).columnGroupIndex,Sn=tn.group({class:"apexcharts-series",seriesName:v.escapeString(en.globals.seriesNames[xn]),rel:cn+1,"data:realIndex":xn});Jr.ctx.series.addCollapsedClassToSeries(Sn,xn),Zr[cn].length>0&&(Jr.visibleI=Jr.visibleI+1);var wn,_n,An=0;Jr.yRatio.length>1&&(Jr.yaxisIndex=en.globals.seriesYAxisReverseMap[xn][0],An=xn);var Cn=Jr.barHelpers.initialPositions(xn);vn=Cn.y,wn=Cn.barHeight,dn=Cn.yDivision,pn=Cn.zeroW,gn=Cn.x,_n=Cn.barWidth,hn=Cn.xDivision,fn=Cn.zeroH,yn.push(gn+_n/2);for(var Tn=tn.group({class:"apexcharts-datalabels","data:realIndex":xn}),Mn=tn.group({class:"apexcharts-bar-goals-markers"}),En=function(In){var Pn=Jr.barHelpers.getStrokeWidth(cn,In,xn),Dn=null,kn={indexes:{i:cn,j:In,realIndex:xn,translationsIndex:An},x:gn,y:vn,strokeWidth:Pn,elSeries:Sn};Dn=Jr.isHorizontal?Jr.drawHorizontalBoxPaths(u(u({},kn),{},{yDivision:dn,barHeight:wn,zeroW:pn})):Jr.drawVerticalBoxPaths(u(u({},kn),{},{xDivision:hn,barWidth:_n,zeroH:fn})),vn=Dn.y,gn=Dn.x;var Nn=Jr.barHelpers.drawGoalLine({barXPosition:Dn.barXPosition,barYPosition:Dn.barYPosition,goalX:Dn.goalX,goalY:Dn.goalY,barHeight:wn,barWidth:_n});Nn&&Mn.add(Nn),In>0&&yn.push(gn+_n/2),mn.push(vn),Dn.pathTo.forEach(function(Rn,Fn){var Hn=!Jr.isBoxPlot&&Jr.candlestickOptions.wick.useFillColor?Dn.color[Fn]:en.globals.stroke.colors[cn],Gn=an.fillPath({seriesNumber:xn,dataPointIndex:In,color:Dn.color[Fn],value:Zr[cn][In]});Jr.renderSeries({realIndex:xn,pathFill:Gn,lineFill:Hn,j:In,i:cn,pathFrom:Dn.pathFrom,pathTo:Rn,strokeWidth:Pn,elSeries:Sn,x:gn,y:vn,series:Zr,columnGroupIndex:bn,barHeight:wn,barWidth:_n,elDataLabelsWrap:Tn,elGoalsMarkers:Mn,visibleSeries:Jr.visibleI,type:en.config.chart.type})})},Ln=0;Ln<en.globals.dataPoints;Ln++)En(Ln);en.globals.seriesXvalues[xn]=yn,en.globals.seriesYvalues[xn]=mn,sn.add(Sn)},un=0;un<Zr.length;un++)ln(un);return sn}},{key:"drawVerticalBoxPaths",value:function(Zr){var Kr=Zr.indexes,Qr=Zr.x;Zr.y;var Jr=Zr.xDivision,en=Zr.barWidth,tn=Zr.zeroH,rn=Zr.strokeWidth,an=this.w,nn=new Mi(this.ctx),sn=Kr.i,ln=Kr.j,un=an.config.plotOptions.candlestick.colors,cn=this.boxOptions.colors,hn=Kr.realIndex,dn=function(Tn){return Array.isArray(Tn)?Tn[hn]:Tn},fn=dn(un.upward),pn=dn(un.downward),gn=this.yRatio[Kr.translationsIndex],vn=this.getOHLCValue(hn,ln),mn=tn,yn=tn,xn=vn.o<vn.c?[fn]:[pn];this.isBoxPlot&&(xn=[dn(cn.lower),dn(cn.upper)]);var bn=Math.min(vn.o,vn.c),Sn=Math.max(vn.o,vn.c),wn=vn.m;an.globals.isXNumeric&&(Qr=(an.globals.seriesX[hn][ln]-an.globals.minX)/this.xRatio-en/2);var _n=Qr+en*this.visibleI;this.series[sn][ln]===void 0||this.series[sn][ln]===null?(bn=tn,Sn=tn):(bn=tn-bn/gn,Sn=tn-Sn/gn,mn=tn-vn.h/gn,yn=tn-vn.l/gn,wn=tn-vn.m/gn);var An=nn.move(_n,tn),Cn=nn.move(_n+en/2,bn);return an.globals.previousPaths.length>0&&(Cn=this.getPreviousPath(hn,ln,!0)),An=this.isBoxPlot?[nn.move(_n,bn)+nn.line(_n+en/2,bn)+nn.line(_n+en/2,mn)+nn.line(_n+en/4,mn)+nn.line(_n+en-en/4,mn)+nn.line(_n+en/2,mn)+nn.line(_n+en/2,bn)+nn.line(_n+en,bn)+nn.line(_n+en,wn)+nn.line(_n,wn)+nn.line(_n,bn+rn/2),nn.move(_n,wn)+nn.line(_n+en,wn)+nn.line(_n+en,Sn)+nn.line(_n+en/2,Sn)+nn.line(_n+en/2,yn)+nn.line(_n+en-en/4,yn)+nn.line(_n+en/4,yn)+nn.line(_n+en/2,yn)+nn.line(_n+en/2,Sn)+nn.line(_n,Sn)+nn.line(_n,wn)+"z"]:[nn.move(_n,Sn)+nn.line(_n+en/2,Sn)+nn.line(_n+en/2,mn)+nn.line(_n+en/2,Sn)+nn.line(_n+en,Sn)+nn.line(_n+en,bn)+nn.line(_n+en/2,bn)+nn.line(_n+en/2,yn)+nn.line(_n+en/2,bn)+nn.line(_n,bn)+nn.line(_n,Sn-rn/2)],Cn+=nn.move(_n,bn),an.globals.isXNumeric||(Qr+=Jr),{pathTo:An,pathFrom:Cn,x:Qr,y:Sn,goalY:this.barHelpers.getGoalValues("y",null,tn,sn,ln,Kr.translationsIndex),barXPosition:_n,color:xn}}},{key:"drawHorizontalBoxPaths",value:function(Zr){var Kr=Zr.indexes;Zr.x;var Qr=Zr.y,Jr=Zr.yDivision,en=Zr.barHeight,tn=Zr.zeroW,rn=Zr.strokeWidth,an=this.w,nn=new Mi(this.ctx),sn=Kr.i,ln=Kr.j,un=this.boxOptions.colors.lower;this.isBoxPlot&&(un=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var cn=this.invertedYRatio,hn=Kr.realIndex,dn=this.getOHLCValue(hn,ln),fn=tn,pn=tn,gn=Math.min(dn.o,dn.c),vn=Math.max(dn.o,dn.c),mn=dn.m;an.globals.isXNumeric&&(Qr=(an.globals.seriesX[hn][ln]-an.globals.minX)/this.invertedXRatio-en/2);var yn=Qr+en*this.visibleI;this.series[sn][ln]===void 0||this.series[sn][ln]===null?(gn=tn,vn=tn):(gn=tn+gn/cn,vn=tn+vn/cn,fn=tn+dn.h/cn,pn=tn+dn.l/cn,mn=tn+dn.m/cn);var xn=nn.move(tn,yn),bn=nn.move(gn,yn+en/2);return an.globals.previousPaths.length>0&&(bn=this.getPreviousPath(hn,ln,!0)),xn=[nn.move(gn,yn)+nn.line(gn,yn+en/2)+nn.line(fn,yn+en/2)+nn.line(fn,yn+en/2-en/4)+nn.line(fn,yn+en/2+en/4)+nn.line(fn,yn+en/2)+nn.line(gn,yn+en/2)+nn.line(gn,yn+en)+nn.line(mn,yn+en)+nn.line(mn,yn)+nn.line(gn+rn/2,yn),nn.move(mn,yn)+nn.line(mn,yn+en)+nn.line(vn,yn+en)+nn.line(vn,yn+en/2)+nn.line(pn,yn+en/2)+nn.line(pn,yn+en-en/4)+nn.line(pn,yn+en/4)+nn.line(pn,yn+en/2)+nn.line(vn,yn+en/2)+nn.line(vn,yn)+nn.line(mn,yn)+"z"],bn+=nn.move(gn,yn),an.globals.isXNumeric||(Qr+=Jr),{pathTo:xn,pathFrom:bn,x:vn,y:Qr,goalX:this.barHelpers.getGoalValues("x",tn,null,sn,ln),barYPosition:yn,color:un}}},{key:"getOHLCValue",value:function(Zr,Kr){var Qr=this.w,Jr=new Pi(this.ctx,Qr),en=Jr.getLogValAtSeriesIndex(Qr.globals.seriesCandleH[Zr][Kr],Zr),tn=Jr.getLogValAtSeriesIndex(Qr.globals.seriesCandleO[Zr][Kr],Zr),rn=Jr.getLogValAtSeriesIndex(Qr.globals.seriesCandleM[Zr][Kr],Zr),an=Jr.getLogValAtSeriesIndex(Qr.globals.seriesCandleC[Zr][Kr],Zr),nn=Jr.getLogValAtSeriesIndex(Qr.globals.seriesCandleL[Zr][Kr],Zr);return{o:this.isBoxPlot?en:tn,h:this.isBoxPlot?tn:en,m:rn,l:this.isBoxPlot?an:nn,c:this.isBoxPlot?nn:an}}}]),Yr}(),za=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"checkColorRange",value:function(){var Gr=this.w,Yr=!1,Zr=Gr.config.plotOptions[Gr.config.chart.type];return Zr.colorScale.ranges.length>0&&Zr.colorScale.ranges.map(function(Kr,Qr){Kr.from<=0&&(Yr=!0)}),Yr}},{key:"getShadeColor",value:function(Gr,Yr,Zr,Kr){var Qr=this.w,Jr=1,en=Qr.config.plotOptions[Gr].shadeIntensity,tn=this.determineColor(Gr,Yr,Zr);Qr.globals.hasNegs||Kr?Jr=Qr.config.plotOptions[Gr].reverseNegativeShade?tn.percent<0?tn.percent/100*(1.25*en):(1-tn.percent/100)*(1.25*en):tn.percent<=0?1-(1+tn.percent/100)*en:(1-tn.percent/100)*en:(Jr=1-tn.percent/100,Gr==="treemap"&&(Jr=(1-tn.percent/100)*(1.25*en)));var rn=tn.color,an=new v;if(Qr.config.plotOptions[Gr].enableShades)if(this.w.config.theme.mode==="dark"){var nn=an.shadeColor(-1*Jr,tn.color);rn=v.hexToRgba(v.isColorHex(nn)?nn:v.rgb2hex(nn),Qr.config.fill.opacity)}else{var sn=an.shadeColor(Jr,tn.color);rn=v.hexToRgba(v.isColorHex(sn)?sn:v.rgb2hex(sn),Qr.config.fill.opacity)}return{color:rn,colorProps:tn}}},{key:"determineColor",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=Kr.globals.series[Yr][Zr],Jr=Kr.config.plotOptions[Gr],en=Jr.colorScale.inverse?Zr:Yr;Jr.distributed&&Kr.config.chart.type==="treemap"&&(en=Zr);var tn=Kr.globals.colors[en],rn=null,an=Math.min.apply(Math,f(Kr.globals.series[Yr])),nn=Math.max.apply(Math,f(Kr.globals.series[Yr]));Jr.distributed||Gr!=="heatmap"||(an=Kr.globals.minY,nn=Kr.globals.maxY),Jr.colorScale.min!==void 0&&(an=Jr.colorScale.min<Kr.globals.minY?Jr.colorScale.min:Kr.globals.minY,nn=Jr.colorScale.max>Kr.globals.maxY?Jr.colorScale.max:Kr.globals.maxY);var sn=Math.abs(nn)+Math.abs(an),ln=100*Qr/(sn===0?sn-1e-6:sn);return Jr.colorScale.ranges.length>0&&Jr.colorScale.ranges.map(function(un,cn){if(Qr>=un.from&&Qr<=un.to){tn=un.color,rn=un.foreColor?un.foreColor:null,an=un.from,nn=un.to;var hn=Math.abs(nn)+Math.abs(an);ln=100*Qr/(hn===0?hn-1e-6:hn)}}),{color:tn,foreColor:rn,percent:ln}}},{key:"calculateDataLabels",value:function(Gr){var Yr=Gr.text,Zr=Gr.x,Kr=Gr.y,Qr=Gr.i,Jr=Gr.j,en=Gr.colorProps,tn=Gr.fontSize,rn=this.w.config.dataLabels,an=new Mi(this.ctx),nn=new qi(this.ctx),sn=null;if(rn.enabled){sn=an.group({class:"apexcharts-data-labels"});var ln=rn.offsetX,un=rn.offsetY,cn=Zr+ln,hn=Kr+parseFloat(rn.style.fontSize)/3+un;nn.plotDataLabelsText({x:cn,y:hn,text:Yr,i:Qr,j:Jr,color:en.foreColor,parent:sn,fontSize:tn,dataLabelsConfig:rn})}return sn}},{key:"addListeners",value:function(Gr){var Yr=new Mi(this.ctx);Gr.node.addEventListener("mouseenter",Yr.pathMouseEnter.bind(this,Gr)),Gr.node.addEventListener("mouseleave",Yr.pathMouseLeave.bind(this,Gr)),Gr.node.addEventListener("mousedown",Yr.pathMouseDown.bind(this,Gr))}}]),Wr}(),Xa=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.xRatio=Yr.xRatio,this.yRatio=Yr.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new za(Gr),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s(Wr,[{key:"draw",value:function(Gr){var Yr=this.w,Zr=new Mi(this.ctx),Kr=Zr.group({class:"apexcharts-heatmap"});Kr.attr("clip-path","url(#gridRectMask".concat(Yr.globals.cuid,")"));var Qr=Yr.globals.gridWidth/Yr.globals.dataPoints,Jr=Yr.globals.gridHeight/Yr.globals.series.length,en=0,tn=!1;this.negRange=this.helpers.checkColorRange();var rn=Gr.slice();Yr.config.yaxis[0].reversed&&(tn=!0,rn.reverse());for(var an=tn?0:rn.length-1;tn?an<rn.length:an>=0;tn?an++:an--){var nn=Zr.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:v.escapeString(Yr.globals.seriesNames[an]),rel:an+1,"data:realIndex":an});if(this.ctx.series.addCollapsedClassToSeries(nn,an),Yr.config.chart.dropShadow.enabled){var sn=Yr.config.chart.dropShadow;new Li(this.ctx).dropShadow(nn,sn,an)}for(var ln=0,un=Yr.config.plotOptions.heatmap.shadeIntensity,cn=0,hn=0;hn<Yr.globals.dataPoints;hn++)if(Yr.globals.seriesX.length&&!Yr.globals.allSeriesHasEqualX&&Yr.globals.minX+Yr.globals.minXDiff*hn<Yr.globals.seriesX[an][cn])ln+=Qr;else{if(cn>=rn[an].length)break;var dn=this.helpers.getShadeColor(Yr.config.chart.type,an,cn,this.negRange),fn=dn.color,pn=dn.colorProps;Yr.config.fill.type==="image"&&(fn=new ji(this.ctx).fillPath({seriesNumber:an,dataPointIndex:cn,opacity:Yr.globals.hasNegs?pn.percent<0?1-(1+pn.percent/100):un+pn.percent/100:pn.percent/100,patternID:v.randomId(),width:Yr.config.fill.image.width?Yr.config.fill.image.width:Qr,height:Yr.config.fill.image.height?Yr.config.fill.image.height:Jr}));var gn=this.rectRadius,vn=Zr.drawRect(ln,en,Qr,Jr,gn);if(vn.attr({cx:ln,cy:en}),vn.node.classList.add("apexcharts-heatmap-rect"),nn.add(vn),vn.attr({fill:fn,i:an,index:an,j:cn,val:Gr[an][cn],"stroke-width":this.strokeWidth,stroke:Yr.config.plotOptions.heatmap.useFillColorAsStroke?fn:Yr.globals.stroke.colors[0],color:fn}),this.helpers.addListeners(vn),Yr.config.chart.animations.enabled&&!Yr.globals.dataChanged){var mn=1;Yr.globals.resized||(mn=Yr.config.chart.animations.speed),this.animateHeatMap(vn,ln,en,Qr,Jr,mn)}if(Yr.globals.dataChanged){var yn=1;if(this.dynamicAnim.enabled&&Yr.globals.shouldAnimate){yn=this.dynamicAnim.speed;var xn=Yr.globals.previousPaths[an]&&Yr.globals.previousPaths[an][cn]&&Yr.globals.previousPaths[an][cn].color;xn||(xn="rgba(255, 255, 255, 0)"),this.animateHeatColor(vn,v.isColorHex(xn)?xn:v.rgb2hex(xn),v.isColorHex(fn)?fn:v.rgb2hex(fn),yn)}}var bn=(0,Yr.config.dataLabels.formatter)(Yr.globals.series[an][cn],{value:Yr.globals.series[an][cn],seriesIndex:an,dataPointIndex:cn,w:Yr}),Sn=this.helpers.calculateDataLabels({text:bn,x:ln+Qr/2,y:en+Jr/2,i:an,j:cn,colorProps:pn,series:rn});Sn!==null&&nn.add(Sn),ln+=Qr,cn++}en+=Jr,Kr.add(nn)}var wn=Yr.globals.yAxisScale[0].result.slice();return Yr.config.yaxis[0].reversed?wn.unshift(""):wn.push(""),Yr.globals.yAxisScale[0].result=wn,Kr}},{key:"animateHeatMap",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en=new y(this.ctx);en.animateRect(Gr,{x:Yr+Kr/2,y:Zr+Qr/2,width:0,height:0},{x:Yr,y:Zr,width:Kr,height:Qr},Jr,function(){en.animationCompleted(Gr)})}},{key:"animateHeatColor",value:function(Gr,Yr,Zr,Kr){Gr.attr({fill:Yr}).animate(Kr).attr({fill:Zr})}}]),Wr}(),Ra=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"drawYAxisTexts",value:function(Gr,Yr,Zr,Kr){var Qr=this.w,Jr=Qr.config.yaxis[0],en=Qr.globals.yLabelFormatters[0];return new Mi(this.ctx).drawText({x:Gr+Jr.labels.offsetX,y:Yr+Jr.labels.offsetY,text:en(Kr,Zr),textAnchor:"middle",fontSize:Jr.labels.style.fontSize,fontFamily:Jr.labels.style.fontFamily,foreColor:Array.isArray(Jr.labels.style.colors)?Jr.labels.style.colors[Zr]:Jr.labels.style.colors})}}]),Wr}(),Ea=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w;var Yr=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=Yr.globals.stroke.colors!==void 0?Yr.globals.stroke.colors:Yr.globals.colors,this.defaultSize=Math.min(Yr.globals.gridWidth,Yr.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=Yr.globals.gridWidth/2,Yr.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(Yr.config.plotOptions.pie.endAngle-Yr.config.plotOptions.pie.startAngle),this.initialAngle=Yr.config.plotOptions.pie.startAngle%this.fullAngle,Yr.globals.radialSize=this.defaultSize/2.05-Yr.config.stroke.width-(Yr.config.chart.sparkline.enabled?0:Yr.config.chart.dropShadow.blur),this.donutSize=Yr.globals.radialSize*parseInt(Yr.config.plotOptions.pie.donut.size,10)/100;var Zr=Yr.config.plotOptions.pie.customScale,Kr=Yr.globals.gridWidth/2,Qr=Yr.globals.gridHeight/2;this.translateX=Kr-Kr*Zr,this.translateY=Qr-Qr*Zr,this.dataLabelsGroup=new Mi(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(Zr,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s(Wr,[{key:"draw",value:function(Gr){var Yr=this,Zr=this.w,Kr=new Mi(this.ctx),Qr=Kr.group({class:"apexcharts-pie"});if(Zr.globals.noData)return Qr;for(var Jr=0,en=0;en<Gr.length;en++)Jr+=v.negToZero(Gr[en]);var tn=[],rn=Kr.group();Jr===0&&(Jr=1e-5),Gr.forEach(function(pn){Yr.maxY=Math.max(Yr.maxY,pn)}),Zr.config.yaxis[0].max&&(this.maxY=Zr.config.yaxis[0].max),Zr.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(Qr);for(var an=0;an<Gr.length;an++){var nn=this.fullAngle*v.negToZero(Gr[an])/Jr;tn.push(nn),this.chartType==="polarArea"?(tn[an]=this.fullAngle/Gr.length,this.sliceSizes.push(Zr.globals.radialSize*Gr[an]/this.maxY)):this.sliceSizes.push(Zr.globals.radialSize)}if(Zr.globals.dataChanged){for(var sn,ln=0,un=0;un<Zr.globals.previousPaths.length;un++)ln+=v.negToZero(Zr.globals.previousPaths[un]);for(var cn=0;cn<Zr.globals.previousPaths.length;cn++)sn=this.fullAngle*v.negToZero(Zr.globals.previousPaths[cn])/ln,this.prevSectorAngleArr.push(sn)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var hn=Kr.drawCircle(this.donutSize);hn.attr({cx:this.centerX,cy:this.centerY,fill:Zr.config.plotOptions.pie.donut.background?Zr.config.plotOptions.pie.donut.background:"transparent"}),rn.add(hn)}var dn=this.drawArcs(tn,Gr);if(this.sliceLabels.forEach(function(pn){dn.add(pn)}),rn.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(Zr.config.plotOptions.pie.customScale,")")}),rn.add(dn),Qr.add(rn),this.donutDataLabels.show){var fn=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});Qr.add(fn)}return Zr.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(Qr),Qr}},{key:"drawArcs",value:function(Gr,Yr){var Zr=this.w,Kr=new Li(this.ctx),Qr=new Mi(this.ctx),Jr=new ji(this.ctx),en=Qr.group({class:"apexcharts-slices"}),tn=this.initialAngle,rn=this.initialAngle,an=this.initialAngle,nn=this.initialAngle;this.strokeWidth=Zr.config.stroke.show?Zr.config.stroke.width:0;for(var sn=0;sn<Gr.length;sn++){var ln=Qr.group({class:"apexcharts-series apexcharts-pie-series",seriesName:v.escapeString(Zr.globals.seriesNames[sn]),rel:sn+1,"data:realIndex":sn});en.add(ln),rn=nn,an=(tn=an)+Gr[sn],nn=rn+this.prevSectorAngleArr[sn];var un=an<tn?this.fullAngle+an-tn:an-tn,cn=Jr.fillPath({seriesNumber:sn,size:this.sliceSizes[sn],value:Yr[sn]}),hn=this.getChangedPath(rn,nn),dn=Qr.drawPath({d:hn,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[sn]:this.lineColorArr,strokeWidth:0,fill:cn,fillOpacity:Zr.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(sn)});if(dn.attr({index:0,j:sn}),Kr.setSelectionFilter(dn,0,sn),Zr.config.chart.dropShadow.enabled){var fn=Zr.config.chart.dropShadow;Kr.dropShadow(dn,fn,sn)}this.addListeners(dn,this.donutDataLabels),Mi.setAttrs(dn.node,{"data:angle":un,"data:startAngle":tn,"data:strokeWidth":this.strokeWidth,"data:value":Yr[sn]});var pn={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?pn=v.polarToCartesian(this.centerX,this.centerY,Zr.globals.radialSize/1.25+Zr.config.plotOptions.pie.dataLabels.offset,(tn+un/2)%this.fullAngle):this.chartType==="donut"&&(pn=v.polarToCartesian(this.centerX,this.centerY,(Zr.globals.radialSize+this.donutSize)/2+Zr.config.plotOptions.pie.dataLabels.offset,(tn+un/2)%this.fullAngle)),ln.add(dn);var gn=0;if(!this.initialAnim||Zr.globals.resized||Zr.globals.dataChanged?this.animBeginArr.push(0):((gn=un/this.fullAngle*Zr.config.chart.animations.speed)===0&&(gn=1),this.animDur=gn+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&Zr.globals.dataChanged?this.animatePaths(dn,{size:this.sliceSizes[sn],endAngle:an,startAngle:tn,prevStartAngle:rn,prevEndAngle:nn,animateStartingPos:!0,i:sn,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:Zr.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(dn,{size:this.sliceSizes[sn],endAngle:an,startAngle:tn,i:sn,totalItems:Gr.length-1,animBeginArr:this.animBeginArr,dur:gn}),Zr.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&dn.node.addEventListener("mouseup",this.pieClicked.bind(this,sn)),Zr.globals.selectedDataPoints[0]!==void 0&&Zr.globals.selectedDataPoints[0].indexOf(sn)>-1&&this.pieClicked(sn),Zr.config.dataLabels.enabled){var vn=pn.x,mn=pn.y,yn=100*un/this.fullAngle+"%";if(un!==0&&Zr.config.plotOptions.pie.dataLabels.minAngleToShowLabel<Gr[sn]){var xn=Zr.config.dataLabels.formatter;xn!==void 0&&(yn=xn(Zr.globals.seriesPercent[sn][0],{seriesIndex:sn,w:Zr}));var bn=Zr.globals.dataLabels.style.colors[sn],Sn=Qr.group({class:"apexcharts-datalabels"}),wn=Qr.drawText({x:vn,y:mn,text:yn,textAnchor:"middle",fontSize:Zr.config.dataLabels.style.fontSize,fontFamily:Zr.config.dataLabels.style.fontFamily,fontWeight:Zr.config.dataLabels.style.fontWeight,foreColor:bn});if(Sn.add(wn),Zr.config.dataLabels.dropShadow.enabled){var _n=Zr.config.dataLabels.dropShadow;Kr.dropShadow(wn,_n)}wn.node.classList.add("apexcharts-pie-label"),Zr.config.chart.animations.animate&&Zr.globals.resized===!1&&(wn.node.classList.add("apexcharts-pie-label-delay"),wn.node.style.animationDelay=Zr.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Sn)}}}return en}},{key:"addListeners",value:function(Gr,Yr){var Zr=new Mi(this.ctx);Gr.node.addEventListener("mouseenter",Zr.pathMouseEnter.bind(this,Gr)),Gr.node.addEventListener("mouseleave",Zr.pathMouseLeave.bind(this,Gr)),Gr.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,Gr.node,Yr)),Gr.node.addEventListener("mousedown",Zr.pathMouseDown.bind(this,Gr)),this.donutDataLabels.total.showAlways||(Gr.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,Gr.node,Yr)),Gr.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,Gr.node,Yr)))}},{key:"animatePaths",value:function(Gr,Yr){var Zr=this.w,Kr=Yr.endAngle<Yr.startAngle?this.fullAngle+Yr.endAngle-Yr.startAngle:Yr.endAngle-Yr.startAngle,Qr=Kr,Jr=Yr.startAngle,en=Yr.startAngle;Yr.prevStartAngle!==void 0&&Yr.prevEndAngle!==void 0&&(Jr=Yr.prevEndAngle,Qr=Yr.prevEndAngle<Yr.prevStartAngle?this.fullAngle+Yr.prevEndAngle-Yr.prevStartAngle:Yr.prevEndAngle-Yr.prevStartAngle),Yr.i===Zr.config.series.length-1&&(Kr+en>this.fullAngle?Yr.endAngle=Yr.endAngle-(Kr+en):Kr+en<this.fullAngle&&(Yr.endAngle=Yr.endAngle+(this.fullAngle-(Kr+en)))),Kr===this.fullAngle&&(Kr=this.fullAngle-.01),this.animateArc(Gr,Jr,en,Kr,Qr,Yr)}},{key:"animateArc",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en,tn=this,rn=this.w,an=new y(this.ctx),nn=Jr.size;(isNaN(Yr)||isNaN(Qr))&&(Yr=Zr,Qr=Kr,Jr.dur=0);var sn=Kr,ln=Zr,un=Yr<Zr?this.fullAngle+Yr-Zr:Yr-Zr;rn.globals.dataChanged&&Jr.shouldSetPrevPaths&&Jr.prevEndAngle&&(en=tn.getPiePath({me:tn,startAngle:Jr.prevStartAngle,angle:Jr.prevEndAngle<Jr.prevStartAngle?this.fullAngle+Jr.prevEndAngle-Jr.prevStartAngle:Jr.prevEndAngle-Jr.prevStartAngle,size:nn}),Gr.attr({d:en})),Jr.dur!==0?Gr.animate(Jr.dur,Jr.animBeginArr[Jr.i]).after(function(){tn.chartType!=="pie"&&tn.chartType!=="donut"&&tn.chartType!=="polarArea"||this.animate(rn.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":tn.strokeWidth}),Jr.i===rn.config.series.length-1&&an.animationCompleted(Gr)}).during(function(cn){sn=un+(Kr-un)*cn,Jr.animateStartingPos&&(sn=Qr+(Kr-Qr)*cn,ln=Yr-Qr+(Zr-(Yr-Qr))*cn),en=tn.getPiePath({me:tn,startAngle:ln,angle:sn,size:nn}),Gr.node.setAttribute("data:pathOrig",en),Gr.attr({d:en})}):(en=tn.getPiePath({me:tn,startAngle:ln,angle:Kr,size:nn}),Jr.isTrack||(rn.globals.animationEnded=!0),Gr.node.setAttribute("data:pathOrig",en),Gr.attr({d:en,"stroke-width":tn.strokeWidth}))}},{key:"pieClicked",value:function(Gr){var Yr,Zr=this.w,Kr=this,Qr=Kr.sliceSizes[Gr]+(Zr.config.plotOptions.pie.expandOnClick?4:0),Jr=Zr.globals.dom.Paper.findOne(".apexcharts-".concat(Kr.chartType.toLowerCase(),"-slice-").concat(Gr));if(Jr.attr("data:pieClicked")!=="true"){var en=Zr.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(en,function(nn){nn.setAttribute("data:pieClicked","false");var sn=nn.getAttribute("data:pathOrig");sn&&nn.setAttribute("d",sn)}),Zr.globals.capturedDataPointIndex=Gr,Jr.attr("data:pieClicked","true");var tn=parseInt(Jr.attr("data:startAngle"),10),rn=parseInt(Jr.attr("data:angle"),10);Yr=Kr.getPiePath({me:Kr,startAngle:tn,angle:rn,size:Qr}),rn!==360&&Jr.plot(Yr)}else{Jr.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(Jr.node,this.donutDataLabels);var an=Jr.attr("data:pathOrig");Jr.attr({d:an})}}},{key:"getChangedPath",value:function(Gr,Yr){var Zr="";return this.dynamicAnim&&this.w.globals.dataChanged&&(Zr=this.getPiePath({me:this,startAngle:Gr,angle:Yr-Gr,size:this.size})),Zr}},{key:"getPiePath",value:function(Gr){var Yr,Zr=Gr.me,Kr=Gr.startAngle,Qr=Gr.angle,Jr=Gr.size,en=new Mi(this.ctx),tn=Kr,rn=Math.PI*(tn-90)/180,an=Qr+Kr;Math.ceil(an)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(an=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(an)>this.fullAngle&&(an-=this.fullAngle);var nn=Math.PI*(an-90)/180,sn=Zr.centerX+Jr*Math.cos(rn),ln=Zr.centerY+Jr*Math.sin(rn),un=Zr.centerX+Jr*Math.cos(nn),cn=Zr.centerY+Jr*Math.sin(nn),hn=v.polarToCartesian(Zr.centerX,Zr.centerY,Zr.donutSize,an),dn=v.polarToCartesian(Zr.centerX,Zr.centerY,Zr.donutSize,tn),fn=Qr>180?1:0,pn=["M",sn,ln,"A",Jr,Jr,0,fn,1,un,cn];return Yr=Zr.chartType==="donut"?[].concat(pn,["L",hn.x,hn.y,"A",Zr.donutSize,Zr.donutSize,0,fn,0,dn.x,dn.y,"L",sn,ln,"z"]).join(" "):Zr.chartType==="pie"||Zr.chartType==="polarArea"?[].concat(pn,["L",Zr.centerX,Zr.centerY,"L",sn,ln]).join(" "):[].concat(pn).join(" "),en.roundPathCorners(Yr,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(Gr){var Yr=this.w,Zr=new ta(this.ctx),Kr=new Mi(this.ctx),Qr=new Ra(this.ctx),Jr=Kr.group(),en=Kr.group(),tn=Zr.niceScale(0,Math.ceil(this.maxY),0),rn=tn.result.reverse(),an=tn.result.length;this.maxY=tn.niceMax;for(var nn=Yr.globals.radialSize,sn=nn/(an-1),ln=0;ln<an-1;ln++){var un=Kr.drawCircle(nn);if(un.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":Yr.config.plotOptions.polarArea.rings.strokeWidth,stroke:Yr.config.plotOptions.polarArea.rings.strokeColor}),Yr.config.yaxis[0].show){var cn=Qr.drawYAxisTexts(this.centerX,this.centerY-nn+parseInt(Yr.config.yaxis[0].labels.style.fontSize,10)/2,ln,rn[ln]);en.add(cn)}Jr.add(un),nn-=sn}this.drawSpokes(Gr),Gr.add(Jr),Gr.add(en)}},{key:"renderInnerDataLabels",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=new Mi(this.ctx),Jr=Yr.total.show;Gr.node.innerHTML="",Gr.node.style.opacity=Zr.opacity;var en,tn,rn=Zr.centerX,an=this.donutDataLabels.total.label?Zr.centerY:Zr.centerY-Zr.centerY/6;en=Yr.name.color===void 0?Kr.globals.colors[0]:Yr.name.color;var nn=Yr.name.fontSize,sn=Yr.name.fontFamily,ln=Yr.name.fontWeight;tn=Yr.value.color===void 0?Kr.config.chart.foreColor:Yr.value.color;var un=Yr.value.formatter,cn="",hn="";if(Jr?(en=Yr.total.color,nn=Yr.total.fontSize,sn=Yr.total.fontFamily,ln=Yr.total.fontWeight,hn=this.donutDataLabels.total.label?Yr.total.label:"",cn=Yr.total.formatter(Kr)):Kr.globals.series.length===1&&(cn=un(Kr.globals.series[0],Kr),hn=Kr.globals.seriesNames[0]),hn&&(hn=Yr.name.formatter(hn,Yr.total.show,Kr)),Yr.name.show){var dn=Qr.drawText({x:rn,y:an+parseFloat(Yr.name.offsetY),text:hn,textAnchor:"middle",foreColor:en,fontSize:nn,fontWeight:ln,fontFamily:sn});dn.node.classList.add("apexcharts-datalabel-label"),Gr.add(dn)}if(Yr.value.show){var fn=Yr.name.show?parseFloat(Yr.value.offsetY)+16:Yr.value.offsetY,pn=Qr.drawText({x:rn,y:an+fn,text:cn,textAnchor:"middle",foreColor:tn,fontWeight:Yr.value.fontWeight,fontSize:Yr.value.fontSize,fontFamily:Yr.value.fontFamily});pn.node.classList.add("apexcharts-datalabel-value"),Gr.add(pn)}return Gr}},{key:"printInnerLabels",value:function(Gr,Yr,Zr,Kr){var Qr,Jr=this.w;Kr?Qr=Gr.name.color===void 0?Jr.globals.colors[parseInt(Kr.parentNode.getAttribute("rel"),10)-1]:Gr.name.color:Jr.globals.series.length>1&&Gr.total.show&&(Qr=Gr.total.color);var en=Jr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),tn=Jr.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");Zr=(0,Gr.value.formatter)(Zr,Jr),Kr||typeof Gr.total.formatter!="function"||(Zr=Gr.total.formatter(Jr));var rn=Yr===Gr.total.label;Yr=this.donutDataLabels.total.label?Gr.name.formatter(Yr,rn,Jr):"",en!==null&&(en.textContent=Yr),tn!==null&&(tn.textContent=Zr),en!==null&&(en.style.fill=Qr)}},{key:"printDataLabelsInner",value:function(Gr,Yr){var Zr=this.w,Kr=Gr.getAttribute("data:value"),Qr=Zr.globals.seriesNames[parseInt(Gr.parentNode.getAttribute("rel"),10)-1];Zr.globals.series.length>1&&this.printInnerLabels(Yr,Qr,Kr,Gr);var Jr=Zr.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");Jr!==null&&(Jr.style.opacity=1)}},{key:"drawSpokes",value:function(Gr){var Yr=this,Zr=this.w,Kr=new Mi(this.ctx),Qr=Zr.config.plotOptions.polarArea.spokes;if(Qr.strokeWidth!==0){for(var Jr=[],en=360/Zr.globals.series.length,tn=0;tn<Zr.globals.series.length;tn++)Jr.push(v.polarToCartesian(this.centerX,this.centerY,Zr.globals.radialSize,Zr.config.plotOptions.pie.startAngle+en*tn));Jr.forEach(function(rn,an){var nn=Kr.drawLine(rn.x,rn.y,Yr.centerX,Yr.centerY,Array.isArray(Qr.connectorColors)?Qr.connectorColors[an]:Qr.connectorColors);Gr.add(nn)})}}},{key:"revertDataLabelsInner",value:function(){var Gr=this.w;if(this.donutDataLabels.show){var Yr=Gr.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),Zr=this.renderInnerDataLabels(Yr,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});Gr.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(Zr)}}}]),Wr}(),Ya=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var Yr=this.w;this.graphics=new Mi(this.ctx),this.lineColorArr=Yr.globals.stroke.colors!==void 0?Yr.globals.stroke.colors:Yr.globals.colors,this.defaultSize=Yr.globals.svgHeight<Yr.globals.svgWidth?Yr.globals.gridHeight:Yr.globals.gridWidth,this.isLog=Yr.config.yaxis[0].logarithmic,this.logBase=Yr.config.yaxis[0].logBase,this.coreUtils=new Pi(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,Yr.globals.maxY,0):Yr.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):Yr.globals.minY,this.polygons=Yr.config.plotOptions.radar.polygons,this.strokeWidth=Yr.config.stroke.show?Yr.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-Yr.config.chart.dropShadow.blur,Yr.config.xaxis.labels.show&&(this.size=this.size-Yr.globals.xAxisLabelsWidth/1.75),Yr.config.plotOptions.radar.size!==void 0&&(this.size=Yr.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s(Wr,[{key:"draw",value:function(Gr){var Yr=this,Zr=this.w,Kr=new ji(this.ctx),Qr=[],Jr=new qi(this.ctx);Gr.length&&(this.dataPointsLen=Gr[Zr.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var en=Zr.globals.gridWidth/2,tn=Zr.globals.gridHeight/2,rn=en+Zr.config.plotOptions.radar.offsetX,an=tn+Zr.config.plotOptions.radar.offsetY,nn=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(rn||0,", ").concat(an||0,")")}),sn=[],ln=null,un=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),Gr.forEach(function(hn,dn){var fn=hn.length===Zr.globals.dataPoints,pn=Yr.graphics.group().attr({class:"apexcharts-series","data:longestSeries":fn,seriesName:v.escapeString(Zr.globals.seriesNames[dn]),rel:dn+1,"data:realIndex":dn});Yr.dataRadiusOfPercent[dn]=[],Yr.dataRadius[dn]=[],Yr.angleArr[dn]=[],hn.forEach(function(An,Cn){var Tn=Math.abs(Yr.maxValue-Yr.minValue);An-=Yr.minValue,Yr.isLog&&(An=Yr.coreUtils.getLogVal(Yr.logBase,An,0)),Yr.dataRadiusOfPercent[dn][Cn]=An/Tn,Yr.dataRadius[dn][Cn]=Yr.dataRadiusOfPercent[dn][Cn]*Yr.size,Yr.angleArr[dn][Cn]=Cn*Yr.disAngle}),sn=Yr.getDataPointsPos(Yr.dataRadius[dn],Yr.angleArr[dn]);var gn=Yr.createPaths(sn,{x:0,y:0});ln=Yr.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),un=Yr.graphics.group({class:"apexcharts-datalabels","data:realIndex":dn}),Zr.globals.delayedElements.push({el:ln.node,index:dn});var vn={i:dn,realIndex:dn,animationDelay:dn,initialSpeed:Zr.config.chart.animations.speed,dataChangeSpeed:Zr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:Zr.globals.stroke.colors[dn],strokeLineCap:Zr.config.stroke.lineCap},mn=null;Zr.globals.previousPaths.length>0&&(mn=Yr.getPreviousPath(dn));for(var yn=0;yn<gn.linePathsTo.length;yn++){var xn=Yr.graphics.renderPaths(u(u({},vn),{},{pathFrom:mn===null?gn.linePathsFrom[yn]:mn,pathTo:gn.linePathsTo[yn],strokeWidth:Array.isArray(Yr.strokeWidth)?Yr.strokeWidth[dn]:Yr.strokeWidth,fill:"none",drawShadow:!1}));pn.add(xn);var bn=Kr.fillPath({seriesNumber:dn}),Sn=Yr.graphics.renderPaths(u(u({},vn),{},{pathFrom:mn===null?gn.areaPathsFrom[yn]:mn,pathTo:gn.areaPathsTo[yn],strokeWidth:0,fill:bn,drawShadow:!1}));if(Zr.config.chart.dropShadow.enabled){var wn=new Li(Yr.ctx),_n=Zr.config.chart.dropShadow;wn.dropShadow(Sn,Object.assign({},_n,{noUserSpaceOnUse:!0}),dn)}pn.add(Sn)}hn.forEach(function(An,Cn){var Tn=new Vi(Yr.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:dn,dataPointIndex:Cn}),Mn=Yr.graphics.drawMarker(sn[Cn].x,sn[Cn].y,Tn);Mn.attr("rel",Cn),Mn.attr("j",Cn),Mn.attr("index",dn),Mn.node.setAttribute("default-marker-size",Tn.pSize);var En=Yr.graphics.group({class:"apexcharts-series-markers"});En&&En.add(Mn),ln.add(En),pn.add(ln);var Ln=Zr.config.dataLabels;if(Ln.enabled){var In=Ln.formatter(Zr.globals.series[dn][Cn],{seriesIndex:dn,dataPointIndex:Cn,w:Zr});Jr.plotDataLabelsText({x:sn[Cn].x,y:sn[Cn].y,text:In,textAnchor:"middle",i:dn,j:dn,parent:un,offsetCorrection:!1,dataLabelsConfig:u({},Ln)})}pn.add(un)}),Qr.push(pn)}),this.drawPolygons({parent:nn}),Zr.config.xaxis.labels.show){var cn=this.drawXAxisTexts();nn.add(cn)}return Qr.forEach(function(hn){nn.add(hn)}),nn.add(this.yaxisLabels),nn}},{key:"drawPolygons",value:function(Gr){for(var Yr=this,Zr=this.w,Kr=Gr.parent,Qr=new Ra(this.ctx),Jr=Zr.globals.yAxisScale[0].result.reverse(),en=Jr.length,tn=[],rn=this.size/(en-1),an=0;an<en;an++)tn[an]=rn*an;tn.reverse();var nn=[],sn=[];tn.forEach(function(ln,un){var cn=v.getPolygonPos(ln,Yr.dataPointsLen),hn="";cn.forEach(function(dn,fn){if(un===0){var pn=Yr.graphics.drawLine(dn.x,dn.y,0,0,Array.isArray(Yr.polygons.connectorColors)?Yr.polygons.connectorColors[fn]:Yr.polygons.connectorColors);sn.push(pn)}fn===0&&Yr.yaxisLabelsTextsPos.push({x:dn.x,y:dn.y}),hn+=dn.x+","+dn.y+" "}),nn.push(hn)}),nn.forEach(function(ln,un){var cn=Yr.polygons.strokeColors,hn=Yr.polygons.strokeWidth,dn=Yr.graphics.drawPolygon(ln,Array.isArray(cn)?cn[un]:cn,Array.isArray(hn)?hn[un]:hn,Zr.globals.radarPolygons.fill.colors[un]);Kr.add(dn)}),sn.forEach(function(ln){Kr.add(ln)}),Zr.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(ln,un){var cn=Qr.drawYAxisTexts(ln.x,ln.y,un,Jr[un]);Yr.yaxisLabels.add(cn)})}},{key:"drawXAxisTexts",value:function(){var Gr=this,Yr=this.w,Zr=Yr.config.xaxis.labels,Kr=this.graphics.group({class:"apexcharts-xaxis"}),Qr=v.getPolygonPos(this.size,this.dataPointsLen);return Yr.globals.labels.forEach(function(Jr,en){var tn=Yr.config.xaxis.labels.formatter,rn=new qi(Gr.ctx);if(Qr[en]){var an=Gr.getTextPos(Qr[en],Gr.size),nn=tn(Jr,{seriesIndex:-1,dataPointIndex:en,w:Yr});rn.plotDataLabelsText({x:an.newX,y:an.newY,text:nn,textAnchor:an.textAnchor,i:en,j:en,parent:Kr,className:"apexcharts-xaxis-label",color:Array.isArray(Zr.style.colors)&&Zr.style.colors[en]?Zr.style.colors[en]:"#a8a8a8",dataLabelsConfig:u({textAnchor:an.textAnchor,dropShadow:{enabled:!1}},Zr),offsetCorrection:!1}).on("click",function(sn){if(typeof Yr.config.chart.events.xAxisLabelClick=="function"){var ln=Object.assign({},Yr,{labelIndex:en});Yr.config.chart.events.xAxisLabelClick(sn,Gr.ctx,ln)}})}}),Kr}},{key:"createPaths",value:function(Gr,Yr){var Zr=this,Kr=[],Qr=[],Jr=[],en=[];if(Gr.length){Qr=[this.graphics.move(Yr.x,Yr.y)],en=[this.graphics.move(Yr.x,Yr.y)];var tn=this.graphics.move(Gr[0].x,Gr[0].y),rn=this.graphics.move(Gr[0].x,Gr[0].y);Gr.forEach(function(an,nn){tn+=Zr.graphics.line(an.x,an.y),rn+=Zr.graphics.line(an.x,an.y),nn===Gr.length-1&&(tn+="Z",rn+="Z")}),Kr.push(tn),Jr.push(rn)}return{linePathsFrom:Qr,linePathsTo:Kr,areaPathsFrom:en,areaPathsTo:Jr}}},{key:"getTextPos",value:function(Gr,Yr){var Zr="middle",Kr=Gr.x,Qr=Gr.y;return Math.abs(Gr.x)>=10?Gr.x>0?(Zr="start",Kr+=10):Gr.x<0&&(Zr="end",Kr-=10):Zr="middle",Math.abs(Gr.y)>=Yr-10&&(Gr.y<0?Qr-=10:Gr.y>0&&(Qr+=10)),{textAnchor:Zr,newX:Kr,newY:Qr}}},{key:"getPreviousPath",value:function(Gr){for(var Yr=this.w,Zr=null,Kr=0;Kr<Yr.globals.previousPaths.length;Kr++){var Qr=Yr.globals.previousPaths[Kr];Qr.paths.length>0&&parseInt(Qr.realIndex,10)===parseInt(Gr,10)&&Yr.globals.previousPaths[Kr].paths[0]!==void 0&&(Zr=Yr.globals.previousPaths[Kr].paths[0].d)}return Zr}},{key:"getDataPointsPos",value:function(Gr,Yr){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;Gr=Gr||[],Yr=Yr||[];for(var Kr=[],Qr=0;Qr<Zr;Qr++){var Jr={};Jr.x=Gr[Qr]*Math.sin(Yr[Qr]),Jr.y=-Gr[Qr]*Math.cos(Yr[Qr]),Kr.push(Jr)}return Kr}}]),Wr}(),Ha=function(Wr){h(Yr,Ea);var Gr=n(Yr);function Yr(Zr){var Kr;i$1(this,Yr),(Kr=Gr.call(this,Zr)).ctx=Zr,Kr.w=Zr.w,Kr.animBeginArr=[0],Kr.animDur=0;var Qr=Kr.w;return Kr.startAngle=Qr.config.plotOptions.radialBar.startAngle,Kr.endAngle=Qr.config.plotOptions.radialBar.endAngle,Kr.totalAngle=Math.abs(Qr.config.plotOptions.radialBar.endAngle-Qr.config.plotOptions.radialBar.startAngle),Kr.trackStartAngle=Qr.config.plotOptions.radialBar.track.startAngle,Kr.trackEndAngle=Qr.config.plotOptions.radialBar.track.endAngle,Kr.barLabels=Kr.w.config.plotOptions.radialBar.barLabels,Kr.donutDataLabels=Kr.w.config.plotOptions.radialBar.dataLabels,Kr.radialDataLabels=Kr.donutDataLabels,Kr.trackStartAngle||(Kr.trackStartAngle=Kr.startAngle),Kr.trackEndAngle||(Kr.trackEndAngle=Kr.endAngle),Kr.endAngle===360&&(Kr.endAngle=359.99),Kr.margin=parseInt(Qr.config.plotOptions.radialBar.track.margin,10),Kr.onBarLabelClick=Kr.onBarLabelClick.bind(e$1(Kr)),Kr}return s(Yr,[{key:"draw",value:function(Zr){var Kr=this.w,Qr=new Mi(this.ctx),Jr=Qr.group({class:"apexcharts-radialbar"});if(Kr.globals.noData)return Jr;var en=Qr.group(),tn=this.defaultSize/2,rn=Kr.globals.gridWidth/2,an=this.defaultSize/2.05;Kr.config.chart.sparkline.enabled||(an=an-Kr.config.stroke.width-Kr.config.chart.dropShadow.blur);var nn=Kr.globals.fill.colors;if(Kr.config.plotOptions.radialBar.track.show){var sn=this.drawTracks({size:an,centerX:rn,centerY:tn,colorArr:nn,series:Zr});en.add(sn)}var ln=this.drawArcs({size:an,centerX:rn,centerY:tn,colorArr:nn,series:Zr}),un=360;Kr.config.plotOptions.radialBar.startAngle<0&&(un=this.totalAngle);var cn=(360-un)/360;if(Kr.globals.radialSize=an-an*cn,this.radialDataLabels.value.show){var hn=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);Kr.globals.radialSize+=hn*cn}return en.add(ln.g),Kr.config.plotOptions.radialBar.hollow.position==="front"&&(ln.g.add(ln.elHollow),ln.dataLabels&&ln.g.add(ln.dataLabels)),Jr.add(en),Jr}},{key:"drawTracks",value:function(Zr){var Kr=this.w,Qr=new Mi(this.ctx),Jr=Qr.group({class:"apexcharts-tracks"}),en=new Li(this.ctx),tn=new ji(this.ctx),rn=this.getStrokeWidth(Zr);Zr.size=Zr.size-rn/2;for(var an=0;an<Zr.series.length;an++){var nn=Qr.group({class:"apexcharts-radialbar-track apexcharts-track"});Jr.add(nn),nn.attr({rel:an+1}),Zr.size=Zr.size-rn-this.margin;var sn=Kr.config.plotOptions.radialBar.track,ln=tn.fillPath({seriesNumber:0,size:Zr.size,fillColors:Array.isArray(sn.background)?sn.background[an]:sn.background,solid:!0}),un=this.trackStartAngle,cn=this.trackEndAngle;Math.abs(cn)+Math.abs(un)>=360&&(cn=360-Math.abs(this.startAngle)-.1);var hn=Qr.drawPath({d:"",stroke:ln,strokeWidth:rn*parseInt(sn.strokeWidth,10)/100,fill:"none",strokeOpacity:sn.opacity,classes:"apexcharts-radialbar-area"});if(sn.dropShadow.enabled){var dn=sn.dropShadow;en.dropShadow(hn,dn)}nn.add(hn),hn.attr("id","apexcharts-radialbarTrack-"+an),this.animatePaths(hn,{centerX:Zr.centerX,centerY:Zr.centerY,endAngle:cn,startAngle:un,size:Zr.size,i:an,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return Jr}},{key:"drawArcs",value:function(Zr){var Kr=this.w,Qr=new Mi(this.ctx),Jr=new ji(this.ctx),en=new Li(this.ctx),tn=Qr.group(),rn=this.getStrokeWidth(Zr);Zr.size=Zr.size-rn/2;var an=Kr.config.plotOptions.radialBar.hollow.background,nn=Zr.size-rn*Zr.series.length-this.margin*Zr.series.length-rn*parseInt(Kr.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,sn=nn-Kr.config.plotOptions.radialBar.hollow.margin;Kr.config.plotOptions.radialBar.hollow.image!==void 0&&(an=this.drawHollowImage(Zr,tn,nn,an));var ln=this.drawHollow({size:sn,centerX:Zr.centerX,centerY:Zr.centerY,fill:an||"transparent"});if(Kr.config.plotOptions.radialBar.hollow.dropShadow.enabled){var un=Kr.config.plotOptions.radialBar.hollow.dropShadow;en.dropShadow(ln,un)}var cn=1;!this.radialDataLabels.total.show&&Kr.globals.series.length>1&&(cn=0);var hn=null;if(this.radialDataLabels.show){var dn=Kr.globals.dom.Paper.findOne(".apexcharts-datalabels-group");hn=this.renderInnerDataLabels(dn,this.radialDataLabels,{hollowSize:nn,centerX:Zr.centerX,centerY:Zr.centerY,opacity:cn})}Kr.config.plotOptions.radialBar.hollow.position==="back"&&(tn.add(ln),hn&&tn.add(hn));var fn=!1;Kr.config.plotOptions.radialBar.inverseOrder&&(fn=!0);for(var pn=fn?Zr.series.length-1:0;fn?pn>=0:pn<Zr.series.length;fn?pn--:pn++){var gn=Qr.group({class:"apexcharts-series apexcharts-radial-series",seriesName:v.escapeString(Kr.globals.seriesNames[pn])});tn.add(gn),gn.attr({rel:pn+1,"data:realIndex":pn}),this.ctx.series.addCollapsedClassToSeries(gn,pn),Zr.size=Zr.size-rn-this.margin;var vn=Jr.fillPath({seriesNumber:pn,size:Zr.size,value:Zr.series[pn]}),mn=this.startAngle,yn=void 0,xn=v.negToZero(Zr.series[pn]>100?100:Zr.series[pn])/100,bn=Math.round(this.totalAngle*xn)+this.startAngle,Sn=void 0;Kr.globals.dataChanged&&(yn=this.startAngle,Sn=Math.round(this.totalAngle*v.negToZero(Kr.globals.previousPaths[pn])/100)+yn),Math.abs(bn)+Math.abs(mn)>360&&(bn-=.01),Math.abs(Sn)+Math.abs(yn)>360&&(Sn-=.01);var wn=bn-mn,_n=Array.isArray(Kr.config.stroke.dashArray)?Kr.config.stroke.dashArray[pn]:Kr.config.stroke.dashArray,An=Qr.drawPath({d:"",stroke:vn,strokeWidth:rn,fill:"none",fillOpacity:Kr.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+pn,strokeDashArray:_n});if(Mi.setAttrs(An.node,{"data:angle":wn,"data:value":Zr.series[pn]}),Kr.config.chart.dropShadow.enabled){var Cn=Kr.config.chart.dropShadow;en.dropShadow(An,Cn,pn)}if(en.setSelectionFilter(An,0,pn),this.addListeners(An,this.radialDataLabels),gn.add(An),An.attr({index:0,j:pn}),this.barLabels.enabled){var Tn=v.polarToCartesian(Zr.centerX,Zr.centerY,Zr.size,mn),Mn=this.barLabels.formatter(Kr.globals.seriesNames[pn],{seriesIndex:pn,w:Kr}),En=["apexcharts-radialbar-label"];this.barLabels.onClick||En.push("apexcharts-no-click");var Ln=this.barLabels.useSeriesColors?Kr.globals.colors[pn]:Kr.config.chart.foreColor;Ln||(Ln=Kr.config.chart.foreColor);var In=Tn.x+this.barLabels.offsetX,Pn=Tn.y+this.barLabels.offsetY,Dn=Qr.drawText({x:In,y:Pn,text:Mn,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:Ln,cssClass:En.join(" ")});Dn.on("click",this.onBarLabelClick),Dn.attr({rel:pn+1}),mn!==0&&Dn.attr({"transform-origin":"".concat(In," ").concat(Pn),transform:"rotate(".concat(mn," 0 0)")}),gn.add(Dn)}var kn=0;!this.initialAnim||Kr.globals.resized||Kr.globals.dataChanged||(kn=Kr.config.chart.animations.speed),Kr.globals.dataChanged&&(kn=Kr.config.chart.animations.dynamicAnimation.speed),this.animDur=kn/(1.2*Zr.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(An,{centerX:Zr.centerX,centerY:Zr.centerY,endAngle:bn,startAngle:mn,prevEndAngle:Sn,prevStartAngle:yn,size:Zr.size,i:pn,totalItems:2,animBeginArr:this.animBeginArr,dur:kn,shouldSetPrevPaths:!0})}return{g:tn,elHollow:ln,dataLabels:hn}}},{key:"drawHollow",value:function(Zr){var Kr=new Mi(this.ctx).drawCircle(2*Zr.size);return Kr.attr({class:"apexcharts-radialbar-hollow",cx:Zr.centerX,cy:Zr.centerY,r:Zr.size,fill:Zr.fill}),Kr}},{key:"drawHollowImage",value:function(Zr,Kr,Qr,Jr){var en=this.w,tn=new ji(this.ctx),rn=v.randomId(),an=en.config.plotOptions.radialBar.hollow.image;if(en.config.plotOptions.radialBar.hollow.imageClipped)tn.clippedImgArea({width:Qr,height:Qr,image:an,patternID:"pattern".concat(en.globals.cuid).concat(rn)}),Jr="url(#pattern".concat(en.globals.cuid).concat(rn,")");else{var nn=en.config.plotOptions.radialBar.hollow.imageWidth,sn=en.config.plotOptions.radialBar.hollow.imageHeight;if(nn===void 0&&sn===void 0){var ln=en.globals.dom.Paper.image(an,function(cn){this.move(Zr.centerX-cn.width/2+en.config.plotOptions.radialBar.hollow.imageOffsetX,Zr.centerY-cn.height/2+en.config.plotOptions.radialBar.hollow.imageOffsetY)});Kr.add(ln)}else{var un=en.globals.dom.Paper.image(an,function(cn){this.move(Zr.centerX-nn/2+en.config.plotOptions.radialBar.hollow.imageOffsetX,Zr.centerY-sn/2+en.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(nn,sn)});Kr.add(un)}}return Jr}},{key:"getStrokeWidth",value:function(Zr){var Kr=this.w;return Zr.size*(100-parseInt(Kr.config.plotOptions.radialBar.hollow.size,10))/100/(Zr.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(Zr){var Kr=parseInt(Zr.target.getAttribute("rel"),10)-1,Qr=this.barLabels.onClick,Jr=this.w;Qr&&Qr(Jr.globals.seriesNames[Kr],{w:Jr,seriesIndex:Kr})}}]),Yr}(),Oa=function(Wr){h(Yr,Pa);var Gr=n(Yr);function Yr(){return i$1(this,Yr),Gr.apply(this,arguments)}return s(Yr,[{key:"draw",value:function(Zr,Kr){var Qr=this.w,Jr=new Mi(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=Zr,this.seriesRangeStart=Qr.globals.seriesRangeStart,this.seriesRangeEnd=Qr.globals.seriesRangeEnd,this.barHelpers.initVariables(Zr);for(var en=Jr.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),tn=0;tn<Zr.length;tn++){var rn,an,nn,sn,ln=void 0,un=void 0,cn=Qr.globals.comboCharts?Kr[tn]:tn,hn=this.barHelpers.getGroupIndex(cn).columnGroupIndex,dn=Jr.group({class:"apexcharts-series",seriesName:v.escapeString(Qr.globals.seriesNames[cn]),rel:tn+1,"data:realIndex":cn});this.ctx.series.addCollapsedClassToSeries(dn,cn),Zr[tn].length>0&&(this.visibleI=this.visibleI+1);var fn=0,pn=0,gn=0;this.yRatio.length>1&&(this.yaxisIndex=Qr.globals.seriesYAxisReverseMap[cn][0],gn=cn);var vn=this.barHelpers.initialPositions(cn);un=vn.y,sn=vn.zeroW,ln=vn.x,pn=vn.barWidth,fn=vn.barHeight,rn=vn.xDivision,an=vn.yDivision,nn=vn.zeroH;for(var mn=Jr.group({class:"apexcharts-datalabels","data:realIndex":cn}),yn=Jr.group({class:"apexcharts-rangebar-goals-markers"}),xn=0;xn<Qr.globals.dataPoints;xn++){var bn=this.barHelpers.getStrokeWidth(tn,xn,cn),Sn=this.seriesRangeStart[tn][xn],wn=this.seriesRangeEnd[tn][xn],_n=null,An=null,Cn=null,Tn={x:ln,y:un,strokeWidth:bn,elSeries:dn},Mn=this.seriesLen;if(Qr.config.plotOptions.bar.rangeBarGroupRows&&(Mn=1),Qr.config.series[tn].data[xn]===void 0)break;if(this.isHorizontal){Cn=un+fn*this.visibleI;var En=(an-fn*Mn)/2;if(Qr.config.series[tn].data[xn].x){var Ln=this.detectOverlappingBars({i:tn,j:xn,barYPosition:Cn,srty:En,barHeight:fn,yDivision:an,initPositions:vn});fn=Ln.barHeight,Cn=Ln.barYPosition}pn=(_n=this.drawRangeBarPaths(u({indexes:{i:tn,j:xn,realIndex:cn},barHeight:fn,barYPosition:Cn,zeroW:sn,yDivision:an,y1:Sn,y2:wn},Tn))).barWidth}else{Qr.globals.isXNumeric&&(ln=(Qr.globals.seriesX[tn][xn]-Qr.globals.minX)/this.xRatio-pn/2),An=ln+pn*this.visibleI;var In=(rn-pn*Mn)/2;if(Qr.config.series[tn].data[xn].x){var Pn=this.detectOverlappingBars({i:tn,j:xn,barXPosition:An,srtx:In,barWidth:pn,xDivision:rn,initPositions:vn});pn=Pn.barWidth,An=Pn.barXPosition}fn=(_n=this.drawRangeColumnPaths(u({indexes:{i:tn,j:xn,realIndex:cn,translationsIndex:gn},barWidth:pn,barXPosition:An,zeroH:nn,xDivision:rn},Tn))).barHeight}var Dn=this.barHelpers.drawGoalLine({barXPosition:_n.barXPosition,barYPosition:Cn,goalX:_n.goalX,goalY:_n.goalY,barHeight:fn,barWidth:pn});Dn&&yn.add(Dn),un=_n.y,ln=_n.x;var kn=this.barHelpers.getPathFillColor(Zr,tn,xn,cn);this.renderSeries({realIndex:cn,pathFill:kn.color,lineFill:kn.useRangeColor?kn.color:Qr.globals.stroke.colors[cn],j:xn,i:tn,x:ln,y:un,y1:Sn,y2:wn,pathFrom:_n.pathFrom,pathTo:_n.pathTo,strokeWidth:bn,elSeries:dn,series:Zr,barHeight:fn,barWidth:pn,barXPosition:An,barYPosition:Cn,columnGroupIndex:hn,elDataLabelsWrap:mn,elGoalsMarkers:yn,visibleSeries:this.visibleI,type:"rangebar"})}en.add(dn)}return en}},{key:"detectOverlappingBars",value:function(Zr){var Kr=Zr.i,Qr=Zr.j,Jr=Zr.barYPosition,en=Zr.barXPosition,tn=Zr.srty,rn=Zr.srtx,an=Zr.barHeight,nn=Zr.barWidth,sn=Zr.yDivision,ln=Zr.xDivision,un=Zr.initPositions,cn=this.w,hn=[],dn=cn.config.series[Kr].data[Qr].rangeName,fn=cn.config.series[Kr].data[Qr].x,pn=Array.isArray(fn)?fn.join(" "):fn,gn=cn.globals.labels.map(function(mn){return Array.isArray(mn)?mn.join(" "):mn}).indexOf(pn),vn=cn.globals.seriesRange[Kr].findIndex(function(mn){return mn.x===pn&&mn.overlaps.length>0});return this.isHorizontal?(Jr=cn.config.plotOptions.bar.rangeBarGroupRows?tn+sn*gn:tn+an*this.visibleI+sn*gn,vn>-1&&!cn.config.plotOptions.bar.rangeBarOverlap&&(hn=cn.globals.seriesRange[Kr][vn].overlaps).indexOf(dn)>-1&&(Jr=(an=un.barHeight/hn.length)*this.visibleI+sn*(100-parseInt(this.barOptions.barHeight,10))/100/2+an*(this.visibleI+hn.indexOf(dn))+sn*gn)):(gn>-1&&!cn.globals.timescaleLabels.length&&(en=cn.config.plotOptions.bar.rangeBarGroupRows?rn+ln*gn:rn+nn*this.visibleI+ln*gn),vn>-1&&!cn.config.plotOptions.bar.rangeBarOverlap&&(hn=cn.globals.seriesRange[Kr][vn].overlaps).indexOf(dn)>-1&&(en=(nn=un.barWidth/hn.length)*this.visibleI+ln*(100-parseInt(this.barOptions.barWidth,10))/100/2+nn*(this.visibleI+hn.indexOf(dn))+ln*gn)),{barYPosition:Jr,barXPosition:en,barHeight:an,barWidth:nn}}},{key:"drawRangeColumnPaths",value:function(Zr){var Kr=Zr.indexes,Qr=Zr.x,Jr=Zr.xDivision,en=Zr.barWidth,tn=Zr.barXPosition,rn=Zr.zeroH,an=this.w,nn=Kr.i,sn=Kr.j,ln=Kr.realIndex,un=Kr.translationsIndex,cn=this.yRatio[un],hn=this.getRangeValue(ln,sn),dn=Math.min(hn.start,hn.end),fn=Math.max(hn.start,hn.end);this.series[nn][sn]===void 0||this.series[nn][sn]===null?dn=rn:(dn=rn-dn/cn,fn=rn-fn/cn);var pn=Math.abs(fn-dn),gn=this.barHelpers.getColumnPaths({barXPosition:tn,barWidth:en,y1:dn,y2:fn,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:ln,i:ln,j:sn,w:an});if(an.globals.isXNumeric){var vn=this.getBarXForNumericXAxis({x:Qr,j:sn,realIndex:ln,barWidth:en});Qr=vn.x,tn=vn.barXPosition}else Qr+=Jr;return{pathTo:gn.pathTo,pathFrom:gn.pathFrom,barHeight:pn,x:Qr,y:hn.start<0&&hn.end<0?dn:fn,goalY:this.barHelpers.getGoalValues("y",null,rn,nn,sn,un),barXPosition:tn}}},{key:"preventBarOverflow",value:function(Zr){var Kr=this.w;return Zr<0&&(Zr=0),Zr>Kr.globals.gridWidth&&(Zr=Kr.globals.gridWidth),Zr}},{key:"drawRangeBarPaths",value:function(Zr){var Kr=Zr.indexes,Qr=Zr.y,Jr=Zr.y1,en=Zr.y2,tn=Zr.yDivision,rn=Zr.barHeight,an=Zr.barYPosition,nn=Zr.zeroW,sn=this.w,ln=Kr.realIndex,un=Kr.j,cn=this.preventBarOverflow(nn+Jr/this.invertedYRatio),hn=this.preventBarOverflow(nn+en/this.invertedYRatio),dn=this.getRangeValue(ln,un),fn=Math.abs(hn-cn),pn=this.barHelpers.getBarpaths({barYPosition:an,barHeight:rn,x1:cn,x2:hn,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:ln,realIndex:ln,j:un,w:sn});return sn.globals.isXNumeric||(Qr+=tn),{pathTo:pn.pathTo,pathFrom:pn.pathFrom,barWidth:fn,x:dn.start<0&&dn.end<0?cn:hn,goalX:this.barHelpers.getGoalValues("x",nn,null,ln,un),y:Qr}}},{key:"getRangeValue",value:function(Zr,Kr){var Qr=this.w;return{start:Qr.globals.seriesRangeStart[Zr][Kr],end:Qr.globals.seriesRangeEnd[Zr][Kr]}}}]),Yr}(),Fa=function(){function Wr(Gr){i$1(this,Wr),this.w=Gr.w,this.lineCtx=Gr}return s(Wr,[{key:"sameValueSeriesFix",value:function(Gr,Yr){var Zr=this.w;if((Zr.config.fill.type==="gradient"||Zr.config.fill.type[Gr]==="gradient")&&new Pi(this.lineCtx.ctx,Zr).seriesHaveSameValues(Gr)){var Kr=Yr[Gr].slice();Kr[Kr.length-1]=Kr[Kr.length-1]+1e-6,Yr[Gr]=Kr}return Yr}},{key:"calculatePoints",value:function(Gr){var Yr=Gr.series,Zr=Gr.realIndex,Kr=Gr.x,Qr=Gr.y,Jr=Gr.i,en=Gr.j,tn=Gr.prevY,rn=this.w,an=[],nn=[],sn=this.lineCtx.categoryAxisCorrection+rn.config.markers.offsetX;return rn.globals.isXNumeric&&(sn=(rn.globals.seriesX[Zr][0]-rn.globals.minX)/this.lineCtx.xRatio+rn.config.markers.offsetX),en===0&&(an.push(sn),nn.push(v.isNumber(Yr[Jr][0])?tn+rn.config.markers.offsetY:null)),an.push(Kr+rn.config.markers.offsetX),nn.push(v.isNumber(Yr[Jr][en+1])?Qr+rn.config.markers.offsetY:null),{x:an,y:nn}}},{key:"checkPreviousPaths",value:function(Gr){for(var Yr=Gr.pathFromLine,Zr=Gr.pathFromArea,Kr=Gr.realIndex,Qr=this.w,Jr=0;Jr<Qr.globals.previousPaths.length;Jr++){var en=Qr.globals.previousPaths[Jr];(en.type==="line"||en.type==="area")&&en.paths.length>0&&parseInt(en.realIndex,10)===parseInt(Kr,10)&&(en.type==="line"?(this.lineCtx.appendPathFrom=!1,Yr=Qr.globals.previousPaths[Jr].paths[0].d):en.type==="area"&&(this.lineCtx.appendPathFrom=!1,Zr=Qr.globals.previousPaths[Jr].paths[0].d,Qr.config.stroke.show&&Qr.globals.previousPaths[Jr].paths[1]&&(Yr=Qr.globals.previousPaths[Jr].paths[1].d)))}return{pathFromLine:Yr,pathFromArea:Zr}}},{key:"determineFirstPrevY",value:function(Gr){var Yr,Zr,Kr,Qr=Gr.i,Jr=Gr.realIndex,en=Gr.series,tn=Gr.prevY,rn=Gr.lineYPosition,an=Gr.translationsIndex,nn=this.w,sn=nn.config.chart.stacked&&!nn.globals.comboCharts||nn.config.chart.stacked&&nn.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((Yr=this.w.config.series[Jr])===null||Yr===void 0?void 0:Yr.type)==="bar"||((Zr=this.w.config.series[Jr])===null||Zr===void 0?void 0:Zr.type)==="column");if(((Kr=en[Qr])===null||Kr===void 0?void 0:Kr[0])!==void 0)tn=(rn=sn&&Qr>0?this.lineCtx.prevSeriesY[Qr-1][0]:this.lineCtx.zeroY)-en[Qr][0]/this.lineCtx.yRatio[an]+2*(this.lineCtx.isReversed?en[Qr][0]/this.lineCtx.yRatio[an]:0);else if(sn&&Qr>0&&en[Qr][0]===void 0){for(var ln=Qr-1;ln>=0;ln--)if(en[ln][0]!==null&&en[ln][0]!==void 0){tn=rn=this.lineCtx.prevSeriesY[ln][0];break}}return{prevY:tn,lineYPosition:rn}}}]),Wr}(),Da=function(Wr){for(var Gr,Yr,Zr,Kr,Qr=function(an){for(var nn=[],sn=an[0],ln=an[1],un=nn[0]=Wa(sn,ln),cn=1,hn=an.length-1;cn<hn;cn++)sn=ln,ln=an[cn+1],nn[cn]=.5*(un+(un=Wa(sn,ln)));return nn[cn]=un,nn}(Wr),Jr=Wr.length-1,en=[],tn=0;tn<Jr;tn++)Zr=Wa(Wr[tn],Wr[tn+1]),Math.abs(Zr)<1e-6?Qr[tn]=Qr[tn+1]=0:(Kr=(Gr=Qr[tn]/Zr)*Gr+(Yr=Qr[tn+1]/Zr)*Yr)>9&&(Kr=3*Zr/Math.sqrt(Kr),Qr[tn]=Kr*Gr,Qr[tn+1]=Kr*Yr);for(var rn=0;rn<=Jr;rn++)Kr=(Wr[Math.min(Jr,rn+1)][0]-Wr[Math.max(0,rn-1)][0])/(6*(1+Qr[rn]*Qr[rn])),en.push([Kr||0,Qr[rn]*Kr||0]);return en},_a$1=function(Wr){var Gr=Da(Wr),Yr=Wr[1],Zr=Wr[0],Kr=[],Qr=Gr[1],Jr=Gr[0];Kr.push(Zr,[Zr[0]+Jr[0],Zr[1]+Jr[1],Yr[0]-Qr[0],Yr[1]-Qr[1],Yr[0],Yr[1]]);for(var en=2,tn=Gr.length;en<tn;en++){var rn=Wr[en],an=Gr[en];Kr.push([rn[0]-an[0],rn[1]-an[1],rn[0],rn[1]])}return Kr},Na=function(Wr,Gr,Yr){var Zr=Wr.slice(Gr,Yr);if(Gr){if(Yr-Gr>1&&Zr[1].length<6){var Kr=Zr[0].length;Zr[1]=[2*Zr[0][Kr-2]-Zr[0][Kr-4],2*Zr[0][Kr-1]-Zr[0][Kr-3]].concat(Zr[1])}Zr[0]=Zr[0].slice(-2)}return Zr};function Wa(Wr,Gr){return(Gr[1]-Wr[1])/(Gr[0]-Wr[0])}var Ba=function(){function Wr(Gr,Yr,Zr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.xyRatios=Yr,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||Zr,this.scatter=new Ui(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Fa(this),this.markers=new Vi(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s(Wr,[{key:"draw",value:function(Gr,Yr,Zr,Kr){var Qr,Jr=this.w,en=new Mi(this.ctx),tn=Jr.globals.comboCharts?Yr:Jr.config.chart.type,rn=en.group({class:"apexcharts-".concat(tn,"-series apexcharts-plot-series")}),an=new Pi(this.ctx,Jr);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,Gr=an.getLogSeries(Gr),this.yRatio=an.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var nn=[],sn=0;sn<Gr.length;sn++){Gr=this.lineHelpers.sameValueSeriesFix(sn,Gr);var ln=Jr.globals.comboCharts?Zr[sn]:sn,un=this.yRatio.length>1?ln:0;this._initSerieVariables(Gr,sn,ln);var cn=[],hn=[],dn=[],fn=Jr.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,ln),Jr.globals.isXNumeric&&Jr.globals.seriesX.length>0&&(fn=(Jr.globals.seriesX[ln][0]-Jr.globals.minX)/this.xRatio),dn.push(fn);var pn,gn=fn,vn=void 0,mn=gn,yn=this.zeroY,xn=this.zeroY;yn=this.lineHelpers.determineFirstPrevY({i:sn,realIndex:ln,series:Gr,prevY:yn,lineYPosition:0,translationsIndex:un}).prevY,Jr.config.stroke.curve==="monotoneCubic"&&Gr[sn][0]===null?cn.push(null):cn.push(yn),pn=yn,tn==="rangeArea"&&(vn=xn=this.lineHelpers.determineFirstPrevY({i:sn,realIndex:ln,series:Kr,prevY:xn,lineYPosition:0,translationsIndex:un}).prevY,hn.push(cn[0]!==null?xn:null));var bn=this._calculatePathsFrom({type:tn,series:Gr,i:sn,realIndex:ln,translationsIndex:un,prevX:mn,prevY:yn,prevY2:xn}),Sn=[cn[0]],wn=[hn[0]],_n={type:tn,series:Gr,realIndex:ln,translationsIndex:un,i:sn,x:fn,y:1,pX:gn,pY:pn,pathsFrom:bn,linePaths:[],areaPaths:[],seriesIndex:Zr,lineYPosition:0,xArrj:dn,yArrj:cn,y2Arrj:hn,seriesRangeEnd:Kr},An=this._iterateOverDataPoints(u(u({},_n),{},{iterations:tn==="rangeArea"?Gr[sn].length-1:void 0,isRangeStart:!0}));if(tn==="rangeArea"){for(var Cn=this._calculatePathsFrom({series:Kr,i:sn,realIndex:ln,prevX:mn,prevY:xn}),Tn=this._iterateOverDataPoints(u(u({},_n),{},{series:Kr,xArrj:[fn],yArrj:Sn,y2Arrj:wn,pY:vn,areaPaths:An.areaPaths,pathsFrom:Cn,iterations:Kr[sn].length-1,isRangeStart:!1})),Mn=An.linePaths.length/2,En=0;En<Mn;En++)An.linePaths[En]=Tn.linePaths[En+Mn]+An.linePaths[En];An.linePaths.splice(Mn),An.pathFromLine=Tn.pathFromLine+An.pathFromLine}else An.pathFromArea+="z";this._handlePaths({type:tn,realIndex:ln,i:sn,paths:An}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),nn.push(this.elSeries)}if(((Qr=Jr.config.series[0])===null||Qr===void 0?void 0:Qr.zIndex)!==void 0&&nn.sort(function(Pn,Dn){return Number(Pn.node.getAttribute("zIndex"))-Number(Dn.node.getAttribute("zIndex"))}),Jr.config.chart.stacked)for(var Ln=nn.length-1;Ln>=0;Ln--)rn.add(nn[Ln]);else for(var In=0;In<nn.length;In++)rn.add(nn[In]);return rn}},{key:"_initSerieVariables",value:function(Gr,Yr,Zr){var Kr=this.w,Qr=new Mi(this.ctx);this.xDivision=Kr.globals.gridWidth/(Kr.globals.dataPoints-(Kr.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(Kr.config.stroke.width)?Kr.config.stroke.width[Zr]:Kr.config.stroke.width;var Jr=0;if(this.yRatio.length>1&&(this.yaxisIndex=Kr.globals.seriesYAxisReverseMap[Zr],Jr=Zr),this.isReversed=Kr.config.yaxis[this.yaxisIndex]&&Kr.config.yaxis[this.yaxisIndex].reversed,this.zeroY=Kr.globals.gridHeight-this.baseLineY[Jr]-(this.isReversed?Kr.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[Jr]:0),this.areaBottomY=this.zeroY,(this.zeroY>Kr.globals.gridHeight||Kr.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=Kr.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=Qr.group({class:"apexcharts-series",zIndex:Kr.config.series[Zr].zIndex!==void 0?Kr.config.series[Zr].zIndex:Zr,seriesName:v.escapeString(Kr.globals.seriesNames[Zr])}),this.elPointsMain=Qr.group({class:"apexcharts-series-markers-wrap","data:realIndex":Zr}),Kr.globals.hasNullValues){var en=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[Kr.globals.gridHeight+Kr.globals.markers.largestSize]},seriesIndex:Yr,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});en!==null&&this.elPointsMain.add(en)}this.elDataLabelsWrap=Qr.group({class:"apexcharts-datalabels","data:realIndex":Zr});var tn=Gr[Yr].length===Kr.globals.dataPoints;this.elSeries.attr({"data:longestSeries":tn,rel:Yr+1,"data:realIndex":Zr}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(Gr){var Yr,Zr,Kr,Qr,Jr=Gr.type,en=Gr.series,tn=Gr.i,rn=Gr.realIndex,an=Gr.translationsIndex,nn=Gr.prevX,sn=Gr.prevY,ln=Gr.prevY2,un=this.w,cn=new Mi(this.ctx);if(en[tn][0]===null){for(var hn=0;hn<en[tn].length;hn++)if(en[tn][hn]!==null){nn=this.xDivision*hn,sn=this.zeroY-en[tn][hn]/this.yRatio[an],Yr=cn.move(nn,sn),Zr=cn.move(nn,this.areaBottomY);break}}else Yr=cn.move(nn,sn),Jr==="rangeArea"&&(Yr=cn.move(nn,ln)+cn.line(nn,sn)),Zr=cn.move(nn,this.areaBottomY)+cn.line(nn,sn);if(Kr=cn.move(0,this.areaBottomY)+cn.line(0,this.areaBottomY),Qr=cn.move(0,this.areaBottomY)+cn.line(0,this.areaBottomY),un.globals.previousPaths.length>0){var dn=this.lineHelpers.checkPreviousPaths({pathFromLine:Kr,pathFromArea:Qr,realIndex:rn});Kr=dn.pathFromLine,Qr=dn.pathFromArea}return{prevX:nn,prevY:sn,linePath:Yr,areaPath:Zr,pathFromLine:Kr,pathFromArea:Qr}}},{key:"_handlePaths",value:function(Gr){var Yr=Gr.type,Zr=Gr.realIndex,Kr=Gr.i,Qr=Gr.paths,Jr=this.w,en=new Mi(this.ctx),tn=new ji(this.ctx);this.prevSeriesY.push(Qr.yArrj),Jr.globals.seriesXvalues[Zr]=Qr.xArrj,Jr.globals.seriesYvalues[Zr]=Qr.yArrj;var rn=Jr.config.forecastDataPoints;if(rn.count>0&&Yr!=="rangeArea"){var an=Jr.globals.seriesXvalues[Zr][Jr.globals.seriesXvalues[Zr].length-rn.count-1],nn=en.drawRect(an,0,Jr.globals.gridWidth,Jr.globals.gridHeight,0);Jr.globals.dom.elForecastMask.appendChild(nn.node);var sn=en.drawRect(0,0,an,Jr.globals.gridHeight,0);Jr.globals.dom.elNonForecastMask.appendChild(sn.node)}this.pointsChart||Jr.globals.delayedElements.push({el:this.elPointsMain.node,index:Zr});var ln={i:Kr,realIndex:Zr,animationDelay:Kr,initialSpeed:Jr.config.chart.animations.speed,dataChangeSpeed:Jr.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Yr)};if(Yr==="area")for(var un=tn.fillPath({seriesNumber:Zr}),cn=0;cn<Qr.areaPaths.length;cn++){var hn=en.renderPaths(u(u({},ln),{},{pathFrom:Qr.pathFromArea,pathTo:Qr.areaPaths[cn],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:un}));this.elSeries.add(hn)}if(Jr.config.stroke.show&&!this.pointsChart){var dn=null;if(Yr==="line")dn=tn.fillPath({seriesNumber:Zr,i:Kr});else if(Jr.config.stroke.fill.type==="solid")dn=Jr.globals.stroke.colors[Zr];else{var fn=Jr.config.fill;Jr.config.fill=Jr.config.stroke.fill,dn=tn.fillPath({seriesNumber:Zr,i:Kr}),Jr.config.fill=fn}for(var pn=0;pn<Qr.linePaths.length;pn++){var gn=dn;Yr==="rangeArea"&&(gn=tn.fillPath({seriesNumber:Zr}));var vn=u(u({},ln),{},{pathFrom:Qr.pathFromLine,pathTo:Qr.linePaths[pn],stroke:dn,strokeWidth:this.strokeWidth,strokeLineCap:Jr.config.stroke.lineCap,fill:Yr==="rangeArea"?gn:"none"}),mn=en.renderPaths(vn);if(this.elSeries.add(mn),mn.attr("fill-rule","evenodd"),rn.count>0&&Yr!=="rangeArea"){var yn=en.renderPaths(vn);yn.node.setAttribute("stroke-dasharray",rn.dashArray),rn.strokeWidth&&yn.node.setAttribute("stroke-width",rn.strokeWidth),this.elSeries.add(yn),yn.attr("clip-path","url(#forecastMask".concat(Jr.globals.cuid,")")),mn.attr("clip-path","url(#nonForecastMask".concat(Jr.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(Gr){var Yr,Zr,Kr=this,Qr=Gr.type,Jr=Gr.series,en=Gr.iterations,tn=Gr.realIndex,rn=Gr.translationsIndex,an=Gr.i,nn=Gr.x,sn=Gr.y,ln=Gr.pX,un=Gr.pY,cn=Gr.pathsFrom,hn=Gr.linePaths,dn=Gr.areaPaths,fn=Gr.seriesIndex,pn=Gr.lineYPosition,gn=Gr.xArrj,vn=Gr.yArrj,mn=Gr.y2Arrj,yn=Gr.isRangeStart,xn=Gr.seriesRangeEnd,bn=this.w,Sn=new Mi(this.ctx),wn=this.yRatio,_n=cn.prevY,An=cn.linePath,Cn=cn.areaPath,Tn=cn.pathFromLine,Mn=cn.pathFromArea,En=v.isNumber(bn.globals.minYArr[tn])?bn.globals.minYArr[tn]:bn.globals.minY;en||(en=bn.globals.dataPoints>1?bn.globals.dataPoints-1:bn.globals.dataPoints);var Ln=function(On,Bn){return Bn-On/wn[rn]+2*(Kr.isReversed?On/wn[rn]:0)},In=sn,Pn=bn.config.chart.stacked&&!bn.globals.comboCharts||bn.config.chart.stacked&&bn.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((Yr=this.w.config.series[tn])===null||Yr===void 0?void 0:Yr.type)==="bar"||((Zr=this.w.config.series[tn])===null||Zr===void 0?void 0:Zr.type)==="column"),Dn=bn.config.stroke.curve;Array.isArray(Dn)&&(Dn=Array.isArray(fn)?Dn[fn[an]]:Dn[an]);for(var kn,Nn=0,Rn=0;Rn<en&&Jr[an].length!==0;Rn++){var Fn=Jr[an][Rn+1]===void 0||Jr[an][Rn+1]===null;if(bn.globals.isXNumeric){var Hn=bn.globals.seriesX[tn][Rn+1];bn.globals.seriesX[tn][Rn+1]===void 0&&(Hn=bn.globals.seriesX[tn][en-1]),nn=(Hn-bn.globals.minX)/this.xRatio}else nn+=this.xDivision;Pn?an>0&&bn.globals.collapsedSeries.length<bn.config.series.length-1?pn=this.prevSeriesY[function(On){for(var Bn=On;Bn>0;Bn--){if(!(bn.globals.collapsedSeriesIndices.indexOf((fn==null?void 0:fn[Bn])||Bn)>-1))return Bn;Bn--}return 0}(an-1)][Rn+1]:pn=this.zeroY:pn=this.zeroY,Fn?sn=Ln(En,pn):(sn=Ln(Jr[an][Rn+1],pn),Qr==="rangeArea"&&(In=Ln(xn[an][Rn+1],pn))),gn.push(Jr[an][Rn+1]===null?null:nn),!Fn||bn.config.stroke.curve!=="smooth"&&bn.config.stroke.curve!=="monotoneCubic"?(vn.push(sn),mn.push(In)):(vn.push(null),mn.push(null));var Gn=this.lineHelpers.calculatePoints({series:Jr,x:nn,y:sn,realIndex:tn,i:an,j:Rn,prevY:_n}),zn=this._createPaths({type:Qr,series:Jr,i:an,realIndex:tn,j:Rn,x:nn,y:sn,y2:In,xArrj:gn,yArrj:vn,y2Arrj:mn,pX:ln,pY:un,pathState:Nn,segmentStartX:kn,linePath:An,areaPath:Cn,linePaths:hn,areaPaths:dn,curve:Dn,isRangeStart:yn});dn=zn.areaPaths,hn=zn.linePaths,ln=zn.pX,un=zn.pY,Nn=zn.pathState,kn=zn.segmentStartX,Cn=zn.areaPath,An=zn.linePath,!this.appendPathFrom||bn.globals.hasNullValues||Dn==="monotoneCubic"&&Qr==="rangeArea"||(Tn+=Sn.line(nn,this.areaBottomY),Mn+=Sn.line(nn,this.areaBottomY)),this.handleNullDataPoints(Jr,Gn,an,Rn,tn),this._handleMarkersAndLabels({type:Qr,pointsPos:Gn,i:an,j:Rn,realIndex:tn,isRangeStart:yn})}return{yArrj:vn,xArrj:gn,pathFromArea:Mn,areaPaths:dn,pathFromLine:Tn,linePaths:hn,linePath:An,areaPath:Cn}}},{key:"_handleMarkersAndLabels",value:function(Gr){var Yr=Gr.type,Zr=Gr.pointsPos,Kr=Gr.isRangeStart,Qr=Gr.i,Jr=Gr.j,en=Gr.realIndex,tn=this.w,rn=new qi(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,Jr,{realIndex:en,pointsPos:Zr,zRatio:this.zRatio,elParent:this.elPointsMain});else{tn.globals.series[Qr].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var an=this.markers.plotChartMarkers({pointsPos:Zr,seriesIndex:en,j:Jr+1});an!==null&&this.elPointsMain.add(an)}var nn=rn.drawDataLabel({type:Yr,isRangeStart:Kr,pos:Zr,i:en,j:Jr+1});nn!==null&&this.elDataLabelsWrap.add(nn)}},{key:"_createPaths",value:function(Gr){var Yr=Gr.type,Zr=Gr.series,Kr=Gr.i;Gr.realIndex;var Qr,Jr=Gr.j,en=Gr.x,tn=Gr.y,rn=Gr.xArrj,an=Gr.yArrj,nn=Gr.y2,sn=Gr.y2Arrj,ln=Gr.pX,un=Gr.pY,cn=Gr.pathState,hn=Gr.segmentStartX,dn=Gr.linePath,fn=Gr.areaPath,pn=Gr.linePaths,gn=Gr.areaPaths,vn=Gr.curve,mn=Gr.isRangeStart,yn=new Mi(this.ctx),xn=this.areaBottomY,bn=Yr==="rangeArea",Sn=Yr==="rangeArea"&&mn;switch(vn){case"monotoneCubic":var wn=mn?an:sn;switch(cn){case 0:if(wn[Jr+1]===null)break;cn=1;case 1:if(!(bn?rn.length===Zr[Kr].length:Jr===Zr[Kr].length-2))break;case 2:var _n=mn?rn:rn.slice().reverse(),An=mn?wn:wn.slice().reverse(),Cn=(Qr=An,_n.map(function(Hn,Gn){return[Hn,Qr[Gn]]}).filter(function(Hn){return Hn[1]!==null})),Tn=Cn.length>1?_a$1(Cn):Cn,Mn=[];bn&&(Sn?gn=Cn:Mn=gn.reverse());var En=0,Ln=0;if(function(Hn,Gn){for(var zn=function(Vn){var Yn=[],Wn=0;return Vn.forEach(function(Xn){Xn!==null?Wn++:Wn>0&&(Yn.push(Wn),Wn=0)}),Wn>0&&Yn.push(Wn),Yn}(Hn),On=[],Bn=0,$n=0;Bn<zn.length;$n+=zn[Bn++])On[Bn]=Na(Gn,$n,$n+zn[Bn]);return On}(An,Tn).forEach(function(Hn){En++;var Gn=function(Bn){for(var $n="",Vn=0;Vn<Bn.length;Vn++){var Yn=Bn[Vn],Wn=Yn.length;Wn>4?($n+="C".concat(Yn[0],", ").concat(Yn[1]),$n+=", ".concat(Yn[2],", ").concat(Yn[3]),$n+=", ".concat(Yn[4],", ").concat(Yn[5])):Wn>2&&($n+="S".concat(Yn[0],", ").concat(Yn[1]),$n+=", ".concat(Yn[2],", ").concat(Yn[3]))}return $n}(Hn),zn=Ln,On=(Ln+=Hn.length)-1;Sn?dn=yn.move(Cn[zn][0],Cn[zn][1])+Gn:bn?dn=yn.move(Mn[zn][0],Mn[zn][1])+yn.line(Cn[zn][0],Cn[zn][1])+Gn+yn.line(Mn[On][0],Mn[On][1]):(dn=yn.move(Cn[zn][0],Cn[zn][1])+Gn,fn=dn+yn.line(Cn[On][0],xn)+yn.line(Cn[zn][0],xn)+"z",gn.push(fn)),pn.push(dn)}),bn&&En>1&&!Sn){var In=pn.slice(En).reverse();pn.splice(En),In.forEach(function(Hn){return pn.push(Hn)})}cn=0}break;case"smooth":var Pn=.35*(en-ln);if(Zr[Kr][Jr]===null)cn=0;else switch(cn){case 0:if(hn=ln,dn=Sn?yn.move(ln,sn[Jr])+yn.line(ln,un):yn.move(ln,un),fn=yn.move(ln,un),Zr[Kr][Jr+1]===null||Zr[Kr][Jr+1]===void 0){pn.push(dn),gn.push(fn);break}if(cn=1,Jr<Zr[Kr].length-2){var Dn=yn.curve(ln+Pn,un,en-Pn,tn,en,tn);dn+=Dn,fn+=Dn;break}case 1:if(Zr[Kr][Jr+1]===null)dn+=Sn?yn.line(ln,nn):yn.move(ln,un),fn+=yn.line(ln,xn)+yn.line(hn,xn)+"z",pn.push(dn),gn.push(fn),cn=-1;else{var kn=yn.curve(ln+Pn,un,en-Pn,tn,en,tn);dn+=kn,fn+=kn,Jr>=Zr[Kr].length-2&&(Sn&&(dn+=yn.curve(en,tn,en,tn,en,nn)+yn.move(en,nn)),fn+=yn.curve(en,tn,en,tn,en,xn)+yn.line(hn,xn)+"z",pn.push(dn),gn.push(fn),cn=-1)}}ln=en,un=tn;break;default:var Nn=function(Hn,Gn,zn){var On=[];switch(Hn){case"stepline":On=yn.line(Gn,null,"H")+yn.line(null,zn,"V");break;case"linestep":On=yn.line(null,zn,"V")+yn.line(Gn,null,"H");break;case"straight":On=yn.line(Gn,zn)}return On};if(Zr[Kr][Jr]===null)cn=0;else switch(cn){case 0:if(hn=ln,dn=Sn?yn.move(ln,sn[Jr])+yn.line(ln,un):yn.move(ln,un),fn=yn.move(ln,un),Zr[Kr][Jr+1]===null||Zr[Kr][Jr+1]===void 0){pn.push(dn),gn.push(fn);break}if(cn=1,Jr<Zr[Kr].length-2){var Rn=Nn(vn,en,tn);dn+=Rn,fn+=Rn;break}case 1:if(Zr[Kr][Jr+1]===null)dn+=Sn?yn.line(ln,nn):yn.move(ln,un),fn+=yn.line(ln,xn)+yn.line(hn,xn)+"z",pn.push(dn),gn.push(fn),cn=-1;else{var Fn=Nn(vn,en,tn);dn+=Fn,fn+=Fn,Jr>=Zr[Kr].length-2&&(Sn&&(dn+=yn.line(en,nn)),fn+=yn.line(en,xn)+yn.line(hn,xn)+"z",pn.push(dn),gn.push(fn),cn=-1)}}ln=en,un=tn}return{linePaths:pn,areaPaths:gn,pX:ln,pY:un,pathState:cn,segmentStartX:hn,linePath:dn,areaPath:fn}}},{key:"handleNullDataPoints",value:function(Gr,Yr,Zr,Kr,Qr){var Jr=this.w;if(Gr[Zr][Kr]===null&&Jr.config.markers.showNullDataPoints||Gr[Zr].length===1){var en=this.strokeWidth-Jr.config.markers.strokeWidth/2;en>0||(en=0);var tn=this.markers.plotChartMarkers({pointsPos:Yr,seriesIndex:Qr,j:Kr+1,pSize:en,alwaysDrawMarker:!0});tn!==null&&this.elPointsMain.add(tn)}}}]),Wr}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Wr(en,tn,rn,an){this.xoffset=en,this.yoffset=tn,this.height=an,this.width=rn,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(nn){var sn,ln=[],un=this.xoffset,cn=this.yoffset,hn=Qr(nn)/this.height,dn=Qr(nn)/this.width;if(this.width>=this.height)for(sn=0;sn<nn.length;sn++)ln.push([un,cn,un+hn,cn+nn[sn]/hn]),cn+=nn[sn]/hn;else for(sn=0;sn<nn.length;sn++)ln.push([un,cn,un+nn[sn]/dn,cn+dn]),un+=nn[sn]/dn;return ln},this.cutArea=function(nn){var sn;if(this.width>=this.height){var ln=nn/this.height,un=this.width-ln;sn=new Wr(this.xoffset+ln,this.yoffset,un,this.height)}else{var cn=nn/this.width,hn=this.height-cn;sn=new Wr(this.xoffset,this.yoffset+cn,this.width,hn)}return sn}}function Gr(en,tn,rn,an,nn){an=an===void 0?0:an,nn=nn===void 0?0:nn;var sn=Yr(function(ln,un){var cn,hn=[],dn=un/Qr(ln);for(cn=0;cn<ln.length;cn++)hn[cn]=ln[cn]*dn;return hn}(en,tn*rn),[],new Wr(an,nn,tn,rn),[]);return function(ln){var un,cn,hn=[];for(un=0;un<ln.length;un++)for(cn=0;cn<ln[un].length;cn++)hn.push(ln[un][cn]);return hn}(sn)}function Yr(en,tn,rn,an){var nn,sn,ln;if(en.length!==0)return nn=rn.shortestEdge(),function(un,cn,hn){var dn;if(un.length===0)return!0;(dn=un.slice()).push(cn);var fn=Zr(un,hn),pn=Zr(dn,hn);return fn>=pn}(tn,sn=en[0],nn)?(tn.push(sn),Yr(en.slice(1),tn,rn,an)):(ln=rn.cutArea(Qr(tn),an),an.push(rn.getCoordinates(tn)),Yr(en,[],ln,an)),an;an.push(rn.getCoordinates(tn))}function Zr(en,tn){var rn=Math.min.apply(Math,en),an=Math.max.apply(Math,en),nn=Qr(en);return Math.max(Math.pow(tn,2)*an/Math.pow(nn,2),Math.pow(nn,2)/(Math.pow(tn,2)*rn))}function Kr(en){return en&&en.constructor===Array}function Qr(en){var tn,rn=0;for(tn=0;tn<en.length;tn++)rn+=en[tn];return rn}function Jr(en){var tn,rn=0;if(Kr(en[0]))for(tn=0;tn<en.length;tn++)rn+=Jr(en[tn]);else rn=Qr(en);return rn}return function en(tn,rn,an,nn,sn){nn=nn===void 0?0:nn,sn=sn===void 0?0:sn;var ln,un,cn=[],hn=[];if(Kr(tn[0])){for(un=0;un<tn.length;un++)cn[un]=Jr(tn[un]);for(ln=Gr(cn,rn,an,nn,sn),un=0;un<tn.length;un++)hn.push(en(tn[un],ln[un][2]-ln[un][0],ln[un][3]-ln[un][1],ln[un][0],ln[un][1]))}else hn=Gr(tn,rn,an,nn,sn);return hn}}();var Ga=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new za(Gr),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return s(Wr,[{key:"draw",value:function(Gr){var Yr=this,Zr=this.w,Kr=new Mi(this.ctx),Qr=new ji(this.ctx),Jr=Kr.group({class:"apexcharts-treemap"});if(Zr.globals.noData)return Jr;var en=[];return Gr.forEach(function(tn){var rn=tn.map(function(an){return Math.abs(an)});en.push(rn)}),this.negRange=this.helpers.checkColorRange(),Zr.config.series.forEach(function(tn,rn){tn.data.forEach(function(an){Array.isArray(Yr.labels[rn])||(Yr.labels[rn]=[]),Yr.labels[rn].push(an.x)})}),window.TreemapSquared.generate(en,Zr.globals.gridWidth,Zr.globals.gridHeight).forEach(function(tn,rn){var an=Kr.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:v.escapeString(Zr.globals.seriesNames[rn]),rel:rn+1,"data:realIndex":rn});if(Zr.config.chart.dropShadow.enabled){var nn=Zr.config.chart.dropShadow;new Li(Yr.ctx).dropShadow(Jr,nn,rn)}var sn=Kr.group({class:"apexcharts-data-labels"}),ln={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};tn.forEach(function(Tn,Mn){var En=Tn[0],Ln=Tn[1],In=Tn[2],Pn=Tn[3];ln.xMin=Math.min(ln.xMin,En),ln.yMin=Math.min(ln.yMin,Ln),ln.xMax=Math.max(ln.xMax,In),ln.yMax=Math.max(ln.yMax,Pn);var Dn=Yr.helpers.getShadeColor(Zr.config.chart.type,rn,Mn,Yr.negRange),kn=Dn.color,Nn=Qr.fillPath({color:kn,seriesNumber:rn,dataPointIndex:Mn}),Rn=Kr.drawRect(En,Ln,In-En,Pn-Ln,Zr.config.plotOptions.treemap.borderRadius,"#fff",1,Yr.strokeWidth,Zr.config.plotOptions.treemap.useFillColorAsStroke?kn:Zr.globals.stroke.colors[rn]);Rn.attr({cx:En,cy:Ln,index:rn,i:rn,j:Mn,width:In-En,height:Pn-Ln,fill:Nn}),Rn.node.classList.add("apexcharts-treemap-rect"),Yr.helpers.addListeners(Rn);var Fn={x:En+(In-En)/2,y:Ln+(Pn-Ln)/2,width:0,height:0},Hn={x:En,y:Ln,width:In-En,height:Pn-Ln};if(Zr.config.chart.animations.enabled&&!Zr.globals.dataChanged){var Gn=1;Zr.globals.resized||(Gn=Zr.config.chart.animations.speed),Yr.animateTreemap(Rn,Fn,Hn,Gn)}if(Zr.globals.dataChanged){var zn=1;Yr.dynamicAnim.enabled&&Zr.globals.shouldAnimate&&(zn=Yr.dynamicAnim.speed,Zr.globals.previousPaths[rn]&&Zr.globals.previousPaths[rn][Mn]&&Zr.globals.previousPaths[rn][Mn].rect&&(Fn=Zr.globals.previousPaths[rn][Mn].rect),Yr.animateTreemap(Rn,Fn,Hn,zn))}var On=Yr.getFontSize(Tn),Bn=Zr.config.dataLabels.formatter(Yr.labels[rn][Mn],{value:Zr.globals.series[rn][Mn],seriesIndex:rn,dataPointIndex:Mn,w:Zr});Zr.config.plotOptions.treemap.dataLabels.format==="truncate"&&(On=parseInt(Zr.config.dataLabels.style.fontSize,10),Bn=Yr.truncateLabels(Bn,On,En,Ln,In,Pn));var $n=null;Zr.globals.series[rn][Mn]&&($n=Yr.helpers.calculateDataLabels({text:Bn,x:(En+In)/2,y:(Ln+Pn)/2+Yr.strokeWidth/2+On/3,i:rn,j:Mn,colorProps:Dn,fontSize:On,series:Gr})),Zr.config.dataLabels.enabled&&$n&&Yr.rotateToFitLabel($n,On,Bn,En,Ln,In,Pn),an.add(Rn),$n!==null&&an.add($n)});var un=Zr.config.plotOptions.treemap.seriesTitle;if(Zr.config.series.length>1&&un&&un.show){var cn=Zr.config.series[rn].name||"";if(cn&&ln.xMin<1/0&&ln.yMin<1/0){var hn=un.offsetX,dn=un.offsetY,fn=un.borderColor,pn=un.borderWidth,gn=un.borderRadius,vn=un.style,mn=vn.color||Zr.config.chart.foreColor,yn={left:vn.padding.left,right:vn.padding.right,top:vn.padding.top,bottom:vn.padding.bottom},xn=Kr.getTextRects(cn,vn.fontSize,vn.fontFamily),bn=xn.width+yn.left+yn.right,Sn=xn.height+yn.top+yn.bottom,wn=ln.xMin+(hn||0),_n=ln.yMin+(dn||0),An=Kr.drawRect(wn,_n,bn,Sn,gn,vn.background,1,pn,fn),Cn=Kr.drawText({x:wn+yn.left,y:_n+yn.top+.75*xn.height,text:cn,fontSize:vn.fontSize,fontFamily:vn.fontFamily,fontWeight:vn.fontWeight,foreColor:mn,cssClass:vn.cssClass||""});an.add(An),an.add(Cn)}}an.add(sn),Jr.add(an)}),Jr}},{key:"getFontSize",value:function(Gr){var Yr=this.w,Zr=function Kr(Qr){var Jr,en=0;if(Array.isArray(Qr[0]))for(Jr=0;Jr<Qr.length;Jr++)en+=Kr(Qr[Jr]);else for(Jr=0;Jr<Qr.length;Jr++)en+=Qr[Jr].length;return en}(this.labels)/function Kr(Qr){var Jr,en=0;if(Array.isArray(Qr[0]))for(Jr=0;Jr<Qr.length;Jr++)en+=Kr(Qr[Jr]);else for(Jr=0;Jr<Qr.length;Jr++)en+=1;return en}(this.labels);return function(Kr,Qr){var Jr=Kr*Qr,en=Math.pow(Jr,.5);return Math.min(en/Zr,parseInt(Yr.config.dataLabels.style.fontSize,10))}(Gr[2]-Gr[0],Gr[3]-Gr[1])}},{key:"rotateToFitLabel",value:function(Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=new Mi(this.ctx),rn=tn.getTextRects(Zr,Yr);if(rn.width+this.w.config.stroke.width+5>Jr-Kr&&rn.width<=en-Qr){var an=tn.rotateAroundCenter(Gr.node);Gr.node.setAttribute("transform","rotate(-90 ".concat(an.x," ").concat(an.y,") translate(").concat(rn.height/3,")"))}}},{key:"truncateLabels",value:function(Gr,Yr,Zr,Kr,Qr,Jr){var en=new Mi(this.ctx),tn=en.getTextRects(Gr,Yr).width+this.w.config.stroke.width+5>Qr-Zr&&Jr-Kr>Qr-Zr?Jr-Kr:Qr-Zr,rn=en.getTextBasedOnMaxWidth({text:Gr,maxWidth:tn,fontSize:Yr});return Gr.length!==rn.length&&tn/Yr<5?"":rn}},{key:"animateTreemap",value:function(Gr,Yr,Zr,Kr){var Qr=new y(this.ctx);Qr.animateRect(Gr,Yr,Zr,Kr,function(){Qr.animationCompleted(Gr)})}}]),Wr}(),ja=86400,Va=10/ja,Ua=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s(Wr,[{key:"calculateTimeScaleTicks",value:function(Gr,Yr){var Zr=this,Kr=this.w;if(Kr.globals.allSeriesCollapsed)return Kr.globals.labels=[],Kr.globals.timescaleLabels=[],[];var Qr=new zi(this.ctx),Jr=(Yr-Gr)/864e5;this.determineInterval(Jr),Kr.globals.disableZoomIn=!1,Kr.globals.disableZoomOut=!1,Jr<Va?Kr.globals.disableZoomIn=!0:Jr>5e4&&(Kr.globals.disableZoomOut=!0);var en=Qr.getTimeUnitsfromTimestamp(Gr,Yr,this.utc),tn=Kr.globals.gridWidth/Jr,rn=tn/24,an=rn/60,nn=an/60,sn=Math.floor(24*Jr),ln=Math.floor(1440*Jr),un=Math.floor(Jr*ja),cn=Math.floor(Jr),hn=Math.floor(Jr/30),dn=Math.floor(Jr/365),fn={minMillisecond:en.minMillisecond,minSecond:en.minSecond,minMinute:en.minMinute,minHour:en.minHour,minDate:en.minDate,minMonth:en.minMonth,minYear:en.minYear},pn={firstVal:fn,currentMillisecond:fn.minMillisecond,currentSecond:fn.minSecond,currentMinute:fn.minMinute,currentHour:fn.minHour,currentMonthDate:fn.minDate,currentDate:fn.minDate,currentMonth:fn.minMonth,currentYear:fn.minYear,daysWidthOnXAxis:tn,hoursWidthOnXAxis:rn,minutesWidthOnXAxis:an,secondsWidthOnXAxis:nn,numberOfSeconds:un,numberOfMinutes:ln,numberOfHours:sn,numberOfDays:cn,numberOfMonths:hn,numberOfYears:dn};switch(this.tickInterval){case"years":this.generateYearScale(pn);break;case"months":case"half_year":this.generateMonthScale(pn);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(pn);break;case"hours":this.generateHourScale(pn);break;case"minutes_fives":case"minutes":this.generateMinuteScale(pn);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(pn)}var gn=this.timeScaleArray.map(function(vn){var mn={position:vn.position,unit:vn.unit,year:vn.year,day:vn.day?vn.day:1,hour:vn.hour?vn.hour:0,month:vn.month+1};return vn.unit==="month"?u(u({},mn),{},{day:1,value:vn.value+1}):vn.unit==="day"||vn.unit==="hour"?u(u({},mn),{},{value:vn.value}):vn.unit==="minute"?u(u({},mn),{},{value:vn.value,minute:vn.value}):vn.unit==="second"?u(u({},mn),{},{value:vn.value,minute:vn.minute,second:vn.second}):vn});return gn.filter(function(vn){var mn=1,yn=Math.ceil(Kr.globals.gridWidth/120),xn=vn.value;Kr.config.xaxis.tickAmount!==void 0&&(yn=Kr.config.xaxis.tickAmount),gn.length>yn&&(mn=Math.floor(gn.length/yn));var bn=!1,Sn=!1;switch(Zr.tickInterval){case"years":vn.unit==="year"&&(bn=!0);break;case"half_year":mn=7,vn.unit==="year"&&(bn=!0);break;case"months":mn=1,vn.unit==="year"&&(bn=!0);break;case"months_fortnight":mn=15,vn.unit!=="year"&&vn.unit!=="month"||(bn=!0),xn===30&&(Sn=!0);break;case"months_days":mn=10,vn.unit==="month"&&(bn=!0),xn===30&&(Sn=!0);break;case"week_days":mn=8,vn.unit==="month"&&(bn=!0);break;case"days":mn=1,vn.unit==="month"&&(bn=!0);break;case"hours":vn.unit==="day"&&(bn=!0);break;case"minutes_fives":case"seconds_fives":xn%5!=0&&(Sn=!0);break;case"seconds_tens":xn%10!=0&&(Sn=!0)}if(Zr.tickInterval==="hours"||Zr.tickInterval==="minutes_fives"||Zr.tickInterval==="seconds_tens"||Zr.tickInterval==="seconds_fives"){if(!Sn)return!0}else if((xn%mn==0||bn)&&!Sn)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(Gr,Yr){var Zr=this.w,Kr=this.formatDates(Gr),Qr=this.removeOverlappingTS(Kr);Zr.globals.timescaleLabels=Qr.slice(),new pa(this.ctx).plotCoords()}},{key:"determineInterval",value:function(Gr){var Yr=24*Gr,Zr=60*Yr;switch(!0){case Gr/365>5:this.tickInterval="years";break;case Gr>800:this.tickInterval="half_year";break;case Gr>180:this.tickInterval="months";break;case Gr>90:this.tickInterval="months_fortnight";break;case Gr>60:this.tickInterval="months_days";break;case Gr>30:this.tickInterval="week_days";break;case Gr>2:this.tickInterval="days";break;case Yr>2.4:this.tickInterval="hours";break;case Zr>15:this.tickInterval="minutes_fives";break;case Zr>5:this.tickInterval="minutes";break;case Zr>1:this.tickInterval="seconds_tens";break;case 60*Zr>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(Gr){var Yr=Gr.firstVal,Zr=Gr.currentMonth,Kr=Gr.currentYear,Qr=Gr.daysWidthOnXAxis,Jr=Gr.numberOfYears,en=Yr.minYear,tn=0,rn=new zi(this.ctx),an="year";if(Yr.minDate>1||Yr.minMonth>0){var nn=rn.determineRemainingDaysOfYear(Yr.minYear,Yr.minMonth,Yr.minDate);tn=(rn.determineDaysOfYear(Yr.minYear)-nn+1)*Qr,en=Yr.minYear+1,this.timeScaleArray.push({position:tn,value:en,unit:an,year:en,month:v.monthMod(Zr+1)})}else Yr.minDate===1&&Yr.minMonth===0&&this.timeScaleArray.push({position:tn,value:en,unit:an,year:Kr,month:v.monthMod(Zr+1)});for(var sn=en,ln=tn,un=0;un<Jr;un++)sn++,ln=rn.determineDaysOfYear(sn-1)*Qr+ln,this.timeScaleArray.push({position:ln,value:sn,unit:an,year:sn,month:1})}},{key:"generateMonthScale",value:function(Gr){var Yr=Gr.firstVal,Zr=Gr.currentMonthDate,Kr=Gr.currentMonth,Qr=Gr.currentYear,Jr=Gr.daysWidthOnXAxis,en=Gr.numberOfMonths,tn=Kr,rn=0,an=new zi(this.ctx),nn="month",sn=0;if(Yr.minDate>1){rn=(an.determineDaysOfMonths(Kr+1,Yr.minYear)-Zr+1)*Jr,tn=v.monthMod(Kr+1);var ln=Qr+sn,un=v.monthMod(tn),cn=tn;tn===0&&(nn="year",cn=ln,un=1,ln+=sn+=1),this.timeScaleArray.push({position:rn,value:cn,unit:nn,year:ln,month:un})}else this.timeScaleArray.push({position:rn,value:tn,unit:nn,year:Qr,month:v.monthMod(Kr)});for(var hn=tn+1,dn=rn,fn=0,pn=1;fn<en;fn++,pn++){(hn=v.monthMod(hn))===0?(nn="year",sn+=1):nn="month";var gn=this._getYear(Qr,hn,sn);dn=an.determineDaysOfMonths(hn,gn)*Jr+dn;var vn=hn===0?gn:hn;this.timeScaleArray.push({position:dn,value:vn,unit:nn,year:gn,month:hn===0?1:hn}),hn++}}},{key:"generateDayScale",value:function(Gr){var Yr=Gr.firstVal,Zr=Gr.currentMonth,Kr=Gr.currentYear,Qr=Gr.hoursWidthOnXAxis,Jr=Gr.numberOfDays,en=new zi(this.ctx),tn="day",rn=Yr.minDate+1,an=rn,nn=function(pn,gn,vn){return pn>en.determineDaysOfMonths(gn+1,vn)&&(an=1,tn="month",ln=gn+=1),gn},sn=(24-Yr.minHour)*Qr,ln=rn,un=nn(an,Zr,Kr);Yr.minHour===0&&Yr.minDate===1?(sn=0,ln=v.monthMod(Yr.minMonth),tn="month",an=Yr.minDate):Yr.minDate!==1&&Yr.minHour===0&&Yr.minMinute===0&&(sn=0,rn=Yr.minDate,ln=rn,un=nn(an=rn,Zr,Kr),ln!==1&&(tn="day")),this.timeScaleArray.push({position:sn,value:ln,unit:tn,year:this._getYear(Kr,un,0),month:v.monthMod(un),day:an});for(var cn=sn,hn=0;hn<Jr;hn++){tn="day",un=nn(an+=1,un,this._getYear(Kr,un,0));var dn=this._getYear(Kr,un,0);cn=24*Qr+cn;var fn=an===1?v.monthMod(un):an;this.timeScaleArray.push({position:cn,value:fn,unit:tn,year:dn,month:v.monthMod(un),day:fn})}}},{key:"generateHourScale",value:function(Gr){var Yr=Gr.firstVal,Zr=Gr.currentDate,Kr=Gr.currentMonth,Qr=Gr.currentYear,Jr=Gr.minutesWidthOnXAxis,en=Gr.numberOfHours,tn=new zi(this.ctx),rn="hour",an=function(mn,yn){return mn>tn.determineDaysOfMonths(yn+1,Qr)&&(hn=1,yn+=1),{month:yn,date:hn}},nn=function(mn,yn){return mn>tn.determineDaysOfMonths(yn+1,Qr)?yn+=1:yn},sn=60-(Yr.minMinute+Yr.minSecond/60),ln=sn*Jr,un=Yr.minHour+1,cn=un;sn===60&&(ln=0,cn=un=Yr.minHour);var hn=Zr;cn>=24&&(cn=0,rn="day",un=hn+=1);var dn=an(hn,Kr).month;dn=nn(hn,dn),un>31&&(un=hn=1),this.timeScaleArray.push({position:ln,value:un,unit:rn,day:hn,hour:cn,year:Qr,month:v.monthMod(dn)}),cn++;for(var fn=ln,pn=0;pn<en;pn++){rn="hour",cn>=24&&(cn=0,rn="day",dn=an(hn+=1,dn).month,dn=nn(hn,dn));var gn=this._getYear(Qr,dn,0);fn=60*Jr+fn;var vn=cn===0?hn:cn;this.timeScaleArray.push({position:fn,value:vn,unit:rn,hour:cn,day:hn,year:gn,month:v.monthMod(dn)}),cn++}}},{key:"generateMinuteScale",value:function(Gr){for(var Yr=Gr.currentMillisecond,Zr=Gr.currentSecond,Kr=Gr.currentMinute,Qr=Gr.currentHour,Jr=Gr.currentDate,en=Gr.currentMonth,tn=Gr.currentYear,rn=Gr.minutesWidthOnXAxis,an=Gr.secondsWidthOnXAxis,nn=Gr.numberOfMinutes,sn=Kr+1,ln=Jr,un=en,cn=tn,hn=Qr,dn=(60-Zr-Yr/1e3)*an,fn=0;fn<nn;fn++)sn>=60&&(sn=0,(hn+=1)===24&&(hn=0)),this.timeScaleArray.push({position:dn,value:sn,unit:"minute",hour:hn,minute:sn,day:ln,year:this._getYear(cn,un,0),month:v.monthMod(un)}),dn+=rn,sn++}},{key:"generateSecondScale",value:function(Gr){for(var Yr=Gr.currentMillisecond,Zr=Gr.currentSecond,Kr=Gr.currentMinute,Qr=Gr.currentHour,Jr=Gr.currentDate,en=Gr.currentMonth,tn=Gr.currentYear,rn=Gr.secondsWidthOnXAxis,an=Gr.numberOfSeconds,nn=Zr+1,sn=Kr,ln=Jr,un=en,cn=tn,hn=Qr,dn=(1e3-Yr)/1e3*rn,fn=0;fn<an;fn++)nn>=60&&(nn=0,++sn>=60&&(sn=0,++hn===24&&(hn=0))),this.timeScaleArray.push({position:dn,value:nn,unit:"second",hour:hn,minute:sn,second:nn,day:ln,year:this._getYear(cn,un,0),month:v.monthMod(un)}),dn+=rn,nn++}},{key:"createRawDateString",value:function(Gr,Yr){var Zr=Gr.year;return Gr.month===0&&(Gr.month=1),Zr+="-"+("0"+Gr.month.toString()).slice(-2),Gr.unit==="day"?Zr+=Gr.unit==="day"?"-"+("0"+Yr).slice(-2):"-01":Zr+="-"+("0"+(Gr.day?Gr.day:"1")).slice(-2),Gr.unit==="hour"?Zr+=Gr.unit==="hour"?"T"+("0"+Yr).slice(-2):"T00":Zr+="T"+("0"+(Gr.hour?Gr.hour:"0")).slice(-2),Gr.unit==="minute"?Zr+=":"+("0"+Yr).slice(-2):Zr+=":"+(Gr.minute?("0"+Gr.minute).slice(-2):"00"),Gr.unit==="second"?Zr+=":"+("0"+Yr).slice(-2):Zr+=":00",this.utc&&(Zr+=".000Z"),Zr}},{key:"formatDates",value:function(Gr){var Yr=this,Zr=this.w;return Gr.map(function(Kr){var Qr=Kr.value.toString(),Jr=new zi(Yr.ctx),en=Yr.createRawDateString(Kr,Qr),tn=Jr.getDate(Jr.parseDate(en));if(Yr.utc||(tn=Jr.getDate(Jr.parseDateWithTimezone(en))),Zr.config.xaxis.labels.format===void 0){var rn="dd MMM",an=Zr.config.xaxis.labels.datetimeFormatter;Kr.unit==="year"&&(rn=an.year),Kr.unit==="month"&&(rn=an.month),Kr.unit==="day"&&(rn=an.day),Kr.unit==="hour"&&(rn=an.hour),Kr.unit==="minute"&&(rn=an.minute),Kr.unit==="second"&&(rn=an.second),Qr=Jr.formatDate(tn,rn)}else Qr=Jr.formatDate(tn,Zr.config.xaxis.labels.format);return{dateString:en,position:Kr.position,value:Qr,unit:Kr.unit,year:Kr.year,month:Kr.month}})}},{key:"removeOverlappingTS",value:function(Gr){var Yr,Zr=this,Kr=new Mi(this.ctx),Qr=!1;Gr.length>0&&Gr[0].value&&Gr.every(function(tn){return tn.value.length===Gr[0].value.length})&&(Qr=!0,Yr=Kr.getTextRects(Gr[0].value).width);var Jr=0,en=Gr.map(function(tn,rn){if(rn>0&&Zr.w.config.xaxis.labels.hideOverlappingLabels){var an=Qr?Yr:Kr.getTextRects(Gr[Jr].value).width,nn=Gr[Jr].position;return tn.position>nn+an+10?(Jr=rn,tn):null}return tn});return en=en.filter(function(tn){return tn!==null})}},{key:"_getYear",value:function(Gr,Yr,Zr){return Gr+Math.floor(Yr/12)+Zr}}]),Wr}(),qa=function(){function Wr(Gr,Yr){i$1(this,Wr),this.ctx=Yr,this.w=Yr.w,this.el=Gr}return s(Wr,[{key:"setupElements",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=Gr.config,Kr=Zr.chart.type;Yr.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(Kr),Yr.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(Kr),Yr.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(Kr)&&Zr.plotOptions.bar.horizontal,Yr.chartClass=".apexcharts".concat(Yr.chartID),Yr.dom.baseEl=this.el,Yr.dom.elWrap=document.createElement("div"),Mi.setAttrs(Yr.dom.elWrap,{id:Yr.chartClass.substring(1),class:"apexcharts-canvas ".concat(Yr.chartClass.substring(1))}),this.el.appendChild(Yr.dom.elWrap),Yr.dom.Paper=window.SVG().addTo(Yr.dom.elWrap),Yr.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(Zr.chart.offsetX,", ").concat(Zr.chart.offsetY,")")}),Yr.dom.Paper.node.style.background=Zr.theme.mode!=="dark"||Zr.chart.background?Zr.theme.mode!=="light"||Zr.chart.background?Zr.chart.background:"#fff":"#424242",this.setSVGDimensions(),Yr.dom.elLegendForeign=document.createElementNS(Yr.SVGNS,"foreignObject"),Mi.setAttrs(Yr.dom.elLegendForeign,{x:0,y:0,width:Yr.svgWidth,height:Yr.svgHeight}),Yr.dom.elLegendWrap=document.createElement("div"),Yr.dom.elLegendWrap.classList.add("apexcharts-legend"),Yr.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Yr.dom.elLegendForeign.appendChild(Yr.dom.elLegendWrap),Yr.dom.Paper.node.appendChild(Yr.dom.elLegendForeign),Yr.dom.elGraphical=Yr.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),Yr.dom.elDefs=Yr.dom.Paper.defs(),Yr.dom.Paper.add(Yr.dom.elGraphical),Yr.dom.elGraphical.add(Yr.dom.elDefs)}},{key:"plotChartType",value:function(Gr,Yr){var Zr=this.w,Kr=this.ctx,Qr=Zr.config,Jr=Zr.globals,en={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},tn=Qr.chart.type||"line",rn=null,an=0;Jr.series.forEach(function(mn,yn){var xn=Gr[yn].type||tn;en[xn]?(xn==="rangeArea"?(en[xn].series.push(Jr.seriesRangeStart[yn]),en[xn].seriesRangeEnd.push(Jr.seriesRangeEnd[yn])):en[xn].series.push(mn),en[xn].i.push(yn),xn!=="column"&&xn!=="bar"||(Zr.globals.columnSeries=en.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(xn)?rn=xn:xn==="bar"?(en.column.series.push(mn),en.column.i.push(yn)):console.warn("You have specified an unrecognized series type (".concat(xn,").")),tn!==xn&&xn!=="scatter"&&an++}),an>0&&(rn&&console.warn("Chart or series type ".concat(rn," cannot appear with other chart or series types.")),en.column.series.length>0&&Qr.plotOptions.bar.horizontal&&(an-=en.column.series.length,en.column={series:[],i:[]},Zr.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),Jr.comboCharts||(Jr.comboCharts=an>0);var nn=new Ba(Kr,Yr),sn=new Ta(Kr,Yr);Kr.pie=new Ea(Kr);var ln=new Ha(Kr);Kr.rangeBar=new Oa(Kr,Yr);var un=new Ya(Kr),cn=[];if(Jr.comboCharts){var hn,dn,fn=new Pi(Kr);if(en.area.series.length>0&&(hn=cn).push.apply(hn,f(fn.drawSeriesByGroup(en.area,Jr.areaGroups,"area",nn))),en.column.series.length>0)if(Qr.chart.stacked){var pn=new Ia(Kr,Yr);cn.push(pn.draw(en.column.series,en.column.i))}else Kr.bar=new Pa(Kr,Yr),cn.push(Kr.bar.draw(en.column.series,en.column.i));if(en.rangeArea.series.length>0&&cn.push(nn.draw(en.rangeArea.series,"rangeArea",en.rangeArea.i,en.rangeArea.seriesRangeEnd)),en.line.series.length>0&&(dn=cn).push.apply(dn,f(fn.drawSeriesByGroup(en.line,Jr.lineGroups,"line",nn))),en.candlestick.series.length>0&&cn.push(sn.draw(en.candlestick.series,"candlestick",en.candlestick.i)),en.boxPlot.series.length>0&&cn.push(sn.draw(en.boxPlot.series,"boxPlot",en.boxPlot.i)),en.rangeBar.series.length>0&&cn.push(Kr.rangeBar.draw(en.rangeBar.series,en.rangeBar.i)),en.scatter.series.length>0){var gn=new Ba(Kr,Yr,!0);cn.push(gn.draw(en.scatter.series,"scatter",en.scatter.i))}if(en.bubble.series.length>0){var vn=new Ba(Kr,Yr,!0);cn.push(vn.draw(en.bubble.series,"bubble",en.bubble.i))}}else switch(Qr.chart.type){case"line":cn=nn.draw(Jr.series,"line");break;case"area":cn=nn.draw(Jr.series,"area");break;case"bar":Qr.chart.stacked?cn=new Ia(Kr,Yr).draw(Jr.series):(Kr.bar=new Pa(Kr,Yr),cn=Kr.bar.draw(Jr.series));break;case"candlestick":cn=new Ta(Kr,Yr).draw(Jr.series,"candlestick");break;case"boxPlot":cn=new Ta(Kr,Yr).draw(Jr.series,Qr.chart.type);break;case"rangeBar":cn=Kr.rangeBar.draw(Jr.series);break;case"rangeArea":cn=nn.draw(Jr.seriesRangeStart,"rangeArea",void 0,Jr.seriesRangeEnd);break;case"heatmap":cn=new Xa(Kr,Yr).draw(Jr.series);break;case"treemap":cn=new Ga(Kr,Yr).draw(Jr.series);break;case"pie":case"donut":case"polarArea":cn=Kr.pie.draw(Jr.series);break;case"radialBar":cn=ln.draw(Jr.series);break;case"radar":cn=un.draw(Jr.series);break;default:cn=nn.draw(Jr.series)}return cn}},{key:"setSVGDimensions",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=Gr.config;Zr.chart.width=Zr.chart.width||"100%",Zr.chart.height=Zr.chart.height||"auto",Yr.svgWidth=Zr.chart.width,Yr.svgHeight=Zr.chart.height;var Kr=v.getDimensions(this.el),Qr=Zr.chart.width.toString().split(/[0-9]+/g).pop();Qr==="%"?v.isNumber(Kr[0])&&(Kr[0].width===0&&(Kr=v.getDimensions(this.el.parentNode)),Yr.svgWidth=Kr[0]*parseInt(Zr.chart.width,10)/100):Qr!=="px"&&Qr!==""||(Yr.svgWidth=parseInt(Zr.chart.width,10));var Jr=String(Zr.chart.height).toString().split(/[0-9]+/g).pop();if(Yr.svgHeight!=="auto"&&Yr.svgHeight!=="")if(Jr==="%"){var en=v.getDimensions(this.el.parentNode);Yr.svgHeight=en[1]*parseInt(Zr.chart.height,10)/100}else Yr.svgHeight=parseInt(Zr.chart.height,10);else Yr.svgHeight=Yr.axisCharts?Yr.svgWidth/1.61:Yr.svgWidth/1.2;if(Yr.svgWidth=Math.max(Yr.svgWidth,0),Yr.svgHeight=Math.max(Yr.svgHeight,0),Mi.setAttrs(Yr.dom.Paper.node,{width:Yr.svgWidth,height:Yr.svgHeight}),Jr!=="%"){var tn=Zr.chart.sparkline.enabled?0:Yr.axisCharts?Zr.chart.parentHeightOffset:0;Yr.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(Yr.svgHeight+tn,"px")}Yr.dom.elWrap.style.width="".concat(Yr.svgWidth,"px"),Yr.dom.elWrap.style.height="".concat(Yr.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var Gr=this.w.globals,Yr=Gr.translateY,Zr=Gr.translateX;Mi.setAttrs(Gr.dom.elGraphical.node,{transform:"translate(".concat(Zr,", ").concat(Yr,")")})}},{key:"resizeNonAxisCharts",value:function(){var Gr=this.w,Yr=Gr.globals,Zr=0,Kr=Gr.config.chart.sparkline.enabled?1:15;Kr+=Gr.config.grid.padding.bottom,["top","bottom"].includes(Gr.config.legend.position)&&Gr.config.legend.show&&!Gr.config.legend.floating&&(Zr=new xa(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var Qr=Gr.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),Jr=2.05*Gr.globals.radialSize;if(Qr&&!Gr.config.chart.sparkline.enabled&&Gr.config.plotOptions.radialBar.startAngle!==0){var en=v.getBoundingClientRect(Qr);Jr=en.bottom;var tn=en.bottom-en.top;Jr=Math.max(2.05*Gr.globals.radialSize,tn)}var rn=Math.ceil(Jr+Yr.translateY+Zr+Kr);Yr.dom.elLegendForeign&&Yr.dom.elLegendForeign.setAttribute("height",rn),Gr.config.chart.height&&String(Gr.config.chart.height).includes("%")||(Yr.dom.elWrap.style.height="".concat(rn,"px"),Mi.setAttrs(Yr.dom.Paper.node,{height:rn}),Yr.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(rn,"px"))}},{key:"coreCalculations",value:function(){new ea(this.ctx).init()}},{key:"resetGlobals",value:function(){var Gr=this,Yr=function(){return Gr.w.config.series.map(function(){return[]})},Zr=new Bi,Kr=this.w.globals;Zr.initGlobalVars(Kr),Kr.seriesXvalues=Yr(),Kr.seriesYvalues=Yr()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var Gr=this.w,Yr=null;if(Gr.globals.axisCharts){if(Gr.config.xaxis.crosshairs.position==="back"&&new na(this.ctx).drawXCrosshairs(),Gr.config.yaxis[0].crosshairs.position==="back"&&new na(this.ctx).drawYCrosshairs(),Gr.config.xaxis.type==="datetime"&&Gr.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ua(this.ctx);var Zr=[];isFinite(Gr.globals.minX)&&isFinite(Gr.globals.maxX)&&!Gr.globals.isBarHorizontal?Zr=this.ctx.timeScale.calculateTimeScaleTicks(Gr.globals.minX,Gr.globals.maxX):Gr.globals.isBarHorizontal&&(Zr=this.ctx.timeScale.calculateTimeScaleTicks(Gr.globals.minY,Gr.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(Zr)}Yr=new Pi(this.ctx).getCalculatedRatios()}return Yr}},{key:"updateSourceChart",value:function(Gr){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:Gr.w.globals.minX,max:Gr.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var Gr=this,Yr=this.ctx,Zr=this.w;if(Zr.config.chart.brush.enabled&&typeof Zr.config.chart.events.selection!="function"){var Kr=Array.isArray(Zr.config.chart.brush.targets)?Zr.config.chart.brush.targets:[Zr.config.chart.brush.target];Kr.forEach(function(Qr){var Jr=Yr.constructor.getChartByID(Qr);Jr.w.globals.brushSource=Gr.ctx,typeof Jr.w.config.chart.events.zoomed!="function"&&(Jr.w.config.chart.events.zoomed=function(){return Gr.updateSourceChart(Jr)}),typeof Jr.w.config.chart.events.scrolled!="function"&&(Jr.w.config.chart.events.scrolled=function(){return Gr.updateSourceChart(Jr)})}),Zr.config.chart.events.selection=function(Qr,Jr){Kr.forEach(function(en){Yr.constructor.getChartByID(en).ctx.updateHelpers._updateOptions({xaxis:{min:Jr.xaxis.min,max:Jr.xaxis.max}},!1,!1,!1,!1)})}}}}]),Wr}(),Za=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"_updateOptions",value:function(Gr){var Yr=this,Zr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Kr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Qr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Jr=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(en){var tn=[Yr.ctx];Qr&&(tn=Yr.ctx.getSyncedCharts()),Yr.ctx.w.globals.isExecCalled&&(tn=[Yr.ctx],Yr.ctx.w.globals.isExecCalled=!1),tn.forEach(function(rn,an){var nn=rn.w;if(nn.globals.shouldAnimate=Kr,Zr||(nn.globals.resized=!0,nn.globals.dataChanged=!0,Kr&&rn.series.getPreviousPaths()),Gr&&b(Gr)==="object"&&(rn.config=new Wi(Gr),Gr=Pi.extendArrayProps(rn.config,Gr,nn),rn.w.globals.chartID!==Yr.ctx.w.globals.chartID&&delete Gr.series,nn.config=v.extend(nn.config,Gr),Jr&&(nn.globals.lastXAxis=Gr.xaxis?v.clone(Gr.xaxis):[],nn.globals.lastYAxis=Gr.yaxis?v.clone(Gr.yaxis):[],nn.globals.initialConfig=v.extend({},nn.config),nn.globals.initialSeries=v.clone(nn.config.series),Gr.series))){for(var sn=0;sn<nn.globals.collapsedSeriesIndices.length;sn++){var ln=nn.config.series[nn.globals.collapsedSeriesIndices[sn]];nn.globals.collapsedSeries[sn].data=nn.globals.axisCharts?ln.data.slice():ln}for(var un=0;un<nn.globals.ancillaryCollapsedSeriesIndices.length;un++){var cn=nn.config.series[nn.globals.ancillaryCollapsedSeriesIndices[un]];nn.globals.ancillaryCollapsedSeries[un].data=nn.globals.axisCharts?cn.data.slice():cn}rn.series.emptyCollapsedSeries(nn.config.series)}return rn.update(Gr).then(function(){an===tn.length-1&&en(rn)})})})}},{key:"_updateSeries",value:function(Gr,Yr){var Zr=this,Kr=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(Qr){var Jr,en=Zr.w;return en.globals.shouldAnimate=Yr,en.globals.dataChanged=!0,Yr&&Zr.ctx.series.getPreviousPaths(),en.globals.axisCharts?((Jr=Gr.map(function(tn,rn){return Zr._extendSeries(tn,rn)})).length===0&&(Jr=[{data:[]}]),en.config.series=Jr):en.config.series=Gr.slice(),Kr&&(en.globals.initialConfig.series=v.clone(en.config.series),en.globals.initialSeries=v.clone(en.config.series)),Zr.ctx.update().then(function(){Qr(Zr.ctx)})})}},{key:"_extendSeries",value:function(Gr,Yr){var Zr=this.w,Kr=Zr.config.series[Yr];return u(u({},Zr.config.series[Yr]),{},{name:Gr.name?Gr.name:Kr==null?void 0:Kr.name,color:Gr.color?Gr.color:Kr==null?void 0:Kr.color,type:Gr.type?Gr.type:Kr==null?void 0:Kr.type,group:Gr.group?Gr.group:Kr==null?void 0:Kr.group,hidden:Gr.hidden!==void 0?Gr.hidden:Kr==null?void 0:Kr.hidden,data:Gr.data?Gr.data:Kr==null?void 0:Kr.data,zIndex:Gr.zIndex!==void 0?Gr.zIndex:Yr})}},{key:"toggleDataPointSelection",value:function(Gr,Yr){var Zr=this.w,Kr=null,Qr=".apexcharts-series[data\\:realIndex='".concat(Gr,"']");return Zr.globals.axisCharts?Kr=Zr.globals.dom.Paper.findOne("".concat(Qr," path[j='").concat(Yr,"'], ").concat(Qr," circle[j='").concat(Yr,"'], ").concat(Qr," rect[j='").concat(Yr,"']")):Yr===void 0&&(Kr=Zr.globals.dom.Paper.findOne("".concat(Qr," path[j='").concat(Gr,"']")),Zr.config.chart.type!=="pie"&&Zr.config.chart.type!=="polarArea"&&Zr.config.chart.type!=="donut"||this.ctx.pie.pieClicked(Gr)),Kr?(new Mi(this.ctx).pathMouseDown(Kr,null),Kr.node?Kr.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(Gr){var Yr=this.w;if(["min","max"].forEach(function(Kr){Gr.xaxis[Kr]!==void 0&&(Yr.config.xaxis[Kr]=Gr.xaxis[Kr],Yr.globals.lastXAxis[Kr]=Gr.xaxis[Kr])}),Gr.xaxis.categories&&Gr.xaxis.categories.length&&(Yr.config.xaxis.categories=Gr.xaxis.categories),Yr.config.xaxis.convertedCatToNumeric){var Zr=new Ni(Gr);Gr=Zr.convertCatToNumericXaxis(Gr,this.ctx)}return Gr}},{key:"forceYAxisUpdate",value:function(Gr){return Gr.chart&&Gr.chart.stacked&&Gr.chart.stackType==="100%"&&(Array.isArray(Gr.yaxis)?Gr.yaxis.forEach(function(Yr,Zr){Gr.yaxis[Zr].min=0,Gr.yaxis[Zr].max=100}):(Gr.yaxis.min=0,Gr.yaxis.max=100)),Gr}},{key:"revertDefaultAxisMinMax",value:function(Gr){var Yr=this,Zr=this.w,Kr=Zr.globals.lastXAxis,Qr=Zr.globals.lastYAxis;Gr&&Gr.xaxis&&(Kr=Gr.xaxis),Gr&&Gr.yaxis&&(Qr=Gr.yaxis),Zr.config.xaxis.min=Kr.min,Zr.config.xaxis.max=Kr.max;var Jr=function(en){Qr[en]!==void 0&&(Zr.config.yaxis[en].min=Qr[en].min,Zr.config.yaxis[en].max=Qr[en].max)};Zr.config.yaxis.map(function(en,tn){Zr.globals.zoomed||Qr[tn]!==void 0?Jr(tn):Yr.ctx.opts.yaxis[tn]!==void 0&&(en.min=Yr.ctx.opts.yaxis[tn].min,en.max=Yr.ctx.opts.yaxis[tn].max)})}}]),Wr}();(function(){function Wr(){for(var Qr=arguments.length>0&&arguments[0]!==nn?arguments[0]:[],Jr=arguments.length>1?arguments[1]:nn,en=arguments.length>2?arguments[2]:nn,tn=arguments.length>3?arguments[3]:nn,rn=arguments.length>4?arguments[4]:nn,an=arguments.length>5?arguments[5]:nn,nn=arguments.length>6?arguments[6]:nn,sn=Qr.slice(Jr,en||nn),ln=tn.slice(rn,an||nn),un=0,cn={pos:[0,0],start:[0,0]},hn={pos:[0,0],start:[0,0]};sn[un]=Gr.call(cn,sn[un]),ln[un]=Gr.call(hn,ln[un]),sn[un][0]!=ln[un][0]||sn[un][0]=="M"||sn[un][0]=="A"&&(sn[un][4]!=ln[un][4]||sn[un][5]!=ln[un][5])?(Array.prototype.splice.apply(sn,[un,1].concat(Zr.call(cn,sn[un]))),Array.prototype.splice.apply(ln,[un,1].concat(Zr.call(hn,ln[un])))):(sn[un]=Yr.call(cn,sn[un]),ln[un]=Yr.call(hn,ln[un])),!(++un==sn.length&&un==ln.length);)un==sn.length&&sn.push(["C",cn.pos[0],cn.pos[1],cn.pos[0],cn.pos[1],cn.pos[0],cn.pos[1]]),un==ln.length&&ln.push(["C",hn.pos[0],hn.pos[1],hn.pos[0],hn.pos[1],hn.pos[0],hn.pos[1]]);return{start:sn,dest:ln}}function Gr(Qr){switch(Qr[0]){case"z":case"Z":Qr[0]="L",Qr[1]=this.start[0],Qr[2]=this.start[1];break;case"H":Qr[0]="L",Qr[2]=this.pos[1];break;case"V":Qr[0]="L",Qr[2]=Qr[1],Qr[1]=this.pos[0];break;case"T":Qr[0]="Q",Qr[3]=Qr[1],Qr[4]=Qr[2],Qr[1]=this.reflection[1],Qr[2]=this.reflection[0];break;case"S":Qr[0]="C",Qr[6]=Qr[4],Qr[5]=Qr[3],Qr[4]=Qr[2],Qr[3]=Qr[1],Qr[2]=this.reflection[1],Qr[1]=this.reflection[0]}return Qr}function Yr(Qr){var Jr=Qr.length;return this.pos=[Qr[Jr-2],Qr[Jr-1]],"SCQT".indexOf(Qr[0])!=-1&&(this.reflection=[2*this.pos[0]-Qr[Jr-4],2*this.pos[1]-Qr[Jr-3]]),Qr}function Zr(Qr){var Jr=[Qr];switch(Qr[0]){case"M":return this.pos=this.start=[Qr[1],Qr[2]],Jr;case"L":Qr[5]=Qr[3]=Qr[1],Qr[6]=Qr[4]=Qr[2],Qr[1]=this.pos[0],Qr[2]=this.pos[1];break;case"Q":Qr[6]=Qr[4],Qr[5]=Qr[3],Qr[4]=1*Qr[4]/3+2*Qr[2]/3,Qr[3]=1*Qr[3]/3+2*Qr[1]/3,Qr[2]=1*this.pos[1]/3+2*Qr[2]/3,Qr[1]=1*this.pos[0]/3+2*Qr[1]/3;break;case"A":Jr=function(en,tn){var rn,an,nn,sn,ln,un,cn,hn,dn,fn,pn,gn,vn,mn,yn,xn,bn,Sn,wn,_n,An,Cn,Tn,Mn,En,Ln,In=Math.abs(tn[1]),Pn=Math.abs(tn[2]),Dn=tn[3]%360,kn=tn[4],Nn=tn[5],Rn=tn[6],Fn=tn[7],Hn=new bt(en),Gn=new bt(Rn,Fn),zn=[];if(In===0||Pn===0||Hn.x===Gn.x&&Hn.y===Gn.y)return[["C",Hn.x,Hn.y,Gn.x,Gn.y,Gn.x,Gn.y]];for(rn=new bt((Hn.x-Gn.x)/2,(Hn.y-Gn.y)/2).transform(new vt().rotate(Dn)),an=rn.x*rn.x/(In*In)+rn.y*rn.y/(Pn*Pn),an>1&&(In*=an=Math.sqrt(an),Pn*=an),nn=new vt().rotate(Dn).scale(1/In,1/Pn).rotate(-Dn),Hn=Hn.transform(nn),Gn=Gn.transform(nn),sn=[Gn.x-Hn.x,Gn.y-Hn.y],un=sn[0]*sn[0]+sn[1]*sn[1],ln=Math.sqrt(un),sn[0]/=ln,sn[1]/=ln,cn=un<4?Math.sqrt(1-un/4):0,kn===Nn&&(cn*=-1),hn=new bt((Gn.x+Hn.x)/2+cn*-sn[1],(Gn.y+Hn.y)/2+cn*sn[0]),dn=new bt(Hn.x-hn.x,Hn.y-hn.y),fn=new bt(Gn.x-hn.x,Gn.y-hn.y),pn=Math.acos(dn.x/Math.sqrt(dn.x*dn.x+dn.y*dn.y)),dn.y<0&&(pn*=-1),gn=Math.acos(fn.x/Math.sqrt(fn.x*fn.x+fn.y*fn.y)),fn.y<0&&(gn*=-1),Nn&&pn>gn&&(gn+=2*Math.PI),!Nn&&pn<gn&&(gn-=2*Math.PI),mn=Math.ceil(2*Math.abs(pn-gn)/Math.PI),xn=[],bn=pn,vn=(gn-pn)/mn,yn=4*Math.tan(vn/4)/3,An=0;An<=mn;An++)wn=Math.cos(bn),Sn=Math.sin(bn),_n=new bt(hn.x+wn,hn.y+Sn),xn[An]=[new bt(_n.x+yn*Sn,_n.y-yn*wn),_n,new bt(_n.x-yn*Sn,_n.y+yn*wn)],bn+=vn;for(xn[0][0]=xn[0][1].clone(),xn[xn.length-1][2]=xn[xn.length-1][1].clone(),nn=new vt().rotate(Dn).scale(In,Pn).rotate(-Dn),An=0,Cn=xn.length;An<Cn;An++)xn[An][0]=xn[An][0].transform(nn),xn[An][1]=xn[An][1].transform(nn),xn[An][2]=xn[An][2].transform(nn);for(An=1,Cn=xn.length;An<Cn;An++)Tn=(_n=xn[An-1][2]).x,Mn=_n.y,En=(_n=xn[An][0]).x,Ln=_n.y,Rn=(_n=xn[An][1]).x,Fn=_n.y,zn.push(["C",Tn,Mn,En,Ln,Rn,Fn]);return zn}(this.pos,Qr),Qr=Jr[0]}return Qr[0]="C",this.pos=[Qr[5],Qr[6]],this.reflection=[2*Qr[5]-Qr[3],2*Qr[6]-Qr[4]],Jr}function Kr(){var Qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Jr=arguments.length>1?arguments[1]:void 0;if(Jr===!1)return!1;for(var en=Jr,tn=Qr.length;en<tn;++en)if(Qr[en][0]=="M")return en;return!1}Q(Ee,{morph:function(Qr,Jr,en,tn,rn){for(var an=this.parse(Qr),nn=this.parse(Jr),sn=0,ln=0,un=!1,cn=!1;sn!==!1||ln!==!1;){var hn;un=Kr(an,sn!==!1&&sn+1),cn=Kr(nn,ln!==!1&&ln+1),sn===!1&&(sn=(hn=new Ee(dn.start).bbox()).height==0||hn.width==0?an.push(an[0])-1:an.push(["M",hn.x+hn.width/2,hn.y+hn.height/2])-1),ln===!1&&(ln=(hn=new Ee(dn.dest).bbox()).height==0||hn.width==0?nn.push(nn[0])-1:nn.push(["M",hn.x+hn.width/2,hn.y+hn.height/2])-1);var dn=Wr(an,sn,un,nn,ln,cn);an=an.slice(0,sn).concat(dn.start,un===!1?[]:an.slice(un)),nn=nn.slice(0,ln).concat(dn.dest,cn===!1?[]:nn.slice(cn)),sn=un!==!1&&sn+dn.start.length,ln=cn!==!1&&ln+dn.dest.length}this._array=an,this.destination=new Ee,this.destination._array=nn;var fn=this.fromArray(an.map(function(pn,gn){var vn=nn[gn].map(function(mn,yn){return yn===0?mn:tn.step(pn[yn],nn[gn][yn],en,rn[gn],rn)});return vn}));return fn}})})();const $a=Wr=>(Wr.changedTouches&&(Wr=Wr.changedTouches[0]),{x:Wr.clientX,y:Wr.clientY});class Ja{constructor(Gr){Gr.remember("_draggable",this),this.el=Gr,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(Gr){Gr?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(Gr){const Yr=!Gr.type.indexOf("mouse");if(Yr&&Gr.which!==1&&Gr.buttons!==0||this.el.dispatch("beforedrag",{event:Gr,handler:this}).defaultPrevented)return;Gr.preventDefault(),Gr.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point($a(Gr));const Zr=(Yr?"mouseup":"touchend")+".drag";zt(window,(Yr?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),zt(window,Zr,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:Gr,handler:this,box:this.box})}drag(Gr){const{box:Yr,lastClick:Zr}=this,Kr=this.el.point($a(Gr)),Qr=Kr.x-Zr.x,Jr=Kr.y-Zr.y;if(!Qr&&!Jr)return Yr;const en=Yr.x+Qr,tn=Yr.y+Jr;this.box=new kt(en,tn,Yr.w,Yr.h),this.lastClick=Kr,this.el.dispatch("dragmove",{event:Gr,handler:this,box:this.box}).defaultPrevented||this.move(en,tn)}move(Gr,Yr){this.el.type==="svg"?gi.prototype.move.call(this.el,Gr,Yr):this.el.move(Gr,Yr)}endDrag(Gr){this.drag(Gr),this.el.fire("dragend",{event:Gr,handler:this,box:this.box}),Xt(window,"mousemove.drag"),Xt(window,"touchmove.drag"),Xt(window,"mouseup.drag"),Xt(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Qa(Wr,Gr,Yr,Zr=null){return function(Kr){Kr.preventDefault(),Kr.stopPropagation();var Qr=Kr.pageX||Kr.touches[0].pageX,Jr=Kr.pageY||Kr.touches[0].pageY;Gr.fire(Wr,{x:Qr,y:Jr,event:Kr,index:Zr,points:Yr})}}function Ka([Wr,Gr],{a:Yr,b:Zr,c:Kr,d:Qr,e:Jr,f:en}){return[Wr*Yr+Gr*Kr+Jr,Wr*Zr+Gr*Qr+en]}Q(Gt,{draggable(Wr=!0){return(this.remember("_draggable")||new Ja(this)).init(Wr),this}});let ts=class{constructor(Wr){this.el=Wr,Wr.remember("_selectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Gr=F();this.observer=new Gr.MutationObserver(this.mutationHandler)}init(Wr){this.createHandle=Wr.createHandle||this.createHandleFn,this.createRot=Wr.createRot||this.createRotFn,this.updateHandle=Wr.updateHandle||this.updateHandleFn,this.updateRot=Wr.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Wr,Gr){if(!Wr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Gr)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((Wr,Gr,Yr)=>{const Zr=this.order[Gr];this.createHandle.call(this,this.selection,Wr,Gr,Yr,Zr),this.selection.get(Gr+1).addClass("svg_select_handle svg_select_handle_"+Zr).on("mousedown.selection touchstart.selection",Qa(Zr,this.el,this.handlePoints,Gr))})}createHandleFn(Wr){Wr.polyline()}updateHandleFn(Wr,Gr,Yr,Zr){const Kr=Zr.at(Yr-1),Qr=Zr[(Yr+1)%Zr.length],Jr=Gr,en=[Jr[0]-Kr[0],Jr[1]-Kr[1]],tn=[Jr[0]-Qr[0],Jr[1]-Qr[1]],rn=Math.sqrt(en[0]*en[0]+en[1]*en[1]),an=Math.sqrt(tn[0]*tn[0]+tn[1]*tn[1]),nn=[en[0]/rn,en[1]/rn],sn=[tn[0]/an,tn[1]/an],ln=[Jr[0]-10*nn[0],Jr[1]-10*nn[1]],un=[Jr[0]-10*sn[0],Jr[1]-10*sn[1]];Wr.plot([ln,Jr,un])}updateResizeHandles(){this.handlePoints.forEach((Wr,Gr,Yr)=>{const Zr=this.order[Gr];this.updateHandle.call(this,this.selection.get(Gr+1),Wr,Gr,Yr,Zr)})}createRotFn(Wr){Wr.line(),Wr.circle(5)}getPoint(Wr){return this.handlePoints[this.order.indexOf(Wr)]}getPointHandle(Wr){return this.selection.get(this.order.indexOf(Wr)+1)}updateRotFn(Wr,Gr){const Yr=this.getPoint("t");Wr.get(0).plot(Yr[0],Yr[1],Gr[0],Gr[1]),Wr.get(1).center(Gr[0],Gr[1])}createRotationHandle(){const Wr=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Qa("rot",this.el,this.handlePoints));this.createRot.call(this,Wr)}updateRotationHandle(){const Wr=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Wr,this.rotationPoint,this.handlePoints)}updatePoints(){const Wr=this.el.bbox(),Gr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Wr).map(Yr=>Ka(Yr,Gr)),this.rotationPoint=Ka(this.getRotationPoint(Wr),Gr)}getHandlePoints({x:Wr,x2:Gr,y:Yr,y2:Zr,cx:Kr,cy:Qr}=this.el.bbox()){return[[Wr,Yr],[Kr,Yr],[Gr,Yr],[Gr,Qr],[Gr,Zr],[Kr,Zr],[Wr,Zr],[Wr,Qr]]}getRotationPoint({y:Wr,cx:Gr}=this.el.bbox()){return[Gr,Wr-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const es=Wr=>function(Gr=!0,Yr={}){typeof Gr=="object"&&(Yr=Gr,Gr=!0);let Zr=this.remember("_"+Wr.name);return Zr||(Gr.prototype instanceof ts?(Zr=new Gr(this),Gr=!0):Zr=new Wr(this),this.remember("_"+Wr.name,Zr)),Zr.active(Gr,Yr),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schäfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function is(Wr,Gr,Yr,Zr=null){return function(Kr){Kr.preventDefault(),Kr.stopPropagation();var Qr=Kr.pageX||Kr.touches[0].pageX,Jr=Kr.pageY||Kr.touches[0].pageY;Gr.fire(Wr,{x:Qr,y:Jr,event:Kr,index:Zr,points:Yr})}}function as([Wr,Gr],{a:Yr,b:Zr,c:Kr,d:Qr,e:Jr,f:en}){return[Wr*Yr+Gr*Kr+Jr,Wr*Zr+Gr*Qr+en]}Q(Gt,{select:es(ts)}),Q([Ge,je,xe],{pointSelect:es(class{constructor(Wr){this.el=Wr,Wr.remember("_pointSelectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Gr=F();this.observer=new Gr.MutationObserver(this.mutationHandler)}init(Wr){this.createHandle=Wr.createHandle||this.createHandleFn,this.updateHandle=Wr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(Wr,Gr){if(!Wr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Gr)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((Wr,Gr,Yr)=>{this.createHandle.call(this,this.selection,Wr,Gr,Yr),this.selection.get(Gr+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Qa("point",this.el,this.points,Gr))})}createHandleFn(Wr){Wr.circle(5)}updateHandleFn(Wr,Gr){Wr.center(Gr[0],Gr[1])}updatePointHandles(){this.points.forEach((Wr,Gr,Yr)=>{this.updateHandle.call(this,this.selection.get(Gr+1),Wr,Gr,Yr)})}updatePoints(){const Wr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(Gr=>Ka(Gr,Wr))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class ss{constructor(Gr){this.el=Gr,Gr.remember("_selectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Yr=F();this.observer=new Yr.MutationObserver(this.mutationHandler)}init(Gr){this.createHandle=Gr.createHandle||this.createHandleFn,this.createRot=Gr.createRot||this.createRotFn,this.updateHandle=Gr.updateHandle||this.updateHandleFn,this.updateRot=Gr.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(Gr,Yr){if(!Gr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Yr)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((Gr,Yr,Zr)=>{const Kr=this.order[Yr];this.createHandle.call(this,this.selection,Gr,Yr,Zr,Kr),this.selection.get(Yr+1).addClass("svg_select_handle svg_select_handle_"+Kr).on("mousedown.selection touchstart.selection",is(Kr,this.el,this.handlePoints,Yr))})}createHandleFn(Gr){Gr.polyline()}updateHandleFn(Gr,Yr,Zr,Kr){const Qr=Kr.at(Zr-1),Jr=Kr[(Zr+1)%Kr.length],en=Yr,tn=[en[0]-Qr[0],en[1]-Qr[1]],rn=[en[0]-Jr[0],en[1]-Jr[1]],an=Math.sqrt(tn[0]*tn[0]+tn[1]*tn[1]),nn=Math.sqrt(rn[0]*rn[0]+rn[1]*rn[1]),sn=[tn[0]/an,tn[1]/an],ln=[rn[0]/nn,rn[1]/nn],un=[en[0]-10*sn[0],en[1]-10*sn[1]],cn=[en[0]-10*ln[0],en[1]-10*ln[1]];Gr.plot([un,en,cn])}updateResizeHandles(){this.handlePoints.forEach((Gr,Yr,Zr)=>{const Kr=this.order[Yr];this.updateHandle.call(this,this.selection.get(Yr+1),Gr,Yr,Zr,Kr)})}createRotFn(Gr){Gr.line(),Gr.circle(5)}getPoint(Gr){return this.handlePoints[this.order.indexOf(Gr)]}getPointHandle(Gr){return this.selection.get(this.order.indexOf(Gr)+1)}updateRotFn(Gr,Yr){const Zr=this.getPoint("t");Gr.get(0).plot(Zr[0],Zr[1],Yr[0],Yr[1]),Gr.get(1).center(Yr[0],Yr[1])}createRotationHandle(){const Gr=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",is("rot",this.el,this.handlePoints));this.createRot.call(this,Gr)}updateRotationHandle(){const Gr=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(Gr,this.rotationPoint,this.handlePoints)}updatePoints(){const Gr=this.el.bbox(),Yr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(Gr).map(Zr=>as(Zr,Yr)),this.rotationPoint=as(this.getRotationPoint(Gr),Yr)}getHandlePoints({x:Gr,x2:Yr,y:Zr,y2:Kr,cx:Qr,cy:Jr}=this.el.bbox()){return[[Gr,Zr],[Qr,Zr],[Yr,Zr],[Yr,Jr],[Yr,Kr],[Qr,Kr],[Gr,Kr],[Gr,Jr]]}getRotationPoint({y:Gr,cx:Yr}=this.el.bbox()){return[Yr,Gr-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const rs=Wr=>function(Gr=!0,Yr={}){typeof Gr=="object"&&(Yr=Gr,Gr=!0);let Zr=this.remember("_"+Wr.name);return Zr||(Gr.prototype instanceof ss?(Zr=new Gr(this),Gr=!0):Zr=new Wr(this),this.remember("_"+Wr.name,Zr)),Zr.active(Gr,Yr),this};Q(Gt,{select:rs(ss)}),Q([Ge,je,xe],{pointSelect:rs(class{constructor(Wr){this.el=Wr,Wr.remember("_pointSelectHandler",this),this.selection=new gi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const Gr=F();this.observer=new Gr.MutationObserver(this.mutationHandler)}init(Wr){this.createHandle=Wr.createHandle||this.createHandleFn,this.updateHandle=Wr.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(Wr,Gr){if(!Wr)return this.selection.clear().remove(),void this.observer.disconnect();this.init(Gr)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((Wr,Gr,Yr)=>{this.createHandle.call(this,this.selection,Wr,Gr,Yr),this.selection.get(Gr+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",is("point",this.el,this.points,Gr))})}createHandleFn(Wr){Wr.circle(5)}updateHandleFn(Wr,Gr){Wr.center(Gr[0],Gr[1])}updatePointHandles(){this.points.forEach((Wr,Gr,Yr)=>{this.updateHandle.call(this,this.selection.get(Gr+1),Wr,Gr,Yr)})}updatePoints(){const Wr=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(Gr=>as(Gr,Wr))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const ns=Wr=>(Wr.changedTouches&&(Wr=Wr.changedTouches[0]),{x:Wr.clientX,y:Wr.clientY}),os=Wr=>{let Gr=1/0,Yr=1/0,Zr=-1/0,Kr=-1/0;for(let Qr=0;Qr<Wr.length;Qr++){const Jr=Wr[Qr];Gr=Math.min(Gr,Jr[0]),Yr=Math.min(Yr,Jr[1]),Zr=Math.max(Zr,Jr[0]),Kr=Math.max(Kr,Jr[1])}return new kt(Gr,Yr,Zr-Gr,Kr-Yr)};class ls{constructor(Gr){this.el=Gr,Gr.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(Gr,Yr){this.preserveAspectRatio=Yr.preserveAspectRatio??!1,this.aroundCenter=Yr.aroundCenter??!1,this.grid=Yr.grid??0,this.degree=Yr.degree??0,this.el.off(".resize"),Gr&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(Gr){this.eventType=Gr.type;const{event:Yr,index:Zr,points:Kr}=Gr.detail,Qr=!Yr.type.indexOf("mouse");if(Qr&&(Yr.which||Yr.buttons)!==1||this.el.dispatch("beforeresize",{event:Gr,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(ns(Yr)),this.index=Zr,this.points=Kr.slice();const Jr=(Qr?"mousemove":"touchmove")+".resize",en=(Qr?"mouseup":"touchcancel.resize touchend")+".resize";Gr.type==="point"?zt(window,Jr,this.movePoint):Gr.type==="rot"?zt(window,Jr,this.rotate):zt(window,Jr,this.resize),zt(window,en,this.endResize)}resize(Gr){this.lastEvent=Gr;const Yr=this.snapToGrid(this.el.point(ns(Gr)));let Zr=Yr.x-this.startPoint.x,Kr=Yr.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(Zr*=2,Kr*=2);const Qr=this.box.x+Zr,Jr=this.box.y+Kr,en=this.box.x2+Zr,tn=this.box.y2+Kr;let rn=new kt(this.box);if(this.eventType.includes("l")&&(rn.x=Math.min(Qr,this.box.x2),rn.x2=Math.max(Qr,this.box.x2)),this.eventType.includes("r")&&(rn.x=Math.min(en,this.box.x),rn.x2=Math.max(en,this.box.x)),this.eventType.includes("t")&&(rn.y=Math.min(Jr,this.box.y2),rn.y2=Math.max(Jr,this.box.y2)),this.eventType.includes("b")&&(rn.y=Math.min(tn,this.box.y),rn.y2=Math.max(tn,this.box.y)),rn.width=rn.x2-rn.x,rn.height=rn.y2-rn.y,this.preserveAspectRatio){const an=rn.width/this.box.width,nn=rn.height/this.box.height,sn=["lt","t","rt","r","rb","b","lb","l"],ln=(sn.indexOf(this.eventType)+4)%sn.length,un=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[ln];let cn=this.eventType.includes("t")||this.eventType.includes("b")?nn:an;cn=this.eventType.length===2?Math.max(an,nn):cn,rn=function(hn,dn,fn){const pn=[[hn.x,hn.y],[hn.x+hn.width,hn.y],[hn.x+hn.width,hn.y+hn.height],[hn.x,hn.y+hn.height]].map(([gn,vn])=>{const mn=gn-dn[0],yn=(vn-dn[1])*fn;return[mn*fn+dn[0],yn+dn[1]]});return os(pn)}(this.box,un,cn)}this.el.dispatch("resize",{box:new kt(rn),angle:0,eventType:this.eventType,event:Gr,handler:this}).defaultPrevented||this.el.size(rn.width,rn.height).move(rn.x,rn.y)}movePoint(Gr){this.lastEvent=Gr;const{x:Yr,y:Zr}=this.snapToGrid(this.el.point(ns(Gr))),Kr=this.el.array().slice();Kr[this.index]=[Yr,Zr],this.el.dispatch("resize",{box:os(Kr),angle:0,eventType:this.eventType,event:Gr,handler:this}).defaultPrevented||this.el.plot(Kr)}rotate(Gr){this.lastEvent=Gr;const Yr=this.startPoint,Zr=this.el.point(ns(Gr)),{cx:Kr,cy:Qr}=this.box,Jr=Yr.x-Kr,en=Yr.y-Qr,tn=Zr.x-Kr,rn=Zr.y-Qr,an=Math.sqrt(Jr*Jr+en*en)*Math.sqrt(tn*tn+rn*rn);if(an===0)return;let nn=Math.acos((Jr*tn+en*rn)/an)/Math.PI*180;if(!nn)return;Zr.x<Yr.x&&(nn=-nn);const sn=new vt(this.el),{x:ln,y:un}=new bt(Kr,Qr).transformO(sn),{rotate:cn}=sn.decompose(),hn=this.snapToAngle(cn+nn)-cn;this.el.dispatch("resize",{box:this.box,angle:hn,eventType:this.eventType,event:Gr,handler:this}).defaultPrevented||this.el.transform(sn.rotateO(hn,ln,un))}endResize(Gr){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(Gr),this.lastEvent=null,this.eventType="",Xt(window,"mousemove.resize touchmove.resize"),Xt(window,"mouseup.resize touchend.resize")}snapToGrid(Gr){return this.grid&&(Gr.x=Math.round(Gr.x/this.grid)*this.grid,Gr.y=Math.round(Gr.y/this.grid)*this.grid),Gr}snapToAngle(Gr){return this.degree&&(Gr=Math.round(Gr/this.degree)*this.degree),Gr}}Q(Gt,{resize:function(Wr=!0,Gr={}){typeof Wr=="object"&&(Gr=Wr,Wr=!0);let Yr=this.remember("_ResizeHandler");return Yr||(Wr.prototype instanceof ls?(Yr=new Wr(this),Wr=!0):Yr=new ls(this),this.remember("_resizeHandler",Yr)),Yr.active(Wr,Gr),this}}),window.SVG===void 0&&(window.SVG=yi),window.Apex===void 0&&(window.Apex={});var hs=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new y(this.ctx),this.ctx.axes=new ra(this.ctx),this.ctx.core=new qa(this.ctx.el,this.ctx),this.ctx.config=new Wi({}),this.ctx.data=new $i(this.ctx),this.ctx.grid=new Ki(this.ctx),this.ctx.graphics=new Mi(this.ctx),this.ctx.coreUtils=new Pi(this.ctx),this.ctx.crosshairs=new na(this.ctx),this.ctx.events=new aa(this.ctx),this.ctx.exports=new Ji(this.ctx),this.ctx.fill=new ji(this.ctx),this.ctx.localization=new sa(this.ctx),this.ctx.options=new Oi,this.ctx.responsive=new oa(this.ctx),this.ctx.series=new Zi(this.ctx),this.ctx.theme=new la(this.ctx),this.ctx.formatters=new Xi(this.ctx),this.ctx.titleSubtitle=new ha(this.ctx),this.ctx.legend=new xa(this.ctx),this.ctx.toolbar=new ba(this.ctx),this.ctx.tooltip=new Sa(this.ctx),this.ctx.dimensions=new pa(this.ctx),this.ctx.updateHelpers=new Za(this.ctx),this.ctx.zoomPanSelection=new ma(this.ctx),this.ctx.w.globals.tooltip=new Sa(this.ctx)}}]),Wr}(),cs=function(){function Wr(Gr){i$1(this,Wr),this.ctx=Gr,this.w=Gr.w}return s(Wr,[{key:"clear",value:function(Gr){var Yr=Gr.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:Yr})}},{key:"killSVG",value:function(Gr){Gr.each(function(){this.removeClass("*"),this.off()},!0),Gr.clear()}},{key:"clearDomElements",value:function(Gr){var Yr=this,Zr=Gr.isUpdating,Kr=this.w.globals.dom.Paper.node;Kr.parentNode&&Kr.parentNode.parentNode&&!Zr&&(Kr.parentNode.parentNode.style.minHeight="unset");var Qr=this.w.globals.dom.baseEl;Qr&&this.ctx.eventList.forEach(function(en){Qr.removeEventListener(en,Yr.ctx.events.documentEvent)});var Jr=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(Jr.Paper),Jr.Paper.remove(),Jr.elWrap=null,Jr.elGraphical=null,Jr.elLegendWrap=null,Jr.elLegendForeign=null,Jr.baseEl=null,Jr.elGridRect=null,Jr.elGridRectMask=null,Jr.elGridRectBarMask=null,Jr.elGridRectMarkerMask=null,Jr.elForecastMask=null,Jr.elNonForecastMask=null,Jr.elDefs=null}}]),Wr}(),ds=new WeakMap,us=function(){function Wr(Gr,Yr){i$1(this,Wr),this.opts=Yr,this.ctx=this,this.w=new Gi(Yr).init(),this.el=Gr,this.w.globals.cuid=v.randomId(),this.w.globals.chartID=this.w.config.chart.id?v.escapeString(this.w.config.chart.id):this.w.globals.cuid,new hs(this).initModules(),this.create=v.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return s(Wr,[{key:"render",value:function(){var Gr=this;return new Promise(function(Yr,Zr){if(v.elementExists(Gr.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),Gr.w.config.chart.id&&Apex._chartInstances.push({id:Gr.w.globals.chartID,group:Gr.w.config.chart.group,chart:Gr}),Gr.setLocale(Gr.w.config.chart.defaultLocale);var Kr=Gr.w.config.chart.events.beforeMount;typeof Kr=="function"&&Kr(Gr,Gr.w),Gr.events.fireEvent("beforeMount",[Gr,Gr.w]),window.addEventListener("resize",Gr.windowResizeHandler),function(sn,ln){var un=!1;if(sn.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var cn=sn.getBoundingClientRect();sn.style.display!=="none"&&cn.width!==0||(un=!0)}var hn=new ResizeObserver(function(dn){un&&ln.call(sn,dn),un=!0});sn.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(sn.children).forEach(function(dn){return hn.observe(dn)}):hn.observe(sn),ds.set(ln,hn)}(Gr.el.parentNode,Gr.parentResizeHandler);var Qr=Gr.el.getRootNode&&Gr.el.getRootNode(),Jr=v.is("ShadowRoot",Qr),en=Gr.el.ownerDocument,tn=Jr?Qr.getElementById("apexcharts-css"):en.getElementById("apexcharts-css");if(!tn){var rn;(tn=document.createElement("style")).id="apexcharts-css",tn.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var an=((rn=Gr.opts.chart)===null||rn===void 0?void 0:rn.nonce)||Gr.w.config.chart.nonce;an&&tn.setAttribute("nonce",an),Jr?Qr.prepend(tn):en.head.appendChild(tn)}var nn=Gr.create(Gr.w.config.series,{});if(!nn)return Yr(Gr);Gr.mount(nn).then(function(){typeof Gr.w.config.chart.events.mounted=="function"&&Gr.w.config.chart.events.mounted(Gr,Gr.w),Gr.events.fireEvent("mounted",[Gr,Gr.w]),Yr(nn)}).catch(function(sn){Zr(sn)})}else Zr(new Error("Element not found"))})}},{key:"create",value:function(Gr,Yr){var Zr=this,Kr=this.w;new hs(this).initModules();var Qr=this.w.globals;if(Qr.noData=!1,Qr.animationEnded=!1,!v.elementExists(this.el))return Qr.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(Yr),Kr.config.xaxis.convertedCatToNumeric&&new Ni(Kr.config).convertCatToNumericXaxis(Kr.config,this.ctx),this.core.setupElements(),Kr.config.chart.type==="treemap"&&(Kr.config.grid.show=!1,Kr.config.yaxis[0].show=!1),Qr.svgWidth===0)return Qr.animationEnded=!0,null;var Jr=Gr;Gr.forEach(function(sn,ln){sn.hidden&&(Jr=Zr.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:ln}))});var en=Pi.checkComboSeries(Jr,Kr.config.chart.type);Qr.comboCharts=en.comboCharts,Qr.comboBarCount=en.comboBarCount;var tn=Jr.every(function(sn){return sn.data&&sn.data.length===0});(Jr.length===0||tn&&Qr.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(Jr),this.theme.init(),new Vi(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),Qr.noData&&Qr.collapsedSeries.length!==Qr.series.length&&!Kr.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),Qr.axisCharts&&(this.core.coreCalculations(),Kr.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=Kr.globals.minX,this.ctx.toolbar.maxX=Kr.globals.maxX),this.formatters.heatmapLabelFormatters(),new Pi(this).getLargestMarkerSize(),this.dimensions.plotCoords();var rn=this.core.xySettings();this.grid.createGridMask();var an=this.core.plotChartType(Jr,rn),nn=new qi(this);return nn.bringForward(),Kr.config.dataLabels.background.enabled&&nn.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:an,xyRatios:rn,dimensions:{plot:{left:Kr.globals.translateX,top:Kr.globals.translateY,width:Kr.globals.gridWidth,height:Kr.globals.gridHeight}}}}},{key:"mount",value:function(){var Gr=this,Yr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Zr=this,Kr=Zr.w;return new Promise(function(Qr,Jr){if(Zr.el===null)return Jr(new Error("Not enough data to display or target element not found"));(Yr===null||Kr.globals.allSeriesCollapsed)&&Zr.series.handleNoData(),Zr.grid=new Ki(Zr);var en,tn,rn=Zr.grid.drawGrid();if(Zr.annotations=new Fi(Zr),Zr.annotations.drawImageAnnos(),Zr.annotations.drawTextAnnos(),Kr.config.grid.position==="back"&&(rn&&Kr.globals.dom.elGraphical.add(rn.el),rn!=null&&(en=rn.elGridBorders)!==null&&en!==void 0&&en.node&&Kr.globals.dom.elGraphical.add(rn.elGridBorders)),Array.isArray(Yr.elGraph))for(var an=0;an<Yr.elGraph.length;an++)Kr.globals.dom.elGraphical.add(Yr.elGraph[an]);else Kr.globals.dom.elGraphical.add(Yr.elGraph);Kr.config.grid.position==="front"&&(rn&&Kr.globals.dom.elGraphical.add(rn.el),rn!=null&&(tn=rn.elGridBorders)!==null&&tn!==void 0&&tn.node&&Kr.globals.dom.elGraphical.add(rn.elGridBorders)),Kr.config.xaxis.crosshairs.position==="front"&&Zr.crosshairs.drawXCrosshairs(),Kr.config.yaxis[0].crosshairs.position==="front"&&Zr.crosshairs.drawYCrosshairs(),Kr.config.chart.type!=="treemap"&&Zr.axes.drawAxis(Kr.config.chart.type,rn);var nn=new Qi(Gr.ctx,rn),sn=new ia(Gr.ctx,rn);if(rn!==null&&(nn.xAxisLabelCorrections(rn.xAxisTickWidth),sn.setYAxisTextAlignments(),Kr.config.yaxis.map(function(un,cn){Kr.globals.ignoreYAxisIndexes.indexOf(cn)===-1&&sn.yAxisTitleRotate(cn,un.opposite)})),Zr.annotations.drawAxesAnnotations(),!Kr.globals.noData){if(Kr.config.tooltip.enabled&&!Kr.globals.noData&&Zr.w.globals.tooltip.drawTooltip(Yr.xyRatios),Kr.globals.axisCharts&&(Kr.globals.isXNumeric||Kr.config.xaxis.convertedCatToNumeric||Kr.globals.isRangeBar))(Kr.config.chart.zoom.enabled||Kr.config.chart.selection&&Kr.config.chart.selection.enabled||Kr.config.chart.pan&&Kr.config.chart.pan.enabled)&&Zr.zoomPanSelection.init({xyRatios:Yr.xyRatios});else{var ln=Kr.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(un){ln[un]=!1})}Kr.config.chart.toolbar.show&&!Kr.globals.allSeriesCollapsed&&Zr.toolbar.createToolbar()}Kr.globals.memory.methodsToExec.length>0&&Kr.globals.memory.methodsToExec.forEach(function(un){un.method(un.params,!1,un.context)}),Kr.globals.axisCharts||Kr.globals.noData||Zr.core.resizeNonAxisCharts(),Qr(Zr)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(Yr,Zr){var Kr=ds.get(Zr);Kr&&(Kr.disconnect(),ds.delete(Zr))}(this.el.parentNode,this.parentResizeHandler);var Gr=this.w.config.chart.id;Gr&&Apex._chartInstances.forEach(function(Yr,Zr){Yr.id===v.escapeString(Gr)&&Apex._chartInstances.splice(Zr,1)}),new cs(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(Gr){var Yr=this,Zr=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Kr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Qr=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Jr=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],en=this.w;return en.globals.selection=void 0,Gr.series&&(this.series.resetSeries(!1,!0,!1),Gr.series.length&&Gr.series[0].data&&(Gr.series=Gr.series.map(function(tn,rn){return Yr.updateHelpers._extendSeries(tn,rn)})),this.updateHelpers.revertDefaultAxisMinMax()),Gr.xaxis&&(Gr=this.updateHelpers.forceXAxisUpdate(Gr)),Gr.yaxis&&(Gr=this.updateHelpers.forceYAxisUpdate(Gr)),en.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),Gr.theme&&(Gr=this.theme.updateThemeOptions(Gr)),this.updateHelpers._updateOptions(Gr,Zr,Kr,Qr,Jr)}},{key:"updateSeries",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(Gr,Yr,Zr)}},{key:"appendSeries",value:function(Gr){var Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Kr=this.w.config.series.slice();return Kr.push(Gr),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(Kr,Yr,Zr)}},{key:"appendData",value:function(Gr){var Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=this;Zr.w.globals.dataChanged=!0,Zr.series.getPreviousPaths();for(var Kr=Zr.w.config.series.slice(),Qr=0;Qr<Kr.length;Qr++)if(Gr[Qr]!==null&&Gr[Qr]!==void 0)for(var Jr=0;Jr<Gr[Qr].data.length;Jr++)Kr[Qr].data.push(Gr[Qr].data[Jr]);return Zr.w.config.series=Kr,Yr&&(Zr.w.globals.initialSeries=v.clone(Zr.w.config.series)),this.update()}},{key:"update",value:function(Gr){var Yr=this;return new Promise(function(Zr,Kr){new cs(Yr.ctx).clear({isUpdating:!0});var Qr=Yr.create(Yr.w.config.series,Gr);if(!Qr)return Zr(Yr);Yr.mount(Qr).then(function(){typeof Yr.w.config.chart.events.updated=="function"&&Yr.w.config.chart.events.updated(Yr,Yr.w),Yr.events.fireEvent("updated",[Yr,Yr.w]),Yr.w.globals.isDirty=!0,Zr(Yr)}).catch(function(Jr){Kr(Jr)})})}},{key:"getSyncedCharts",value:function(){var Gr=this.getGroupedCharts(),Yr=[this];return Gr.length&&(Yr=[],Gr.forEach(function(Zr){Yr.push(Zr)})),Yr}},{key:"getGroupedCharts",value:function(){var Gr=this;return Apex._chartInstances.filter(function(Yr){if(Yr.group)return!0}).map(function(Yr){return Gr.w.config.chart.group===Yr.group?Yr.chart:Gr})}},{key:"toggleSeries",value:function(Gr){return this.series.toggleSeries(Gr)}},{key:"highlightSeriesOnLegendHover",value:function(Gr,Yr){return this.series.toggleSeriesOnHover(Gr,Yr)}},{key:"showSeries",value:function(Gr){this.series.showSeries(Gr)}},{key:"hideSeries",value:function(Gr){this.series.hideSeries(Gr)}},{key:"highlightSeries",value:function(Gr){this.series.highlightSeries(Gr)}},{key:"isSeriesHidden",value:function(Gr){this.series.isSeriesHidden(Gr)}},{key:"resetSeries",value:function(){var Gr=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(Gr,Yr)}},{key:"addEventListener",value:function(Gr,Yr){this.events.addEventListener(Gr,Yr)}},{key:"removeEventListener",value:function(Gr,Yr){this.events.removeEventListener(Gr,Yr)}},{key:"addXaxisAnnotation",value:function(Gr){var Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Kr=this;Zr&&(Kr=Zr),Kr.annotations.addXaxisAnnotationExternal(Gr,Yr,Kr)}},{key:"addYaxisAnnotation",value:function(Gr){var Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Kr=this;Zr&&(Kr=Zr),Kr.annotations.addYaxisAnnotationExternal(Gr,Yr,Kr)}},{key:"addPointAnnotation",value:function(Gr){var Yr=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Kr=this;Zr&&(Kr=Zr),Kr.annotations.addPointAnnotationExternal(Gr,Yr,Kr)}},{key:"clearAnnotations",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,Yr=this;Gr&&(Yr=Gr),Yr.annotations.clearAnnotations(Yr)}},{key:"removeAnnotation",value:function(Gr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,Zr=this;Yr&&(Zr=Yr),Zr.annotations.removeAnnotation(Zr,Gr)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(Gr,Yr){return this.coreUtils.getSeriesTotalsXRange(Gr,Yr)}},{key:"getHighestValueInSeries",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ea(this.ctx).getMinYMaxY(Gr).highestY}},{key:"getLowestValueInSeries",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ea(this.ctx).getMinYMaxY(Gr).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(Gr,Yr){return this.updateHelpers.toggleDataPointSelection(Gr,Yr)}},{key:"zoomX",value:function(Gr,Yr){this.ctx.toolbar.zoomUpdateOptions(Gr,Yr)}},{key:"setLocale",value:function(Gr){this.localization.setCurrentLocaleValues(Gr)}},{key:"dataURI",value:function(Gr){return new Ji(this.ctx).dataURI(Gr)}},{key:"exportToCSV",value:function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ji(this.ctx).exportToCSV(Gr)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var Gr=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){Gr.w.globals.resized=!0,Gr.w.globals.dataChanged=!1,Gr.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var Gr=this.w.config.chart.redrawOnWindowResize;typeof Gr=="function"&&(Gr=Gr()),Gr&&this._windowResize()}}],[{key:"getChartByID",value:function(Gr){var Yr=v.escapeString(Gr);if(Apex._chartInstances){var Zr=Apex._chartInstances.filter(function(Kr){return Kr.id===Yr})[0];return Zr&&Zr.chart}}},{key:"initOnLoad",value:function(){for(var Gr=document.querySelectorAll("[data-apexcharts]"),Yr=0;Yr<Gr.length;Yr++)new Wr(Gr[Yr],JSON.parse(Gr[Yr].getAttribute("data-options"))).render()}},{key:"exec",value:function(Gr,Yr){var Zr=this.getChartByID(Gr);if(Zr){Zr.w.globals.isExecCalled=!0;var Kr=null;if(Zr.publicMethods.indexOf(Yr)!==-1){for(var Qr=arguments.length,Jr=new Array(Qr>2?Qr-2:0),en=2;en<Qr;en++)Jr[en-2]=arguments[en];Kr=Zr[Yr].apply(Zr,Jr)}return Kr}}},{key:"merge",value:function(Gr,Yr){return v.extend(Gr,Yr)}}]),Wr}();function generateButton(Wr,Gr,Yr="button",Zr="primary",Kr=[]){const Qr=document.createElement("button");return Qr.name=Wr,Qr.type=Yr,Qr.classList.add("relative","inline-flex","items-center","justify-center","py-1.5","px-4","rounded-lg","font-semibold","text-base/6","sm:text-sm/6","focus:outline-none","focus:ring-2","focus:ring-offset-2","shadow-md","transition-colors","duration-200"),Kr.length>0&&Qr.classList.add(...Kr),Zr==="primary"?Qr.classList.add("text-white","bg-zinc-600","hover:bg-zinc-500","focus:ring-zinc-500","dark:bg-zinc-700","dark:hover:bg-zinc-600","dark:focus:ring-zinc-400"):Zr==="secondary"&&Qr.classList.add("text-zinc-900","bg-zinc-200","hover:bg-zinc-300","focus:ring-zinc-500","dark:text-white","dark:bg-zinc-800","dark:hover:bg-zinc-700","dark:focus:ring-zinc-600"),Qr.style=`
		box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
	`,Qr.textContent=Gr,Qr}function generateQuantityField(Wr,Gr,Yr=0,Zr=0,Kr=100){const Qr=document.createElement("div");Qr.className="flex flex-row items-center justify-center bg-white dark:bg-zinc-800 rounded-lg";const Jr=document.createElement("button");Jr.type="button",Jr.className="px-3 py-2 font-semibold rounded-lg border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-400 transition hover:text-zinc-500 dark:hover:text-zinc-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500",Jr.textContent="-";const en=document.createElement("input");en.type="number",en.name=Wr,en.value=Yr,en.min=Zr,en.max=Kr,en.className="mx-2 text-center font-semibold text-zinc-900 dark:text-white bg-white dark:bg-zinc-800 border-transparent focus:ring-0 focus:border-transparent [-moz-appearance:_textfield] sm:text-sm [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none";const tn=document.createElement("button");return tn.type="button",tn.className="px-3 py-2 font-semibold rounded-lg border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-400 transition hover:text-zinc-500 dark:hover:text-zinc-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500",tn.textContent="+",Qr.appendChild(Jr),Qr.appendChild(en),Qr.appendChild(tn),Jr.addEventListener("click",()=>{en.value=Math.max(Zr,parseInt(en.value)-1)}),tn.addEventListener("click",()=>{en.value=Math.min(Kr,parseInt(en.value)+1)}),Qr}function generateSwitch(Wr,Gr="",Yr=""){const Zr=document.createElement("div");Zr.className=`w-full sm:w-auto flex items-center flex-shrink-0 gap-2 ${Yr}`;const Kr=Wr+"-"+Math.random().toString(36).substring(2,15),Qr=document.createElement("label");Qr.className="relative inline-block h-6 w-12 cursor-pointer rounded-full transition-colors duration-300",Qr.setAttribute("for",Kr);const Jr=document.createElement("input");Jr.type="checkbox",Jr.id=Kr,Jr.name=Wr,Jr.className="sr-only peer";const en=document.createElement("span");en.className="absolute inset-y-0 left-0 m-1 w-4 h-4 rounded-full bg-white transition-transform duration-300 transform",Jr.addEventListener("change",()=>{Jr.checked?(Qr.classList.add("bg-blue-500"),Qr.classList.remove("bg-gray-300","dark:bg-zinc-700"),en.style.transform="translateX(1.5rem)"):(Qr.classList.add("bg-gray-300","dark:bg-zinc-700"),Qr.classList.remove("bg-blue-500"),en.style.transform="translateX(0)")}),Jr.checked?Qr.classList.add("bg-blue-500"):Qr.classList.add("bg-gray-300","dark:bg-zinc-700");const tn=document.createElement("label");return tn.className="text-zinc-950 dark:text-white sm:text-sm",tn.textContent=Gr,Qr.appendChild(Jr),Qr.appendChild(en),Zr.appendChild(Qr),Zr.appendChild(tn),Zr}function generateSearchBox(Wr="Search...",Gr={},Yr="w-full",Zr="h-48",Kr="options"){const Qr=document.createElement("div"),Jr=document.createElement("input");Jr.type="text",Jr.placeholder=Wr,Jr.className=`
        w-full mb-2 px-3 py-2 border border-zinc-300 dark:border-zinc-700
        rounded-md text-sm text-zinc-900 dark:text-white
        bg-white dark:bg-zinc-800 focus:outline-none
        focus:ring-2 focus:ring-zinc-500
    `,Qr.appendChild(Jr);const en=document.createElement("div");return en.className=`
        overflow-y-auto ${Yr} ${Zr}
        border border-zinc-300 dark:border-zinc-700
        rounded-md p-2 bg-white dark:bg-zinc-900
    `,Object.entries(Gr).forEach(([tn,rn])=>{const an=document.createElement("label");an.className="flex items-center space-x-3 cursor-pointer mb-2";const nn=document.createElement("input");nn.type="checkbox",nn.name=Kr,nn.value=tn,nn.className="sr-only";const sn=document.createElement("span");sn.className="flex h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-md dark:border-zinc-600 transition-colors";const ln=document.createElementNS("http://www.w3.org/2000/svg","svg");ln.setAttribute("xmlns","http://www.w3.org/2000/svg"),ln.setAttribute("class","h-3 w-3 text-white"),ln.setAttribute("fill","none"),ln.setAttribute("viewBox","0 0 24 24"),ln.setAttribute("stroke","currentColor"),ln.setAttribute("stroke-width","2");const un=document.createElementNS("http://www.w3.org/2000/svg","path");un.setAttribute("stroke-linecap","round"),un.setAttribute("stroke-linejoin","round"),un.setAttribute("d","M5 13l4 4L19 7"),ln.appendChild(un),ln.style.display="none",sn.appendChild(ln),nn.addEventListener("change",()=>{nn.checked?(sn.classList.add("bg-zinc-900","border-transparent","dark:bg-zinc-600"),ln.style.display="block"):(sn.classList.remove("bg-zinc-900","border-transparent","dark:bg-zinc-600"),ln.style.display="none")});const cn=document.createElement("span");cn.className="text-sm text-zinc-900 dark:text-zinc-100",cn.textContent=rn,an.appendChild(nn),an.appendChild(sn),an.appendChild(cn),en.appendChild(an)}),Qr.appendChild(en),Jr.addEventListener("input",()=>{const tn=normalizeText(Jr.value);Array.from(en.children).forEach(rn=>{const an=rn.querySelector("span:last-child");an&&(an.dataset.normalized||(an.dataset.normalized=normalizeText(an.textContent)),rn.style.display=an.dataset.normalized.includes(tn)?"":"none")})}),Qr}function showConfirmationDialog(Wr,Gr="Sí",Yr="No"){return new Promise(Zr=>{generateDialog({children:[(()=>{const Qr=document.createElement("p");return Qr.className="text-gray-700 dark:text-gray-300 mb-4",Qr.textContent=Wr,Qr})()],onConfirm:()=>Zr(!0),onCancel:()=>Zr(!1),confirmText:Gr,cancelText:Yr}).showDialog()})}function createNavLink(Wr,Gr){const Yr=document.createElement("a");Yr.className="inline-flex items-center box-content gap-2 text-sm/6 text-zinc-500 dark:text-zinc-400",Yr.href=Wr,Yr.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon" class="size-4 fill-zinc-400 dark:fill-zinc-500">
            <path fill-rule="evenodd" d="M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path>
        </svg>
    `;const Zr=document.createTextNode(Gr);return Yr.appendChild(Zr),Yr}function generateDialog({children:Wr=[],onConfirm:Gr,onCancel:Yr,confirmText:Zr="Aceptar",cancelText:Kr="Cancelar"}={}){const Qr=document.createElement("div");Qr.className="fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-gray-800 bg-opacity-50 hidden",Qr.style.display="none";const Jr=document.createElement("div");Jr.className="w-full max-w-lg sm:rounded-2xl rounded-t-3xl bg-white dark:bg-zinc-900 p-6 shadow-lg ring-1 ring-zinc-900/10 sm:mb-auto sm:mt-auto",Qr.appendChild(Jr),Wr.forEach(nn=>{Jr.appendChild(nn)});const en=document.createElement("div");en.className="mt-6 flex items-center justify-end gap-3",Jr.appendChild(en);const tn=()=>{Qr.style.display="none"},rn=generateButton("cancel",Kr,"button","secondary");rn.addEventListener("click",()=>{Yr&&Yr(Jr),tn()}),en.appendChild(rn);const an=generateButton("confirm",Zr,"button","primary");return an.addEventListener("click",async()=>{Gr&&await Gr(Jr),tn()}),en.appendChild(an),Qr.addEventListener("click",()=>{Yr&&Yr(Jr),tn()}),Jr.addEventListener("click",nn=>nn.stopPropagation()),document.body.appendChild(Qr),{showDialog:()=>Qr.style.display="flex",hideDialog:tn,dialogContainer:Jr}}function generateTable(Wr,Gr="center",Yr){const Zr=document.createElement("div");Gr==="left"?Zr.className="mx-auto max-w-3xl overflow-hidden":Zr.className="text-center overflow-hidden sm:mx-0 sm:max-w-full",Zr.className+=" border border-zinc-200 rounded-lg dark:border-white/10 dark:bg-zinc-900 p-3 sm:p-4";const Kr=document.createElement("dl");return Kr.className=`
        grid grid-cols-1 text-base/6 grid-cols-[min(50%,theme(spacing.80))_auto] sm:text-sm/6
    `,Yr.forEach((Qr,Jr)=>{Qr.forEach((en,tn)=>{const sn=Wr==="firstRow"&&Jr===0||Wr==="firstColumn"&&tn===0||Wr==="both"&&(Jr===0||tn===0),ln=document.createElement(sn?"dt":"dd");ln.textContent=en,ln.className=`
                ${sn?"text-zinc-500 dark:text-zinc-400":"text-zinc-950 dark:text-white"}
                ${Jr>0||sn?"border-t border-zinc-950/5 dark:border-white/5":""}
                ${sn?"first:border-none":""}
            `,ln.className+=" py-2 sm:py-3",Kr.appendChild(ln)})}),Zr.appendChild(Kr),Zr}function generateSubmissionsTable(Wr){const Gr=document.createElement("div");Gr.className="w-full mt-4 overflow-hidden rounded-lg border border-zinc-200 dark:border-white/10 dark:bg-zinc-900 sm:p-4";const Yr=document.createElement("div");Yr.className="overflow-auto max-h-[calc(100vh-4rem)]";const Zr=document.createElement("table");Zr.className="min-w-full text-left text-sm/6 text-zinc-950 dark:text-white";const Kr=document.createElement("thead");Kr.className="text-zinc-500 dark:text-zinc-400",Kr.innerHTML=`
        <tr>
		<th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Tipo</th>
		<th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Fecha de realización</th>
		<th class="border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Puntuación</th>
		<th class="text-right border-b border-zinc-950/10 px-2 sm:px-4 py-2 font-medium dark:border-b-white/10">Valoración</th>
        </tr>
	`,Zr.appendChild(Kr);const Qr=document.createElement("tbody");return Wr.forEach((Jr,en)=>{const tn=document.createElement("tr");tn.className=`
            has-[[data-row-link][data-focus]]:outline
            has-[[data-row-link][data-focus]]:outline-2
            has-[[data-row-link][data-focus]]:-outline-offset-2
            hover:bg-zinc-950/[2.5%] dark:hover:bg-white/[2.5%]
        `,tn.innerHTML=`
		 <td class="relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Jr.link}" tabindex="-1" class="absolute inset-0"></a>
                ${Jr.type}
            </td>
            <td class="text-zinc-500 relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Jr.link}" aria-label="Order #${Jr.id}" tabindex="-1" class="absolute inset-0"></a>
                ${Jr.date}
            </td>
			<td class="relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 py-4">
                <a data-row-link="true" href="${Jr.link}" tabindex="-1" class="absolute inset-0"></a>
                <div class="flex items-center gap-2">
                    <span>${Jr.score}</span>
                </div>
            </td>
            <td class="text-center sm:text-right relative px-2 sm:px-4 border-b border-zinc-950/5 dark:border-white/5 ">
				<a data-row-link="true" href="${Jr.link}" tabindex="-1" class="absolute inset-0"></a>
				<div class="relative group">
					<span class="${getBadgeClass(Jr.score)}">
						${Jr.status}
					</span>
					${Jr.statusTooltip?`
						<div class="absolute hidden group-hover:block bg-zinc-800 text-white text-xs break-words
						py-2 px-3 rounded-lg shadow-lg whitespace-pre-line text-left transform translate-y-full z-10
						${en>=Wr.length-2?"bottom-[140px]":"-bottom-2"} right-0
						">
							<pre>${Jr.statusTooltip}</pre>
						</div>
					`:""}
				</div>
			</td>
		`,Qr.appendChild(tn)}),Zr.appendChild(Qr),Yr.appendChild(Zr),Gr.appendChild(Yr),Gr}function getBadgeClass(Wr){return Wr>=SUCCESS_THRESHOLD_STUDY?"inline-flex items-center gap-x-1.5 rounded-md px-1.5 py-0.5 text-sm/5 font-medium bg-green-400/20 text-green-700 dark:bg-green-400/10 dark:text-green-300":"inline-flex items-center gap-x-1.5 rounded-md px-1.5 py-0.5 text-sm/5 font-medium bg-pink-400/20 text-pink-700 dark:bg-pink-400/10 dark:text-pink-300"}function initializeComponents(){dropdownComponent(),bubbleChat(),loadChart(),htmx.process(document.querySelector("#component-select"))}function dropdownComponent(){console.log("- dropdownComponent initialized"),document.getElementById("component-select").addEventListener("change",function(){console.log("component-select changed");const Wr=document.getElementById("component-select").value;console.log("selectedOption",Wr)})}function bubbleChat(){const Wr=document.getElementById("chat-toggle"),Gr=document.getElementById("chat-window"),Yr=document.getElementById("chat-close");Wr.addEventListener("click",()=>{Gr.classList.toggle("hidden")}),Yr.addEventListener("click",()=>{Gr.classList.add("hidden")})}window.transformToCards=transformToCards();function transformToCards(){return[{id:1,title:"Cuál es un tipo de sonda rectal",content:["Foley","Malecot","Levin","Todas las respuestas son incorrectas"],correctAnswer:3},{id:2,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:3,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:4,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:5,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1},{id:6,title:"Cuándo está contraindicado la administración de un enema de limpieza",content:["Antes de una exploración radiológica","Obstrucción intestinal","Impactación fecal","Antes y después del parto"],correctAnswer:1}]}function generateDropdown(Wr,Gr,Yr,Zr=null,Kr=null){const Qr=document.createElement("div");Qr.className="relative block w-full";const Jr=document.createElement("button");Jr.type="button",Jr.className="relative block w-full rounded-lg py-2 pl-4 pr-8 text-left text-base text-zinc-950 dark:text-white border border-zinc-300 dark:border-zinc-700 bg-transparent dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 hover:border-zinc-500 dark:hover:border-zinc-600 transition",Jr.setAttribute("aria-haspopup","listbox"),Jr.setAttribute("aria-expanded","false");const en=document.createElement("div");en.className="flex items-center";const tn=document.createElement("span");tn.className="ml-2 truncate",tn.textContent=Zr||Yr[0].label,en.appendChild(tn);const rn=document.createElement("span");rn.className="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",rn.innerHTML=`
		<svg class="w-5 h-5 text-zinc-500 dark:text-zinc-400" viewBox="0 0 16 16" aria-hidden="true" fill="none">
			<path d="M5.75 10.75L8 13L10.25 10.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
			<path d="M10.25 5.25L8 3L5.75 5.25" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
		</svg>
	`,Jr.appendChild(en),Jr.appendChild(rn);const an=document.createElement("div");an.className="absolute left-0 mt-2 w-full bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 rounded-lg shadow-lg z-10",an.style.display="none";const nn=document.createElement("ul");nn.className="text-sm text-zinc-900 dark:text-zinc-100";const sn=document.createElement("input");if(sn.type="hidden",sn.name=Wr,sn.value=Zr||Yr[0].value,Yr.forEach(ln=>{const un=document.createElement("li");un.className="flex items-center px-4 py-2 cursor-pointer hover:bg-zinc-300 dark:hover:bg-zinc-700 m-1 rounded-lg",ln.value===sn.value&&un.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600");const cn=document.createElement("span");cn.textContent=ln.label;const hn=document.createElement("span");hn.className="ml-auto text-white",hn.innerHTML="&#10003;",hn.style.display=ln.value===sn.value?"block":"none",un.appendChild(cn),un.appendChild(hn),un.addEventListener("click",()=>{sn.value=ln.value,tn.textContent=ln.label,nn.querySelectorAll("li").forEach(dn=>{dn.classList.remove("bg-zinc-500","text-white","dark:bg-zinc-600"),dn.querySelector("span:last-child").style.display="none"}),un.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600"),hn.style.display="block",an.style.display="none",Jr.setAttribute("aria-expanded","false"),Kr&&Kr(ln.value)}),nn.appendChild(un)}),an.appendChild(nn),Qr.appendChild(Jr),Qr.appendChild(an),Qr.appendChild(sn),Jr.addEventListener("click",ln=>{ln.preventDefault();const un=Jr.getAttribute("aria-expanded")==="true";an.style.display=un?"none":"block",Jr.setAttribute("aria-expanded",!un)}),document.addEventListener("click",ln=>{Qr.contains(ln.target)||(an.style.display="none",Jr.setAttribute("aria-expanded","false"))}),Gr){const ln=document.createElement("div");ln.className="space-y-2";const un=document.createElement("label");return un.className="block text-sm font-medium text-zinc-900 dark:text-zinc-100",un.textContent=Gr,ln.appendChild(un),ln.appendChild(Qr),ln}return Qr}const dropdownManager={openDropdown:null,closeAll(){this.openDropdown&&(this.openDropdown.list.style.display="none",this.openDropdown.button.setAttribute("aria-expanded","false"),this.openDropdown=null)},setOpen(Wr){this.closeAll(),this.openDropdown=Wr}};document.addEventListener("click",Wr=>{Wr.target.closest("[data-dropdown]")||dropdownManager.closeAll()});function generateDropdownV2(Wr,Gr,Yr,Zr=null,Kr=null){const Qr=document.createElement("div");Qr.className="relative block w-full";const Jr=document.createElement("button");Jr.type="button",Jr.className="relative block w-full max-w-xs rounded-lg py-2 pl-4 pr-8 text-left text-base text-zinc-950 dark:text-white border border-zinc-300 dark:border-zinc-700 bg-transparent dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 hover:border-zinc-500 dark:hover:border-zinc-600 transition",Jr.setAttribute("aria-haspopup","listbox"),Jr.setAttribute("aria-expanded","false"),Jr.setAttribute("data-dropdown",Wr);const en=document.createElement("div");en.className="flex items-center";const tn=document.createElement("span");tn.className="ml-2 truncate",tn.textContent=Zr?Yr[Zr].label:Yr[0].label,Yr[Zr].label===""&&console.warn("Empty label provided for default value"),en.appendChild(tn);const rn=document.createElement("span");rn.className="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",rn.innerHTML=`
		<svg class="w-5 h-5 text-zinc-500 dark:text-zinc-400" viewBox="0 0 16 16" aria-hidden="true" fill="none">
			<path d="M5.75 10.75L8 13L10.25 10.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
			<path d="M10.25 5.25L8 3L5.75 5.25" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
		</svg>
	`,Jr.appendChild(en),Jr.appendChild(rn);const an=document.createElement("div");an.className="absolute left-0 mt-2 w-full max-w-xs bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 rounded-lg shadow-lg z-10",an.style.display="none";const nn=document.createElement("ul");nn.className="text-sm text-zinc-900 dark:text-zinc-100";const sn=document.createElement("input");return sn.type="hidden",sn.name=Wr,sn.value=Zr?Yr[Zr].value:Yr[0].value,Yr[Zr].value===""&&console.warn("Empty value provided for default value"),Yr.forEach(ln=>{const un=document.createElement("li");un.className="flex items-center px-4 py-2 cursor-pointer hover:bg-zinc-300 dark:hover:bg-zinc-700 m-1 rounded-lg",ln.value===sn.value&&un.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600");const cn=document.createElement("span");cn.textContent=ln.label;const hn=document.createElement("span");hn.className="ml-auto text-white",hn.innerHTML="&#10003;",hn.style.display=ln.value===sn.value?"block":"none",un.appendChild(cn),un.appendChild(hn),un.addEventListener("click",()=>{sn.value=ln.value,tn.textContent=ln.label,nn.querySelectorAll("li").forEach(dn=>{dn.classList.remove("bg-zinc-500","text-white","dark:bg-zinc-600"),dn.querySelector("span:last-child").style.display="none"}),un.classList.add("bg-zinc-500","text-white","dark:bg-zinc-600"),hn.style.display="block",an.style.display="none",Jr.setAttribute("aria-expanded","false"),Kr&&Kr(ln.value)}),nn.appendChild(un)}),an.appendChild(nn),Qr.appendChild(Jr),Qr.appendChild(an),Qr.appendChild(sn),Jr.addEventListener("click",ln=>{ln.stopPropagation(),Jr.getAttribute("aria-expanded")==="true"?dropdownManager.closeAll():(an.style.display="block",Jr.setAttribute("aria-expanded","true"),dropdownManager.setOpen({list:an,button:Jr}))}),Qr}function generateDropdownMulti(Wr,Gr,Yr,Zr=[],Kr=null){const Qr=document.createElement("div");Qr.className="relative block w-full";const Jr=document.createElement("button");Jr.type="button",Jr.className="relative block w-full max-w-xs rounded-lg py-2 pl-4 pr-8 text-left text-base text-zinc-950 dark:text-white border border-zinc-300 dark:border-zinc-700 bg-transparent dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 hover:border-zinc-500 dark:hover:border-zinc-600 transition",Jr.setAttribute("aria-haspopup","listbox"),Jr.setAttribute("aria-expanded","false"),Jr.setAttribute("data-dropdown",Wr);const en=document.createElement("div");en.className="flex items-center";const tn=document.createElement("span");tn.className="ml-2 truncate",en.appendChild(tn);const rn=document.createElement("span");rn.className="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",rn.innerHTML=`
		<svg class="w-5 h-5 text-zinc-500 dark:text-zinc-400" viewBox="0 0 16 16" aria-hidden="true" fill="none">
			<path d="M5.75 10.75L8 13L10.25 10.75" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
			<path d="M10.25 5.25L8 3L5.75 5.25" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
		</svg>
	`,Jr.appendChild(en),Jr.appendChild(rn);const an=document.createElement("div");an.className="absolute left-0 mt-2 w-full max-w-xs bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 rounded-lg shadow-lg z-10",an.style.display="none";const nn=document.createElement("ul");nn.className="text-sm text-zinc-900 dark:text-zinc-100";const sn=new Set(Zr),ln=document.createElement("input");ln.type="hidden",ln.name=Wr,ln.value=Array.from(sn).join(",");const un=document.createElement("li");un.className="flex items-center px-4 py-2 cursor-pointer hover:bg-zinc-300 dark:hover:bg-zinc-700 m-1 rounded-lg border-b border-zinc-200 dark:border-zinc-600";const cn=document.createElement("input");cn.type="checkbox",cn.className="mr-2",cn.checked=Zr.length===Yr.length;const hn=document.createElement("span");hn.textContent="Seleccionar todo",un.appendChild(cn),un.appendChild(hn),nn.appendChild(un);const dn=()=>{const pn=sn.size;pn===0?(tn.textContent="Sin selección",hn.textContent="Seleccionar todo"):pn===Yr.length?(tn.textContent="Todos seleccionados",hn.textContent="Deseleccionar todo"):tn.textContent=`${pn===1?"1 seleccionado":`${pn} seleccionados`}`},fn=Yr.map(pn=>{const gn=document.createElement("li");gn.className="flex items-center px-4 py-2 cursor-pointer hover:bg-zinc-300 dark:hover:bg-zinc-700 m-1 rounded-lg";const vn=document.createElement("input");vn.type="checkbox",vn.className="mr-2",vn.value=pn.value,vn.checked=sn.has(pn.value);const mn=document.createElement("span");mn.textContent=pn.label;const yn=document.createElement("span");return yn.className="ml-auto text-white",yn.innerHTML="&#10003;",yn.style.display=sn.has(pn.value)?"block":"none",gn.appendChild(vn),gn.appendChild(mn),gn.appendChild(yn),gn.addEventListener("click",xn=>{xn.stopPropagation(),vn.checked=!vn.checked,yn.style.display=vn.checked?"block":"none",vn.checked?sn.add(pn.value):sn.delete(pn.value),cn.checked=sn.size===Yr.length,ln.value=Array.from(sn).join(","),dn(),Kr&&Kr(Array.from(sn))}),{li:gn,checkbox:vn,checkmark:yn}});return un.addEventListener("click",pn=>{pn.stopPropagation();const gn=!cn.checked;cn.checked=gn,fn.forEach(({checkbox:vn,checkmark:mn},yn)=>{vn.checked=gn,mn.style.display=gn?"block":"none",gn?sn.add(Yr[yn].value):sn.delete(Yr[yn].value)}),ln.value=Array.from(sn).join(","),dn(),Kr&&Kr(Array.from(sn))}),fn.forEach(({li:pn})=>nn.appendChild(pn)),an.appendChild(nn),Qr.appendChild(Jr),Qr.appendChild(an),Qr.appendChild(ln),Jr.addEventListener("click",pn=>{pn.stopPropagation(),Jr.getAttribute("aria-expanded")==="true"?dropdownManager.closeAll():(an.style.display="block",Jr.setAttribute("aria-expanded","true"),dropdownManager.setOpen({list:an,button:Jr}))}),dn(),Qr}function loadChart(){var Wr={chart:{type:"line",zoom:{enabled:!1},dropShadow:{enabled:!0,top:3,left:2,blur:4,opacity:1},animations:{enabled:!0},toolbar:{show:!1},background:"transparent"},theme:{},responsive:[{breakpoint:1e3,options:{chart:{height:300},legend:{position:"bottom"}}},{breakpoint:640,options:{chart:{height:250},legend:{position:"bottom"},markers:{size:4}}}],stroke:{curve:"smooth",width:2},series:[{name:"Music",data:[1,15,26,20,33,27]},{name:"Photos",data:[3,33,21,42,19,32]},{name:"Files",data:[0,39,52,11,29,43]}],grid:{show:!0,padding:{bottom:0}},states:{}};const Gr=new us(document.querySelector("#line-adwords"),Wr);Gr.render(),window.addEventListener("resize",()=>{Gr.updateOptions({chart:{width:"100%"}})})}const booksSvg="/assets/main.svg",trophyStarSvg="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20120%20120'%20id='Layer_1'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cpath%20class='st0'%20fill='%23FFC54D'%20d='M61.8,16.5l10.3,20.6c0.3,0.5,0.8,1.1,1.6,1.1l22.8,3.3c1.6,0.3,2.2,2.2,1.1,3.5L81,61%20c-0.5,0.5-0.8,1.1-0.5,1.9l3.8,22.8c0.3,1.6-1.4,3-3,2.2L60.9,77c-0.5-0.3-1.4-0.3-1.9,0L38.7,87.9c-1.4,0.8-3.3-0.5-3-2.2%20l3.8-22.8c0-0.5,0-1.4-0.5-1.9L22.4,45c-1.1-1.1-0.5-3.3,1.1-3.5l22.8-3.3c0.5,0,1.1-0.5,1.6-1.1l10.3-20.6%20C59.1,14.9,60.9,14.9,61.8,16.5z'/%3e%3cpath%20class='st1'%20fill='%237C6850'%20d='M91.1,83.8H28.9c-1.3,0-2.3,0.9-2.6,2.1l-3.6,15.5c-0.4,1.7,0.9,3.3,2.6,3.3h69.5c1.7,0,3-1.6,2.6-3.3%20l-3.6-15.5C93.5,84.6,92.4,83.8,91.1,83.8z'/%3e%3cpath%20class='st2'%20fill='%23FFFFFF'%20d='M73.6,98.3H46.4c-0.6,0-1.2-0.5-1.2-1.2v-5.9c0-0.6,0.5-1.2,1.2-1.2h27.1c0.6,0,1.2,0.5,1.2,1.2v5.9%20C74.7,97.8,74.2,98.3,73.6,98.3z'/%3e%3c/g%3e%3c/svg%3e",verifiedSvg="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20120%20120'%20id='Layer_1'%20version='1.1'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cpath%20class='st0'%20fill='%2300D566'%20d='M99.5,52.8l-1.9,4.7c-0.6,1.6-0.6,3.3,0,4.9l1.9,4.7c1.1,2.8,0.2,6-2.3,7.8L93,77.8c-1.4,1-2.3,2.5-2.7,4.1%20l-0.9,5c-0.6,3-3.1,5.2-6.1,5.3l-5.1,0.2c-1.7,0.1-3.3,0.8-4.5,2l-3.5,3.7c-2.1,2.2-5.4,2.7-8,1.2l-4.4-2.6%20c-1.5-0.9-3.2-1.1-4.9-0.7l-5,1.2c-2.9,0.7-6-0.7-7.4-3.4l-2.3-4.6c-0.8-1.5-2.1-2.7-3.7-3.2l-4.8-1.6c-2.9-1-4.7-3.8-4.4-6.8%20l0.5-5.1c0.2-1.7-0.3-3.4-1.4-4.7l-3.2-4c-1.9-2.4-1.9-5.7,0-8.1l3.2-4c1.1-1.3,1.6-3,1.4-4.7l-0.5-5.1c-0.3-3,1.5-5.8,4.4-6.8%20l4.8-1.6c1.6-0.5,2.9-1.7,3.7-3.2l2.3-4.6c1.4-2.7,4.4-4.1,7.4-3.4l5,1.2c1.6,0.4,3.4,0.2,4.9-0.7l4.4-2.6c2.6-1.5,5.9-1.1,8,1.2%20l3.5,3.7c1.2,1.2,2.8,2,4.5,2l5.1,0.2c3,0.1,5.6,2.3,6.1,5.3l0.9,5c0.3,1.7,1.3,3.2,2.7,4.1l4.2,2.9C99.7,46.8,100.7,50,99.5,52.8z%20'/%3e%3cg%20class='st1'%20style='opacity:0.15;'%3e%3cpath%20d='M43.4,93.5l-2.3-4.6c-0.8-1.5-2.1-2.7-3.7-3.2l-4.8-1.6c-2.9-1-4.7-3.8-4.4-6.8l0.5-5.1c0.2-1.7-0.3-3.4-1.4-4.7l-3.2-4%20c-1.9-2.4-1.9-5.7,0-8.1l3.2-4c1.1-1.3,1.6-3,1.4-4.7l-0.5-5.1c-0.3-3,1.5-5.8,4.4-6.8l4.8-1.6c1.6-0.5,2.9-1.7,3.7-3.2l2.3-4.6%20c0.8-1.6,2.2-2.7,3.7-3.2c-2.7-0.4-5.4,1-6.6,3.5l-2.3,4.6c-0.8,1.5-2.1,2.7-3.7,3.2l-4.8,1.6c-2.9,1-4.7,3.8-4.4,6.8l0.5,5.1%20c0.2,1.7-0.3,3.4-1.4,4.7l-3.2,4c-1.9,2.4-1.9,5.7,0,8.1l3.2,4c1.1,1.3,1.6,3,1.4,4.7l-0.5,5.1c-0.3,3,1.5,5.8,4.4,6.8l4.8,1.6%20c1.6,0.5,2.9,1.7,3.7,3.2l2.3,4.6c1.4,2.7,4.4,4.1,7.4,3.4l0.6-0.1C46.3,96.7,44.4,95.5,43.4,93.5z'/%3e%3cpath%20d='M60.6,22.5l4.4-2.6c0.4-0.2,0.8-0.4,1.2-0.5c-1.4-0.2-2.9,0.1-4.1,0.8l-4.4,2.6c-0.4,0.2-0.8,0.4-1.2,0.5%20C57.9,23.5,59.3,23.3,60.6,22.5z'/%3e%3cpath%20d='M81,92c-0.5,0-1,0.1-1.4,0.2l3.6-0.2c0.5,0,0.9-0.1,1.4-0.2L81,92z'/%3e%3cpath%20d='M65,98.9l-4.4-2.6c-1.5-0.9-3.2-1.1-4.9-0.7l-0.6,0.1c0.9,0.1,1.7,0.4,2.5,0.8l4.4,2.6c1.7,1,3.6,1.1,5.4,0.5%20C66.6,99.6,65.8,99.4,65,98.9z'/%3e%3c/g%3e%3cpolyline%20class='st0'%20fill='%2300D566'%20points='44,53.6%2056.5,67.9%2082.1,47.3%20'/%3e%3cpath%20class='st2'%20fill='%23FFFFFF'%20d='M53.5,75.3c-1.4,0-2.8-0.6-3.8-1.7L37.2,59.3c-1.8-2.1-1.6-5.2,0.4-7.1c2.1-1.8,5.2-1.6,7.1,0.4l9.4,10.7%20l21.9-17.6c2.1-1.7,5.3-1.4,7,0.8c1.7,2.2,1.4,5.3-0.8,7L56.6,74.2C55.7,74.9,54.6,75.3,53.5,75.3z'/%3e%3c/g%3e%3c/svg%3e";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Wr,Gr){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Yr,Zr){Yr.__proto__=Zr}||function(Yr,Zr){for(var Kr in Zr)Object.prototype.hasOwnProperty.call(Zr,Kr)&&(Yr[Kr]=Zr[Kr])},extendStatics(Wr,Gr)};function __extends(Wr,Gr){if(typeof Gr!="function"&&Gr!==null)throw new TypeError("Class extends value "+String(Gr)+" is not a constructor or null");extendStatics(Wr,Gr);function Yr(){this.constructor=Wr}Wr.prototype=Gr===null?Object.create(Gr):(Yr.prototype=Gr.prototype,new Yr)}var Browser=function(){function Wr(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return Wr}(),Env=function(){function Wr(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return Wr}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(Wr,Gr){var Yr=Gr.browser,Zr=Wr.match(/Firefox\/([\d.]+)/),Kr=Wr.match(/MSIE\s([\d.]+)/)||Wr.match(/Trident\/.+?rv:(([\d.]+))/),Qr=Wr.match(/Edge?\/([\d.]+)/),Jr=/micromessenger/i.test(Wr);Zr&&(Yr.firefox=!0,Yr.version=Zr[1]),Kr&&(Yr.ie=!0,Yr.version=Kr[1]),Qr&&(Yr.edge=!0,Yr.version=Qr[1],Yr.newEdge=+Qr[1].split(".")[0]>18),Jr&&(Yr.weChat=!0),Gr.svgSupported=typeof SVGRect<"u",Gr.touchEventsSupported="ontouchstart"in window&&!Yr.ie&&!Yr.edge,Gr.pointerEventsSupported="onpointerdown"in window&&(Yr.edge||Yr.ie&&+Yr.version>=11),Gr.domSupported=typeof document<"u";var en=document.documentElement.style;Gr.transform3dSupported=(Yr.ie&&"transition"in en||Yr.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in en)&&!("OTransition"in en),Gr.transformSupported=Gr.transform3dSupported||Yr.ie&&+Yr.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(Wr){var Gr={};if(typeof JSON>"u")return Gr;for(var Yr=0;Yr<Wr.length;Yr++){var Zr=String.fromCharCode(Yr+32),Kr=(Wr.charCodeAt(Yr)-OFFSET)/SCALE;Gr[Zr]=Kr}return Gr}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var Wr,Gr;return function(Yr,Zr){if(!Wr){var Kr=platformApi.createCanvas();Wr=Kr&&Kr.getContext("2d")}if(Wr)return Gr!==Zr&&(Gr=Wr.font=Zr||DEFAULT_FONT),Wr.measureText(Yr);Yr=Yr||"",Zr=Zr||DEFAULT_FONT;var Qr=/((?:\d+)?\.?\d*)px/.exec(Zr),Jr=Qr&&+Qr[1]||DEFAULT_FONT_SIZE,en=0;if(Zr.indexOf("mono")>=0)en=Jr*Yr.length;else for(var tn=0;tn<Yr.length;tn++){var rn=DEFAULT_TEXT_WIDTH_MAP[Yr[tn]];en+=rn==null?Jr:rn*Jr}return{width:en}}}(),loadImage:function(Wr,Gr,Yr){var Zr=new Image;return Zr.onload=Gr,Zr.onerror=Yr,Zr.src=Wr,Zr}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(Wr,Gr){return Wr["[object "+Gr+"]"]=!0,Wr},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(Wr,Gr){return Wr["[object "+Gr+"Array]"]=!0,Wr},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var Wr=[],Gr=0;Gr<arguments.length;Gr++)Wr[Gr]=arguments[Gr];typeof console<"u"&&console.error.apply(console,Wr)}function clone$4(Wr){if(Wr==null||typeof Wr!="object")return Wr;var Gr=Wr,Yr=objToString.call(Wr);if(Yr==="[object Array]"){if(!isPrimitive(Wr)){Gr=[];for(var Zr=0,Kr=Wr.length;Zr<Kr;Zr++)Gr[Zr]=clone$4(Wr[Zr])}}else if(TYPED_ARRAY[Yr]){if(!isPrimitive(Wr)){var Qr=Wr.constructor;if(Qr.from)Gr=Qr.from(Wr);else{Gr=new Qr(Wr.length);for(var Zr=0,Kr=Wr.length;Zr<Kr;Zr++)Gr[Zr]=Wr[Zr]}}}else if(!BUILTIN_OBJECT[Yr]&&!isPrimitive(Wr)&&!isDom(Wr)){Gr={};for(var Jr in Wr)Wr.hasOwnProperty(Jr)&&Jr!==protoKey&&(Gr[Jr]=clone$4(Wr[Jr]))}return Gr}function merge(Wr,Gr,Yr){if(!isObject$3(Gr)||!isObject$3(Wr))return Yr?clone$4(Gr):Wr;for(var Zr in Gr)if(Gr.hasOwnProperty(Zr)&&Zr!==protoKey){var Kr=Wr[Zr],Qr=Gr[Zr];isObject$3(Qr)&&isObject$3(Kr)&&!isArray$1(Qr)&&!isArray$1(Kr)&&!isDom(Qr)&&!isDom(Kr)&&!isBuiltInObject(Qr)&&!isBuiltInObject(Kr)&&!isPrimitive(Qr)&&!isPrimitive(Kr)?merge(Kr,Qr,Yr):(Yr||!(Zr in Wr))&&(Wr[Zr]=clone$4(Gr[Zr]))}return Wr}function mergeAll(Wr,Gr){for(var Yr=Wr[0],Zr=1,Kr=Wr.length;Zr<Kr;Zr++)Yr=merge(Yr,Wr[Zr],Gr);return Yr}function extend(Wr,Gr){if(Object.assign)Object.assign(Wr,Gr);else for(var Yr in Gr)Gr.hasOwnProperty(Yr)&&Yr!==protoKey&&(Wr[Yr]=Gr[Yr]);return Wr}function defaults(Wr,Gr,Yr){for(var Zr=keys(Gr),Kr=0,Qr=Zr.length;Kr<Qr;Kr++){var Jr=Zr[Kr];(Yr?Gr[Jr]!=null:Wr[Jr]==null)&&(Wr[Jr]=Gr[Jr])}return Wr}function indexOf(Wr,Gr){if(Wr){if(Wr.indexOf)return Wr.indexOf(Gr);for(var Yr=0,Zr=Wr.length;Yr<Zr;Yr++)if(Wr[Yr]===Gr)return Yr}return-1}function inherits(Wr,Gr){var Yr=Wr.prototype;function Zr(){}Zr.prototype=Gr.prototype,Wr.prototype=new Zr;for(var Kr in Yr)Yr.hasOwnProperty(Kr)&&(Wr.prototype[Kr]=Yr[Kr]);Wr.prototype.constructor=Wr,Wr.superClass=Gr}function mixin(Wr,Gr,Yr){if(Wr="prototype"in Wr?Wr.prototype:Wr,Gr="prototype"in Gr?Gr.prototype:Gr,Object.getOwnPropertyNames)for(var Zr=Object.getOwnPropertyNames(Gr),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Qr!=="constructor"&&(Yr?Gr[Qr]!=null:Wr[Qr]==null)&&(Wr[Qr]=Gr[Qr])}else defaults(Wr,Gr,Yr)}function isArrayLike(Wr){return!Wr||typeof Wr=="string"?!1:typeof Wr.length=="number"}function each$f(Wr,Gr,Yr){if(Wr&&Gr)if(Wr.forEach&&Wr.forEach===nativeForEach)Wr.forEach(Gr,Yr);else if(Wr.length===+Wr.length)for(var Zr=0,Kr=Wr.length;Zr<Kr;Zr++)Gr.call(Yr,Wr[Zr],Zr,Wr);else for(var Qr in Wr)Wr.hasOwnProperty(Qr)&&Gr.call(Yr,Wr[Qr],Qr,Wr)}function map$1(Wr,Gr,Yr){if(!Wr)return[];if(!Gr)return slice(Wr);if(Wr.map&&Wr.map===nativeMap)return Wr.map(Gr,Yr);for(var Zr=[],Kr=0,Qr=Wr.length;Kr<Qr;Kr++)Zr.push(Gr.call(Yr,Wr[Kr],Kr,Wr));return Zr}function reduce(Wr,Gr,Yr,Zr){if(Wr&&Gr){for(var Kr=0,Qr=Wr.length;Kr<Qr;Kr++)Yr=Gr.call(Zr,Yr,Wr[Kr],Kr,Wr);return Yr}}function filter(Wr,Gr,Yr){if(!Wr)return[];if(!Gr)return slice(Wr);if(Wr.filter&&Wr.filter===nativeFilter)return Wr.filter(Gr,Yr);for(var Zr=[],Kr=0,Qr=Wr.length;Kr<Qr;Kr++)Gr.call(Yr,Wr[Kr],Kr,Wr)&&Zr.push(Wr[Kr]);return Zr}function find(Wr,Gr,Yr){if(Wr&&Gr){for(var Zr=0,Kr=Wr.length;Zr<Kr;Zr++)if(Gr.call(Yr,Wr[Zr],Zr,Wr))return Wr[Zr]}}function keys(Wr){if(!Wr)return[];if(Object.keys)return Object.keys(Wr);var Gr=[];for(var Yr in Wr)Wr.hasOwnProperty(Yr)&&Gr.push(Yr);return Gr}function bindPolyfill(Wr,Gr){for(var Yr=[],Zr=2;Zr<arguments.length;Zr++)Yr[Zr-2]=arguments[Zr];return function(){return Wr.apply(Gr,Yr.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(Wr){for(var Gr=[],Yr=1;Yr<arguments.length;Yr++)Gr[Yr-1]=arguments[Yr];return function(){return Wr.apply(this,Gr.concat(nativeSlice.call(arguments)))}}function isArray$1(Wr){return Array.isArray?Array.isArray(Wr):objToString.call(Wr)==="[object Array]"}function isFunction(Wr){return typeof Wr=="function"}function isString(Wr){return typeof Wr=="string"}function isStringSafe(Wr){return objToString.call(Wr)==="[object String]"}function isNumber(Wr){return typeof Wr=="number"}function isObject$3(Wr){var Gr=typeof Wr;return Gr==="function"||!!Wr&&Gr==="object"}function isBuiltInObject(Wr){return!!BUILTIN_OBJECT[objToString.call(Wr)]}function isTypedArray(Wr){return!!TYPED_ARRAY[objToString.call(Wr)]}function isDom(Wr){return typeof Wr=="object"&&typeof Wr.nodeType=="number"&&typeof Wr.ownerDocument=="object"}function isGradientObject(Wr){return Wr.colorStops!=null}function isImagePatternObject(Wr){return Wr.image!=null}function isRegExp(Wr){return objToString.call(Wr)==="[object RegExp]"}function eqNaN(Wr){return Wr!==Wr}function retrieve(){for(var Wr=[],Gr=0;Gr<arguments.length;Gr++)Wr[Gr]=arguments[Gr];for(var Yr=0,Zr=Wr.length;Yr<Zr;Yr++)if(Wr[Yr]!=null)return Wr[Yr]}function retrieve2(Wr,Gr){return Wr??Gr}function retrieve3(Wr,Gr,Yr){return Wr??Gr??Yr}function slice(Wr){for(var Gr=[],Yr=1;Yr<arguments.length;Yr++)Gr[Yr-1]=arguments[Yr];return nativeSlice.apply(Wr,Gr)}function normalizeCssArray$1(Wr){if(typeof Wr=="number")return[Wr,Wr,Wr,Wr];var Gr=Wr.length;return Gr===2?[Wr[0],Wr[1],Wr[0],Wr[1]]:Gr===3?[Wr[0],Wr[1],Wr[2],Wr[1]]:Wr}function assert(Wr,Gr){if(!Wr)throw new Error(Gr)}function trim$1(Wr){return Wr==null?null:typeof Wr.trim=="function"?Wr.trim():Wr.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(Wr){Wr[primitiveKey]=!0}function isPrimitive(Wr){return Wr[primitiveKey]}var MapPolyfill=function(){function Wr(){this.data={}}return Wr.prototype.delete=function(Gr){var Yr=this.has(Gr);return Yr&&delete this.data[Gr],Yr},Wr.prototype.has=function(Gr){return this.data.hasOwnProperty(Gr)},Wr.prototype.get=function(Gr){return this.data[Gr]},Wr.prototype.set=function(Gr,Yr){return this.data[Gr]=Yr,this},Wr.prototype.keys=function(){return keys(this.data)},Wr.prototype.forEach=function(Gr){var Yr=this.data;for(var Zr in Yr)Yr.hasOwnProperty(Zr)&&Gr(Yr[Zr],Zr)},Wr}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function Wr(Gr){var Yr=isArray$1(Gr);this.data=maybeNativeMap();var Zr=this;Gr instanceof Wr?Gr.each(Kr):Gr&&each$f(Gr,Kr);function Kr(Qr,Jr){Yr?Zr.set(Qr,Jr):Zr.set(Jr,Qr)}}return Wr.prototype.hasKey=function(Gr){return this.data.has(Gr)},Wr.prototype.get=function(Gr){return this.data.get(Gr)},Wr.prototype.set=function(Gr,Yr){return this.data.set(Gr,Yr),Yr},Wr.prototype.each=function(Gr,Yr){this.data.forEach(function(Zr,Kr){Gr.call(Yr,Zr,Kr)})},Wr.prototype.keys=function(){var Gr=this.data.keys();return isNativeMapSupported?Array.from(Gr):Gr},Wr.prototype.removeKey=function(Gr){this.data.delete(Gr)},Wr}();function createHashMap(Wr){return new HashMap(Wr)}function concatArray(Wr,Gr){for(var Yr=new Wr.constructor(Wr.length+Gr.length),Zr=0;Zr<Wr.length;Zr++)Yr[Zr]=Wr[Zr];for(var Kr=Wr.length,Zr=0;Zr<Gr.length;Zr++)Yr[Zr+Kr]=Gr[Zr];return Yr}function createObject(Wr,Gr){var Yr;if(Object.create)Yr=Object.create(Wr);else{var Zr=function(){};Zr.prototype=Wr,Yr=new Zr}return Gr&&extend(Yr,Gr),Yr}function disableUserSelect(Wr){var Gr=Wr.style;Gr.webkitUserSelect="none",Gr.userSelect="none",Gr.webkitTapHighlightColor="rgba(0,0,0,0)",Gr["-webkit-touch-callout"]="none"}function hasOwn(Wr,Gr){return Wr.hasOwnProperty(Gr)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(Wr,Gr){return Wr==null&&(Wr=0),Gr==null&&(Gr=0),[Wr,Gr]}function copy$1(Wr,Gr){return Wr[0]=Gr[0],Wr[1]=Gr[1],Wr}function clone$3(Wr){return[Wr[0],Wr[1]]}function set$1(Wr,Gr,Yr){return Wr[0]=Gr,Wr[1]=Yr,Wr}function add(Wr,Gr,Yr){return Wr[0]=Gr[0]+Yr[0],Wr[1]=Gr[1]+Yr[1],Wr}function scaleAndAdd$1(Wr,Gr,Yr,Zr){return Wr[0]=Gr[0]+Yr[0]*Zr,Wr[1]=Gr[1]+Yr[1]*Zr,Wr}function sub(Wr,Gr,Yr){return Wr[0]=Gr[0]-Yr[0],Wr[1]=Gr[1]-Yr[1],Wr}function len(Wr){return Math.sqrt(lenSquare(Wr))}function lenSquare(Wr){return Wr[0]*Wr[0]+Wr[1]*Wr[1]}function scale$2(Wr,Gr,Yr){return Wr[0]=Gr[0]*Yr,Wr[1]=Gr[1]*Yr,Wr}function normalize$3(Wr,Gr){var Yr=len(Gr);return Yr===0?(Wr[0]=0,Wr[1]=0):(Wr[0]=Gr[0]/Yr,Wr[1]=Gr[1]/Yr),Wr}function distance(Wr,Gr){return Math.sqrt((Wr[0]-Gr[0])*(Wr[0]-Gr[0])+(Wr[1]-Gr[1])*(Wr[1]-Gr[1]))}var dist$1=distance;function distanceSquare(Wr,Gr){return(Wr[0]-Gr[0])*(Wr[0]-Gr[0])+(Wr[1]-Gr[1])*(Wr[1]-Gr[1])}var distSquare=distanceSquare;function lerp$1(Wr,Gr,Yr,Zr){return Wr[0]=Gr[0]+Zr*(Yr[0]-Gr[0]),Wr[1]=Gr[1]+Zr*(Yr[1]-Gr[1]),Wr}function applyTransform$1(Wr,Gr,Yr){var Zr=Gr[0],Kr=Gr[1];return Wr[0]=Yr[0]*Zr+Yr[2]*Kr+Yr[4],Wr[1]=Yr[1]*Zr+Yr[3]*Kr+Yr[5],Wr}function min$1(Wr,Gr,Yr){return Wr[0]=Math.min(Gr[0],Yr[0]),Wr[1]=Math.min(Gr[1],Yr[1]),Wr}function max$1(Wr,Gr,Yr){return Wr[0]=Math.max(Gr[0],Yr[0]),Wr[1]=Math.max(Gr[1],Yr[1]),Wr}var Param=function(){function Wr(Gr,Yr){this.target=Gr,this.topTarget=Yr&&Yr.topTarget}return Wr}(),Draggable=function(){function Wr(Gr){this.handler=Gr,Gr.on("mousedown",this._dragStart,this),Gr.on("mousemove",this._drag,this),Gr.on("mouseup",this._dragEnd,this)}return Wr.prototype._dragStart=function(Gr){for(var Yr=Gr.target;Yr&&!Yr.draggable;)Yr=Yr.parent||Yr.__hostTarget;Yr&&(this._draggingTarget=Yr,Yr.dragging=!0,this._x=Gr.offsetX,this._y=Gr.offsetY,this.handler.dispatchToElement(new Param(Yr,Gr),"dragstart",Gr.event))},Wr.prototype._drag=function(Gr){var Yr=this._draggingTarget;if(Yr){var Zr=Gr.offsetX,Kr=Gr.offsetY,Qr=Zr-this._x,Jr=Kr-this._y;this._x=Zr,this._y=Kr,Yr.drift(Qr,Jr,Gr),this.handler.dispatchToElement(new Param(Yr,Gr),"drag",Gr.event);var en=this.handler.findHover(Zr,Kr,Yr).target,tn=this._dropTarget;this._dropTarget=en,Yr!==en&&(tn&&en!==tn&&this.handler.dispatchToElement(new Param(tn,Gr),"dragleave",Gr.event),en&&en!==tn&&this.handler.dispatchToElement(new Param(en,Gr),"dragenter",Gr.event))}},Wr.prototype._dragEnd=function(Gr){var Yr=this._draggingTarget;Yr&&(Yr.dragging=!1),this.handler.dispatchToElement(new Param(Yr,Gr),"dragend",Gr.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,Gr),"drop",Gr.event),this._draggingTarget=null,this._dropTarget=null},Wr}(),Eventful=function(){function Wr(Gr){Gr&&(this._$eventProcessor=Gr)}return Wr.prototype.on=function(Gr,Yr,Zr,Kr){this._$handlers||(this._$handlers={});var Qr=this._$handlers;if(typeof Yr=="function"&&(Kr=Zr,Zr=Yr,Yr=null),!Zr||!Gr)return this;var Jr=this._$eventProcessor;Yr!=null&&Jr&&Jr.normalizeQuery&&(Yr=Jr.normalizeQuery(Yr)),Qr[Gr]||(Qr[Gr]=[]);for(var en=0;en<Qr[Gr].length;en++)if(Qr[Gr][en].h===Zr)return this;var tn={h:Zr,query:Yr,ctx:Kr||this,callAtLast:Zr.zrEventfulCallAtLast},rn=Qr[Gr].length-1,an=Qr[Gr][rn];return an&&an.callAtLast?Qr[Gr].splice(rn,0,tn):Qr[Gr].push(tn),this},Wr.prototype.isSilent=function(Gr){var Yr=this._$handlers;return!Yr||!Yr[Gr]||!Yr[Gr].length},Wr.prototype.off=function(Gr,Yr){var Zr=this._$handlers;if(!Zr)return this;if(!Gr)return this._$handlers={},this;if(Yr){if(Zr[Gr]){for(var Kr=[],Qr=0,Jr=Zr[Gr].length;Qr<Jr;Qr++)Zr[Gr][Qr].h!==Yr&&Kr.push(Zr[Gr][Qr]);Zr[Gr]=Kr}Zr[Gr]&&Zr[Gr].length===0&&delete Zr[Gr]}else delete Zr[Gr];return this},Wr.prototype.trigger=function(Gr){for(var Yr=[],Zr=1;Zr<arguments.length;Zr++)Yr[Zr-1]=arguments[Zr];if(!this._$handlers)return this;var Kr=this._$handlers[Gr],Qr=this._$eventProcessor;if(Kr)for(var Jr=Yr.length,en=Kr.length,tn=0;tn<en;tn++){var rn=Kr[tn];if(!(Qr&&Qr.filter&&rn.query!=null&&!Qr.filter(Gr,rn.query)))switch(Jr){case 0:rn.h.call(rn.ctx);break;case 1:rn.h.call(rn.ctx,Yr[0]);break;case 2:rn.h.call(rn.ctx,Yr[0],Yr[1]);break;default:rn.h.apply(rn.ctx,Yr);break}}return Qr&&Qr.afterTrigger&&Qr.afterTrigger(Gr),this},Wr.prototype.triggerWithContext=function(Gr){for(var Yr=[],Zr=1;Zr<arguments.length;Zr++)Yr[Zr-1]=arguments[Zr];if(!this._$handlers)return this;var Kr=this._$handlers[Gr],Qr=this._$eventProcessor;if(Kr)for(var Jr=Yr.length,en=Yr[Jr-1],tn=Kr.length,rn=0;rn<tn;rn++){var an=Kr[rn];if(!(Qr&&Qr.filter&&an.query!=null&&!Qr.filter(Gr,an.query)))switch(Jr){case 0:an.h.call(en);break;case 1:an.h.call(en,Yr[0]);break;case 2:an.h.call(en,Yr[0],Yr[1]);break;default:an.h.apply(en,Yr.slice(1,Jr-1));break}}return Qr&&Qr.afterTrigger&&Qr.afterTrigger(Gr),this},Wr}(),LN2=Math.log(2);function determinant(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Zr+"-"+Kr,en=Wr.length;if(Qr.hasOwnProperty(Jr))return Qr[Jr];if(Gr===1){var tn=Math.round(Math.log((1<<en)-1&~Kr)/LN2);return Wr[Yr][tn]}for(var rn=Zr|1<<Yr,an=Yr+1;Zr&1<<an;)an++;for(var nn=0,sn=0,ln=0;sn<en;sn++){var un=1<<sn;un&Kr||(nn+=(ln%2?-1:1)*Wr[Yr][sn]*determinant(Wr,Gr-1,an,rn,Kr|un,Qr),ln++)}return Qr[Jr]=nn,nn}function buildTransformer(Wr,Gr){var Yr=[[Wr[0],Wr[1],1,0,0,0,-Gr[0]*Wr[0],-Gr[0]*Wr[1]],[0,0,0,Wr[0],Wr[1],1,-Gr[1]*Wr[0],-Gr[1]*Wr[1]],[Wr[2],Wr[3],1,0,0,0,-Gr[2]*Wr[2],-Gr[2]*Wr[3]],[0,0,0,Wr[2],Wr[3],1,-Gr[3]*Wr[2],-Gr[3]*Wr[3]],[Wr[4],Wr[5],1,0,0,0,-Gr[4]*Wr[4],-Gr[4]*Wr[5]],[0,0,0,Wr[4],Wr[5],1,-Gr[5]*Wr[4],-Gr[5]*Wr[5]],[Wr[6],Wr[7],1,0,0,0,-Gr[6]*Wr[6],-Gr[6]*Wr[7]],[0,0,0,Wr[6],Wr[7],1,-Gr[7]*Wr[6],-Gr[7]*Wr[7]]],Zr={},Kr=determinant(Yr,8,0,0,0,Zr);if(Kr!==0){for(var Qr=[],Jr=0;Jr<8;Jr++)for(var en=0;en<8;en++)Qr[en]==null&&(Qr[en]=0),Qr[en]+=((Jr+en)%2?-1:1)*determinant(Yr,7,Jr===0?1:0,1<<Jr,1<<en,Zr)/Kr*Gr[Jr];return function(tn,rn,an){var nn=rn*Qr[6]+an*Qr[7]+1;tn[0]=(rn*Qr[0]+an*Qr[1]+Qr[2])/nn,tn[1]=(rn*Qr[3]+an*Qr[4]+Qr[5])/nn}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(Wr,Gr,Yr,Zr,Kr){return transformCoordWithViewport(_calcOut$1,Gr,Zr,Kr,!0)&&transformCoordWithViewport(Wr,Yr,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(Wr,Gr,Yr,Zr,Kr){if(Gr.getBoundingClientRect&&env.domSupported&&!isCanvasEl(Gr)){var Qr=Gr[EVENT_SAVED_PROP]||(Gr[EVENT_SAVED_PROP]={}),Jr=prepareCoordMarkers(Gr,Qr),en=preparePointerTransformer(Jr,Qr,Kr);if(en)return en(Wr,Yr,Zr),!0}return!1}function prepareCoordMarkers(Wr,Gr){var Yr=Gr.markers;if(Yr)return Yr;Yr=Gr.markers=[];for(var Zr=["left","right"],Kr=["top","bottom"],Qr=0;Qr<4;Qr++){var Jr=document.createElement("div"),en=Jr.style,tn=Qr%2,rn=(Qr>>1)%2;en.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",Zr[tn]+":0",Kr[rn]+":0",Zr[1-tn]+":auto",Kr[1-rn]+":auto",""].join("!important;"),Wr.appendChild(Jr),Yr.push(Jr)}return Yr}function preparePointerTransformer(Wr,Gr,Yr){for(var Zr=Yr?"invTrans":"trans",Kr=Gr[Zr],Qr=Gr.srcCoords,Jr=[],en=[],tn=!0,rn=0;rn<4;rn++){var an=Wr[rn].getBoundingClientRect(),nn=2*rn,sn=an.left,ln=an.top;Jr.push(sn,ln),tn=tn&&Qr&&sn===Qr[nn]&&ln===Qr[nn+1],en.push(Wr[rn].offsetLeft,Wr[rn].offsetTop)}return tn&&Kr?Kr:(Gr.srcCoords=Jr,Gr[Zr]=Yr?buildTransformer(en,Jr):buildTransformer(Jr,en))}function isCanvasEl(Wr){return Wr.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(Wr){return Wr==null?"":(Wr+"").replace(replaceReg,function(Gr,Yr){return replaceMap[Yr]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(Wr,Gr,Yr,Zr){return Yr=Yr||{},Zr?calculateZrXY(Wr,Gr,Yr):firefoxNotSupportOffsetXY&&Gr.layerX!=null&&Gr.layerX!==Gr.offsetX?(Yr.zrX=Gr.layerX,Yr.zrY=Gr.layerY):Gr.offsetX!=null?(Yr.zrX=Gr.offsetX,Yr.zrY=Gr.offsetY):calculateZrXY(Wr,Gr,Yr),Yr}function calculateZrXY(Wr,Gr,Yr){if(env.domSupported&&Wr.getBoundingClientRect){var Zr=Gr.clientX,Kr=Gr.clientY;if(isCanvasEl(Wr)){var Qr=Wr.getBoundingClientRect();Yr.zrX=Zr-Qr.left,Yr.zrY=Kr-Qr.top;return}else if(transformCoordWithViewport(_calcOut,Wr,Zr,Kr)){Yr.zrX=_calcOut[0],Yr.zrY=_calcOut[1];return}}Yr.zrX=Yr.zrY=0}function getNativeEvent(Wr){return Wr||window.event}function normalizeEvent(Wr,Gr,Yr){if(Gr=getNativeEvent(Gr),Gr.zrX!=null)return Gr;var Zr=Gr.type,Kr=Zr&&Zr.indexOf("touch")>=0;if(Kr){var Jr=Zr!=="touchend"?Gr.targetTouches[0]:Gr.changedTouches[0];Jr&&clientToLocal(Wr,Jr,Gr,Yr)}else{clientToLocal(Wr,Gr,Gr,Yr);var Qr=getWheelDeltaMayPolyfill(Gr);Gr.zrDelta=Qr?Qr/120:-(Gr.detail||0)/3}var en=Gr.button;return Gr.which==null&&en!==void 0&&MOUSE_EVENT_REG.test(Gr.type)&&(Gr.which=en&1?1:en&2?3:en&4?2:0),Gr}function getWheelDeltaMayPolyfill(Wr){var Gr=Wr.wheelDelta;if(Gr)return Gr;var Yr=Wr.deltaX,Zr=Wr.deltaY;if(Yr==null||Zr==null)return Gr;var Kr=Math.abs(Zr!==0?Zr:Yr),Qr=Zr>0?-1:Zr<0?1:Yr>0?-1:1;return 3*Kr*Qr}function addEventListener(Wr,Gr,Yr,Zr){Wr.addEventListener(Gr,Yr,Zr)}function removeEventListener(Wr,Gr,Yr,Zr){Wr.removeEventListener(Gr,Yr,Zr)}var stop=function(Wr){Wr.preventDefault(),Wr.stopPropagation(),Wr.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(Wr){return Wr.which===2||Wr.which===3}var GestureMgr=function(){function Wr(){this._track=[]}return Wr.prototype.recognize=function(Gr,Yr,Zr){return this._doTrack(Gr,Yr,Zr),this._recognize(Gr)},Wr.prototype.clear=function(){return this._track.length=0,this},Wr.prototype._doTrack=function(Gr,Yr,Zr){var Kr=Gr.touches;if(Kr){for(var Qr={points:[],touches:[],target:Yr,event:Gr},Jr=0,en=Kr.length;Jr<en;Jr++){var tn=Kr[Jr],rn=clientToLocal(Zr,tn,{});Qr.points.push([rn.zrX,rn.zrY]),Qr.touches.push(tn)}this._track.push(Qr)}},Wr.prototype._recognize=function(Gr){for(var Yr in recognizers)if(recognizers.hasOwnProperty(Yr)){var Zr=recognizers[Yr](this._track,Gr);if(Zr)return Zr}},Wr}();function dist(Wr){var Gr=Wr[1][0]-Wr[0][0],Yr=Wr[1][1]-Wr[0][1];return Math.sqrt(Gr*Gr+Yr*Yr)}function center$1(Wr){return[(Wr[0][0]+Wr[1][0])/2,(Wr[0][1]+Wr[1][1])/2]}var recognizers={pinch:function(Wr,Gr){var Yr=Wr.length;if(Yr){var Zr=(Wr[Yr-1]||{}).points,Kr=(Wr[Yr-2]||{}).points||Zr;if(Kr&&Kr.length>1&&Zr&&Zr.length>1){var Qr=dist(Zr)/dist(Kr);!isFinite(Qr)&&(Qr=1),Gr.pinchScale=Qr;var Jr=center$1(Zr);return Gr.pinchX=Jr[0],Gr.pinchY=Jr[1],{type:"pinch",target:Wr[0].target,event:Gr}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(Wr){return Wr[0]=1,Wr[1]=0,Wr[2]=0,Wr[3]=1,Wr[4]=0,Wr[5]=0,Wr}function copy(Wr,Gr){return Wr[0]=Gr[0],Wr[1]=Gr[1],Wr[2]=Gr[2],Wr[3]=Gr[3],Wr[4]=Gr[4],Wr[5]=Gr[5],Wr}function mul(Wr,Gr,Yr){var Zr=Gr[0]*Yr[0]+Gr[2]*Yr[1],Kr=Gr[1]*Yr[0]+Gr[3]*Yr[1],Qr=Gr[0]*Yr[2]+Gr[2]*Yr[3],Jr=Gr[1]*Yr[2]+Gr[3]*Yr[3],en=Gr[0]*Yr[4]+Gr[2]*Yr[5]+Gr[4],tn=Gr[1]*Yr[4]+Gr[3]*Yr[5]+Gr[5];return Wr[0]=Zr,Wr[1]=Kr,Wr[2]=Qr,Wr[3]=Jr,Wr[4]=en,Wr[5]=tn,Wr}function translate(Wr,Gr,Yr){return Wr[0]=Gr[0],Wr[1]=Gr[1],Wr[2]=Gr[2],Wr[3]=Gr[3],Wr[4]=Gr[4]+Yr[0],Wr[5]=Gr[5]+Yr[1],Wr}function rotate(Wr,Gr,Yr,Zr){Zr===void 0&&(Zr=[0,0]);var Kr=Gr[0],Qr=Gr[2],Jr=Gr[4],en=Gr[1],tn=Gr[3],rn=Gr[5],an=Math.sin(Yr),nn=Math.cos(Yr);return Wr[0]=Kr*nn+en*an,Wr[1]=-Kr*an+en*nn,Wr[2]=Qr*nn+tn*an,Wr[3]=-Qr*an+nn*tn,Wr[4]=nn*(Jr-Zr[0])+an*(rn-Zr[1])+Zr[0],Wr[5]=nn*(rn-Zr[1])-an*(Jr-Zr[0])+Zr[1],Wr}function scale$1(Wr,Gr,Yr){var Zr=Yr[0],Kr=Yr[1];return Wr[0]=Gr[0]*Zr,Wr[1]=Gr[1]*Kr,Wr[2]=Gr[2]*Zr,Wr[3]=Gr[3]*Kr,Wr[4]=Gr[4]*Zr,Wr[5]=Gr[5]*Kr,Wr}function invert(Wr,Gr){var Yr=Gr[0],Zr=Gr[2],Kr=Gr[4],Qr=Gr[1],Jr=Gr[3],en=Gr[5],tn=Yr*Jr-Qr*Zr;return tn?(tn=1/tn,Wr[0]=Jr*tn,Wr[1]=-Qr*tn,Wr[2]=-Zr*tn,Wr[3]=Yr*tn,Wr[4]=(Zr*en-Jr*Kr)*tn,Wr[5]=(Qr*Kr-Yr*en)*tn,Wr):null}function clone$2(Wr){var Gr=create$1();return copy(Gr,Wr),Gr}var Point=function(){function Wr(Gr,Yr){this.x=Gr||0,this.y=Yr||0}return Wr.prototype.copy=function(Gr){return this.x=Gr.x,this.y=Gr.y,this},Wr.prototype.clone=function(){return new Wr(this.x,this.y)},Wr.prototype.set=function(Gr,Yr){return this.x=Gr,this.y=Yr,this},Wr.prototype.equal=function(Gr){return Gr.x===this.x&&Gr.y===this.y},Wr.prototype.add=function(Gr){return this.x+=Gr.x,this.y+=Gr.y,this},Wr.prototype.scale=function(Gr){this.x*=Gr,this.y*=Gr},Wr.prototype.scaleAndAdd=function(Gr,Yr){this.x+=Gr.x*Yr,this.y+=Gr.y*Yr},Wr.prototype.sub=function(Gr){return this.x-=Gr.x,this.y-=Gr.y,this},Wr.prototype.dot=function(Gr){return this.x*Gr.x+this.y*Gr.y},Wr.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Wr.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},Wr.prototype.normalize=function(){var Gr=this.len();return this.x/=Gr,this.y/=Gr,this},Wr.prototype.distance=function(Gr){var Yr=this.x-Gr.x,Zr=this.y-Gr.y;return Math.sqrt(Yr*Yr+Zr*Zr)},Wr.prototype.distanceSquare=function(Gr){var Yr=this.x-Gr.x,Zr=this.y-Gr.y;return Yr*Yr+Zr*Zr},Wr.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},Wr.prototype.transform=function(Gr){if(Gr){var Yr=this.x,Zr=this.y;return this.x=Gr[0]*Yr+Gr[2]*Zr+Gr[4],this.y=Gr[1]*Yr+Gr[3]*Zr+Gr[5],this}},Wr.prototype.toArray=function(Gr){return Gr[0]=this.x,Gr[1]=this.y,Gr},Wr.prototype.fromArray=function(Gr){this.x=Gr[0],this.y=Gr[1]},Wr.set=function(Gr,Yr,Zr){Gr.x=Yr,Gr.y=Zr},Wr.copy=function(Gr,Yr){Gr.x=Yr.x,Gr.y=Yr.y},Wr.len=function(Gr){return Math.sqrt(Gr.x*Gr.x+Gr.y*Gr.y)},Wr.lenSquare=function(Gr){return Gr.x*Gr.x+Gr.y*Gr.y},Wr.dot=function(Gr,Yr){return Gr.x*Yr.x+Gr.y*Yr.y},Wr.add=function(Gr,Yr,Zr){Gr.x=Yr.x+Zr.x,Gr.y=Yr.y+Zr.y},Wr.sub=function(Gr,Yr,Zr){Gr.x=Yr.x-Zr.x,Gr.y=Yr.y-Zr.y},Wr.scale=function(Gr,Yr,Zr){Gr.x=Yr.x*Zr,Gr.y=Yr.y*Zr},Wr.scaleAndAdd=function(Gr,Yr,Zr,Kr){Gr.x=Yr.x+Zr.x*Kr,Gr.y=Yr.y+Zr.y*Kr},Wr.lerp=function(Gr,Yr,Zr,Kr){var Qr=1-Kr;Gr.x=Qr*Yr.x+Kr*Zr.x,Gr.y=Qr*Yr.y+Kr*Zr.y},Wr}(),mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point,rb=new Point,lb=new Point,rt=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function Wr(Gr,Yr,Zr,Kr){Zr<0&&(Gr=Gr+Zr,Zr=-Zr),Kr<0&&(Yr=Yr+Kr,Kr=-Kr),this.x=Gr,this.y=Yr,this.width=Zr,this.height=Kr}return Wr.prototype.union=function(Gr){var Yr=mathMin$a(Gr.x,this.x),Zr=mathMin$a(Gr.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(Gr.x+Gr.width,this.x+this.width)-Yr:this.width=Gr.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(Gr.y+Gr.height,this.y+this.height)-Zr:this.height=Gr.height,this.x=Yr,this.y=Zr},Wr.prototype.applyTransform=function(Gr){Wr.applyTransform(this,this,Gr)},Wr.prototype.calculateTransform=function(Gr){var Yr=this,Zr=Gr.width/Yr.width,Kr=Gr.height/Yr.height,Qr=create$1();return translate(Qr,Qr,[-Yr.x,-Yr.y]),scale$1(Qr,Qr,[Zr,Kr]),translate(Qr,Qr,[Gr.x,Gr.y]),Qr},Wr.prototype.intersect=function(Gr,Yr){if(!Gr)return!1;Gr instanceof Wr||(Gr=Wr.create(Gr));var Zr=this,Kr=Zr.x,Qr=Zr.x+Zr.width,Jr=Zr.y,en=Zr.y+Zr.height,tn=Gr.x,rn=Gr.x+Gr.width,an=Gr.y,nn=Gr.y+Gr.height,sn=!(Qr<tn||rn<Kr||en<an||nn<Jr);if(Yr){var ln=1/0,un=0,cn=Math.abs(Qr-tn),hn=Math.abs(rn-Kr),dn=Math.abs(en-an),fn=Math.abs(nn-Jr),pn=Math.min(cn,hn),gn=Math.min(dn,fn);Qr<tn||rn<Kr?pn>un&&(un=pn,cn<hn?Point.set(maxTv$1,-cn,0):Point.set(maxTv$1,hn,0)):pn<ln&&(ln=pn,cn<hn?Point.set(minTv$1,cn,0):Point.set(minTv$1,-hn,0)),en<an||nn<Jr?gn>un&&(un=gn,dn<fn?Point.set(maxTv$1,0,-dn):Point.set(maxTv$1,0,fn)):pn<ln&&(ln=pn,dn<fn?Point.set(minTv$1,0,dn):Point.set(minTv$1,0,-fn))}return Yr&&Point.copy(Yr,sn?minTv$1:maxTv$1),sn},Wr.prototype.contain=function(Gr,Yr){var Zr=this;return Gr>=Zr.x&&Gr<=Zr.x+Zr.width&&Yr>=Zr.y&&Yr<=Zr.y+Zr.height},Wr.prototype.clone=function(){return new Wr(this.x,this.y,this.width,this.height)},Wr.prototype.copy=function(Gr){Wr.copy(this,Gr)},Wr.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Wr.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},Wr.prototype.isZero=function(){return this.width===0||this.height===0},Wr.create=function(Gr){return new Wr(Gr.x,Gr.y,Gr.width,Gr.height)},Wr.copy=function(Gr,Yr){Gr.x=Yr.x,Gr.y=Yr.y,Gr.width=Yr.width,Gr.height=Yr.height},Wr.applyTransform=function(Gr,Yr,Zr){if(!Zr){Gr!==Yr&&Wr.copy(Gr,Yr);return}if(Zr[1]<1e-5&&Zr[1]>-1e-5&&Zr[2]<1e-5&&Zr[2]>-1e-5){var Kr=Zr[0],Qr=Zr[3],Jr=Zr[4],en=Zr[5];Gr.x=Yr.x*Kr+Jr,Gr.y=Yr.y*Qr+en,Gr.width=Yr.width*Kr,Gr.height=Yr.height*Qr,Gr.width<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Gr.height<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height);return}lt.x=lb.x=Yr.x,lt.y=rt.y=Yr.y,rb.x=rt.x=Yr.x+Yr.width,rb.y=lb.y=Yr.y+Yr.height,lt.transform(Zr),rt.transform(Zr),rb.transform(Zr),lb.transform(Zr),Gr.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),Gr.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var tn=mathMax$a(lt.x,rb.x,lb.x,rt.x),rn=mathMax$a(lt.y,rb.y,lb.y,rt.y);Gr.width=tn-Gr.x,Gr.height=rn-Gr.y},Wr}(),SILENT="silent";function makeEventPacket(Wr,Gr,Yr){return{type:Wr,event:Yr,target:Gr.target,topTarget:Gr.topTarget,cancelBubble:!1,offsetX:Yr.zrX,offsetY:Yr.zrY,gestureEvent:Yr.gestureEvent,pinchX:Yr.pinchX,pinchY:Yr.pinchY,pinchScale:Yr.pinchScale,wheelDelta:Yr.zrDelta,zrByTouch:Yr.zrByTouch,which:Yr.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.handler=null,Yr}return Gr.prototype.dispose=function(){},Gr.prototype.setCursor=function(){},Gr}(Eventful),HoveredResult=function(){function Wr(Gr,Yr){this.x=Gr,this.y=Yr}return Wr}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr){var en=Wr.call(this)||this;return en._hovered=new HoveredResult(0,0),en.storage=Yr,en.painter=Zr,en.painterRoot=Qr,en._pointerSize=Jr,Kr=Kr||new EmptyProxy,en.proxy=null,en.setHandlerProxy(Kr),en._draggingMgr=new Draggable(en),en}return Gr.prototype.setHandlerProxy=function(Yr){this.proxy&&this.proxy.dispose(),Yr&&(each$f(handlerNames,function(Zr){Yr.on&&Yr.on(Zr,this[Zr],this)},this),Yr.handler=this),this.proxy=Yr},Gr.prototype.mousemove=function(Yr){var Zr=Yr.zrX,Kr=Yr.zrY,Qr=isOutsideBoundary(this,Zr,Kr),Jr=this._hovered,en=Jr.target;en&&!en.__zr&&(Jr=this.findHover(Jr.x,Jr.y),en=Jr.target);var tn=this._hovered=Qr?new HoveredResult(Zr,Kr):this.findHover(Zr,Kr),rn=tn.target,an=this.proxy;an.setCursor&&an.setCursor(rn?rn.cursor:"default"),en&&rn!==en&&this.dispatchToElement(Jr,"mouseout",Yr),this.dispatchToElement(tn,"mousemove",Yr),rn&&rn!==en&&this.dispatchToElement(tn,"mouseover",Yr)},Gr.prototype.mouseout=function(Yr){var Zr=Yr.zrEventControl;Zr!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",Yr),Zr!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:Yr})},Gr.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},Gr.prototype.dispatch=function(Yr,Zr){var Kr=this[Yr];Kr&&Kr.call(this,Zr)},Gr.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Gr.prototype.setCursorStyle=function(Yr){var Zr=this.proxy;Zr.setCursor&&Zr.setCursor(Yr)},Gr.prototype.dispatchToElement=function(Yr,Zr,Kr){Yr=Yr||{};var Qr=Yr.target;if(!(Qr&&Qr.silent)){for(var Jr="on"+Zr,en=makeEventPacket(Zr,Yr,Kr);Qr&&(Qr[Jr]&&(en.cancelBubble=!!Qr[Jr].call(Qr,en)),Qr.trigger(Zr,en),Qr=Qr.__hostTarget?Qr.__hostTarget:Qr.parent,!en.cancelBubble););en.cancelBubble||(this.trigger(Zr,en),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(tn){typeof tn[Jr]=="function"&&tn[Jr].call(tn,en),tn.trigger&&tn.trigger(Zr,en)}))}},Gr.prototype.findHover=function(Yr,Zr,Kr){var Qr=this.storage.getDisplayList(),Jr=new HoveredResult(Yr,Zr);if(setHoverTarget(Qr,Jr,Yr,Zr,Kr),this._pointerSize&&!Jr.target){for(var en=[],tn=this._pointerSize,rn=tn/2,an=new BoundingRect(Yr-rn,Zr-rn,tn,tn),nn=Qr.length-1;nn>=0;nn--){var sn=Qr[nn];sn!==Kr&&!sn.ignore&&!sn.ignoreCoarsePointer&&(!sn.parent||!sn.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(sn.getBoundingRect()),sn.transform&&tmpRect$1.applyTransform(sn.transform),tmpRect$1.intersect(an)&&en.push(sn))}if(en.length)for(var ln=4,un=Math.PI/12,cn=Math.PI*2,hn=0;hn<rn;hn+=ln)for(var dn=0;dn<cn;dn+=un){var fn=Yr+hn*Math.cos(dn),pn=Zr+hn*Math.sin(dn);if(setHoverTarget(en,Jr,fn,pn,Kr),Jr.target)return Jr}}return Jr},Gr.prototype.processGesture=function(Yr,Zr){this._gestureMgr||(this._gestureMgr=new GestureMgr);var Kr=this._gestureMgr;Zr==="start"&&Kr.clear();var Qr=Kr.recognize(Yr,this.findHover(Yr.zrX,Yr.zrY,null).target,this.proxy.dom);if(Zr==="end"&&Kr.clear(),Qr){var Jr=Qr.type;Yr.gestureEvent=Jr;var en=new HoveredResult;en.target=Qr.target,this.dispatchToElement(en,Jr,Qr.event)}},Gr}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Wr){Handler.prototype[Wr]=function(Gr){var Yr=Gr.zrX,Zr=Gr.zrY,Kr=isOutsideBoundary(this,Yr,Zr),Qr,Jr;if((Wr!=="mouseup"||!Kr)&&(Qr=this.findHover(Yr,Zr),Jr=Qr.target),Wr==="mousedown")this._downEl=Jr,this._downPoint=[Gr.zrX,Gr.zrY],this._upEl=Jr;else if(Wr==="mouseup")this._upEl=Jr;else if(Wr==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[Gr.zrX,Gr.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Qr,Wr,Gr)}});function isHover(Wr,Gr,Yr){if(Wr[Wr.rectHover?"rectContain":"contain"](Gr,Yr)){for(var Zr=Wr,Kr=void 0,Qr=!1;Zr;){if(Zr.ignoreClip&&(Qr=!0),!Qr){var Jr=Zr.getClipPath();if(Jr&&!Jr.contain(Gr,Yr))return!1}Zr.silent&&(Kr=!0);var en=Zr.__hostTarget;Zr=en||Zr.parent}return Kr?SILENT:!0}return!1}function setHoverTarget(Wr,Gr,Yr,Zr,Kr){for(var Qr=Wr.length-1;Qr>=0;Qr--){var Jr=Wr[Qr],en=void 0;if(Jr!==Kr&&!Jr.ignore&&(en=isHover(Jr,Yr,Zr))&&(!Gr.topTarget&&(Gr.topTarget=Jr),en!==SILENT)){Gr.target=Jr;break}}}function isOutsideBoundary(Wr,Gr,Yr){var Zr=Wr.painter;return Gr<0||Gr>Zr.getWidth()||Yr<0||Yr>Zr.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(Wr){for(var Gr=0;Wr>=DEFAULT_MIN_MERGE;)Gr|=Wr&1,Wr>>=1;return Wr+Gr}function makeAscendingRun(Wr,Gr,Yr,Zr){var Kr=Gr+1;if(Kr===Yr)return 1;if(Zr(Wr[Kr++],Wr[Gr])<0){for(;Kr<Yr&&Zr(Wr[Kr],Wr[Kr-1])<0;)Kr++;reverseRun(Wr,Gr,Kr)}else for(;Kr<Yr&&Zr(Wr[Kr],Wr[Kr-1])>=0;)Kr++;return Kr-Gr}function reverseRun(Wr,Gr,Yr){for(Yr--;Gr<Yr;){var Zr=Wr[Gr];Wr[Gr++]=Wr[Yr],Wr[Yr--]=Zr}}function binaryInsertionSort(Wr,Gr,Yr,Zr,Kr){for(Zr===Gr&&Zr++;Zr<Yr;Zr++){for(var Qr=Wr[Zr],Jr=Gr,en=Zr,tn;Jr<en;)tn=Jr+en>>>1,Kr(Qr,Wr[tn])<0?en=tn:Jr=tn+1;var rn=Zr-Jr;switch(rn){case 3:Wr[Jr+3]=Wr[Jr+2];case 2:Wr[Jr+2]=Wr[Jr+1];case 1:Wr[Jr+1]=Wr[Jr];break;default:for(;rn>0;)Wr[Jr+rn]=Wr[Jr+rn-1],rn--}Wr[Jr]=Qr}}function gallopLeft(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=0,en=0,tn=1;if(Qr(Wr,Gr[Yr+Kr])>0){for(en=Zr-Kr;tn<en&&Qr(Wr,Gr[Yr+Kr+tn])>0;)Jr=tn,tn=(tn<<1)+1,tn<=0&&(tn=en);tn>en&&(tn=en),Jr+=Kr,tn+=Kr}else{for(en=Kr+1;tn<en&&Qr(Wr,Gr[Yr+Kr-tn])<=0;)Jr=tn,tn=(tn<<1)+1,tn<=0&&(tn=en);tn>en&&(tn=en);var rn=Jr;Jr=Kr-tn,tn=Kr-rn}for(Jr++;Jr<tn;){var an=Jr+(tn-Jr>>>1);Qr(Wr,Gr[Yr+an])>0?Jr=an+1:tn=an}return tn}function gallopRight(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=0,en=0,tn=1;if(Qr(Wr,Gr[Yr+Kr])<0){for(en=Kr+1;tn<en&&Qr(Wr,Gr[Yr+Kr-tn])<0;)Jr=tn,tn=(tn<<1)+1,tn<=0&&(tn=en);tn>en&&(tn=en);var rn=Jr;Jr=Kr-tn,tn=Kr-rn}else{for(en=Zr-Kr;tn<en&&Qr(Wr,Gr[Yr+Kr+tn])>=0;)Jr=tn,tn=(tn<<1)+1,tn<=0&&(tn=en);tn>en&&(tn=en),Jr+=Kr,tn+=Kr}for(Jr++;Jr<tn;){var an=Jr+(tn-Jr>>>1);Qr(Wr,Gr[Yr+an])<0?tn=an:Jr=an+1}return tn}function TimSort(Wr,Gr){var Yr=DEFAULT_MIN_GALLOPING,Zr,Kr,Qr=0,Jr=[];Zr=[],Kr=[];function en(ln,un){Zr[Qr]=ln,Kr[Qr]=un,Qr+=1}function tn(){for(;Qr>1;){var ln=Qr-2;if(ln>=1&&Kr[ln-1]<=Kr[ln]+Kr[ln+1]||ln>=2&&Kr[ln-2]<=Kr[ln]+Kr[ln-1])Kr[ln-1]<Kr[ln+1]&&ln--;else if(Kr[ln]>Kr[ln+1])break;an(ln)}}function rn(){for(;Qr>1;){var ln=Qr-2;ln>0&&Kr[ln-1]<Kr[ln+1]&&ln--,an(ln)}}function an(ln){var un=Zr[ln],cn=Kr[ln],hn=Zr[ln+1],dn=Kr[ln+1];Kr[ln]=cn+dn,ln===Qr-3&&(Zr[ln+1]=Zr[ln+2],Kr[ln+1]=Kr[ln+2]),Qr--;var fn=gallopRight(Wr[hn],Wr,un,cn,0,Gr);un+=fn,cn-=fn,cn!==0&&(dn=gallopLeft(Wr[un+cn-1],Wr,hn,dn,dn-1,Gr),dn!==0&&(cn<=dn?nn(un,cn,hn,dn):sn(un,cn,hn,dn)))}function nn(ln,un,cn,hn){var dn=0;for(dn=0;dn<un;dn++)Jr[dn]=Wr[ln+dn];var fn=0,pn=cn,gn=ln;if(Wr[gn++]=Wr[pn++],--hn===0){for(dn=0;dn<un;dn++)Wr[gn+dn]=Jr[fn+dn];return}if(un===1){for(dn=0;dn<hn;dn++)Wr[gn+dn]=Wr[pn+dn];Wr[gn+hn]=Jr[fn];return}for(var vn=Yr,mn,yn,xn;;){mn=0,yn=0,xn=!1;do if(Gr(Wr[pn],Jr[fn])<0){if(Wr[gn++]=Wr[pn++],yn++,mn=0,--hn===0){xn=!0;break}}else if(Wr[gn++]=Jr[fn++],mn++,yn=0,--un===1){xn=!0;break}while((mn|yn)<vn);if(xn)break;do{if(mn=gallopRight(Wr[pn],Jr,fn,un,0,Gr),mn!==0){for(dn=0;dn<mn;dn++)Wr[gn+dn]=Jr[fn+dn];if(gn+=mn,fn+=mn,un-=mn,un<=1){xn=!0;break}}if(Wr[gn++]=Wr[pn++],--hn===0){xn=!0;break}if(yn=gallopLeft(Jr[fn],Wr,pn,hn,0,Gr),yn!==0){for(dn=0;dn<yn;dn++)Wr[gn+dn]=Wr[pn+dn];if(gn+=yn,pn+=yn,hn-=yn,hn===0){xn=!0;break}}if(Wr[gn++]=Jr[fn++],--un===1){xn=!0;break}vn--}while(mn>=DEFAULT_MIN_GALLOPING||yn>=DEFAULT_MIN_GALLOPING);if(xn)break;vn<0&&(vn=0),vn+=2}if(Yr=vn,Yr<1&&(Yr=1),un===1){for(dn=0;dn<hn;dn++)Wr[gn+dn]=Wr[pn+dn];Wr[gn+hn]=Jr[fn]}else{if(un===0)throw new Error;for(dn=0;dn<un;dn++)Wr[gn+dn]=Jr[fn+dn]}}function sn(ln,un,cn,hn){var dn=0;for(dn=0;dn<hn;dn++)Jr[dn]=Wr[cn+dn];var fn=ln+un-1,pn=hn-1,gn=cn+hn-1,vn=0,mn=0;if(Wr[gn--]=Wr[fn--],--un===0){for(vn=gn-(hn-1),dn=0;dn<hn;dn++)Wr[vn+dn]=Jr[dn];return}if(hn===1){for(gn-=un,fn-=un,mn=gn+1,vn=fn+1,dn=un-1;dn>=0;dn--)Wr[mn+dn]=Wr[vn+dn];Wr[gn]=Jr[pn];return}for(var yn=Yr;;){var xn=0,bn=0,Sn=!1;do if(Gr(Jr[pn],Wr[fn])<0){if(Wr[gn--]=Wr[fn--],xn++,bn=0,--un===0){Sn=!0;break}}else if(Wr[gn--]=Jr[pn--],bn++,xn=0,--hn===1){Sn=!0;break}while((xn|bn)<yn);if(Sn)break;do{if(xn=un-gallopRight(Jr[pn],Wr,ln,un,un-1,Gr),xn!==0){for(gn-=xn,fn-=xn,un-=xn,mn=gn+1,vn=fn+1,dn=xn-1;dn>=0;dn--)Wr[mn+dn]=Wr[vn+dn];if(un===0){Sn=!0;break}}if(Wr[gn--]=Jr[pn--],--hn===1){Sn=!0;break}if(bn=hn-gallopLeft(Wr[fn],Jr,0,hn,hn-1,Gr),bn!==0){for(gn-=bn,pn-=bn,hn-=bn,mn=gn+1,vn=pn+1,dn=0;dn<bn;dn++)Wr[mn+dn]=Jr[vn+dn];if(hn<=1){Sn=!0;break}}if(Wr[gn--]=Wr[fn--],--un===0){Sn=!0;break}yn--}while(xn>=DEFAULT_MIN_GALLOPING||bn>=DEFAULT_MIN_GALLOPING);if(Sn)break;yn<0&&(yn=0),yn+=2}if(Yr=yn,Yr<1&&(Yr=1),hn===1){for(gn-=un,fn-=un,mn=gn+1,vn=fn+1,dn=un-1;dn>=0;dn--)Wr[mn+dn]=Wr[vn+dn];Wr[gn]=Jr[pn]}else{if(hn===0)throw new Error;for(vn=gn-(hn-1),dn=0;dn<hn;dn++)Wr[vn+dn]=Jr[dn]}}return{mergeRuns:tn,forceMergeRuns:rn,pushRun:en}}function sort$2(Wr,Gr,Yr,Zr){Yr||(Yr=0),Zr||(Zr=Wr.length);var Kr=Zr-Yr;if(!(Kr<2)){var Qr=0;if(Kr<DEFAULT_MIN_MERGE){Qr=makeAscendingRun(Wr,Yr,Zr,Gr),binaryInsertionSort(Wr,Yr,Zr,Yr+Qr,Gr);return}var Jr=TimSort(Wr,Gr),en=minRunLength(Kr);do{if(Qr=makeAscendingRun(Wr,Yr,Zr,Gr),Qr<en){var tn=Kr;tn>en&&(tn=en),binaryInsertionSort(Wr,Yr,Yr+tn,Yr+Qr,Gr),Qr=tn}Jr.pushRun(Yr,Qr),Jr.mergeRuns(),Kr-=Qr,Yr+=Qr}while(Kr!==0);Jr.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(Wr,Gr){return Wr.zlevel===Gr.zlevel?Wr.z===Gr.z?Wr.z2-Gr.z2:Wr.z-Gr.z:Wr.zlevel-Gr.zlevel}var Storage=function(){function Wr(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return Wr.prototype.traverse=function(Gr,Yr){for(var Zr=0;Zr<this._roots.length;Zr++)this._roots[Zr].traverse(Gr,Yr)},Wr.prototype.getDisplayList=function(Gr,Yr){Yr=Yr||!1;var Zr=this._displayList;return(Gr||!Zr.length)&&this.updateDisplayList(Yr),Zr},Wr.prototype.updateDisplayList=function(Gr){this._displayListLen=0;for(var Yr=this._roots,Zr=this._displayList,Kr=0,Qr=Yr.length;Kr<Qr;Kr++)this._updateAndAddDisplayable(Yr[Kr],null,Gr);Zr.length=this._displayListLen,sort$2(Zr,shapeCompareFunc)},Wr.prototype._updateAndAddDisplayable=function(Gr,Yr,Zr){if(!(Gr.ignore&&!Zr)){Gr.beforeUpdate(),Gr.update(),Gr.afterUpdate();var Kr=Gr.getClipPath();if(Gr.ignoreClip)Yr=null;else if(Kr){Yr?Yr=Yr.slice():Yr=[];for(var Qr=Kr,Jr=Gr;Qr;)Qr.parent=Jr,Qr.updateTransform(),Yr.push(Qr),Jr=Qr,Qr=Qr.getClipPath()}if(Gr.childrenRef){for(var en=Gr.childrenRef(),tn=0;tn<en.length;tn++){var rn=en[tn];Gr.__dirty&&(rn.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(rn,Yr,Zr)}Gr.__dirty=0}else{var an=Gr;Yr&&Yr.length?an.__clipPaths=Yr:an.__clipPaths&&an.__clipPaths.length>0&&(an.__clipPaths=[]),isNaN(an.z)&&(logInvalidZError(),an.z=0),isNaN(an.z2)&&(logInvalidZError(),an.z2=0),isNaN(an.zlevel)&&(logInvalidZError(),an.zlevel=0),this._displayList[this._displayListLen++]=an}var nn=Gr.getDecalElement&&Gr.getDecalElement();nn&&this._updateAndAddDisplayable(nn,Yr,Zr);var sn=Gr.getTextGuideLine();sn&&this._updateAndAddDisplayable(sn,Yr,Zr);var ln=Gr.getTextContent();ln&&this._updateAndAddDisplayable(ln,Yr,Zr)}},Wr.prototype.addRoot=function(Gr){Gr.__zr&&Gr.__zr.storage===this||this._roots.push(Gr)},Wr.prototype.delRoot=function(Gr){if(Gr instanceof Array){for(var Yr=0,Zr=Gr.length;Yr<Zr;Yr++)this.delRoot(Gr[Yr]);return}var Kr=indexOf(this._roots,Gr);Kr>=0&&this._roots.splice(Kr,1)},Wr.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},Wr.prototype.getRoots=function(){return this._roots},Wr.prototype.dispose=function(){this._displayList=null,this._roots=null},Wr}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(Wr){return setTimeout(Wr,16)};var easingFuncs={linear:function(Wr){return Wr},quadraticIn:function(Wr){return Wr*Wr},quadraticOut:function(Wr){return Wr*(2-Wr)},quadraticInOut:function(Wr){return(Wr*=2)<1?.5*Wr*Wr:-.5*(--Wr*(Wr-2)-1)},cubicIn:function(Wr){return Wr*Wr*Wr},cubicOut:function(Wr){return--Wr*Wr*Wr+1},cubicInOut:function(Wr){return(Wr*=2)<1?.5*Wr*Wr*Wr:.5*((Wr-=2)*Wr*Wr+2)},quarticIn:function(Wr){return Wr*Wr*Wr*Wr},quarticOut:function(Wr){return 1- --Wr*Wr*Wr*Wr},quarticInOut:function(Wr){return(Wr*=2)<1?.5*Wr*Wr*Wr*Wr:-.5*((Wr-=2)*Wr*Wr*Wr-2)},quinticIn:function(Wr){return Wr*Wr*Wr*Wr*Wr},quinticOut:function(Wr){return--Wr*Wr*Wr*Wr*Wr+1},quinticInOut:function(Wr){return(Wr*=2)<1?.5*Wr*Wr*Wr*Wr*Wr:.5*((Wr-=2)*Wr*Wr*Wr*Wr+2)},sinusoidalIn:function(Wr){return 1-Math.cos(Wr*Math.PI/2)},sinusoidalOut:function(Wr){return Math.sin(Wr*Math.PI/2)},sinusoidalInOut:function(Wr){return .5*(1-Math.cos(Math.PI*Wr))},exponentialIn:function(Wr){return Wr===0?0:Math.pow(1024,Wr-1)},exponentialOut:function(Wr){return Wr===1?1:1-Math.pow(2,-10*Wr)},exponentialInOut:function(Wr){return Wr===0?0:Wr===1?1:(Wr*=2)<1?.5*Math.pow(1024,Wr-1):.5*(-Math.pow(2,-10*(Wr-1))+2)},circularIn:function(Wr){return 1-Math.sqrt(1-Wr*Wr)},circularOut:function(Wr){return Math.sqrt(1- --Wr*Wr)},circularInOut:function(Wr){return(Wr*=2)<1?-.5*(Math.sqrt(1-Wr*Wr)-1):.5*(Math.sqrt(1-(Wr-=2)*Wr)+1)},elasticIn:function(Wr){var Gr,Yr=.1,Zr=.4;return Wr===0?0:Wr===1?1:(!Yr||Yr<1?(Yr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Yr)/(2*Math.PI),-(Yr*Math.pow(2,10*(Wr-=1))*Math.sin((Wr-Gr)*(2*Math.PI)/Zr)))},elasticOut:function(Wr){var Gr,Yr=.1,Zr=.4;return Wr===0?0:Wr===1?1:(!Yr||Yr<1?(Yr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Yr)/(2*Math.PI),Yr*Math.pow(2,-10*Wr)*Math.sin((Wr-Gr)*(2*Math.PI)/Zr)+1)},elasticInOut:function(Wr){var Gr,Yr=.1,Zr=.4;return Wr===0?0:Wr===1?1:(!Yr||Yr<1?(Yr=1,Gr=Zr/4):Gr=Zr*Math.asin(1/Yr)/(2*Math.PI),(Wr*=2)<1?-.5*(Yr*Math.pow(2,10*(Wr-=1))*Math.sin((Wr-Gr)*(2*Math.PI)/Zr)):Yr*Math.pow(2,-10*(Wr-=1))*Math.sin((Wr-Gr)*(2*Math.PI)/Zr)*.5+1)},backIn:function(Wr){var Gr=1.70158;return Wr*Wr*((Gr+1)*Wr-Gr)},backOut:function(Wr){var Gr=1.70158;return--Wr*Wr*((Gr+1)*Wr+Gr)+1},backInOut:function(Wr){var Gr=2.5949095;return(Wr*=2)<1?.5*(Wr*Wr*((Gr+1)*Wr-Gr)):.5*((Wr-=2)*Wr*((Gr+1)*Wr+Gr)+2)},bounceIn:function(Wr){return 1-easingFuncs.bounceOut(1-Wr)},bounceOut:function(Wr){return Wr<1/2.75?7.5625*Wr*Wr:Wr<2/2.75?7.5625*(Wr-=1.5/2.75)*Wr+.75:Wr<2.5/2.75?7.5625*(Wr-=2.25/2.75)*Wr+.9375:7.5625*(Wr-=2.625/2.75)*Wr+.984375},bounceInOut:function(Wr){return Wr<.5?easingFuncs.bounceIn(Wr*2)*.5:easingFuncs.bounceOut(Wr*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(Wr){return Wr>-1e-8&&Wr<EPSILON$4}function isNotAroundZero$1(Wr){return Wr>EPSILON$4||Wr<-1e-8}function cubicAt(Wr,Gr,Yr,Zr,Kr){var Qr=1-Kr;return Qr*Qr*(Qr*Wr+3*Kr*Gr)+Kr*Kr*(Kr*Zr+3*Qr*Yr)}function cubicDerivativeAt(Wr,Gr,Yr,Zr,Kr){var Qr=1-Kr;return 3*(((Gr-Wr)*Qr+2*(Yr-Gr)*Kr)*Qr+(Zr-Yr)*Kr*Kr)}function cubicRootAt(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Zr+3*(Gr-Yr)-Wr,en=3*(Yr-Gr*2+Wr),tn=3*(Gr-Wr),rn=Wr-Kr,an=en*en-3*Jr*tn,nn=en*tn-9*Jr*rn,sn=tn*tn-3*en*rn,ln=0;if(isAroundZero$1(an)&&isAroundZero$1(nn))if(isAroundZero$1(en))Qr[0]=0;else{var un=-tn/en;un>=0&&un<=1&&(Qr[ln++]=un)}else{var cn=nn*nn-4*an*sn;if(isAroundZero$1(cn)){var hn=nn/an,un=-en/Jr+hn,dn=-hn/2;un>=0&&un<=1&&(Qr[ln++]=un),dn>=0&&dn<=1&&(Qr[ln++]=dn)}else if(cn>0){var fn=mathSqrt$3(cn),pn=an*en+1.5*Jr*(-nn+fn),gn=an*en+1.5*Jr*(-nn-fn);pn<0?pn=-mathPow$2(-pn,ONE_THIRD):pn=mathPow$2(pn,ONE_THIRD),gn<0?gn=-mathPow$2(-gn,ONE_THIRD):gn=mathPow$2(gn,ONE_THIRD);var un=(-en-(pn+gn))/(3*Jr);un>=0&&un<=1&&(Qr[ln++]=un)}else{var vn=(2*an*en-3*Jr*nn)/(2*mathSqrt$3(an*an*an)),mn=Math.acos(vn)/3,yn=mathSqrt$3(an),xn=Math.cos(mn),un=(-en-2*yn*xn)/(3*Jr),dn=(-en+yn*(xn+THREE_SQRT*Math.sin(mn)))/(3*Jr),bn=(-en+yn*(xn-THREE_SQRT*Math.sin(mn)))/(3*Jr);un>=0&&un<=1&&(Qr[ln++]=un),dn>=0&&dn<=1&&(Qr[ln++]=dn),bn>=0&&bn<=1&&(Qr[ln++]=bn)}}return ln}function cubicExtrema(Wr,Gr,Yr,Zr,Kr){var Qr=6*Yr-12*Gr+6*Wr,Jr=9*Gr+3*Zr-3*Wr-9*Yr,en=3*Gr-3*Wr,tn=0;if(isAroundZero$1(Jr)){if(isNotAroundZero$1(Qr)){var rn=-en/Qr;rn>=0&&rn<=1&&(Kr[tn++]=rn)}}else{var an=Qr*Qr-4*Jr*en;if(isAroundZero$1(an))Kr[0]=-Qr/(2*Jr);else if(an>0){var nn=mathSqrt$3(an),rn=(-Qr+nn)/(2*Jr),sn=(-Qr-nn)/(2*Jr);rn>=0&&rn<=1&&(Kr[tn++]=rn),sn>=0&&sn<=1&&(Kr[tn++]=sn)}}return tn}function cubicSubdivide(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=(Gr-Wr)*Kr+Wr,en=(Yr-Gr)*Kr+Gr,tn=(Zr-Yr)*Kr+Yr,rn=(en-Jr)*Kr+Jr,an=(tn-en)*Kr+en,nn=(an-rn)*Kr+rn;Qr[0]=Wr,Qr[1]=Jr,Qr[2]=rn,Qr[3]=nn,Qr[4]=nn,Qr[5]=an,Qr[6]=tn,Qr[7]=Zr}function cubicProjectPoint(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){var nn,sn=.005,ln=1/0,un,cn,hn,dn;_v0[0]=tn,_v0[1]=rn;for(var fn=0;fn<1;fn+=.05)_v1[0]=cubicAt(Wr,Yr,Kr,Jr,fn),_v1[1]=cubicAt(Gr,Zr,Qr,en,fn),hn=distSquare(_v0,_v1),hn<ln&&(nn=fn,ln=hn);ln=1/0;for(var pn=0;pn<32&&!(sn<EPSILON_NUMERIC);pn++)un=nn-sn,cn=nn+sn,_v1[0]=cubicAt(Wr,Yr,Kr,Jr,un),_v1[1]=cubicAt(Gr,Zr,Qr,en,un),hn=distSquare(_v1,_v0),un>=0&&hn<ln?(nn=un,ln=hn):(_v2[0]=cubicAt(Wr,Yr,Kr,Jr,cn),_v2[1]=cubicAt(Gr,Zr,Qr,en,cn),dn=distSquare(_v2,_v0),cn<=1&&dn<ln?(nn=cn,ln=dn):sn*=.5);return an&&(an[0]=cubicAt(Wr,Yr,Kr,Jr,nn),an[1]=cubicAt(Gr,Zr,Qr,en,nn)),mathSqrt$3(ln)}function cubicLength(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){for(var rn=Wr,an=Gr,nn=0,sn=1/tn,ln=1;ln<=tn;ln++){var un=ln*sn,cn=cubicAt(Wr,Yr,Kr,Jr,un),hn=cubicAt(Gr,Zr,Qr,en,un),dn=cn-rn,fn=hn-an;nn+=Math.sqrt(dn*dn+fn*fn),rn=cn,an=hn}return nn}function quadraticAt$1(Wr,Gr,Yr,Zr){var Kr=1-Zr;return Kr*(Kr*Wr+2*Zr*Gr)+Zr*Zr*Yr}function quadraticDerivativeAt(Wr,Gr,Yr,Zr){return 2*((1-Zr)*(Gr-Wr)+Zr*(Yr-Gr))}function quadraticRootAt(Wr,Gr,Yr,Zr,Kr){var Qr=Wr-2*Gr+Yr,Jr=2*(Gr-Wr),en=Wr-Zr,tn=0;if(isAroundZero$1(Qr)){if(isNotAroundZero$1(Jr)){var rn=-en/Jr;rn>=0&&rn<=1&&(Kr[tn++]=rn)}}else{var an=Jr*Jr-4*Qr*en;if(isAroundZero$1(an)){var rn=-Jr/(2*Qr);rn>=0&&rn<=1&&(Kr[tn++]=rn)}else if(an>0){var nn=mathSqrt$3(an),rn=(-Jr+nn)/(2*Qr),sn=(-Jr-nn)/(2*Qr);rn>=0&&rn<=1&&(Kr[tn++]=rn),sn>=0&&sn<=1&&(Kr[tn++]=sn)}}return tn}function quadraticExtremum(Wr,Gr,Yr){var Zr=Wr+Yr-2*Gr;return Zr===0?.5:(Wr-Gr)/Zr}function quadraticSubdivide(Wr,Gr,Yr,Zr,Kr){var Qr=(Gr-Wr)*Zr+Wr,Jr=(Yr-Gr)*Zr+Gr,en=(Jr-Qr)*Zr+Qr;Kr[0]=Wr,Kr[1]=Qr,Kr[2]=en,Kr[3]=en,Kr[4]=Jr,Kr[5]=Yr}function quadraticProjectPoint(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn,an=.005,nn=1/0;_v0[0]=Jr,_v0[1]=en;for(var sn=0;sn<1;sn+=.05){_v1[0]=quadraticAt$1(Wr,Yr,Kr,sn),_v1[1]=quadraticAt$1(Gr,Zr,Qr,sn);var ln=distSquare(_v0,_v1);ln<nn&&(rn=sn,nn=ln)}nn=1/0;for(var un=0;un<32&&!(an<EPSILON_NUMERIC);un++){var cn=rn-an,hn=rn+an;_v1[0]=quadraticAt$1(Wr,Yr,Kr,cn),_v1[1]=quadraticAt$1(Gr,Zr,Qr,cn);var ln=distSquare(_v1,_v0);if(cn>=0&&ln<nn)rn=cn,nn=ln;else{_v2[0]=quadraticAt$1(Wr,Yr,Kr,hn),_v2[1]=quadraticAt$1(Gr,Zr,Qr,hn);var dn=distSquare(_v2,_v0);hn<=1&&dn<nn?(rn=hn,nn=dn):an*=.5}}return tn&&(tn[0]=quadraticAt$1(Wr,Yr,Kr,rn),tn[1]=quadraticAt$1(Gr,Zr,Qr,rn)),mathSqrt$3(nn)}function quadraticLength(Wr,Gr,Yr,Zr,Kr,Qr,Jr){for(var en=Wr,tn=Gr,rn=0,an=1/Jr,nn=1;nn<=Jr;nn++){var sn=nn*an,ln=quadraticAt$1(Wr,Yr,Kr,sn),un=quadraticAt$1(Gr,Zr,Qr,sn),cn=ln-en,hn=un-tn;rn+=Math.sqrt(cn*cn+hn*hn),en=ln,tn=un}return rn}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(Wr){var Gr=Wr&&regexp.exec(Wr);if(Gr){var Yr=Gr[1].split(","),Zr=+trim$1(Yr[0]),Kr=+trim$1(Yr[1]),Qr=+trim$1(Yr[2]),Jr=+trim$1(Yr[3]);if(isNaN(Zr+Kr+Qr+Jr))return;var en=[];return function(tn){return tn<=0?0:tn>=1?1:cubicRootAt(0,Zr,Qr,1,tn,en)&&cubicAt(0,Kr,Jr,1,en[0])}}}var Clip=function(){function Wr(Gr){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=Gr.life||1e3,this._delay=Gr.delay||0,this.loop=Gr.loop||!1,this.onframe=Gr.onframe||noop,this.ondestroy=Gr.ondestroy||noop,this.onrestart=Gr.onrestart||noop,Gr.easing&&this.setEasing(Gr.easing)}return Wr.prototype.step=function(Gr,Yr){if(this._inited||(this._startTime=Gr+this._delay,this._inited=!0),this._paused){this._pausedTime+=Yr;return}var Zr=this._life,Kr=Gr-this._startTime-this._pausedTime,Qr=Kr/Zr;Qr<0&&(Qr=0),Qr=Math.min(Qr,1);var Jr=this.easingFunc,en=Jr?Jr(Qr):Qr;if(this.onframe(en),Qr===1)if(this.loop){var tn=Kr%Zr;this._startTime=Gr-tn,this._pausedTime=0,this.onrestart()}else return!0;return!1},Wr.prototype.pause=function(){this._paused=!0},Wr.prototype.resume=function(){this._paused=!1},Wr.prototype.setEasing=function(Gr){this.easing=Gr,this.easingFunc=isFunction(Gr)?Gr:easingFuncs[Gr]||createCubicEasingFunc(Gr)},Wr}(),Entry=function(){function Wr(Gr){this.value=Gr}return Wr}(),LinkedList=function(){function Wr(){this._len=0}return Wr.prototype.insert=function(Gr){var Yr=new Entry(Gr);return this.insertEntry(Yr),Yr},Wr.prototype.insertEntry=function(Gr){this.head?(this.tail.next=Gr,Gr.prev=this.tail,Gr.next=null,this.tail=Gr):this.head=this.tail=Gr,this._len++},Wr.prototype.remove=function(Gr){var Yr=Gr.prev,Zr=Gr.next;Yr?Yr.next=Zr:this.head=Zr,Zr?Zr.prev=Yr:this.tail=Yr,Gr.next=Gr.prev=null,this._len--},Wr.prototype.len=function(){return this._len},Wr.prototype.clear=function(){this.head=this.tail=null,this._len=0},Wr}(),LRU=function(){function Wr(Gr){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=Gr}return Wr.prototype.put=function(Gr,Yr){var Zr=this._list,Kr=this._map,Qr=null;if(Kr[Gr]==null){var Jr=Zr.len(),en=this._lastRemovedEntry;if(Jr>=this._maxSize&&Jr>0){var tn=Zr.head;Zr.remove(tn),delete Kr[tn.key],Qr=tn.value,this._lastRemovedEntry=tn}en?en.value=Yr:en=new Entry(Yr),en.key=Gr,Zr.insertEntry(en),Kr[Gr]=en}return Qr},Wr.prototype.get=function(Gr){var Yr=this._map[Gr],Zr=this._list;if(Yr!=null)return Yr!==Zr.tail&&(Zr.remove(Yr),Zr.insertEntry(Yr)),Yr.value},Wr.prototype.clear=function(){this._list.clear(),this._map={}},Wr.prototype.len=function(){return this._list.len()},Wr}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(Wr){return Wr=Math.round(Wr),Wr<0?0:Wr>255?255:Wr}function clampCssAngle(Wr){return Wr=Math.round(Wr),Wr<0?0:Wr>360?360:Wr}function clampCssFloat(Wr){return Wr<0?0:Wr>1?1:Wr}function parseCssInt(Wr){var Gr=Wr;return Gr.length&&Gr.charAt(Gr.length-1)==="%"?clampCssByte(parseFloat(Gr)/100*255):clampCssByte(parseInt(Gr,10))}function parseCssFloat(Wr){var Gr=Wr;return Gr.length&&Gr.charAt(Gr.length-1)==="%"?clampCssFloat(parseFloat(Gr)/100):clampCssFloat(parseFloat(Gr))}function cssHueToRgb(Wr,Gr,Yr){return Yr<0?Yr+=1:Yr>1&&(Yr-=1),Yr*6<1?Wr+(Gr-Wr)*Yr*6:Yr*2<1?Gr:Yr*3<2?Wr+(Gr-Wr)*(2/3-Yr)*6:Wr}function lerpNumber(Wr,Gr,Yr){return Wr+(Gr-Wr)*Yr}function setRgba(Wr,Gr,Yr,Zr,Kr){return Wr[0]=Gr,Wr[1]=Yr,Wr[2]=Zr,Wr[3]=Kr,Wr}function copyRgba(Wr,Gr){return Wr[0]=Gr[0],Wr[1]=Gr[1],Wr[2]=Gr[2],Wr[3]=Gr[3],Wr}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(Wr,Gr){lastRemovedArr&&copyRgba(lastRemovedArr,Gr),lastRemovedArr=colorCache.put(Wr,lastRemovedArr||Gr.slice())}function parse(Wr,Gr){if(Wr){Gr=Gr||[];var Yr=colorCache.get(Wr);if(Yr)return copyRgba(Gr,Yr);Wr=Wr+"";var Zr=Wr.replace(/ /g,"").toLowerCase();if(Zr in kCSSColorTable)return copyRgba(Gr,kCSSColorTable[Zr]),putToCache(Wr,Gr),Gr;var Kr=Zr.length;if(Zr.charAt(0)==="#"){if(Kr===4||Kr===5){var Qr=parseInt(Zr.slice(1,4),16);if(!(Qr>=0&&Qr<=4095)){setRgba(Gr,0,0,0,1);return}return setRgba(Gr,(Qr&3840)>>4|(Qr&3840)>>8,Qr&240|(Qr&240)>>4,Qr&15|(Qr&15)<<4,Kr===5?parseInt(Zr.slice(4),16)/15:1),putToCache(Wr,Gr),Gr}else if(Kr===7||Kr===9){var Qr=parseInt(Zr.slice(1,7),16);if(!(Qr>=0&&Qr<=16777215)){setRgba(Gr,0,0,0,1);return}return setRgba(Gr,(Qr&16711680)>>16,(Qr&65280)>>8,Qr&255,Kr===9?parseInt(Zr.slice(7),16)/255:1),putToCache(Wr,Gr),Gr}return}var Jr=Zr.indexOf("("),en=Zr.indexOf(")");if(Jr!==-1&&en+1===Kr){var tn=Zr.substr(0,Jr),rn=Zr.substr(Jr+1,en-(Jr+1)).split(","),an=1;switch(tn){case"rgba":if(rn.length!==4)return rn.length===3?setRgba(Gr,+rn[0],+rn[1],+rn[2],1):setRgba(Gr,0,0,0,1);an=parseCssFloat(rn.pop());case"rgb":if(rn.length>=3)return setRgba(Gr,parseCssInt(rn[0]),parseCssInt(rn[1]),parseCssInt(rn[2]),rn.length===3?an:parseCssFloat(rn[3])),putToCache(Wr,Gr),Gr;setRgba(Gr,0,0,0,1);return;case"hsla":if(rn.length!==4){setRgba(Gr,0,0,0,1);return}return rn[3]=parseCssFloat(rn[3]),hsla2rgba(rn,Gr),putToCache(Wr,Gr),Gr;case"hsl":if(rn.length!==3){setRgba(Gr,0,0,0,1);return}return hsla2rgba(rn,Gr),putToCache(Wr,Gr),Gr;default:return}}setRgba(Gr,0,0,0,1)}}function hsla2rgba(Wr,Gr){var Yr=(parseFloat(Wr[0])%360+360)%360/360,Zr=parseCssFloat(Wr[1]),Kr=parseCssFloat(Wr[2]),Qr=Kr<=.5?Kr*(Zr+1):Kr+Zr-Kr*Zr,Jr=Kr*2-Qr;return Gr=Gr||[],setRgba(Gr,clampCssByte(cssHueToRgb(Jr,Qr,Yr+1/3)*255),clampCssByte(cssHueToRgb(Jr,Qr,Yr)*255),clampCssByte(cssHueToRgb(Jr,Qr,Yr-1/3)*255),1),Wr.length===4&&(Gr[3]=Wr[3]),Gr}function rgba2hsla(Wr){if(Wr){var Gr=Wr[0]/255,Yr=Wr[1]/255,Zr=Wr[2]/255,Kr=Math.min(Gr,Yr,Zr),Qr=Math.max(Gr,Yr,Zr),Jr=Qr-Kr,en=(Qr+Kr)/2,tn,rn;if(Jr===0)tn=0,rn=0;else{en<.5?rn=Jr/(Qr+Kr):rn=Jr/(2-Qr-Kr);var an=((Qr-Gr)/6+Jr/2)/Jr,nn=((Qr-Yr)/6+Jr/2)/Jr,sn=((Qr-Zr)/6+Jr/2)/Jr;Gr===Qr?tn=sn-nn:Yr===Qr?tn=1/3+an-sn:Zr===Qr&&(tn=2/3+nn-an),tn<0&&(tn+=1),tn>1&&(tn-=1)}var ln=[tn*360,rn,en];return Wr[3]!=null&&ln.push(Wr[3]),ln}}function lift(Wr,Gr){var Yr=parse(Wr);if(Yr){for(var Zr=0;Zr<3;Zr++)Gr<0?Yr[Zr]=Yr[Zr]*(1-Gr)|0:Yr[Zr]=(255-Yr[Zr])*Gr+Yr[Zr]|0,Yr[Zr]>255?Yr[Zr]=255:Yr[Zr]<0&&(Yr[Zr]=0);return stringify(Yr,Yr.length===4?"rgba":"rgb")}}function fastLerp(Wr,Gr,Yr){if(!(!(Gr&&Gr.length)||!(Wr>=0&&Wr<=1))){Yr=Yr||[];var Zr=Wr*(Gr.length-1),Kr=Math.floor(Zr),Qr=Math.ceil(Zr),Jr=Gr[Kr],en=Gr[Qr],tn=Zr-Kr;return Yr[0]=clampCssByte(lerpNumber(Jr[0],en[0],tn)),Yr[1]=clampCssByte(lerpNumber(Jr[1],en[1],tn)),Yr[2]=clampCssByte(lerpNumber(Jr[2],en[2],tn)),Yr[3]=clampCssFloat(lerpNumber(Jr[3],en[3],tn)),Yr}}function lerp(Wr,Gr,Yr){if(!(!(Gr&&Gr.length)||!(Wr>=0&&Wr<=1))){var Zr=Wr*(Gr.length-1),Kr=Math.floor(Zr),Qr=Math.ceil(Zr),Jr=parse(Gr[Kr]),en=parse(Gr[Qr]),tn=Zr-Kr,rn=stringify([clampCssByte(lerpNumber(Jr[0],en[0],tn)),clampCssByte(lerpNumber(Jr[1],en[1],tn)),clampCssByte(lerpNumber(Jr[2],en[2],tn)),clampCssFloat(lerpNumber(Jr[3],en[3],tn))],"rgba");return Yr?{color:rn,leftIndex:Kr,rightIndex:Qr,value:Zr}:rn}}function modifyHSL(Wr,Gr,Yr,Zr){var Kr=parse(Wr);if(Wr)return Kr=rgba2hsla(Kr),Gr!=null&&(Kr[0]=clampCssAngle(Gr)),Yr!=null&&(Kr[1]=parseCssFloat(Yr)),Zr!=null&&(Kr[2]=parseCssFloat(Zr)),stringify(hsla2rgba(Kr),"rgba")}function modifyAlpha(Wr,Gr){var Yr=parse(Wr);if(Yr&&Gr!=null)return Yr[3]=clampCssFloat(Gr),stringify(Yr,"rgba")}function stringify(Wr,Gr){if(!(!Wr||!Wr.length)){var Yr=Wr[0]+","+Wr[1]+","+Wr[2];return(Gr==="rgba"||Gr==="hsva"||Gr==="hsla")&&(Yr+=","+Wr[3]),Gr+"("+Yr+")"}}function lum(Wr,Gr){var Yr=parse(Wr);return Yr?(.299*Yr[0]+.587*Yr[1]+.114*Yr[2])*Yr[3]/255+(1-Yr[3])*Gr:0}var liftedColorCache=new LRU(100);function liftColor(Wr){if(isString(Wr)){var Gr=liftedColorCache.get(Wr);return Gr||(Gr=lift(Wr,-.1),liftedColorCache.put(Wr,Gr)),Gr}else if(isGradientObject(Wr)){var Yr=extend({},Wr);return Yr.colorStops=map$1(Wr.colorStops,function(Zr){return{offset:Zr.offset,color:lift(Zr.color,-.1)}}),Yr}return Wr}var mathRound$1=Math.round;function normalizeColor(Wr){var Gr;if(!Wr||Wr==="transparent")Wr="none";else if(typeof Wr=="string"&&Wr.indexOf("rgba")>-1){var Yr=parse(Wr);Yr&&(Wr="rgb("+Yr[0]+","+Yr[1]+","+Yr[2]+")",Gr=Yr[3])}return{color:Wr,opacity:Gr??1}}var EPSILON$3=1e-4;function isAroundZero(Wr){return Wr<EPSILON$3&&Wr>-1e-4}function round3(Wr){return mathRound$1(Wr*1e3)/1e3}function round4(Wr){return mathRound$1(Wr*1e4)/1e4}function getMatrixStr(Wr){return"matrix("+round3(Wr[0])+","+round3(Wr[1])+","+round3(Wr[2])+","+round3(Wr[3])+","+round4(Wr[4])+","+round4(Wr[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(Wr,Gr,Yr){return Yr==="top"?Wr+=Gr/2:Yr==="bottom"&&(Wr-=Gr/2),Wr}function hasShadow(Wr){return Wr&&(Wr.shadowBlur||Wr.shadowOffsetX||Wr.shadowOffsetY)}function getShadowKey(Wr){var Gr=Wr.style,Yr=Wr.getGlobalScale();return[Gr.shadowColor,(Gr.shadowBlur||0).toFixed(2),(Gr.shadowOffsetX||0).toFixed(2),(Gr.shadowOffsetY||0).toFixed(2),Yr[0],Yr[1]].join(",")}function isImagePattern(Wr){return Wr&&!!Wr.image}function isSVGPattern(Wr){return Wr&&!!Wr.svgElement}function isPattern(Wr){return isImagePattern(Wr)||isSVGPattern(Wr)}function isLinearGradient(Wr){return Wr.type==="linear"}function isRadialGradient(Wr){return Wr.type==="radial"}function isGradient(Wr){return Wr&&(Wr.type==="linear"||Wr.type==="radial")}function getIdURL(Wr){return"url(#"+Wr+")"}function getPathPrecision(Wr){var Gr=Wr.getGlobalScale(),Yr=Math.max(Gr[0],Gr[1]);return Math.max(Math.ceil(Math.log(Yr)/Math.log(10)),1)}function getSRTTransformString(Wr){var Gr=Wr.x||0,Yr=Wr.y||0,Zr=(Wr.rotation||0)*RADIAN_TO_DEGREE,Kr=retrieve2(Wr.scaleX,1),Qr=retrieve2(Wr.scaleY,1),Jr=Wr.skewX||0,en=Wr.skewY||0,tn=[];return(Gr||Yr)&&tn.push("translate("+Gr+"px,"+Yr+"px)"),Zr&&tn.push("rotate("+Zr+")"),(Kr!==1||Qr!==1)&&tn.push("scale("+Kr+","+Qr+")"),(Jr||en)&&tn.push("skew("+mathRound$1(Jr*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(en*RADIAN_TO_DEGREE)+"deg)"),tn.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(Wr){return window.btoa(unescape(encodeURIComponent(Wr)))}:typeof Buffer<"u"?function(Wr){return Buffer.from(Wr).toString("base64")}:function(Wr){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(Wr,Gr,Yr){return(Gr-Wr)*Yr+Wr}function interpolate1DArray(Wr,Gr,Yr,Zr){for(var Kr=Gr.length,Qr=0;Qr<Kr;Qr++)Wr[Qr]=interpolateNumber$1(Gr[Qr],Yr[Qr],Zr);return Wr}function interpolate2DArray(Wr,Gr,Yr,Zr){for(var Kr=Gr.length,Qr=Kr&&Gr[0].length,Jr=0;Jr<Kr;Jr++){Wr[Jr]||(Wr[Jr]=[]);for(var en=0;en<Qr;en++)Wr[Jr][en]=interpolateNumber$1(Gr[Jr][en],Yr[Jr][en],Zr)}return Wr}function add1DArray(Wr,Gr,Yr,Zr){for(var Kr=Gr.length,Qr=0;Qr<Kr;Qr++)Wr[Qr]=Gr[Qr]+Yr[Qr]*Zr;return Wr}function add2DArray(Wr,Gr,Yr,Zr){for(var Kr=Gr.length,Qr=Kr&&Gr[0].length,Jr=0;Jr<Kr;Jr++){Wr[Jr]||(Wr[Jr]=[]);for(var en=0;en<Qr;en++)Wr[Jr][en]=Gr[Jr][en]+Yr[Jr][en]*Zr}return Wr}function fillColorStops(Wr,Gr){for(var Yr=Wr.length,Zr=Gr.length,Kr=Yr>Zr?Gr:Wr,Qr=Math.min(Yr,Zr),Jr=Kr[Qr-1]||{color:[0,0,0,0],offset:0},en=Qr;en<Math.max(Yr,Zr);en++)Kr.push({offset:Jr.offset,color:Jr.color.slice()})}function fillArray(Wr,Gr,Yr){var Zr=Wr,Kr=Gr;if(!(!Zr.push||!Kr.push)){var Qr=Zr.length,Jr=Kr.length;if(Qr!==Jr){var en=Qr>Jr;if(en)Zr.length=Jr;else for(var tn=Qr;tn<Jr;tn++)Zr.push(Yr===1?Kr[tn]:arraySlice.call(Kr[tn]))}for(var rn=Zr[0]&&Zr[0].length,tn=0;tn<Zr.length;tn++)if(Yr===1)isNaN(Zr[tn])&&(Zr[tn]=Kr[tn]);else for(var an=0;an<rn;an++)isNaN(Zr[tn][an])&&(Zr[tn][an]=Kr[tn][an])}}function cloneValue(Wr){if(isArrayLike(Wr)){var Gr=Wr.length;if(isArrayLike(Wr[0])){for(var Yr=[],Zr=0;Zr<Gr;Zr++)Yr.push(arraySlice.call(Wr[Zr]));return Yr}return arraySlice.call(Wr)}return Wr}function rgba2String(Wr){return Wr[0]=Math.floor(Wr[0])||0,Wr[1]=Math.floor(Wr[1])||0,Wr[2]=Math.floor(Wr[2])||0,Wr[3]=Wr[3]==null?1:Wr[3],"rgba("+Wr.join(",")+")"}function guessArrayDim(Wr){return isArrayLike(Wr&&Wr[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(Wr){return Wr===VALUE_TYPE_LINEAR_GRADIENT||Wr===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(Wr){return Wr===VALUE_TYPE_1D_ARRAY||Wr===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function Wr(Gr){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=Gr}return Wr.prototype.isFinished=function(){return this._finished},Wr.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},Wr.prototype.needsAnimate=function(){return this.keyframes.length>=1},Wr.prototype.getAdditiveTrack=function(){return this._additiveTrack},Wr.prototype.addKeyframe=function(Gr,Yr,Zr){this._needsSort=!0;var Kr=this.keyframes,Qr=Kr.length,Jr=!1,en=VALUE_TYPE_UNKOWN,tn=Yr;if(isArrayLike(Yr)){var rn=guessArrayDim(Yr);en=rn,(rn===1&&!isNumber(Yr[0])||rn===2&&!isNumber(Yr[0][0]))&&(Jr=!0)}else if(isNumber(Yr)&&!eqNaN(Yr))en=VALUE_TYPE_NUMBER;else if(isString(Yr))if(!isNaN(+Yr))en=VALUE_TYPE_NUMBER;else{var an=parse(Yr);an&&(tn=an,en=VALUE_TYPE_COLOR)}else if(isGradientObject(Yr)){var nn=extend({},tn);nn.colorStops=map$1(Yr.colorStops,function(ln){return{offset:ln.offset,color:parse(ln.color)}}),isLinearGradient(Yr)?en=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(Yr)&&(en=VALUE_TYPE_RADIAL_GRADIENT),tn=nn}Qr===0?this.valType=en:(en!==this.valType||en===VALUE_TYPE_UNKOWN)&&(Jr=!0),this.discrete=this.discrete||Jr;var sn={time:Gr,value:tn,rawValue:Yr,percent:0};return Zr&&(sn.easing=Zr,sn.easingFunc=isFunction(Zr)?Zr:easingFuncs[Zr]||createCubicEasingFunc(Zr)),Kr.push(sn),sn},Wr.prototype.prepare=function(Gr,Yr){var Zr=this.keyframes;this._needsSort&&Zr.sort(function(cn,hn){return cn.time-hn.time});for(var Kr=this.valType,Qr=Zr.length,Jr=Zr[Qr-1],en=this.discrete,tn=isArrayValueType(Kr),rn=isGradientValueType(Kr),an=0;an<Qr;an++){var nn=Zr[an],sn=nn.value,ln=Jr.value;nn.percent=nn.time/Gr,en||(tn&&an!==Qr-1?fillArray(sn,ln,Kr):rn&&fillColorStops(sn.colorStops,ln.colorStops))}if(!en&&Kr!==VALUE_TYPE_RADIAL_GRADIENT&&Yr&&this.needsAnimate()&&Yr.needsAnimate()&&Kr===Yr.valType&&!Yr._finished){this._additiveTrack=Yr;for(var un=Zr[0].value,an=0;an<Qr;an++)Kr===VALUE_TYPE_NUMBER?Zr[an].additiveValue=Zr[an].value-un:Kr===VALUE_TYPE_COLOR?Zr[an].additiveValue=add1DArray([],Zr[an].value,un,-1):isArrayValueType(Kr)&&(Zr[an].additiveValue=Kr===VALUE_TYPE_1D_ARRAY?add1DArray([],Zr[an].value,un,-1):add2DArray([],Zr[an].value,un,-1))}},Wr.prototype.step=function(Gr,Yr){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Zr=this._additiveTrack!=null,Kr=Zr?"additiveValue":"value",Qr=this.valType,Jr=this.keyframes,en=Jr.length,tn=this.propName,rn=Qr===VALUE_TYPE_COLOR,an,nn=this._lastFr,sn=Math.min,ln,un;if(en===1)ln=un=Jr[0];else{if(Yr<0)an=0;else if(Yr<this._lastFrP){var cn=sn(nn+1,en-1);for(an=cn;an>=0&&!(Jr[an].percent<=Yr);an--);an=sn(an,en-2)}else{for(an=nn;an<en&&!(Jr[an].percent>Yr);an++);an=sn(an-1,en-2)}un=Jr[an+1],ln=Jr[an]}if(ln&&un){this._lastFr=an,this._lastFrP=Yr;var hn=un.percent-ln.percent,dn=hn===0?1:sn((Yr-ln.percent)/hn,1);un.easingFunc&&(dn=un.easingFunc(dn));var fn=Zr?this._additiveValue:rn?tmpRgba:Gr[tn];if((isArrayValueType(Qr)||rn)&&!fn&&(fn=this._additiveValue=[]),this.discrete)Gr[tn]=dn<1?ln.rawValue:un.rawValue;else if(isArrayValueType(Qr))Qr===VALUE_TYPE_1D_ARRAY?interpolate1DArray(fn,ln[Kr],un[Kr],dn):interpolate2DArray(fn,ln[Kr],un[Kr],dn);else if(isGradientValueType(Qr)){var pn=ln[Kr],gn=un[Kr],vn=Qr===VALUE_TYPE_LINEAR_GRADIENT;Gr[tn]={type:vn?"linear":"radial",x:interpolateNumber$1(pn.x,gn.x,dn),y:interpolateNumber$1(pn.y,gn.y,dn),colorStops:map$1(pn.colorStops,function(yn,xn){var bn=gn.colorStops[xn];return{offset:interpolateNumber$1(yn.offset,bn.offset,dn),color:rgba2String(interpolate1DArray([],yn.color,bn.color,dn))}}),global:gn.global},vn?(Gr[tn].x2=interpolateNumber$1(pn.x2,gn.x2,dn),Gr[tn].y2=interpolateNumber$1(pn.y2,gn.y2,dn)):Gr[tn].r=interpolateNumber$1(pn.r,gn.r,dn)}else if(rn)interpolate1DArray(fn,ln[Kr],un[Kr],dn),Zr||(Gr[tn]=rgba2String(fn));else{var mn=interpolateNumber$1(ln[Kr],un[Kr],dn);Zr?this._additiveValue=mn:Gr[tn]=mn}Zr&&this._addToTarget(Gr)}}},Wr.prototype._addToTarget=function(Gr){var Yr=this.valType,Zr=this.propName,Kr=this._additiveValue;Yr===VALUE_TYPE_NUMBER?Gr[Zr]=Gr[Zr]+Kr:Yr===VALUE_TYPE_COLOR?(parse(Gr[Zr],tmpRgba),add1DArray(tmpRgba,tmpRgba,Kr,1),Gr[Zr]=rgba2String(tmpRgba)):Yr===VALUE_TYPE_1D_ARRAY?add1DArray(Gr[Zr],Gr[Zr],Kr,1):Yr===VALUE_TYPE_2D_ARRAY&&add2DArray(Gr[Zr],Gr[Zr],Kr,1)},Wr}(),Animator=function(){function Wr(Gr,Yr,Zr,Kr){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=Gr,this._loop=Yr,Yr&&Kr){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=Kr,this._allowDiscrete=Zr}return Wr.prototype.getMaxTime=function(){return this._maxTime},Wr.prototype.getDelay=function(){return this._delay},Wr.prototype.getLoop=function(){return this._loop},Wr.prototype.getTarget=function(){return this._target},Wr.prototype.changeTarget=function(Gr){this._target=Gr},Wr.prototype.when=function(Gr,Yr,Zr){return this.whenWithKeys(Gr,Yr,keys(Yr),Zr)},Wr.prototype.whenWithKeys=function(Gr,Yr,Zr,Kr){for(var Qr=this._tracks,Jr=0;Jr<Zr.length;Jr++){var en=Zr[Jr],tn=Qr[en];if(!tn){tn=Qr[en]=new Track(en);var rn=void 0,an=this._getAdditiveTrack(en);if(an){var nn=an.keyframes,sn=nn[nn.length-1];rn=sn&&sn.value,an.valType===VALUE_TYPE_COLOR&&rn&&(rn=rgba2String(rn))}else rn=this._target[en];if(rn==null)continue;Gr>0&&tn.addKeyframe(0,cloneValue(rn),Kr),this._trackKeys.push(en)}tn.addKeyframe(Gr,cloneValue(Yr[en]),Kr)}return this._maxTime=Math.max(this._maxTime,Gr),this},Wr.prototype.pause=function(){this._clip.pause(),this._paused=!0},Wr.prototype.resume=function(){this._clip.resume(),this._paused=!1},Wr.prototype.isPaused=function(){return!!this._paused},Wr.prototype.duration=function(Gr){return this._maxTime=Gr,this._force=!0,this},Wr.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var Gr=this._doneCbs;if(Gr)for(var Yr=Gr.length,Zr=0;Zr<Yr;Zr++)Gr[Zr].call(this)},Wr.prototype._abortedCallback=function(){this._setTracksFinished();var Gr=this.animation,Yr=this._abortedCbs;if(Gr&&Gr.removeClip(this._clip),this._clip=null,Yr)for(var Zr=0;Zr<Yr.length;Zr++)Yr[Zr].call(this)},Wr.prototype._setTracksFinished=function(){for(var Gr=this._tracks,Yr=this._trackKeys,Zr=0;Zr<Yr.length;Zr++)Gr[Yr[Zr]].setFinished()},Wr.prototype._getAdditiveTrack=function(Gr){var Yr,Zr=this._additiveAnimators;if(Zr)for(var Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr].getTrack(Gr);Qr&&(Yr=Qr)}return Yr},Wr.prototype.start=function(Gr){if(!(this._started>0)){this._started=1;for(var Yr=this,Zr=[],Kr=this._maxTime||0,Qr=0;Qr<this._trackKeys.length;Qr++){var Jr=this._trackKeys[Qr],en=this._tracks[Jr],tn=this._getAdditiveTrack(Jr),rn=en.keyframes,an=rn.length;if(en.prepare(Kr,tn),en.needsAnimate())if(!this._allowDiscrete&&en.discrete){var nn=rn[an-1];nn&&(Yr._target[en.propName]=nn.rawValue),en.setFinished()}else Zr.push(en)}if(Zr.length||this._force){var sn=new Clip({life:Kr,loop:this._loop,delay:this._delay||0,onframe:function(ln){Yr._started=2;var un=Yr._additiveAnimators;if(un){for(var cn=!1,hn=0;hn<un.length;hn++)if(un[hn]._clip){cn=!0;break}cn||(Yr._additiveAnimators=null)}for(var hn=0;hn<Zr.length;hn++)Zr[hn].step(Yr._target,ln);var dn=Yr._onframeCbs;if(dn)for(var hn=0;hn<dn.length;hn++)dn[hn](Yr._target,ln)},ondestroy:function(){Yr._doneCallback()}});this._clip=sn,this.animation&&this.animation.addClip(sn),Gr&&sn.setEasing(Gr)}else this._doneCallback();return this}},Wr.prototype.stop=function(Gr){if(this._clip){var Yr=this._clip;Gr&&Yr.onframe(1),this._abortedCallback()}},Wr.prototype.delay=function(Gr){return this._delay=Gr,this},Wr.prototype.during=function(Gr){return Gr&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(Gr)),this},Wr.prototype.done=function(Gr){return Gr&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(Gr)),this},Wr.prototype.aborted=function(Gr){return Gr&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(Gr)),this},Wr.prototype.getClip=function(){return this._clip},Wr.prototype.getTrack=function(Gr){return this._tracks[Gr]},Wr.prototype.getTracks=function(){var Gr=this;return map$1(this._trackKeys,function(Yr){return Gr._tracks[Yr]})},Wr.prototype.stopTracks=function(Gr,Yr){if(!Gr.length||!this._clip)return!0;for(var Zr=this._tracks,Kr=this._trackKeys,Qr=0;Qr<Gr.length;Qr++){var Jr=Zr[Gr[Qr]];Jr&&!Jr.isFinished()&&(Yr?Jr.step(this._target,1):this._started===1&&Jr.step(this._target,0),Jr.setFinished())}for(var en=!0,Qr=0;Qr<Kr.length;Qr++)if(!Zr[Kr[Qr]].isFinished()){en=!1;break}return en&&this._abortedCallback(),en},Wr.prototype.saveTo=function(Gr,Yr,Zr){if(Gr){Yr=Yr||this._trackKeys;for(var Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr],Jr=this._tracks[Qr];if(!(!Jr||Jr.isFinished())){var en=Jr.keyframes,tn=en[Zr?0:en.length-1];tn&&(Gr[Qr]=cloneValue(tn.rawValue))}}}},Wr.prototype.__changeFinalValue=function(Gr,Yr){Yr=Yr||keys(Gr);for(var Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr],Qr=this._tracks[Kr];if(Qr){var Jr=Qr.keyframes;if(Jr.length>1){var en=Jr.pop();Qr.addKeyframe(en.time,Gr[Kr]),Qr.prepare(this._maxTime,Qr.getAdditiveTrack())}}}},Wr}();function getTime(){return new Date().getTime()}var Animation=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;return Zr._running=!1,Zr._time=0,Zr._pausedTime=0,Zr._pauseStart=0,Zr._paused=!1,Yr=Yr||{},Zr.stage=Yr.stage||{},Zr}return Gr.prototype.addClip=function(Yr){Yr.animation&&this.removeClip(Yr),this._head?(this._tail.next=Yr,Yr.prev=this._tail,Yr.next=null,this._tail=Yr):this._head=this._tail=Yr,Yr.animation=this},Gr.prototype.addAnimator=function(Yr){Yr.animation=this;var Zr=Yr.getClip();Zr&&this.addClip(Zr)},Gr.prototype.removeClip=function(Yr){if(Yr.animation){var Zr=Yr.prev,Kr=Yr.next;Zr?Zr.next=Kr:this._head=Kr,Kr?Kr.prev=Zr:this._tail=Zr,Yr.next=Yr.prev=Yr.animation=null}},Gr.prototype.removeAnimator=function(Yr){var Zr=Yr.getClip();Zr&&this.removeClip(Zr),Yr.animation=null},Gr.prototype.update=function(Yr){for(var Zr=getTime()-this._pausedTime,Kr=Zr-this._time,Qr=this._head;Qr;){var Jr=Qr.next,en=Qr.step(Zr,Kr);en&&(Qr.ondestroy(),this.removeClip(Qr)),Qr=Jr}this._time=Zr,Yr||(this.trigger("frame",Kr),this.stage.update&&this.stage.update())},Gr.prototype._startLoop=function(){var Yr=this;this._running=!0;function Zr(){Yr._running&&(requestAnimationFrame$1(Zr),!Yr._paused&&Yr.update())}requestAnimationFrame$1(Zr)},Gr.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},Gr.prototype.stop=function(){this._running=!1},Gr.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},Gr.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},Gr.prototype.clear=function(){for(var Yr=this._head;Yr;){var Zr=Yr.next;Yr.prev=Yr.next=Yr.animation=null,Yr=Zr}this._head=this._tail=null},Gr.prototype.isFinished=function(){return this._head==null},Gr.prototype.animate=function(Yr,Zr){Zr=Zr||{},this.start();var Kr=new Animator(Yr,Zr.loop);return this.addAnimator(Kr),Kr},Gr}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var Wr=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Gr=["touchstart","touchend","touchmove"],Yr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Zr=map$1(Wr,function(Kr){var Qr=Kr.replace("mouse","pointer");return Yr.hasOwnProperty(Qr)?Qr:Kr});return{mouse:Wr,touch:Gr,pointer:Zr}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(Wr){var Gr=Wr.pointerType;return Gr==="pen"||Gr==="touch"}function setTouchTimer(Wr){Wr.touching=!0,Wr.touchTimer!=null&&(clearTimeout(Wr.touchTimer),Wr.touchTimer=null),Wr.touchTimer=setTimeout(function(){Wr.touching=!1,Wr.touchTimer=null},700)}function markTouch(Wr){Wr&&(Wr.zrByTouch=!0)}function normalizeGlobalEvent(Wr,Gr){return normalizeEvent(Wr.dom,new FakeGlobalEvent(Wr,Gr),!0)}function isLocalEl(Wr,Gr){for(var Yr=Gr,Zr=!1;Yr&&Yr.nodeType!==9&&!(Zr=Yr.domBelongToZr||Yr!==Gr&&Yr===Wr.painterRoot);)Yr=Yr.parentNode;return Zr}var FakeGlobalEvent=function(){function Wr(Gr,Yr){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=Yr.type,this.target=this.currentTarget=Gr.dom,this.pointerType=Yr.pointerType,this.clientX=Yr.clientX,this.clientY=Yr.clientY}return Wr}(),localDOMHandlers={mousedown:function(Wr){Wr=normalizeEvent(this.dom,Wr),this.__mayPointerCapture=[Wr.zrX,Wr.zrY],this.trigger("mousedown",Wr)},mousemove:function(Wr){Wr=normalizeEvent(this.dom,Wr);var Gr=this.__mayPointerCapture;Gr&&(Wr.zrX!==Gr[0]||Wr.zrY!==Gr[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",Wr)},mouseup:function(Wr){Wr=normalizeEvent(this.dom,Wr),this.__togglePointerCapture(!1),this.trigger("mouseup",Wr)},mouseout:function(Wr){Wr=normalizeEvent(this.dom,Wr);var Gr=Wr.toElement||Wr.relatedTarget;isLocalEl(this,Gr)||(this.__pointerCapturing&&(Wr.zrEventControl="no_globalout"),this.trigger("mouseout",Wr))},wheel:function(Wr){wheelEventSupported=!0,Wr=normalizeEvent(this.dom,Wr),this.trigger("mousewheel",Wr)},mousewheel:function(Wr){wheelEventSupported||(Wr=normalizeEvent(this.dom,Wr),this.trigger("mousewheel",Wr))},touchstart:function(Wr){Wr=normalizeEvent(this.dom,Wr),markTouch(Wr),this.__lastTouchMoment=new Date,this.handler.processGesture(Wr,"start"),localDOMHandlers.mousemove.call(this,Wr),localDOMHandlers.mousedown.call(this,Wr)},touchmove:function(Wr){Wr=normalizeEvent(this.dom,Wr),markTouch(Wr),this.handler.processGesture(Wr,"change"),localDOMHandlers.mousemove.call(this,Wr)},touchend:function(Wr){Wr=normalizeEvent(this.dom,Wr),markTouch(Wr),this.handler.processGesture(Wr,"end"),localDOMHandlers.mouseup.call(this,Wr),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,Wr)},pointerdown:function(Wr){localDOMHandlers.mousedown.call(this,Wr)},pointermove:function(Wr){isPointerFromTouch(Wr)||localDOMHandlers.mousemove.call(this,Wr)},pointerup:function(Wr){localDOMHandlers.mouseup.call(this,Wr)},pointerout:function(Wr){isPointerFromTouch(Wr)||localDOMHandlers.mouseout.call(this,Wr)}};each$f(["click","dblclick","contextmenu"],function(Wr){localDOMHandlers[Wr]=function(Gr){Gr=normalizeEvent(this.dom,Gr),this.trigger(Wr,Gr)}});var globalDOMHandlers={pointermove:function(Wr){isPointerFromTouch(Wr)||globalDOMHandlers.mousemove.call(this,Wr)},pointerup:function(Wr){globalDOMHandlers.mouseup.call(this,Wr)},mousemove:function(Wr){this.trigger("mousemove",Wr)},mouseup:function(Wr){var Gr=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",Wr),Gr&&(Wr.zrEventControl="only_globalout",this.trigger("mouseout",Wr))}};function mountLocalDOMEventListeners(Wr,Gr){var Yr=Gr.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(Zr){mountSingleDOMEventListener(Gr,Zr,function(Kr){Yr[Zr].call(Wr,Kr)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(Zr){mountSingleDOMEventListener(Gr,Zr,function(Kr){Yr[Zr].call(Wr,Kr),setTouchTimer(Gr)})}),each$f(localNativeListenerNames.mouse,function(Zr){mountSingleDOMEventListener(Gr,Zr,function(Kr){Kr=getNativeEvent(Kr),Gr.touching||Yr[Zr].call(Wr,Kr)})}))}function mountGlobalDOMEventListeners(Wr,Gr){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,Yr):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,Yr);function Yr(Zr){function Kr(Qr){Qr=getNativeEvent(Qr),isLocalEl(Wr,Qr.target)||(Qr=normalizeGlobalEvent(Wr,Qr),Gr.domHandlers[Zr].call(Wr,Qr))}mountSingleDOMEventListener(Gr,Zr,Kr,{capture:!0})}}function mountSingleDOMEventListener(Wr,Gr,Yr,Zr){Wr.mounted[Gr]=Yr,Wr.listenerOpts[Gr]=Zr,addEventListener(Wr.domTarget,Gr,Yr,Zr)}function unmountDOMEventListeners(Wr){var Gr=Wr.mounted;for(var Yr in Gr)Gr.hasOwnProperty(Yr)&&removeEventListener(Wr.domTarget,Yr,Gr[Yr],Wr.listenerOpts[Yr]);Wr.mounted={}}var DOMHandlerScope=function(){function Wr(Gr,Yr){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Gr,this.domHandlers=Yr}return Wr}(),HandlerDomProxy=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){var Kr=Wr.call(this)||this;return Kr.__pointerCapturing=!1,Kr.dom=Yr,Kr.painterRoot=Zr,Kr._localHandlerScope=new DOMHandlerScope(Yr,localDOMHandlers),globalEventSupported&&(Kr._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(Kr,Kr._localHandlerScope),Kr}return Gr.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},Gr.prototype.setCursor=function(Yr){this.dom.style&&(this.dom.style.cursor=Yr||"default")},Gr.prototype.__togglePointerCapture=function(Yr){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+Yr){this.__pointerCapturing=Yr;var Zr=this._globalHandlerScope;Yr?mountGlobalDOMEventListeners(this,Zr):unmountDOMEventListeners(Zr)}},Gr}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(Wr){return Wr>EPSILON$2||Wr<-5e-5}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function Wr(){}return Wr.prototype.getLocalTransform=function(Gr){return Wr.getLocalTransform(this,Gr)},Wr.prototype.setPosition=function(Gr){this.x=Gr[0],this.y=Gr[1]},Wr.prototype.setScale=function(Gr){this.scaleX=Gr[0],this.scaleY=Gr[1]},Wr.prototype.setSkew=function(Gr){this.skewX=Gr[0],this.skewY=Gr[1]},Wr.prototype.setOrigin=function(Gr){this.originX=Gr[0],this.originY=Gr[1]},Wr.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},Wr.prototype.updateTransform=function(){var Gr=this.parent&&this.parent.transform,Yr=this.needLocalTransform(),Zr=this.transform;if(!(Yr||Gr)){Zr&&(mIdentity(Zr),this.invTransform=null);return}Zr=Zr||create$1(),Yr?this.getLocalTransform(Zr):mIdentity(Zr),Gr&&(Yr?mul(Zr,Gr,Zr):copy(Zr,Gr)),this.transform=Zr,this._resolveGlobalScaleRatio(Zr)},Wr.prototype._resolveGlobalScaleRatio=function(Gr){var Yr=this.globalScaleRatio;if(Yr!=null&&Yr!==1){this.getGlobalScale(scaleTmp);var Zr=scaleTmp[0]<0?-1:1,Kr=scaleTmp[1]<0?-1:1,Qr=((scaleTmp[0]-Zr)*Yr+Zr)/scaleTmp[0]||0,Jr=((scaleTmp[1]-Kr)*Yr+Kr)/scaleTmp[1]||0;Gr[0]*=Qr,Gr[1]*=Qr,Gr[2]*=Jr,Gr[3]*=Jr}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,Gr)},Wr.prototype.getComputedTransform=function(){for(var Gr=this,Yr=[];Gr;)Yr.push(Gr),Gr=Gr.parent;for(;Gr=Yr.pop();)Gr.updateTransform();return this.transform},Wr.prototype.setLocalTransform=function(Gr){if(Gr){var Yr=Gr[0]*Gr[0]+Gr[1]*Gr[1],Zr=Gr[2]*Gr[2]+Gr[3]*Gr[3],Kr=Math.atan2(Gr[1],Gr[0]),Qr=Math.PI/2+Kr-Math.atan2(Gr[3],Gr[2]);Zr=Math.sqrt(Zr)*Math.cos(Qr),Yr=Math.sqrt(Yr),this.skewX=Qr,this.skewY=0,this.rotation=-Kr,this.x=+Gr[4],this.y=+Gr[5],this.scaleX=Yr,this.scaleY=Zr,this.originX=0,this.originY=0}},Wr.prototype.decomposeTransform=function(){if(this.transform){var Gr=this.parent,Yr=this.transform;Gr&&Gr.transform&&(Gr.invTransform=Gr.invTransform||create$1(),mul(tmpTransform,Gr.invTransform,Yr),Yr=tmpTransform);var Zr=this.originX,Kr=this.originY;(Zr||Kr)&&(originTransform[4]=Zr,originTransform[5]=Kr,mul(tmpTransform,Yr,originTransform),tmpTransform[4]-=Zr,tmpTransform[5]-=Kr,Yr=tmpTransform),this.setLocalTransform(Yr)}},Wr.prototype.getGlobalScale=function(Gr){var Yr=this.transform;return Gr=Gr||[],Yr?(Gr[0]=Math.sqrt(Yr[0]*Yr[0]+Yr[1]*Yr[1]),Gr[1]=Math.sqrt(Yr[2]*Yr[2]+Yr[3]*Yr[3]),Yr[0]<0&&(Gr[0]=-Gr[0]),Yr[3]<0&&(Gr[1]=-Gr[1]),Gr):(Gr[0]=1,Gr[1]=1,Gr)},Wr.prototype.transformCoordToLocal=function(Gr,Yr){var Zr=[Gr,Yr],Kr=this.invTransform;return Kr&&applyTransform$1(Zr,Zr,Kr),Zr},Wr.prototype.transformCoordToGlobal=function(Gr,Yr){var Zr=[Gr,Yr],Kr=this.transform;return Kr&&applyTransform$1(Zr,Zr,Kr),Zr},Wr.prototype.getLineScale=function(){var Gr=this.transform;return Gr&&abs(Gr[0]-1)>1e-10&&abs(Gr[3]-1)>1e-10?Math.sqrt(abs(Gr[0]*Gr[3]-Gr[2]*Gr[1])):1},Wr.prototype.copyTransform=function(Gr){copyTransform(this,Gr)},Wr.getLocalTransform=function(Gr,Yr){Yr=Yr||[];var Zr=Gr.originX||0,Kr=Gr.originY||0,Qr=Gr.scaleX,Jr=Gr.scaleY,en=Gr.anchorX,tn=Gr.anchorY,rn=Gr.rotation||0,an=Gr.x,nn=Gr.y,sn=Gr.skewX?Math.tan(Gr.skewX):0,ln=Gr.skewY?Math.tan(-Gr.skewY):0;if(Zr||Kr||en||tn){var un=Zr+en,cn=Kr+tn;Yr[4]=-un*Qr-sn*cn*Jr,Yr[5]=-cn*Jr-ln*un*Qr}else Yr[4]=Yr[5]=0;return Yr[0]=Qr,Yr[3]=Jr,Yr[1]=ln*Qr,Yr[2]=sn*Jr,rn&&rotate(Yr,Yr,rn),Yr[4]+=Zr+an,Yr[5]+=Kr+nn,Yr},Wr.initDefaultProps=function(){var Gr=Wr.prototype;Gr.scaleX=Gr.scaleY=Gr.globalScaleRatio=1,Gr.x=Gr.y=Gr.originX=Gr.originY=Gr.skewX=Gr.skewY=Gr.rotation=Gr.anchorX=Gr.anchorY=0}(),Wr}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(Wr,Gr){for(var Yr=0;Yr<TRANSFORMABLE_PROPS.length;Yr++){var Zr=TRANSFORMABLE_PROPS[Yr];Wr[Zr]=Gr[Zr]}}var textWidthCache={};function getWidth(Wr,Gr){Gr=Gr||DEFAULT_FONT;var Yr=textWidthCache[Gr];Yr||(Yr=textWidthCache[Gr]=new LRU(500));var Zr=Yr.get(Wr);return Zr==null&&(Zr=platformApi.measureText(Wr,Gr).width,Yr.put(Wr,Zr)),Zr}function innerGetBoundingRect(Wr,Gr,Yr,Zr){var Kr=getWidth(Wr,Gr),Qr=getLineHeight(Gr),Jr=adjustTextX(0,Kr,Yr),en=adjustTextY(0,Qr,Zr),tn=new BoundingRect(Jr,en,Kr,Qr);return tn}function getBoundingRect(Wr,Gr,Yr,Zr){var Kr=((Wr||"")+"").split(`
`),Qr=Kr.length;if(Qr===1)return innerGetBoundingRect(Kr[0],Gr,Yr,Zr);for(var Jr=new BoundingRect(0,0,0,0),en=0;en<Kr.length;en++){var tn=innerGetBoundingRect(Kr[en],Gr,Yr,Zr);en===0?Jr.copy(tn):Jr.union(tn)}return Jr}function adjustTextX(Wr,Gr,Yr){return Yr==="right"?Wr-=Gr:Yr==="center"&&(Wr-=Gr/2),Wr}function adjustTextY(Wr,Gr,Yr){return Yr==="middle"?Wr-=Gr/2:Yr==="bottom"&&(Wr-=Gr),Wr}function getLineHeight(Wr){return getWidth("国",Wr)}function parsePercent$1(Wr,Gr){return typeof Wr=="string"?Wr.lastIndexOf("%")>=0?parseFloat(Wr)/100*Gr:parseFloat(Wr):Wr}function calculateTextPosition(Wr,Gr,Yr){var Zr=Gr.position||"inside",Kr=Gr.distance!=null?Gr.distance:5,Qr=Yr.height,Jr=Yr.width,en=Qr/2,tn=Yr.x,rn=Yr.y,an="left",nn="top";if(Zr instanceof Array)tn+=parsePercent$1(Zr[0],Yr.width),rn+=parsePercent$1(Zr[1],Yr.height),an=null,nn=null;else switch(Zr){case"left":tn-=Kr,rn+=en,an="right",nn="middle";break;case"right":tn+=Kr+Jr,rn+=en,nn="middle";break;case"top":tn+=Jr/2,rn-=Kr,an="center",nn="bottom";break;case"bottom":tn+=Jr/2,rn+=Qr+Kr,an="center";break;case"inside":tn+=Jr/2,rn+=en,an="center",nn="middle";break;case"insideLeft":tn+=Kr,rn+=en,nn="middle";break;case"insideRight":tn+=Jr-Kr,rn+=en,an="right",nn="middle";break;case"insideTop":tn+=Jr/2,rn+=Kr,an="center";break;case"insideBottom":tn+=Jr/2,rn+=Qr-Kr,an="center",nn="bottom";break;case"insideTopLeft":tn+=Kr,rn+=Kr;break;case"insideTopRight":tn+=Jr-Kr,rn+=Kr,an="right";break;case"insideBottomLeft":tn+=Kr,rn+=Qr-Kr,nn="bottom";break;case"insideBottomRight":tn+=Jr-Kr,rn+=Qr-Kr,an="right",nn="bottom";break}return Wr=Wr||{},Wr.x=tn,Wr.y=rn,Wr.align=an,Wr.verticalAlign=nn,Wr}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(Wr,Gr){return Wr[Gr]=!0,Wr},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function Wr(Gr){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(Gr)}return Wr.prototype._init=function(Gr){this.attr(Gr)},Wr.prototype.drift=function(Gr,Yr,Zr){switch(this.draggable){case"horizontal":Yr=0;break;case"vertical":Gr=0;break}var Kr=this.transform;Kr||(Kr=this.transform=[1,0,0,1,0,0]),Kr[4]+=Gr,Kr[5]+=Yr,this.decomposeTransform(),this.markRedraw()},Wr.prototype.beforeUpdate=function(){},Wr.prototype.afterUpdate=function(){},Wr.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},Wr.prototype.updateInnerText=function(Gr){var Yr=this._textContent;if(Yr&&(!Yr.ignore||Gr)){this.textConfig||(this.textConfig={});var Zr=this.textConfig,Kr=Zr.local,Qr=Yr.innerTransformable,Jr=void 0,en=void 0,tn=!1;Qr.parent=Kr?this:null;var rn=!1;if(Qr.copyTransform(Yr),Zr.position!=null){var an=tmpBoundingRect;Zr.layoutRect?an.copy(Zr.layoutRect):an.copy(this.getBoundingRect()),Kr||an.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,Zr,an):calculateTextPosition(tmpTextPosCalcRes,Zr,an),Qr.x=tmpTextPosCalcRes.x,Qr.y=tmpTextPosCalcRes.y,Jr=tmpTextPosCalcRes.align,en=tmpTextPosCalcRes.verticalAlign;var nn=Zr.origin;if(nn&&Zr.rotation!=null){var sn=void 0,ln=void 0;nn==="center"?(sn=an.width*.5,ln=an.height*.5):(sn=parsePercent$1(nn[0],an.width),ln=parsePercent$1(nn[1],an.height)),rn=!0,Qr.originX=-Qr.x+sn+(Kr?0:an.x),Qr.originY=-Qr.y+ln+(Kr?0:an.y)}}Zr.rotation!=null&&(Qr.rotation=Zr.rotation);var un=Zr.offset;un&&(Qr.x+=un[0],Qr.y+=un[1],rn||(Qr.originX=-un[0],Qr.originY=-un[1]));var cn=Zr.inside==null?typeof Zr.position=="string"&&Zr.position.indexOf("inside")>=0:Zr.inside,hn=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),dn=void 0,fn=void 0,pn=void 0;cn&&this.canBeInsideText()?(dn=Zr.insideFill,fn=Zr.insideStroke,(dn==null||dn==="auto")&&(dn=this.getInsideTextFill()),(fn==null||fn==="auto")&&(fn=this.getInsideTextStroke(dn),pn=!0)):(dn=Zr.outsideFill,fn=Zr.outsideStroke,(dn==null||dn==="auto")&&(dn=this.getOutsideFill()),(fn==null||fn==="auto")&&(fn=this.getOutsideStroke(dn),pn=!0)),dn=dn||"#000",(dn!==hn.fill||fn!==hn.stroke||pn!==hn.autoStroke||Jr!==hn.align||en!==hn.verticalAlign)&&(tn=!0,hn.fill=dn,hn.stroke=fn,hn.autoStroke=pn,hn.align=Jr,hn.verticalAlign=en,Yr.setDefaultTextStyle(hn)),Yr.__dirty|=REDRAW_BIT,tn&&Yr.dirtyStyle(!0)}},Wr.prototype.canBeInsideText=function(){return!0},Wr.prototype.getInsideTextFill=function(){return"#fff"},Wr.prototype.getInsideTextStroke=function(Gr){return"#000"},Wr.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},Wr.prototype.getOutsideStroke=function(Gr){var Yr=this.__zr&&this.__zr.getBackgroundColor(),Zr=typeof Yr=="string"&&parse(Yr);Zr||(Zr=[255,255,255,1]);for(var Kr=Zr[3],Qr=this.__zr.isDarkMode(),Jr=0;Jr<3;Jr++)Zr[Jr]=Zr[Jr]*Kr+(Qr?0:255)*(1-Kr);return Zr[3]=1,stringify(Zr,"rgba")},Wr.prototype.traverse=function(Gr,Yr){},Wr.prototype.attrKV=function(Gr,Yr){Gr==="textConfig"?this.setTextConfig(Yr):Gr==="textContent"?this.setTextContent(Yr):Gr==="clipPath"?this.setClipPath(Yr):Gr==="extra"?(this.extra=this.extra||{},extend(this.extra,Yr)):this[Gr]=Yr},Wr.prototype.hide=function(){this.ignore=!0,this.markRedraw()},Wr.prototype.show=function(){this.ignore=!1,this.markRedraw()},Wr.prototype.attr=function(Gr,Yr){if(typeof Gr=="string")this.attrKV(Gr,Yr);else if(isObject$3(Gr))for(var Zr=Gr,Kr=keys(Zr),Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];this.attrKV(Jr,Gr[Jr])}return this.markRedraw(),this},Wr.prototype.saveCurrentToNormalState=function(Gr){this._innerSaveToNormal(Gr);for(var Yr=this._normalState,Zr=0;Zr<this.animators.length;Zr++){var Kr=this.animators[Zr],Qr=Kr.__fromStateTransition;if(!(Kr.getLoop()||Qr&&Qr!==PRESERVED_NORMAL_STATE)){var Jr=Kr.targetName,en=Jr?Yr[Jr]:Yr;Kr.saveTo(en)}}},Wr.prototype._innerSaveToNormal=function(Gr){var Yr=this._normalState;Yr||(Yr=this._normalState={}),Gr.textConfig&&!Yr.textConfig&&(Yr.textConfig=this.textConfig),this._savePrimaryToNormal(Gr,Yr,PRIMARY_STATES_KEYS$1)},Wr.prototype._savePrimaryToNormal=function(Gr,Yr,Zr){for(var Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Gr[Qr]!=null&&!(Qr in Yr)&&(Yr[Qr]=this[Qr])}},Wr.prototype.hasState=function(){return this.currentStates.length>0},Wr.prototype.getState=function(Gr){return this.states[Gr]},Wr.prototype.ensureState=function(Gr){var Yr=this.states;return Yr[Gr]||(Yr[Gr]={}),Yr[Gr]},Wr.prototype.clearStates=function(Gr){this.useState(PRESERVED_NORMAL_STATE,!1,Gr)},Wr.prototype.useState=function(Gr,Yr,Zr,Kr){var Qr=Gr===PRESERVED_NORMAL_STATE,Jr=this.hasState();if(!(!Jr&&Qr)){var en=this.currentStates,tn=this.stateTransition;if(!(indexOf(en,Gr)>=0&&(Yr||en.length===1))){var rn;if(this.stateProxy&&!Qr&&(rn=this.stateProxy(Gr)),rn||(rn=this.states&&this.states[Gr]),!rn&&!Qr){logError("State "+Gr+" not exists.");return}Qr||this.saveCurrentToNormalState(rn);var an=!!(rn&&rn.hoverLayer||Kr);an&&this._toggleHoverLayerFlag(!0),this._applyStateObj(Gr,rn,this._normalState,Yr,!Zr&&!this.__inHover&&tn&&tn.duration>0,tn);var nn=this._textContent,sn=this._textGuide;return nn&&nn.useState(Gr,Yr,Zr,an),sn&&sn.useState(Gr,Yr,Zr,an),Qr?(this.currentStates=[],this._normalState={}):Yr?this.currentStates.push(Gr):this.currentStates=[Gr],this._updateAnimationTargets(),this.markRedraw(),!an&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),rn}}},Wr.prototype.useStates=function(Gr,Yr,Zr){if(!Gr.length)this.clearStates();else{var Kr=[],Qr=this.currentStates,Jr=Gr.length,en=Jr===Qr.length;if(en){for(var tn=0;tn<Jr;tn++)if(Gr[tn]!==Qr[tn]){en=!1;break}}if(en)return;for(var tn=0;tn<Jr;tn++){var rn=Gr[tn],an=void 0;this.stateProxy&&(an=this.stateProxy(rn,Gr)),an||(an=this.states[rn]),an&&Kr.push(an)}var nn=Kr[Jr-1],sn=!!(nn&&nn.hoverLayer||Zr);sn&&this._toggleHoverLayerFlag(!0);var ln=this._mergeStates(Kr),un=this.stateTransition;this.saveCurrentToNormalState(ln),this._applyStateObj(Gr.join(","),ln,this._normalState,!1,!Yr&&!this.__inHover&&un&&un.duration>0,un);var cn=this._textContent,hn=this._textGuide;cn&&cn.useStates(Gr,Yr,sn),hn&&hn.useStates(Gr,Yr,sn),this._updateAnimationTargets(),this.currentStates=Gr.slice(),this.markRedraw(),!sn&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},Wr.prototype.isSilent=function(){for(var Gr=this.silent,Yr=this.parent;!Gr&&Yr;){if(Yr.silent){Gr=!0;break}Yr=Yr.parent}return Gr},Wr.prototype._updateAnimationTargets=function(){for(var Gr=0;Gr<this.animators.length;Gr++){var Yr=this.animators[Gr];Yr.targetName&&Yr.changeTarget(this[Yr.targetName])}},Wr.prototype.removeState=function(Gr){var Yr=indexOf(this.currentStates,Gr);if(Yr>=0){var Zr=this.currentStates.slice();Zr.splice(Yr,1),this.useStates(Zr)}},Wr.prototype.replaceState=function(Gr,Yr,Zr){var Kr=this.currentStates.slice(),Qr=indexOf(Kr,Gr),Jr=indexOf(Kr,Yr)>=0;Qr>=0?Jr?Kr.splice(Qr,1):Kr[Qr]=Yr:Zr&&!Jr&&Kr.push(Yr),this.useStates(Kr)},Wr.prototype.toggleState=function(Gr,Yr){Yr?this.useState(Gr,!0):this.removeState(Gr)},Wr.prototype._mergeStates=function(Gr){for(var Yr={},Zr,Kr=0;Kr<Gr.length;Kr++){var Qr=Gr[Kr];extend(Yr,Qr),Qr.textConfig&&(Zr=Zr||{},extend(Zr,Qr.textConfig))}return Zr&&(Yr.textConfig=Zr),Yr},Wr.prototype._applyStateObj=function(Gr,Yr,Zr,Kr,Qr,Jr){var en=!(Yr&&Kr);Yr&&Yr.textConfig?(this.textConfig=extend({},Kr?this.textConfig:Zr.textConfig),extend(this.textConfig,Yr.textConfig)):en&&Zr.textConfig&&(this.textConfig=Zr.textConfig);for(var tn={},rn=!1,an=0;an<PRIMARY_STATES_KEYS$1.length;an++){var nn=PRIMARY_STATES_KEYS$1[an],sn=Qr&&DEFAULT_ANIMATABLE_MAP[nn];Yr&&Yr[nn]!=null?sn?(rn=!0,tn[nn]=Yr[nn]):this[nn]=Yr[nn]:en&&Zr[nn]!=null&&(sn?(rn=!0,tn[nn]=Zr[nn]):this[nn]=Zr[nn])}if(!Qr)for(var an=0;an<this.animators.length;an++){var ln=this.animators[an],un=ln.targetName;ln.getLoop()||ln.__changeFinalValue(un?(Yr||Zr)[un]:Yr||Zr)}rn&&this._transitionState(Gr,tn,Jr)},Wr.prototype._attachComponent=function(Gr){if(!(Gr.__zr&&!Gr.__hostTarget)&&Gr!==this){var Yr=this.__zr;Yr&&Gr.addSelfToZr(Yr),Gr.__zr=Yr,Gr.__hostTarget=this}},Wr.prototype._detachComponent=function(Gr){Gr.__zr&&Gr.removeSelfFromZr(Gr.__zr),Gr.__zr=null,Gr.__hostTarget=null},Wr.prototype.getClipPath=function(){return this._clipPath},Wr.prototype.setClipPath=function(Gr){this._clipPath&&this._clipPath!==Gr&&this.removeClipPath(),this._attachComponent(Gr),this._clipPath=Gr,this.markRedraw()},Wr.prototype.removeClipPath=function(){var Gr=this._clipPath;Gr&&(this._detachComponent(Gr),this._clipPath=null,this.markRedraw())},Wr.prototype.getTextContent=function(){return this._textContent},Wr.prototype.setTextContent=function(Gr){var Yr=this._textContent;Yr!==Gr&&(Yr&&Yr!==Gr&&this.removeTextContent(),Gr.innerTransformable=new Transformable,this._attachComponent(Gr),this._textContent=Gr,this.markRedraw())},Wr.prototype.setTextConfig=function(Gr){this.textConfig||(this.textConfig={}),extend(this.textConfig,Gr),this.markRedraw()},Wr.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},Wr.prototype.removeTextContent=function(){var Gr=this._textContent;Gr&&(Gr.innerTransformable=null,this._detachComponent(Gr),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},Wr.prototype.getTextGuideLine=function(){return this._textGuide},Wr.prototype.setTextGuideLine=function(Gr){this._textGuide&&this._textGuide!==Gr&&this.removeTextGuideLine(),this._attachComponent(Gr),this._textGuide=Gr,this.markRedraw()},Wr.prototype.removeTextGuideLine=function(){var Gr=this._textGuide;Gr&&(this._detachComponent(Gr),this._textGuide=null,this.markRedraw())},Wr.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var Gr=this.__zr;Gr&&(this.__inHover?Gr.refreshHover():Gr.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},Wr.prototype.dirty=function(){this.markRedraw()},Wr.prototype._toggleHoverLayerFlag=function(Gr){this.__inHover=Gr;var Yr=this._textContent,Zr=this._textGuide;Yr&&(Yr.__inHover=Gr),Zr&&(Zr.__inHover=Gr)},Wr.prototype.addSelfToZr=function(Gr){if(this.__zr!==Gr){this.__zr=Gr;var Yr=this.animators;if(Yr)for(var Zr=0;Zr<Yr.length;Zr++)Gr.animation.addAnimator(Yr[Zr]);this._clipPath&&this._clipPath.addSelfToZr(Gr),this._textContent&&this._textContent.addSelfToZr(Gr),this._textGuide&&this._textGuide.addSelfToZr(Gr)}},Wr.prototype.removeSelfFromZr=function(Gr){if(this.__zr){this.__zr=null;var Yr=this.animators;if(Yr)for(var Zr=0;Zr<Yr.length;Zr++)Gr.animation.removeAnimator(Yr[Zr]);this._clipPath&&this._clipPath.removeSelfFromZr(Gr),this._textContent&&this._textContent.removeSelfFromZr(Gr),this._textGuide&&this._textGuide.removeSelfFromZr(Gr)}},Wr.prototype.animate=function(Gr,Yr,Zr){var Kr=Gr?this[Gr]:this,Qr=new Animator(Kr,Yr,Zr);return Gr&&(Qr.targetName=Gr),this.addAnimator(Qr,Gr),Qr},Wr.prototype.addAnimator=function(Gr,Yr){var Zr=this.__zr,Kr=this;Gr.during(function(){Kr.updateDuringAnimation(Yr)}).done(function(){var Qr=Kr.animators,Jr=indexOf(Qr,Gr);Jr>=0&&Qr.splice(Jr,1)}),this.animators.push(Gr),Zr&&Zr.animation.addAnimator(Gr),Zr&&Zr.wakeUp()},Wr.prototype.updateDuringAnimation=function(Gr){this.markRedraw()},Wr.prototype.stopAnimation=function(Gr,Yr){for(var Zr=this.animators,Kr=Zr.length,Qr=[],Jr=0;Jr<Kr;Jr++){var en=Zr[Jr];!Gr||Gr===en.scope?en.stop(Yr):Qr.push(en)}return this.animators=Qr,this},Wr.prototype.animateTo=function(Gr,Yr,Zr){animateTo(this,Gr,Yr,Zr)},Wr.prototype.animateFrom=function(Gr,Yr,Zr){animateTo(this,Gr,Yr,Zr,!0)},Wr.prototype._transitionState=function(Gr,Yr,Zr,Kr){for(var Qr=animateTo(this,Yr,Zr,Kr),Jr=0;Jr<Qr.length;Jr++)Qr[Jr].__fromStateTransition=Gr},Wr.prototype.getBoundingRect=function(){return null},Wr.prototype.getPaintRect=function(){return null},Wr.initDefaultProps=function(){var Gr=Wr.prototype;Gr.type="element",Gr.name="",Gr.ignore=Gr.silent=Gr.isGroup=Gr.draggable=Gr.dragging=Gr.ignoreClip=Gr.__inHover=!1,Gr.__dirty=REDRAW_BIT;function Yr(Zr,Kr,Qr,Jr){Object.defineProperty(Gr,Zr,{get:function(){if(!this[Kr]){var tn=this[Kr]=[];en(this,tn)}return this[Kr]},set:function(tn){this[Qr]=tn[0],this[Jr]=tn[1],this[Kr]=tn,en(this,tn)}});function en(tn,rn){Object.defineProperty(rn,0,{get:function(){return tn[Qr]},set:function(an){tn[Qr]=an}}),Object.defineProperty(rn,1,{get:function(){return tn[Jr]},set:function(an){tn[Jr]=an}})}}Object.defineProperty&&(Yr("position","_legacyPos","x","y"),Yr("scale","_legacyScale","scaleX","scaleY"),Yr("origin","_legacyOrigin","originX","originY"))}(),Wr}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(Wr,Gr,Yr,Zr,Kr){Yr=Yr||{};var Qr=[];animateToShallow(Wr,"",Wr,Gr,Yr,Zr,Qr,Kr);var Jr=Qr.length,en=!1,tn=Yr.done,rn=Yr.aborted,an=function(){en=!0,Jr--,Jr<=0&&(en?tn&&tn():rn&&rn())},nn=function(){Jr--,Jr<=0&&(en?tn&&tn():rn&&rn())};Jr||tn&&tn(),Qr.length>0&&Yr.during&&Qr[0].during(function(un,cn){Yr.during(cn)});for(var sn=0;sn<Qr.length;sn++){var ln=Qr[sn];an&&ln.done(an),nn&&ln.aborted(nn),Yr.force&&ln.duration(Yr.duration),ln.start(Yr.easing)}return Qr}function copyArrShallow(Wr,Gr,Yr){for(var Zr=0;Zr<Yr;Zr++)Wr[Zr]=Gr[Zr]}function is2DArray(Wr){return isArrayLike(Wr[0])}function copyValue(Wr,Gr,Yr){if(isArrayLike(Gr[Yr]))if(isArrayLike(Wr[Yr])||(Wr[Yr]=[]),isTypedArray(Gr[Yr])){var Zr=Gr[Yr].length;Wr[Yr].length!==Zr&&(Wr[Yr]=new Gr[Yr].constructor(Zr),copyArrShallow(Wr[Yr],Gr[Yr],Zr))}else{var Kr=Gr[Yr],Qr=Wr[Yr],Jr=Kr.length;if(is2DArray(Kr))for(var en=Kr[0].length,tn=0;tn<Jr;tn++)Qr[tn]?copyArrShallow(Qr[tn],Kr[tn],en):Qr[tn]=Array.prototype.slice.call(Kr[tn]);else copyArrShallow(Qr,Kr,Jr);Qr.length=Kr.length}else Wr[Yr]=Gr[Yr]}function isValueSame(Wr,Gr){return Wr===Gr||isArrayLike(Wr)&&isArrayLike(Gr)&&is1DArraySame(Wr,Gr)}function is1DArraySame(Wr,Gr){var Yr=Wr.length;if(Yr!==Gr.length)return!1;for(var Zr=0;Zr<Yr;Zr++)if(Wr[Zr]!==Gr[Zr])return!1;return!0}function animateToShallow(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){for(var tn=keys(Zr),rn=Kr.duration,an=Kr.delay,nn=Kr.additive,sn=Kr.setToFinal,ln=!isObject$3(Qr),un=Wr.animators,cn=[],hn=0;hn<tn.length;hn++){var dn=tn[hn],fn=Zr[dn];if(fn!=null&&Yr[dn]!=null&&(ln||Qr[dn]))if(isObject$3(fn)&&!isArrayLike(fn)&&!isGradientObject(fn)){if(Gr){en||(Yr[dn]=fn,Wr.updateDuringAnimation(Gr));continue}animateToShallow(Wr,dn,Yr[dn],fn,Kr,Qr&&Qr[dn],Jr,en)}else cn.push(dn);else en||(Yr[dn]=fn,Wr.updateDuringAnimation(Gr),cn.push(dn))}var pn=cn.length;if(!nn&&pn)for(var gn=0;gn<un.length;gn++){var vn=un[gn];if(vn.targetName===Gr){var mn=vn.stopTracks(cn);if(mn){var yn=indexOf(un,vn);un.splice(yn,1)}}}if(Kr.force||(cn=filter(cn,function(wn){return!isValueSame(Zr[wn],Yr[wn])}),pn=cn.length),pn>0||Kr.force&&!Jr.length){var xn=void 0,bn=void 0,Sn=void 0;if(en){bn={},sn&&(xn={});for(var gn=0;gn<pn;gn++){var dn=cn[gn];bn[dn]=Yr[dn],sn?xn[dn]=Zr[dn]:Yr[dn]=Zr[dn]}}else if(sn){Sn={};for(var gn=0;gn<pn;gn++){var dn=cn[gn];Sn[dn]=cloneValue(Yr[dn]),copyValue(Yr,Zr,dn)}}var vn=new Animator(Yr,!1,!1,nn?filter(un,function(_n){return _n.targetName===Gr}):null);vn.targetName=Gr,Kr.scope&&(vn.scope=Kr.scope),sn&&xn&&vn.whenWithKeys(0,xn,cn),Sn&&vn.whenWithKeys(0,Sn,cn),vn.whenWithKeys(rn??500,en?bn:Zr,cn).delay(an||0),Wr.addAnimator(vn,Gr),Jr.push(vn)}}var Group$3=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;return Zr.isGroup=!0,Zr._children=[],Zr.attr(Yr),Zr}return Gr.prototype.childrenRef=function(){return this._children},Gr.prototype.children=function(){return this._children.slice()},Gr.prototype.childAt=function(Yr){return this._children[Yr]},Gr.prototype.childOfName=function(Yr){for(var Zr=this._children,Kr=0;Kr<Zr.length;Kr++)if(Zr[Kr].name===Yr)return Zr[Kr]},Gr.prototype.childCount=function(){return this._children.length},Gr.prototype.add=function(Yr){return Yr&&Yr!==this&&Yr.parent!==this&&(this._children.push(Yr),this._doAdd(Yr)),this},Gr.prototype.addBefore=function(Yr,Zr){if(Yr&&Yr!==this&&Yr.parent!==this&&Zr&&Zr.parent===this){var Kr=this._children,Qr=Kr.indexOf(Zr);Qr>=0&&(Kr.splice(Qr,0,Yr),this._doAdd(Yr))}return this},Gr.prototype.replace=function(Yr,Zr){var Kr=indexOf(this._children,Yr);return Kr>=0&&this.replaceAt(Zr,Kr),this},Gr.prototype.replaceAt=function(Yr,Zr){var Kr=this._children,Qr=Kr[Zr];if(Yr&&Yr!==this&&Yr.parent!==this&&Yr!==Qr){Kr[Zr]=Yr,Qr.parent=null;var Jr=this.__zr;Jr&&Qr.removeSelfFromZr(Jr),this._doAdd(Yr)}return this},Gr.prototype._doAdd=function(Yr){Yr.parent&&Yr.parent.remove(Yr),Yr.parent=this;var Zr=this.__zr;Zr&&Zr!==Yr.__zr&&Yr.addSelfToZr(Zr),Zr&&Zr.refresh()},Gr.prototype.remove=function(Yr){var Zr=this.__zr,Kr=this._children,Qr=indexOf(Kr,Yr);return Qr<0?this:(Kr.splice(Qr,1),Yr.parent=null,Zr&&Yr.removeSelfFromZr(Zr),Zr&&Zr.refresh(),this)},Gr.prototype.removeAll=function(){for(var Yr=this._children,Zr=this.__zr,Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr];Zr&&Qr.removeSelfFromZr(Zr),Qr.parent=null}return Yr.length=0,this},Gr.prototype.eachChild=function(Yr,Zr){for(var Kr=this._children,Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];Yr.call(Zr,Jr,Qr)}return this},Gr.prototype.traverse=function(Yr,Zr){for(var Kr=0;Kr<this._children.length;Kr++){var Qr=this._children[Kr],Jr=Yr.call(Zr,Qr);Qr.isGroup&&!Jr&&Qr.traverse(Yr,Zr)}return this},Gr.prototype.addSelfToZr=function(Yr){Wr.prototype.addSelfToZr.call(this,Yr);for(var Zr=0;Zr<this._children.length;Zr++){var Kr=this._children[Zr];Kr.addSelfToZr(Yr)}},Gr.prototype.removeSelfFromZr=function(Yr){Wr.prototype.removeSelfFromZr.call(this,Yr);for(var Zr=0;Zr<this._children.length;Zr++){var Kr=this._children[Zr];Kr.removeSelfFromZr(Yr)}},Gr.prototype.getBoundingRect=function(Yr){for(var Zr=new BoundingRect(0,0,0,0),Kr=Yr||this._children,Qr=[],Jr=null,en=0;en<Kr.length;en++){var tn=Kr[en];if(!(tn.ignore||tn.invisible)){var rn=tn.getBoundingRect(),an=tn.getLocalTransform(Qr);an?(BoundingRect.applyTransform(Zr,rn,an),Jr=Jr||Zr.clone(),Jr.union(Zr)):(Jr=Jr||rn.clone(),Jr.union(rn))}}return Jr||Zr},Gr}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(Wr){delete instances$1[Wr]}function isDarkMode(Wr){if(!Wr)return!1;if(typeof Wr=="string")return lum(Wr,1)<DARK_MODE_THRESHOLD;if(Wr.colorStops){for(var Gr=Wr.colorStops,Yr=0,Zr=Gr.length,Kr=0;Kr<Zr;Kr++)Yr+=lum(Gr[Kr].color,1);return Yr/=Zr,Yr<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function Wr(Gr,Yr,Zr){var Kr=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,Zr=Zr||{},this.dom=Yr,this.id=Gr;var Qr=new Storage,Jr=Zr.renderer||"canvas";painterCtors[Jr]||(Jr=keys(painterCtors)[0]),Zr.useDirtyRect=Zr.useDirtyRect==null?!1:Zr.useDirtyRect;var en=new painterCtors[Jr](Yr,Qr,Zr,Gr),tn=Zr.ssr||en.ssrOnly;this.storage=Qr,this.painter=en;var rn=!env.node&&!env.worker&&!tn?new HandlerDomProxy(en.getViewportRoot(),en.root):null,an=Zr.useCoarsePointer,nn=an==null||an==="auto"?env.touchEventsSupported:!!an,sn=44,ln;nn&&(ln=retrieve2(Zr.pointerSize,sn)),this.handler=new Handler(Qr,en,rn,en.root,ln),this.animation=new Animation({stage:{update:tn?null:function(){return Kr._flush(!0)}}}),tn||this.animation.start()}return Wr.prototype.add=function(Gr){this._disposed||!Gr||(this.storage.addRoot(Gr),Gr.addSelfToZr(this),this.refresh())},Wr.prototype.remove=function(Gr){this._disposed||!Gr||(this.storage.delRoot(Gr),Gr.removeSelfFromZr(this),this.refresh())},Wr.prototype.configLayer=function(Gr,Yr){this._disposed||(this.painter.configLayer&&this.painter.configLayer(Gr,Yr),this.refresh())},Wr.prototype.setBackgroundColor=function(Gr){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(Gr),this.refresh(),this._backgroundColor=Gr,this._darkMode=isDarkMode(Gr))},Wr.prototype.getBackgroundColor=function(){return this._backgroundColor},Wr.prototype.setDarkMode=function(Gr){this._darkMode=Gr},Wr.prototype.isDarkMode=function(){return this._darkMode},Wr.prototype.refreshImmediately=function(Gr){this._disposed||(Gr||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},Wr.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},Wr.prototype.flush=function(){this._disposed||this._flush(!1)},Wr.prototype._flush=function(Gr){var Yr,Zr=getTime();this._needsRefresh&&(Yr=!0,this.refreshImmediately(Gr)),this._needsRefreshHover&&(Yr=!0,this.refreshHoverImmediately());var Kr=getTime();Yr?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:Kr-Zr})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},Wr.prototype.setSleepAfterStill=function(Gr){this._sleepAfterStill=Gr},Wr.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},Wr.prototype.refreshHover=function(){this._needsRefreshHover=!0},Wr.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},Wr.prototype.resize=function(Gr){this._disposed||(Gr=Gr||{},this.painter.resize(Gr.width,Gr.height),this.handler.resize())},Wr.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},Wr.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},Wr.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},Wr.prototype.setCursorStyle=function(Gr){this._disposed||this.handler.setCursorStyle(Gr)},Wr.prototype.findHover=function(Gr,Yr){if(!this._disposed)return this.handler.findHover(Gr,Yr)},Wr.prototype.on=function(Gr,Yr,Zr){return this._disposed||this.handler.on(Gr,Yr,Zr),this},Wr.prototype.off=function(Gr,Yr){this._disposed||this.handler.off(Gr,Yr)},Wr.prototype.trigger=function(Gr,Yr){this._disposed||this.handler.trigger(Gr,Yr)},Wr.prototype.clear=function(){if(!this._disposed){for(var Gr=this.storage.getRoots(),Yr=0;Yr<Gr.length;Yr++)Gr[Yr]instanceof Group$3&&Gr[Yr].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},Wr.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},Wr}();function init$2(Wr,Gr){var Yr=new ZRender(guid(),Wr,Gr);return instances$1[Yr.id]=Yr,Yr}function registerPainter(Wr,Gr){painterCtors[Wr]=Gr}var ssrDataGetter;function getElementSSRData(Wr){if(typeof ssrDataGetter=="function")return ssrDataGetter(Wr)}function registerSSRDataGetter(Wr){ssrDataGetter=Wr}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(Wr){return Wr.replace(/^\s+|\s+$/g,"")}function linearMap$2(Wr,Gr,Yr,Zr){var Kr=Gr[0],Qr=Gr[1],Jr=Yr[0],en=Yr[1],tn=Qr-Kr,rn=en-Jr;if(tn===0)return rn===0?Jr:(Jr+en)/2;if(Zr)if(tn>0){if(Wr<=Kr)return Jr;if(Wr>=Qr)return en}else{if(Wr>=Kr)return Jr;if(Wr<=Qr)return en}else{if(Wr===Kr)return Jr;if(Wr===Qr)return en}return(Wr-Kr)/tn*rn+Jr}function parsePercent(Wr,Gr){switch(Wr){case"center":case"middle":Wr="50%";break;case"left":case"top":Wr="0%";break;case"right":case"bottom":Wr="100%";break}return isString(Wr)?_trim(Wr).match(/%$/)?parseFloat(Wr)/100*Gr:parseFloat(Wr):Wr==null?NaN:+Wr}function round$3(Wr,Gr,Yr){return Gr==null&&(Gr=10),Gr=Math.min(Math.max(0,Gr),ROUND_SUPPORTED_PRECISION_MAX),Wr=(+Wr).toFixed(Gr),Yr?Wr:+Wr}function asc$2(Wr){return Wr.sort(function(Gr,Yr){return Gr-Yr}),Wr}function getPrecision(Wr){if(Wr=+Wr,isNaN(Wr))return 0;if(Wr>1e-14){for(var Gr=1,Yr=0;Yr<15;Yr++,Gr*=10)if(Math.round(Wr*Gr)/Gr===Wr)return Yr}return getPrecisionSafe(Wr)}function getPrecisionSafe(Wr){var Gr=Wr.toString().toLowerCase(),Yr=Gr.indexOf("e"),Zr=Yr>0?+Gr.slice(Yr+1):0,Kr=Yr>0?Yr:Gr.length,Qr=Gr.indexOf("."),Jr=Qr<0?0:Kr-1-Qr;return Math.max(0,Jr-Zr)}function getPixelPrecision(Wr,Gr){var Yr=Math.log,Zr=Math.LN10,Kr=Math.floor(Yr(Wr[1]-Wr[0])/Zr),Qr=Math.round(Yr(Math.abs(Gr[1]-Gr[0]))/Zr),Jr=Math.min(Math.max(-Kr+Qr,0),20);return isFinite(Jr)?Jr:20}function getPercentSeats(Wr,Gr){var Yr=reduce(Wr,function(ln,un){return ln+(isNaN(un)?0:un)},0);if(Yr===0)return[];for(var Zr=Math.pow(10,Gr),Kr=map$1(Wr,function(ln){return(isNaN(ln)?0:ln)/Yr*Zr*100}),Qr=Zr*100,Jr=map$1(Kr,function(ln){return Math.floor(ln)}),en=reduce(Jr,function(ln,un){return ln+un},0),tn=map$1(Kr,function(ln,un){return ln-Jr[un]});en<Qr;){for(var rn=Number.NEGATIVE_INFINITY,an=null,nn=0,sn=tn.length;nn<sn;++nn)tn[nn]>rn&&(rn=tn[nn],an=nn);++Jr[an],tn[an]=0,++en}return map$1(Jr,function(ln){return ln/Zr})}function addSafe(Wr,Gr){var Yr=Math.max(getPrecision(Wr),getPrecision(Gr)),Zr=Wr+Gr;return Yr>ROUND_SUPPORTED_PRECISION_MAX?Zr:round$3(Zr,Yr)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(Wr){var Gr=Math.PI*2;return(Wr%Gr+Gr)%Gr}function isRadianAroundZero(Wr){return Wr>-1e-4&&Wr<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(Wr){if(Wr instanceof Date)return Wr;if(isString(Wr)){var Gr=TIME_REG.exec(Wr);if(!Gr)return new Date(NaN);if(Gr[8]){var Yr=+Gr[4]||0;return Gr[8].toUpperCase()!=="Z"&&(Yr-=+Gr[8].slice(0,3)),new Date(Date.UTC(+Gr[1],+(Gr[2]||1)-1,+Gr[3]||1,Yr,+(Gr[5]||0),+Gr[6]||0,Gr[7]?+Gr[7].substring(0,3):0))}else return new Date(+Gr[1],+(Gr[2]||1)-1,+Gr[3]||1,+Gr[4]||0,+(Gr[5]||0),+Gr[6]||0,Gr[7]?+Gr[7].substring(0,3):0)}else if(Wr==null)return new Date(NaN);return new Date(Math.round(Wr))}function quantity(Wr){return Math.pow(10,quantityExponent(Wr))}function quantityExponent(Wr){if(Wr===0)return 0;var Gr=Math.floor(Math.log(Wr)/Math.LN10);return Wr/Math.pow(10,Gr)>=10&&Gr++,Gr}function nice(Wr,Gr){var Yr=quantityExponent(Wr),Zr=Math.pow(10,Yr),Kr=Wr/Zr,Qr;return Kr<1.5?Qr=1:Kr<2.5?Qr=2:Kr<4?Qr=3:Kr<7?Qr=5:Qr=10,Wr=Qr*Zr,Yr>=-20?+Wr.toFixed(Yr<0?-Yr:0):Wr}function quantile(Wr,Gr){var Yr=(Wr.length-1)*Gr+1,Zr=Math.floor(Yr),Kr=+Wr[Zr-1],Qr=Yr-Zr;return Qr?Kr+Qr*(Wr[Zr]-Kr):Kr}function reformIntervals(Wr){Wr.sort(function(tn,rn){return en(tn,rn,0)?-1:1});for(var Gr=-1/0,Yr=1,Zr=0;Zr<Wr.length;){for(var Kr=Wr[Zr].interval,Qr=Wr[Zr].close,Jr=0;Jr<2;Jr++)Kr[Jr]<=Gr&&(Kr[Jr]=Gr,Qr[Jr]=Jr?1:1-Yr),Gr=Kr[Jr],Yr=Qr[Jr];Kr[0]===Kr[1]&&Qr[0]*Qr[1]!==1?Wr.splice(Zr,1):Zr++}return Wr;function en(tn,rn,an){return tn.interval[an]<rn.interval[an]||tn.interval[an]===rn.interval[an]&&(tn.close[an]-rn.close[an]===(an?-1:1)||!an&&en(tn,rn,1))}}function numericToNumber(Wr){var Gr=parseFloat(Wr);return Gr==Wr&&(Gr!==0||!isString(Wr)||Wr.indexOf("x")<=0)?Gr:NaN}function isNumeric(Wr){return!isNaN(numericToNumber(Wr))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(Wr,Gr){return Gr===0?Wr:getGreatestCommonDividor(Gr,Wr%Gr)}function getLeastCommonMultiple(Wr,Gr){return Wr==null?Gr:Gr==null?Wr:Wr*Gr/getGreatestCommonDividor(Wr,Gr)}function throwError(Wr){throw new Error(Wr)}function interpolateNumber(Wr,Gr,Yr){return(Gr-Wr)*Yr+Wr}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(Wr){return Wr instanceof Array?Wr:Wr==null?[]:[Wr]}function defaultEmphasis(Wr,Gr,Yr){if(Wr){Wr[Gr]=Wr[Gr]||{},Wr.emphasis=Wr.emphasis||{},Wr.emphasis[Gr]=Wr.emphasis[Gr]||{};for(var Zr=0,Kr=Yr.length;Zr<Kr;Zr++){var Qr=Yr[Zr];!Wr.emphasis[Gr].hasOwnProperty(Qr)&&Wr[Gr].hasOwnProperty(Qr)&&(Wr.emphasis[Gr][Qr]=Wr[Gr][Qr])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(Wr){return isObject$3(Wr)&&!isArray$1(Wr)&&!(Wr instanceof Date)?Wr.value:Wr}function isDataItemOption(Wr){return isObject$3(Wr)&&!(Wr instanceof Array)}function mappingToExists(Wr,Gr,Yr){var Zr=Yr==="normalMerge",Kr=Yr==="replaceMerge",Qr=Yr==="replaceAll";Wr=Wr||[],Gr=(Gr||[]).slice();var Jr=createHashMap();each$f(Gr,function(tn,rn){if(!isObject$3(tn)){Gr[rn]=null;return}});var en=prepareResult(Wr,Jr,Yr);return(Zr||Kr)&&mappingById(en,Wr,Jr,Gr),Zr&&mappingByName(en,Gr),Zr||Kr?mappingByIndex(en,Gr,Kr):Qr&&mappingInReplaceAllMode(en,Gr),makeIdAndName(en),en}function prepareResult(Wr,Gr,Yr){var Zr=[];if(Yr==="replaceAll")return Zr;for(var Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr];Qr&&Qr.id!=null&&Gr.set(Qr.id,Kr),Zr.push({existing:Yr==="replaceMerge"||isComponentIdInternal(Qr)?null:Qr,newOption:null,keyInfo:null,brandNew:null})}return Zr}function mappingById(Wr,Gr,Yr,Zr){each$f(Zr,function(Kr,Qr){if(!(!Kr||Kr.id==null)){var Jr=makeComparableKey(Kr.id),en=Yr.get(Jr);if(en!=null){var tn=Wr[en];assert(!tn.newOption,'Duplicated option on id "'+Jr+'".'),tn.newOption=Kr,tn.existing=Gr[en],Zr[Qr]=null}}})}function mappingByName(Wr,Gr){each$f(Gr,function(Yr,Zr){if(!(!Yr||Yr.name==null))for(var Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr].existing;if(!Wr[Kr].newOption&&Qr&&(Qr.id==null||Yr.id==null)&&!isComponentIdInternal(Yr)&&!isComponentIdInternal(Qr)&&keyExistAndEqual("name",Qr,Yr)){Wr[Kr].newOption=Yr,Gr[Zr]=null;return}}})}function mappingByIndex(Wr,Gr,Yr){each$f(Gr,function(Zr){if(Zr){for(var Kr,Qr=0;(Kr=Wr[Qr])&&(Kr.newOption||isComponentIdInternal(Kr.existing)||Kr.existing&&Zr.id!=null&&!keyExistAndEqual("id",Zr,Kr.existing));)Qr++;Kr?(Kr.newOption=Zr,Kr.brandNew=Yr):Wr.push({newOption:Zr,brandNew:Yr,existing:null,keyInfo:null}),Qr++}})}function mappingInReplaceAllMode(Wr,Gr){each$f(Gr,function(Yr){Wr.push({newOption:Yr,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(Wr){var Gr=createHashMap();each$f(Wr,function(Yr){var Zr=Yr.existing;Zr&&Gr.set(Zr.id,Yr)}),each$f(Wr,function(Yr){var Zr=Yr.newOption;assert(!Zr||Zr.id==null||!Gr.get(Zr.id)||Gr.get(Zr.id)===Yr,"id duplicates: "+(Zr&&Zr.id)),Zr&&Zr.id!=null&&Gr.set(Zr.id,Yr),!Yr.keyInfo&&(Yr.keyInfo={})}),each$f(Wr,function(Yr,Zr){var Kr=Yr.existing,Qr=Yr.newOption,Jr=Yr.keyInfo;if(isObject$3(Qr)){if(Jr.name=Qr.name!=null?makeComparableKey(Qr.name):Kr?Kr.name:DUMMY_COMPONENT_NAME_PREFIX+Zr,Kr)Jr.id=makeComparableKey(Kr.id);else if(Qr.id!=null)Jr.id=makeComparableKey(Qr.id);else{var en=0;do Jr.id="\0"+Jr.name+"\0"+en++;while(Gr.get(Jr.id))}Gr.set(Jr.id,Yr)}})}function keyExistAndEqual(Wr,Gr,Yr){var Zr=convertOptionIdName(Gr[Wr],null),Kr=convertOptionIdName(Yr[Wr],null);return Zr!=null&&Kr!=null&&Zr===Kr}function makeComparableKey(Wr){return convertOptionIdName(Wr,"")}function convertOptionIdName(Wr,Gr){return Wr==null?Gr:isString(Wr)?Wr:isNumber(Wr)||isStringSafe(Wr)?Wr+"":Gr}function isNameSpecified(Wr){var Gr=Wr.name;return!!(Gr&&Gr.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(Wr){return Wr&&Wr.id!=null&&makeComparableKey(Wr.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(Wr){return INTERNAL_COMPONENT_ID_PREFIX+Wr}function setComponentTypeToKeyInfo(Wr,Gr,Yr){each$f(Wr,function(Zr){var Kr=Zr.newOption;isObject$3(Kr)&&(Zr.keyInfo.mainType=Gr,Zr.keyInfo.subType=determineSubType(Gr,Kr,Zr.existing,Yr))})}function determineSubType(Wr,Gr,Yr,Zr){var Kr=Gr.type?Gr.type:Yr?Yr.subType:Zr.determineSubType(Wr,Gr);return Kr}function compressBatches(Wr,Gr){var Yr={},Zr={};return Kr(Wr||[],Yr),Kr(Gr||[],Zr,Yr),[Qr(Yr),Qr(Zr)];function Kr(Jr,en,tn){for(var rn=0,an=Jr.length;rn<an;rn++){var nn=convertOptionIdName(Jr[rn].seriesId,null);if(nn==null)return;for(var sn=normalizeToArray(Jr[rn].dataIndex),ln=tn&&tn[nn],un=0,cn=sn.length;un<cn;un++){var hn=sn[un];ln&&ln[hn]?ln[hn]=null:(en[nn]||(en[nn]={}))[hn]=1}}}function Qr(Jr,en){var tn=[];for(var rn in Jr)if(Jr.hasOwnProperty(rn)&&Jr[rn]!=null)if(en)tn.push(+rn);else{var an=Qr(Jr[rn],!0);an.length&&tn.push({seriesId:rn,dataIndex:an})}return tn}}function queryDataIndex(Wr,Gr){if(Gr.dataIndexInside!=null)return Gr.dataIndexInside;if(Gr.dataIndex!=null)return isArray$1(Gr.dataIndex)?map$1(Gr.dataIndex,function(Yr){return Wr.indexOfRawIndex(Yr)}):Wr.indexOfRawIndex(Gr.dataIndex);if(Gr.name!=null)return isArray$1(Gr.name)?map$1(Gr.name,function(Yr){return Wr.indexOfName(Yr)}):Wr.indexOfName(Gr.name)}function makeInner(){var Wr="__ec_inner_"+innerUniqueIndex++;return function(Gr){return Gr[Wr]||(Gr[Wr]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(Wr,Gr,Yr){var Zr=preParseFinder(Gr,Yr),Kr=Zr.mainTypeSpecified,Qr=Zr.queryOptionMap,Jr=Zr.others,en=Jr,tn=Yr?Yr.defaultMainType:null;return!Kr&&tn&&Qr.set(tn,{}),Qr.each(function(rn,an){var nn=queryReferringComponents(Wr,an,rn,{useDefault:tn===an,enableAll:Yr&&Yr.enableAll!=null?Yr.enableAll:!0,enableNone:Yr&&Yr.enableNone!=null?Yr.enableNone:!0});en[an+"Models"]=nn.models,en[an+"Model"]=nn.models[0]}),en}function preParseFinder(Wr,Gr){var Yr;if(isString(Wr)){var Zr={};Zr[Wr+"Index"]=0,Yr=Zr}else Yr=Wr;var Kr=createHashMap(),Qr={},Jr=!1;return each$f(Yr,function(en,tn){if(tn==="dataIndex"||tn==="dataIndexInside"){Qr[tn]=en;return}var rn=tn.match(/^(\w+)(Index|Id|Name)$/)||[],an=rn[1],nn=(rn[2]||"").toLowerCase();if(!(!an||!nn||Gr&&Gr.includeMainTypes&&indexOf(Gr.includeMainTypes,an)<0)){Jr=Jr||!!an;var sn=Kr.get(an)||Kr.set(an,{});sn[nn]=en}}),{mainTypeSpecified:Jr,queryOptionMap:Kr,others:Qr}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(Wr,Gr,Yr,Zr){Zr=Zr||SINGLE_REFERRING;var Kr=Yr.index,Qr=Yr.id,Jr=Yr.name,en={models:null,specified:Kr!=null||Qr!=null||Jr!=null};if(!en.specified){var tn=void 0;return en.models=Zr.useDefault&&(tn=Wr.getComponent(Gr))?[tn]:[],en}return Kr==="none"||Kr===!1?(assert(Zr.enableNone,'`"none"` or `false` is not a valid value on index option.'),en.models=[],en):(Kr==="all"&&(assert(Zr.enableAll,'`"all"` is not a valid value on index option.'),Kr=Qr=Jr=null),en.models=Wr.queryComponents({mainType:Gr,index:Kr,id:Qr,name:Jr}),en)}function setAttribute(Wr,Gr,Yr){Wr.setAttribute?Wr.setAttribute(Gr,Yr):Wr[Gr]=Yr}function getAttribute(Wr,Gr){return Wr.getAttribute?Wr.getAttribute(Gr):Wr[Gr]}function getTooltipRenderMode(Wr){return Wr==="auto"?env.domSupported?"html":"richText":Wr||"html"}function groupData(Wr,Gr){var Yr=createHashMap(),Zr=[];return each$f(Wr,function(Kr){var Qr=Gr(Kr);(Yr.get(Qr)||(Zr.push(Qr),Yr.set(Qr,[]))).push(Kr)}),{keys:Zr,buckets:Yr}}function interpolateRawValues(Wr,Gr,Yr,Zr,Kr){var Qr=Gr==null||Gr==="auto";if(Zr==null)return Zr;if(isNumber(Zr)){var Jr=interpolateNumber(Yr||0,Zr,Kr);return round$3(Jr,Qr?Math.max(getPrecision(Yr||0),getPrecision(Zr)):Gr)}else{if(isString(Zr))return Kr<1?Yr:Zr;for(var en=[],tn=Yr,rn=Zr,an=Math.max(tn?tn.length:0,rn.length),nn=0;nn<an;++nn){var sn=Wr.getDimensionInfo(nn);if(sn&&sn.type==="ordinal")en[nn]=(Kr<1&&tn?tn:rn)[nn];else{var ln=tn&&tn[nn]?tn[nn]:0,un=rn[nn],Jr=interpolateNumber(ln,un,Kr);en[nn]=round$3(Jr,Qr?Math.max(getPrecision(ln),getPrecision(un)):Gr)}}return en}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(Wr){var Gr={main:"",sub:""};if(Wr){var Yr=Wr.split(TYPE_DELIMITER);Gr.main=Yr[0]||"",Gr.sub=Yr[1]||""}return Gr}function checkClassType(Wr){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Wr),'componentType "'+Wr+'" illegal')}function isExtendedClass(Wr){return!!(Wr&&Wr[IS_EXTENDED_CLASS])}function enableClassExtend(Wr,Gr){Wr.$constructor=Wr,Wr.extend=function(Yr){var Zr=this,Kr;return isESClass(Zr)?Kr=function(Qr){__extends(Jr,Qr);function Jr(){return Qr.apply(this,arguments)||this}return Jr}(Zr):(Kr=function(){(Yr.$constructor||Zr).apply(this,arguments)},inherits(Kr,this)),extend(Kr.prototype,Yr),Kr[IS_EXTENDED_CLASS]=!0,Kr.extend=this.extend,Kr.superCall=superCall,Kr.superApply=superApply,Kr.superClass=Zr,Kr}}function isESClass(Wr){return isFunction(Wr)&&/^class\s/.test(Function.prototype.toString.call(Wr))}function mountExtend(Wr,Gr){Wr.extend=Gr.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(Wr){var Gr=["__\0is_clz",classBase++].join("_");Wr.prototype[Gr]=!0,Wr.isInstance=function(Yr){return!!(Yr&&Yr[Gr])}}function superCall(Wr,Gr){for(var Yr=[],Zr=2;Zr<arguments.length;Zr++)Yr[Zr-2]=arguments[Zr];return this.superClass.prototype[Gr].apply(Wr,Yr)}function superApply(Wr,Gr,Yr){return this.superClass.prototype[Gr].apply(Wr,Yr)}function enableClassManagement(Wr){var Gr={};Wr.registerClass=function(Zr){var Kr=Zr.type||Zr.prototype.type;if(Kr){checkClassType(Kr),Zr.prototype.type=Kr;var Qr=parseClassType(Kr);if(!Qr.sub)Gr[Qr.main]=Zr;else if(Qr.sub!==IS_CONTAINER){var Jr=Yr(Qr);Jr[Qr.sub]=Zr}}return Zr},Wr.getClass=function(Zr,Kr,Qr){var Jr=Gr[Zr];if(Jr&&Jr[IS_CONTAINER]&&(Jr=Kr?Jr[Kr]:null),Qr&&!Jr)throw new Error(Kr?"Component "+Zr+"."+(Kr||"")+" is used but not imported.":Zr+".type should be specified.");return Jr},Wr.getClassesByMainType=function(Zr){var Kr=parseClassType(Zr),Qr=[],Jr=Gr[Kr.main];return Jr&&Jr[IS_CONTAINER]?each$f(Jr,function(en,tn){tn!==IS_CONTAINER&&Qr.push(en)}):Qr.push(Jr),Qr},Wr.hasClass=function(Zr){var Kr=parseClassType(Zr);return!!Gr[Kr.main]},Wr.getAllClassMainTypes=function(){var Zr=[];return each$f(Gr,function(Kr,Qr){Zr.push(Qr)}),Zr},Wr.hasSubTypes=function(Zr){var Kr=parseClassType(Zr),Qr=Gr[Kr.main];return Qr&&Qr[IS_CONTAINER]};function Yr(Zr){var Kr=Gr[Zr.main];return(!Kr||!Kr[IS_CONTAINER])&&(Kr=Gr[Zr.main]={},Kr[IS_CONTAINER]=!0),Kr}}function makeStyleMapper(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++)Wr[Yr][1]||(Wr[Yr][1]=Wr[Yr][0]);return Gr=Gr||!1,function(Zr,Kr,Qr){for(var Jr={},en=0;en<Wr.length;en++){var tn=Wr[en][1];if(!(Kr&&indexOf(Kr,tn)>=0||Qr&&indexOf(Qr,tn)<0)){var rn=Zr.getShallow(tn,Gr);rn!=null&&(Jr[Wr[en][0]]=rn)}}return Jr}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function Wr(){}return Wr.prototype.getAreaStyle=function(Gr,Yr){return getAreaStyle(this,Gr,Yr)},Wr}(),globalImageCache=new LRU(50);function findExistImage(Wr){if(typeof Wr=="string"){var Gr=globalImageCache.get(Wr);return Gr&&Gr.image}else return Wr}function createOrUpdateImage(Wr,Gr,Yr,Zr,Kr){if(Wr)if(typeof Wr=="string"){if(Gr&&Gr.__zrImageSrc===Wr||!Yr)return Gr;var Qr=globalImageCache.get(Wr),Jr={hostEl:Yr,cb:Zr,cbPayload:Kr};return Qr?(Gr=Qr.image,!isImageReady(Gr)&&Qr.pending.push(Jr)):(Gr=platformApi.loadImage(Wr,imageOnLoad,imageOnLoad),Gr.__zrImageSrc=Wr,globalImageCache.put(Wr,Gr.__cachedImgObj={image:Gr,pending:[Jr]})),Gr}else return Wr;else return Gr}function imageOnLoad(){var Wr=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var Gr=0;Gr<Wr.pending.length;Gr++){var Yr=Wr.pending[Gr],Zr=Yr.cb;Zr&&Zr(this,Yr.cbPayload),Yr.hostEl.dirty()}Wr.pending.length=0}function isImageReady(Wr){return Wr&&Wr.width&&Wr.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(Wr,Gr,Yr,Zr,Kr,Qr){if(!Yr){Wr.text="",Wr.isTruncated=!1;return}var Jr=(Gr+"").split(`
`);Qr=prepareTruncateOptions(Yr,Zr,Kr,Qr);for(var en=!1,tn={},rn=0,an=Jr.length;rn<an;rn++)truncateSingleLine(tn,Jr[rn],Qr),Jr[rn]=tn.textLine,en=en||tn.isTruncated;Wr.text=Jr.join(`
`),Wr.isTruncated=en}function prepareTruncateOptions(Wr,Gr,Yr,Zr){Zr=Zr||{};var Kr=extend({},Zr);Kr.font=Gr,Yr=retrieve2(Yr,"..."),Kr.maxIterations=retrieve2(Zr.maxIterations,2);var Qr=Kr.minChar=retrieve2(Zr.minChar,0);Kr.cnCharWidth=getWidth("国",Gr);var Jr=Kr.ascCharWidth=getWidth("a",Gr);Kr.placeholder=retrieve2(Zr.placeholder,"");for(var en=Wr=Math.max(0,Wr-1),tn=0;tn<Qr&&en>=Jr;tn++)en-=Jr;var rn=getWidth(Yr,Gr);return rn>en&&(Yr="",rn=0),en=Wr-rn,Kr.ellipsis=Yr,Kr.ellipsisWidth=rn,Kr.contentWidth=en,Kr.containerWidth=Wr,Kr}function truncateSingleLine(Wr,Gr,Yr){var Zr=Yr.containerWidth,Kr=Yr.font,Qr=Yr.contentWidth;if(!Zr){Wr.textLine="",Wr.isTruncated=!1;return}var Jr=getWidth(Gr,Kr);if(Jr<=Zr){Wr.textLine=Gr,Wr.isTruncated=!1;return}for(var en=0;;en++){if(Jr<=Qr||en>=Yr.maxIterations){Gr+=Yr.ellipsis;break}var tn=en===0?estimateLength(Gr,Qr,Yr.ascCharWidth,Yr.cnCharWidth):Jr>0?Math.floor(Gr.length*Qr/Jr):0;Gr=Gr.substr(0,tn),Jr=getWidth(Gr,Kr)}Gr===""&&(Gr=Yr.placeholder),Wr.textLine=Gr,Wr.isTruncated=!0}function estimateLength(Wr,Gr,Yr,Zr){for(var Kr=0,Qr=0,Jr=Wr.length;Qr<Jr&&Kr<Gr;Qr++){var en=Wr.charCodeAt(Qr);Kr+=0<=en&&en<=127?Yr:Zr}return Qr}function parsePlainText(Wr,Gr){Wr!=null&&(Wr+="");var Yr=Gr.overflow,Zr=Gr.padding,Kr=Gr.font,Qr=Yr==="truncate",Jr=getLineHeight(Kr),en=retrieve2(Gr.lineHeight,Jr),tn=!!Gr.backgroundColor,rn=Gr.lineOverflow==="truncate",an=!1,nn=Gr.width,sn;nn!=null&&(Yr==="break"||Yr==="breakAll")?sn=Wr?wrapText(Wr,Gr.font,nn,Yr==="breakAll",0).lines:[]:sn=Wr?Wr.split(`
`):[];var ln=sn.length*en,un=retrieve2(Gr.height,ln);if(ln>un&&rn){var cn=Math.floor(un/en);an=an||sn.length>cn,sn=sn.slice(0,cn)}if(Wr&&Qr&&nn!=null)for(var hn=prepareTruncateOptions(nn,Kr,Gr.ellipsis,{minChar:Gr.truncateMinChar,placeholder:Gr.placeholder}),dn={},fn=0;fn<sn.length;fn++)truncateSingleLine(dn,sn[fn],hn),sn[fn]=dn.textLine,an=an||dn.isTruncated;for(var pn=un,gn=0,fn=0;fn<sn.length;fn++)gn=Math.max(getWidth(sn[fn],Kr),gn);nn==null&&(nn=gn);var vn=gn;return Zr&&(pn+=Zr[0]+Zr[2],vn+=Zr[1]+Zr[3],nn+=Zr[1]+Zr[3]),tn&&(vn=nn),{lines:sn,height:un,outerWidth:vn,outerHeight:pn,lineHeight:en,calculatedLineHeight:Jr,contentWidth:gn,contentHeight:ln,width:nn,isTruncated:an}}var RichTextToken=function(){function Wr(){}return Wr}(),RichTextLine=function(){function Wr(Gr){this.tokens=[],Gr&&(this.tokens=Gr)}return Wr}(),RichTextContentBlock=function(){function Wr(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return Wr}();function parseRichText(Wr,Gr){var Yr=new RichTextContentBlock;if(Wr!=null&&(Wr+=""),!Wr)return Yr;for(var Zr=Gr.width,Kr=Gr.height,Qr=Gr.overflow,Jr=(Qr==="break"||Qr==="breakAll")&&Zr!=null?{width:Zr,accumWidth:0,breakAll:Qr==="breakAll"}:null,en=STYLE_REG.lastIndex=0,tn;(tn=STYLE_REG.exec(Wr))!=null;){var rn=tn.index;rn>en&&pushTokens(Yr,Wr.substring(en,rn),Gr,Jr),pushTokens(Yr,tn[2],Gr,Jr,tn[1]),en=STYLE_REG.lastIndex}en<Wr.length&&pushTokens(Yr,Wr.substring(en,Wr.length),Gr,Jr);var an=[],nn=0,sn=0,ln=Gr.padding,un=Qr==="truncate",cn=Gr.lineOverflow==="truncate",hn={};function dn(Pn,Dn,kn){Pn.width=Dn,Pn.lineHeight=kn,nn+=kn,sn=Math.max(sn,Dn)}e:for(var fn=0;fn<Yr.lines.length;fn++){for(var pn=Yr.lines[fn],gn=0,vn=0,mn=0;mn<pn.tokens.length;mn++){var yn=pn.tokens[mn],xn=yn.styleName&&Gr.rich[yn.styleName]||{},bn=yn.textPadding=xn.padding,Sn=bn?bn[1]+bn[3]:0,wn=yn.font=xn.font||Gr.font;yn.contentHeight=getLineHeight(wn);var _n=retrieve2(xn.height,yn.contentHeight);if(yn.innerHeight=_n,bn&&(_n+=bn[0]+bn[2]),yn.height=_n,yn.lineHeight=retrieve3(xn.lineHeight,Gr.lineHeight,_n),yn.align=xn&&xn.align||Gr.align,yn.verticalAlign=xn&&xn.verticalAlign||"middle",cn&&Kr!=null&&nn+yn.lineHeight>Kr){var An=Yr.lines.length;mn>0?(pn.tokens=pn.tokens.slice(0,mn),dn(pn,vn,gn),Yr.lines=Yr.lines.slice(0,fn+1)):Yr.lines=Yr.lines.slice(0,fn),Yr.isTruncated=Yr.isTruncated||Yr.lines.length<An;break e}var Cn=xn.width,Tn=Cn==null||Cn==="auto";if(typeof Cn=="string"&&Cn.charAt(Cn.length-1)==="%")yn.percentWidth=Cn,an.push(yn),yn.contentWidth=getWidth(yn.text,wn);else{if(Tn){var Mn=xn.backgroundColor,En=Mn&&Mn.image;En&&(En=findExistImage(En),isImageReady(En)&&(yn.width=Math.max(yn.width,En.width*_n/En.height)))}var Ln=un&&Zr!=null?Zr-vn:null;Ln!=null&&Ln<yn.width?!Tn||Ln<Sn?(yn.text="",yn.width=yn.contentWidth=0):(truncateText2(hn,yn.text,Ln-Sn,wn,Gr.ellipsis,{minChar:Gr.truncateMinChar}),yn.text=hn.text,Yr.isTruncated=Yr.isTruncated||hn.isTruncated,yn.width=yn.contentWidth=getWidth(yn.text,wn)):yn.contentWidth=getWidth(yn.text,wn)}yn.width+=Sn,vn+=yn.width,xn&&(gn=Math.max(gn,yn.lineHeight))}dn(pn,vn,gn)}Yr.outerWidth=Yr.width=retrieve2(Zr,sn),Yr.outerHeight=Yr.height=retrieve2(Kr,nn),Yr.contentHeight=nn,Yr.contentWidth=sn,ln&&(Yr.outerWidth+=ln[1]+ln[3],Yr.outerHeight+=ln[0]+ln[2]);for(var fn=0;fn<an.length;fn++){var yn=an[fn],In=yn.percentWidth;yn.width=parseInt(In,10)/100*Yr.width}return Yr}function pushTokens(Wr,Gr,Yr,Zr,Kr){var Qr=Gr==="",Jr=Kr&&Yr.rich[Kr]||{},en=Wr.lines,tn=Jr.font||Yr.font,rn=!1,an,nn;if(Zr){var sn=Jr.padding,ln=sn?sn[1]+sn[3]:0;if(Jr.width!=null&&Jr.width!=="auto"){var un=parsePercent$1(Jr.width,Zr.width)+ln;en.length>0&&un+Zr.accumWidth>Zr.width&&(an=Gr.split(`
`),rn=!0),Zr.accumWidth=un}else{var cn=wrapText(Gr,tn,Zr.width,Zr.breakAll,Zr.accumWidth);Zr.accumWidth=cn.accumWidth+ln,nn=cn.linesWidths,an=cn.lines}}else an=Gr.split(`
`);for(var hn=0;hn<an.length;hn++){var dn=an[hn],fn=new RichTextToken;if(fn.styleName=Kr,fn.text=dn,fn.isLineHolder=!dn&&!Qr,typeof Jr.width=="number"?fn.width=Jr.width:fn.width=nn?nn[hn]:getWidth(dn,tn),!hn&&!rn){var pn=(en[en.length-1]||(en[0]=new RichTextLine)).tokens,gn=pn.length;gn===1&&pn[0].isLineHolder?pn[0]=fn:(dn||!gn||Qr)&&pn.push(fn)}else en.push(new RichTextLine([fn]))}}function isAlphabeticLetter(Wr){var Gr=Wr.charCodeAt(0);return Gr>=32&&Gr<=591||Gr>=880&&Gr<=4351||Gr>=4608&&Gr<=5119||Gr>=7680&&Gr<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(Wr,Gr){return Wr[Gr]=!0,Wr},{});function isWordBreakChar(Wr){return isAlphabeticLetter(Wr)?!!breakCharMap[Wr]:!0}function wrapText(Wr,Gr,Yr,Zr,Kr){for(var Qr=[],Jr=[],en="",tn="",rn=0,an=0,nn=0;nn<Wr.length;nn++){var sn=Wr.charAt(nn);if(sn===`
`){tn&&(en+=tn,an+=rn),Qr.push(en),Jr.push(an),en="",tn="",rn=0,an=0;continue}var ln=getWidth(sn,Gr),un=Zr?!1:!isWordBreakChar(sn);if(Qr.length?an+ln>Yr:Kr+an+ln>Yr){an?(en||tn)&&(un?(en||(en=tn,tn="",rn=0,an=rn),Qr.push(en),Jr.push(an-rn),tn+=sn,rn+=ln,en="",an=rn):(tn&&(en+=tn,tn="",rn=0),Qr.push(en),Jr.push(an),en=sn,an=ln)):un?(Qr.push(tn),Jr.push(rn),tn=sn,rn=ln):(Qr.push(sn),Jr.push(ln));continue}an+=ln,un?(tn+=sn,rn+=ln):(tn&&(en+=tn,tn="",rn=0),en+=sn)}return!Qr.length&&!en&&(en=Wr,tn="",rn=0),tn&&(en+=tn),en&&(Qr.push(en),Jr.push(an)),Qr.length===1&&(an+=Kr),{accumWidth:an,lines:Qr,linesWidths:Jr}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype._init=function(Yr){for(var Zr=keys(Yr),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Qr==="style"?this.useStyle(Yr[Qr]):Wr.prototype.attrKV.call(this,Qr,Yr[Qr])}this.style||this.useStyle({})},Gr.prototype.beforeBrush=function(){},Gr.prototype.afterBrush=function(){},Gr.prototype.innerBeforeBrush=function(){},Gr.prototype.innerAfterBrush=function(){},Gr.prototype.shouldBePainted=function(Yr,Zr,Kr,Qr){var Jr=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,Yr,Zr)||Jr&&!Jr[0]&&!Jr[3])return!1;if(Kr&&this.__clipPaths){for(var en=0;en<this.__clipPaths.length;++en)if(this.__clipPaths[en].isZeroArea())return!1}if(Qr&&this.parent)for(var tn=this.parent;tn;){if(tn.ignore)return!1;tn=tn.parent}return!0},Gr.prototype.contain=function(Yr,Zr){return this.rectContain(Yr,Zr)},Gr.prototype.traverse=function(Yr,Zr){Yr.call(Zr,this)},Gr.prototype.rectContain=function(Yr,Zr){var Kr=this.transformCoordToLocal(Yr,Zr),Qr=this.getBoundingRect();return Qr.contain(Kr[0],Kr[1])},Gr.prototype.getPaintRect=function(){var Yr=this._paintRect;if(!this._paintRect||this.__dirty){var Zr=this.transform,Kr=this.getBoundingRect(),Qr=this.style,Jr=Qr.shadowBlur||0,en=Qr.shadowOffsetX||0,tn=Qr.shadowOffsetY||0;Yr=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),Zr?BoundingRect.applyTransform(Yr,Kr,Zr):Yr.copy(Kr),(Jr||en||tn)&&(Yr.width+=Jr*2+Math.abs(en),Yr.height+=Jr*2+Math.abs(tn),Yr.x=Math.min(Yr.x,Yr.x+en-Jr),Yr.y=Math.min(Yr.y,Yr.y+tn-Jr));var rn=this.dirtyRectTolerance;Yr.isZero()||(Yr.x=Math.floor(Yr.x-rn),Yr.y=Math.floor(Yr.y-rn),Yr.width=Math.ceil(Yr.width+1+rn*2),Yr.height=Math.ceil(Yr.height+1+rn*2))}return Yr},Gr.prototype.setPrevPaintRect=function(Yr){Yr?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(Yr)):this._prevPaintRect=null},Gr.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Gr.prototype.animateStyle=function(Yr){return this.animate("style",Yr)},Gr.prototype.updateDuringAnimation=function(Yr){Yr==="style"?this.dirtyStyle():this.markRedraw()},Gr.prototype.attrKV=function(Yr,Zr){Yr!=="style"?Wr.prototype.attrKV.call(this,Yr,Zr):this.style?this.setStyle(Zr):this.useStyle(Zr)},Gr.prototype.setStyle=function(Yr,Zr){return typeof Yr=="string"?this.style[Yr]=Zr:extend(this.style,Yr),this.dirtyStyle(),this},Gr.prototype.dirtyStyle=function(Yr){Yr||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},Gr.prototype.dirty=function(){this.dirtyStyle()},Gr.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},Gr.prototype.styleUpdated=function(){this.__dirty&=-3},Gr.prototype.createStyle=function(Yr){return createObject(DEFAULT_COMMON_STYLE,Yr)},Gr.prototype.useStyle=function(Yr){Yr[STYLE_MAGIC_KEY]||(Yr=this.createStyle(Yr)),this.__inHover?this.__hoverStyle=Yr:this.style=Yr,this.dirtyStyle()},Gr.prototype.isStyleObject=function(Yr){return Yr[STYLE_MAGIC_KEY]},Gr.prototype._innerSaveToNormal=function(Yr){Wr.prototype._innerSaveToNormal.call(this,Yr);var Zr=this._normalState;Yr.style&&!Zr.style&&(Zr.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(Yr,Zr,PRIMARY_STATES_KEYS)},Gr.prototype._applyStateObj=function(Yr,Zr,Kr,Qr,Jr,en){Wr.prototype._applyStateObj.call(this,Yr,Zr,Kr,Qr,Jr,en);var tn=!(Zr&&Qr),rn;if(Zr&&Zr.style?Jr?Qr?rn=Zr.style:(rn=this._mergeStyle(this.createStyle(),Kr.style),this._mergeStyle(rn,Zr.style)):(rn=this._mergeStyle(this.createStyle(),Qr?this.style:Kr.style),this._mergeStyle(rn,Zr.style)):tn&&(rn=Kr.style),rn)if(Jr){var an=this.style;if(this.style=this.createStyle(tn?{}:an),tn)for(var nn=keys(an),sn=0;sn<nn.length;sn++){var ln=nn[sn];ln in rn&&(rn[ln]=rn[ln],this.style[ln]=an[ln])}for(var un=keys(rn),sn=0;sn<un.length;sn++){var ln=un[sn];this.style[ln]=this.style[ln]}this._transitionState(Yr,{style:rn},en,this.getAnimationStyleProps())}else this.useStyle(rn);for(var cn=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,sn=0;sn<cn.length;sn++){var ln=cn[sn];Zr&&Zr[ln]!=null?this[ln]=Zr[ln]:tn&&Kr[ln]!=null&&(this[ln]=Kr[ln])}},Gr.prototype._mergeStates=function(Yr){for(var Zr=Wr.prototype._mergeStates.call(this,Yr),Kr,Qr=0;Qr<Yr.length;Qr++){var Jr=Yr[Qr];Jr.style&&(Kr=Kr||{},this._mergeStyle(Kr,Jr.style))}return Kr&&(Zr.style=Kr),Zr},Gr.prototype._mergeStyle=function(Yr,Zr){return extend(Yr,Zr),Yr},Gr.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},Gr.initDefaultProps=function(){var Yr=Gr.prototype;Yr.type="displayable",Yr.invisible=!1,Yr.z=0,Yr.z2=0,Yr.zlevel=0,Yr.culling=!1,Yr.cursor="pointer",Yr.rectHover=!1,Yr.incremental=!1,Yr._rect=null,Yr.dirtyRectTolerance=0,Yr.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),Gr}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(Wr,Gr,Yr){return tmpRect.copy(Wr.getBoundingRect()),Wr.transform&&tmpRect.applyTransform(Wr.transform),viewRect.width=Gr,viewRect.height=Yr,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(Wr,Gr,Yr){if(Wr.length!==0){for(var Zr=Wr[0],Kr=Zr[0],Qr=Zr[0],Jr=Zr[1],en=Zr[1],tn=1;tn<Wr.length;tn++)Zr=Wr[tn],Kr=mathMin$9(Kr,Zr[0]),Qr=mathMax$9(Qr,Zr[0]),Jr=mathMin$9(Jr,Zr[1]),en=mathMax$9(en,Zr[1]);Gr[0]=Kr,Gr[1]=Jr,Yr[0]=Qr,Yr[1]=en}}function fromLine(Wr,Gr,Yr,Zr,Kr,Qr){Kr[0]=mathMin$9(Wr,Yr),Kr[1]=mathMin$9(Gr,Zr),Qr[0]=mathMax$9(Wr,Yr),Qr[1]=mathMax$9(Gr,Zr)}var xDim=[],yDim=[];function fromCubic(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){var an=cubicExtrema,nn=cubicAt,sn=an(Wr,Yr,Kr,Jr,xDim);tn[0]=1/0,tn[1]=1/0,rn[0]=-1/0,rn[1]=-1/0;for(var ln=0;ln<sn;ln++){var un=nn(Wr,Yr,Kr,Jr,xDim[ln]);tn[0]=mathMin$9(un,tn[0]),rn[0]=mathMax$9(un,rn[0])}sn=an(Gr,Zr,Qr,en,yDim);for(var ln=0;ln<sn;ln++){var cn=nn(Gr,Zr,Qr,en,yDim[ln]);tn[1]=mathMin$9(cn,tn[1]),rn[1]=mathMax$9(cn,rn[1])}tn[0]=mathMin$9(Wr,tn[0]),rn[0]=mathMax$9(Wr,rn[0]),tn[0]=mathMin$9(Jr,tn[0]),rn[0]=mathMax$9(Jr,rn[0]),tn[1]=mathMin$9(Gr,tn[1]),rn[1]=mathMax$9(Gr,rn[1]),tn[1]=mathMin$9(en,tn[1]),rn[1]=mathMax$9(en,rn[1])}function fromQuadratic(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=quadraticExtremum,rn=quadraticAt$1,an=mathMax$9(mathMin$9(tn(Wr,Yr,Kr),1),0),nn=mathMax$9(mathMin$9(tn(Gr,Zr,Qr),1),0),sn=rn(Wr,Yr,Kr,an),ln=rn(Gr,Zr,Qr,nn);Jr[0]=mathMin$9(Wr,Kr,sn),Jr[1]=mathMin$9(Gr,Qr,ln),en[0]=mathMax$9(Wr,Kr,sn),en[1]=mathMax$9(Gr,Qr,ln)}function fromArc(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn=min$1,an=max$1,nn=Math.abs(Kr-Qr);if(nn%PI2$8<1e-4&&nn>1e-4){en[0]=Wr-Yr,en[1]=Gr-Zr,tn[0]=Wr+Yr,tn[1]=Gr+Zr;return}if(start[0]=mathCos$4(Kr)*Yr+Wr,start[1]=mathSin$4(Kr)*Zr+Gr,end[0]=mathCos$4(Qr)*Yr+Wr,end[1]=mathSin$4(Qr)*Zr+Gr,rn(en,start,end),an(tn,start,end),Kr=Kr%PI2$8,Kr<0&&(Kr=Kr+PI2$8),Qr=Qr%PI2$8,Qr<0&&(Qr=Qr+PI2$8),Kr>Qr&&!Jr?Qr+=PI2$8:Kr<Qr&&Jr&&(Kr+=PI2$8),Jr){var sn=Qr;Qr=Kr,Kr=sn}for(var ln=0;ln<Qr;ln+=Math.PI/2)ln>Kr&&(extremity[0]=mathCos$4(ln)*Yr+Wr,extremity[1]=mathSin$4(ln)*Zr+Gr,rn(en,extremity,en),an(tn,extremity,tn))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(Wr){var Gr=Math.round(Wr/PI$8*1e8)/1e8;return Gr%2*PI$8}function normalizeArcAngles(Wr,Gr){var Yr=modPI2(Wr[0]);Yr<0&&(Yr+=PI2$7);var Zr=Yr-Wr[0],Kr=Wr[1];Kr+=Zr,!Gr&&Kr-Yr>=PI2$7?Kr=Yr+PI2$7:Gr&&Yr-Kr>=PI2$7?Kr=Yr-PI2$7:!Gr&&Yr>Kr?Kr=Yr+(PI2$7-modPI2(Yr-Kr)):Gr&&Yr<Kr&&(Kr=Yr-(PI2$7-modPI2(Kr-Yr))),Wr[0]=Yr,Wr[1]=Kr}var PathProxy=function(){function Wr(Gr){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,Gr&&(this._saveData=!1),this._saveData&&(this.data=[])}return Wr.prototype.increaseVersion=function(){this._version++},Wr.prototype.getVersion=function(){return this._version},Wr.prototype.setScale=function(Gr,Yr,Zr){Zr=Zr||0,Zr>0&&(this._ux=mathAbs$2(Zr/devicePixelRatio/Gr)||0,this._uy=mathAbs$2(Zr/devicePixelRatio/Yr)||0)},Wr.prototype.setDPR=function(Gr){this.dpr=Gr},Wr.prototype.setContext=function(Gr){this._ctx=Gr},Wr.prototype.getContext=function(){return this._ctx},Wr.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},Wr.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},Wr.prototype.moveTo=function(Gr,Yr){return this._drawPendingPt(),this.addData(CMD$4.M,Gr,Yr),this._ctx&&this._ctx.moveTo(Gr,Yr),this._x0=Gr,this._y0=Yr,this._xi=Gr,this._yi=Yr,this},Wr.prototype.lineTo=function(Gr,Yr){var Zr=mathAbs$2(Gr-this._xi),Kr=mathAbs$2(Yr-this._yi),Qr=Zr>this._ux||Kr>this._uy;if(this.addData(CMD$4.L,Gr,Yr),this._ctx&&Qr&&this._ctx.lineTo(Gr,Yr),Qr)this._xi=Gr,this._yi=Yr,this._pendingPtDist=0;else{var Jr=Zr*Zr+Kr*Kr;Jr>this._pendingPtDist&&(this._pendingPtX=Gr,this._pendingPtY=Yr,this._pendingPtDist=Jr)}return this},Wr.prototype.bezierCurveTo=function(Gr,Yr,Zr,Kr,Qr,Jr){return this._drawPendingPt(),this.addData(CMD$4.C,Gr,Yr,Zr,Kr,Qr,Jr),this._ctx&&this._ctx.bezierCurveTo(Gr,Yr,Zr,Kr,Qr,Jr),this._xi=Qr,this._yi=Jr,this},Wr.prototype.quadraticCurveTo=function(Gr,Yr,Zr,Kr){return this._drawPendingPt(),this.addData(CMD$4.Q,Gr,Yr,Zr,Kr),this._ctx&&this._ctx.quadraticCurveTo(Gr,Yr,Zr,Kr),this._xi=Zr,this._yi=Kr,this},Wr.prototype.arc=function(Gr,Yr,Zr,Kr,Qr,Jr){this._drawPendingPt(),tmpAngles[0]=Kr,tmpAngles[1]=Qr,normalizeArcAngles(tmpAngles,Jr),Kr=tmpAngles[0],Qr=tmpAngles[1];var en=Qr-Kr;return this.addData(CMD$4.A,Gr,Yr,Zr,Zr,Kr,en,0,Jr?0:1),this._ctx&&this._ctx.arc(Gr,Yr,Zr,Kr,Qr,Jr),this._xi=mathCos$3(Qr)*Zr+Gr,this._yi=mathSin$3(Qr)*Zr+Yr,this},Wr.prototype.arcTo=function(Gr,Yr,Zr,Kr,Qr){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(Gr,Yr,Zr,Kr,Qr),this},Wr.prototype.rect=function(Gr,Yr,Zr,Kr){return this._drawPendingPt(),this._ctx&&this._ctx.rect(Gr,Yr,Zr,Kr),this.addData(CMD$4.R,Gr,Yr,Zr,Kr),this},Wr.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var Gr=this._ctx,Yr=this._x0,Zr=this._y0;return Gr&&Gr.closePath(),this._xi=Yr,this._yi=Zr,this},Wr.prototype.fill=function(Gr){Gr&&Gr.fill(),this.toStatic()},Wr.prototype.stroke=function(Gr){Gr&&Gr.stroke(),this.toStatic()},Wr.prototype.len=function(){return this._len},Wr.prototype.setData=function(Gr){var Yr=Gr.length;!(this.data&&this.data.length===Yr)&&hasTypedArray&&(this.data=new Float32Array(Yr));for(var Zr=0;Zr<Yr;Zr++)this.data[Zr]=Gr[Zr];this._len=Yr},Wr.prototype.appendPath=function(Gr){Gr instanceof Array||(Gr=[Gr]);for(var Yr=Gr.length,Zr=0,Kr=this._len,Qr=0;Qr<Yr;Qr++)Zr+=Gr[Qr].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(Kr+Zr));for(var Qr=0;Qr<Yr;Qr++)for(var Jr=Gr[Qr].data,en=0;en<Jr.length;en++)this.data[Kr++]=Jr[en];this._len=Kr},Wr.prototype.addData=function(Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){if(this._saveData){var an=this.data;this._len+arguments.length>an.length&&(this._expandData(),an=this.data);for(var nn=0;nn<arguments.length;nn++)an[this._len++]=arguments[nn]}},Wr.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},Wr.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var Gr=[],Yr=0;Yr<this._len;Yr++)Gr[Yr]=this.data[Yr];this.data=Gr}},Wr.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var Gr=this.data;Gr instanceof Array&&(Gr.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(Gr)))}},Wr.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var Gr=this.data,Yr=0,Zr=0,Kr=0,Qr=0,Jr;for(Jr=0;Jr<this._len;){var en=Gr[Jr++],tn=Jr===1;switch(tn&&(Yr=Gr[Jr],Zr=Gr[Jr+1],Kr=Yr,Qr=Zr),en){case CMD$4.M:Yr=Kr=Gr[Jr++],Zr=Qr=Gr[Jr++],min2[0]=Kr,min2[1]=Qr,max2[0]=Kr,max2[1]=Qr;break;case CMD$4.L:fromLine(Yr,Zr,Gr[Jr],Gr[Jr+1],min2,max2),Yr=Gr[Jr++],Zr=Gr[Jr++];break;case CMD$4.C:fromCubic(Yr,Zr,Gr[Jr++],Gr[Jr++],Gr[Jr++],Gr[Jr++],Gr[Jr],Gr[Jr+1],min2,max2),Yr=Gr[Jr++],Zr=Gr[Jr++];break;case CMD$4.Q:fromQuadratic(Yr,Zr,Gr[Jr++],Gr[Jr++],Gr[Jr],Gr[Jr+1],min2,max2),Yr=Gr[Jr++],Zr=Gr[Jr++];break;case CMD$4.A:var rn=Gr[Jr++],an=Gr[Jr++],nn=Gr[Jr++],sn=Gr[Jr++],ln=Gr[Jr++],un=Gr[Jr++]+ln;Jr+=1;var cn=!Gr[Jr++];tn&&(Kr=mathCos$3(ln)*nn+rn,Qr=mathSin$3(ln)*sn+an),fromArc(rn,an,nn,sn,ln,un,cn,min2,max2),Yr=mathCos$3(un)*nn+rn,Zr=mathSin$3(un)*sn+an;break;case CMD$4.R:Kr=Yr=Gr[Jr++],Qr=Zr=Gr[Jr++];var hn=Gr[Jr++],dn=Gr[Jr++];fromLine(Kr,Qr,Kr+hn,Qr+dn,min2,max2);break;case CMD$4.Z:Yr=Kr,Zr=Qr;break}min$1(min,min,min2),max$1(max,max,max2)}return Jr===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},Wr.prototype._calculateLength=function(){var Gr=this.data,Yr=this._len,Zr=this._ux,Kr=this._uy,Qr=0,Jr=0,en=0,tn=0;this._pathSegLen||(this._pathSegLen=[]);for(var rn=this._pathSegLen,an=0,nn=0,sn=0;sn<Yr;){var ln=Gr[sn++],un=sn===1;un&&(Qr=Gr[sn],Jr=Gr[sn+1],en=Qr,tn=Jr);var cn=-1;switch(ln){case CMD$4.M:Qr=en=Gr[sn++],Jr=tn=Gr[sn++];break;case CMD$4.L:{var hn=Gr[sn++],dn=Gr[sn++],fn=hn-Qr,pn=dn-Jr;(mathAbs$2(fn)>Zr||mathAbs$2(pn)>Kr||sn===Yr-1)&&(cn=Math.sqrt(fn*fn+pn*pn),Qr=hn,Jr=dn);break}case CMD$4.C:{var gn=Gr[sn++],vn=Gr[sn++],hn=Gr[sn++],dn=Gr[sn++],mn=Gr[sn++],yn=Gr[sn++];cn=cubicLength(Qr,Jr,gn,vn,hn,dn,mn,yn,10),Qr=mn,Jr=yn;break}case CMD$4.Q:{var gn=Gr[sn++],vn=Gr[sn++],hn=Gr[sn++],dn=Gr[sn++];cn=quadraticLength(Qr,Jr,gn,vn,hn,dn,10),Qr=hn,Jr=dn;break}case CMD$4.A:var xn=Gr[sn++],bn=Gr[sn++],Sn=Gr[sn++],wn=Gr[sn++],_n=Gr[sn++],An=Gr[sn++],Cn=An+_n;sn+=1,un&&(en=mathCos$3(_n)*Sn+xn,tn=mathSin$3(_n)*wn+bn),cn=mathMax$8(Sn,wn)*mathMin$8(PI2$7,Math.abs(An)),Qr=mathCos$3(Cn)*Sn+xn,Jr=mathSin$3(Cn)*wn+bn;break;case CMD$4.R:{en=Qr=Gr[sn++],tn=Jr=Gr[sn++];var Tn=Gr[sn++],Mn=Gr[sn++];cn=Tn*2+Mn*2;break}case CMD$4.Z:{var fn=en-Qr,pn=tn-Jr;cn=Math.sqrt(fn*fn+pn*pn),Qr=en,Jr=tn;break}}cn>=0&&(rn[nn++]=cn,an+=cn)}return this._pathLen=an,an},Wr.prototype.rebuildPath=function(Gr,Yr){var Zr=this.data,Kr=this._ux,Qr=this._uy,Jr=this._len,en,tn,rn,an,nn,sn,ln=Yr<1,un,cn,hn=0,dn=0,fn,pn=0,gn,vn;if(!(ln&&(this._pathSegLen||this._calculateLength(),un=this._pathSegLen,cn=this._pathLen,fn=Yr*cn,!fn)))e:for(var mn=0;mn<Jr;){var yn=Zr[mn++],xn=mn===1;switch(xn&&(rn=Zr[mn],an=Zr[mn+1],en=rn,tn=an),yn!==CMD$4.L&&pn>0&&(Gr.lineTo(gn,vn),pn=0),yn){case CMD$4.M:en=rn=Zr[mn++],tn=an=Zr[mn++],Gr.moveTo(rn,an);break;case CMD$4.L:{nn=Zr[mn++],sn=Zr[mn++];var bn=mathAbs$2(nn-rn),Sn=mathAbs$2(sn-an);if(bn>Kr||Sn>Qr){if(ln){var wn=un[dn++];if(hn+wn>fn){var _n=(fn-hn)/wn;Gr.lineTo(rn*(1-_n)+nn*_n,an*(1-_n)+sn*_n);break e}hn+=wn}Gr.lineTo(nn,sn),rn=nn,an=sn,pn=0}else{var An=bn*bn+Sn*Sn;An>pn&&(gn=nn,vn=sn,pn=An)}break}case CMD$4.C:{var Cn=Zr[mn++],Tn=Zr[mn++],Mn=Zr[mn++],En=Zr[mn++],Ln=Zr[mn++],In=Zr[mn++];if(ln){var wn=un[dn++];if(hn+wn>fn){var _n=(fn-hn)/wn;cubicSubdivide(rn,Cn,Mn,Ln,_n,tmpOutX),cubicSubdivide(an,Tn,En,In,_n,tmpOutY),Gr.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}hn+=wn}Gr.bezierCurveTo(Cn,Tn,Mn,En,Ln,In),rn=Ln,an=In;break}case CMD$4.Q:{var Cn=Zr[mn++],Tn=Zr[mn++],Mn=Zr[mn++],En=Zr[mn++];if(ln){var wn=un[dn++];if(hn+wn>fn){var _n=(fn-hn)/wn;quadraticSubdivide(rn,Cn,Mn,_n,tmpOutX),quadraticSubdivide(an,Tn,En,_n,tmpOutY),Gr.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}hn+=wn}Gr.quadraticCurveTo(Cn,Tn,Mn,En),rn=Mn,an=En;break}case CMD$4.A:var Pn=Zr[mn++],Dn=Zr[mn++],kn=Zr[mn++],Nn=Zr[mn++],Rn=Zr[mn++],Fn=Zr[mn++],Hn=Zr[mn++],Gn=!Zr[mn++],zn=kn>Nn?kn:Nn,On=mathAbs$2(kn-Nn)>.001,Bn=Rn+Fn,$n=!1;if(ln){var wn=un[dn++];hn+wn>fn&&(Bn=Rn+Fn*(fn-hn)/wn,$n=!0),hn+=wn}if(On&&Gr.ellipse?Gr.ellipse(Pn,Dn,kn,Nn,Hn,Rn,Bn,Gn):Gr.arc(Pn,Dn,zn,Rn,Bn,Gn),$n)break e;xn&&(en=mathCos$3(Rn)*kn+Pn,tn=mathSin$3(Rn)*Nn+Dn),rn=mathCos$3(Bn)*kn+Pn,an=mathSin$3(Bn)*Nn+Dn;break;case CMD$4.R:en=rn=Zr[mn],tn=an=Zr[mn+1],nn=Zr[mn++],sn=Zr[mn++];var Vn=Zr[mn++],Yn=Zr[mn++];if(ln){var wn=un[dn++];if(hn+wn>fn){var Wn=fn-hn;Gr.moveTo(nn,sn),Gr.lineTo(nn+mathMin$8(Wn,Vn),sn),Wn-=Vn,Wn>0&&Gr.lineTo(nn+Vn,sn+mathMin$8(Wn,Yn)),Wn-=Yn,Wn>0&&Gr.lineTo(nn+mathMax$8(Vn-Wn,0),sn+Yn),Wn-=Vn,Wn>0&&Gr.lineTo(nn,sn+mathMax$8(Yn-Wn,0));break e}hn+=wn}Gr.rect(nn,sn,Vn,Yn);break;case CMD$4.Z:if(ln){var wn=un[dn++];if(hn+wn>fn){var _n=(fn-hn)/wn;Gr.lineTo(rn*(1-_n)+en*_n,an*(1-_n)+tn*_n);break e}hn+=wn}Gr.closePath(),rn=en,an=tn}}},Wr.prototype.clone=function(){var Gr=new Wr,Yr=this.data;return Gr.data=Yr.slice?Yr.slice():Array.prototype.slice.call(Yr),Gr._len=this._len,Gr},Wr.CMD=CMD$4,Wr.initDefaultProps=function(){var Gr=Wr.prototype;Gr._saveData=!0,Gr._ux=0,Gr._uy=0,Gr._pendingPtDist=0,Gr._version=0}(),Wr}();function containStroke$4(Wr,Gr,Yr,Zr,Kr,Qr,Jr){if(Kr===0)return!1;var en=Kr,tn=0,rn=Wr;if(Jr>Gr+en&&Jr>Zr+en||Jr<Gr-en&&Jr<Zr-en||Qr>Wr+en&&Qr>Yr+en||Qr<Wr-en&&Qr<Yr-en)return!1;if(Wr!==Yr)tn=(Gr-Zr)/(Wr-Yr),rn=(Wr*Zr-Yr*Gr)/(Wr-Yr);else return Math.abs(Qr-Wr)<=en/2;var an=tn*Qr-Jr+rn,nn=an*an/(tn*tn+1);return nn<=en/2*en/2}function containStroke$3(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){if(tn===0)return!1;var nn=tn;if(an>Gr+nn&&an>Zr+nn&&an>Qr+nn&&an>en+nn||an<Gr-nn&&an<Zr-nn&&an<Qr-nn&&an<en-nn||rn>Wr+nn&&rn>Yr+nn&&rn>Kr+nn&&rn>Jr+nn||rn<Wr-nn&&rn<Yr-nn&&rn<Kr-nn&&rn<Jr-nn)return!1;var sn=cubicProjectPoint(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,rn,an,null);return sn<=nn/2}function containStroke$2(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){if(Jr===0)return!1;var rn=Jr;if(tn>Gr+rn&&tn>Zr+rn&&tn>Qr+rn||tn<Gr-rn&&tn<Zr-rn&&tn<Qr-rn||en>Wr+rn&&en>Yr+rn&&en>Kr+rn||en<Wr-rn&&en<Yr-rn&&en<Kr-rn)return!1;var an=quadraticProjectPoint(Wr,Gr,Yr,Zr,Kr,Qr,en,tn,null);return an<=rn/2}var PI2$6=Math.PI*2;function normalizeRadian(Wr){return Wr%=PI2$6,Wr<0&&(Wr+=PI2$6),Wr}var PI2$5=Math.PI*2;function containStroke$1(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){if(Jr===0)return!1;var rn=Jr;en-=Wr,tn-=Gr;var an=Math.sqrt(en*en+tn*tn);if(an-rn>Yr||an+rn<Yr)return!1;if(Math.abs(Zr-Kr)%PI2$5<1e-4)return!0;if(Qr){var nn=Zr;Zr=normalizeRadian(Kr),Kr=normalizeRadian(nn)}else Zr=normalizeRadian(Zr),Kr=normalizeRadian(Kr);Zr>Kr&&(Kr+=PI2$5);var sn=Math.atan2(tn,en);return sn<0&&(sn+=PI2$5),sn>=Zr&&sn<=Kr||sn+PI2$5>=Zr&&sn+PI2$5<=Kr}function windingLine(Wr,Gr,Yr,Zr,Kr,Qr){if(Qr>Gr&&Qr>Zr||Qr<Gr&&Qr<Zr||Zr===Gr)return 0;var Jr=(Qr-Gr)/(Zr-Gr),en=Zr<Gr?1:-1;(Jr===1||Jr===0)&&(en=Zr<Gr?.5:-.5);var tn=Jr*(Yr-Wr)+Wr;return tn===Kr?1/0:tn>Kr?en:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(Wr,Gr){return Math.abs(Wr-Gr)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var Wr=extrema[0];extrema[0]=extrema[1],extrema[1]=Wr}function windingCubic(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){if(rn>Gr&&rn>Zr&&rn>Qr&&rn>en||rn<Gr&&rn<Zr&&rn<Qr&&rn<en)return 0;var an=cubicRootAt(Gr,Zr,Qr,en,rn,roots);if(an===0)return 0;for(var nn=0,sn=-1,ln=void 0,un=void 0,cn=0;cn<an;cn++){var hn=roots[cn],dn=hn===0||hn===1?.5:1,fn=cubicAt(Wr,Yr,Kr,Jr,hn);fn<tn||(sn<0&&(sn=cubicExtrema(Gr,Zr,Qr,en,extrema),extrema[1]<extrema[0]&&sn>1&&swapExtrema(),ln=cubicAt(Gr,Zr,Qr,en,extrema[0]),sn>1&&(un=cubicAt(Gr,Zr,Qr,en,extrema[1]))),sn===2?hn<extrema[0]?nn+=ln<Gr?dn:-dn:hn<extrema[1]?nn+=un<ln?dn:-dn:nn+=en<un?dn:-dn:hn<extrema[0]?nn+=ln<Gr?dn:-dn:nn+=en<ln?dn:-dn)}return nn}function windingQuadratic(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){if(en>Gr&&en>Zr&&en>Qr||en<Gr&&en<Zr&&en<Qr)return 0;var tn=quadraticRootAt(Gr,Zr,Qr,en,roots);if(tn===0)return 0;var rn=quadraticExtremum(Gr,Zr,Qr);if(rn>=0&&rn<=1){for(var an=0,nn=quadraticAt$1(Gr,Zr,Qr,rn),sn=0;sn<tn;sn++){var ln=roots[sn]===0||roots[sn]===1?.5:1,un=quadraticAt$1(Wr,Yr,Kr,roots[sn]);un<Jr||(roots[sn]<rn?an+=nn<Gr?ln:-ln:an+=Qr<nn?ln:-ln)}return an}else{var ln=roots[0]===0||roots[0]===1?.5:1,un=quadraticAt$1(Wr,Yr,Kr,roots[0]);return un<Jr?0:Qr<Gr?ln:-ln}}function windingArc(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){if(en-=Gr,en>Yr||en<-Yr)return 0;var tn=Math.sqrt(Yr*Yr-en*en);roots[0]=-tn,roots[1]=tn;var rn=Math.abs(Zr-Kr);if(rn<1e-4)return 0;if(rn>=PI2$4-1e-4){Zr=0,Kr=PI2$4;var an=Qr?1:-1;return Jr>=roots[0]+Wr&&Jr<=roots[1]+Wr?an:0}if(Zr>Kr){var nn=Zr;Zr=Kr,Kr=nn}Zr<0&&(Zr+=PI2$4,Kr+=PI2$4);for(var sn=0,ln=0;ln<2;ln++){var un=roots[ln];if(un+Wr>Jr){var cn=Math.atan2(en,un),an=Qr?1:-1;cn<0&&(cn=PI2$4+cn),(cn>=Zr&&cn<=Kr||cn+PI2$4>=Zr&&cn+PI2$4<=Kr)&&(cn>Math.PI/2&&cn<Math.PI*1.5&&(an=-an),sn+=an)}}return sn}function containPath(Wr,Gr,Yr,Zr,Kr){for(var Qr=Wr.data,Jr=Wr.len(),en=0,tn=0,rn=0,an=0,nn=0,sn,ln,un=0;un<Jr;){var cn=Qr[un++],hn=un===1;switch(cn===CMD$3.M&&un>1&&(Yr||(en+=windingLine(tn,rn,an,nn,Zr,Kr))),hn&&(tn=Qr[un],rn=Qr[un+1],an=tn,nn=rn),cn){case CMD$3.M:an=Qr[un++],nn=Qr[un++],tn=an,rn=nn;break;case CMD$3.L:if(Yr){if(containStroke$4(tn,rn,Qr[un],Qr[un+1],Gr,Zr,Kr))return!0}else en+=windingLine(tn,rn,Qr[un],Qr[un+1],Zr,Kr)||0;tn=Qr[un++],rn=Qr[un++];break;case CMD$3.C:if(Yr){if(containStroke$3(tn,rn,Qr[un++],Qr[un++],Qr[un++],Qr[un++],Qr[un],Qr[un+1],Gr,Zr,Kr))return!0}else en+=windingCubic(tn,rn,Qr[un++],Qr[un++],Qr[un++],Qr[un++],Qr[un],Qr[un+1],Zr,Kr)||0;tn=Qr[un++],rn=Qr[un++];break;case CMD$3.Q:if(Yr){if(containStroke$2(tn,rn,Qr[un++],Qr[un++],Qr[un],Qr[un+1],Gr,Zr,Kr))return!0}else en+=windingQuadratic(tn,rn,Qr[un++],Qr[un++],Qr[un],Qr[un+1],Zr,Kr)||0;tn=Qr[un++],rn=Qr[un++];break;case CMD$3.A:var dn=Qr[un++],fn=Qr[un++],pn=Qr[un++],gn=Qr[un++],vn=Qr[un++],mn=Qr[un++];un+=1;var yn=!!(1-Qr[un++]);sn=Math.cos(vn)*pn+dn,ln=Math.sin(vn)*gn+fn,hn?(an=sn,nn=ln):en+=windingLine(tn,rn,sn,ln,Zr,Kr);var xn=(Zr-dn)*gn/pn+dn;if(Yr){if(containStroke$1(dn,fn,gn,vn,vn+mn,yn,Gr,xn,Kr))return!0}else en+=windingArc(dn,fn,gn,vn,vn+mn,yn,xn,Kr);tn=Math.cos(vn+mn)*pn+dn,rn=Math.sin(vn+mn)*gn+fn;break;case CMD$3.R:an=tn=Qr[un++],nn=rn=Qr[un++];var bn=Qr[un++],Sn=Qr[un++];if(sn=an+bn,ln=nn+Sn,Yr){if(containStroke$4(an,nn,sn,nn,Gr,Zr,Kr)||containStroke$4(sn,nn,sn,ln,Gr,Zr,Kr)||containStroke$4(sn,ln,an,ln,Gr,Zr,Kr)||containStroke$4(an,ln,an,nn,Gr,Zr,Kr))return!0}else en+=windingLine(sn,nn,sn,ln,Zr,Kr),en+=windingLine(an,ln,an,nn,Zr,Kr);break;case CMD$3.Z:if(Yr){if(containStroke$4(tn,rn,an,nn,Gr,Zr,Kr))return!0}else en+=windingLine(tn,rn,an,nn,Zr,Kr);tn=an,rn=nn;break}}return!Yr&&!isAroundEqual$1(rn,nn)&&(en+=windingLine(tn,rn,an,nn,Zr,Kr)||0),en!==0}function contain$2(Wr,Gr,Yr){return containPath(Wr,0,!1,Gr,Yr)}function containStroke(Wr,Gr,Yr,Zr){return containPath(Wr,Gr,!0,Yr,Zr)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.update=function(){var Yr=this;Wr.prototype.update.call(this);var Zr=this.style;if(Zr.decal){var Kr=this._decalEl=this._decalEl||new Gr;Kr.buildPath===Gr.prototype.buildPath&&(Kr.buildPath=function(tn){Yr.buildPath(tn,Yr.shape)}),Kr.silent=!0;var Qr=Kr.style;for(var Jr in Zr)Qr[Jr]!==Zr[Jr]&&(Qr[Jr]=Zr[Jr]);Qr.fill=Zr.fill?Zr.decal:null,Qr.decal=null,Qr.shadowColor=null,Zr.strokeFirst&&(Qr.stroke=null);for(var en=0;en<pathCopyParams.length;++en)Kr[pathCopyParams[en]]=this[pathCopyParams[en]];Kr.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},Gr.prototype.getDecalElement=function(){return this._decalEl},Gr.prototype._init=function(Yr){var Zr=keys(Yr);this.shape=this.getDefaultShape();var Kr=this.getDefaultStyle();Kr&&this.useStyle(Kr);for(var Qr=0;Qr<Zr.length;Qr++){var Jr=Zr[Qr],en=Yr[Jr];Jr==="style"?this.style?extend(this.style,en):this.useStyle(en):Jr==="shape"?extend(this.shape,en):Wr.prototype.attrKV.call(this,Jr,en)}this.style||this.useStyle({})},Gr.prototype.getDefaultStyle=function(){return null},Gr.prototype.getDefaultShape=function(){return{}},Gr.prototype.canBeInsideText=function(){return this.hasFill()},Gr.prototype.getInsideTextFill=function(){var Yr=this.style.fill;if(Yr!=="none"){if(isString(Yr)){var Zr=lum(Yr,0);return Zr>.5?DARK_LABEL_COLOR:Zr>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(Yr)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},Gr.prototype.getInsideTextStroke=function(Yr){var Zr=this.style.fill;if(isString(Zr)){var Kr=this.__zr,Qr=!!(Kr&&Kr.isDarkMode()),Jr=lum(Yr,0)<DARK_MODE_THRESHOLD;if(Qr===Jr)return Zr}},Gr.prototype.buildPath=function(Yr,Zr,Kr){},Gr.prototype.pathUpdated=function(){this.__dirty&=-5},Gr.prototype.getUpdatedPathProxy=function(Yr){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,Yr),this.path},Gr.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},Gr.prototype.hasStroke=function(){var Yr=this.style,Zr=Yr.stroke;return!(Zr==null||Zr==="none"||!(Yr.lineWidth>0))},Gr.prototype.hasFill=function(){var Yr=this.style,Zr=Yr.fill;return Zr!=null&&Zr!=="none"},Gr.prototype.getBoundingRect=function(){var Yr=this._rect,Zr=this.style,Kr=!Yr;if(Kr){var Qr=!1;this.path||(Qr=!0,this.createPathProxy());var Jr=this.path;(Qr||this.__dirty&SHAPE_CHANGED_BIT)&&(Jr.beginPath(),this.buildPath(Jr,this.shape,!1),this.pathUpdated()),Yr=Jr.getBoundingRect()}if(this._rect=Yr,this.hasStroke()&&this.path&&this.path.len()>0){var en=this._rectStroke||(this._rectStroke=Yr.clone());if(this.__dirty||Kr){en.copy(Yr);var tn=Zr.strokeNoScale?this.getLineScale():1,rn=Zr.lineWidth;if(!this.hasFill()){var an=this.strokeContainThreshold;rn=Math.max(rn,an??4)}tn>1e-10&&(en.width+=rn/tn,en.height+=rn/tn,en.x-=rn/tn/2,en.y-=rn/tn/2)}return en}return Yr},Gr.prototype.contain=function(Yr,Zr){var Kr=this.transformCoordToLocal(Yr,Zr),Qr=this.getBoundingRect(),Jr=this.style;if(Yr=Kr[0],Zr=Kr[1],Qr.contain(Yr,Zr)){var en=this.path;if(this.hasStroke()){var tn=Jr.lineWidth,rn=Jr.strokeNoScale?this.getLineScale():1;if(rn>1e-10&&(this.hasFill()||(tn=Math.max(tn,this.strokeContainThreshold)),containStroke(en,tn/rn,Yr,Zr)))return!0}if(this.hasFill())return contain$2(en,Yr,Zr)}return!1},Gr.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Gr.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Gr.prototype.animateShape=function(Yr){return this.animate("shape",Yr)},Gr.prototype.updateDuringAnimation=function(Yr){Yr==="style"?this.dirtyStyle():Yr==="shape"?this.dirtyShape():this.markRedraw()},Gr.prototype.attrKV=function(Yr,Zr){Yr==="shape"?this.setShape(Zr):Wr.prototype.attrKV.call(this,Yr,Zr)},Gr.prototype.setShape=function(Yr,Zr){var Kr=this.shape;return Kr||(Kr=this.shape={}),typeof Yr=="string"?Kr[Yr]=Zr:extend(Kr,Yr),this.dirtyShape(),this},Gr.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},Gr.prototype.createStyle=function(Yr){return createObject(DEFAULT_PATH_STYLE,Yr)},Gr.prototype._innerSaveToNormal=function(Yr){Wr.prototype._innerSaveToNormal.call(this,Yr);var Zr=this._normalState;Yr.shape&&!Zr.shape&&(Zr.shape=extend({},this.shape))},Gr.prototype._applyStateObj=function(Yr,Zr,Kr,Qr,Jr,en){Wr.prototype._applyStateObj.call(this,Yr,Zr,Kr,Qr,Jr,en);var tn=!(Zr&&Qr),rn;if(Zr&&Zr.shape?Jr?Qr?rn=Zr.shape:(rn=extend({},Kr.shape),extend(rn,Zr.shape)):(rn=extend({},Qr?this.shape:Kr.shape),extend(rn,Zr.shape)):tn&&(rn=Kr.shape),rn)if(Jr){this.shape=extend({},this.shape);for(var an={},nn=keys(rn),sn=0;sn<nn.length;sn++){var ln=nn[sn];typeof rn[ln]=="object"?this.shape[ln]=rn[ln]:an[ln]=rn[ln]}this._transitionState(Yr,{shape:an},en)}else this.shape=rn,this.dirtyShape()},Gr.prototype._mergeStates=function(Yr){for(var Zr=Wr.prototype._mergeStates.call(this,Yr),Kr,Qr=0;Qr<Yr.length;Qr++){var Jr=Yr[Qr];Jr.shape&&(Kr=Kr||{},this._mergeStyle(Kr,Jr.shape))}return Kr&&(Zr.shape=Kr),Zr},Gr.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},Gr.prototype.isZeroArea=function(){return!1},Gr.extend=function(Yr){var Zr=function(Qr){__extends(Jr,Qr);function Jr(en){var tn=Qr.call(this,en)||this;return Yr.init&&Yr.init.call(tn,en),tn}return Jr.prototype.getDefaultStyle=function(){return clone$4(Yr.style)},Jr.prototype.getDefaultShape=function(){return clone$4(Yr.shape)},Jr}(Gr);for(var Kr in Yr)typeof Yr[Kr]=="function"&&(Zr.prototype[Kr]=Yr[Kr]);return Zr},Gr.initDefaultProps=function(){var Yr=Gr.prototype;Yr.type="path",Yr.strokeContainThreshold=5,Yr.segmentIgnoreThreshold=0,Yr.subPixelOptimize=!1,Yr.autoBatch=!1,Yr.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),Gr}(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.hasStroke=function(){var Yr=this.style,Zr=Yr.stroke;return Zr!=null&&Zr!=="none"&&Yr.lineWidth>0},Gr.prototype.hasFill=function(){var Yr=this.style,Zr=Yr.fill;return Zr!=null&&Zr!=="none"},Gr.prototype.createStyle=function(Yr){return createObject(DEFAULT_TSPAN_STYLE,Yr)},Gr.prototype.setBoundingRect=function(Yr){this._rect=Yr},Gr.prototype.getBoundingRect=function(){var Yr=this.style;if(!this._rect){var Zr=Yr.text;Zr!=null?Zr+="":Zr="";var Kr=getBoundingRect(Zr,Yr.font,Yr.textAlign,Yr.textBaseline);if(Kr.x+=Yr.x||0,Kr.y+=Yr.y||0,this.hasStroke()){var Qr=Yr.lineWidth;Kr.x-=Qr/2,Kr.y-=Qr/2,Kr.width+=Qr,Kr.height+=Qr}this._rect=Kr}return this._rect},Gr.initDefaultProps=function(){var Yr=Gr.prototype;Yr.dirtyRectTolerance=10}(),Gr}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(Wr){return!!(Wr&&typeof Wr!="string"&&Wr.width&&Wr.height)}var ZRImage=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.createStyle=function(Yr){return createObject(DEFAULT_IMAGE_STYLE,Yr)},Gr.prototype._getSize=function(Yr){var Zr=this.style,Kr=Zr[Yr];if(Kr!=null)return Kr;var Qr=isImageLike$1(Zr.image)?Zr.image:this.__image;if(!Qr)return 0;var Jr=Yr==="width"?"height":"width",en=Zr[Jr];return en==null?Qr[Yr]:Qr[Yr]/Qr[Jr]*en},Gr.prototype.getWidth=function(){return this._getSize("width")},Gr.prototype.getHeight=function(){return this._getSize("height")},Gr.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},Gr.prototype.getBoundingRect=function(){var Yr=this.style;return this._rect||(this._rect=new BoundingRect(Yr.x||0,Yr.y||0,this.getWidth(),this.getHeight())),this._rect},Gr}(Displayable);ZRImage.prototype.type="image";function buildPath$3(Wr,Gr){var Yr=Gr.x,Zr=Gr.y,Kr=Gr.width,Qr=Gr.height,Jr=Gr.r,en,tn,rn,an;Kr<0&&(Yr=Yr+Kr,Kr=-Kr),Qr<0&&(Zr=Zr+Qr,Qr=-Qr),typeof Jr=="number"?en=tn=rn=an=Jr:Jr instanceof Array?Jr.length===1?en=tn=rn=an=Jr[0]:Jr.length===2?(en=rn=Jr[0],tn=an=Jr[1]):Jr.length===3?(en=Jr[0],tn=an=Jr[1],rn=Jr[2]):(en=Jr[0],tn=Jr[1],rn=Jr[2],an=Jr[3]):en=tn=rn=an=0;var nn;en+tn>Kr&&(nn=en+tn,en*=Kr/nn,tn*=Kr/nn),rn+an>Kr&&(nn=rn+an,rn*=Kr/nn,an*=Kr/nn),tn+rn>Qr&&(nn=tn+rn,tn*=Qr/nn,rn*=Qr/nn),en+an>Qr&&(nn=en+an,en*=Qr/nn,an*=Qr/nn),Wr.moveTo(Yr+en,Zr),Wr.lineTo(Yr+Kr-tn,Zr),tn!==0&&Wr.arc(Yr+Kr-tn,Zr+tn,tn,-Math.PI/2,0),Wr.lineTo(Yr+Kr,Zr+Qr-rn),rn!==0&&Wr.arc(Yr+Kr-rn,Zr+Qr-rn,rn,0,Math.PI/2),Wr.lineTo(Yr+an,Zr+Qr),an!==0&&Wr.arc(Yr+an,Zr+Qr-an,an,Math.PI/2,Math.PI),Wr.lineTo(Yr,Zr+en),en!==0&&Wr.arc(Yr+en,Zr+en,en,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(Wr,Gr,Yr){if(Gr){var Zr=Gr.x1,Kr=Gr.x2,Qr=Gr.y1,Jr=Gr.y2;Wr.x1=Zr,Wr.x2=Kr,Wr.y1=Qr,Wr.y2=Jr;var en=Yr&&Yr.lineWidth;return en&&(round$2(Zr*2)===round$2(Kr*2)&&(Wr.x1=Wr.x2=subPixelOptimize$1(Zr,en,!0)),round$2(Qr*2)===round$2(Jr*2)&&(Wr.y1=Wr.y2=subPixelOptimize$1(Qr,en,!0))),Wr}}function subPixelOptimizeRect$1(Wr,Gr,Yr){if(Gr){var Zr=Gr.x,Kr=Gr.y,Qr=Gr.width,Jr=Gr.height;Wr.x=Zr,Wr.y=Kr,Wr.width=Qr,Wr.height=Jr;var en=Yr&&Yr.lineWidth;return en&&(Wr.x=subPixelOptimize$1(Zr,en,!0),Wr.y=subPixelOptimize$1(Kr,en,!0),Wr.width=Math.max(subPixelOptimize$1(Zr+Qr,en,!1)-Wr.x,Qr===0?0:1),Wr.height=Math.max(subPixelOptimize$1(Kr+Jr,en,!1)-Wr.y,Jr===0?0:1)),Wr}}function subPixelOptimize$1(Wr,Gr,Yr){if(!Gr)return Wr;var Zr=round$2(Wr*2);return(Zr+round$2(Gr))%2===0?Zr/2:(Zr+(Yr?1:-1))/2}var RectShape=function(){function Wr(){this.x=0,this.y=0,this.width=0,this.height=0}return Wr}(),subPixelOptimizeOutputShape$1={},Rect$2=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new RectShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr,Qr,Jr,en;if(this.subPixelOptimize){var tn=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,Zr,this.style);Kr=tn.x,Qr=tn.y,Jr=tn.width,en=tn.height,tn.r=Zr.r,Zr=tn}else Kr=Zr.x,Qr=Zr.y,Jr=Zr.width,en=Zr.height;Zr.r?buildPath$3(Yr,Zr):Yr.rect(Kr,Qr,Jr,en)},Gr.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Gr}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;return Zr.type="text",Zr._children=[],Zr._defaultStyle=DEFAULT_RICH_TEXT_COLOR,Zr.attr(Yr),Zr}return Gr.prototype.childrenRef=function(){return this._children},Gr.prototype.update=function(){Wr.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var Yr=0;Yr<this._children.length;Yr++){var Zr=this._children[Yr];Zr.zlevel=this.zlevel,Zr.z=this.z,Zr.z2=this.z2,Zr.culling=this.culling,Zr.cursor=this.cursor,Zr.invisible=this.invisible}},Gr.prototype.updateTransform=function(){var Yr=this.innerTransformable;Yr?(Yr.updateTransform(),Yr.transform&&(this.transform=Yr.transform)):Wr.prototype.updateTransform.call(this)},Gr.prototype.getLocalTransform=function(Yr){var Zr=this.innerTransformable;return Zr?Zr.getLocalTransform(Yr):Wr.prototype.getLocalTransform.call(this,Yr)},Gr.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),Wr.prototype.getComputedTransform.call(this)},Gr.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},Gr.prototype.addSelfToZr=function(Yr){Wr.prototype.addSelfToZr.call(this,Yr);for(var Zr=0;Zr<this._children.length;Zr++)this._children[Zr].__zr=Yr},Gr.prototype.removeSelfFromZr=function(Yr){Wr.prototype.removeSelfFromZr.call(this,Yr);for(var Zr=0;Zr<this._children.length;Zr++)this._children[Zr].__zr=null},Gr.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var Yr=new BoundingRect(0,0,0,0),Zr=this._children,Kr=[],Qr=null,Jr=0;Jr<Zr.length;Jr++){var en=Zr[Jr],tn=en.getBoundingRect(),rn=en.getLocalTransform(Kr);rn?(Yr.copy(tn),Yr.applyTransform(rn),Qr=Qr||Yr.clone(),Qr.union(Yr)):(Qr=Qr||tn.clone(),Qr.union(tn))}this._rect=Qr||Yr}return this._rect},Gr.prototype.setDefaultTextStyle=function(Yr){this._defaultStyle=Yr||DEFAULT_RICH_TEXT_COLOR},Gr.prototype.setTextContent=function(Yr){},Gr.prototype._mergeStyle=function(Yr,Zr){if(!Zr)return Yr;var Kr=Zr.rich,Qr=Yr.rich||Kr&&{};return extend(Yr,Zr),Kr&&Qr?(this._mergeRich(Qr,Kr),Yr.rich=Qr):Qr&&(Yr.rich=Qr),Yr},Gr.prototype._mergeRich=function(Yr,Zr){for(var Kr=keys(Zr),Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];Yr[Jr]=Yr[Jr]||{},extend(Yr[Jr],Zr[Jr])}},Gr.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},Gr.prototype._getOrCreateChild=function(Yr){var Zr=this._children[this._childCursor];return(!Zr||!(Zr instanceof Yr))&&(Zr=new Yr),this._children[this._childCursor++]=Zr,Zr.__zr=this.__zr,Zr.parent=this,Zr},Gr.prototype._updatePlainTexts=function(){var Yr=this.style,Zr=Yr.font||DEFAULT_FONT,Kr=Yr.padding,Qr=getStyleText(Yr),Jr=parsePlainText(Qr,Yr),en=needDrawBackground(Yr),tn=!!Yr.backgroundColor,rn=Jr.outerHeight,an=Jr.outerWidth,nn=Jr.contentWidth,sn=Jr.lines,ln=Jr.lineHeight,un=this._defaultStyle;this.isTruncated=!!Jr.isTruncated;var cn=Yr.x||0,hn=Yr.y||0,dn=Yr.align||un.align||"left",fn=Yr.verticalAlign||un.verticalAlign||"top",pn=cn,gn=adjustTextY(hn,Jr.contentHeight,fn);if(en||Kr){var vn=adjustTextX(cn,an,dn),mn=adjustTextY(hn,rn,fn);en&&this._renderBackground(Yr,Yr,vn,mn,an,rn)}gn+=ln/2,Kr&&(pn=getTextXForPadding(cn,dn,Kr),fn==="top"?gn+=Kr[0]:fn==="bottom"&&(gn-=Kr[2]));for(var yn=0,xn=!1,bn=getFill("fill"in Yr?Yr.fill:(xn=!0,un.fill)),Sn=getStroke("stroke"in Yr?Yr.stroke:!tn&&(!un.autoStroke||xn)?(yn=DEFAULT_STROKE_LINE_WIDTH,un.stroke):null),wn=Yr.textShadowBlur>0,_n=Yr.width!=null&&(Yr.overflow==="truncate"||Yr.overflow==="break"||Yr.overflow==="breakAll"),An=Jr.calculatedLineHeight,Cn=0;Cn<sn.length;Cn++){var Tn=this._getOrCreateChild(TSpan),Mn=Tn.createStyle();Tn.useStyle(Mn),Mn.text=sn[Cn],Mn.x=pn,Mn.y=gn,Mn.textAlign=dn,Mn.textBaseline="middle",Mn.opacity=Yr.opacity,Mn.strokeFirst=!0,wn&&(Mn.shadowBlur=Yr.textShadowBlur||0,Mn.shadowColor=Yr.textShadowColor||"transparent",Mn.shadowOffsetX=Yr.textShadowOffsetX||0,Mn.shadowOffsetY=Yr.textShadowOffsetY||0),Mn.stroke=Sn,Mn.fill=bn,Sn&&(Mn.lineWidth=Yr.lineWidth||yn,Mn.lineDash=Yr.lineDash,Mn.lineDashOffset=Yr.lineDashOffset||0),Mn.font=Zr,setSeparateFont(Mn,Yr),gn+=ln,_n&&Tn.setBoundingRect(new BoundingRect(adjustTextX(Mn.x,nn,Mn.textAlign),adjustTextY(Mn.y,An,Mn.textBaseline),nn,An))}},Gr.prototype._updateRichTexts=function(){var Yr=this.style,Zr=getStyleText(Yr),Kr=parseRichText(Zr,Yr),Qr=Kr.width,Jr=Kr.outerWidth,en=Kr.outerHeight,tn=Yr.padding,rn=Yr.x||0,an=Yr.y||0,nn=this._defaultStyle,sn=Yr.align||nn.align,ln=Yr.verticalAlign||nn.verticalAlign;this.isTruncated=!!Kr.isTruncated;var un=adjustTextX(rn,Jr,sn),cn=adjustTextY(an,en,ln),hn=un,dn=cn;tn&&(hn+=tn[3],dn+=tn[0]);var fn=hn+Qr;needDrawBackground(Yr)&&this._renderBackground(Yr,Yr,un,cn,Jr,en);for(var pn=!!Yr.backgroundColor,gn=0;gn<Kr.lines.length;gn++){for(var vn=Kr.lines[gn],mn=vn.tokens,yn=mn.length,xn=vn.lineHeight,bn=vn.width,Sn=0,wn=hn,_n=fn,An=yn-1,Cn=void 0;Sn<yn&&(Cn=mn[Sn],!Cn.align||Cn.align==="left");)this._placeToken(Cn,Yr,xn,dn,wn,"left",pn),bn-=Cn.width,wn+=Cn.width,Sn++;for(;An>=0&&(Cn=mn[An],Cn.align==="right");)this._placeToken(Cn,Yr,xn,dn,_n,"right",pn),bn-=Cn.width,_n-=Cn.width,An--;for(wn+=(Qr-(wn-hn)-(fn-_n)-bn)/2;Sn<=An;)Cn=mn[Sn],this._placeToken(Cn,Yr,xn,dn,wn+Cn.width/2,"center",pn),wn+=Cn.width,Sn++;dn+=xn}},Gr.prototype._placeToken=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=Zr.rich[Yr.styleName]||{};rn.text=Yr.text;var an=Yr.verticalAlign,nn=Qr+Kr/2;an==="top"?nn=Qr+Yr.height/2:an==="bottom"&&(nn=Qr+Kr-Yr.height/2);var sn=!Yr.isLineHolder&&needDrawBackground(rn);sn&&this._renderBackground(rn,Zr,en==="right"?Jr-Yr.width:en==="center"?Jr-Yr.width/2:Jr,nn-Yr.height/2,Yr.width,Yr.height);var ln=!!rn.backgroundColor,un=Yr.textPadding;un&&(Jr=getTextXForPadding(Jr,en,un),nn-=Yr.height/2-un[0]-Yr.innerHeight/2);var cn=this._getOrCreateChild(TSpan),hn=cn.createStyle();cn.useStyle(hn);var dn=this._defaultStyle,fn=!1,pn=0,gn=getFill("fill"in rn?rn.fill:"fill"in Zr?Zr.fill:(fn=!0,dn.fill)),vn=getStroke("stroke"in rn?rn.stroke:"stroke"in Zr?Zr.stroke:!ln&&!tn&&(!dn.autoStroke||fn)?(pn=DEFAULT_STROKE_LINE_WIDTH,dn.stroke):null),mn=rn.textShadowBlur>0||Zr.textShadowBlur>0;hn.text=Yr.text,hn.x=Jr,hn.y=nn,mn&&(hn.shadowBlur=rn.textShadowBlur||Zr.textShadowBlur||0,hn.shadowColor=rn.textShadowColor||Zr.textShadowColor||"transparent",hn.shadowOffsetX=rn.textShadowOffsetX||Zr.textShadowOffsetX||0,hn.shadowOffsetY=rn.textShadowOffsetY||Zr.textShadowOffsetY||0),hn.textAlign=en,hn.textBaseline="middle",hn.font=Yr.font||DEFAULT_FONT,hn.opacity=retrieve3(rn.opacity,Zr.opacity,1),setSeparateFont(hn,rn),vn&&(hn.lineWidth=retrieve3(rn.lineWidth,Zr.lineWidth,pn),hn.lineDash=retrieve2(rn.lineDash,Zr.lineDash),hn.lineDashOffset=Zr.lineDashOffset||0,hn.stroke=vn),gn&&(hn.fill=gn);var yn=Yr.contentWidth,xn=Yr.contentHeight;cn.setBoundingRect(new BoundingRect(adjustTextX(hn.x,yn,hn.textAlign),adjustTextY(hn.y,xn,hn.textBaseline),yn,xn))},Gr.prototype._renderBackground=function(Yr,Zr,Kr,Qr,Jr,en){var tn=Yr.backgroundColor,rn=Yr.borderWidth,an=Yr.borderColor,nn=tn&&tn.image,sn=tn&&!nn,ln=Yr.borderRadius,un=this,cn,hn;if(sn||Yr.lineHeight||rn&&an){cn=this._getOrCreateChild(Rect$2),cn.useStyle(cn.createStyle()),cn.style.fill=null;var dn=cn.shape;dn.x=Kr,dn.y=Qr,dn.width=Jr,dn.height=en,dn.r=ln,cn.dirtyShape()}if(sn){var fn=cn.style;fn.fill=tn||null,fn.fillOpacity=retrieve2(Yr.fillOpacity,1)}else if(nn){hn=this._getOrCreateChild(ZRImage),hn.onload=function(){un.dirtyStyle()};var pn=hn.style;pn.image=tn.image,pn.x=Kr,pn.y=Qr,pn.width=Jr,pn.height=en}if(rn&&an){var fn=cn.style;fn.lineWidth=rn,fn.stroke=an,fn.strokeOpacity=retrieve2(Yr.strokeOpacity,1),fn.lineDash=Yr.borderDash,fn.lineDashOffset=Yr.borderDashOffset||0,cn.strokeContainThreshold=0,cn.hasFill()&&cn.hasStroke()&&(fn.strokeFirst=!0,fn.lineWidth*=2)}var gn=(cn||hn).style;gn.shadowBlur=Yr.shadowBlur||0,gn.shadowColor=Yr.shadowColor||"transparent",gn.shadowOffsetX=Yr.shadowOffsetX||0,gn.shadowOffsetY=Yr.shadowOffsetY||0,gn.opacity=retrieve3(Yr.opacity,Zr.opacity,1)},Gr.makeFont=function(Yr){var Zr="";return hasSeparateFont(Yr)&&(Zr=[Yr.fontStyle,Yr.fontWeight,parseFontSize(Yr.fontSize),Yr.fontFamily||"sans-serif"].join(" ")),Zr&&trim$1(Zr)||Yr.textFont||Yr.font},Gr}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(Wr){return typeof Wr=="string"&&(Wr.indexOf("px")!==-1||Wr.indexOf("rem")!==-1||Wr.indexOf("em")!==-1)?Wr:isNaN(+Wr)?DEFAULT_FONT_SIZE+"px":Wr+"px"}function setSeparateFont(Wr,Gr){for(var Yr=0;Yr<FONT_PARTS.length;Yr++){var Zr=FONT_PARTS[Yr],Kr=Gr[Zr];Kr!=null&&(Wr[Zr]=Kr)}}function hasSeparateFont(Wr){return Wr.fontSize!=null||Wr.fontFamily||Wr.fontWeight}function normalizeTextStyle(Wr){return normalizeStyle(Wr),each$f(Wr.rich,normalizeStyle),Wr}function normalizeStyle(Wr){if(Wr){Wr.font=ZRText.makeFont(Wr);var Gr=Wr.align;Gr==="middle"&&(Gr="center"),Wr.align=Gr==null||VALID_TEXT_ALIGN[Gr]?Gr:"left";var Yr=Wr.verticalAlign;Yr==="center"&&(Yr="middle"),Wr.verticalAlign=Yr==null||VALID_TEXT_VERTICAL_ALIGN[Yr]?Yr:"top";var Zr=Wr.padding;Zr&&(Wr.padding=normalizeCssArray$1(Wr.padding))}}function getStroke(Wr,Gr){return Wr==null||Gr<=0||Wr==="transparent"||Wr==="none"?null:Wr.image||Wr.colorStops?"#000":Wr}function getFill(Wr){return Wr==null||Wr==="none"?null:Wr.image||Wr.colorStops?"#000":Wr}function getTextXForPadding(Wr,Gr,Yr){return Gr==="right"?Wr-Yr[1]:Gr==="center"?Wr+Yr[3]/2-Yr[1]/2:Wr+Yr[3]}function getStyleText(Wr){var Gr=Wr.text;return Gr!=null&&(Gr+=""),Gr}function needDrawBackground(Wr){return!!(Wr.backgroundColor||Wr.lineHeight||Wr.borderWidth&&Wr.borderColor)}var getECData=makeInner(),setCommonECData=function(Wr,Gr,Yr,Zr){if(Zr){var Kr=getECData(Zr);Kr.dataIndex=Yr,Kr.dataType=Gr,Kr.seriesIndex=Wr,Kr.ssrType="chart",Zr.type==="group"&&Zr.traverse(function(Qr){var Jr=getECData(Qr);Jr.seriesIndex=Wr,Jr.dataIndex=Yr,Jr.dataType=Gr,Jr.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(Wr){return Wr!=null&&Wr!=="none"}function doChangeHoverState(Wr,Gr,Yr){Wr.onHoverStateChange&&(Wr.hoverState||0)!==Yr&&Wr.onHoverStateChange(Gr),Wr.hoverState=Yr}function singleEnterEmphasis(Wr){doChangeHoverState(Wr,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(Wr){Wr.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(Wr,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(Wr){doChangeHoverState(Wr,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(Wr){Wr.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(Wr,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(Wr){Wr.selected=!0}function singleLeaveSelect(Wr){Wr.selected=!1}function updateElementState(Wr,Gr,Yr){Gr(Wr,Yr)}function traverseUpdateState(Wr,Gr,Yr){updateElementState(Wr,Gr,Yr),Wr.isGroup&&Wr.traverse(function(Zr){updateElementState(Zr,Gr,Yr)})}function setStatesFlag(Wr,Gr){switch(Gr){case"emphasis":Wr.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":Wr.hoverState=HOVER_STATE_NORMAL;break;case"blur":Wr.hoverState=HOVER_STATE_BLUR;break;case"select":Wr.selected=!0}}function getFromStateStyle(Wr,Gr,Yr,Zr){for(var Kr=Wr.style,Qr={},Jr=0;Jr<Gr.length;Jr++){var en=Gr[Jr],tn=Kr[en];Qr[en]=tn??(Zr&&Zr[en])}for(var Jr=0;Jr<Wr.animators.length;Jr++){var rn=Wr.animators[Jr];rn.__fromStateTransition&&rn.__fromStateTransition.indexOf(Yr)<0&&rn.targetName==="style"&&rn.saveTo(Qr,Gr)}return Qr}function createEmphasisDefaultState(Wr,Gr,Yr,Zr){var Kr=Yr&&indexOf(Yr,"select")>=0,Qr=!1;if(Wr instanceof Path){var Jr=getSavedStates(Wr),en=Kr&&Jr.selectFill||Jr.normalFill,tn=Kr&&Jr.selectStroke||Jr.normalStroke;if(hasFillOrStroke(en)||hasFillOrStroke(tn)){Zr=Zr||{};var rn=Zr.style||{};rn.fill==="inherit"?(Qr=!0,Zr=extend({},Zr),rn=extend({},rn),rn.fill=en):!hasFillOrStroke(rn.fill)&&hasFillOrStroke(en)?(Qr=!0,Zr=extend({},Zr),rn=extend({},rn),rn.fill=liftColor(en)):!hasFillOrStroke(rn.stroke)&&hasFillOrStroke(tn)&&(Qr||(Zr=extend({},Zr),rn=extend({},rn)),rn.stroke=liftColor(tn)),Zr.style=rn}}if(Zr&&Zr.z2==null){Qr||(Zr=extend({},Zr));var an=Wr.z2EmphasisLift;Zr.z2=Wr.z2+(an??Z2_EMPHASIS_LIFT)}return Zr}function createSelectDefaultState(Wr,Gr,Yr){if(Yr&&Yr.z2==null){Yr=extend({},Yr);var Zr=Wr.z2SelectLift;Yr.z2=Wr.z2+(Zr??Z2_SELECT_LIFT)}return Yr}function createBlurDefaultState(Wr,Gr,Yr){var Zr=indexOf(Wr.currentStates,Gr)>=0,Kr=Wr.style.opacity,Qr=Zr?null:getFromStateStyle(Wr,["opacity"],Gr,{opacity:1});Yr=Yr||{};var Jr=Yr.style||{};return Jr.opacity==null&&(Yr=extend({},Yr),Jr=extend({opacity:Zr?Kr:Qr.opacity*.1},Jr),Yr.style=Jr),Yr}function elementStateProxy(Wr,Gr){var Yr=this.states[Wr];if(this.style){if(Wr==="emphasis")return createEmphasisDefaultState(this,Wr,Gr,Yr);if(Wr==="blur")return createBlurDefaultState(this,Wr,Yr);if(Wr==="select")return createSelectDefaultState(this,Wr,Yr)}return Yr}function setDefaultStateProxy(Wr){Wr.stateProxy=elementStateProxy;var Gr=Wr.getTextContent(),Yr=Wr.getTextGuideLine();Gr&&(Gr.stateProxy=elementStateProxy),Yr&&(Yr.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(Wr,Gr){!shouldSilent(Wr,Gr)&&!Wr.__highByOuter&&traverseUpdateState(Wr,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(Wr,Gr){!shouldSilent(Wr,Gr)&&!Wr.__highByOuter&&traverseUpdateState(Wr,singleLeaveEmphasis)}function enterEmphasis(Wr,Gr){Wr.__highByOuter|=1<<(Gr||0),traverseUpdateState(Wr,singleEnterEmphasis)}function leaveEmphasis(Wr,Gr){!(Wr.__highByOuter&=~(1<<(Gr||0)))&&traverseUpdateState(Wr,singleLeaveEmphasis)}function enterBlur(Wr){traverseUpdateState(Wr,singleEnterBlur)}function leaveBlur(Wr){traverseUpdateState(Wr,singleLeaveBlur)}function enterSelect(Wr){traverseUpdateState(Wr,singleEnterSelect)}function leaveSelect(Wr){traverseUpdateState(Wr,singleLeaveSelect)}function shouldSilent(Wr,Gr){return Wr.__highDownSilentOnTouch&&Gr.zrByTouch}function allLeaveBlur(Wr){var Gr=Wr.getModel(),Yr=[],Zr=[];Gr.eachComponent(function(Kr,Qr){var Jr=getComponentStates(Qr),en=Kr==="series",tn=en?Wr.getViewOfSeriesModel(Qr):Wr.getViewOfComponentModel(Qr);!en&&Zr.push(tn),Jr.isBlured&&(tn.group.traverse(function(rn){singleLeaveBlur(rn)}),en&&Yr.push(Qr)),Jr.isBlured=!1}),each$f(Zr,function(Kr){Kr&&Kr.toggleBlurSeries&&Kr.toggleBlurSeries(Yr,!1,Gr)})}function blurSeries(Wr,Gr,Yr,Zr){var Kr=Zr.getModel();Yr=Yr||"coordinateSystem";function Qr(rn,an){for(var nn=0;nn<an.length;nn++){var sn=rn.getItemGraphicEl(an[nn]);sn&&leaveBlur(sn)}}if(Wr!=null&&!(!Gr||Gr==="none")){var Jr=Kr.getSeriesByIndex(Wr),en=Jr.coordinateSystem;en&&en.master&&(en=en.master);var tn=[];Kr.eachSeries(function(rn){var an=Jr===rn,nn=rn.coordinateSystem;nn&&nn.master&&(nn=nn.master);var sn=nn&&en?nn===en:an;if(!(Yr==="series"&&!an||Yr==="coordinateSystem"&&!sn||Gr==="series"&&an)){var ln=Zr.getViewOfSeriesModel(rn);if(ln.group.traverse(function(hn){hn.__highByOuter&&an&&Gr==="self"||singleEnterBlur(hn)}),isArrayLike(Gr))Qr(rn.getData(),Gr);else if(isObject$3(Gr))for(var un=keys(Gr),cn=0;cn<un.length;cn++)Qr(rn.getData(un[cn]),Gr[un[cn]]);tn.push(rn),getComponentStates(rn).isBlured=!0}}),Kr.eachComponent(function(rn,an){if(rn!=="series"){var nn=Zr.getViewOfComponentModel(an);nn&&nn.toggleBlurSeries&&nn.toggleBlurSeries(tn,!0,Kr)}})}}function blurComponent(Wr,Gr,Yr){if(!(Wr==null||Gr==null)){var Zr=Yr.getModel().getComponent(Wr,Gr);if(Zr){getComponentStates(Zr).isBlured=!0;var Kr=Yr.getViewOfComponentModel(Zr);!Kr||!Kr.focusBlurEnabled||Kr.group.traverse(function(Qr){singleEnterBlur(Qr)})}}}function blurSeriesFromHighlightPayload(Wr,Gr,Yr){var Zr=Wr.seriesIndex,Kr=Wr.getData(Gr.dataType);if(Kr){var Qr=queryDataIndex(Kr,Gr);Qr=(isArray$1(Qr)?Qr[0]:Qr)||0;var Jr=Kr.getItemGraphicEl(Qr);if(!Jr)for(var en=Kr.count(),tn=0;!Jr&&tn<en;)Jr=Kr.getItemGraphicEl(tn++);if(Jr){var rn=getECData(Jr);blurSeries(Zr,rn.focus,rn.blurScope,Yr)}else{var an=Wr.get(["emphasis","focus"]),nn=Wr.get(["emphasis","blurScope"]);an!=null&&blurSeries(Zr,an,nn,Yr)}}}function findComponentHighDownDispatchers(Wr,Gr,Yr,Zr){var Kr={focusSelf:!1,dispatchers:null};if(Wr==null||Wr==="series"||Gr==null||Yr==null)return Kr;var Qr=Zr.getModel().getComponent(Wr,Gr);if(!Qr)return Kr;var Jr=Zr.getViewOfComponentModel(Qr);if(!Jr||!Jr.findHighDownDispatchers)return Kr;for(var en=Jr.findHighDownDispatchers(Yr),tn,rn=0;rn<en.length;rn++)if(getECData(en[rn]).focus==="self"){tn=!0;break}return{focusSelf:tn,dispatchers:en}}function handleGlobalMouseOverForHighDown(Wr,Gr,Yr){var Zr=getECData(Wr),Kr=findComponentHighDownDispatchers(Zr.componentMainType,Zr.componentIndex,Zr.componentHighDownName,Yr),Qr=Kr.dispatchers,Jr=Kr.focusSelf;Qr?(Jr&&blurComponent(Zr.componentMainType,Zr.componentIndex,Yr),each$f(Qr,function(en){return enterEmphasisWhenMouseOver(en,Gr)})):(blurSeries(Zr.seriesIndex,Zr.focus,Zr.blurScope,Yr),Zr.focus==="self"&&blurComponent(Zr.componentMainType,Zr.componentIndex,Yr),enterEmphasisWhenMouseOver(Wr,Gr))}function handleGlobalMouseOutForHighDown(Wr,Gr,Yr){allLeaveBlur(Yr);var Zr=getECData(Wr),Kr=findComponentHighDownDispatchers(Zr.componentMainType,Zr.componentIndex,Zr.componentHighDownName,Yr).dispatchers;Kr?each$f(Kr,function(Qr){return leaveEmphasisWhenMouseOut(Qr,Gr)}):leaveEmphasisWhenMouseOut(Wr,Gr)}function toggleSelectionFromPayload(Wr,Gr,Yr){if(isSelectChangePayload(Gr)){var Zr=Gr.dataType,Kr=Wr.getData(Zr),Qr=queryDataIndex(Kr,Gr);isArray$1(Qr)||(Qr=[Qr]),Wr[Gr.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":Gr.type===SELECT_ACTION_TYPE?"select":"unselect"](Qr,Zr)}}function updateSeriesElementSelection(Wr){var Gr=Wr.getAllData();each$f(Gr,function(Yr){var Zr=Yr.data,Kr=Yr.type;Zr.eachItemGraphicEl(function(Qr,Jr){Wr.isSelected(Jr,Kr)?enterSelect(Qr):leaveSelect(Qr)})})}function getAllSelectedIndices(Wr){var Gr=[];return Wr.eachSeries(function(Yr){var Zr=Yr.getAllData();each$f(Zr,function(Kr){Kr.data;var Qr=Kr.type,Jr=Yr.getSelectedDataIndices();if(Jr.length>0){var en={dataIndex:Jr,seriesIndex:Yr.seriesIndex};Qr!=null&&(en.dataType=Qr),Gr.push(en)}})}),Gr}function enableHoverEmphasis(Wr,Gr,Yr){setAsHighDownDispatcher(Wr,!0),traverseUpdateState(Wr,setDefaultStateProxy),enableHoverFocus(Wr,Gr,Yr)}function disableHoverEmphasis(Wr){setAsHighDownDispatcher(Wr,!1)}function toggleHoverEmphasis(Wr,Gr,Yr,Zr){Zr?disableHoverEmphasis(Wr):enableHoverEmphasis(Wr,Gr,Yr)}function enableHoverFocus(Wr,Gr,Yr){var Zr=getECData(Wr);Gr!=null?(Zr.focus=Gr,Zr.blurScope=Yr):Zr.focus&&(Zr.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(Wr,Gr,Yr,Zr){Yr=Yr||"itemStyle";for(var Kr=0;Kr<OTHER_STATES.length;Kr++){var Qr=OTHER_STATES[Kr],Jr=Gr.getModel([Qr,Yr]),en=Wr.ensureState(Qr);en.style=Zr?Zr(Jr):Jr[defaultStyleGetterMap[Yr]]()}}function setAsHighDownDispatcher(Wr,Gr){var Yr=Gr===!1,Zr=Wr;Wr.highDownSilentOnTouch&&(Zr.__highDownSilentOnTouch=Wr.highDownSilentOnTouch),(!Yr||Zr.__highDownDispatcher)&&(Zr.__highByOuter=Zr.__highByOuter||0,Zr.__highDownDispatcher=!Yr)}function isHighDownDispatcher(Wr){return!!(Wr&&Wr.__highDownDispatcher)}function enableComponentHighDownFeatures(Wr,Gr,Yr){var Zr=getECData(Wr);Zr.componentMainType=Gr.mainType,Zr.componentIndex=Gr.componentIndex,Zr.componentHighDownName=Yr}function getHighlightDigit(Wr){var Gr=_highlightKeyMap[Wr];return Gr==null&&_highlightNextDigit<=32&&(Gr=_highlightKeyMap[Wr]=_highlightNextDigit++),Gr}function isSelectChangePayload(Wr){var Gr=Wr.type;return Gr===SELECT_ACTION_TYPE||Gr===UNSELECT_ACTION_TYPE||Gr===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(Wr){var Gr=Wr.type;return Gr===HIGHLIGHT_ACTION_TYPE||Gr===DOWNPLAY_ACTION_TYPE}function savePathStates(Wr){var Gr=getSavedStates(Wr);Gr.normalFill=Wr.style.fill,Gr.normalStroke=Wr.style.stroke;var Yr=Wr.states.select||{};Gr.selectFill=Yr.style&&Yr.style.fill||null,Gr.selectStroke=Yr.style&&Yr.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(Wr,Gr){if(Gr){var Yr=Wr.data,Zr=Wr.len(),Kr,Qr,Jr,en,tn,rn,an=CMD$2.M,nn=CMD$2.C,sn=CMD$2.L,ln=CMD$2.R,un=CMD$2.A,cn=CMD$2.Q;for(Jr=0,en=0;Jr<Zr;){switch(Kr=Yr[Jr++],en=Jr,Qr=0,Kr){case an:Qr=1;break;case sn:Qr=1;break;case nn:Qr=3;break;case cn:Qr=2;break;case un:var hn=Gr[4],dn=Gr[5],fn=mathSqrt$2(Gr[0]*Gr[0]+Gr[1]*Gr[1]),pn=mathSqrt$2(Gr[2]*Gr[2]+Gr[3]*Gr[3]),gn=mathAtan2(-Gr[1]/pn,Gr[0]/fn);Yr[Jr]*=fn,Yr[Jr++]+=hn,Yr[Jr]*=pn,Yr[Jr++]+=dn,Yr[Jr++]*=fn,Yr[Jr++]*=pn,Yr[Jr++]+=gn,Yr[Jr++]+=gn,Jr+=2,en=Jr;break;case ln:rn[0]=Yr[Jr++],rn[1]=Yr[Jr++],applyTransform$1(rn,rn,Gr),Yr[en++]=rn[0],Yr[en++]=rn[1],rn[0]+=Yr[Jr++],rn[1]+=Yr[Jr++],applyTransform$1(rn,rn,Gr),Yr[en++]=rn[0],Yr[en++]=rn[1]}for(tn=0;tn<Qr;tn++){var vn=points$2[tn];vn[0]=Yr[Jr++],vn[1]=Yr[Jr++],applyTransform$1(vn,vn,Gr),Yr[en++]=vn[0],Yr[en++]=vn[1]}}Wr.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(Wr){return Math.sqrt(Wr[0]*Wr[0]+Wr[1]*Wr[1])}function vRatio(Wr,Gr){return(Wr[0]*Gr[0]+Wr[1]*Gr[1])/(vMag(Wr)*vMag(Gr))}function vAngle(Wr,Gr){return(Wr[0]*Gr[1]<Wr[1]*Gr[0]?-1:1)*Math.acos(vRatio(Wr,Gr))}function processArc(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){var nn=tn*(PI$7/180),sn=mathCos$2(nn)*(Wr-Yr)/2+mathSin$2(nn)*(Gr-Zr)/2,ln=-1*mathSin$2(nn)*(Wr-Yr)/2+mathCos$2(nn)*(Gr-Zr)/2,un=sn*sn/(Jr*Jr)+ln*ln/(en*en);un>1&&(Jr*=mathSqrt$1(un),en*=mathSqrt$1(un));var cn=(Kr===Qr?-1:1)*mathSqrt$1((Jr*Jr*(en*en)-Jr*Jr*(ln*ln)-en*en*(sn*sn))/(Jr*Jr*(ln*ln)+en*en*(sn*sn)))||0,hn=cn*Jr*ln/en,dn=cn*-en*sn/Jr,fn=(Wr+Yr)/2+mathCos$2(nn)*hn-mathSin$2(nn)*dn,pn=(Gr+Zr)/2+mathSin$2(nn)*hn+mathCos$2(nn)*dn,gn=vAngle([1,0],[(sn-hn)/Jr,(ln-dn)/en]),vn=[(sn-hn)/Jr,(ln-dn)/en],mn=[(-1*sn-hn)/Jr,(-1*ln-dn)/en],yn=vAngle(vn,mn);if(vRatio(vn,mn)<=-1&&(yn=PI$7),vRatio(vn,mn)>=1&&(yn=0),yn<0){var xn=Math.round(yn/PI$7*1e6)/1e6;yn=PI$7*2+xn%2*PI$7}an.addData(rn,fn,pn,Jr,en,gn,yn,nn,Qr)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(Wr){var Gr=new PathProxy;if(!Wr)return Gr;var Yr=0,Zr=0,Kr=Yr,Qr=Zr,Jr,en=PathProxy.CMD,tn=Wr.match(commandReg);if(!tn)return Gr;for(var rn=0;rn<tn.length;rn++){for(var an=tn[rn],nn=an.charAt(0),sn=void 0,ln=an.match(numberReg$1)||[],un=ln.length,cn=0;cn<un;cn++)ln[cn]=parseFloat(ln[cn]);for(var hn=0;hn<un;){var dn=void 0,fn=void 0,pn=void 0,gn=void 0,vn=void 0,mn=void 0,yn=void 0,xn=Yr,bn=Zr,Sn=void 0,wn=void 0;switch(nn){case"l":Yr+=ln[hn++],Zr+=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"L":Yr=ln[hn++],Zr=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"m":Yr+=ln[hn++],Zr+=ln[hn++],sn=en.M,Gr.addData(sn,Yr,Zr),Kr=Yr,Qr=Zr,nn="l";break;case"M":Yr=ln[hn++],Zr=ln[hn++],sn=en.M,Gr.addData(sn,Yr,Zr),Kr=Yr,Qr=Zr,nn="L";break;case"h":Yr+=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"H":Yr=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"v":Zr+=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"V":Zr=ln[hn++],sn=en.L,Gr.addData(sn,Yr,Zr);break;case"C":sn=en.C,Gr.addData(sn,ln[hn++],ln[hn++],ln[hn++],ln[hn++],ln[hn++],ln[hn++]),Yr=ln[hn-2],Zr=ln[hn-1];break;case"c":sn=en.C,Gr.addData(sn,ln[hn++]+Yr,ln[hn++]+Zr,ln[hn++]+Yr,ln[hn++]+Zr,ln[hn++]+Yr,ln[hn++]+Zr),Yr+=ln[hn-2],Zr+=ln[hn-1];break;case"S":dn=Yr,fn=Zr,Sn=Gr.len(),wn=Gr.data,Jr===en.C&&(dn+=Yr-wn[Sn-4],fn+=Zr-wn[Sn-3]),sn=en.C,xn=ln[hn++],bn=ln[hn++],Yr=ln[hn++],Zr=ln[hn++],Gr.addData(sn,dn,fn,xn,bn,Yr,Zr);break;case"s":dn=Yr,fn=Zr,Sn=Gr.len(),wn=Gr.data,Jr===en.C&&(dn+=Yr-wn[Sn-4],fn+=Zr-wn[Sn-3]),sn=en.C,xn=Yr+ln[hn++],bn=Zr+ln[hn++],Yr+=ln[hn++],Zr+=ln[hn++],Gr.addData(sn,dn,fn,xn,bn,Yr,Zr);break;case"Q":xn=ln[hn++],bn=ln[hn++],Yr=ln[hn++],Zr=ln[hn++],sn=en.Q,Gr.addData(sn,xn,bn,Yr,Zr);break;case"q":xn=ln[hn++]+Yr,bn=ln[hn++]+Zr,Yr+=ln[hn++],Zr+=ln[hn++],sn=en.Q,Gr.addData(sn,xn,bn,Yr,Zr);break;case"T":dn=Yr,fn=Zr,Sn=Gr.len(),wn=Gr.data,Jr===en.Q&&(dn+=Yr-wn[Sn-4],fn+=Zr-wn[Sn-3]),Yr=ln[hn++],Zr=ln[hn++],sn=en.Q,Gr.addData(sn,dn,fn,Yr,Zr);break;case"t":dn=Yr,fn=Zr,Sn=Gr.len(),wn=Gr.data,Jr===en.Q&&(dn+=Yr-wn[Sn-4],fn+=Zr-wn[Sn-3]),Yr+=ln[hn++],Zr+=ln[hn++],sn=en.Q,Gr.addData(sn,dn,fn,Yr,Zr);break;case"A":pn=ln[hn++],gn=ln[hn++],vn=ln[hn++],mn=ln[hn++],yn=ln[hn++],xn=Yr,bn=Zr,Yr=ln[hn++],Zr=ln[hn++],sn=en.A,processArc(xn,bn,Yr,Zr,mn,yn,pn,gn,vn,sn,Gr);break;case"a":pn=ln[hn++],gn=ln[hn++],vn=ln[hn++],mn=ln[hn++],yn=ln[hn++],xn=Yr,bn=Zr,Yr+=ln[hn++],Zr+=ln[hn++],sn=en.A,processArc(xn,bn,Yr,Zr,mn,yn,pn,gn,vn,sn,Gr);break}}(nn==="z"||nn==="Z")&&(sn=en.Z,Gr.addData(sn),Yr=Kr,Zr=Qr),Jr=sn}return Gr.toStatic(),Gr}var SVGPath=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.applyTransform=function(Yr){},Gr}(Path);function isPathProxy(Wr){return Wr.setData!=null}function createPathOptions(Wr,Gr){var Yr=createPathProxyFromString(Wr),Zr=extend({},Gr);return Zr.buildPath=function(Kr){if(isPathProxy(Kr)){Kr.setData(Yr.data);var Qr=Kr.getContext();Qr&&Kr.rebuildPath(Qr,1)}else{var Qr=Kr;Yr.rebuildPath(Qr,1)}},Zr.applyTransform=function(Kr){transformPath(Yr,Kr),this.dirtyShape()},Zr}function createFromString(Wr,Gr){return new SVGPath(createPathOptions(Wr,Gr))}function extendFromString(Wr,Gr){var Yr=createPathOptions(Wr,Gr),Zr=function(Kr){__extends(Qr,Kr);function Qr(Jr){var en=Kr.call(this,Jr)||this;return en.applyTransform=Yr.applyTransform,en.buildPath=Yr.buildPath,en}return Qr}(SVGPath);return Zr}function mergePath$1(Wr,Gr){for(var Yr=[],Zr=Wr.length,Kr=0;Kr<Zr;Kr++){var Qr=Wr[Kr];Yr.push(Qr.getUpdatedPathProxy(!0))}var Jr=new Path(Gr);return Jr.createPathProxy(),Jr.buildPath=function(en){if(isPathProxy(en)){en.appendPath(Yr);var tn=en.getContext();tn&&en.rebuildPath(tn,1)}},Jr}function clonePath(Wr,Gr){Gr=Gr||{};var Yr=new Path;return Wr.shape&&Yr.setShape(Wr.shape),Yr.setStyle(Wr.style),Gr.bakeTransform?transformPath(Yr.path,Wr.getComputedTransform()):Gr.toLocal?Yr.setLocalTransform(Wr.getComputedTransform()):Yr.copyTransform(Wr),Yr.buildPath=Wr.buildPath,Yr.applyTransform=Yr.applyTransform,Yr.z=Wr.z,Yr.z2=Wr.z2,Yr.zlevel=Wr.zlevel,Yr}var CircleShape=function(){function Wr(){this.cx=0,this.cy=0,this.r=0}return Wr}(),Circle=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new CircleShape},Gr.prototype.buildPath=function(Yr,Zr){Yr.moveTo(Zr.cx+Zr.r,Zr.cy),Yr.arc(Zr.cx,Zr.cy,Zr.r,0,Math.PI*2)},Gr}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function Wr(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return Wr}(),Ellipse=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new EllipseShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=.5522848,Qr=Zr.cx,Jr=Zr.cy,en=Zr.rx,tn=Zr.ry,rn=en*Kr,an=tn*Kr;Yr.moveTo(Qr-en,Jr),Yr.bezierCurveTo(Qr-en,Jr-an,Qr-rn,Jr-tn,Qr,Jr-tn),Yr.bezierCurveTo(Qr+rn,Jr-tn,Qr+en,Jr-an,Qr+en,Jr),Yr.bezierCurveTo(Qr+en,Jr+an,Qr+rn,Jr+tn,Qr,Jr+tn),Yr.bezierCurveTo(Qr-rn,Jr+tn,Qr-en,Jr+an,Qr-en,Jr),Yr.closePath()},Gr}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Yr-Wr,rn=Zr-Gr,an=Jr-Kr,nn=en-Qr,sn=nn*tn-an*rn;if(!(sn*sn<e))return sn=(an*(Gr-Qr)-nn*(Wr-Kr))/sn,[Wr+sn*tn,Gr+sn*rn]}function computeCornerTangents(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Wr-Yr,tn=Gr-Zr,rn=(Jr?Qr:-Qr)/mathSqrt(en*en+tn*tn),an=rn*tn,nn=-rn*en,sn=Wr+an,ln=Gr+nn,un=Yr+an,cn=Zr+nn,hn=(sn+un)/2,dn=(ln+cn)/2,fn=un-sn,pn=cn-ln,gn=fn*fn+pn*pn,vn=Kr-Qr,mn=sn*cn-un*ln,yn=(pn<0?-1:1)*mathSqrt(mathMax$7(0,vn*vn*gn-mn*mn)),xn=(mn*pn-fn*yn)/gn,bn=(-mn*fn-pn*yn)/gn,Sn=(mn*pn+fn*yn)/gn,wn=(-mn*fn+pn*yn)/gn,_n=xn-hn,An=bn-dn,Cn=Sn-hn,Tn=wn-dn;return _n*_n+An*An>Cn*Cn+Tn*Tn&&(xn=Sn,bn=wn),{cx:xn,cy:bn,x0:-an,y0:-nn,x1:xn*(Kr/vn-1),y1:bn*(Kr/vn-1)}}function normalizeCornerRadius(Wr){var Gr;if(isArray$1(Wr)){var Yr=Wr.length;if(!Yr)return Wr;Yr===1?Gr=[Wr[0],Wr[0],0,0]:Yr===2?Gr=[Wr[0],Wr[0],Wr[1],Wr[1]]:Yr===3?Gr=Wr.concat(Wr[2]):Gr=Wr}else Gr=[Wr,Wr,Wr,Wr];return Gr}function buildPath$2(Wr,Gr){var Yr,Zr=mathMax$7(Gr.r,0),Kr=mathMax$7(Gr.r0||0,0),Qr=Zr>0,Jr=Kr>0;if(!(!Qr&&!Jr)){if(Qr||(Zr=Kr,Kr=0),Kr>Zr){var en=Zr;Zr=Kr,Kr=en}var tn=Gr.startAngle,rn=Gr.endAngle;if(!(isNaN(tn)||isNaN(rn))){var an=Gr.cx,nn=Gr.cy,sn=!!Gr.clockwise,ln=mathAbs$1(rn-tn),un=ln>PI2$3&&ln%PI2$3;if(un>e&&(ln=un),!(Zr>e))Wr.moveTo(an,nn);else if(ln>PI2$3-e)Wr.moveTo(an+Zr*mathCos$1(tn),nn+Zr*mathSin$1(tn)),Wr.arc(an,nn,Zr,tn,rn,!sn),Kr>e&&(Wr.moveTo(an+Kr*mathCos$1(rn),nn+Kr*mathSin$1(rn)),Wr.arc(an,nn,Kr,rn,tn,sn));else{var cn=void 0,hn=void 0,dn=void 0,fn=void 0,pn=void 0,gn=void 0,vn=void 0,mn=void 0,yn=void 0,xn=void 0,bn=void 0,Sn=void 0,wn=void 0,_n=void 0,An=void 0,Cn=void 0,Tn=Zr*mathCos$1(tn),Mn=Zr*mathSin$1(tn),En=Kr*mathCos$1(rn),Ln=Kr*mathSin$1(rn),In=ln>e;if(In){var Pn=Gr.cornerRadius;Pn&&(Yr=normalizeCornerRadius(Pn),cn=Yr[0],hn=Yr[1],dn=Yr[2],fn=Yr[3]);var Dn=mathAbs$1(Zr-Kr)/2;if(pn=mathMin$7(Dn,dn),gn=mathMin$7(Dn,fn),vn=mathMin$7(Dn,cn),mn=mathMin$7(Dn,hn),bn=yn=mathMax$7(pn,gn),Sn=xn=mathMax$7(vn,mn),(yn>e||xn>e)&&(wn=Zr*mathCos$1(rn),_n=Zr*mathSin$1(rn),An=Kr*mathCos$1(tn),Cn=Kr*mathSin$1(tn),ln<PI$6)){var kn=intersect(Tn,Mn,An,Cn,wn,_n,En,Ln);if(kn){var Nn=Tn-kn[0],Rn=Mn-kn[1],Fn=wn-kn[0],Hn=_n-kn[1],Gn=1/mathSin$1(mathACos((Nn*Fn+Rn*Hn)/(mathSqrt(Nn*Nn+Rn*Rn)*mathSqrt(Fn*Fn+Hn*Hn)))/2),zn=mathSqrt(kn[0]*kn[0]+kn[1]*kn[1]);bn=mathMin$7(yn,(Zr-zn)/(Gn+1)),Sn=mathMin$7(xn,(Kr-zn)/(Gn-1))}}}if(!In)Wr.moveTo(an+Tn,nn+Mn);else if(bn>e){var On=mathMin$7(dn,bn),Bn=mathMin$7(fn,bn),$n=computeCornerTangents(An,Cn,Tn,Mn,Zr,On,sn),Vn=computeCornerTangents(wn,_n,En,Ln,Zr,Bn,sn);Wr.moveTo(an+$n.cx+$n.x0,nn+$n.cy+$n.y0),bn<yn&&On===Bn?Wr.arc(an+$n.cx,nn+$n.cy,bn,mathATan2($n.y0,$n.x0),mathATan2(Vn.y0,Vn.x0),!sn):(On>0&&Wr.arc(an+$n.cx,nn+$n.cy,On,mathATan2($n.y0,$n.x0),mathATan2($n.y1,$n.x1),!sn),Wr.arc(an,nn,Zr,mathATan2($n.cy+$n.y1,$n.cx+$n.x1),mathATan2(Vn.cy+Vn.y1,Vn.cx+Vn.x1),!sn),Bn>0&&Wr.arc(an+Vn.cx,nn+Vn.cy,Bn,mathATan2(Vn.y1,Vn.x1),mathATan2(Vn.y0,Vn.x0),!sn))}else Wr.moveTo(an+Tn,nn+Mn),Wr.arc(an,nn,Zr,tn,rn,!sn);if(!(Kr>e)||!In)Wr.lineTo(an+En,nn+Ln);else if(Sn>e){var On=mathMin$7(cn,Sn),Bn=mathMin$7(hn,Sn),$n=computeCornerTangents(En,Ln,wn,_n,Kr,-Bn,sn),Vn=computeCornerTangents(Tn,Mn,An,Cn,Kr,-On,sn);Wr.lineTo(an+$n.cx+$n.x0,nn+$n.cy+$n.y0),Sn<xn&&On===Bn?Wr.arc(an+$n.cx,nn+$n.cy,Sn,mathATan2($n.y0,$n.x0),mathATan2(Vn.y0,Vn.x0),!sn):(Bn>0&&Wr.arc(an+$n.cx,nn+$n.cy,Bn,mathATan2($n.y0,$n.x0),mathATan2($n.y1,$n.x1),!sn),Wr.arc(an,nn,Kr,mathATan2($n.cy+$n.y1,$n.cx+$n.x1),mathATan2(Vn.cy+Vn.y1,Vn.cx+Vn.x1),sn),On>0&&Wr.arc(an+Vn.cx,nn+Vn.cy,On,mathATan2(Vn.y1,Vn.x1),mathATan2(Vn.y0,Vn.x0),!sn))}else Wr.lineTo(an+En,nn+Ln),Wr.arc(an,nn,Kr,rn,tn,sn)}Wr.closePath()}}}var SectorShape=function(){function Wr(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return Wr}(),Sector=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new SectorShape},Gr.prototype.buildPath=function(Yr,Zr){buildPath$2(Yr,Zr)},Gr.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Gr}(Path);Sector.prototype.type="sector";var RingShape=function(){function Wr(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return Wr}(),Ring=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new RingShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.cx,Qr=Zr.cy,Jr=Math.PI*2;Yr.moveTo(Kr+Zr.r,Qr),Yr.arc(Kr,Qr,Zr.r,0,Jr,!1),Yr.moveTo(Kr+Zr.r0,Qr),Yr.arc(Kr,Qr,Zr.r0,0,Jr,!0)},Gr}(Path);Ring.prototype.type="ring";function smoothBezier(Wr,Gr,Yr,Zr){var Kr=[],Qr=[],Jr=[],en=[],tn,rn,an,nn;if(Zr){an=[1/0,1/0],nn=[-1/0,-1/0];for(var sn=0,ln=Wr.length;sn<ln;sn++)min$1(an,an,Wr[sn]),max$1(nn,nn,Wr[sn]);min$1(an,an,Zr[0]),max$1(nn,nn,Zr[1])}for(var sn=0,ln=Wr.length;sn<ln;sn++){var un=Wr[sn];if(Yr)tn=Wr[sn?sn-1:ln-1],rn=Wr[(sn+1)%ln];else if(sn===0||sn===ln-1){Kr.push(clone$3(Wr[sn]));continue}else tn=Wr[sn-1],rn=Wr[sn+1];sub(Qr,rn,tn),scale$2(Qr,Qr,Gr);var cn=distance(un,tn),hn=distance(un,rn),dn=cn+hn;dn!==0&&(cn/=dn,hn/=dn),scale$2(Jr,Qr,-cn),scale$2(en,Qr,hn);var fn=add([],un,Jr),pn=add([],un,en);Zr&&(max$1(fn,fn,an),min$1(fn,fn,nn),max$1(pn,pn,an),min$1(pn,pn,nn)),Kr.push(fn),Kr.push(pn)}return Yr&&Kr.push(Kr.shift()),Kr}function buildPath$1(Wr,Gr,Yr){var Zr=Gr.smooth,Kr=Gr.points;if(Kr&&Kr.length>=2){if(Zr){var Qr=smoothBezier(Kr,Zr,Yr,Gr.smoothConstraint);Wr.moveTo(Kr[0][0],Kr[0][1]);for(var Jr=Kr.length,en=0;en<(Yr?Jr:Jr-1);en++){var tn=Qr[en*2],rn=Qr[en*2+1],an=Kr[(en+1)%Jr];Wr.bezierCurveTo(tn[0],tn[1],rn[0],rn[1],an[0],an[1])}}else{Wr.moveTo(Kr[0][0],Kr[0][1]);for(var en=1,nn=Kr.length;en<nn;en++)Wr.lineTo(Kr[en][0],Kr[en][1])}Yr&&Wr.closePath()}}var PolygonShape=function(){function Wr(){this.points=null,this.smooth=0,this.smoothConstraint=null}return Wr}(),Polygon=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new PolygonShape},Gr.prototype.buildPath=function(Yr,Zr){buildPath$1(Yr,Zr,!0)},Gr}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function Wr(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return Wr}(),Polyline$1=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new PolylineShape},Gr.prototype.buildPath=function(Yr,Zr){buildPath$1(Yr,Zr,!1)},Gr}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function Wr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Wr}(),Line$1=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new LineShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr,Qr,Jr,en;if(this.subPixelOptimize){var tn=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,Zr,this.style);Kr=tn.x1,Qr=tn.y1,Jr=tn.x2,en=tn.y2}else Kr=Zr.x1,Qr=Zr.y1,Jr=Zr.x2,en=Zr.y2;var rn=Zr.percent;rn!==0&&(Yr.moveTo(Kr,Qr),rn<1&&(Jr=Kr*(1-rn)+Jr*rn,en=Qr*(1-rn)+en*rn),Yr.lineTo(Jr,en))},Gr.prototype.pointAt=function(Yr){var Zr=this.shape;return[Zr.x1*(1-Yr)+Zr.x2*Yr,Zr.y1*(1-Yr)+Zr.y2*Yr]},Gr}(Path);Line$1.prototype.type="line";var out=[],BezierCurveShape=function(){function Wr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return Wr}();function someVectorAt(Wr,Gr,Yr){var Zr=Wr.cpx2,Kr=Wr.cpy2;return Zr!=null||Kr!=null?[(Yr?cubicDerivativeAt:cubicAt)(Wr.x1,Wr.cpx1,Wr.cpx2,Wr.x2,Gr),(Yr?cubicDerivativeAt:cubicAt)(Wr.y1,Wr.cpy1,Wr.cpy2,Wr.y2,Gr)]:[(Yr?quadraticDerivativeAt:quadraticAt$1)(Wr.x1,Wr.cpx1,Wr.x2,Gr),(Yr?quadraticDerivativeAt:quadraticAt$1)(Wr.y1,Wr.cpy1,Wr.y2,Gr)]}var BezierCurve=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new BezierCurveShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.x1,Qr=Zr.y1,Jr=Zr.x2,en=Zr.y2,tn=Zr.cpx1,rn=Zr.cpy1,an=Zr.cpx2,nn=Zr.cpy2,sn=Zr.percent;sn!==0&&(Yr.moveTo(Kr,Qr),an==null||nn==null?(sn<1&&(quadraticSubdivide(Kr,tn,Jr,sn,out),tn=out[1],Jr=out[2],quadraticSubdivide(Qr,rn,en,sn,out),rn=out[1],en=out[2]),Yr.quadraticCurveTo(tn,rn,Jr,en)):(sn<1&&(cubicSubdivide(Kr,tn,an,Jr,sn,out),tn=out[1],an=out[2],Jr=out[3],cubicSubdivide(Qr,rn,nn,en,sn,out),rn=out[1],nn=out[2],en=out[3]),Yr.bezierCurveTo(tn,rn,an,nn,Jr,en)))},Gr.prototype.pointAt=function(Yr){return someVectorAt(this.shape,Yr,!1)},Gr.prototype.tangentAt=function(Yr){var Zr=someVectorAt(this.shape,Yr,!0);return normalize$3(Zr,Zr)},Gr}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function Wr(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Wr}(),Arc=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new ArcShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.cx,Qr=Zr.cy,Jr=Math.max(Zr.r,0),en=Zr.startAngle,tn=Zr.endAngle,rn=Zr.clockwise,an=Math.cos(en),nn=Math.sin(en);Yr.moveTo(an*Jr+Kr,nn*Jr+Qr),Yr.arc(Kr,Qr,Jr,en,tn,!rn)},Gr}(Path);Arc.prototype.type="arc";var CompoundPath=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="compound",Yr}return Gr.prototype._updatePathDirty=function(){for(var Yr=this.shape.paths,Zr=this.shapeChanged(),Kr=0;Kr<Yr.length;Kr++)Zr=Zr||Yr[Kr].shapeChanged();Zr&&this.dirtyShape()},Gr.prototype.beforeBrush=function(){this._updatePathDirty();for(var Yr=this.shape.paths||[],Zr=this.getGlobalScale(),Kr=0;Kr<Yr.length;Kr++)Yr[Kr].path||Yr[Kr].createPathProxy(),Yr[Kr].path.setScale(Zr[0],Zr[1],Yr[Kr].segmentIgnoreThreshold)},Gr.prototype.buildPath=function(Yr,Zr){for(var Kr=Zr.paths||[],Qr=0;Qr<Kr.length;Qr++)Kr[Qr].buildPath(Yr,Kr[Qr].shape,!0)},Gr.prototype.afterBrush=function(){for(var Yr=this.shape.paths||[],Zr=0;Zr<Yr.length;Zr++)Yr[Zr].pathUpdated()},Gr.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},Gr}(Path),Gradient=function(){function Wr(Gr){this.colorStops=Gr||[]}return Wr.prototype.addColorStop=function(Gr,Yr){this.colorStops.push({offset:Gr,color:Yr})},Wr}(),LinearGradient=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr,en){var tn=Wr.call(this,Jr)||this;return tn.x=Yr??0,tn.y=Zr??0,tn.x2=Kr??1,tn.y2=Qr??0,tn.type="linear",tn.global=en||!1,tn}return Gr}(Gradient),RadialGradient=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr){var en=Wr.call(this,Qr)||this;return en.x=Yr??.5,en.y=Zr??.5,en.r=Kr??.5,en.type="radial",en.global=Jr||!1,en}return Gr}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function Wr(Gr,Yr){this._corners=[],this._axes=[],this._origin=[0,0];for(var Zr=0;Zr<4;Zr++)this._corners[Zr]=new Point;for(var Zr=0;Zr<2;Zr++)this._axes[Zr]=new Point;Gr&&this.fromBoundingRect(Gr,Yr)}return Wr.prototype.fromBoundingRect=function(Gr,Yr){var Zr=this._corners,Kr=this._axes,Qr=Gr.x,Jr=Gr.y,en=Qr+Gr.width,tn=Jr+Gr.height;if(Zr[0].set(Qr,Jr),Zr[1].set(en,Jr),Zr[2].set(en,tn),Zr[3].set(Qr,tn),Yr)for(var rn=0;rn<4;rn++)Zr[rn].transform(Yr);Point.sub(Kr[0],Zr[1],Zr[0]),Point.sub(Kr[1],Zr[3],Zr[0]),Kr[0].normalize(),Kr[1].normalize();for(var rn=0;rn<2;rn++)this._origin[rn]=Kr[rn].dot(Zr[0])},Wr.prototype.intersect=function(Gr,Yr){var Zr=!0,Kr=!Yr;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,Gr,minTv,maxTv,Kr,1)&&(Zr=!1,Kr)||!this._intersectCheckOneSide(Gr,this,minTv,maxTv,Kr,-1)&&(Zr=!1,Kr)||Kr||Point.copy(Yr,Zr?minTv:maxTv),Zr},Wr.prototype._intersectCheckOneSide=function(Gr,Yr,Zr,Kr,Qr,Jr){for(var en=!0,tn=0;tn<2;tn++){var rn=this._axes[tn];if(this._getProjMinMaxOnAxis(tn,Gr._corners,extent),this._getProjMinMaxOnAxis(tn,Yr._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(en=!1,Qr)return en;var an=Math.abs(extent2[0]-extent[1]),nn=Math.abs(extent[0]-extent2[1]);Math.min(an,nn)>Kr.len()&&(an<nn?Point.scale(Kr,rn,-an*Jr):Point.scale(Kr,rn,nn*Jr))}else if(Zr){var an=Math.abs(extent2[0]-extent[1]),nn=Math.abs(extent[0]-extent2[1]);Math.min(an,nn)<Zr.len()&&(an<nn?Point.scale(Zr,rn,an*Jr):Point.scale(Zr,rn,-nn*Jr))}}return en},Wr.prototype._getProjMinMaxOnAxis=function(Gr,Yr,Zr){for(var Kr=this._axes[Gr],Qr=this._origin,Jr=Yr[0].dot(Kr)+Qr[Gr],en=Jr,tn=Jr,rn=1;rn<Yr.length;rn++){var an=Yr[rn].dot(Kr)+Qr[Gr];en=Math.min(an,en),tn=Math.max(an,tn)}Zr[0]=en,Zr[1]=tn},Wr}(),m=[],IncrementalDisplayable=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.notClear=!0,Yr.incremental=!0,Yr._displayables=[],Yr._temporaryDisplayables=[],Yr._cursor=0,Yr}return Gr.prototype.traverse=function(Yr,Zr){Yr.call(Zr,this)},Gr.prototype.useStyle=function(){this.style={}},Gr.prototype.getCursor=function(){return this._cursor},Gr.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Gr.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Gr.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Gr.prototype.addDisplayable=function(Yr,Zr){Zr?this._temporaryDisplayables.push(Yr):this._displayables.push(Yr),this.markRedraw()},Gr.prototype.addDisplayables=function(Yr,Zr){Zr=Zr||!1;for(var Kr=0;Kr<Yr.length;Kr++)this.addDisplayable(Yr[Kr],Zr)},Gr.prototype.getDisplayables=function(){return this._displayables},Gr.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Gr.prototype.eachPendingDisplayable=function(Yr){for(var Zr=this._cursor;Zr<this._displayables.length;Zr++)Yr&&Yr(this._displayables[Zr]);for(var Zr=0;Zr<this._temporaryDisplayables.length;Zr++)Yr&&Yr(this._temporaryDisplayables[Zr])},Gr.prototype.update=function(){this.updateTransform();for(var Yr=this._cursor;Yr<this._displayables.length;Yr++){var Zr=this._displayables[Yr];Zr.parent=this,Zr.update(),Zr.parent=null}for(var Yr=0;Yr<this._temporaryDisplayables.length;Yr++){var Zr=this._temporaryDisplayables[Yr];Zr.parent=this,Zr.update(),Zr.parent=null}},Gr.prototype.getBoundingRect=function(){if(!this._rect){for(var Yr=new BoundingRect(1/0,1/0,-1/0,-1/0),Zr=0;Zr<this._displayables.length;Zr++){var Kr=this._displayables[Zr],Qr=Kr.getBoundingRect().clone();Kr.needLocalTransform()&&Qr.applyTransform(Kr.getLocalTransform(m)),Yr.union(Qr)}this._rect=Yr}return this._rect},Gr.prototype.contain=function(Yr,Zr){var Kr=this.transformCoordToLocal(Yr,Zr),Qr=this.getBoundingRect();if(Qr.contain(Kr[0],Kr[1]))for(var Jr=0;Jr<this._displayables.length;Jr++){var en=this._displayables[Jr];if(en.contain(Yr,Zr))return!0}return!1},Gr}(Displayable),transitionStore=makeInner();function getAnimationConfig(Wr,Gr,Yr,Zr,Kr){var Qr;if(Gr&&Gr.ecModel){var Jr=Gr.ecModel.getUpdatePayload();Qr=Jr&&Jr.animation}var en=Gr&&Gr.isAnimationEnabled(),tn=Wr==="update";if(en){var rn=void 0,an=void 0,nn=void 0;Zr?(rn=retrieve2(Zr.duration,200),an=retrieve2(Zr.easing,"cubicOut"),nn=0):(rn=Gr.getShallow(tn?"animationDurationUpdate":"animationDuration"),an=Gr.getShallow(tn?"animationEasingUpdate":"animationEasing"),nn=Gr.getShallow(tn?"animationDelayUpdate":"animationDelay")),Qr&&(Qr.duration!=null&&(rn=Qr.duration),Qr.easing!=null&&(an=Qr.easing),Qr.delay!=null&&(nn=Qr.delay)),isFunction(nn)&&(nn=nn(Yr,Kr)),isFunction(rn)&&(rn=rn(Yr));var sn={duration:rn||0,delay:nn,easing:an};return sn}else return null}function animateOrSetProps(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=!1,tn;isFunction(Kr)?(Jr=Qr,Qr=Kr,Kr=null):isObject$3(Kr)&&(Qr=Kr.cb,Jr=Kr.during,en=Kr.isFrom,tn=Kr.removeOpt,Kr=Kr.dataIndex);var rn=Wr==="leave";rn||Gr.stopAnimation("leave");var an=getAnimationConfig(Wr,Zr,Kr,rn?tn||{}:null,Zr&&Zr.getAnimationDelayParams?Zr.getAnimationDelayParams(Gr,Kr):null);if(an&&an.duration>0){var nn=an.duration,sn=an.delay,ln=an.easing,un={duration:nn,delay:sn||0,easing:ln,done:Qr,force:!!Qr||!!Jr,setToFinal:!rn,scope:Wr,during:Jr};en?Gr.animateFrom(Yr,un):Gr.animateTo(Yr,un)}else Gr.stopAnimation(),!en&&Gr.attr(Yr),Jr&&Jr(1),Qr&&Qr()}function updateProps$1(Wr,Gr,Yr,Zr,Kr,Qr){animateOrSetProps("update",Wr,Gr,Yr,Zr,Kr,Qr)}function initProps(Wr,Gr,Yr,Zr,Kr,Qr){animateOrSetProps("enter",Wr,Gr,Yr,Zr,Kr,Qr)}function isElementRemoved(Wr){if(!Wr.__zr)return!0;for(var Gr=0;Gr<Wr.animators.length;Gr++){var Yr=Wr.animators[Gr];if(Yr.scope==="leave")return!0}return!1}function removeElement(Wr,Gr,Yr,Zr,Kr,Qr){isElementRemoved(Wr)||animateOrSetProps("leave",Wr,Gr,Yr,Zr,Kr,Qr)}function fadeOutDisplayable(Wr,Gr,Yr,Zr){Wr.removeTextContent(),Wr.removeTextGuideLine(),removeElement(Wr,{style:{opacity:0}},Gr,Yr,Zr)}function removeElementWithFadeOut(Wr,Gr,Yr){function Zr(){Wr.parent&&Wr.parent.remove(Wr)}Wr.isGroup?Wr.traverse(function(Kr){Kr.isGroup||fadeOutDisplayable(Kr,Gr,Yr,Zr)}):fadeOutDisplayable(Wr,Gr,Yr,Zr)}function saveOldStyle(Wr){transitionStore(Wr).oldStyle=Wr.style}function getOldStyle(Wr){return transitionStore(Wr).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(Wr){return Path.extend(Wr)}var extendPathFromString=extendFromString;function extendPath(Wr,Gr){return extendPathFromString(Wr,Gr)}function registerShape(Wr,Gr){_customShapeMap[Wr]=Gr}function getShapeClass(Wr){if(_customShapeMap.hasOwnProperty(Wr))return _customShapeMap[Wr]}function makePath(Wr,Gr,Yr,Zr){var Kr=createFromString(Wr,Gr);return Yr&&(Zr==="center"&&(Yr=centerGraphic(Yr,Kr.getBoundingRect())),resizePath(Kr,Yr)),Kr}function makeImage(Wr,Gr,Yr){var Zr=new ZRImage({style:{image:Wr,x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},onload:function(Kr){if(Yr==="center"){var Qr={width:Kr.width,height:Kr.height};Zr.setStyle(centerGraphic(Gr,Qr))}}});return Zr}function centerGraphic(Wr,Gr){var Yr=Gr.width/Gr.height,Zr=Wr.height*Yr,Kr;Zr<=Wr.width?Kr=Wr.height:(Zr=Wr.width,Kr=Zr/Yr);var Qr=Wr.x+Wr.width/2,Jr=Wr.y+Wr.height/2;return{x:Qr-Zr/2,y:Jr-Kr/2,width:Zr,height:Kr}}var mergePath=mergePath$1;function resizePath(Wr,Gr){if(Wr.applyTransform){var Yr=Wr.getBoundingRect(),Zr=Yr.calculateTransform(Gr);Wr.applyTransform(Zr)}}function subPixelOptimizeLine(Wr,Gr){return subPixelOptimizeLine$1(Wr,Wr,{lineWidth:Gr}),Wr}function subPixelOptimizeRect(Wr){return subPixelOptimizeRect$1(Wr.shape,Wr.shape,Wr.style),Wr}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(Wr,Gr){for(var Yr=identity([]);Wr&&Wr!==Gr;)mul(Yr,Wr.getLocalTransform(),Yr),Wr=Wr.parent;return Yr}function applyTransform(Wr,Gr,Yr){return Gr&&!isArrayLike(Gr)&&(Gr=Transformable.getLocalTransform(Gr)),Yr&&(Gr=invert([],Gr)),applyTransform$1([],Wr,Gr)}function transformDirection(Wr,Gr,Yr){var Zr=Gr[4]===0||Gr[5]===0||Gr[0]===0?1:Math.abs(2*Gr[4]/Gr[0]),Kr=Gr[4]===0||Gr[5]===0||Gr[2]===0?1:Math.abs(2*Gr[4]/Gr[2]),Qr=[Wr==="left"?-Zr:Wr==="right"?Zr:0,Wr==="top"?-Kr:Wr==="bottom"?Kr:0];return Qr=applyTransform(Qr,Gr,Yr),Math.abs(Qr[0])>Math.abs(Qr[1])?Qr[0]>0?"right":"left":Qr[1]>0?"bottom":"top"}function isNotGroup(Wr){return!Wr.isGroup}function isPath$1(Wr){return Wr.shape!=null}function groupTransition(Wr,Gr,Yr){if(!Wr||!Gr)return;function Zr(Jr){var en={};return Jr.traverse(function(tn){isNotGroup(tn)&&tn.anid&&(en[tn.anid]=tn)}),en}function Kr(Jr){var en={x:Jr.x,y:Jr.y,rotation:Jr.rotation};return isPath$1(Jr)&&(en.shape=extend({},Jr.shape)),en}var Qr=Zr(Wr);Gr.traverse(function(Jr){if(isNotGroup(Jr)&&Jr.anid){var en=Qr[Jr.anid];if(en){var tn=Kr(Jr);Jr.attr(Kr(en)),updateProps$1(Jr,tn,Yr,getECData(Jr).dataIndex)}}})}function clipPointsByRect(Wr,Gr){return map$1(Wr,function(Yr){var Zr=Yr[0];Zr=mathMax$6(Zr,Gr.x),Zr=mathMin$6(Zr,Gr.x+Gr.width);var Kr=Yr[1];return Kr=mathMax$6(Kr,Gr.y),Kr=mathMin$6(Kr,Gr.y+Gr.height),[Zr,Kr]})}function clipRectByRect(Wr,Gr){var Yr=mathMax$6(Wr.x,Gr.x),Zr=mathMin$6(Wr.x+Wr.width,Gr.x+Gr.width),Kr=mathMax$6(Wr.y,Gr.y),Qr=mathMin$6(Wr.y+Wr.height,Gr.y+Gr.height);if(Zr>=Yr&&Qr>=Kr)return{x:Yr,y:Kr,width:Zr-Yr,height:Qr-Kr}}function createIcon$1(Wr,Gr,Yr){var Zr=extend({rectHover:!0},Gr),Kr=Zr.style={strokeNoScale:!0};if(Yr=Yr||{x:-1,y:-1,width:2,height:2},Wr)return Wr.indexOf("image://")===0?(Kr.image=Wr.slice(8),defaults(Kr,Yr),new ZRImage(Zr)):makePath(Wr.replace("path://",""),Zr,Yr,"center")}function linePolygonIntersect(Wr,Gr,Yr,Zr,Kr){for(var Qr=0,Jr=Kr[Kr.length-1];Qr<Kr.length;Qr++){var en=Kr[Qr];if(lineLineIntersect$1(Wr,Gr,Yr,Zr,en[0],en[1],Jr[0],Jr[1]))return!0;Jr=en}}function lineLineIntersect$1(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Yr-Wr,rn=Zr-Gr,an=Jr-Kr,nn=en-Qr,sn=crossProduct2d$1(an,nn,tn,rn);if(nearZero(sn))return!1;var ln=Wr-Kr,un=Gr-Qr,cn=crossProduct2d$1(ln,un,tn,rn)/sn;if(cn<0||cn>1)return!1;var hn=crossProduct2d$1(ln,un,an,nn)/sn;return!(hn<0||hn>1)}function crossProduct2d$1(Wr,Gr,Yr,Zr){return Wr*Zr-Yr*Gr}function nearZero(Wr){return Wr<=1e-6&&Wr>=-1e-6}function setTooltipConfig(Wr){var Gr=Wr.itemTooltipOption,Yr=Wr.componentModel,Zr=Wr.itemName,Kr=isString(Gr)?{formatter:Gr}:Gr,Qr=Yr.mainType,Jr=Yr.componentIndex,en={componentType:Qr,name:Zr,$vars:["name"]};en[Qr+"Index"]=Jr;var tn=Wr.formatterParamsExtra;tn&&each$f(keys(tn),function(an){hasOwn(en,an)||(en[an]=tn[an],en.$vars.push(an))});var rn=getECData(Wr.el);rn.componentMainType=Qr,rn.componentIndex=Jr,rn.tooltipConfig={name:Zr,option:defaults({content:Zr,encodeHTMLContent:!0,formatterParams:en},Kr)}}function traverseElement(Wr,Gr){var Yr;Wr.isGroup&&(Yr=Gr(Wr)),Yr||Wr.traverse(Gr)}function traverseElements(Wr,Gr){if(Wr)if(isArray$1(Wr))for(var Yr=0;Yr<Wr.length;Yr++)traverseElement(Wr[Yr],Gr);else traverseElement(Wr,Gr)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$1,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon:createIcon$1,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(Wr,Gr){for(var Yr=0;Yr<SPECIAL_STATES.length;Yr++){var Zr=SPECIAL_STATES[Yr],Kr=Gr[Zr],Qr=Wr.ensureState(Zr);Qr.style=Qr.style||{},Qr.style.text=Kr}var Jr=Wr.currentStates.slice();Wr.clearStates(!0),Wr.setStyle({text:Gr.normal}),Wr.useStates(Jr,!0)}function getLabelText(Wr,Gr,Yr){var Zr=Wr.labelFetcher,Kr=Wr.labelDataIndex,Qr=Wr.labelDimIndex,Jr=Gr.normal,en;Zr&&(en=Zr.getFormattedLabel(Kr,"normal",null,Qr,Jr&&Jr.get("formatter"),Yr!=null?{interpolatedValue:Yr}:null)),en==null&&(en=isFunction(Wr.defaultText)?Wr.defaultText(Kr,Wr,Yr):Wr.defaultText);for(var tn={normal:en},rn=0;rn<SPECIAL_STATES.length;rn++){var an=SPECIAL_STATES[rn],nn=Gr[an];tn[an]=retrieve2(Zr?Zr.getFormattedLabel(Kr,an,null,Qr,nn&&nn.get("formatter")):null,en)}return tn}function setLabelStyle(Wr,Gr,Yr,Zr){Yr=Yr||EMPTY_OBJ;for(var Kr=Wr instanceof ZRText,Qr=!1,Jr=0;Jr<DISPLAY_STATES.length;Jr++){var en=Gr[DISPLAY_STATES[Jr]];if(en&&en.getShallow("show")){Qr=!0;break}}var tn=Kr?Wr:Wr.getTextContent();if(Qr){Kr||(tn||(tn=new ZRText,Wr.setTextContent(tn)),Wr.stateProxy&&(tn.stateProxy=Wr.stateProxy));var rn=getLabelText(Yr,Gr),an=Gr.normal,nn=!!an.getShallow("show"),sn=createTextStyle(an,Zr&&Zr.normal,Yr,!1,!Kr);sn.text=rn.normal,Kr||Wr.setTextConfig(createTextConfig(an,Yr,!1));for(var Jr=0;Jr<SPECIAL_STATES.length;Jr++){var ln=SPECIAL_STATES[Jr],en=Gr[ln];if(en){var un=tn.ensureState(ln),cn=!!retrieve2(en.getShallow("show"),nn);if(cn!==nn&&(un.ignore=!cn),un.style=createTextStyle(en,Zr&&Zr[ln],Yr,!0,!Kr),un.style.text=rn[ln],!Kr){var hn=Wr.ensureState(ln);hn.textConfig=createTextConfig(en,Yr,!0)}}}tn.silent=!!an.getShallow("silent"),tn.style.x!=null&&(sn.x=tn.style.x),tn.style.y!=null&&(sn.y=tn.style.y),tn.ignore=!nn,tn.useStyle(sn),tn.dirty(),Yr.enableTextSetter&&(labelInner(tn).setLabelText=function(dn){var fn=getLabelText(Yr,Gr,dn);setLabelText(tn,fn)})}else tn&&(tn.ignore=!0);Wr.dirty()}function getLabelStatesModels(Wr,Gr){Gr=Gr||"label";for(var Yr={normal:Wr.getModel(Gr)},Zr=0;Zr<SPECIAL_STATES.length;Zr++){var Kr=SPECIAL_STATES[Zr];Yr[Kr]=Wr.getModel([Kr,Gr])}return Yr}function createTextStyle(Wr,Gr,Yr,Zr,Kr){var Qr={};return setTextStyleCommon(Qr,Wr,Yr,Zr,Kr),Gr&&extend(Qr,Gr),Qr}function createTextConfig(Wr,Gr,Yr){Gr=Gr||{};var Zr={},Kr,Qr=Wr.getShallow("rotate"),Jr=retrieve2(Wr.getShallow("distance"),Yr?null:5),en=Wr.getShallow("offset");return Kr=Wr.getShallow("position")||(Yr?null:"inside"),Kr==="outside"&&(Kr=Gr.defaultOutsidePosition||"top"),Kr!=null&&(Zr.position=Kr),en!=null&&(Zr.offset=en),Qr!=null&&(Qr*=Math.PI/180,Zr.rotation=Qr),Jr!=null&&(Zr.distance=Jr),Zr.outsideFill=Wr.get("color")==="inherit"?Gr.inheritColor||null:"auto",Zr}function setTextStyleCommon(Wr,Gr,Yr,Zr,Kr){Yr=Yr||EMPTY_OBJ;var Qr=Gr.ecModel,Jr=Qr&&Qr.option.textStyle,en=getRichItemNames(Gr),tn;if(en){tn={};for(var rn in en)if(en.hasOwnProperty(rn)){var an=Gr.getModel(["rich",rn]);setTokenTextStyle(tn[rn]={},an,Jr,Yr,Zr,Kr,!1,!0)}}tn&&(Wr.rich=tn);var nn=Gr.get("overflow");nn&&(Wr.overflow=nn);var sn=Gr.get("minMargin");sn!=null&&(Wr.margin=sn),setTokenTextStyle(Wr,Gr,Jr,Yr,Zr,Kr,!0,!1)}function getRichItemNames(Wr){for(var Gr;Wr&&Wr!==Wr.ecModel;){var Yr=(Wr.option||EMPTY_OBJ).rich;if(Yr){Gr=Gr||{};for(var Zr=keys(Yr),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Gr[Qr]=1}}Wr=Wr.parentModel}return Gr}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){Yr=!Kr&&Yr||EMPTY_OBJ;var tn=Zr&&Zr.inheritColor,rn=Gr.getShallow("color"),an=Gr.getShallow("textBorderColor"),nn=retrieve2(Gr.getShallow("opacity"),Yr.opacity);(rn==="inherit"||rn==="auto")&&(tn?rn=tn:rn=null),(an==="inherit"||an==="auto")&&(tn?an=tn:an=null),Qr||(rn=rn||Yr.color,an=an||Yr.textBorderColor),rn!=null&&(Wr.fill=rn),an!=null&&(Wr.stroke=an);var sn=retrieve2(Gr.getShallow("textBorderWidth"),Yr.textBorderWidth);sn!=null&&(Wr.lineWidth=sn);var ln=retrieve2(Gr.getShallow("textBorderType"),Yr.textBorderType);ln!=null&&(Wr.lineDash=ln);var un=retrieve2(Gr.getShallow("textBorderDashOffset"),Yr.textBorderDashOffset);un!=null&&(Wr.lineDashOffset=un),!Kr&&nn==null&&!en&&(nn=Zr&&Zr.defaultOpacity),nn!=null&&(Wr.opacity=nn),!Kr&&!Qr&&Wr.fill==null&&Zr.inheritColor&&(Wr.fill=Zr.inheritColor);for(var cn=0;cn<TEXT_PROPS_WITH_GLOBAL.length;cn++){var hn=TEXT_PROPS_WITH_GLOBAL[cn],dn=retrieve2(Gr.getShallow(hn),Yr[hn]);dn!=null&&(Wr[hn]=dn)}for(var cn=0;cn<TEXT_PROPS_SELF.length;cn++){var hn=TEXT_PROPS_SELF[cn],dn=Gr.getShallow(hn);dn!=null&&(Wr[hn]=dn)}if(Wr.verticalAlign==null){var fn=Gr.getShallow("baseline");fn!=null&&(Wr.verticalAlign=fn)}if(!Jr||!Zr.disableBox){for(var cn=0;cn<TEXT_PROPS_BOX.length;cn++){var hn=TEXT_PROPS_BOX[cn],dn=Gr.getShallow(hn);dn!=null&&(Wr[hn]=dn)}var pn=Gr.getShallow("borderType");pn!=null&&(Wr.borderDash=pn),(Wr.backgroundColor==="auto"||Wr.backgroundColor==="inherit")&&tn&&(Wr.backgroundColor=tn),(Wr.borderColor==="auto"||Wr.borderColor==="inherit")&&tn&&(Wr.borderColor=tn)}}function getFont(Wr,Gr){var Yr=Gr&&Gr.getModel("textStyle");return trim$1([Wr.fontStyle||Yr&&Yr.getShallow("fontStyle")||"",Wr.fontWeight||Yr&&Yr.getShallow("fontWeight")||"",(Wr.fontSize||Yr&&Yr.getShallow("fontSize")||12)+"px",Wr.fontFamily||Yr&&Yr.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(Wr,Gr,Yr,Zr){if(Wr){var Kr=labelInner(Wr);Kr.prevValue=Kr.value,Kr.value=Yr;var Qr=Gr.normal;Kr.valueAnimation=Qr.get("valueAnimation"),Kr.valueAnimation&&(Kr.precision=Qr.get("precision"),Kr.defaultInterpolatedText=Zr,Kr.statesModels=Gr)}}function animateLabelValue(Wr,Gr,Yr,Zr,Kr){var Qr=labelInner(Wr);if(!Qr.valueAnimation||Qr.prevValue===Qr.value)return;var Jr=Qr.defaultInterpolatedText,en=retrieve2(Qr.interpolatedValue,Qr.prevValue),tn=Qr.value;function rn(an){var nn=interpolateRawValues(Yr,Qr.precision,en,tn,an);Qr.interpolatedValue=an===1?null:nn;var sn=getLabelText({labelDataIndex:Gr,labelFetcher:Kr,defaultText:Jr?Jr(nn):nn+""},Qr.statesModels,nn);setLabelText(Wr,sn)}Wr.percent=0,(Qr.prevValue==null?initProps:updateProps$1)(Wr,{percent:1},Zr,Gr,null,rn)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function Wr(){}return Wr.prototype.getTextColor=function(Gr){var Yr=this.ecModel;return this.getShallow("color")||(!Gr&&Yr?Yr.get(PATH_COLOR):null)},Wr.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},Wr.prototype.getTextRect=function(Gr){for(var Yr={text:Gr,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},Zr=0;Zr<textStyleParams.length;Zr++)Yr[textStyleParams[Zr]]=this.getShallow(textStyleParams[Zr]);return tmpText.useStyle(Yr),tmpText.update(),tmpText.getBoundingRect()},Wr}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function Wr(){}return Wr.prototype.getLineStyle=function(Gr){return getLineStyle(this,Gr)},Wr}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function Wr(){}return Wr.prototype.getItemStyle=function(Gr,Yr){return getItemStyle(this,Gr,Yr)},Wr}(),Model=function(){function Wr(Gr,Yr,Zr){this.parentModel=Yr,this.ecModel=Zr,this.option=Gr}return Wr.prototype.init=function(Gr,Yr,Zr){},Wr.prototype.mergeOption=function(Gr,Yr){merge(this.option,Gr,!0)},Wr.prototype.get=function(Gr,Yr){return Gr==null?this.option:this._doGet(this.parsePath(Gr),!Yr&&this.parentModel)},Wr.prototype.getShallow=function(Gr,Yr){var Zr=this.option,Kr=Zr==null?Zr:Zr[Gr];if(Kr==null&&!Yr){var Qr=this.parentModel;Qr&&(Kr=Qr.getShallow(Gr))}return Kr},Wr.prototype.getModel=function(Gr,Yr){var Zr=Gr!=null,Kr=Zr?this.parsePath(Gr):null,Qr=Zr?this._doGet(Kr):this.option;return Yr=Yr||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(Kr)),new Wr(Qr,Yr,this.ecModel)},Wr.prototype.isEmpty=function(){return this.option==null},Wr.prototype.restoreData=function(){},Wr.prototype.clone=function(){var Gr=this.constructor;return new Gr(clone$4(this.option))},Wr.prototype.parsePath=function(Gr){return typeof Gr=="string"?Gr.split("."):Gr},Wr.prototype.resolveParentPath=function(Gr){return Gr},Wr.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},Wr.prototype._doGet=function(Gr,Yr){var Zr=this.option;if(!Gr)return Zr;for(var Kr=0;Kr<Gr.length&&!(Gr[Kr]&&(Zr=Zr&&typeof Zr=="object"?Zr[Gr[Kr]]:null,Zr==null));Kr++);return Zr==null&&Yr&&(Zr=Yr._doGet(this.resolveParentPath(Gr),Yr.parentModel)),Zr},Wr}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(Wr){return[Wr||"",base++].join("_")}function enableSubTypeDefaulter(Wr){var Gr={};Wr.registerSubTypeDefaulter=function(Yr,Zr){var Kr=parseClassType(Yr);Gr[Kr.main]=Zr},Wr.determineSubType=function(Yr,Zr){var Kr=Zr.type;if(!Kr){var Qr=parseClassType(Yr).main;Wr.hasSubTypes(Yr)&&Gr[Qr]&&(Kr=Gr[Qr](Zr))}return Kr}}function enableTopologicalTravel(Wr,Gr){Wr.topologicalTravel=function(Qr,Jr,en,tn){if(!Qr.length)return;var rn=Yr(Jr),an=rn.graph,nn=rn.noEntryList,sn={};for(each$f(Qr,function(fn){sn[fn]=!0});nn.length;){var ln=nn.pop(),un=an[ln],cn=!!sn[ln];cn&&(en.call(tn,ln,un.originalDeps.slice()),delete sn[ln]),each$f(un.successor,cn?dn:hn)}each$f(sn,function(){var fn="";throw new Error(fn)});function hn(fn){an[fn].entryCount--,an[fn].entryCount===0&&nn.push(fn)}function dn(fn){sn[fn]=!0,hn(fn)}};function Yr(Qr){var Jr={},en=[];return each$f(Qr,function(tn){var rn=Zr(Jr,tn),an=rn.originalDeps=Gr(tn),nn=Kr(an,Qr);rn.entryCount=nn.length,rn.entryCount===0&&en.push(tn),each$f(nn,function(sn){indexOf(rn.predecessor,sn)<0&&rn.predecessor.push(sn);var ln=Zr(Jr,sn);indexOf(ln.successor,sn)<0&&ln.successor.push(tn)})}),{graph:Jr,noEntryList:en}}function Zr(Qr,Jr){return Qr[Jr]||(Qr[Jr]={predecessor:[],successor:[]}),Qr[Jr]}function Kr(Qr,Jr){var en=[];return each$f(Qr,function(tn){indexOf(Jr,tn)>=0&&en.push(tn)}),en}}function inheritDefaultOption(Wr,Gr){return merge(merge({},Wr,!0),Gr,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var Wr=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return Wr.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(Wr,Gr){Wr=Wr.toUpperCase(),localeModels[Wr]=new Model(Gr),localeStorage[Wr]=Gr}function createLocaleObject(Wr){if(isString(Wr)){var Gr=localeStorage[Wr.toUpperCase()]||{};return Wr===LOCALE_ZH||Wr===LOCALE_EN?clone$4(Gr):merge(clone$4(Gr),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(Wr),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(Wr){return localeModels[Wr]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(Wr,Gr){return Wr+="","0000".substr(0,Gr-Wr.length)+Wr}function getPrimaryTimeUnit(Wr){switch(Wr){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return Wr}}function isPrimaryTimeUnit(Wr){return Wr===getPrimaryTimeUnit(Wr)}function getDefaultFormatPrecisionOfInterval(Wr){switch(Wr){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(Wr,Gr,Yr,Zr){var Kr=parseDate(Wr),Qr=Kr[fullYearGetterName(Yr)](),Jr=Kr[monthGetterName(Yr)]()+1,en=Math.floor((Jr-1)/3)+1,tn=Kr[dateGetterName(Yr)](),rn=Kr["get"+(Yr?"UTC":"")+"Day"](),an=Kr[hoursGetterName(Yr)](),nn=(an-1)%12+1,sn=Kr[minutesGetterName(Yr)](),ln=Kr[secondsGetterName(Yr)](),un=Kr[millisecondsGetterName(Yr)](),cn=an>=12?"pm":"am",hn=cn.toUpperCase(),dn=Zr instanceof Model?Zr:getLocaleModel(Zr||SYSTEM_LANG)||getDefaultLocaleModel(),fn=dn.getModel("time"),pn=fn.get("month"),gn=fn.get("monthAbbr"),vn=fn.get("dayOfWeek"),mn=fn.get("dayOfWeekAbbr");return(Gr||"").replace(/{a}/g,cn+"").replace(/{A}/g,hn+"").replace(/{yyyy}/g,Qr+"").replace(/{yy}/g,pad(Qr%100+"",2)).replace(/{Q}/g,en+"").replace(/{MMMM}/g,pn[Jr-1]).replace(/{MMM}/g,gn[Jr-1]).replace(/{MM}/g,pad(Jr,2)).replace(/{M}/g,Jr+"").replace(/{dd}/g,pad(tn,2)).replace(/{d}/g,tn+"").replace(/{eeee}/g,vn[rn]).replace(/{ee}/g,mn[rn]).replace(/{e}/g,rn+"").replace(/{HH}/g,pad(an,2)).replace(/{H}/g,an+"").replace(/{hh}/g,pad(nn+"",2)).replace(/{h}/g,nn+"").replace(/{mm}/g,pad(sn,2)).replace(/{m}/g,sn+"").replace(/{ss}/g,pad(ln,2)).replace(/{s}/g,ln+"").replace(/{SSS}/g,pad(un,3)).replace(/{S}/g,un+"")}function leveledFormat(Wr,Gr,Yr,Zr,Kr){var Qr=null;if(isString(Yr))Qr=Yr;else if(isFunction(Yr))Qr=Yr(Wr.value,Gr,{level:Wr.level});else{var Jr=extend({},defaultLeveledFormatter);if(Wr.level>0)for(var en=0;en<primaryTimeUnits.length;++en)Jr[primaryTimeUnits[en]]="{primary|"+Jr[primaryTimeUnits[en]]+"}";var tn=Yr?Yr.inherit===!1?Yr:defaults(Yr,Jr):Jr,rn=getUnitFromValue(Wr.value,Kr);if(tn[rn])Qr=tn[rn];else if(tn.inherit){for(var an=timeUnits.indexOf(rn),en=an-1;en>=0;--en)if(tn[rn]){Qr=tn[rn];break}Qr=Qr||Jr.none}if(isArray$1(Qr)){var nn=Wr.level==null?0:Wr.level>=0?Wr.level:Qr.length+Wr.level;nn=Math.min(nn,Qr.length-1),Qr=Qr[nn]}}return format(new Date(Wr.value),Qr,Kr,Zr)}function getUnitFromValue(Wr,Gr){var Yr=parseDate(Wr),Zr=Yr[monthGetterName(Gr)]()+1,Kr=Yr[dateGetterName(Gr)](),Qr=Yr[hoursGetterName(Gr)](),Jr=Yr[minutesGetterName(Gr)](),en=Yr[secondsGetterName(Gr)](),tn=Yr[millisecondsGetterName(Gr)](),rn=tn===0,an=rn&&en===0,nn=an&&Jr===0,sn=nn&&Qr===0,ln=sn&&Kr===1,un=ln&&Zr===1;return un?"year":ln?"month":sn?"day":nn?"hour":an?"minute":rn?"second":"millisecond"}function getUnitValue(Wr,Gr,Yr){var Zr=isNumber(Wr)?parseDate(Wr):Wr;switch(Gr=Gr||getUnitFromValue(Wr,Yr),Gr){case"year":return Zr[fullYearGetterName(Yr)]();case"half-year":return Zr[monthGetterName(Yr)]()>=6?1:0;case"quarter":return Math.floor((Zr[monthGetterName(Yr)]()+1)/4);case"month":return Zr[monthGetterName(Yr)]();case"day":return Zr[dateGetterName(Yr)]();case"half-day":return Zr[hoursGetterName(Yr)]()/24;case"hour":return Zr[hoursGetterName(Yr)]();case"minute":return Zr[minutesGetterName(Yr)]();case"second":return Zr[secondsGetterName(Yr)]();case"millisecond":return Zr[millisecondsGetterName(Yr)]()}}function fullYearGetterName(Wr){return Wr?"getUTCFullYear":"getFullYear"}function monthGetterName(Wr){return Wr?"getUTCMonth":"getMonth"}function dateGetterName(Wr){return Wr?"getUTCDate":"getDate"}function hoursGetterName(Wr){return Wr?"getUTCHours":"getHours"}function minutesGetterName(Wr){return Wr?"getUTCMinutes":"getMinutes"}function secondsGetterName(Wr){return Wr?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(Wr){return Wr?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(Wr){return Wr?"setUTCFullYear":"setFullYear"}function monthSetterName(Wr){return Wr?"setUTCMonth":"setMonth"}function dateSetterName(Wr){return Wr?"setUTCDate":"setDate"}function hoursSetterName(Wr){return Wr?"setUTCHours":"setHours"}function minutesSetterName(Wr){return Wr?"setUTCMinutes":"setMinutes"}function secondsSetterName(Wr){return Wr?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(Wr){return Wr?"setUTCMilliseconds":"setMilliseconds"}function addCommas(Wr){if(!isNumeric(Wr))return isString(Wr)?Wr:"-";var Gr=(Wr+"").split(".");return Gr[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Gr.length>1?"."+Gr[1]:"")}function toCamelCase(Wr,Gr){return Wr=(Wr||"").toLowerCase().replace(/-(.)/g,function(Yr,Zr){return Zr.toUpperCase()}),Gr&&Wr&&(Wr=Wr.charAt(0).toUpperCase()+Wr.slice(1)),Wr}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(Wr,Gr,Yr){var Zr="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function Kr(an){return an&&trim$1(an)?an:"-"}function Qr(an){return!!(an!=null&&!isNaN(an)&&isFinite(an))}var Jr=Gr==="time",en=Wr instanceof Date;if(Jr||en){var tn=Jr?parseDate(Wr):Wr;if(isNaN(+tn)){if(en)return"-"}else return format(tn,Zr,Yr)}if(Gr==="ordinal")return isStringSafe(Wr)?Kr(Wr):isNumber(Wr)&&Qr(Wr)?Wr+"":"-";var rn=numericToNumber(Wr);return Qr(rn)?addCommas(rn):isStringSafe(Wr)?Kr(Wr):typeof Wr=="boolean"?Wr+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(Wr,Gr){return"{"+Wr+(Gr??"")+"}"};function formatTpl(Wr,Gr,Yr){isArray$1(Gr)||(Gr=[Gr]);var Zr=Gr.length;if(!Zr)return"";for(var Kr=Gr[0].$vars||[],Qr=0;Qr<Kr.length;Qr++){var Jr=TPL_VAR_ALIAS[Qr];Wr=Wr.replace(wrapVar(Jr),wrapVar(Jr,0))}for(var en=0;en<Zr;en++)for(var tn=0;tn<Kr.length;tn++){var rn=Gr[en][Kr[tn]];Wr=Wr.replace(wrapVar(TPL_VAR_ALIAS[tn],en),Yr?encodeHTML(rn):rn)}return Wr}function formatTplSimple(Wr,Gr,Yr){return each$f(Gr,function(Zr,Kr){Wr=Wr.replace("{"+Kr+"}",Zr)}),Wr}function getTooltipMarker(Wr,Gr){var Yr=isString(Wr)?{color:Wr,extraCssText:Gr}:Wr||{},Zr=Yr.color,Kr=Yr.type;Gr=Yr.extraCssText;var Qr=Yr.renderMode||"html";if(!Zr)return"";if(Qr==="html")return Kr==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(Zr)+";"+(Gr||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(Zr)+";"+(Gr||"")+'"></span>';var Jr=Yr.markerId||"markerX";return{renderMode:Qr,content:"{"+Jr+"|}  ",style:Kr==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:Zr}:{width:10,height:10,borderRadius:5,backgroundColor:Zr}}}function convertToColorString(Wr,Gr){return Gr=Gr||"transparent",isString(Wr)?Wr:isObject$3(Wr)&&Wr.colorStops&&(Wr.colorStops[0]||{}).color||Gr}function windowOpen(Wr,Gr){if(Gr==="_blank"||Gr==="blank"){var Yr=window.open();Yr.opener=null,Yr.location.href=Wr}else window.open(Wr,Gr)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(Wr,Gr,Yr,Zr,Kr){var Qr=0,Jr=0;Zr==null&&(Zr=1/0),Kr==null&&(Kr=1/0);var en=0;Gr.eachChild(function(tn,rn){var an=tn.getBoundingRect(),nn=Gr.childAt(rn+1),sn=nn&&nn.getBoundingRect(),ln,un;if(Wr==="horizontal"){var cn=an.width+(sn?-sn.x+an.x:0);ln=Qr+cn,ln>Zr||tn.newline?(Qr=0,ln=cn,Jr+=en+Yr,en=an.height):en=Math.max(en,an.height)}else{var hn=an.height+(sn?-sn.y+an.y:0);un=Jr+hn,un>Kr||tn.newline?(Qr+=en+Yr,Jr=0,un=hn,en=an.width):en=Math.max(en,an.width)}tn.newline||(tn.x=Qr,tn.y=Jr,tn.markRedraw(),Wr==="horizontal"?Qr=ln+Yr:Jr=un+Yr)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(Wr,Gr,Yr){var Zr=Gr.width,Kr=Gr.height,Qr=parsePercent(Wr.left,Zr),Jr=parsePercent(Wr.top,Kr),en=parsePercent(Wr.right,Zr),tn=parsePercent(Wr.bottom,Kr);return(isNaN(Qr)||isNaN(parseFloat(Wr.left)))&&(Qr=0),(isNaN(en)||isNaN(parseFloat(Wr.right)))&&(en=Zr),(isNaN(Jr)||isNaN(parseFloat(Wr.top)))&&(Jr=0),(isNaN(tn)||isNaN(parseFloat(Wr.bottom)))&&(tn=Kr),Yr=normalizeCssArray(Yr||0),{width:Math.max(en-Qr-Yr[1]-Yr[3],0),height:Math.max(tn-Jr-Yr[0]-Yr[2],0)}}function getLayoutRect(Wr,Gr,Yr){Yr=normalizeCssArray(Yr||0);var Zr=Gr.width,Kr=Gr.height,Qr=parsePercent(Wr.left,Zr),Jr=parsePercent(Wr.top,Kr),en=parsePercent(Wr.right,Zr),tn=parsePercent(Wr.bottom,Kr),rn=parsePercent(Wr.width,Zr),an=parsePercent(Wr.height,Kr),nn=Yr[2]+Yr[0],sn=Yr[1]+Yr[3],ln=Wr.aspect;switch(isNaN(rn)&&(rn=Zr-en-sn-Qr),isNaN(an)&&(an=Kr-tn-nn-Jr),ln!=null&&(isNaN(rn)&&isNaN(an)&&(ln>Zr/Kr?rn=Zr*.8:an=Kr*.8),isNaN(rn)&&(rn=ln*an),isNaN(an)&&(an=rn/ln)),isNaN(Qr)&&(Qr=Zr-en-rn-sn),isNaN(Jr)&&(Jr=Kr-tn-an-nn),Wr.left||Wr.right){case"center":Qr=Zr/2-rn/2-Yr[3];break;case"right":Qr=Zr-rn-sn;break}switch(Wr.top||Wr.bottom){case"middle":case"center":Jr=Kr/2-an/2-Yr[0];break;case"bottom":Jr=Kr-an-nn;break}Qr=Qr||0,Jr=Jr||0,isNaN(rn)&&(rn=Zr-sn-Qr-(en||0)),isNaN(an)&&(an=Kr-nn-Jr-(tn||0));var un=new BoundingRect(Qr+Yr[3],Jr+Yr[0],rn,an);return un.margin=Yr,un}function positionElement(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=!Kr||!Kr.hv||Kr.hv[0],en=!Kr||!Kr.hv||Kr.hv[1],tn=Kr&&Kr.boundingMode||"all";if(Qr=Qr||Wr,Qr.x=Wr.x,Qr.y=Wr.y,!Jr&&!en)return!1;var rn;if(tn==="raw")rn=Wr.type==="group"?new BoundingRect(0,0,+Gr.width||0,+Gr.height||0):Wr.getBoundingRect();else if(rn=Wr.getBoundingRect(),Wr.needLocalTransform()){var an=Wr.getLocalTransform();rn=rn.clone(),rn.applyTransform(an)}var nn=getLayoutRect(defaults({width:rn.width,height:rn.height},Gr),Yr,Zr),sn=Jr?nn.x-rn.x:0,ln=en?nn.y-rn.y:0;return tn==="raw"?(Qr.x=sn,Qr.y=ln):(Qr.x+=sn,Qr.y+=ln),Qr===Wr&&Wr.markRedraw(),!0}function sizeCalculable(Wr,Gr){return Wr[HV_NAMES[Gr][0]]!=null||Wr[HV_NAMES[Gr][1]]!=null&&Wr[HV_NAMES[Gr][2]]!=null}function fetchLayoutMode(Wr){var Gr=Wr.layoutMode||Wr.constructor.layoutMode;return isObject$3(Gr)?Gr:Gr?{type:Gr}:null}function mergeLayoutParam(Wr,Gr,Yr){var Zr=Yr&&Yr.ignoreSize;!isArray$1(Zr)&&(Zr=[Zr,Zr]);var Kr=Jr(HV_NAMES[0],0),Qr=Jr(HV_NAMES[1],1);rn(HV_NAMES[0],Wr,Kr),rn(HV_NAMES[1],Wr,Qr);function Jr(an,nn){var sn={},ln=0,un={},cn=0,hn=2;if(each$e(an,function(pn){un[pn]=Wr[pn]}),each$e(an,function(pn){en(Gr,pn)&&(sn[pn]=un[pn]=Gr[pn]),tn(sn,pn)&&ln++,tn(un,pn)&&cn++}),Zr[nn])return tn(Gr,an[1])?un[an[2]]=null:tn(Gr,an[2])&&(un[an[1]]=null),un;if(cn===hn||!ln)return un;if(ln>=hn)return sn;for(var dn=0;dn<an.length;dn++){var fn=an[dn];if(!en(sn,fn)&&en(Wr,fn)){sn[fn]=Wr[fn];break}}return sn}function en(an,nn){return an.hasOwnProperty(nn)}function tn(an,nn){return an[nn]!=null&&an[nn]!=="auto"}function rn(an,nn,sn){each$e(an,function(ln){nn[ln]=sn[ln]})}}function getLayoutParams(Wr){return copyLayoutParams({},Wr)}function copyLayoutParams(Wr,Gr){return Gr&&Wr&&each$e(LOCATION_PARAMS,function(Yr){Gr.hasOwnProperty(Yr)&&(Wr[Yr]=Gr[Yr])}),Wr}var inner$l=makeInner(),ComponentModel=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this,Yr,Zr,Kr)||this;return Qr.uid=getUID("ec_cpt_model"),Qr}return Gr.prototype.init=function(Yr,Zr,Kr){this.mergeDefaultAndTheme(Yr,Kr)},Gr.prototype.mergeDefaultAndTheme=function(Yr,Zr){var Kr=fetchLayoutMode(this),Qr=Kr?getLayoutParams(Yr):{},Jr=Zr.getTheme();merge(Yr,Jr.get(this.mainType)),merge(Yr,this.getDefaultOption()),Kr&&mergeLayoutParam(Yr,Qr,Kr)},Gr.prototype.mergeOption=function(Yr,Zr){merge(this.option,Yr,!0);var Kr=fetchLayoutMode(this);Kr&&mergeLayoutParam(this.option,Yr,Kr)},Gr.prototype.optionUpdated=function(Yr,Zr){},Gr.prototype.getDefaultOption=function(){var Yr=this.constructor;if(!isExtendedClass(Yr))return Yr.defaultOption;var Zr=inner$l(this);if(!Zr.defaultOption){for(var Kr=[],Qr=Yr;Qr;){var Jr=Qr.prototype.defaultOption;Jr&&Kr.push(Jr),Qr=Qr.superClass}for(var en={},tn=Kr.length-1;tn>=0;tn--)en=merge(en,Kr[tn],!0);Zr.defaultOption=en}return Zr.defaultOption},Gr.prototype.getReferringComponents=function(Yr,Zr){var Kr=Yr+"Index",Qr=Yr+"Id";return queryReferringComponents(this.ecModel,Yr,{index:this.get(Kr,!0),id:this.get(Qr,!0)},Zr)},Gr.prototype.getBoxLayoutParams=function(){var Yr=this;return{left:Yr.get("left"),top:Yr.get("top"),right:Yr.get("right"),bottom:Yr.get("bottom"),width:Yr.get("width"),height:Yr.get("height")}},Gr.prototype.getZLevelKey=function(){return""},Gr.prototype.setZLevel=function(Yr){this.option.zlevel=Yr},Gr.protoInitialize=function(){var Yr=Gr.prototype;Yr.type="component",Yr.id="",Yr.name="",Yr.mainType="",Yr.subType="",Yr.componentIndex=0}(),Gr}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(Wr){var Gr=[];return each$f(ComponentModel.getClassesByMainType(Wr),function(Yr){Gr=Gr.concat(Yr.dependencies||Yr.prototype.dependencies||[])}),Gr=map$1(Gr,function(Yr){return parseClassType(Yr).main}),Wr!=="dataset"&&indexOf(Gr,"dataset")<=0&&Gr.unshift("dataset"),Gr}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(Wr){innerGlobalModel(Wr).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(Wr,Gr,Yr){var Zr={},Kr=querySeriesUpstreamDatasetModel(Gr);if(!Kr||!Wr)return Zr;var Qr=[],Jr=[],en=Gr.ecModel,tn=innerGlobalModel(en).datasetMap,rn=Kr.uid+"_"+Yr.seriesLayoutBy,an,nn;Wr=Wr.slice(),each$f(Wr,function(cn,hn){var dn=isObject$3(cn)?cn:Wr[hn]={name:cn};dn.type==="ordinal"&&an==null&&(an=hn,nn=un(dn)),Zr[dn.name]=[]});var sn=tn.get(rn)||tn.set(rn,{categoryWayDim:nn,valueWayDim:0});each$f(Wr,function(cn,hn){var dn=cn.name,fn=un(cn);if(an==null){var pn=sn.valueWayDim;ln(Zr[dn],pn,fn),ln(Jr,pn,fn),sn.valueWayDim+=fn}else if(an===hn)ln(Zr[dn],0,fn),ln(Qr,0,fn);else{var pn=sn.categoryWayDim;ln(Zr[dn],pn,fn),ln(Jr,pn,fn),sn.categoryWayDim+=fn}});function ln(cn,hn,dn){for(var fn=0;fn<dn;fn++)cn.push(hn+fn)}function un(cn){var hn=cn.dimsDef;return hn?hn.length:1}return Qr.length&&(Zr.itemName=Qr),Jr.length&&(Zr.seriesName=Jr),Zr}function makeSeriesEncodeForNameBased(Wr,Gr,Yr){var Zr={},Kr=querySeriesUpstreamDatasetModel(Wr);if(!Kr)return Zr;var Qr=Gr.sourceFormat,Jr=Gr.dimensionsDefine,en;(Qr===SOURCE_FORMAT_OBJECT_ROWS||Qr===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(Jr,function(an,nn){(isObject$3(an)?an.name:an)==="name"&&(en=nn)});var tn=function(){for(var an={},nn={},sn=[],ln=0,un=Math.min(5,Yr);ln<un;ln++){var cn=doGuessOrdinal(Gr.data,Qr,Gr.seriesLayoutBy,Jr,Gr.startIndex,ln);sn.push(cn);var hn=cn===BE_ORDINAL.Not;if(hn&&an.v==null&&ln!==en&&(an.v=ln),(an.n==null||an.n===an.v||!hn&&sn[an.n]===BE_ORDINAL.Not)&&(an.n=ln),dn(an)&&sn[an.n]!==BE_ORDINAL.Not)return an;hn||(cn===BE_ORDINAL.Might&&nn.v==null&&ln!==en&&(nn.v=ln),(nn.n==null||nn.n===nn.v)&&(nn.n=ln))}function dn(fn){return fn.v!=null&&fn.n!=null}return dn(an)?an:dn(nn)?nn:null}();if(tn){Zr.value=[tn.v];var rn=en??tn.n;Zr.itemName=[rn],Zr.seriesName=[rn]}return Zr}function querySeriesUpstreamDatasetModel(Wr){var Gr=Wr.get("data",!0);if(!Gr)return queryReferringComponents(Wr.ecModel,"dataset",{index:Wr.get("datasetIndex",!0),id:Wr.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(Wr){return!Wr.get("transform",!0)&&!Wr.get("fromTransformResult",!0)?[]:queryReferringComponents(Wr.ecModel,"dataset",{index:Wr.get("fromDatasetIndex",!0),id:Wr.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(Wr,Gr){return doGuessOrdinal(Wr.data,Wr.sourceFormat,Wr.seriesLayoutBy,Wr.dimensionsDefine,Wr.startIndex,Gr)}function doGuessOrdinal(Wr,Gr,Yr,Zr,Kr,Qr){var Jr,en=5;if(isTypedArray(Wr))return BE_ORDINAL.Not;var tn,rn;if(Zr){var an=Zr[Qr];isObject$3(an)?(tn=an.name,rn=an.type):isString(an)&&(tn=an)}if(rn!=null)return rn==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(Gr===SOURCE_FORMAT_ARRAY_ROWS){var nn=Wr;if(Yr===SERIES_LAYOUT_BY_ROW){for(var sn=nn[Qr],ln=0;ln<(sn||[]).length&&ln<en;ln++)if((Jr=gn(sn[Kr+ln]))!=null)return Jr}else for(var ln=0;ln<nn.length&&ln<en;ln++){var un=nn[Kr+ln];if(un&&(Jr=gn(un[Qr]))!=null)return Jr}}else if(Gr===SOURCE_FORMAT_OBJECT_ROWS){var cn=Wr;if(!tn)return BE_ORDINAL.Not;for(var ln=0;ln<cn.length&&ln<en;ln++){var hn=cn[ln];if(hn&&(Jr=gn(hn[tn]))!=null)return Jr}}else if(Gr===SOURCE_FORMAT_KEYED_COLUMNS){var dn=Wr;if(!tn)return BE_ORDINAL.Not;var sn=dn[tn];if(!sn||isTypedArray(sn))return BE_ORDINAL.Not;for(var ln=0;ln<sn.length&&ln<en;ln++)if((Jr=gn(sn[ln]))!=null)return Jr}else if(Gr===SOURCE_FORMAT_ORIGINAL)for(var fn=Wr,ln=0;ln<fn.length&&ln<en;ln++){var hn=fn[ln],pn=getDataItemValue(hn);if(!isArray$1(pn))return BE_ORDINAL.Not;if((Jr=gn(pn[Qr]))!=null)return Jr}function gn(vn){var mn=isString(vn);if(vn!=null&&Number.isFinite(Number(vn))&&vn!=="")return mn?BE_ORDINAL.Might:BE_ORDINAL.Not;if(mn&&vn!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(Wr,Gr){assert(internalOptionCreatorMap.get(Wr)==null&&Gr),internalOptionCreatorMap.set(Wr,Gr)}function concatInternalOptions(Wr,Gr,Yr){var Zr=internalOptionCreatorMap.get(Gr);if(!Zr)return Yr;var Kr=Zr(Wr);return Kr?Yr.concat(Kr):Yr}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function Wr(){}return Wr.prototype.getColorFromPalette=function(Gr,Yr,Zr){var Kr=normalizeToArray(this.get("color",!0)),Qr=this.get("colorLayer",!0);return getFromPalette(this,innerColor,Kr,Qr,Gr,Yr,Zr)},Wr.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},Wr}();function getDecalFromPalette(Wr,Gr,Yr,Zr){var Kr=normalizeToArray(Wr.get(["aria","decal","decals"]));return getFromPalette(Wr,innerDecal,Kr,null,Gr,Yr,Zr)}function getNearestPalette(Wr,Gr){for(var Yr=Wr.length,Zr=0;Zr<Yr;Zr++)if(Wr[Zr].length>Gr)return Wr[Zr];return Wr[Yr-1]}function getFromPalette(Wr,Gr,Yr,Zr,Kr,Qr,Jr){Qr=Qr||Wr;var en=Gr(Qr),tn=en.paletteIdx||0,rn=en.paletteNameMap=en.paletteNameMap||{};if(rn.hasOwnProperty(Kr))return rn[Kr];var an=Jr==null||!Zr?Yr:getNearestPalette(Zr,Jr);if(an=an||Yr,!(!an||!an.length)){var nn=an[tn];return Kr&&(rn[Kr]=nn),en.paletteIdx=(tn+1)%an.length,nn}}function clearPalette(Wr,Gr){Gr(Wr).paletteIdx=0,Gr(Wr).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.init=function(Yr,Zr,Kr,Qr,Jr,en){Qr=Qr||{},this.option=null,this._theme=new Model(Qr),this._locale=new Model(Jr),this._optionManager=en},Gr.prototype.setOption=function(Yr,Zr,Kr){var Qr=normalizeSetOptionInput(Zr);this._optionManager.setOption(Yr,Kr,Qr),this._resetOption(null,Qr)},Gr.prototype.resetOption=function(Yr,Zr){return this._resetOption(Yr,normalizeSetOptionInput(Zr))},Gr.prototype._resetOption=function(Yr,Zr){var Kr=!1,Qr=this._optionManager;if(!Yr||Yr==="recreate"){var Jr=Qr.mountOption(Yr==="recreate");!this.option||Yr==="recreate"?initBase(this,Jr):(this.restoreData(),this._mergeOption(Jr,Zr)),Kr=!0}if((Yr==="timeline"||Yr==="media")&&this.restoreData(),!Yr||Yr==="recreate"||Yr==="timeline"){var en=Qr.getTimelineOption(this);en&&(Kr=!0,this._mergeOption(en,Zr))}if(!Yr||Yr==="recreate"||Yr==="media"){var tn=Qr.getMediaOption(this);tn.length&&each$f(tn,function(rn){Kr=!0,this._mergeOption(rn,Zr)},this)}return Kr},Gr.prototype.mergeOption=function(Yr){this._mergeOption(Yr,null)},Gr.prototype._mergeOption=function(Yr,Zr){var Kr=this.option,Qr=this._componentsMap,Jr=this._componentsCount,en=[],tn=createHashMap(),rn=Zr&&Zr.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(Yr,function(nn,sn){nn!=null&&(ComponentModel.hasClass(sn)?sn&&(en.push(sn),tn.set(sn,!0)):Kr[sn]=Kr[sn]==null?clone$4(nn):merge(Kr[sn],nn,!0))}),rn&&rn.each(function(nn,sn){ComponentModel.hasClass(sn)&&!tn.get(sn)&&(en.push(sn),tn.set(sn,!0))}),ComponentModel.topologicalTravel(en,ComponentModel.getAllClassMainTypes(),an,this);function an(nn){var sn=concatInternalOptions(this,nn,normalizeToArray(Yr[nn])),ln=Qr.get(nn),un=ln?rn&&rn.get(nn)?"replaceMerge":"normalMerge":"replaceAll",cn=mappingToExists(ln,sn,un);setComponentTypeToKeyInfo(cn,nn,ComponentModel),Kr[nn]=null,Qr.set(nn,null),Jr.set(nn,0);var hn=[],dn=[],fn=0,pn;each$f(cn,function(gn,vn){var mn=gn.existing,yn=gn.newOption;if(!yn)mn&&(mn.mergeOption({},this),mn.optionUpdated({},!1));else{var xn=nn==="series",bn=ComponentModel.getClass(nn,gn.keyInfo.subType,!xn);if(!bn)return;if(nn==="tooltip"){if(pn)return;pn=!0}if(mn&&mn.constructor===bn)mn.name=gn.keyInfo.name,mn.mergeOption(yn,this),mn.optionUpdated(yn,!1);else{var Sn=extend({componentIndex:vn},gn.keyInfo);mn=new bn(yn,this,this,Sn),extend(mn,Sn),gn.brandNew&&(mn.__requireNewView=!0),mn.init(yn,this,this),mn.optionUpdated(null,!0)}}mn?(hn.push(mn.option),dn.push(mn),fn++):(hn.push(void 0),dn.push(void 0))},this),Kr[nn]=hn,Qr.set(nn,dn),Jr.set(nn,fn),nn==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},Gr.prototype.getOption=function(){var Yr=clone$4(this.option);return each$f(Yr,function(Zr,Kr){if(ComponentModel.hasClass(Kr)){for(var Qr=normalizeToArray(Zr),Jr=Qr.length,en=!1,tn=Jr-1;tn>=0;tn--)Qr[tn]&&!isComponentIdInternal(Qr[tn])?en=!0:(Qr[tn]=null,!en&&Jr--);Qr.length=Jr,Yr[Kr]=Qr}}),delete Yr[OPTION_INNER_KEY],Yr},Gr.prototype.getTheme=function(){return this._theme},Gr.prototype.getLocaleModel=function(){return this._locale},Gr.prototype.setUpdatePayload=function(Yr){this._payload=Yr},Gr.prototype.getUpdatePayload=function(){return this._payload},Gr.prototype.getComponent=function(Yr,Zr){var Kr=this._componentsMap.get(Yr);if(Kr){var Qr=Kr[Zr||0];if(Qr)return Qr;if(Zr==null){for(var Jr=0;Jr<Kr.length;Jr++)if(Kr[Jr])return Kr[Jr]}}},Gr.prototype.queryComponents=function(Yr){var Zr=Yr.mainType;if(!Zr)return[];var Kr=Yr.index,Qr=Yr.id,Jr=Yr.name,en=this._componentsMap.get(Zr);if(!en||!en.length)return[];var tn;return Kr!=null?(tn=[],each$f(normalizeToArray(Kr),function(rn){en[rn]&&tn.push(en[rn])})):Qr!=null?tn=queryByIdOrName("id",Qr,en):Jr!=null?tn=queryByIdOrName("name",Jr,en):tn=filter(en,function(rn){return!!rn}),filterBySubType(tn,Yr)},Gr.prototype.findComponents=function(Yr){var Zr=Yr.query,Kr=Yr.mainType,Qr=en(Zr),Jr=Qr?this.queryComponents(Qr):filter(this._componentsMap.get(Kr),function(rn){return!!rn});return tn(filterBySubType(Jr,Yr));function en(rn){var an=Kr+"Index",nn=Kr+"Id",sn=Kr+"Name";return rn&&(rn[an]!=null||rn[nn]!=null||rn[sn]!=null)?{mainType:Kr,index:rn[an],id:rn[nn],name:rn[sn]}:null}function tn(rn){return Yr.filter?filter(rn,Yr.filter):rn}},Gr.prototype.eachComponent=function(Yr,Zr,Kr){var Qr=this._componentsMap;if(isFunction(Yr)){var Jr=Zr,en=Yr;Qr.each(function(nn,sn){for(var ln=0;nn&&ln<nn.length;ln++){var un=nn[ln];un&&en.call(Jr,sn,un,un.componentIndex)}})}else for(var tn=isString(Yr)?Qr.get(Yr):isObject$3(Yr)?this.findComponents(Yr):null,rn=0;tn&&rn<tn.length;rn++){var an=tn[rn];an&&Zr.call(Kr,an,an.componentIndex)}},Gr.prototype.getSeriesByName=function(Yr){var Zr=convertOptionIdName(Yr,null);return filter(this._componentsMap.get("series"),function(Kr){return!!Kr&&Zr!=null&&Kr.name===Zr})},Gr.prototype.getSeriesByIndex=function(Yr){return this._componentsMap.get("series")[Yr]},Gr.prototype.getSeriesByType=function(Yr){return filter(this._componentsMap.get("series"),function(Zr){return!!Zr&&Zr.subType===Yr})},Gr.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(Yr){return!!Yr})},Gr.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Gr.prototype.eachSeries=function(Yr,Zr){assertSeriesInitialized(this),each$f(this._seriesIndices,function(Kr){var Qr=this._componentsMap.get("series")[Kr];Yr.call(Zr,Qr,Kr)},this)},Gr.prototype.eachRawSeries=function(Yr,Zr){each$f(this._componentsMap.get("series"),function(Kr){Kr&&Yr.call(Zr,Kr,Kr.componentIndex)})},Gr.prototype.eachSeriesByType=function(Yr,Zr,Kr){assertSeriesInitialized(this),each$f(this._seriesIndices,function(Qr){var Jr=this._componentsMap.get("series")[Qr];Jr.subType===Yr&&Zr.call(Kr,Jr,Qr)},this)},Gr.prototype.eachRawSeriesByType=function(Yr,Zr,Kr){return each$f(this.getSeriesByType(Yr),Zr,Kr)},Gr.prototype.isSeriesFiltered=function(Yr){return assertSeriesInitialized(this),this._seriesIndicesMap.get(Yr.componentIndex)==null},Gr.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Gr.prototype.filterSeries=function(Yr,Zr){assertSeriesInitialized(this);var Kr=[];each$f(this._seriesIndices,function(Qr){var Jr=this._componentsMap.get("series")[Qr];Yr.call(Zr,Jr,Qr)&&Kr.push(Qr)},this),this._seriesIndices=Kr,this._seriesIndicesMap=createHashMap(Kr)},Gr.prototype.restoreData=function(Yr){reCreateSeriesIndices(this);var Zr=this._componentsMap,Kr=[];Zr.each(function(Qr,Jr){ComponentModel.hasClass(Jr)&&Kr.push(Jr)}),ComponentModel.topologicalTravel(Kr,ComponentModel.getAllClassMainTypes(),function(Qr){each$f(Zr.get(Qr),function(Jr){Jr&&(Qr!=="series"||!isNotTargetSeries(Jr,Yr))&&Jr.restoreData()})})},Gr.internalField=function(){reCreateSeriesIndices=function(Yr){var Zr=Yr._seriesIndices=[];each$f(Yr._componentsMap.get("series"),function(Kr){Kr&&Zr.push(Kr.componentIndex)}),Yr._seriesIndicesMap=createHashMap(Zr)},assertSeriesInitialized=function(Yr){},initBase=function(Yr,Zr){Yr.option={},Yr.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,Yr._componentsMap=createHashMap({series:[]}),Yr._componentsCount=createHashMap();var Kr=Zr.aria;isObject$3(Kr)&&Kr.enabled==null&&(Kr.enabled=!0),mergeTheme(Zr,Yr._theme.option),merge(Zr,globalDefault,!1),Yr._mergeOption(Zr,null)}}(),Gr}(Model);function isNotTargetSeries(Wr,Gr){if(Gr){var Yr=Gr.seriesIndex,Zr=Gr.seriesId,Kr=Gr.seriesName;return Yr!=null&&Wr.componentIndex!==Yr||Zr!=null&&Wr.id!==Zr||Kr!=null&&Wr.name!==Kr}}function mergeTheme(Wr,Gr){var Yr=Wr.color&&!Wr.colorLayer;each$f(Gr,function(Zr,Kr){Kr==="colorLayer"&&Yr||ComponentModel.hasClass(Kr)||(typeof Zr=="object"?Wr[Kr]=Wr[Kr]?merge(Wr[Kr],Zr,!1):clone$4(Zr):Wr[Kr]==null&&(Wr[Kr]=Zr))})}function queryByIdOrName(Wr,Gr,Yr){if(isArray$1(Gr)){var Zr=createHashMap();return each$f(Gr,function(Qr){if(Qr!=null){var Jr=convertOptionIdName(Qr,null);Jr!=null&&Zr.set(Qr,!0)}}),filter(Yr,function(Qr){return Qr&&Zr.get(Qr[Wr])})}else{var Kr=convertOptionIdName(Gr,null);return filter(Yr,function(Qr){return Qr&&Kr!=null&&Qr[Wr]===Kr})}}function filterBySubType(Wr,Gr){return Gr.hasOwnProperty("subType")?filter(Wr,function(Yr){return Yr&&Yr.subType===Gr.subType}):Wr}function normalizeSetOptionInput(Wr){var Gr=createHashMap();return Wr&&each$f(normalizeToArray(Wr.replaceMerge),function(Yr){Gr.set(Yr,!0)}),{replaceMergeMainTypeMap:Gr}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function Wr(Gr){each$f(availableMethods,function(Yr){this[Yr]=bind$1(Gr[Yr],Gr)},this)}return Wr}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function Wr(){this._coordinateSystems=[]}return Wr.prototype.create=function(Gr,Yr){var Zr=[];each$f(coordinateSystemCreators,function(Kr,Qr){var Jr=Kr.create(Gr,Yr);Zr=Zr.concat(Jr||[])}),this._coordinateSystems=Zr},Wr.prototype.update=function(Gr,Yr){each$f(this._coordinateSystems,function(Zr){Zr.update&&Zr.update(Gr,Yr)})},Wr.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},Wr.register=function(Gr,Yr){coordinateSystemCreators[Gr]=Yr},Wr.get=function(Gr){return coordinateSystemCreators[Gr]},Wr}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function Wr(Gr){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Gr}return Wr.prototype.setOption=function(Gr,Yr,Zr){Gr&&(each$f(normalizeToArray(Gr.series),function(Jr){Jr&&Jr.data&&isTypedArray(Jr.data)&&setAsPrimitive(Jr.data)}),each$f(normalizeToArray(Gr.dataset),function(Jr){Jr&&Jr.source&&isTypedArray(Jr.source)&&setAsPrimitive(Jr.source)})),Gr=clone$4(Gr);var Kr=this._optionBackup,Qr=parseRawOption(Gr,Yr,!Kr);this._newBaseOption=Qr.baseOption,Kr?(Qr.timelineOptions.length&&(Kr.timelineOptions=Qr.timelineOptions),Qr.mediaList.length&&(Kr.mediaList=Qr.mediaList),Qr.mediaDefault&&(Kr.mediaDefault=Qr.mediaDefault)):this._optionBackup=Qr},Wr.prototype.mountOption=function(Gr){var Yr=this._optionBackup;return this._timelineOptions=Yr.timelineOptions,this._mediaList=Yr.mediaList,this._mediaDefault=Yr.mediaDefault,this._currentMediaIndices=[],clone$4(Gr?Yr.baseOption:this._newBaseOption)},Wr.prototype.getTimelineOption=function(Gr){var Yr,Zr=this._timelineOptions;if(Zr.length){var Kr=Gr.getComponent("timeline");Kr&&(Yr=clone$4(Zr[Kr.getCurrentIndex()]))}return Yr},Wr.prototype.getMediaOption=function(Gr){var Yr=this._api.getWidth(),Zr=this._api.getHeight(),Kr=this._mediaList,Qr=this._mediaDefault,Jr=[],en=[];if(!Kr.length&&!Qr)return en;for(var tn=0,rn=Kr.length;tn<rn;tn++)applyMediaQuery(Kr[tn].query,Yr,Zr)&&Jr.push(tn);return!Jr.length&&Qr&&(Jr=[-1]),Jr.length&&!indicesEquals(Jr,this._currentMediaIndices)&&(en=map$1(Jr,function(an){return clone$4(an===-1?Qr.option:Kr[an].option)})),this._currentMediaIndices=Jr,en},Wr}();function parseRawOption(Wr,Gr,Yr){var Zr=[],Kr,Qr,Jr=Wr.baseOption,en=Wr.timeline,tn=Wr.options,rn=Wr.media,an=!!Wr.media,nn=!!(tn||en||Jr&&Jr.timeline);Jr?(Qr=Jr,Qr.timeline||(Qr.timeline=en)):((nn||an)&&(Wr.options=Wr.media=null),Qr=Wr),an&&isArray$1(rn)&&each$f(rn,function(ln){ln&&ln.option&&(ln.query?Zr.push(ln):Kr||(Kr=ln))}),sn(Qr),each$f(tn,function(ln){return sn(ln)}),each$f(Zr,function(ln){return sn(ln.option)});function sn(ln){each$f(Gr,function(un){un(ln,Yr)})}return{baseOption:Qr,timelineOptions:tn||[],mediaDefault:Kr,mediaList:Zr}}function applyMediaQuery(Wr,Gr,Yr){var Zr={width:Gr,height:Yr,aspectratio:Gr/Yr},Kr=!0;return each$f(Wr,function(Qr,Jr){var en=Jr.match(QUERY_REG);if(!(!en||!en[1]||!en[2])){var tn=en[1],rn=en[2].toLowerCase();compare(Zr[rn],Qr,tn)||(Kr=!1)}}),Kr}function compare(Wr,Gr,Yr){return Yr==="min"?Wr>=Gr:Yr==="max"?Wr<=Gr:Wr===Gr}function indicesEquals(Wr,Gr){return Wr.join(",")===Gr.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(Wr){var Gr=Wr&&Wr.itemStyle;if(Gr)for(var Yr=0,Zr=POSSIBLE_STYLES.length;Yr<Zr;Yr++){var Kr=POSSIBLE_STYLES[Yr],Qr=Gr.normal,Jr=Gr.emphasis;Qr&&Qr[Kr]&&(Wr[Kr]=Wr[Kr]||{},Wr[Kr].normal?merge(Wr[Kr].normal,Qr[Kr]):Wr[Kr].normal=Qr[Kr],Qr[Kr]=null),Jr&&Jr[Kr]&&(Wr[Kr]=Wr[Kr]||{},Wr[Kr].emphasis?merge(Wr[Kr].emphasis,Jr[Kr]):Wr[Kr].emphasis=Jr[Kr],Jr[Kr]=null)}}function convertNormalEmphasis(Wr,Gr,Yr){if(Wr&&Wr[Gr]&&(Wr[Gr].normal||Wr[Gr].emphasis)){var Zr=Wr[Gr].normal,Kr=Wr[Gr].emphasis;Zr&&(Yr?(Wr[Gr].normal=Wr[Gr].emphasis=null,defaults(Wr[Gr],Zr)):Wr[Gr]=Zr),Kr&&(Wr.emphasis=Wr.emphasis||{},Wr.emphasis[Gr]=Kr,Kr.focus&&(Wr.emphasis.focus=Kr.focus),Kr.blurScope&&(Wr.emphasis.blurScope=Kr.blurScope))}}function removeEC3NormalStatus(Wr){convertNormalEmphasis(Wr,"itemStyle"),convertNormalEmphasis(Wr,"lineStyle"),convertNormalEmphasis(Wr,"areaStyle"),convertNormalEmphasis(Wr,"label"),convertNormalEmphasis(Wr,"labelLine"),convertNormalEmphasis(Wr,"upperLabel"),convertNormalEmphasis(Wr,"edgeLabel")}function compatTextStyle(Wr,Gr){var Yr=isObject$2(Wr)&&Wr[Gr],Zr=isObject$2(Yr)&&Yr.textStyle;if(Zr)for(var Kr=0,Qr=TEXT_STYLE_OPTIONS.length;Kr<Qr;Kr++){var Jr=TEXT_STYLE_OPTIONS[Kr];Zr.hasOwnProperty(Jr)&&(Yr[Jr]=Zr[Jr])}}function compatEC3CommonStyles(Wr){Wr&&(removeEC3NormalStatus(Wr),compatTextStyle(Wr,"label"),Wr.emphasis&&compatTextStyle(Wr.emphasis,"label"))}function processSeries(Wr){if(isObject$2(Wr)){compatEC2ItemStyle(Wr),removeEC3NormalStatus(Wr),compatTextStyle(Wr,"label"),compatTextStyle(Wr,"upperLabel"),compatTextStyle(Wr,"edgeLabel"),Wr.emphasis&&(compatTextStyle(Wr.emphasis,"label"),compatTextStyle(Wr.emphasis,"upperLabel"),compatTextStyle(Wr.emphasis,"edgeLabel"));var Gr=Wr.markPoint;Gr&&(compatEC2ItemStyle(Gr),compatEC3CommonStyles(Gr));var Yr=Wr.markLine;Yr&&(compatEC2ItemStyle(Yr),compatEC3CommonStyles(Yr));var Zr=Wr.markArea;Zr&&compatEC3CommonStyles(Zr);var Kr=Wr.data;if(Wr.type==="graph"){Kr=Kr||Wr.nodes;var Qr=Wr.links||Wr.edges;if(Qr&&!isTypedArray(Qr))for(var Jr=0;Jr<Qr.length;Jr++)compatEC3CommonStyles(Qr[Jr]);each$f(Wr.categories,function(rn){removeEC3NormalStatus(rn)})}if(Kr&&!isTypedArray(Kr))for(var Jr=0;Jr<Kr.length;Jr++)compatEC3CommonStyles(Kr[Jr]);if(Gr=Wr.markPoint,Gr&&Gr.data)for(var en=Gr.data,Jr=0;Jr<en.length;Jr++)compatEC3CommonStyles(en[Jr]);if(Yr=Wr.markLine,Yr&&Yr.data)for(var tn=Yr.data,Jr=0;Jr<tn.length;Jr++)isArray$1(tn[Jr])?(compatEC3CommonStyles(tn[Jr][0]),compatEC3CommonStyles(tn[Jr][1])):compatEC3CommonStyles(tn[Jr]);Wr.type==="gauge"?(compatTextStyle(Wr,"axisLabel"),compatTextStyle(Wr,"title"),compatTextStyle(Wr,"detail")):Wr.type==="treemap"?(convertNormalEmphasis(Wr.breadcrumb,"itemStyle"),each$f(Wr.levels,function(rn){removeEC3NormalStatus(rn)})):Wr.type==="tree"&&removeEC3NormalStatus(Wr.leaves)}}function toArr(Wr){return isArray$1(Wr)?Wr:Wr?[Wr]:[]}function toObj(Wr){return(isArray$1(Wr)?Wr[0]:Wr)||{}}function globalCompatStyle(Wr,Gr){each$d(toArr(Wr.series),function(Zr){isObject$2(Zr)&&processSeries(Zr)});var Yr=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Gr&&Yr.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(Yr,function(Zr){each$d(toArr(Wr[Zr]),function(Kr){Kr&&(compatTextStyle(Kr,"axisLabel"),compatTextStyle(Kr.axisPointer,"label"))})}),each$d(toArr(Wr.parallel),function(Zr){var Kr=Zr&&Zr.parallelAxisDefault;compatTextStyle(Kr,"axisLabel"),compatTextStyle(Kr&&Kr.axisPointer,"label")}),each$d(toArr(Wr.calendar),function(Zr){convertNormalEmphasis(Zr,"itemStyle"),compatTextStyle(Zr,"dayLabel"),compatTextStyle(Zr,"monthLabel"),compatTextStyle(Zr,"yearLabel")}),each$d(toArr(Wr.radar),function(Zr){compatTextStyle(Zr,"name"),Zr.name&&Zr.axisName==null&&(Zr.axisName=Zr.name,delete Zr.name),Zr.nameGap!=null&&Zr.axisNameGap==null&&(Zr.axisNameGap=Zr.nameGap,delete Zr.nameGap)}),each$d(toArr(Wr.geo),function(Zr){isObject$2(Zr)&&(compatEC3CommonStyles(Zr),each$d(toArr(Zr.regions),function(Kr){compatEC3CommonStyles(Kr)}))}),each$d(toArr(Wr.timeline),function(Zr){compatEC3CommonStyles(Zr),convertNormalEmphasis(Zr,"label"),convertNormalEmphasis(Zr,"itemStyle"),convertNormalEmphasis(Zr,"controlStyle",!0);var Kr=Zr.data;isArray$1(Kr)&&each$f(Kr,function(Qr){isObject$3(Qr)&&(convertNormalEmphasis(Qr,"label"),convertNormalEmphasis(Qr,"itemStyle"))})}),each$d(toArr(Wr.toolbox),function(Zr){convertNormalEmphasis(Zr,"iconStyle"),each$d(Zr.feature,function(Kr){convertNormalEmphasis(Kr,"iconStyle")})}),compatTextStyle(toObj(Wr.axisPointer),"label"),compatTextStyle(toObj(Wr.tooltip).axisPointer,"label")}function get(Wr,Gr){for(var Yr=Gr.split(","),Zr=Wr,Kr=0;Kr<Yr.length&&(Zr=Zr&&Zr[Yr[Kr]],Zr!=null);Kr++);return Zr}function set(Wr,Gr,Yr,Zr){for(var Kr=Gr.split(","),Qr=Wr,Jr,en=0;en<Kr.length-1;en++)Jr=Kr[en],Qr[Jr]==null&&(Qr[Jr]={}),Qr=Qr[Jr];Qr[Kr[en]]==null&&(Qr[Kr[en]]=Yr)}function compatLayoutProperties(Wr){Wr&&each$f(LAYOUT_PROPERTIES,function(Gr){Gr[0]in Wr&&!(Gr[1]in Wr)&&(Wr[Gr[1]]=Wr[Gr[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(Wr){var Gr=Wr&&Wr.itemStyle;if(Gr)for(var Yr=0;Yr<BAR_ITEM_STYLE_MAP.length;Yr++){var Zr=BAR_ITEM_STYLE_MAP[Yr][1],Kr=BAR_ITEM_STYLE_MAP[Yr][0];Gr[Zr]!=null&&(Gr[Kr]=Gr[Zr])}}function compatPieLabel(Wr){Wr&&Wr.alignTo==="edge"&&Wr.margin!=null&&Wr.edgeDistance==null&&(Wr.edgeDistance=Wr.margin)}function compatSunburstState(Wr){Wr&&Wr.downplay&&!Wr.blur&&(Wr.blur=Wr.downplay)}function compatGraphFocus(Wr){Wr&&Wr.focusNodeAdjacency!=null&&(Wr.emphasis=Wr.emphasis||{},Wr.emphasis.focus==null&&(Wr.emphasis.focus="adjacency"))}function traverseTree(Wr,Gr){if(Wr)for(var Yr=0;Yr<Wr.length;Yr++)Gr(Wr[Yr]),Wr[Yr]&&traverseTree(Wr[Yr].children,Gr)}function globalBackwardCompat(Wr,Gr){globalCompatStyle(Wr,Gr),Wr.series=normalizeToArray(Wr.series),each$f(Wr.series,function(Yr){if(isObject$3(Yr)){var Zr=Yr.type;if(Zr==="line")Yr.clipOverflow!=null&&(Yr.clip=Yr.clipOverflow);else if(Zr==="pie"||Zr==="gauge"){Yr.clockWise!=null&&(Yr.clockwise=Yr.clockWise),compatPieLabel(Yr.label);var Kr=Yr.data;if(Kr&&!isTypedArray(Kr))for(var Qr=0;Qr<Kr.length;Qr++)compatPieLabel(Kr[Qr]);Yr.hoverOffset!=null&&(Yr.emphasis=Yr.emphasis||{},(Yr.emphasis.scaleSize=null)&&(Yr.emphasis.scaleSize=Yr.hoverOffset))}else if(Zr==="gauge"){var Jr=get(Yr,"pointer.color");Jr!=null&&set(Yr,"itemStyle.color",Jr)}else if(Zr==="bar"){compatBarItemStyle(Yr),compatBarItemStyle(Yr.backgroundStyle),compatBarItemStyle(Yr.emphasis);var Kr=Yr.data;if(Kr&&!isTypedArray(Kr))for(var Qr=0;Qr<Kr.length;Qr++)typeof Kr[Qr]=="object"&&(compatBarItemStyle(Kr[Qr]),compatBarItemStyle(Kr[Qr]&&Kr[Qr].emphasis))}else if(Zr==="sunburst"){var en=Yr.highlightPolicy;en&&(Yr.emphasis=Yr.emphasis||{},Yr.emphasis.focus||(Yr.emphasis.focus=en)),compatSunburstState(Yr),traverseTree(Yr.data,compatSunburstState)}else Zr==="graph"||Zr==="sankey"?compatGraphFocus(Yr):Zr==="map"&&(Yr.mapType&&!Yr.map&&(Yr.map=Yr.mapType),Yr.mapLocation&&defaults(Yr,Yr.mapLocation));Yr.hoverAnimation!=null&&(Yr.emphasis=Yr.emphasis||{},Yr.emphasis&&Yr.emphasis.scale==null&&(Yr.emphasis.scale=Yr.hoverAnimation)),compatLayoutProperties(Yr)}}),Wr.dataRange&&(Wr.visualMap=Wr.dataRange),each$f(COMPATITABLE_COMPONENTS,function(Yr){var Zr=Wr[Yr];Zr&&(isArray$1(Zr)||(Zr=[Zr]),each$f(Zr,function(Kr){compatLayoutProperties(Kr)}))})}function dataStack(Wr){var Gr=createHashMap();Wr.eachSeries(function(Yr){var Zr=Yr.get("stack");if(Zr){var Kr=Gr.get(Zr)||Gr.set(Zr,[]),Qr=Yr.getData(),Jr={stackResultDimension:Qr.getCalculationInfo("stackResultDimension"),stackedOverDimension:Qr.getCalculationInfo("stackedOverDimension"),stackedDimension:Qr.getCalculationInfo("stackedDimension"),stackedByDimension:Qr.getCalculationInfo("stackedByDimension"),isStackedByIndex:Qr.getCalculationInfo("isStackedByIndex"),data:Qr,seriesModel:Yr};if(!Jr.stackedDimension||!(Jr.isStackedByIndex||Jr.stackedByDimension))return;Kr.length&&Qr.setCalculationInfo("stackedOnSeries",Kr[Kr.length-1].seriesModel),Kr.push(Jr)}}),Gr.each(calculateStack)}function calculateStack(Wr){each$f(Wr,function(Gr,Yr){var Zr=[],Kr=[NaN,NaN],Qr=[Gr.stackResultDimension,Gr.stackedOverDimension],Jr=Gr.data,en=Gr.isStackedByIndex,tn=Gr.seriesModel.get("stackStrategy")||"samesign";Jr.modify(Qr,function(rn,an,nn){var sn=Jr.get(Gr.stackedDimension,nn);if(isNaN(sn))return Kr;var ln,un;en?un=Jr.getRawIndex(nn):ln=Jr.get(Gr.stackedByDimension,nn);for(var cn=NaN,hn=Yr-1;hn>=0;hn--){var dn=Wr[hn];if(en||(un=dn.data.rawIndexOf(dn.stackedByDimension,ln)),un>=0){var fn=dn.data.getByRawIndex(dn.stackResultDimension,un);if(tn==="all"||tn==="positive"&&fn>0||tn==="negative"&&fn<0||tn==="samesign"&&sn>=0&&fn>0||tn==="samesign"&&sn<=0&&fn<0){sn=addSafe(sn,fn),cn=fn;break}}}return Zr[0]=sn,Zr[1]=cn,Zr})})}var SourceImpl=function(){function Wr(Gr){this.data=Gr.data||(Gr.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=Gr.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=Gr.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=Gr.startIndex||0,this.dimensionsDetectedCount=Gr.dimensionsDetectedCount,this.metaRawOption=Gr.metaRawOption;var Yr=this.dimensionsDefine=Gr.dimensionsDefine;if(Yr)for(var Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr];Kr.type==null&&guessOrdinal(this,Zr)===BE_ORDINAL.Must&&(Kr.type="ordinal")}}return Wr}();function isSourceInstance(Wr){return Wr instanceof SourceImpl}function createSource(Wr,Gr,Yr){Yr=Yr||detectSourceFormat(Wr);var Zr=Gr.seriesLayoutBy,Kr=determineSourceDimensions(Wr,Yr,Zr,Gr.sourceHeader,Gr.dimensions),Qr=new SourceImpl({data:Wr,sourceFormat:Yr,seriesLayoutBy:Zr,dimensionsDefine:Kr.dimensionsDefine,startIndex:Kr.startIndex,dimensionsDetectedCount:Kr.dimensionsDetectedCount,metaRawOption:clone$4(Gr)});return Qr}function createSourceFromSeriesDataOption(Wr){return new SourceImpl({data:Wr,sourceFormat:isTypedArray(Wr)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(Wr){return new SourceImpl({data:Wr.data,sourceFormat:Wr.sourceFormat,seriesLayoutBy:Wr.seriesLayoutBy,dimensionsDefine:clone$4(Wr.dimensionsDefine),startIndex:Wr.startIndex,dimensionsDetectedCount:Wr.dimensionsDetectedCount})}function detectSourceFormat(Wr){var Gr=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(Wr))Gr=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(Wr)){Wr.length===0&&(Gr=SOURCE_FORMAT_ARRAY_ROWS);for(var Yr=0,Zr=Wr.length;Yr<Zr;Yr++){var Kr=Wr[Yr];if(Kr!=null){if(isArray$1(Kr)||isTypedArray(Kr)){Gr=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(Kr)){Gr=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(Wr)){for(var Qr in Wr)if(hasOwn(Wr,Qr)&&isArrayLike(Wr[Qr])){Gr=SOURCE_FORMAT_KEYED_COLUMNS;break}}return Gr}function determineSourceDimensions(Wr,Gr,Yr,Zr,Kr){var Qr,Jr;if(!Wr)return{dimensionsDefine:normalizeDimensionsOption(Kr),startIndex:Jr,dimensionsDetectedCount:Qr};if(Gr===SOURCE_FORMAT_ARRAY_ROWS){var en=Wr;Zr==="auto"||Zr==null?arrayRowsTravelFirst(function(rn){rn!=null&&rn!=="-"&&(isString(rn)?Jr==null&&(Jr=1):Jr=0)},Yr,en,10):Jr=isNumber(Zr)?Zr:Zr?1:0,!Kr&&Jr===1&&(Kr=[],arrayRowsTravelFirst(function(rn,an){Kr[an]=rn!=null?rn+"":""},Yr,en,1/0)),Qr=Kr?Kr.length:Yr===SERIES_LAYOUT_BY_ROW?en.length:en[0]?en[0].length:null}else if(Gr===SOURCE_FORMAT_OBJECT_ROWS)Kr||(Kr=objectRowsCollectDimensions(Wr));else if(Gr===SOURCE_FORMAT_KEYED_COLUMNS)Kr||(Kr=[],each$f(Wr,function(rn,an){Kr.push(an)}));else if(Gr===SOURCE_FORMAT_ORIGINAL){var tn=getDataItemValue(Wr[0]);Qr=isArray$1(tn)&&tn.length||1}return{startIndex:Jr,dimensionsDefine:normalizeDimensionsOption(Kr),dimensionsDetectedCount:Qr}}function objectRowsCollectDimensions(Wr){for(var Gr=0,Yr;Gr<Wr.length&&!(Yr=Wr[Gr++]););if(Yr)return keys(Yr)}function normalizeDimensionsOption(Wr){if(Wr){var Gr=createHashMap();return map$1(Wr,function(Yr,Zr){Yr=isObject$3(Yr)?Yr:{name:Yr};var Kr={name:Yr.name,displayName:Yr.displayName,type:Yr.type};if(Kr.name==null)return Kr;Kr.name+="",Kr.displayName==null&&(Kr.displayName=Kr.name);var Qr=Gr.get(Kr.name);return Qr?Kr.name+="-"+Qr.count++:Gr.set(Kr.name,{count:1}),Kr})}}function arrayRowsTravelFirst(Wr,Gr,Yr,Zr){if(Gr===SERIES_LAYOUT_BY_ROW)for(var Kr=0;Kr<Yr.length&&Kr<Zr;Kr++)Wr(Yr[Kr]?Yr[Kr][0]:null,Kr);else for(var Qr=Yr[0]||[],Kr=0;Kr<Qr.length&&Kr<Zr;Kr++)Wr(Qr[Kr],Kr)}function shouldRetrieveDataByName(Wr){var Gr=Wr.sourceFormat;return Gr===SOURCE_FORMAT_OBJECT_ROWS||Gr===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function Wr(Gr,Yr){var Zr=isSourceInstance(Gr)?Gr:createSourceFromSeriesDataOption(Gr);this._source=Zr;var Kr=this._data=Zr.data;Zr.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=Yr,this._data=Kr),mountMethods(this,Kr,Zr)}return Wr.prototype.getSource=function(){return this._source},Wr.prototype.count=function(){return 0},Wr.prototype.getItem=function(Gr,Yr){},Wr.prototype.appendData=function(Gr){},Wr.prototype.clean=function(){},Wr.protoInitialize=function(){var Gr=Wr.prototype;Gr.pure=!1,Gr.persistent=!0}(),Wr.internalField=function(){var Gr;mountMethods=function(Jr,en,tn){var rn=tn.sourceFormat,an=tn.seriesLayoutBy,nn=tn.startIndex,sn=tn.dimensionsDefine,ln=providerMethods[getMethodMapKey(rn,an)];if(extend(Jr,ln),rn===SOURCE_FORMAT_TYPED_ARRAY)Jr.getItem=Yr,Jr.count=Kr,Jr.fillStorage=Zr;else{var un=getRawSourceItemGetter(rn,an);Jr.getItem=bind$1(un,null,en,nn,sn);var cn=getRawSourceDataCounter(rn,an);Jr.count=bind$1(cn,null,en,nn,sn)}};var Yr=function(Jr,en){Jr=Jr-this._offset,en=en||[];for(var tn=this._data,rn=this._dimSize,an=rn*Jr,nn=0;nn<rn;nn++)en[nn]=tn[an+nn];return en},Zr=function(Jr,en,tn,rn){for(var an=this._data,nn=this._dimSize,sn=0;sn<nn;sn++){for(var ln=rn[sn],un=ln[0]==null?1/0:ln[0],cn=ln[1]==null?-1/0:ln[1],hn=en-Jr,dn=tn[sn],fn=0;fn<hn;fn++){var pn=an[fn*nn+sn];dn[Jr+fn]=pn,pn<un&&(un=pn),pn>cn&&(cn=pn)}ln[0]=un,ln[1]=cn}},Kr=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(Gr={},Gr[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:Qr},Gr[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},Gr[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:Qr},Gr[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(Jr){var en=this._data;each$f(Jr,function(tn,rn){for(var an=en[rn]||(en[rn]=[]),nn=0;nn<(tn||[]).length;nn++)an.push(tn[nn])})}},Gr[SOURCE_FORMAT_ORIGINAL]={appendData:Qr},Gr[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(Jr){this._data=Jr},clean:function(){this._offset+=this.count(),this._data=null}},Gr);function Qr(Jr){for(var en=0;en<Jr.length;en++)this._data.push(Jr[en])}}(),Wr}(),getItemSimply=function(Wr,Gr,Yr,Zr){return Wr[Zr]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Wr,Gr,Yr,Zr){return Wr[Zr+Gr]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Wr,Gr,Yr,Zr,Kr){Zr+=Gr;for(var Qr=Kr||[],Jr=Wr,en=0;en<Jr.length;en++){var tn=Jr[en];Qr[en]=tn?tn[Zr]:null}return Qr},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(Wr,Gr,Yr,Zr,Kr){for(var Qr=Kr||[],Jr=0;Jr<Yr.length;Jr++){var en=Yr[Jr].name,tn=Wr[en];Qr[Jr]=tn?tn[Zr]:null}return Qr},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(Wr,Gr){var Yr=rawSourceItemGetterMap[getMethodMapKey(Wr,Gr)];return Yr}var countSimply=function(Wr,Gr,Yr){return Wr.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(Wr,Gr,Yr){return Math.max(0,Wr.length-Gr)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(Wr,Gr,Yr){var Zr=Wr[0];return Zr?Math.max(0,Zr.length-Gr):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(Wr,Gr,Yr){var Zr=Yr[0].name,Kr=Wr[Zr];return Kr?Kr.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(Wr,Gr){var Yr=rawSourceDataCounterMap[getMethodMapKey(Wr,Gr)];return Yr}var getRawValueSimply=function(Wr,Gr,Yr){return Wr[Gr]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(Wr,Gr,Yr){return Wr[Yr]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(Wr,Gr,Yr){var Zr=getDataItemValue(Wr);return Zr instanceof Array?Zr[Gr]:Zr},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(Wr){var Gr=rawSourceValueGetterMap[Wr];return Gr}function getMethodMapKey(Wr,Gr){return Wr===SOURCE_FORMAT_ARRAY_ROWS?Wr+"_"+Gr:Wr}function retrieveRawValue(Wr,Gr,Yr){if(Wr){var Zr=Wr.getRawDataItem(Gr);if(Zr!=null){var Kr=Wr.getStore(),Qr=Kr.getSource().sourceFormat;if(Yr!=null){var Jr=Wr.getDimensionIndex(Yr),en=Kr.getDimensionProperty(Jr);return getRawSourceValueGetter(Qr)(Zr,Jr,en)}else{var tn=Zr;return Qr===SOURCE_FORMAT_ORIGINAL&&(tn=getDataItemValue(Zr)),tn}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function Wr(){}return Wr.prototype.getDataParams=function(Gr,Yr){var Zr=this.getData(Yr),Kr=this.getRawValue(Gr,Yr),Qr=Zr.getRawIndex(Gr),Jr=Zr.getName(Gr),en=Zr.getRawDataItem(Gr),tn=Zr.getItemVisual(Gr,"style"),rn=tn&&tn[Zr.getItemVisual(Gr,"drawType")||"fill"],an=tn&&tn.stroke,nn=this.mainType,sn=nn==="series",ln=Zr.userOutput&&Zr.userOutput.get();return{componentType:nn,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:sn?this.subType:null,seriesIndex:this.seriesIndex,seriesId:sn?this.id:null,seriesName:sn?this.name:null,name:Jr,dataIndex:Qr,data:en,dataType:Yr,value:Kr,color:rn,borderColor:an,dimensionNames:ln?ln.fullDimensions:null,encode:ln?ln.encode:null,$vars:["seriesName","name","value"]}},Wr.prototype.getFormattedLabel=function(Gr,Yr,Zr,Kr,Qr,Jr){Yr=Yr||"normal";var en=this.getData(Zr),tn=this.getDataParams(Gr,Zr);if(Jr&&(tn.value=Jr.interpolatedValue),Kr!=null&&isArray$1(tn.value)&&(tn.value=tn.value[Kr]),!Qr){var rn=en.getItemModel(Gr);Qr=rn.get(Yr==="normal"?["label","formatter"]:[Yr,"label","formatter"])}if(isFunction(Qr))return tn.status=Yr,tn.dimensionIndex=Kr,Qr(tn);if(isString(Qr)){var an=formatTpl(Qr,tn);return an.replace(DIMENSION_LABEL_REG,function(nn,sn){var ln=sn.length,un=sn;un.charAt(0)==="["&&un.charAt(ln-1)==="]"&&(un=+un.slice(1,ln-1));var cn=retrieveRawValue(en,Gr,un);if(Jr&&isArray$1(Jr.interpolatedValue)){var hn=en.getDimensionIndex(un);hn>=0&&(cn=Jr.interpolatedValue[hn])}return cn!=null?cn+"":""})}},Wr.prototype.getRawValue=function(Gr,Yr){return retrieveRawValue(this.getData(Yr),Gr)},Wr.prototype.formatTooltip=function(Gr,Yr,Zr){},Wr}();function normalizeTooltipFormatResult(Wr){var Gr,Yr;return isObject$3(Wr)?Wr.type&&(Yr=Wr):Gr=Wr,{text:Gr,frag:Yr}}function createTask(Wr){return new Task(Wr)}var Task=function(){function Wr(Gr){Gr=Gr||{},this._reset=Gr.reset,this._plan=Gr.plan,this._count=Gr.count,this._onDirty=Gr.onDirty,this._dirty=!0}return Wr.prototype.perform=function(Gr){var Yr=this._upstream,Zr=Gr&&Gr.skip;if(this._dirty&&Yr){var Kr=this.context;Kr.data=Kr.outputData=Yr.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var Qr;this._plan&&!Zr&&(Qr=this._plan(this.context));var Jr=an(this._modBy),en=this._modDataCount||0,tn=an(Gr&&Gr.modBy),rn=Gr&&Gr.modDataCount||0;(Jr!==tn||en!==rn)&&(Qr="reset");function an(fn){return!(fn>=1)&&(fn=1),fn}var nn;(this._dirty||Qr==="reset")&&(this._dirty=!1,nn=this._doReset(Zr)),this._modBy=tn,this._modDataCount=rn;var sn=Gr&&Gr.step;if(Yr?this._dueEnd=Yr._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var ln=this._dueIndex,un=Math.min(sn!=null?this._dueIndex+sn:1/0,this._dueEnd);if(!Zr&&(nn||ln<un)){var cn=this._progress;if(isArray$1(cn))for(var hn=0;hn<cn.length;hn++)this._doProgress(cn[hn],ln,un,tn,rn);else this._doProgress(cn,ln,un,tn,rn)}this._dueIndex=un;var dn=this._settedOutputEnd!=null?this._settedOutputEnd:un;this._outputDueEnd=dn}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Wr.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Wr.prototype._doProgress=function(Gr,Yr,Zr,Kr,Qr){iterator.reset(Yr,Zr,Kr,Qr),this._callingProgress=Gr,this._callingProgress({start:Yr,end:Zr,count:Zr-Yr,next:iterator.next},this.context)},Wr.prototype._doReset=function(Gr){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var Yr,Zr;!Gr&&this._reset&&(Yr=this._reset(this.context),Yr&&Yr.progress&&(Zr=Yr.forceFirstProgress,Yr=Yr.progress),isArray$1(Yr)&&!Yr.length&&(Yr=null)),this._progress=Yr,this._modBy=this._modDataCount=null;var Kr=this._downstream;return Kr&&Kr.dirty(),Zr},Wr.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Wr.prototype.pipe=function(Gr){(this._downstream!==Gr||this._dirty)&&(this._downstream=Gr,Gr._upstream=this,Gr.dirty())},Wr.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Wr.prototype.getUpstream=function(){return this._upstream},Wr.prototype.getDownstream=function(){return this._downstream},Wr.prototype.setOutputEnd=function(Gr){this._outputDueEnd=this._settedOutputEnd=Gr},Wr}(),iterator=function(){var Wr,Gr,Yr,Zr,Kr,Qr={reset:function(tn,rn,an,nn){Gr=tn,Wr=rn,Yr=an,Zr=nn,Kr=Math.ceil(Zr/Yr),Qr.next=Yr>1&&Zr>0?en:Jr}};return Qr;function Jr(){return Gr<Wr?Gr++:null}function en(){var tn=Gr%Kr*Yr+Math.ceil(Gr/Kr),rn=Gr>=Wr?null:tn<Zr?tn:Gr;return Gr++,rn}}();function parseDataValue(Wr,Gr){var Yr=Gr&&Gr.type;return Yr==="ordinal"?Wr:(Yr==="time"&&!isNumber(Wr)&&Wr!=null&&Wr!=="-"&&(Wr=+parseDate(Wr)),Wr==null||Wr===""?NaN:Number(Wr))}var valueParserMap=createHashMap({number:function(Wr){return parseFloat(Wr)},time:function(Wr){return+parseDate(Wr)},trim:function(Wr){return isString(Wr)?trim$1(Wr):Wr}});function getRawValueParser(Wr){return valueParserMap.get(Wr)}var ORDER_COMPARISON_OP_MAP={lt:function(Wr,Gr){return Wr<Gr},lte:function(Wr,Gr){return Wr<=Gr},gt:function(Wr,Gr){return Wr>Gr},gte:function(Wr,Gr){return Wr>=Gr}},FilterOrderComparator=function(){function Wr(Gr,Yr){if(!isNumber(Yr)){var Zr="";throwError(Zr)}this._opFn=ORDER_COMPARISON_OP_MAP[Gr],this._rvalFloat=numericToNumber(Yr)}return Wr.prototype.evaluate=function(Gr){return isNumber(Gr)?this._opFn(Gr,this._rvalFloat):this._opFn(numericToNumber(Gr),this._rvalFloat)},Wr}(),SortOrderComparator=function(){function Wr(Gr,Yr){var Zr=Gr==="desc";this._resultLT=Zr?1:-1,Yr==null&&(Yr=Zr?"min":"max"),this._incomparable=Yr==="min"?-1/0:1/0}return Wr.prototype.evaluate=function(Gr,Yr){var Zr=isNumber(Gr)?Gr:numericToNumber(Gr),Kr=isNumber(Yr)?Yr:numericToNumber(Yr),Qr=isNaN(Zr),Jr=isNaN(Kr);if(Qr&&(Zr=this._incomparable),Jr&&(Kr=this._incomparable),Qr&&Jr){var en=isString(Gr),tn=isString(Yr);en&&(Zr=tn?Gr:0),tn&&(Kr=en?Yr:0)}return Zr<Kr?this._resultLT:Zr>Kr?-this._resultLT:0},Wr}(),FilterEqualityComparator=function(){function Wr(Gr,Yr){this._rval=Yr,this._isEQ=Gr,this._rvalTypeof=typeof Yr,this._rvalFloat=numericToNumber(Yr)}return Wr.prototype.evaluate=function(Gr){var Yr=Gr===this._rval;if(!Yr){var Zr=typeof Gr;Zr!==this._rvalTypeof&&(Zr==="number"||this._rvalTypeof==="number")&&(Yr=numericToNumber(Gr)===this._rvalFloat)}return this._isEQ?Yr:!Yr},Wr}();function createFilterComparator(Wr,Gr){return Wr==="eq"||Wr==="ne"?new FilterEqualityComparator(Wr==="eq",Gr):hasOwn(ORDER_COMPARISON_OP_MAP,Wr)?new FilterOrderComparator(Wr,Gr):null}var ExternalSource=function(){function Wr(){}return Wr.prototype.getRawData=function(){throw new Error("not supported")},Wr.prototype.getRawDataItem=function(Gr){throw new Error("not supported")},Wr.prototype.cloneRawData=function(){},Wr.prototype.getDimensionInfo=function(Gr){},Wr.prototype.cloneAllDimensionInfo=function(){},Wr.prototype.count=function(){},Wr.prototype.retrieveValue=function(Gr,Yr){},Wr.prototype.retrieveValueFromItem=function(Gr,Yr){},Wr.prototype.convertValue=function(Gr,Yr){return parseDataValue(Gr,Yr)},Wr}();function createExternalSource(Wr,Gr){var Yr=new ExternalSource,Zr=Wr.data,Kr=Yr.sourceFormat=Wr.sourceFormat,Qr=Wr.startIndex,Jr="";Wr.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(Jr);var en=[],tn={},rn=Wr.dimensionsDefine;if(rn)each$f(rn,function(cn,hn){var dn=cn.name,fn={index:hn,name:dn,displayName:cn.displayName};if(en.push(fn),dn!=null){var pn="";hasOwn(tn,dn)&&throwError(pn),tn[dn]=fn}});else for(var an=0;an<Wr.dimensionsDetectedCount;an++)en.push({index:an});var nn=getRawSourceItemGetter(Kr,SERIES_LAYOUT_BY_COLUMN);Gr.__isBuiltIn&&(Yr.getRawDataItem=function(cn){return nn(Zr,Qr,en,cn)},Yr.getRawData=bind$1(getRawData,null,Wr)),Yr.cloneRawData=bind$1(cloneRawData,null,Wr);var sn=getRawSourceDataCounter(Kr,SERIES_LAYOUT_BY_COLUMN);Yr.count=bind$1(sn,null,Zr,Qr,en);var ln=getRawSourceValueGetter(Kr);Yr.retrieveValue=function(cn,hn){var dn=nn(Zr,Qr,en,cn);return un(dn,hn)};var un=Yr.retrieveValueFromItem=function(cn,hn){if(cn!=null){var dn=en[hn];if(dn)return ln(cn,hn,dn.name)}};return Yr.getDimensionInfo=bind$1(getDimensionInfo,null,en,tn),Yr.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,en),Yr}function getRawData(Wr){var Gr=Wr.sourceFormat;if(!isSupportedSourceFormat(Gr)){var Yr="";throwError(Yr)}return Wr.data}function cloneRawData(Wr){var Gr=Wr.sourceFormat,Yr=Wr.data;if(!isSupportedSourceFormat(Gr)){var Zr="";throwError(Zr)}if(Gr===SOURCE_FORMAT_ARRAY_ROWS){for(var Kr=[],Qr=0,Jr=Yr.length;Qr<Jr;Qr++)Kr.push(Yr[Qr].slice());return Kr}else if(Gr===SOURCE_FORMAT_OBJECT_ROWS){for(var Kr=[],Qr=0,Jr=Yr.length;Qr<Jr;Qr++)Kr.push(extend({},Yr[Qr]));return Kr}}function getDimensionInfo(Wr,Gr,Yr){if(Yr!=null){if(isNumber(Yr)||!isNaN(Yr)&&!hasOwn(Gr,Yr))return Wr[Yr];if(hasOwn(Gr,Yr))return Gr[Yr]}}function cloneAllDimensionInfo(Wr){return clone$4(Wr)}var externalTransformMap=createHashMap();function registerExternalTransform(Wr){Wr=clone$4(Wr);var Gr=Wr.type,Yr="";Gr||throwError(Yr);var Zr=Gr.split(":");Zr.length!==2&&throwError(Yr);var Kr=!1;Zr[0]==="echarts"&&(Gr=Zr[1],Kr=!0),Wr.__isBuiltIn=Kr,externalTransformMap.set(Gr,Wr)}function applyDataTransform(Wr,Gr,Yr){var Zr=normalizeToArray(Wr),Kr=Zr.length,Qr="";Kr||throwError(Qr);for(var Jr=0,en=Kr;Jr<en;Jr++){var tn=Zr[Jr];Gr=applySingleDataTransform(tn,Gr),Jr!==en-1&&(Gr.length=Math.max(Gr.length,1))}return Gr}function applySingleDataTransform(Wr,Gr,Yr,Zr){var Kr="";Gr.length||throwError(Kr),isObject$3(Wr)||throwError(Kr);var Qr=Wr.type,Jr=externalTransformMap.get(Qr);Jr||throwError(Kr);var en=map$1(Gr,function(rn){return createExternalSource(rn,Jr)}),tn=normalizeToArray(Jr.transform({upstream:en[0],upstreamList:en,config:clone$4(Wr.config)}));return map$1(tn,function(rn,an){var nn="";isObject$3(rn)||throwError(nn),rn.data||throwError(nn);var sn=detectSourceFormat(rn.data);isSupportedSourceFormat(sn)||throwError(nn);var ln,un=Gr[0];if(un&&an===0&&!rn.dimensions){var cn=un.startIndex;cn&&(rn.data=un.data.slice(0,cn).concat(rn.data)),ln={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:cn,dimensions:un.metaRawOption.dimensions}}else ln={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:rn.dimensions};return createSource(rn.data,ln,null)})}function isSupportedSourceFormat(Wr){return Wr===SOURCE_FORMAT_ARRAY_ROWS||Wr===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(Wr){return Wr>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(Wr){var Gr=Wr.constructor;return Gr===Array?Wr.slice():new Gr(Wr)}function prepareStore(Wr,Gr,Yr,Zr,Kr){var Qr=dataCtors[Yr||"float"];if(Kr){var Jr=Wr[Gr],en=Jr&&Jr.length;if(en!==Zr){for(var tn=new Qr(Zr),rn=0;rn<en;rn++)tn[rn]=Jr[rn];Wr[Gr]=tn}}else Wr[Gr]=new Qr(Zr)}var DataStore=function(){function Wr(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return Wr.prototype.initData=function(Gr,Yr,Zr){this._provider=Gr,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var Kr=Gr.getSource(),Qr=this.defaultDimValueGetter=defaultDimValueGetters[Kr.sourceFormat];this._dimValueGetter=Zr||Qr,this._rawExtent=[],shouldRetrieveDataByName(Kr),this._dimensions=map$1(Yr,function(Jr){return{type:Jr.type,property:Jr.property}}),this._initDataFromProvider(0,Gr.count())},Wr.prototype.getProvider=function(){return this._provider},Wr.prototype.getSource=function(){return this._provider.getSource()},Wr.prototype.ensureCalculationDimension=function(Gr,Yr){var Zr=this._calcDimNameToIdx,Kr=this._dimensions,Qr=Zr.get(Gr);if(Qr!=null){if(Kr[Qr].type===Yr)return Qr}else Qr=Kr.length;return Kr[Qr]={type:Yr},Zr.set(Gr,Qr),this._chunks[Qr]=new dataCtors[Yr||"float"](this._rawCount),this._rawExtent[Qr]=getInitialExtent(),Qr},Wr.prototype.collectOrdinalMeta=function(Gr,Yr){var Zr=this._chunks[Gr],Kr=this._dimensions[Gr],Qr=this._rawExtent,Jr=Kr.ordinalOffset||0,en=Zr.length;Jr===0&&(Qr[Gr]=getInitialExtent());for(var tn=Qr[Gr],rn=Jr;rn<en;rn++){var an=Zr[rn]=Yr.parseAndCollect(Zr[rn]);isNaN(an)||(tn[0]=Math.min(an,tn[0]),tn[1]=Math.max(an,tn[1]))}Kr.ordinalMeta=Yr,Kr.ordinalOffset=en,Kr.type="ordinal"},Wr.prototype.getOrdinalMeta=function(Gr){var Yr=this._dimensions[Gr],Zr=Yr.ordinalMeta;return Zr},Wr.prototype.getDimensionProperty=function(Gr){var Yr=this._dimensions[Gr];return Yr&&Yr.property},Wr.prototype.appendData=function(Gr){var Yr=this._provider,Zr=this.count();Yr.appendData(Gr);var Kr=Yr.count();return Yr.persistent||(Kr+=Zr),Zr<Kr&&this._initDataFromProvider(Zr,Kr,!0),[Zr,Kr]},Wr.prototype.appendValues=function(Gr,Yr){for(var Zr=this._chunks,Kr=this._dimensions,Qr=Kr.length,Jr=this._rawExtent,en=this.count(),tn=en+Math.max(Gr.length,Yr||0),rn=0;rn<Qr;rn++){var an=Kr[rn];prepareStore(Zr,rn,an.type,tn,!0)}for(var nn=[],sn=en;sn<tn;sn++)for(var ln=sn-en,un=0;un<Qr;un++){var an=Kr[un],cn=defaultDimValueGetters.arrayRows.call(this,Gr[ln]||nn,an.property,ln,un);Zr[un][sn]=cn;var hn=Jr[un];cn<hn[0]&&(hn[0]=cn),cn>hn[1]&&(hn[1]=cn)}return this._rawCount=this._count=tn,{start:en,end:tn}},Wr.prototype._initDataFromProvider=function(Gr,Yr,Zr){for(var Kr=this._provider,Qr=this._chunks,Jr=this._dimensions,en=Jr.length,tn=this._rawExtent,rn=map$1(Jr,function(fn){return fn.property}),an=0;an<en;an++){var nn=Jr[an];tn[an]||(tn[an]=getInitialExtent()),prepareStore(Qr,an,nn.type,Yr,Zr)}if(Kr.fillStorage)Kr.fillStorage(Gr,Yr,Qr,tn);else for(var sn=[],ln=Gr;ln<Yr;ln++){sn=Kr.getItem(ln,sn);for(var un=0;un<en;un++){var cn=Qr[un],hn=this._dimValueGetter(sn,rn[un],ln,un);cn[ln]=hn;var dn=tn[un];hn<dn[0]&&(dn[0]=hn),hn>dn[1]&&(dn[1]=hn)}}!Kr.persistent&&Kr.clean&&Kr.clean(),this._rawCount=this._count=Yr,this._extent=[]},Wr.prototype.count=function(){return this._count},Wr.prototype.get=function(Gr,Yr){if(!(Yr>=0&&Yr<this._count))return NaN;var Zr=this._chunks[Gr];return Zr?Zr[this.getRawIndex(Yr)]:NaN},Wr.prototype.getValues=function(Gr,Yr){var Zr=[],Kr=[];if(Yr==null){Yr=Gr,Gr=[];for(var Qr=0;Qr<this._dimensions.length;Qr++)Kr.push(Qr)}else Kr=Gr;for(var Qr=0,Jr=Kr.length;Qr<Jr;Qr++)Zr.push(this.get(Kr[Qr],Yr));return Zr},Wr.prototype.getByRawIndex=function(Gr,Yr){if(!(Yr>=0&&Yr<this._rawCount))return NaN;var Zr=this._chunks[Gr];return Zr?Zr[Yr]:NaN},Wr.prototype.getSum=function(Gr){var Yr=this._chunks[Gr],Zr=0;if(Yr)for(var Kr=0,Qr=this.count();Kr<Qr;Kr++){var Jr=this.get(Gr,Kr);isNaN(Jr)||(Zr+=Jr)}return Zr},Wr.prototype.getMedian=function(Gr){var Yr=[];this.each([Gr],function(Qr){isNaN(Qr)||Yr.push(Qr)});var Zr=Yr.sort(function(Qr,Jr){return Qr-Jr}),Kr=this.count();return Kr===0?0:Kr%2===1?Zr[(Kr-1)/2]:(Zr[Kr/2]+Zr[Kr/2-1])/2},Wr.prototype.indexOfRawIndex=function(Gr){if(Gr>=this._rawCount||Gr<0)return-1;if(!this._indices)return Gr;var Yr=this._indices,Zr=Yr[Gr];if(Zr!=null&&Zr<this._count&&Zr===Gr)return Gr;for(var Kr=0,Qr=this._count-1;Kr<=Qr;){var Jr=(Kr+Qr)/2|0;if(Yr[Jr]<Gr)Kr=Jr+1;else if(Yr[Jr]>Gr)Qr=Jr-1;else return Jr}return-1},Wr.prototype.indicesOfNearest=function(Gr,Yr,Zr){var Kr=this._chunks,Qr=Kr[Gr],Jr=[];if(!Qr)return Jr;Zr==null&&(Zr=1/0);for(var en=1/0,tn=-1,rn=0,an=0,nn=this.count();an<nn;an++){var sn=this.getRawIndex(an),ln=Yr-Qr[sn],un=Math.abs(ln);un<=Zr&&((un<en||un===en&&ln>=0&&tn<0)&&(en=un,tn=ln,rn=0),ln===tn&&(Jr[rn++]=an))}return Jr.length=rn,Jr},Wr.prototype.getIndices=function(){var Gr,Yr=this._indices;if(Yr){var Zr=Yr.constructor,Kr=this._count;if(Zr===Array){Gr=new Zr(Kr);for(var Qr=0;Qr<Kr;Qr++)Gr[Qr]=Yr[Qr]}else Gr=new Zr(Yr.buffer,0,Kr)}else{var Zr=getIndicesCtor(this._rawCount);Gr=new Zr(this.count());for(var Qr=0;Qr<Gr.length;Qr++)Gr[Qr]=Qr}return Gr},Wr.prototype.filter=function(Gr,Yr){if(!this._count)return this;for(var Zr=this.clone(),Kr=Zr.count(),Qr=getIndicesCtor(Zr._rawCount),Jr=new Qr(Kr),en=[],tn=Gr.length,rn=0,an=Gr[0],nn=Zr._chunks,sn=0;sn<Kr;sn++){var ln=void 0,un=Zr.getRawIndex(sn);if(tn===0)ln=Yr(sn);else if(tn===1){var cn=nn[an][un];ln=Yr(cn,sn)}else{for(var hn=0;hn<tn;hn++)en[hn]=nn[Gr[hn]][un];en[hn]=sn,ln=Yr.apply(null,en)}ln&&(Jr[rn++]=un)}return rn<Kr&&(Zr._indices=Jr),Zr._count=rn,Zr._extent=[],Zr._updateGetRawIdx(),Zr},Wr.prototype.selectRange=function(Gr){var Yr=this.clone(),Zr=Yr._count;if(!Zr)return this;var Kr=keys(Gr),Qr=Kr.length;if(!Qr)return this;var Jr=Yr.count(),en=getIndicesCtor(Yr._rawCount),tn=new en(Jr),rn=0,an=Kr[0],nn=Gr[an][0],sn=Gr[an][1],ln=Yr._chunks,un=!1;if(!Yr._indices){var cn=0;if(Qr===1){for(var hn=ln[Kr[0]],dn=0;dn<Zr;dn++){var fn=hn[dn];(fn>=nn&&fn<=sn||isNaN(fn))&&(tn[rn++]=cn),cn++}un=!0}else if(Qr===2){for(var hn=ln[Kr[0]],pn=ln[Kr[1]],gn=Gr[Kr[1]][0],vn=Gr[Kr[1]][1],dn=0;dn<Zr;dn++){var fn=hn[dn],mn=pn[dn];(fn>=nn&&fn<=sn||isNaN(fn))&&(mn>=gn&&mn<=vn||isNaN(mn))&&(tn[rn++]=cn),cn++}un=!0}}if(!un)if(Qr===1)for(var dn=0;dn<Jr;dn++){var yn=Yr.getRawIndex(dn),fn=ln[Kr[0]][yn];(fn>=nn&&fn<=sn||isNaN(fn))&&(tn[rn++]=yn)}else for(var dn=0;dn<Jr;dn++){for(var xn=!0,yn=Yr.getRawIndex(dn),bn=0;bn<Qr;bn++){var Sn=Kr[bn],fn=ln[Sn][yn];(fn<Gr[Sn][0]||fn>Gr[Sn][1])&&(xn=!1)}xn&&(tn[rn++]=Yr.getRawIndex(dn))}return rn<Jr&&(Yr._indices=tn),Yr._count=rn,Yr._extent=[],Yr._updateGetRawIdx(),Yr},Wr.prototype.map=function(Gr,Yr){var Zr=this.clone(Gr);return this._updateDims(Zr,Gr,Yr),Zr},Wr.prototype.modify=function(Gr,Yr){this._updateDims(this,Gr,Yr)},Wr.prototype._updateDims=function(Gr,Yr,Zr){for(var Kr=Gr._chunks,Qr=[],Jr=Yr.length,en=Gr.count(),tn=[],rn=Gr._rawExtent,an=0;an<Yr.length;an++)rn[Yr[an]]=getInitialExtent();for(var nn=0;nn<en;nn++){for(var sn=Gr.getRawIndex(nn),ln=0;ln<Jr;ln++)tn[ln]=Kr[Yr[ln]][sn];tn[Jr]=nn;var un=Zr&&Zr.apply(null,tn);if(un!=null){typeof un!="object"&&(Qr[0]=un,un=Qr);for(var an=0;an<un.length;an++){var cn=Yr[an],hn=un[an],dn=rn[cn],fn=Kr[cn];fn&&(fn[sn]=hn),hn<dn[0]&&(dn[0]=hn),hn>dn[1]&&(dn[1]=hn)}}}},Wr.prototype.lttbDownSample=function(Gr,Yr){var Zr=this.clone([Gr],!0),Kr=Zr._chunks,Qr=Kr[Gr],Jr=this.count(),en=0,tn=Math.floor(1/Yr),rn=this.getRawIndex(0),an,nn,sn,ln=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(Jr/tn)+2)*2,Jr));ln[en++]=rn;for(var un=1;un<Jr-1;un+=tn){for(var cn=Math.min(un+tn,Jr-1),hn=Math.min(un+tn*2,Jr),dn=(hn+cn)/2,fn=0,pn=cn;pn<hn;pn++){var gn=this.getRawIndex(pn),vn=Qr[gn];isNaN(vn)||(fn+=vn)}fn/=hn-cn;var mn=un,yn=Math.min(un+tn,Jr),xn=un-1,bn=Qr[rn];an=-1,sn=mn;for(var Sn=-1,wn=0,pn=mn;pn<yn;pn++){var gn=this.getRawIndex(pn),vn=Qr[gn];if(isNaN(vn)){wn++,Sn<0&&(Sn=gn);continue}nn=Math.abs((xn-dn)*(vn-bn)-(xn-pn)*(fn-bn)),nn>an&&(an=nn,sn=gn)}wn>0&&wn<yn-mn&&(ln[en++]=Math.min(Sn,sn),sn=Math.max(Sn,sn)),ln[en++]=sn,rn=sn}return ln[en++]=this.getRawIndex(Jr-1),Zr._count=en,Zr._indices=ln,Zr.getRawIndex=this._getRawIdx,Zr},Wr.prototype.minmaxDownSample=function(Gr,Yr){for(var Zr=this.clone([Gr],!0),Kr=Zr._chunks,Qr=Math.floor(1/Yr),Jr=Kr[Gr],en=this.count(),tn=new(getIndicesCtor(this._rawCount))(Math.ceil(en/Qr)*2),rn=0,an=0;an<en;an+=Qr){var nn=an,sn=Jr[this.getRawIndex(nn)],ln=an,un=Jr[this.getRawIndex(ln)],cn=Qr;an+Qr>en&&(cn=en-an);for(var hn=0;hn<cn;hn++){var dn=this.getRawIndex(an+hn),fn=Jr[dn];fn<sn&&(sn=fn,nn=an+hn),fn>un&&(un=fn,ln=an+hn)}var pn=this.getRawIndex(nn),gn=this.getRawIndex(ln);nn<ln?(tn[rn++]=pn,tn[rn++]=gn):(tn[rn++]=gn,tn[rn++]=pn)}return Zr._count=rn,Zr._indices=tn,Zr._updateGetRawIdx(),Zr},Wr.prototype.downSample=function(Gr,Yr,Zr,Kr){for(var Qr=this.clone([Gr],!0),Jr=Qr._chunks,en=[],tn=Math.floor(1/Yr),rn=Jr[Gr],an=this.count(),nn=Qr._rawExtent[Gr]=getInitialExtent(),sn=new(getIndicesCtor(this._rawCount))(Math.ceil(an/tn)),ln=0,un=0;un<an;un+=tn){tn>an-un&&(tn=an-un,en.length=tn);for(var cn=0;cn<tn;cn++){var hn=this.getRawIndex(un+cn);en[cn]=rn[hn]}var dn=Zr(en),fn=this.getRawIndex(Math.min(un+Kr(en,dn)||0,an-1));rn[fn]=dn,dn<nn[0]&&(nn[0]=dn),dn>nn[1]&&(nn[1]=dn),sn[ln++]=fn}return Qr._count=ln,Qr._indices=sn,Qr._updateGetRawIdx(),Qr},Wr.prototype.each=function(Gr,Yr){if(this._count)for(var Zr=Gr.length,Kr=this._chunks,Qr=0,Jr=this.count();Qr<Jr;Qr++){var en=this.getRawIndex(Qr);switch(Zr){case 0:Yr(Qr);break;case 1:Yr(Kr[Gr[0]][en],Qr);break;case 2:Yr(Kr[Gr[0]][en],Kr[Gr[1]][en],Qr);break;default:for(var tn=0,rn=[];tn<Zr;tn++)rn[tn]=Kr[Gr[tn]][en];rn[tn]=Qr,Yr.apply(null,rn)}}},Wr.prototype.getDataExtent=function(Gr){var Yr=this._chunks[Gr],Zr=getInitialExtent();if(!Yr)return Zr;var Kr=this.count(),Qr=!this._indices,Jr;if(Qr)return this._rawExtent[Gr].slice();if(Jr=this._extent[Gr],Jr)return Jr.slice();Jr=Zr;for(var en=Jr[0],tn=Jr[1],rn=0;rn<Kr;rn++){var an=this.getRawIndex(rn),nn=Yr[an];nn<en&&(en=nn),nn>tn&&(tn=nn)}return Jr=[en,tn],this._extent[Gr]=Jr,Jr},Wr.prototype.getRawDataItem=function(Gr){var Yr=this.getRawIndex(Gr);if(this._provider.persistent)return this._provider.getItem(Yr);for(var Zr=[],Kr=this._chunks,Qr=0;Qr<Kr.length;Qr++)Zr.push(Kr[Qr][Yr]);return Zr},Wr.prototype.clone=function(Gr,Yr){var Zr=new Wr,Kr=this._chunks,Qr=Gr&&reduce(Gr,function(en,tn){return en[tn]=!0,en},{});if(Qr)for(var Jr=0;Jr<Kr.length;Jr++)Zr._chunks[Jr]=Qr[Jr]?cloneChunk(Kr[Jr]):Kr[Jr];else Zr._chunks=Kr;return this._copyCommonProps(Zr),Yr||(Zr._indices=this._cloneIndices()),Zr._updateGetRawIdx(),Zr},Wr.prototype._copyCommonProps=function(Gr){Gr._count=this._count,Gr._rawCount=this._rawCount,Gr._provider=this._provider,Gr._dimensions=this._dimensions,Gr._extent=clone$4(this._extent),Gr._rawExtent=clone$4(this._rawExtent)},Wr.prototype._cloneIndices=function(){if(this._indices){var Gr=this._indices.constructor,Yr=void 0;if(Gr===Array){var Zr=this._indices.length;Yr=new Gr(Zr);for(var Kr=0;Kr<Zr;Kr++)Yr[Kr]=this._indices[Kr]}else Yr=new Gr(this._indices);return Yr}return null},Wr.prototype._getRawIdxIdentity=function(Gr){return Gr},Wr.prototype._getRawIdx=function(Gr){return Gr<this._count&&Gr>=0?this._indices[Gr]:-1},Wr.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},Wr.internalField=function(){function Gr(Yr,Zr,Kr,Qr){return parseDataValue(Yr[Qr],this._dimensions[Qr])}defaultDimValueGetters={arrayRows:Gr,objectRows:function(Yr,Zr,Kr,Qr){return parseDataValue(Yr[Zr],this._dimensions[Qr])},keyedColumns:Gr,original:function(Yr,Zr,Kr,Qr){var Jr=Yr&&(Yr.value==null?Yr:Yr.value);return parseDataValue(Jr instanceof Array?Jr[Qr]:Jr,this._dimensions[Qr])},typedArray:function(Yr,Zr,Kr,Qr){return Yr[Qr]}}}(),Wr}(),SourceManager=function(){function Wr(Gr){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=Gr}return Wr.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},Wr.prototype._setLocalSource=function(Gr,Yr){this._sourceList=Gr,this._upstreamSignList=Yr,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},Wr.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},Wr.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},Wr.prototype._createSource=function(){this._setLocalSource([],[]);var Gr=this._sourceHost,Yr=this._getUpstreamSourceManagers(),Zr=!!Yr.length,Kr,Qr;if(isSeries(Gr)){var Jr=Gr,en=void 0,tn=void 0,rn=void 0;if(Zr){var an=Yr[0];an.prepareSource(),rn=an.getSource(),en=rn.data,tn=rn.sourceFormat,Qr=[an._getVersionSign()]}else en=Jr.get("data",!0),tn=isTypedArray(en)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,Qr=[];var nn=this._getSourceMetaRawOption()||{},sn=rn&&rn.metaRawOption||{},ln=retrieve2(nn.seriesLayoutBy,sn.seriesLayoutBy)||null,un=retrieve2(nn.sourceHeader,sn.sourceHeader),cn=retrieve2(nn.dimensions,sn.dimensions),hn=ln!==sn.seriesLayoutBy||!!un!=!!sn.sourceHeader||cn;Kr=hn?[createSource(en,{seriesLayoutBy:ln,sourceHeader:un,dimensions:cn},tn)]:[]}else{var dn=Gr;if(Zr){var fn=this._applyTransform(Yr);Kr=fn.sourceList,Qr=fn.upstreamSignList}else{var pn=dn.get("source",!0);Kr=[createSource(pn,this._getSourceMetaRawOption(),null)],Qr=[]}}this._setLocalSource(Kr,Qr)},Wr.prototype._applyTransform=function(Gr){var Yr=this._sourceHost,Zr=Yr.get("transform",!0),Kr=Yr.get("fromTransformResult",!0);if(Kr!=null){var Qr="";Gr.length!==1&&doThrow(Qr)}var Jr,en=[],tn=[];return each$f(Gr,function(rn){rn.prepareSource();var an=rn.getSource(Kr||0),nn="";Kr!=null&&!an&&doThrow(nn),en.push(an),tn.push(rn._getVersionSign())}),Zr?Jr=applyDataTransform(Zr,en,{datasetIndex:Yr.componentIndex}):Kr!=null&&(Jr=[cloneSourceShallow(en[0])]),{sourceList:Jr,upstreamSignList:tn}},Wr.prototype._isDirty=function(){if(this._dirty)return!0;for(var Gr=this._getUpstreamSourceManagers(),Yr=0;Yr<Gr.length;Yr++){var Zr=Gr[Yr];if(Zr._isDirty()||this._upstreamSignList[Yr]!==Zr._getVersionSign())return!0}},Wr.prototype.getSource=function(Gr){Gr=Gr||0;var Yr=this._sourceList[Gr];if(!Yr){var Zr=this._getUpstreamSourceManagers();return Zr[0]&&Zr[0].getSource(Gr)}return Yr},Wr.prototype.getSharedDataStore=function(Gr){var Yr=Gr.makeStoreSchema();return this._innerGetDataStore(Yr.dimensions,Gr.source,Yr.hash)},Wr.prototype._innerGetDataStore=function(Gr,Yr,Zr){var Kr=0,Qr=this._storeList,Jr=Qr[Kr];Jr||(Jr=Qr[Kr]={});var en=Jr[Zr];if(!en){var tn=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&tn?en=tn._innerGetDataStore(Gr,Yr,Zr):(en=new DataStore,en.initData(new DefaultDataProvider(Yr,Gr.length),Gr)),Jr[Zr]=en}return en},Wr.prototype._getUpstreamSourceManagers=function(){var Gr=this._sourceHost;if(isSeries(Gr)){var Yr=querySeriesUpstreamDatasetModel(Gr);return Yr?[Yr.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(Gr),function(Zr){return Zr.getSourceManager()})},Wr.prototype._getSourceMetaRawOption=function(){var Gr=this._sourceHost,Yr,Zr,Kr;if(isSeries(Gr))Yr=Gr.get("seriesLayoutBy",!0),Zr=Gr.get("sourceHeader",!0),Kr=Gr.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var Qr=Gr;Yr=Qr.get("seriesLayoutBy",!0),Zr=Qr.get("sourceHeader",!0),Kr=Qr.get("dimensions",!0)}return{seriesLayoutBy:Yr,sourceHeader:Zr,dimensions:Kr}},Wr}();function disableTransformOptionMerge(Wr){var Gr=Wr.option.transform;Gr&&setAsPrimitive(Wr.option.transform)}function isSeries(Wr){return Wr.mainType==="series"}function doThrow(Wr){throw new Error(Wr)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(Wr){var Gr=Wr.lineHeight;return Gr==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(Gr+"")+"px"}function getTooltipTextStyle(Wr,Gr){var Yr=Wr.color||"#6e7079",Zr=Wr.fontSize||12,Kr=Wr.fontWeight||"400",Qr=Wr.color||"#464646",Jr=Wr.fontSize||14,en=Wr.fontWeight||"900";return Gr==="html"?{nameStyle:"font-size:"+encodeHTML(Zr+"")+"px;color:"+encodeHTML(Yr)+";font-weight:"+encodeHTML(Kr+""),valueStyle:"font-size:"+encodeHTML(Jr+"")+"px;color:"+encodeHTML(Qr)+";font-weight:"+encodeHTML(en+"")}:{nameStyle:{fontSize:Zr,fill:Yr,fontWeight:Kr},valueStyle:{fontSize:Jr,fill:Qr,fontWeight:en}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(Wr,Gr){return Gr.type=Wr,Gr}function isSectionFragment(Wr){return Wr.type==="section"}function getBuilder(Wr){return isSectionFragment(Wr)?buildSection:buildNameValue}function getBlockGapLevel(Wr){if(isSectionFragment(Wr)){var Gr=0,Yr=Wr.blocks.length,Zr=Yr>1||Yr>0&&!Wr.noHeader;return each$f(Wr.blocks,function(Kr){var Qr=getBlockGapLevel(Kr);Qr>=Gr&&(Gr=Qr+ +(Zr&&(!Qr||isSectionFragment(Kr)&&!Kr.noHeader)))}),Gr}return 0}function buildSection(Wr,Gr,Yr,Zr){var Kr=Gr.noHeader,Qr=getGap(getBlockGapLevel(Gr)),Jr=[],en=Gr.blocks||[];assert(!en||isArray$1(en)),en=en||[];var tn=Wr.orderMode;if(Gr.sortBlocks&&tn){en=en.slice();var rn={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(rn,tn)){var an=new SortOrderComparator(rn[tn],null);en.sort(function(cn,hn){return an.evaluate(cn.sortParam,hn.sortParam)})}else tn==="seriesDesc"&&en.reverse()}each$f(en,function(cn,hn){var dn=Gr.valueFormatter,fn=getBuilder(cn)(dn?extend(extend({},Wr),{valueFormatter:dn}):Wr,cn,hn>0?Qr.html:0,Zr);fn!=null&&Jr.push(fn)});var nn=Wr.renderMode==="richText"?Jr.join(Qr.richText):wrapBlockHTML(Zr,Jr.join(""),Kr?Yr:Qr.html);if(Kr)return nn;var sn=makeValueReadable(Gr.header,"ordinal",Wr.useUTC),ln=getTooltipTextStyle(Zr,Wr.renderMode).nameStyle,un=getTooltipLineHeight(Zr);return Wr.renderMode==="richText"?wrapInlineNameRichText(Wr,sn,ln)+Qr.richText+nn:wrapBlockHTML(Zr,'<div style="'+ln+";"+un+';">'+encodeHTML(sn)+"</div>"+nn,Yr)}function buildNameValue(Wr,Gr,Yr,Zr){var Kr=Wr.renderMode,Qr=Gr.noName,Jr=Gr.noValue,en=!Gr.markerType,tn=Gr.name,rn=Wr.useUTC,an=Gr.valueFormatter||Wr.valueFormatter||function(gn){return gn=isArray$1(gn)?gn:[gn],map$1(gn,function(vn,mn){return makeValueReadable(vn,isArray$1(ln)?ln[mn]:ln,rn)})};if(!(Qr&&Jr)){var nn=en?"":Wr.markupStyleCreator.makeTooltipMarker(Gr.markerType,Gr.markerColor||"#333",Kr),sn=Qr?"":makeValueReadable(tn,"ordinal",rn),ln=Gr.valueType,un=Jr?[]:an(Gr.value,Gr.dataIndex),cn=!en||!Qr,hn=!en&&Qr,dn=getTooltipTextStyle(Zr,Kr),fn=dn.nameStyle,pn=dn.valueStyle;return Kr==="richText"?(en?"":nn)+(Qr?"":wrapInlineNameRichText(Wr,sn,fn))+(Jr?"":wrapInlineValueRichText(Wr,un,cn,hn,pn)):wrapBlockHTML(Zr,(en?"":nn)+(Qr?"":wrapInlineNameHTML(sn,!en,fn))+(Jr?"":wrapInlineValueHTML(un,cn,hn,pn)),Yr)}}function buildTooltipMarkup(Wr,Gr,Yr,Zr,Kr,Qr){if(Wr){var Jr=getBuilder(Wr),en={useUTC:Kr,renderMode:Yr,orderMode:Zr,markupStyleCreator:Gr,valueFormatter:Wr.valueFormatter};return Jr(en,Wr,0,Qr)}}function getGap(Wr){return{html:HTML_GAPS[Wr],richText:RICH_TEXT_GAPS[Wr]}}function wrapBlockHTML(Wr,Gr,Yr){var Zr='<div style="clear:both"></div>',Kr="margin: "+Yr+"px 0 0",Qr=getTooltipLineHeight(Wr);return'<div style="'+Kr+";"+Qr+';">'+Gr+Zr+"</div>"}function wrapInlineNameHTML(Wr,Gr,Yr){var Zr=Gr?"margin-left:2px":"";return'<span style="'+Yr+";"+Zr+'">'+encodeHTML(Wr)+"</span>"}function wrapInlineValueHTML(Wr,Gr,Yr,Zr){var Kr=Yr?"10px":"20px",Qr=Gr?"float:right;margin-left:"+Kr:"";return Wr=isArray$1(Wr)?Wr:[Wr],'<span style="'+Qr+";"+Zr+'">'+map$1(Wr,function(Jr){return encodeHTML(Jr)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(Wr,Gr,Yr){return Wr.markupStyleCreator.wrapRichTextStyle(Gr,Yr)}function wrapInlineValueRichText(Wr,Gr,Yr,Zr,Kr){var Qr=[Kr],Jr=Zr?10:20;return Yr&&Qr.push({padding:[0,0,0,Jr],align:"right"}),Wr.markupStyleCreator.wrapRichTextStyle(isArray$1(Gr)?Gr.join("  "):Gr,Qr)}function retrieveVisualColorForTooltipMarker(Wr,Gr){var Yr=Wr.getData().getItemVisual(Gr,"style"),Zr=Yr[Wr.visualDrawType];return convertToColorString(Zr)}function getPaddingFromTooltipModel(Wr,Gr){var Yr=Wr.get("padding");return Yr??(Gr==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function Wr(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return Wr.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},Wr.prototype.makeTooltipMarker=function(Gr,Yr,Zr){var Kr=Zr==="richText"?this._generateStyleName():null,Qr=getTooltipMarker({color:Yr,type:Gr,renderMode:Zr,markerId:Kr});return isString(Qr)?Qr:(this.richTextStyles[Kr]=Qr.style,Qr.content)},Wr.prototype.wrapRichTextStyle=function(Gr,Yr){var Zr={};isArray$1(Yr)?each$f(Yr,function(Qr){return extend(Zr,Qr)}):extend(Zr,Yr);var Kr=this._generateStyleName();return this.richTextStyles[Kr]=Zr,"{"+Kr+"|"+Gr+"}"},Wr}();function defaultSeriesFormatTooltip(Wr){var Gr=Wr.series,Yr=Wr.dataIndex,Zr=Wr.multipleSeries,Kr=Gr.getData(),Qr=Kr.mapDimensionsAll("defaultedTooltip"),Jr=Qr.length,en=Gr.getRawValue(Yr),tn=isArray$1(en),rn=retrieveVisualColorForTooltipMarker(Gr,Yr),an,nn,sn,ln;if(Jr>1||tn&&!Jr){var un=formatTooltipArrayValue(en,Gr,Yr,Qr,rn);an=un.inlineValues,nn=un.inlineValueTypes,sn=un.blocks,ln=un.inlineValues[0]}else if(Jr){var cn=Kr.getDimensionInfo(Qr[0]);ln=an=retrieveRawValue(Kr,Yr,Qr[0]),nn=cn.type}else ln=an=tn?en[0]:en;var hn=isNameSpecified(Gr),dn=hn&&Gr.name||"",fn=Kr.getName(Yr),pn=Zr?dn:fn;return createTooltipMarkup("section",{header:dn,noHeader:Zr||!hn,sortParam:ln,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:rn,name:pn,noName:!trim$1(pn),value:an,valueType:nn,dataIndex:Yr})].concat(sn||[])})}function formatTooltipArrayValue(Wr,Gr,Yr,Zr,Kr){var Qr=Gr.getData(),Jr=reduce(Wr,function(nn,sn,ln){var un=Qr.getDimensionInfo(ln);return nn=nn||un&&un.tooltip!==!1&&un.displayName!=null},!1),en=[],tn=[],rn=[];Zr.length?each$f(Zr,function(nn){an(retrieveRawValue(Qr,Yr,nn),nn)}):each$f(Wr,an);function an(nn,sn){var ln=Qr.getDimensionInfo(sn);!ln||ln.otherDims.tooltip===!1||(Jr?rn.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:Kr,name:ln.displayName,value:nn,valueType:ln.type})):(en.push(nn),tn.push(ln.type)))}return{inlineValues:en,inlineValueTypes:tn,blocks:rn}}var inner$k=makeInner();function getSelectionKey(Wr,Gr){return Wr.getName(Gr)||Wr.getId(Gr)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr._selectedDataIndicesMap={},Yr}return Gr.prototype.init=function(Yr,Zr,Kr){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(Yr,Kr);var Qr=inner$k(this).sourceManager=new SourceManager(this);Qr.prepareSource();var Jr=this.getInitialData(Yr,Kr);wrapData(Jr,this),this.dataTask.context.data=Jr,inner$k(this).dataBeforeProcessed=Jr,autoSeriesName(this),this._initSelectedMapFromData(Jr)},Gr.prototype.mergeDefaultAndTheme=function(Yr,Zr){var Kr=fetchLayoutMode(this),Qr=Kr?getLayoutParams(Yr):{},Jr=this.subType;ComponentModel.hasClass(Jr)&&(Jr+="Series"),merge(Yr,Zr.getTheme().get(this.subType)),merge(Yr,this.getDefaultOption()),defaultEmphasis(Yr,"label",["show"]),this.fillDataTextStyle(Yr.data),Kr&&mergeLayoutParam(Yr,Qr,Kr)},Gr.prototype.mergeOption=function(Yr,Zr){Yr=merge(this.option,Yr,!0),this.fillDataTextStyle(Yr.data);var Kr=fetchLayoutMode(this);Kr&&mergeLayoutParam(this.option,Yr,Kr);var Qr=inner$k(this).sourceManager;Qr.dirty(),Qr.prepareSource();var Jr=this.getInitialData(Yr,Zr);wrapData(Jr,this),this.dataTask.dirty(),this.dataTask.context.data=Jr,inner$k(this).dataBeforeProcessed=Jr,autoSeriesName(this),this._initSelectedMapFromData(Jr)},Gr.prototype.fillDataTextStyle=function(Yr){if(Yr&&!isTypedArray(Yr))for(var Zr=["show"],Kr=0;Kr<Yr.length;Kr++)Yr[Kr]&&Yr[Kr].label&&defaultEmphasis(Yr[Kr],"label",Zr)},Gr.prototype.getInitialData=function(Yr,Zr){},Gr.prototype.appendData=function(Yr){var Zr=this.getRawData();Zr.appendData(Yr.data)},Gr.prototype.getData=function(Yr){var Zr=getCurrentTask(this);if(Zr){var Kr=Zr.context.data;return Yr==null||!Kr.getLinkedData?Kr:Kr.getLinkedData(Yr)}else return inner$k(this).data},Gr.prototype.getAllData=function(){var Yr=this.getData();return Yr&&Yr.getLinkedDataAll?Yr.getLinkedDataAll():[{data:Yr}]},Gr.prototype.setData=function(Yr){var Zr=getCurrentTask(this);if(Zr){var Kr=Zr.context;Kr.outputData=Yr,Zr!==this.dataTask&&(Kr.data=Yr)}inner$k(this).data=Yr},Gr.prototype.getEncode=function(){var Yr=this.get("encode",!0);if(Yr)return createHashMap(Yr)},Gr.prototype.getSourceManager=function(){return inner$k(this).sourceManager},Gr.prototype.getSource=function(){return this.getSourceManager().getSource()},Gr.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},Gr.prototype.getColorBy=function(){var Yr=this.get("colorBy");return Yr||"series"},Gr.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},Gr.prototype.getBaseAxis=function(){var Yr=this.coordinateSystem;return Yr&&Yr.getBaseAxis&&Yr.getBaseAxis()},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){return defaultSeriesFormatTooltip({series:this,dataIndex:Yr,multipleSeries:Zr})},Gr.prototype.isAnimationEnabled=function(){var Yr=this.ecModel;if(env.node&&!(Yr&&Yr.ssr))return!1;var Zr=this.getShallow("animation");return Zr&&this.getData().count()>this.getShallow("animationThreshold")&&(Zr=!1),!!Zr},Gr.prototype.restoreData=function(){this.dataTask.dirty()},Gr.prototype.getColorFromPalette=function(Yr,Zr,Kr){var Qr=this.ecModel,Jr=PaletteMixin.prototype.getColorFromPalette.call(this,Yr,Zr,Kr);return Jr||(Jr=Qr.getColorFromPalette(Yr,Zr,Kr)),Jr},Gr.prototype.coordDimToDataDim=function(Yr){return this.getRawData().mapDimensionsAll(Yr)},Gr.prototype.getProgressive=function(){return this.get("progressive")},Gr.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Gr.prototype.select=function(Yr,Zr){this._innerSelect(this.getData(Zr),Yr)},Gr.prototype.unselect=function(Yr,Zr){var Kr=this.option.selectedMap;if(Kr){var Qr=this.option.selectedMode,Jr=this.getData(Zr);if(Qr==="series"||Kr==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var en=0;en<Yr.length;en++){var tn=Yr[en],rn=getSelectionKey(Jr,tn);Kr[rn]=!1,this._selectedDataIndicesMap[rn]=-1}}},Gr.prototype.toggleSelect=function(Yr,Zr){for(var Kr=[],Qr=0;Qr<Yr.length;Qr++)Kr[0]=Yr[Qr],this.isSelected(Yr[Qr],Zr)?this.unselect(Kr,Zr):this.select(Kr,Zr)},Gr.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var Yr=this._selectedDataIndicesMap,Zr=keys(Yr),Kr=[],Qr=0;Qr<Zr.length;Qr++){var Jr=Yr[Zr[Qr]];Jr>=0&&Kr.push(Jr)}return Kr},Gr.prototype.isSelected=function(Yr,Zr){var Kr=this.option.selectedMap;if(!Kr)return!1;var Qr=this.getData(Zr);return(Kr==="all"||Kr[getSelectionKey(Qr,Yr)])&&!Qr.getItemModel(Yr).get(["select","disabled"])},Gr.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var Yr=this.option.universalTransition;return Yr?Yr===!0?!0:Yr&&Yr.enabled:!1},Gr.prototype._innerSelect=function(Yr,Zr){var Kr,Qr,Jr=this.option,en=Jr.selectedMode,tn=Zr.length;if(!(!en||!tn)){if(en==="series")Jr.selectedMap="all";else if(en==="multiple"){isObject$3(Jr.selectedMap)||(Jr.selectedMap={});for(var rn=Jr.selectedMap,an=0;an<tn;an++){var nn=Zr[an],sn=getSelectionKey(Yr,nn);rn[sn]=!0,this._selectedDataIndicesMap[sn]=Yr.getRawIndex(nn)}}else if(en==="single"||en===!0){var ln=Zr[tn-1],sn=getSelectionKey(Yr,ln);Jr.selectedMap=(Kr={},Kr[sn]=!0,Kr),this._selectedDataIndicesMap=(Qr={},Qr[sn]=Yr.getRawIndex(ln),Qr)}}},Gr.prototype._initSelectedMapFromData=function(Yr){if(!this.option.selectedMap){var Zr=[];Yr.hasItemOption&&Yr.each(function(Kr){var Qr=Yr.getRawDataItem(Kr);Qr&&Qr.selected&&Zr.push(Kr)}),Zr.length>0&&this._innerSelect(Yr,Zr)}},Gr.registerClass=function(Yr){return ComponentModel.registerClass(Yr)},Gr.protoInitialize=function(){var Yr=Gr.prototype;Yr.type="series.__base__",Yr.seriesIndex=0,Yr.ignoreStyleOnData=!1,Yr.hasSymbolVisual=!1,Yr.defaultSymbol="circle",Yr.visualStyleAccessPath="itemStyle",Yr.visualDrawType="fill"}(),Gr}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(Wr){var Gr=Wr.name;isNameSpecified(Wr)||(Wr.name=getSeriesAutoName(Wr)||Gr)}function getSeriesAutoName(Wr){var Gr=Wr.getRawData(),Yr=Gr.mapDimensionsAll("seriesName"),Zr=[];return each$f(Yr,function(Kr){var Qr=Gr.getDimensionInfo(Kr);Qr.displayName&&Zr.push(Qr.displayName)}),Zr.join(" ")}function dataTaskCount(Wr){return Wr.model.getRawData().count()}function dataTaskReset(Wr){var Gr=Wr.model;return Gr.setData(Gr.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(Wr,Gr){Gr.outputData&&Wr.end>Gr.outputData.count()&&Gr.model.getRawData().cloneShallow(Gr.outputData)}function wrapData(Wr,Gr){each$f(concatArray(Wr.CHANGABLE_METHODS,Wr.DOWNSAMPLE_METHODS),function(Yr){Wr.wrapMethod(Yr,curry$1(onDataChange,Gr))})}function onDataChange(Wr,Gr){var Yr=getCurrentTask(Wr);return Yr&&Yr.setOutputEnd((Gr||this).count()),Gr}function getCurrentTask(Wr){var Gr=(Wr.ecModel||{}).scheduler,Yr=Gr&&Gr.getPipeline(Wr.uid);if(Yr){var Zr=Yr.currentTask;if(Zr){var Kr=Zr.agentStubMap;Kr&&(Zr=Kr.get(Wr.uid))}return Zr}}var ComponentView=function(){function Wr(){this.group=new Group$3,this.uid=getUID("viewComponent")}return Wr.prototype.init=function(Gr,Yr){},Wr.prototype.render=function(Gr,Yr,Zr,Kr){},Wr.prototype.dispose=function(Gr,Yr){},Wr.prototype.updateView=function(Gr,Yr,Zr,Kr){},Wr.prototype.updateLayout=function(Gr,Yr,Zr,Kr){},Wr.prototype.updateVisual=function(Gr,Yr,Zr,Kr){},Wr.prototype.toggleBlurSeries=function(Gr,Yr,Zr){},Wr.prototype.eachRendered=function(Gr){var Yr=this.group;Yr&&Yr.traverse(Gr)},Wr}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var Wr=makeInner();return function(Gr){var Yr=Wr(Gr),Zr=Gr.pipelineContext,Kr=!!Yr.large,Qr=!!Yr.progressiveRender,Jr=Yr.large=!!(Zr&&Zr.large),en=Yr.progressiveRender=!!(Zr&&Zr.progressiveRender);return(Kr!==Jr||Qr!==en)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function Wr(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return Wr.prototype.init=function(Gr,Yr){},Wr.prototype.render=function(Gr,Yr,Zr,Kr){},Wr.prototype.highlight=function(Gr,Yr,Zr,Kr){var Qr=Gr.getData(Kr&&Kr.dataType);Qr&&toggleHighlight(Qr,Kr,"emphasis")},Wr.prototype.downplay=function(Gr,Yr,Zr,Kr){var Qr=Gr.getData(Kr&&Kr.dataType);Qr&&toggleHighlight(Qr,Kr,"normal")},Wr.prototype.remove=function(Gr,Yr){this.group.removeAll()},Wr.prototype.dispose=function(Gr,Yr){},Wr.prototype.updateView=function(Gr,Yr,Zr,Kr){this.render(Gr,Yr,Zr,Kr)},Wr.prototype.updateLayout=function(Gr,Yr,Zr,Kr){this.render(Gr,Yr,Zr,Kr)},Wr.prototype.updateVisual=function(Gr,Yr,Zr,Kr){this.render(Gr,Yr,Zr,Kr)},Wr.prototype.eachRendered=function(Gr){traverseElements(this.group,Gr)},Wr.markUpdateMethod=function(Gr,Yr){inner$j(Gr).updateMethod=Yr},Wr.protoInitialize=function(){var Gr=Wr.prototype;Gr.type="chart"}(),Wr}();function elSetState(Wr,Gr,Yr){Wr&&isHighDownDispatcher(Wr)&&(Gr==="emphasis"?enterEmphasis:leaveEmphasis)(Wr,Yr)}function toggleHighlight(Wr,Gr,Yr){var Zr=queryDataIndex(Wr,Gr),Kr=Gr&&Gr.highlightKey!=null?getHighlightDigit(Gr.highlightKey):null;Zr!=null?each$f(normalizeToArray(Zr),function(Qr){elSetState(Wr.getItemGraphicEl(Qr),Yr,Kr)}):Wr.eachItemGraphicEl(function(Qr){elSetState(Qr,Yr,Kr)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(Wr){return renderPlanner(Wr.model)}function renderTaskReset(Wr){var Gr=Wr.model,Yr=Wr.ecModel,Zr=Wr.api,Kr=Wr.payload,Qr=Gr.pipelineContext.progressiveRender,Jr=Wr.view,en=Kr&&inner$j(Kr).updateMethod,tn=Qr?"incrementalPrepareRender":en&&Jr[en]?en:"render";return tn!=="render"&&Jr[tn](Gr,Yr,Zr,Kr),progressMethodMap[tn]}var progressMethodMap={incrementalPrepareRender:{progress:function(Wr,Gr){Gr.view.incrementalRender(Wr,Gr.model,Gr.ecModel,Gr.api,Gr.payload)}},render:{forceFirstProgress:!0,progress:function(Wr,Gr){Gr.view.render(Gr.model,Gr.ecModel,Gr.api,Gr.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(Wr,Gr,Yr){var Zr,Kr=0,Qr=0,Jr=null,en,tn,rn,an;Gr=Gr||0;function nn(){Qr=new Date().getTime(),Jr=null,Wr.apply(tn,rn||[])}var sn=function(){for(var ln=[],un=0;un<arguments.length;un++)ln[un]=arguments[un];Zr=new Date().getTime(),tn=this,rn=ln;var cn=an||Gr,hn=an||Yr;an=null,en=Zr-(hn?Kr:Qr)-cn,clearTimeout(Jr),hn?Jr=setTimeout(nn,cn):en>=0?nn():Jr=setTimeout(nn,-en),Kr=Zr};return sn.clear=function(){Jr&&(clearTimeout(Jr),Jr=null)},sn.debounceNextCall=function(ln){an=ln},sn}function createOrUpdate(Wr,Gr,Yr,Zr){var Kr=Wr[Gr];if(Kr){var Qr=Kr[ORIGIN_METHOD]||Kr,Jr=Kr[THROTTLE_TYPE],en=Kr[RATE];if(en!==Yr||Jr!==Zr){if(Yr==null||!Zr)return Wr[Gr]=Qr;Kr=Wr[Gr]=throttle(Qr,Yr,Zr==="debounce"),Kr[ORIGIN_METHOD]=Qr,Kr[THROTTLE_TYPE]=Zr,Kr[RATE]=Yr}return Kr}}function clear$1(Wr,Gr){var Yr=Wr[Gr];Yr&&Yr[ORIGIN_METHOD]&&(Yr.clear&&Yr.clear(),Wr[Gr]=Yr[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(Wr,Gr){var Yr=Wr.visualStyleMapper||defaultStyleMappers[Gr];return Yr||(console.warn("Unknown style type '"+Gr+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(Wr,Gr){var Yr=Wr.visualDrawType||defaultColorKey[Gr];return Yr||(console.warn("Unknown style type '"+Gr+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Wr,Gr){var Yr=Wr.getData(),Zr=Wr.visualStyleAccessPath||"itemStyle",Kr=Wr.getModel(Zr),Qr=getStyleMapper(Wr,Zr),Jr=Qr(Kr),en=Kr.getShallow("decal");en&&(Yr.setVisual("decal",en),en.dirty=!0);var tn=getDefaultColorKey(Wr,Zr),rn=Jr[tn],an=isFunction(rn)?rn:null,nn=Jr.fill==="auto"||Jr.stroke==="auto";if(!Jr[tn]||an||nn){var sn=Wr.getColorFromPalette(Wr.name,null,Gr.getSeriesCount());Jr[tn]||(Jr[tn]=sn,Yr.setVisual("colorFromPalette",!0)),Jr.fill=Jr.fill==="auto"||isFunction(Jr.fill)?sn:Jr.fill,Jr.stroke=Jr.stroke==="auto"||isFunction(Jr.stroke)?sn:Jr.stroke}if(Yr.setVisual("style",Jr),Yr.setVisual("drawType",tn),!Gr.isSeriesFiltered(Wr)&&an)return Yr.setVisual("colorFromPalette",!1),{dataEach:function(ln,un){var cn=Wr.getDataParams(un),hn=extend({},Jr);hn[tn]=an(cn),ln.setItemVisual(un,"style",hn)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Wr,Gr){if(!(Wr.ignoreStyleOnData||Gr.isSeriesFiltered(Wr))){var Yr=Wr.getData(),Zr=Wr.visualStyleAccessPath||"itemStyle",Kr=getStyleMapper(Wr,Zr),Qr=Yr.getVisual("drawType");return{dataEach:Yr.hasItemOption?function(Jr,en){var tn=Jr.getRawDataItem(en);if(tn&&tn[Zr]){sharedModel.option=tn[Zr];var rn=Kr(sharedModel),an=Jr.ensureUniqueItemVisual(en,"style");extend(an,rn),sharedModel.option.decal&&(Jr.setItemVisual(en,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),Qr in rn&&Jr.setItemVisual(en,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(Wr){var Gr=createHashMap();Wr.eachSeries(function(Yr){var Zr=Yr.getColorBy();if(!Yr.isColorBySeries()){var Kr=Yr.type+"-"+Zr,Qr=Gr.get(Kr);Qr||(Qr={},Gr.set(Kr,Qr)),inner$i(Yr).scope=Qr}}),Wr.eachSeries(function(Yr){if(!(Yr.isColorBySeries()||Wr.isSeriesFiltered(Yr))){var Zr=Yr.getRawData(),Kr={},Qr=Yr.getData(),Jr=inner$i(Yr).scope,en=Yr.visualStyleAccessPath||"itemStyle",tn=getDefaultColorKey(Yr,en);Qr.each(function(rn){var an=Qr.getRawIndex(rn);Kr[an]=rn}),Zr.each(function(rn){var an=Kr[rn],nn=Qr.getItemVisual(an,"colorFromPalette");if(nn){var sn=Qr.ensureUniqueItemVisual(an,"style"),ln=Zr.getName(rn)||rn+"",un=Zr.count();sn[tn]=Yr.getColorFromPalette(ln,Jr,un)}})}})}},PI$5=Math.PI;function defaultLoading(Wr,Gr){Gr=Gr||{},defaults(Gr,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var Yr=new Group$3,Zr=new Rect$2({style:{fill:Gr.maskColor},zlevel:Gr.zlevel,z:1e4});Yr.add(Zr);var Kr=new ZRText({style:{text:Gr.text,fill:Gr.textColor,fontSize:Gr.fontSize,fontWeight:Gr.fontWeight,fontStyle:Gr.fontStyle,fontFamily:Gr.fontFamily},zlevel:Gr.zlevel,z:10001}),Qr=new Rect$2({style:{fill:"none"},textContent:Kr,textConfig:{position:"right",distance:10},zlevel:Gr.zlevel,z:10001});Yr.add(Qr);var Jr;return Gr.showSpinner&&(Jr=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:Gr.spinnerRadius},style:{stroke:Gr.color,lineCap:"round",lineWidth:Gr.lineWidth},zlevel:Gr.zlevel,z:10001}),Jr.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),Jr.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),Yr.add(Jr)),Yr.resize=function(){var en=Kr.getBoundingRect().width,tn=Gr.showSpinner?Gr.spinnerRadius:0,rn=(Wr.getWidth()-tn*2-(Gr.showSpinner&&en?10:0)-en)/2-(Gr.showSpinner&&en?0:5+en/2)+(Gr.showSpinner?0:en/2)+(en?0:tn),an=Wr.getHeight()/2;Gr.showSpinner&&Jr.setShape({cx:rn,cy:an}),Qr.setShape({x:rn-tn,y:an-tn,width:tn*2,height:tn*2}),Zr.setShape({x:0,y:0,width:Wr.getWidth(),height:Wr.getHeight()})},Yr.resize(),Yr}var Scheduler=function(){function Wr(Gr,Yr,Zr,Kr){this._stageTaskMap=createHashMap(),this.ecInstance=Gr,this.api=Yr,Zr=this._dataProcessorHandlers=Zr.slice(),Kr=this._visualHandlers=Kr.slice(),this._allHandlers=Zr.concat(Kr)}return Wr.prototype.restoreData=function(Gr,Yr){Gr.restoreData(Yr),this._stageTaskMap.each(function(Zr){var Kr=Zr.overallTask;Kr&&Kr.dirty()})},Wr.prototype.getPerformArgs=function(Gr,Yr){if(Gr.__pipeline){var Zr=this._pipelineMap.get(Gr.__pipeline.id),Kr=Zr.context,Qr=!Yr&&Zr.progressiveEnabled&&(!Kr||Kr.progressiveRender)&&Gr.__idxInPipeline>Zr.blockIndex,Jr=Qr?Zr.step:null,en=Kr&&Kr.modDataCount,tn=en!=null?Math.ceil(en/Jr):null;return{step:Jr,modBy:tn,modDataCount:en}}},Wr.prototype.getPipeline=function(Gr){return this._pipelineMap.get(Gr)},Wr.prototype.updateStreamModes=function(Gr,Yr){var Zr=this._pipelineMap.get(Gr.uid),Kr=Gr.getData(),Qr=Kr.count(),Jr=Zr.progressiveEnabled&&Yr.incrementalPrepareRender&&Qr>=Zr.threshold,en=Gr.get("large")&&Qr>=Gr.get("largeThreshold"),tn=Gr.get("progressiveChunkMode")==="mod"?Qr:null;Gr.pipelineContext=Zr.context={progressiveRender:Jr,modDataCount:tn,large:en}},Wr.prototype.restorePipelines=function(Gr){var Yr=this,Zr=Yr._pipelineMap=createHashMap();Gr.eachSeries(function(Kr){var Qr=Kr.getProgressive(),Jr=Kr.uid;Zr.set(Jr,{id:Jr,head:null,tail:null,threshold:Kr.getProgressiveThreshold(),progressiveEnabled:Qr&&!(Kr.preventIncremental&&Kr.preventIncremental()),blockIndex:-1,step:Math.round(Qr||700),count:0}),Yr._pipe(Kr,Kr.dataTask)})},Wr.prototype.prepareStageTasks=function(){var Gr=this._stageTaskMap,Yr=this.api.getModel(),Zr=this.api;each$f(this._allHandlers,function(Kr){var Qr=Gr.get(Kr.uid)||Gr.set(Kr.uid,{}),Jr="";assert(!(Kr.reset&&Kr.overallReset),Jr),Kr.reset&&this._createSeriesStageTask(Kr,Qr,Yr,Zr),Kr.overallReset&&this._createOverallStageTask(Kr,Qr,Yr,Zr)},this)},Wr.prototype.prepareView=function(Gr,Yr,Zr,Kr){var Qr=Gr.renderTask,Jr=Qr.context;Jr.model=Yr,Jr.ecModel=Zr,Jr.api=Kr,Qr.__block=!Gr.incrementalPrepareRender,this._pipe(Yr,Qr)},Wr.prototype.performDataProcessorTasks=function(Gr,Yr){this._performStageTasks(this._dataProcessorHandlers,Gr,Yr,{block:!0})},Wr.prototype.performVisualTasks=function(Gr,Yr,Zr){this._performStageTasks(this._visualHandlers,Gr,Yr,Zr)},Wr.prototype._performStageTasks=function(Gr,Yr,Zr,Kr){Kr=Kr||{};var Qr=!1,Jr=this;each$f(Gr,function(tn,rn){if(!(Kr.visualType&&Kr.visualType!==tn.visualType)){var an=Jr._stageTaskMap.get(tn.uid),nn=an.seriesTaskMap,sn=an.overallTask;if(sn){var ln,un=sn.agentStubMap;un.each(function(hn){en(Kr,hn)&&(hn.dirty(),ln=!0)}),ln&&sn.dirty(),Jr.updatePayload(sn,Zr);var cn=Jr.getPerformArgs(sn,Kr.block);un.each(function(hn){hn.perform(cn)}),sn.perform(cn)&&(Qr=!0)}else nn&&nn.each(function(hn,dn){en(Kr,hn)&&hn.dirty();var fn=Jr.getPerformArgs(hn,Kr.block);fn.skip=!tn.performRawSeries&&Yr.isSeriesFiltered(hn.context.model),Jr.updatePayload(hn,Zr),hn.perform(fn)&&(Qr=!0)})}});function en(tn,rn){return tn.setDirty&&(!tn.dirtyMap||tn.dirtyMap.get(rn.__pipeline.id))}this.unfinished=Qr||this.unfinished},Wr.prototype.performSeriesTasks=function(Gr){var Yr;Gr.eachSeries(function(Zr){Yr=Zr.dataTask.perform()||Yr}),this.unfinished=Yr||this.unfinished},Wr.prototype.plan=function(){this._pipelineMap.each(function(Gr){var Yr=Gr.tail;do{if(Yr.__block){Gr.blockIndex=Yr.__idxInPipeline;break}Yr=Yr.getUpstream()}while(Yr)})},Wr.prototype.updatePayload=function(Gr,Yr){Yr!=="remain"&&(Gr.context.payload=Yr)},Wr.prototype._createSeriesStageTask=function(Gr,Yr,Zr,Kr){var Qr=this,Jr=Yr.seriesTaskMap,en=Yr.seriesTaskMap=createHashMap(),tn=Gr.seriesType,rn=Gr.getTargetSeries;Gr.createOnAllSeries?Zr.eachRawSeries(an):tn?Zr.eachRawSeriesByType(tn,an):rn&&rn(Zr,Kr).each(an);function an(nn){var sn=nn.uid,ln=en.set(sn,Jr&&Jr.get(sn)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));ln.context={model:nn,ecModel:Zr,api:Kr,useClearVisual:Gr.isVisual&&!Gr.isLayout,plan:Gr.plan,reset:Gr.reset,scheduler:Qr},Qr._pipe(nn,ln)}},Wr.prototype._createOverallStageTask=function(Gr,Yr,Zr,Kr){var Qr=this,Jr=Yr.overallTask=Yr.overallTask||createTask({reset:overallTaskReset});Jr.context={ecModel:Zr,api:Kr,overallReset:Gr.overallReset,scheduler:Qr};var en=Jr.agentStubMap,tn=Jr.agentStubMap=createHashMap(),rn=Gr.seriesType,an=Gr.getTargetSeries,nn=!0,sn=!1,ln="";assert(!Gr.createOnAllSeries,ln),rn?Zr.eachRawSeriesByType(rn,un):an?an(Zr,Kr).each(un):(nn=!1,each$f(Zr.getSeries(),un));function un(cn){var hn=cn.uid,dn=tn.set(hn,en&&en.get(hn)||(sn=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));dn.context={model:cn,overallProgress:nn},dn.agent=Jr,dn.__block=nn,Qr._pipe(cn,dn)}sn&&Jr.dirty()},Wr.prototype._pipe=function(Gr,Yr){var Zr=Gr.uid,Kr=this._pipelineMap.get(Zr);!Kr.head&&(Kr.head=Yr),Kr.tail&&Kr.tail.pipe(Yr),Kr.tail=Yr,Yr.__idxInPipeline=Kr.count++,Yr.__pipeline=Kr},Wr.wrapStageHandler=function(Gr,Yr){return isFunction(Gr)&&(Gr={overallReset:Gr,seriesType:detectSeriseType(Gr)}),Gr.uid=getUID("stageHandler"),Yr&&(Gr.visualType=Yr),Gr},Wr}();function overallTaskReset(Wr){Wr.overallReset(Wr.ecModel,Wr.api,Wr.payload)}function stubReset(Wr){return Wr.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(Wr){return Wr.plan?Wr.plan(Wr.model,Wr.ecModel,Wr.api,Wr.payload):null}function seriesTaskReset(Wr){Wr.useClearVisual&&Wr.data.clearAllVisual();var Gr=Wr.resetDefines=normalizeToArray(Wr.reset(Wr.model,Wr.ecModel,Wr.api,Wr.payload));return Gr.length>1?map$1(Gr,function(Yr,Zr){return makeSeriesTaskProgress(Zr)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(Wr){return function(Gr,Yr){var Zr=Yr.data,Kr=Yr.resetDefines[Wr];if(Kr&&Kr.dataEach)for(var Qr=Gr.start;Qr<Gr.end;Qr++)Kr.dataEach(Zr,Qr);else Kr&&Kr.progress&&Kr.progress(Gr,Zr)}}function seriesTaskCount(Wr){return Wr.data.count()}function detectSeriseType(Wr){seriesType=null;try{Wr(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(Wr){seriesType=Wr};ecModelMock.eachComponent=function(Wr){Wr.mainType==="series"&&Wr.subType&&(seriesType=Wr.subType)};function mockMethods(Wr,Gr){for(var Yr in Gr.prototype)Wr[Yr]=noop}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function Wr(){}return Wr.prototype.normalizeQuery=function(Gr){var Yr={},Zr={},Kr={};if(isString(Gr)){var Qr=parseClassType(Gr);Yr.mainType=Qr.main||null,Yr.subType=Qr.sub||null}else{var Jr=["Index","Name","Id"],en={name:1,dataIndex:1,dataType:1};each$f(Gr,function(tn,rn){for(var an=!1,nn=0;nn<Jr.length;nn++){var sn=Jr[nn],ln=rn.lastIndexOf(sn);if(ln>0&&ln===rn.length-sn.length){var un=rn.slice(0,ln);un!=="data"&&(Yr.mainType=un,Yr[sn.toLowerCase()]=tn,an=!0)}}en.hasOwnProperty(rn)&&(Zr[rn]=tn,an=!0),an||(Kr[rn]=tn)})}return{cptQuery:Yr,dataQuery:Zr,otherQuery:Kr}},Wr.prototype.filter=function(Gr,Yr){var Zr=this.eventInfo;if(!Zr)return!0;var Kr=Zr.targetEl,Qr=Zr.packedEvent,Jr=Zr.model,en=Zr.view;if(!Jr||!en)return!0;var tn=Yr.cptQuery,rn=Yr.dataQuery;return an(tn,Jr,"mainType")&&an(tn,Jr,"subType")&&an(tn,Jr,"index","componentIndex")&&an(tn,Jr,"name")&&an(tn,Jr,"id")&&an(rn,Qr,"name")&&an(rn,Qr,"dataIndex")&&an(rn,Qr,"dataType")&&(!en.filterForExposedEvent||en.filterForExposedEvent(Gr,Yr.otherQuery,Kr,Qr));function an(nn,sn,ln,un){return nn[ln]==null||sn[un||ln]===nn[ln]}},Wr.prototype.afterTrigger=function(){this.eventInfo=null},Wr}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Wr,Gr){var Yr=Wr.getData();if(Wr.legendIcon&&Yr.setVisual("legendIcon",Wr.legendIcon),!Wr.hasSymbolVisual)return;for(var Zr={},Kr={},Qr=!1,Jr=0;Jr<SYMBOL_PROPS_WITH_CB.length;Jr++){var en=SYMBOL_PROPS_WITH_CB[Jr],tn=Wr.get(en);isFunction(tn)?(Qr=!0,Kr[en]=tn):Zr[en]=tn}if(Zr.symbol=Zr.symbol||Wr.defaultSymbol,Yr.setVisual(extend({legendIcon:Wr.legendIcon||Zr.symbol,symbolKeepAspect:Wr.get("symbolKeepAspect")},Zr)),Gr.isSeriesFiltered(Wr))return;var rn=keys(Kr);function an(nn,sn){for(var ln=Wr.getRawValue(sn),un=Wr.getDataParams(sn),cn=0;cn<rn.length;cn++){var hn=rn[cn];nn.setItemVisual(sn,hn,Kr[hn](ln,un))}}return{dataEach:Qr?an:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(Wr,Gr){if(!Wr.hasSymbolVisual||Gr.isSeriesFiltered(Wr))return;var Yr=Wr.getData();function Zr(Kr,Qr){for(var Jr=Kr.getItemModel(Qr),en=0;en<SYMBOL_PROPS.length;en++){var tn=SYMBOL_PROPS[en],rn=Jr.getShallow(tn,!0);rn!=null&&Kr.setItemVisual(Qr,tn,rn)}}return{dataEach:Yr.hasItemOption?Zr:null}}};function getItemVisualFromData(Wr,Gr,Yr){switch(Yr){case"color":var Zr=Wr.getItemVisual(Gr,"style");return Zr[Wr.getVisual("drawType")];case"opacity":return Wr.getItemVisual(Gr,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return Wr.getItemVisual(Gr,Yr)}}function getVisualFromData(Wr,Gr){switch(Gr){case"color":var Yr=Wr.getVisual("style");return Yr[Wr.getVisual("drawType")];case"opacity":return Wr.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return Wr.getVisual(Gr)}}function setItemVisualFromData(Wr,Gr,Yr,Zr){switch(Yr){case"color":var Kr=Wr.ensureUniqueItemVisual(Gr,"style");Kr[Wr.getVisual("drawType")]=Zr,Wr.setItemVisual(Gr,"colorFromPalette",!1);break;case"opacity":Wr.ensureUniqueItemVisual(Gr,"style").opacity=Zr;break;case"symbol":case"symbolSize":case"liftZ":Wr.setItemVisual(Gr,Yr,Zr);break}}function createLegacyDataSelectAction(Wr,Gr){function Yr(Zr,Kr){var Qr=[];return Zr.eachComponent({mainType:"series",subType:Wr,query:Kr},function(Jr){Qr.push(Jr.seriesIndex)}),Qr}each$f([[Wr+"ToggleSelect","toggleSelect"],[Wr+"Select","select"],[Wr+"UnSelect","unselect"]],function(Zr){Gr(Zr[0],function(Kr,Qr,Jr){Kr=extend({},Kr),Jr.dispatchAction(extend(Kr,{type:Zr[1],seriesIndex:Yr(Qr,Kr)}))})})}function handleSeriesLegacySelectEvents(Wr,Gr,Yr,Zr,Kr){var Qr=Wr+Gr;Yr.isSilent(Qr)||Zr.eachComponent({mainType:"series",subType:"pie"},function(Jr){for(var en=Jr.seriesIndex,tn=Jr.option.selectedMap,rn=Kr.selected,an=0;an<rn.length;an++)if(rn[an].seriesIndex===en){var nn=Jr.getData(),sn=queryDataIndex(nn,Kr.fromActionPayload);Yr.trigger(Qr,{type:Qr,seriesId:Jr.id,name:isArray$1(sn)?nn.getName(sn[0]):nn.getName(sn),selected:isString(tn)?tn:extend({},tn)})}})}function handleLegacySelectEvents(Wr,Gr,Yr){Wr.on("selectchanged",function(Zr){var Kr=Yr.getModel();Zr.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",Gr,Kr,Zr),handleSeriesLegacySelectEvents("pie","selectchanged",Gr,Kr,Zr)):Zr.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",Gr,Kr,Zr),handleSeriesLegacySelectEvents("pie","selected",Gr,Kr,Zr)):Zr.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",Gr,Kr,Zr),handleSeriesLegacySelectEvents("pie","unselected",Gr,Kr,Zr))})}function findEventDispatcher(Wr,Gr,Yr){for(var Zr;Wr&&!(Gr(Wr)&&(Zr=Wr,Yr));)Wr=Wr.__hostTarget||Wr.parent;return Zr}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function Wr(){this._id="__ec_inner_"+wmUniqueIndex++}return Wr.prototype.get=function(Gr){return this._guard(Gr)[this._id]},Wr.prototype.set=function(Gr,Yr){var Zr=this._guard(Gr);return supportDefineProperty?Object.defineProperty(Zr,this._id,{value:Yr,enumerable:!1,configurable:!0}):Zr[this._id]=Yr,this},Wr.prototype.delete=function(Gr){return this.has(Gr)?(delete this._guard(Gr)[this._id],!0):!1},Wr.prototype.has=function(Gr){return!!this._guard(Gr)[this._id]},Wr.prototype._guard=function(Gr){if(Gr!==Object(Gr))throw TypeError("Value of WeakMap is not a non-null object.");return Gr},Wr}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Wr,Gr){var Yr=Gr.cx,Zr=Gr.cy,Kr=Gr.width/2,Qr=Gr.height/2;Wr.moveTo(Yr,Zr-Qr),Wr.lineTo(Yr+Kr,Zr+Qr),Wr.lineTo(Yr-Kr,Zr+Qr),Wr.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Wr,Gr){var Yr=Gr.cx,Zr=Gr.cy,Kr=Gr.width/2,Qr=Gr.height/2;Wr.moveTo(Yr,Zr-Qr),Wr.lineTo(Yr+Kr,Zr),Wr.lineTo(Yr,Zr+Qr),Wr.lineTo(Yr-Kr,Zr),Wr.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Wr,Gr){var Yr=Gr.x,Zr=Gr.y,Kr=Gr.width/5*3,Qr=Math.max(Kr,Gr.height),Jr=Kr/2,en=Jr*Jr/(Qr-Jr),tn=Zr-Qr+Jr+en,rn=Math.asin(en/Jr),an=Math.cos(rn)*Jr,nn=Math.sin(rn),sn=Math.cos(rn),ln=Jr*.6,un=Jr*.7;Wr.moveTo(Yr-an,tn+en),Wr.arc(Yr,tn,Jr,Math.PI-rn,Math.PI*2+rn),Wr.bezierCurveTo(Yr+an-nn*ln,tn+en+sn*ln,Yr,Zr-un,Yr,Zr),Wr.bezierCurveTo(Yr,Zr-un,Yr-an+nn*ln,tn+en+sn*ln,Yr-an,tn+en),Wr.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(Wr,Gr){var Yr=Gr.height,Zr=Gr.width,Kr=Gr.x,Qr=Gr.y,Jr=Zr/3*2;Wr.moveTo(Kr,Qr),Wr.lineTo(Kr+Jr,Qr+Yr),Wr.lineTo(Kr,Qr+Yr/4*3),Wr.lineTo(Kr-Jr,Qr+Yr),Wr.lineTo(Kr,Qr),Wr.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(Wr,Gr,Yr,Zr,Kr){Kr.x1=Wr,Kr.y1=Gr+Zr/2,Kr.x2=Wr+Yr,Kr.y2=Gr+Zr/2},rect:function(Wr,Gr,Yr,Zr,Kr){Kr.x=Wr,Kr.y=Gr,Kr.width=Yr,Kr.height=Zr},roundRect:function(Wr,Gr,Yr,Zr,Kr){Kr.x=Wr,Kr.y=Gr,Kr.width=Yr,Kr.height=Zr,Kr.r=Math.min(Yr,Zr)/4},square:function(Wr,Gr,Yr,Zr,Kr){var Qr=Math.min(Yr,Zr);Kr.x=Wr,Kr.y=Gr,Kr.width=Qr,Kr.height=Qr},circle:function(Wr,Gr,Yr,Zr,Kr){Kr.cx=Wr+Yr/2,Kr.cy=Gr+Zr/2,Kr.r=Math.min(Yr,Zr)/2},diamond:function(Wr,Gr,Yr,Zr,Kr){Kr.cx=Wr+Yr/2,Kr.cy=Gr+Zr/2,Kr.width=Yr,Kr.height=Zr},pin:function(Wr,Gr,Yr,Zr,Kr){Kr.x=Wr+Yr/2,Kr.y=Gr+Zr/2,Kr.width=Yr,Kr.height=Zr},arrow:function(Wr,Gr,Yr,Zr,Kr){Kr.x=Wr+Yr/2,Kr.y=Gr+Zr/2,Kr.width=Yr,Kr.height=Zr},triangle:function(Wr,Gr,Yr,Zr,Kr){Kr.cx=Wr+Yr/2,Kr.cy=Gr+Zr/2,Kr.width=Yr,Kr.height=Zr}},symbolBuildProxies={};each$f(symbolCtors,function(Wr,Gr){symbolBuildProxies[Gr]=new Wr});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(Wr,Gr,Yr){var Zr=calculateTextPosition(Wr,Gr,Yr),Kr=this.shape;return Kr&&Kr.symbolType==="pin"&&Gr.position==="inside"&&(Zr.y=Yr.y+Yr.height*.4),Zr},buildPath:function(Wr,Gr,Yr){var Zr=Gr.symbolType;if(Zr!=="none"){var Kr=symbolBuildProxies[Zr];Kr||(Zr="rect",Kr=symbolBuildProxies[Zr]),symbolShapeMakers[Zr](Gr.x,Gr.y,Gr.width,Gr.height,Kr.shape),Kr.buildPath(Wr,Kr.shape,Yr)}}});function symbolPathSetColor(Wr,Gr){if(this.type!=="image"){var Yr=this.style;this.__isEmptyBrush?(Yr.stroke=Wr,Yr.fill=Gr||"#fff",Yr.lineWidth=2):this.shape.symbolType==="line"?Yr.stroke=Wr:Yr.fill=Wr,this.markRedraw()}}function createSymbol$1(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Wr.indexOf("empty")===0;en&&(Wr=Wr.substr(5,1).toLowerCase()+Wr.substr(6));var tn;return Wr.indexOf("image://")===0?tn=makeImage(Wr.slice(8),new BoundingRect(Gr,Yr,Zr,Kr),Jr?"center":"cover"):Wr.indexOf("path://")===0?tn=makePath(Wr.slice(7),{},new BoundingRect(Gr,Yr,Zr,Kr),Jr?"center":"cover"):tn=new SymbolClz({shape:{symbolType:Wr,x:Gr,y:Yr,width:Zr,height:Kr}}),tn.__isEmptyBrush=en,tn.setColor=symbolPathSetColor,Qr&&tn.setColor(Qr),tn}function normalizeSymbolSize(Wr){return isArray$1(Wr)||(Wr=[+Wr,+Wr]),[Wr[0]||0,Wr[1]||0]}function normalizeSymbolOffset(Wr,Gr){if(Wr!=null)return isArray$1(Wr)||(Wr=[Wr,Wr]),[parsePercent(Wr[0],Gr[0])||0,parsePercent(retrieve2(Wr[1],Wr[0]),Gr[1])||0]}function isSafeNum(Wr){return isFinite(Wr)}function createLinearGradient(Wr,Gr,Yr){var Zr=Gr.x==null?0:Gr.x,Kr=Gr.x2==null?1:Gr.x2,Qr=Gr.y==null?0:Gr.y,Jr=Gr.y2==null?0:Gr.y2;Gr.global||(Zr=Zr*Yr.width+Yr.x,Kr=Kr*Yr.width+Yr.x,Qr=Qr*Yr.height+Yr.y,Jr=Jr*Yr.height+Yr.y),Zr=isSafeNum(Zr)?Zr:0,Kr=isSafeNum(Kr)?Kr:1,Qr=isSafeNum(Qr)?Qr:0,Jr=isSafeNum(Jr)?Jr:0;var en=Wr.createLinearGradient(Zr,Qr,Kr,Jr);return en}function createRadialGradient(Wr,Gr,Yr){var Zr=Yr.width,Kr=Yr.height,Qr=Math.min(Zr,Kr),Jr=Gr.x==null?.5:Gr.x,en=Gr.y==null?.5:Gr.y,tn=Gr.r==null?.5:Gr.r;Gr.global||(Jr=Jr*Zr+Yr.x,en=en*Kr+Yr.y,tn=tn*Qr),Jr=isSafeNum(Jr)?Jr:.5,en=isSafeNum(en)?en:.5,tn=tn>=0&&isSafeNum(tn)?tn:.5;var rn=Wr.createRadialGradient(Jr,en,0,Jr,en,tn);return rn}function getCanvasGradient(Wr,Gr,Yr){for(var Zr=Gr.type==="radial"?createRadialGradient(Wr,Gr,Yr):createLinearGradient(Wr,Gr,Yr),Kr=Gr.colorStops,Qr=0;Qr<Kr.length;Qr++)Zr.addColorStop(Kr[Qr].offset,Kr[Qr].color);return Zr}function isClipPathChanged(Wr,Gr){if(Wr===Gr||!Wr&&!Gr)return!1;if(!Wr||!Gr||Wr.length!==Gr.length)return!0;for(var Yr=0;Yr<Wr.length;Yr++)if(Wr[Yr]!==Gr[Yr])return!0;return!1}function parseInt10(Wr){return parseInt(Wr,10)}function getSize$1(Wr,Gr,Yr){var Zr=["width","height"][Gr],Kr=["clientWidth","clientHeight"][Gr],Qr=["paddingLeft","paddingTop"][Gr],Jr=["paddingRight","paddingBottom"][Gr];if(Yr[Zr]!=null&&Yr[Zr]!=="auto")return parseFloat(Yr[Zr]);var en=document.defaultView.getComputedStyle(Wr);return(Wr[Kr]||parseInt10(en[Zr])||parseInt10(Wr.style[Zr]))-(parseInt10(en[Qr])||0)-(parseInt10(en[Jr])||0)|0}function normalizeLineDash(Wr,Gr){return!Wr||Wr==="solid"||!(Gr>0)?null:Wr==="dashed"?[4*Gr,2*Gr]:Wr==="dotted"?[Gr]:isNumber(Wr)?[Wr]:isArray$1(Wr)?Wr:null}function getLineDash(Wr){var Gr=Wr.style,Yr=Gr.lineDash&&Gr.lineWidth>0&&normalizeLineDash(Gr.lineDash,Gr.lineWidth),Zr=Gr.lineDashOffset;if(Yr){var Kr=Gr.strokeNoScale&&Wr.getLineScale?Wr.getLineScale():1;Kr&&Kr!==1&&(Yr=map$1(Yr,function(Qr){return Qr/Kr}),Zr/=Kr)}return[Yr,Zr]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(Wr){var Gr=Wr.stroke;return!(Gr==null||Gr==="none"||!(Wr.lineWidth>0))}function isValidStrokeFillStyle(Wr){return typeof Wr=="string"&&Wr!=="none"}function styleHasFill(Wr){var Gr=Wr.fill;return Gr!=null&&Gr!=="none"}function doFillPath(Wr,Gr){if(Gr.fillOpacity!=null&&Gr.fillOpacity!==1){var Yr=Wr.globalAlpha;Wr.globalAlpha=Gr.fillOpacity*Gr.opacity,Wr.fill(),Wr.globalAlpha=Yr}else Wr.fill()}function doStrokePath(Wr,Gr){if(Gr.strokeOpacity!=null&&Gr.strokeOpacity!==1){var Yr=Wr.globalAlpha;Wr.globalAlpha=Gr.strokeOpacity*Gr.opacity,Wr.stroke(),Wr.globalAlpha=Yr}else Wr.stroke()}function createCanvasPattern(Wr,Gr,Yr){var Zr=createOrUpdateImage(Gr.image,Gr.__image,Yr);if(isImageReady(Zr)){var Kr=Wr.createPattern(Zr,Gr.repeat||"repeat");if(typeof DOMMatrix=="function"&&Kr&&Kr.setTransform){var Qr=new DOMMatrix;Qr.translateSelf(Gr.x||0,Gr.y||0),Qr.rotateSelf(0,0,(Gr.rotation||0)*RADIAN_TO_DEGREE),Qr.scaleSelf(Gr.scaleX||1,Gr.scaleY||1),Kr.setTransform(Qr)}return Kr}}function brushPath(Wr,Gr,Yr,Zr){var Kr,Qr=styleHasStroke(Yr),Jr=styleHasFill(Yr),en=Yr.strokePercent,tn=en<1,rn=!Gr.path;(!Gr.silent||tn)&&rn&&Gr.createPathProxy();var an=Gr.path||pathProxyForDraw,nn=Gr.__dirty;if(!Zr){var sn=Yr.fill,ln=Yr.stroke,un=Jr&&!!sn.colorStops,cn=Qr&&!!ln.colorStops,hn=Jr&&!!sn.image,dn=Qr&&!!ln.image,fn=void 0,pn=void 0,gn=void 0,vn=void 0,mn=void 0;(un||cn)&&(mn=Gr.getBoundingRect()),un&&(fn=nn?getCanvasGradient(Wr,sn,mn):Gr.__canvasFillGradient,Gr.__canvasFillGradient=fn),cn&&(pn=nn?getCanvasGradient(Wr,ln,mn):Gr.__canvasStrokeGradient,Gr.__canvasStrokeGradient=pn),hn&&(gn=nn||!Gr.__canvasFillPattern?createCanvasPattern(Wr,sn,Gr):Gr.__canvasFillPattern,Gr.__canvasFillPattern=gn),dn&&(vn=nn||!Gr.__canvasStrokePattern?createCanvasPattern(Wr,ln,Gr):Gr.__canvasStrokePattern,Gr.__canvasStrokePattern=gn),un?Wr.fillStyle=fn:hn&&(gn?Wr.fillStyle=gn:Jr=!1),cn?Wr.strokeStyle=pn:dn&&(vn?Wr.strokeStyle=vn:Qr=!1)}var yn=Gr.getGlobalScale();an.setScale(yn[0],yn[1],Gr.segmentIgnoreThreshold);var xn,bn;Wr.setLineDash&&Yr.lineDash&&(Kr=getLineDash(Gr),xn=Kr[0],bn=Kr[1]);var Sn=!0;(rn||nn&SHAPE_CHANGED_BIT)&&(an.setDPR(Wr.dpr),tn?an.setContext(null):(an.setContext(Wr),Sn=!1),an.reset(),Gr.buildPath(an,Gr.shape,Zr),an.toStatic(),Gr.pathUpdated()),Sn&&an.rebuildPath(Wr,tn?en:1),xn&&(Wr.setLineDash(xn),Wr.lineDashOffset=bn),Zr||(Yr.strokeFirst?(Qr&&doStrokePath(Wr,Yr),Jr&&doFillPath(Wr,Yr)):(Jr&&doFillPath(Wr,Yr),Qr&&doStrokePath(Wr,Yr))),xn&&Wr.setLineDash([])}function brushImage(Wr,Gr,Yr){var Zr=Gr.__image=createOrUpdateImage(Yr.image,Gr.__image,Gr,Gr.onload);if(!(!Zr||!isImageReady(Zr))){var Kr=Yr.x||0,Qr=Yr.y||0,Jr=Gr.getWidth(),en=Gr.getHeight(),tn=Zr.width/Zr.height;if(Jr==null&&en!=null?Jr=en*tn:en==null&&Jr!=null?en=Jr/tn:Jr==null&&en==null&&(Jr=Zr.width,en=Zr.height),Yr.sWidth&&Yr.sHeight){var rn=Yr.sx||0,an=Yr.sy||0;Wr.drawImage(Zr,rn,an,Yr.sWidth,Yr.sHeight,Kr,Qr,Jr,en)}else if(Yr.sx&&Yr.sy){var rn=Yr.sx,an=Yr.sy,nn=Jr-rn,sn=en-an;Wr.drawImage(Zr,rn,an,nn,sn,Kr,Qr,Jr,en)}else Wr.drawImage(Zr,Kr,Qr,Jr,en)}}function brushText(Wr,Gr,Yr){var Zr,Kr=Yr.text;if(Kr!=null&&(Kr+=""),Kr){Wr.font=Yr.font||DEFAULT_FONT,Wr.textAlign=Yr.textAlign,Wr.textBaseline=Yr.textBaseline;var Qr=void 0,Jr=void 0;Wr.setLineDash&&Yr.lineDash&&(Zr=getLineDash(Gr),Qr=Zr[0],Jr=Zr[1]),Qr&&(Wr.setLineDash(Qr),Wr.lineDashOffset=Jr),Yr.strokeFirst?(styleHasStroke(Yr)&&Wr.strokeText(Kr,Yr.x,Yr.y),styleHasFill(Yr)&&Wr.fillText(Kr,Yr.x,Yr.y)):(styleHasFill(Yr)&&Wr.fillText(Kr,Yr.x,Yr.y),styleHasStroke(Yr)&&Wr.strokeText(Kr,Yr.x,Yr.y)),Qr&&Wr.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(Wr,Gr,Yr,Zr,Kr){var Qr=!1;if(!Zr&&(Yr=Yr||{},Gr===Yr))return!1;if(Zr||Gr.opacity!==Yr.opacity){flushPathDrawn(Wr,Kr),Qr=!0;var Jr=Math.max(Math.min(Gr.opacity,1),0);Wr.globalAlpha=isNaN(Jr)?DEFAULT_COMMON_STYLE.opacity:Jr}(Zr||Gr.blend!==Yr.blend)&&(Qr||(flushPathDrawn(Wr,Kr),Qr=!0),Wr.globalCompositeOperation=Gr.blend||DEFAULT_COMMON_STYLE.blend);for(var en=0;en<SHADOW_NUMBER_PROPS.length;en++){var tn=SHADOW_NUMBER_PROPS[en];(Zr||Gr[tn]!==Yr[tn])&&(Qr||(flushPathDrawn(Wr,Kr),Qr=!0),Wr[tn]=Wr.dpr*(Gr[tn]||0))}return(Zr||Gr.shadowColor!==Yr.shadowColor)&&(Qr||(flushPathDrawn(Wr,Kr),Qr=!0),Wr.shadowColor=Gr.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),Qr}function bindPathAndTextCommonStyle(Wr,Gr,Yr,Zr,Kr){var Qr=getStyle(Gr,Kr.inHover),Jr=Zr?null:Yr&&getStyle(Yr,Kr.inHover)||{};if(Qr===Jr)return!1;var en=bindCommonProps(Wr,Qr,Jr,Zr,Kr);if((Zr||Qr.fill!==Jr.fill)&&(en||(flushPathDrawn(Wr,Kr),en=!0),isValidStrokeFillStyle(Qr.fill)&&(Wr.fillStyle=Qr.fill)),(Zr||Qr.stroke!==Jr.stroke)&&(en||(flushPathDrawn(Wr,Kr),en=!0),isValidStrokeFillStyle(Qr.stroke)&&(Wr.strokeStyle=Qr.stroke)),(Zr||Qr.opacity!==Jr.opacity)&&(en||(flushPathDrawn(Wr,Kr),en=!0),Wr.globalAlpha=Qr.opacity==null?1:Qr.opacity),Gr.hasStroke()){var tn=Qr.lineWidth,rn=tn/(Qr.strokeNoScale&&Gr.getLineScale?Gr.getLineScale():1);Wr.lineWidth!==rn&&(en||(flushPathDrawn(Wr,Kr),en=!0),Wr.lineWidth=rn)}for(var an=0;an<STROKE_PROPS.length;an++){var nn=STROKE_PROPS[an],sn=nn[0];(Zr||Qr[sn]!==Jr[sn])&&(en||(flushPathDrawn(Wr,Kr),en=!0),Wr[sn]=Qr[sn]||nn[1])}return en}function bindImageStyle(Wr,Gr,Yr,Zr,Kr){return bindCommonProps(Wr,getStyle(Gr,Kr.inHover),Yr&&getStyle(Yr,Kr.inHover),Zr,Kr)}function setContextTransform(Wr,Gr){var Yr=Gr.transform,Zr=Wr.dpr||1;Yr?Wr.setTransform(Zr*Yr[0],Zr*Yr[1],Zr*Yr[2],Zr*Yr[3],Zr*Yr[4],Zr*Yr[5]):Wr.setTransform(Zr,0,0,Zr,0,0)}function updateClipStatus(Wr,Gr,Yr){for(var Zr=!1,Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr];Zr=Zr||Qr.isZeroArea(),setContextTransform(Gr,Qr),Gr.beginPath(),Qr.buildPath(Gr,Qr.shape),Gr.clip()}Yr.allClipped=Zr}function isTransformChanged(Wr,Gr){return Wr&&Gr?Wr[0]!==Gr[0]||Wr[1]!==Gr[1]||Wr[2]!==Gr[2]||Wr[3]!==Gr[3]||Wr[4]!==Gr[4]||Wr[5]!==Gr[5]:!(!Wr&&!Gr)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(Wr){var Gr=styleHasFill(Wr),Yr=styleHasStroke(Wr);return!(Wr.lineDash||!(+Gr^+Yr)||Gr&&typeof Wr.fill!="string"||Yr&&typeof Wr.stroke!="string"||Wr.strokePercent<1||Wr.strokeOpacity<1||Wr.fillOpacity<1)}function flushPathDrawn(Wr,Gr){Gr.batchFill&&Wr.fill(),Gr.batchStroke&&Wr.stroke(),Gr.batchFill="",Gr.batchStroke=""}function getStyle(Wr,Gr){return Gr&&Wr.__hoverStyle||Wr.style}function brushSingle(Wr,Gr){brush$1(Wr,Gr,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(Wr,Gr,Yr,Zr){var Kr=Gr.transform;if(!Gr.shouldBePainted(Yr.viewWidth,Yr.viewHeight,!1,!1)){Gr.__dirty&=-2,Gr.__isRendered=!1;return}var Qr=Gr.__clipPaths,Jr=Yr.prevElClipPaths,en=!1,tn=!1;if((!Jr||isClipPathChanged(Qr,Jr))&&(Jr&&Jr.length&&(flushPathDrawn(Wr,Yr),Wr.restore(),tn=en=!0,Yr.prevElClipPaths=null,Yr.allClipped=!1,Yr.prevEl=null),Qr&&Qr.length&&(flushPathDrawn(Wr,Yr),Wr.save(),updateClipStatus(Qr,Wr,Yr),en=!0),Yr.prevElClipPaths=Qr),Yr.allClipped){Gr.__isRendered=!1;return}Gr.beforeBrush&&Gr.beforeBrush(),Gr.innerBeforeBrush();var rn=Yr.prevEl;rn||(tn=en=!0);var an=Gr instanceof Path&&Gr.autoBatch&&canPathBatch(Gr.style);en||isTransformChanged(Kr,rn.transform)?(flushPathDrawn(Wr,Yr),setContextTransform(Wr,Gr)):an||flushPathDrawn(Wr,Yr);var nn=getStyle(Gr,Yr.inHover);Gr instanceof Path?(Yr.lastDrawType!==DRAW_TYPE_PATH&&(tn=!0,Yr.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(Wr,Gr,rn,tn,Yr),(!an||!Yr.batchFill&&!Yr.batchStroke)&&Wr.beginPath(),brushPath(Wr,Gr,nn,an),an&&(Yr.batchFill=nn.fill||"",Yr.batchStroke=nn.stroke||"")):Gr instanceof TSpan?(Yr.lastDrawType!==DRAW_TYPE_TEXT&&(tn=!0,Yr.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(Wr,Gr,rn,tn,Yr),brushText(Wr,Gr,nn)):Gr instanceof ZRImage?(Yr.lastDrawType!==DRAW_TYPE_IMAGE&&(tn=!0,Yr.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(Wr,Gr,rn,tn,Yr),brushImage(Wr,Gr,nn)):Gr.getTemporalDisplayables&&(Yr.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(tn=!0,Yr.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(Wr,Gr,Yr)),an&&Zr&&flushPathDrawn(Wr,Yr),Gr.innerAfterBrush(),Gr.afterBrush&&Gr.afterBrush(),Yr.prevEl=Gr,Gr.__dirty=0,Gr.__isRendered=!0}function brushIncremental(Wr,Gr,Yr){var Zr=Gr.getDisplayables(),Kr=Gr.getTemporalDisplayables();Wr.save();var Qr={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:Yr.viewWidth,viewHeight:Yr.viewHeight,inHover:Yr.inHover},Jr,en;for(Jr=Gr.getCursor(),en=Zr.length;Jr<en;Jr++){var tn=Zr[Jr];tn.beforeBrush&&tn.beforeBrush(),tn.innerBeforeBrush(),brush$1(Wr,tn,Qr,Jr===en-1),tn.innerAfterBrush(),tn.afterBrush&&tn.afterBrush(),Qr.prevEl=tn}for(var rn=0,an=Kr.length;rn<an;rn++){var tn=Kr[rn];tn.beforeBrush&&tn.beforeBrush(),tn.innerBeforeBrush(),brush$1(Wr,tn,Qr,rn===an-1),tn.innerAfterBrush(),tn.afterBrush&&tn.afterBrush(),Qr.prevEl=tn}Gr.clearTemporalDisplayables(),Gr.notClear=!0,Wr.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(Wr,Gr){if(Wr==="none")return null;var Yr=Gr.getDevicePixelRatio(),Zr=Gr.getZr(),Kr=Zr.painter.type==="svg";Wr.dirty&&decalMap.delete(Wr);var Qr=decalMap.get(Wr);if(Qr)return Qr;var Jr=defaults(Wr,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});Jr.backgroundColor==="none"&&(Jr.backgroundColor=null);var en={repeat:"repeat"};return tn(en),en.rotation=Jr.rotation,en.scaleX=en.scaleY=Kr?1:1/Yr,decalMap.set(Wr,en),Wr.dirty=!1,en;function tn(rn){for(var an=[Yr],nn=!0,sn=0;sn<decalKeys.length;++sn){var ln=Jr[decalKeys[sn]];if(ln!=null&&!isArray$1(ln)&&!isString(ln)&&!isNumber(ln)&&typeof ln!="boolean"){nn=!1;break}an.push(ln)}var un;if(nn){un=an.join(",")+(Kr?"-svg":"");var cn=decalCache.get(un);cn&&(Kr?rn.svgElement=cn:rn.image=cn)}var hn=normalizeDashArrayX(Jr.dashArrayX),dn=normalizeDashArrayY(Jr.dashArrayY),fn=normalizeSymbolArray(Jr.symbol),pn=getLineBlockLengthX(hn),gn=getLineBlockLengthY(dn),vn=!Kr&&platformApi.createCanvas(),mn=Kr&&{tag:"g",attrs:{},key:"dcl",children:[]},yn=bn(),xn;vn&&(vn.width=yn.width*Yr,vn.height=yn.height*Yr,xn=vn.getContext("2d")),Sn(),nn&&decalCache.put(un,vn||mn),rn.image=vn,rn.svgElement=mn,rn.svgWidth=yn.width,rn.svgHeight=yn.height;function bn(){for(var wn=1,_n=0,An=pn.length;_n<An;++_n)wn=getLeastCommonMultiple(wn,pn[_n]);for(var Cn=1,_n=0,An=fn.length;_n<An;++_n)Cn=getLeastCommonMultiple(Cn,fn[_n].length);wn*=Cn;var Tn=gn*pn.length*fn.length;return{width:Math.max(1,Math.min(wn,Jr.maxTileWidth)),height:Math.max(1,Math.min(Tn,Jr.maxTileHeight))}}function Sn(){xn&&(xn.clearRect(0,0,vn.width,vn.height),Jr.backgroundColor&&(xn.fillStyle=Jr.backgroundColor,xn.fillRect(0,0,vn.width,vn.height)));for(var wn=0,_n=0;_n<dn.length;++_n)wn+=dn[_n];if(wn<=0)return;for(var An=-gn,Cn=0,Tn=0,Mn=0;An<yn.height;){if(Cn%2===0){for(var En=Tn/2%fn.length,Ln=0,In=0,Pn=0;Ln<yn.width*2;){for(var Dn=0,_n=0;_n<hn[Mn].length;++_n)Dn+=hn[Mn][_n];if(Dn<=0)break;if(In%2===0){var kn=(1-Jr.symbolSize)*.5,Nn=Ln+hn[Mn][In]*kn,Rn=An+dn[Cn]*kn,Fn=hn[Mn][In]*Jr.symbolSize,Hn=dn[Cn]*Jr.symbolSize,Gn=Pn/2%fn[En].length;zn(Nn,Rn,Fn,Hn,fn[En][Gn])}Ln+=hn[Mn][In],++Pn,++In,In===hn[Mn].length&&(In=0)}++Mn,Mn===hn.length&&(Mn=0)}An+=dn[Cn],++Tn,++Cn,Cn===dn.length&&(Cn=0)}function zn(On,Bn,$n,Vn,Yn){var Wn=Kr?1:Yr,Xn=createSymbol$1(Yn,On*Wn,Bn*Wn,$n*Wn,Vn*Wn,Jr.color,Jr.symbolKeepAspect);if(Kr){var qn=Zr.painter.renderOneToVNode(Xn);qn&&mn.children.push(qn)}else brushSingle(xn,Xn)}}}}function normalizeSymbolArray(Wr){if(!Wr||Wr.length===0)return[["rect"]];if(isString(Wr))return[[Wr]];for(var Gr=!0,Yr=0;Yr<Wr.length;++Yr)if(!isString(Wr[Yr])){Gr=!1;break}if(Gr)return normalizeSymbolArray([Wr]);for(var Zr=[],Yr=0;Yr<Wr.length;++Yr)isString(Wr[Yr])?Zr.push([Wr[Yr]]):Zr.push(Wr[Yr]);return Zr}function normalizeDashArrayX(Wr){if(!Wr||Wr.length===0)return[[0,0]];if(isNumber(Wr)){var Gr=Math.ceil(Wr);return[[Gr,Gr]]}for(var Yr=!0,Zr=0;Zr<Wr.length;++Zr)if(!isNumber(Wr[Zr])){Yr=!1;break}if(Yr)return normalizeDashArrayX([Wr]);for(var Kr=[],Zr=0;Zr<Wr.length;++Zr)if(isNumber(Wr[Zr])){var Gr=Math.ceil(Wr[Zr]);Kr.push([Gr,Gr])}else{var Gr=map$1(Wr[Zr],function(en){return Math.ceil(en)});Gr.length%2===1?Kr.push(Gr.concat(Gr)):Kr.push(Gr)}return Kr}function normalizeDashArrayY(Wr){if(!Wr||typeof Wr=="object"&&Wr.length===0)return[0,0];if(isNumber(Wr)){var Gr=Math.ceil(Wr);return[Gr,Gr]}var Yr=map$1(Wr,function(Zr){return Math.ceil(Zr)});return Wr.length%2?Yr.concat(Yr):Yr}function getLineBlockLengthX(Wr){return map$1(Wr,function(Gr){return getLineBlockLengthY(Gr)})}function getLineBlockLengthY(Wr){for(var Gr=0,Yr=0;Yr<Wr.length;++Yr)Gr+=Wr[Yr];return Wr.length%2===1?Gr*2:Gr}function decalVisual(Wr,Gr){Wr.eachRawSeries(function(Yr){if(!Wr.isSeriesFiltered(Yr)){var Zr=Yr.getData();Zr.hasItemVisual()&&Zr.each(function(Jr){var en=Zr.getItemVisual(Jr,"decal");if(en){var tn=Zr.ensureUniqueItemVisual(Jr,"style");tn.decal=createOrUpdatePatternFromDecal(en,Gr)}});var Kr=Zr.getVisual("decal");if(Kr){var Qr=Zr.getVisual("style");Qr.decal=createOrUpdatePatternFromDecal(Kr,Gr)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(Wr,Gr){implsStore[Wr]=Gr}function getImpl(Wr){return implsStore[Wr]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(Wr){return function(){for(var Gr=[],Yr=0;Yr<arguments.length;Yr++)Gr[Yr]=arguments[Yr];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,Wr,Gr)}}function createRegisterEventWithLowercaseMessageCenter(Wr){return function(){for(var Gr=[],Yr=0;Yr<arguments.length;Yr++)Gr[Yr]=arguments[Yr];return toLowercaseNameAndCallEventful(this,Wr,Gr)}}function toLowercaseNameAndCallEventful(Wr,Gr,Yr){return Yr[0]=Yr[0]&&Yr[0].toLowerCase(),Eventful.prototype[Gr].apply(Wr,Yr)}var MessageCenter=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this,new ECEventProcessor)||this;Qr._chartsViews=[],Qr._chartsMap={},Qr._componentsViews=[],Qr._componentsMap={},Qr._pendingActions=[],Kr=Kr||{},isString(Zr)&&(Zr=themeStorage[Zr]),Qr._dom=Yr;var Jr="canvas",en="auto",tn=!1;Kr.ssr&&registerSSRDataGetter(function(sn){var ln=getECData(sn),un=ln.dataIndex;if(un!=null){var cn=createHashMap();return cn.set("series_index",ln.seriesIndex),cn.set("data_index",un),ln.ssrType&&cn.set("ssr_type",ln.ssrType),cn}});var rn=Qr._zr=init$2(Yr,{renderer:Kr.renderer||Jr,devicePixelRatio:Kr.devicePixelRatio,width:Kr.width,height:Kr.height,ssr:Kr.ssr,useDirtyRect:retrieve2(Kr.useDirtyRect,tn),useCoarsePointer:retrieve2(Kr.useCoarsePointer,en),pointerSize:Kr.pointerSize});Qr._ssr=Kr.ssr,Qr._throttledZrFlush=throttle(bind$1(rn.flush,rn),17),Zr=clone$4(Zr),Zr&&globalBackwardCompat(Zr,!0),Qr._theme=Zr,Qr._locale=createLocaleObject(Kr.locale||SYSTEM_LANG),Qr._coordSysMgr=new CoordinateSystemManager;var an=Qr._api=createExtensionAPI(Qr);function nn(sn,ln){return sn.__prio-ln.__prio}return sort$2(visualFuncs,nn),sort$2(dataProcessorFuncs,nn),Qr._scheduler=new Scheduler(Qr,an,dataProcessorFuncs,visualFuncs),Qr._messageCenter=new MessageCenter,Qr._initEvents(),Qr.resize=bind$1(Qr.resize,Qr),rn.animation.on("frame",Qr._onframe,Qr),bindRenderedEvent(rn,Qr),bindMouseEvent(rn,Qr),setAsPrimitive(Qr),Qr}return Gr.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var Yr=this._scheduler;if(this[PENDING_UPDATE]){var Zr=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(tn){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,tn}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,Zr),triggerUpdatedEvent.call(this,Zr)}else if(Yr.unfinished){var Kr=TEST_FRAME_REMAIN_TIME,Qr=this._model,Jr=this._api;Yr.unfinished=!1;do{var en=+new Date;Yr.performSeriesTasks(Qr),Yr.performDataProcessorTasks(Qr),updateStreamModes(this,Qr),Yr.performVisualTasks(Qr),renderSeries(this,this._model,Jr,"remain",{}),Kr-=+new Date-en}while(Kr>0&&Yr.unfinished);Yr.unfinished||this._zr.flush()}}},Gr.prototype.getDom=function(){return this._dom},Gr.prototype.getId=function(){return this.id},Gr.prototype.getZr=function(){return this._zr},Gr.prototype.isSSR=function(){return this._ssr},Gr.prototype.setOption=function(Yr,Zr,Kr){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var Qr,Jr,en;if(isObject$3(Zr)&&(Kr=Zr.lazyUpdate,Qr=Zr.silent,Jr=Zr.replaceMerge,en=Zr.transition,Zr=Zr.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||Zr){var tn=new OptionManager(this._api),rn=this._theme,an=this._model=new GlobalModel;an.scheduler=this._scheduler,an.ssr=this._ssr,an.init(null,null,null,rn,this._locale,tn)}this._model.setOption(Yr,{replaceMerge:Jr},optionPreprocessorFuncs);var nn={seriesTransition:en,optionChanged:!0};if(Kr)this[PENDING_UPDATE]={silent:Qr,updateParams:nn},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,nn)}catch(sn){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,sn}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,Qr),triggerUpdatedEvent.call(this,Qr)}}},Gr.prototype.setTheme=function(){},Gr.prototype.getModel=function(){return this._model},Gr.prototype.getOption=function(){return this._model&&this._model.getOption()},Gr.prototype.getWidth=function(){return this._zr.getWidth()},Gr.prototype.getHeight=function(){return this._zr.getHeight()},Gr.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},Gr.prototype.getRenderedCanvas=function(Yr){return this.renderToCanvas(Yr)},Gr.prototype.renderToCanvas=function(Yr){Yr=Yr||{};var Zr=this._zr.painter;return Zr.getRenderedCanvas({backgroundColor:Yr.backgroundColor||this._model.get("backgroundColor"),pixelRatio:Yr.pixelRatio||this.getDevicePixelRatio()})},Gr.prototype.renderToSVGString=function(Yr){Yr=Yr||{};var Zr=this._zr.painter;return Zr.renderToString({useViewBox:Yr.useViewBox})},Gr.prototype.getSvgDataURL=function(){if(env.svgSupported){var Yr=this._zr,Zr=Yr.storage.getDisplayList();return each$f(Zr,function(Kr){Kr.stopAnimation(null,!0)}),Yr.painter.toDataURL()}},Gr.prototype.getDataURL=function(Yr){if(this._disposed){this.id;return}Yr=Yr||{};var Zr=Yr.excludeComponents,Kr=this._model,Qr=[],Jr=this;each$f(Zr,function(tn){Kr.eachComponent({mainType:tn},function(rn){var an=Jr._componentsMap[rn.__viewId];an.group.ignore||(Qr.push(an),an.group.ignore=!0)})});var en=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(Yr).toDataURL("image/"+(Yr&&Yr.type||"png"));return each$f(Qr,function(tn){tn.group.ignore=!1}),en},Gr.prototype.getConnectedDataURL=function(Yr){if(this._disposed){this.id;return}var Zr=Yr.type==="svg",Kr=this.group,Qr=Math.min,Jr=Math.max,en=1/0;if(connectedGroups[Kr]){var tn=en,rn=en,an=-en,nn=-en,sn=[],ln=Yr&&Yr.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(pn,gn){if(pn.group===Kr){var vn=Zr?pn.getZr().painter.getSvgDom().innerHTML:pn.renderToCanvas(clone$4(Yr)),mn=pn.getDom().getBoundingClientRect();tn=Qr(mn.left,tn),rn=Qr(mn.top,rn),an=Jr(mn.right,an),nn=Jr(mn.bottom,nn),sn.push({dom:vn,left:mn.left,top:mn.top})}}),tn*=ln,rn*=ln,an*=ln,nn*=ln;var un=an-tn,cn=nn-rn,hn=platformApi.createCanvas(),dn=init$2(hn,{renderer:Zr?"svg":"canvas"});if(dn.resize({width:un,height:cn}),Zr){var fn="";return each$f(sn,function(pn){var gn=pn.left-tn,vn=pn.top-rn;fn+='<g transform="translate('+gn+","+vn+')">'+pn.dom+"</g>"}),dn.painter.getSvgRoot().innerHTML=fn,Yr.connectedBackgroundColor&&dn.painter.setBackgroundColor(Yr.connectedBackgroundColor),dn.refreshImmediately(),dn.painter.toDataURL()}else return Yr.connectedBackgroundColor&&dn.add(new Rect$2({shape:{x:0,y:0,width:un,height:cn},style:{fill:Yr.connectedBackgroundColor}})),each$f(sn,function(pn){var gn=new ZRImage({style:{x:pn.left*ln-tn,y:pn.top*ln-rn,image:pn.dom}});dn.add(gn)}),dn.refreshImmediately(),hn.toDataURL("image/"+(Yr&&Yr.type||"png"))}else return this.getDataURL(Yr)},Gr.prototype.convertToPixel=function(Yr,Zr){return doConvertPixel(this,"convertToPixel",Yr,Zr)},Gr.prototype.convertFromPixel=function(Yr,Zr){return doConvertPixel(this,"convertFromPixel",Yr,Zr)},Gr.prototype.containPixel=function(Yr,Zr){if(this._disposed){this.id;return}var Kr=this._model,Qr,Jr=parseFinder$1(Kr,Yr);return each$f(Jr,function(en,tn){tn.indexOf("Models")>=0&&each$f(en,function(rn){var an=rn.coordinateSystem;if(an&&an.containPoint)Qr=Qr||!!an.containPoint(Zr);else if(tn==="seriesModels"){var nn=this._chartsMap[rn.__viewId];nn&&nn.containPoint&&(Qr=Qr||nn.containPoint(Zr,rn))}},this)},this),!!Qr},Gr.prototype.getVisual=function(Yr,Zr){var Kr=this._model,Qr=parseFinder$1(Kr,Yr,{defaultMainType:"series"}),Jr=Qr.seriesModel,en=Jr.getData(),tn=Qr.hasOwnProperty("dataIndexInside")?Qr.dataIndexInside:Qr.hasOwnProperty("dataIndex")?en.indexOfRawIndex(Qr.dataIndex):null;return tn!=null?getItemVisualFromData(en,tn,Zr):getVisualFromData(en,Zr)},Gr.prototype.getViewOfComponentModel=function(Yr){return this._componentsMap[Yr.__viewId]},Gr.prototype.getViewOfSeriesModel=function(Yr){return this._chartsMap[Yr.__viewId]},Gr.prototype._initEvents=function(){var Yr=this;each$f(MOUSE_EVENT_NAMES,function(Zr){var Kr=function(Qr){var Jr=Yr.getModel(),en=Qr.target,tn,rn=Zr==="globalout";if(rn?tn={}:en&&findEventDispatcher(en,function(un){var cn=getECData(un);if(cn&&cn.dataIndex!=null){var hn=cn.dataModel||Jr.getSeriesByIndex(cn.seriesIndex);return tn=hn&&hn.getDataParams(cn.dataIndex,cn.dataType,en)||{},!0}else if(cn.eventData)return tn=extend({},cn.eventData),!0},!0),tn){var an=tn.componentType,nn=tn.componentIndex;(an==="markLine"||an==="markPoint"||an==="markArea")&&(an="series",nn=tn.seriesIndex);var sn=an&&nn!=null&&Jr.getComponent(an,nn),ln=sn&&Yr[sn.mainType==="series"?"_chartsMap":"_componentsMap"][sn.__viewId];tn.event=Qr,tn.type=Zr,Yr._$eventProcessor.eventInfo={targetEl:en,packedEvent:tn,model:sn,view:ln},Yr.trigger(Zr,tn)}};Kr.zrEventfulCallAtLast=!0,Yr._zr.on(Zr,Kr,Yr)}),each$f(eventActionMap,function(Zr,Kr){Yr._messageCenter.on(Kr,function(Qr){this.trigger(Kr,Qr)},Yr)}),each$f(["selectchanged"],function(Zr){Yr._messageCenter.on(Zr,function(Kr){this.trigger(Zr,Kr)},Yr)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},Gr.prototype.isDisposed=function(){return this._disposed},Gr.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},Gr.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var Yr=this.getDom();Yr&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var Zr=this,Kr=Zr._api,Qr=Zr._model;each$f(Zr._componentsViews,function(Jr){Jr.dispose(Qr,Kr)}),each$f(Zr._chartsViews,function(Jr){Jr.dispose(Qr,Kr)}),Zr._zr.dispose(),Zr._dom=Zr._model=Zr._chartsMap=Zr._componentsMap=Zr._chartsViews=Zr._componentsViews=Zr._scheduler=Zr._api=Zr._zr=Zr._throttledZrFlush=Zr._theme=Zr._coordSysMgr=Zr._messageCenter=null,delete instances[Zr.id]},Gr.prototype.resize=function(Yr){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(Yr);var Zr=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!Zr){var Kr=Zr.resetOption("media"),Qr=Yr&&Yr.silent;this[PENDING_UPDATE]&&(Qr==null&&(Qr=this[PENDING_UPDATE].silent),Kr=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{Kr&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},Yr&&Yr.animation)})}catch(Jr){throw this[IN_MAIN_PROCESS_KEY]=!1,Jr}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,Qr),triggerUpdatedEvent.call(this,Qr)}}},Gr.prototype.showLoading=function(Yr,Zr){if(this._disposed){this.id;return}if(isObject$3(Yr)&&(Zr=Yr,Yr=""),Yr=Yr||"default",this.hideLoading(),!!loadingEffects[Yr]){var Kr=loadingEffects[Yr](this._api,Zr),Qr=this._zr;this._loadingFX=Kr,Qr.add(Kr)}},Gr.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Gr.prototype.makeActionFromEvent=function(Yr){var Zr=extend({},Yr);return Zr.type=eventActionMap[Yr.type],Zr},Gr.prototype.dispatchAction=function(Yr,Zr){if(this._disposed){this.id;return}if(isObject$3(Zr)||(Zr={silent:!!Zr}),!!actions[Yr.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(Yr);return}var Kr=Zr.silent;doDispatchAction.call(this,Yr,Kr);var Qr=Zr.flush;Qr?this._zr.flush():Qr!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,Kr),triggerUpdatedEvent.call(this,Kr)}},Gr.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Gr.prototype.appendData=function(Yr){if(this._disposed){this.id;return}var Zr=Yr.seriesIndex,Kr=this.getModel(),Qr=Kr.getSeriesByIndex(Zr);Qr.appendData(Yr),this._scheduler.unfinished=!0,this.getZr().wakeUp()},Gr.internalField=function(){prepare=function(nn){var sn=nn._scheduler;sn.restorePipelines(nn._model),sn.prepareStageTasks(),prepareView(nn,!0),prepareView(nn,!1),sn.plan()},prepareView=function(nn,sn){for(var ln=nn._model,un=nn._scheduler,cn=sn?nn._componentsViews:nn._chartsViews,hn=sn?nn._componentsMap:nn._chartsMap,dn=nn._zr,fn=nn._api,pn=0;pn<cn.length;pn++)cn[pn].__alive=!1;sn?ln.eachComponent(function(mn,yn){mn!=="series"&&gn(yn)}):ln.eachSeries(gn);function gn(mn){var yn=mn.__requireNewView;mn.__requireNewView=!1;var xn="_ec_"+mn.id+"_"+mn.type,bn=!yn&&hn[xn];if(!bn){var Sn=parseClassType(mn.type),wn=sn?ComponentView.getClass(Sn.main,Sn.sub):ChartView.getClass(Sn.sub);bn=new wn,bn.init(ln,fn),hn[xn]=bn,cn.push(bn),dn.add(bn.group)}mn.__viewId=bn.__id=xn,bn.__alive=!0,bn.__model=mn,bn.group.__ecComponentInfo={mainType:mn.mainType,index:mn.componentIndex},!sn&&un.prepareView(bn,mn,ln,fn)}for(var pn=0;pn<cn.length;){var vn=cn[pn];vn.__alive?pn++:(!sn&&vn.renderTask.dispose(),dn.remove(vn.group),vn.dispose(ln,fn),cn.splice(pn,1),hn[vn.__id]===vn&&delete hn[vn.__id],vn.__id=vn.group.__ecComponentInfo=null)}},updateDirectly=function(nn,sn,ln,un,cn){var hn=nn._model;if(hn.setUpdatePayload(ln),!un){each$f([].concat(nn._componentsViews).concat(nn._chartsViews),vn);return}var dn={};dn[un+"Id"]=ln[un+"Id"],dn[un+"Index"]=ln[un+"Index"],dn[un+"Name"]=ln[un+"Name"];var fn={mainType:un,query:dn};cn&&(fn.subType=cn);var pn=ln.excludeSeriesId,gn;pn!=null&&(gn=createHashMap(),each$f(normalizeToArray(pn),function(mn){var yn=convertOptionIdName(mn,null);yn!=null&&gn.set(yn,!0)})),hn&&hn.eachComponent(fn,function(mn){var yn=gn&&gn.get(mn.id)!=null;if(!yn)if(isHighDownPayload(ln))if(mn instanceof SeriesModel)ln.type===HIGHLIGHT_ACTION_TYPE&&!ln.notBlur&&!mn.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(mn,ln,nn._api);else{var xn=findComponentHighDownDispatchers(mn.mainType,mn.componentIndex,ln.name,nn._api),bn=xn.focusSelf,Sn=xn.dispatchers;ln.type===HIGHLIGHT_ACTION_TYPE&&bn&&!ln.notBlur&&blurComponent(mn.mainType,mn.componentIndex,nn._api),Sn&&each$f(Sn,function(wn){ln.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(wn):leaveEmphasis(wn)})}else isSelectChangePayload(ln)&&mn instanceof SeriesModel&&(toggleSelectionFromPayload(mn,ln,nn._api),updateSeriesElementSelection(mn),markStatusToUpdate(nn))},nn),hn&&hn.eachComponent(fn,function(mn){var yn=gn&&gn.get(mn.id)!=null;yn||vn(nn[un==="series"?"_chartsMap":"_componentsMap"][mn.__viewId])},nn);function vn(mn){mn&&mn.__alive&&mn[sn]&&mn[sn](mn.__model,hn,nn._api,ln)}},updateMethods={prepareAndUpdate:function(nn){prepare(this),updateMethods.update.call(this,nn,{optionChanged:nn.newOption!=null})},update:function(nn,sn){var ln=this._model,un=this._api,cn=this._zr,hn=this._coordSysMgr,dn=this._scheduler;if(ln){ln.setUpdatePayload(nn),dn.restoreData(ln,nn),dn.performSeriesTasks(ln),hn.create(ln,un),dn.performDataProcessorTasks(ln,nn),updateStreamModes(this,ln),hn.update(ln,un),Yr(ln),dn.performVisualTasks(ln,nn),render(this,ln,un,nn,sn);var fn=ln.get("backgroundColor")||"transparent",pn=ln.get("darkMode");cn.setBackgroundColor(fn),pn!=null&&pn!=="auto"&&cn.setDarkMode(pn),lifecycle.trigger("afterupdate",ln,un)}},updateTransform:function(nn){var sn=this,ln=this._model,un=this._api;if(ln){ln.setUpdatePayload(nn);var cn=[];ln.eachComponent(function(dn,fn){if(dn!=="series"){var pn=sn.getViewOfComponentModel(fn);if(pn&&pn.__alive)if(pn.updateTransform){var gn=pn.updateTransform(fn,ln,un,nn);gn&&gn.update&&cn.push(pn)}else cn.push(pn)}});var hn=createHashMap();ln.eachSeries(function(dn){var fn=sn._chartsMap[dn.__viewId];if(fn.updateTransform){var pn=fn.updateTransform(dn,ln,un,nn);pn&&pn.update&&hn.set(dn.uid,1)}else hn.set(dn.uid,1)}),Yr(ln),this._scheduler.performVisualTasks(ln,nn,{setDirty:!0,dirtyMap:hn}),renderSeries(this,ln,un,nn,{},hn),lifecycle.trigger("afterupdate",ln,un)}},updateView:function(nn){var sn=this._model;sn&&(sn.setUpdatePayload(nn),ChartView.markUpdateMethod(nn,"updateView"),Yr(sn),this._scheduler.performVisualTasks(sn,nn,{setDirty:!0}),render(this,sn,this._api,nn,{}),lifecycle.trigger("afterupdate",sn,this._api))},updateVisual:function(nn){var sn=this,ln=this._model;ln&&(ln.setUpdatePayload(nn),ln.eachSeries(function(un){un.getData().clearAllVisual()}),ChartView.markUpdateMethod(nn,"updateVisual"),Yr(ln),this._scheduler.performVisualTasks(ln,nn,{visualType:"visual",setDirty:!0}),ln.eachComponent(function(un,cn){if(un!=="series"){var hn=sn.getViewOfComponentModel(cn);hn&&hn.__alive&&hn.updateVisual(cn,ln,sn._api,nn)}}),ln.eachSeries(function(un){var cn=sn._chartsMap[un.__viewId];cn.updateVisual(un,ln,sn._api,nn)}),lifecycle.trigger("afterupdate",ln,this._api))},updateLayout:function(nn){updateMethods.update.call(this,nn)}},doConvertPixel=function(nn,sn,ln,un){if(nn._disposed){nn.id;return}for(var cn=nn._model,hn=nn._coordSysMgr.getCoordinateSystems(),dn,fn=parseFinder$1(cn,ln),pn=0;pn<hn.length;pn++){var gn=hn[pn];if(gn[sn]&&(dn=gn[sn](cn,fn,un))!=null)return dn}},updateStreamModes=function(nn,sn){var ln=nn._chartsMap,un=nn._scheduler;sn.eachSeries(function(cn){un.updateStreamModes(cn,ln[cn.__viewId])})},doDispatchAction=function(nn,sn){var ln=this,un=this.getModel(),cn=nn.type,hn=nn.escapeConnect,dn=actions[cn],fn=dn.actionInfo,pn=(fn.update||"update").split(":"),gn=pn.pop(),vn=pn[0]!=null&&parseClassType(pn[0]);this[IN_MAIN_PROCESS_KEY]=!0;var mn=[nn],yn=!1;nn.batch&&(yn=!0,mn=map$1(nn.batch,function(Cn){return Cn=defaults(extend({},Cn),nn),Cn.batch=null,Cn}));var xn=[],bn,Sn=isSelectChangePayload(nn),wn=isHighDownPayload(nn);if(wn&&allLeaveBlur(this._api),each$f(mn,function(Cn){if(bn=dn.action(Cn,ln._model,ln._api),bn=bn||extend({},Cn),bn.type=fn.event||bn.type,xn.push(bn),wn){var Tn=preParseFinder(nn),Mn=Tn.queryOptionMap,En=Tn.mainTypeSpecified,Ln=En?Mn.keys()[0]:"series";updateDirectly(ln,gn,Cn,Ln),markStatusToUpdate(ln)}else Sn?(updateDirectly(ln,gn,Cn,"series"),markStatusToUpdate(ln)):vn&&updateDirectly(ln,gn,Cn,vn.main,vn.sub)}),gn!=="none"&&!wn&&!Sn&&!vn)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,nn),this[PENDING_UPDATE]=null):updateMethods[gn].call(this,nn)}catch(Cn){throw this[IN_MAIN_PROCESS_KEY]=!1,Cn}if(yn?bn={type:fn.event||cn,escapeConnect:hn,batch:xn}:bn=xn[0],this[IN_MAIN_PROCESS_KEY]=!1,!sn){var _n=this._messageCenter;if(_n.trigger(bn.type,bn),Sn){var An={type:"selectchanged",escapeConnect:hn,selected:getAllSelectedIndices(un),isFromClick:nn.isFromClick||!1,fromAction:nn.type,fromActionPayload:nn};_n.trigger(An.type,An)}}},flushPendingActions=function(nn){for(var sn=this._pendingActions;sn.length;){var ln=sn.shift();doDispatchAction.call(this,ln,nn)}},triggerUpdatedEvent=function(nn){!nn&&this.trigger("updated")},bindRenderedEvent=function(nn,sn){nn.on("rendered",function(ln){sn.trigger("rendered",ln),nn.animation.isFinished()&&!sn[PENDING_UPDATE]&&!sn._scheduler.unfinished&&!sn._pendingActions.length&&sn.trigger("finished")})},bindMouseEvent=function(nn,sn){nn.on("mouseover",function(ln){var un=ln.target,cn=findEventDispatcher(un,isHighDownDispatcher);cn&&(handleGlobalMouseOverForHighDown(cn,ln,sn._api),markStatusToUpdate(sn))}).on("mouseout",function(ln){var un=ln.target,cn=findEventDispatcher(un,isHighDownDispatcher);cn&&(handleGlobalMouseOutForHighDown(cn,ln,sn._api),markStatusToUpdate(sn))}).on("click",function(ln){var un=ln.target,cn=findEventDispatcher(un,function(fn){return getECData(fn).dataIndex!=null},!0);if(cn){var hn=cn.selected?"unselect":"select",dn=getECData(cn);sn._api.dispatchAction({type:hn,dataType:dn.dataType,dataIndexInside:dn.dataIndex,seriesIndex:dn.seriesIndex,isFromClick:!0})}})};function Yr(nn){nn.clearColorPalette(),nn.eachSeries(function(sn){sn.clearColorPalette()})}function Zr(nn){var sn=[],ln=[],un=!1;if(nn.eachComponent(function(fn,pn){var gn=pn.get("zlevel")||0,vn=pn.get("z")||0,mn=pn.getZLevelKey();un=un||!!mn,(fn==="series"?ln:sn).push({zlevel:gn,z:vn,idx:pn.componentIndex,type:fn,key:mn})}),un){var cn=sn.concat(ln),hn,dn;sort$2(cn,function(fn,pn){return fn.zlevel===pn.zlevel?fn.z-pn.z:fn.zlevel-pn.zlevel}),each$f(cn,function(fn){var pn=nn.getComponent(fn.type,fn.idx),gn=fn.zlevel,vn=fn.key;hn!=null&&(gn=Math.max(hn,gn)),vn?(gn===hn&&vn!==dn&&gn++,dn=vn):dn&&(gn===hn&&gn++,dn=""),hn=gn,pn.setZLevel(gn)})}}render=function(nn,sn,ln,un,cn){Zr(sn),renderComponents(nn,sn,ln,un,cn),each$f(nn._chartsViews,function(hn){hn.__alive=!1}),renderSeries(nn,sn,ln,un,cn),each$f(nn._chartsViews,function(hn){hn.__alive||hn.remove(sn,ln)})},renderComponents=function(nn,sn,ln,un,cn,hn){each$f(hn||nn._componentsViews,function(dn){var fn=dn.__model;rn(fn,dn),dn.render(fn,sn,ln,un),en(fn,dn),an(fn,dn)})},renderSeries=function(nn,sn,ln,un,cn,hn){var dn=nn._scheduler;cn=extend(cn||{},{updatedSeries:sn.getSeries()}),lifecycle.trigger("series:beforeupdate",sn,ln,cn);var fn=!1;sn.eachSeries(function(pn){var gn=nn._chartsMap[pn.__viewId];gn.__alive=!0;var vn=gn.renderTask;dn.updatePayload(vn,un),rn(pn,gn),hn&&hn.get(pn.uid)&&vn.dirty(),vn.perform(dn.getPerformArgs(vn))&&(fn=!0),gn.group.silent=!!pn.get("silent"),Jr(pn,gn),updateSeriesElementSelection(pn)}),dn.unfinished=fn||dn.unfinished,lifecycle.trigger("series:layoutlabels",sn,ln,cn),lifecycle.trigger("series:transition",sn,ln,cn),sn.eachSeries(function(pn){var gn=nn._chartsMap[pn.__viewId];en(pn,gn),an(pn,gn)}),Qr(nn,sn),lifecycle.trigger("series:afterupdate",sn,ln,cn)},markStatusToUpdate=function(nn){nn[STATUS_NEEDS_UPDATE_KEY]=!0,nn.getZr().wakeUp()},applyChangedStates=function(nn){nn[STATUS_NEEDS_UPDATE_KEY]&&(nn.getZr().storage.traverse(function(sn){isElementRemoved(sn)||Kr(sn)}),nn[STATUS_NEEDS_UPDATE_KEY]=!1)};function Kr(nn){for(var sn=[],ln=nn.currentStates,un=0;un<ln.length;un++){var cn=ln[un];cn==="emphasis"||cn==="blur"||cn==="select"||sn.push(cn)}nn.selected&&nn.states.select&&sn.push("select"),nn.hoverState===HOVER_STATE_EMPHASIS&&nn.states.emphasis?sn.push("emphasis"):nn.hoverState===HOVER_STATE_BLUR&&nn.states.blur&&sn.push("blur"),nn.useStates(sn)}function Qr(nn,sn){var ln=nn._zr,un=ln.storage,cn=0;un.traverse(function(hn){hn.isGroup||cn++}),cn>sn.get("hoverLayerThreshold")&&!env.node&&!env.worker&&sn.eachSeries(function(hn){if(!hn.preventUsingHoverLayer){var dn=nn._chartsMap[hn.__viewId];dn.__alive&&dn.eachRendered(function(fn){fn.states.emphasis&&(fn.states.emphasis.hoverLayer=!0)})}})}function Jr(nn,sn){var ln=nn.get("blendMode")||null;sn.eachRendered(function(un){un.isGroup||(un.style.blend=ln)})}function en(nn,sn){if(!nn.preventAutoZ){var ln=nn.get("z")||0,un=nn.get("zlevel")||0;sn.eachRendered(function(cn){return tn(cn,ln,un,-1/0),!0})}}function tn(nn,sn,ln,un){var cn=nn.getTextContent(),hn=nn.getTextGuideLine(),dn=nn.isGroup;if(dn)for(var fn=nn.childrenRef(),pn=0;pn<fn.length;pn++)un=Math.max(tn(fn[pn],sn,ln,un),un);else nn.z=sn,nn.zlevel=ln,un=Math.max(nn.z2,un);if(cn&&(cn.z=sn,cn.zlevel=ln,isFinite(un)&&(cn.z2=un+2)),hn){var gn=nn.textGuideLineConfig;hn.z=sn,hn.zlevel=ln,isFinite(un)&&(hn.z2=un+(gn&&gn.showAbove?1:-1))}return un}function rn(nn,sn){sn.eachRendered(function(ln){if(!isElementRemoved(ln)){var un=ln.getTextContent(),cn=ln.getTextGuideLine();ln.stateTransition&&(ln.stateTransition=null),un&&un.stateTransition&&(un.stateTransition=null),cn&&cn.stateTransition&&(cn.stateTransition=null),ln.hasState()?(ln.prevStates=ln.currentStates,ln.clearStates()):ln.prevStates&&(ln.prevStates=null)}})}function an(nn,sn){var ln=nn.getModel("stateAnimation"),un=nn.isAnimationEnabled(),cn=ln.get("duration"),hn=cn>0?{duration:cn,delay:ln.get("delay"),easing:ln.get("easing")}:null;sn.eachRendered(function(dn){if(dn.states&&dn.states.emphasis){if(isElementRemoved(dn))return;if(dn instanceof Path&&savePathStates(dn),dn.__dirty){var fn=dn.prevStates;fn&&dn.useStates(fn)}if(un){dn.stateTransition=hn;var pn=dn.getTextContent(),gn=dn.getTextGuideLine();pn&&(pn.stateTransition=hn),gn&&(gn.stateTransition=hn)}dn.__dirty&&Kr(dn)}})}createExtensionAPI=function(nn){return new(function(sn){__extends(ln,sn);function ln(){return sn!==null&&sn.apply(this,arguments)||this}return ln.prototype.getCoordinateSystems=function(){return nn._coordSysMgr.getCoordinateSystems()},ln.prototype.getComponentByElement=function(un){for(;un;){var cn=un.__ecComponentInfo;if(cn!=null)return nn._model.getComponent(cn.mainType,cn.index);un=un.parent}},ln.prototype.enterEmphasis=function(un,cn){enterEmphasis(un,cn),markStatusToUpdate(nn)},ln.prototype.leaveEmphasis=function(un,cn){leaveEmphasis(un,cn),markStatusToUpdate(nn)},ln.prototype.enterBlur=function(un){enterBlur(un),markStatusToUpdate(nn)},ln.prototype.leaveBlur=function(un){leaveBlur(un),markStatusToUpdate(nn)},ln.prototype.enterSelect=function(un){enterSelect(un),markStatusToUpdate(nn)},ln.prototype.leaveSelect=function(un){leaveSelect(un),markStatusToUpdate(nn)},ln.prototype.getModel=function(){return nn.getModel()},ln.prototype.getViewOfComponentModel=function(un){return nn.getViewOfComponentModel(un)},ln.prototype.getViewOfSeriesModel=function(un){return nn.getViewOfSeriesModel(un)},ln}(ExtensionAPI))(nn)},enableConnect=function(nn){function sn(ln,un){for(var cn=0;cn<ln.length;cn++){var hn=ln[cn];hn[CONNECT_STATUS_KEY]=un}}each$f(eventActionMap,function(ln,un){nn._messageCenter.on(un,function(cn){if(connectedGroups[nn.group]&&nn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(cn&&cn.escapeConnect)return;var hn=nn.makeActionFromEvent(cn),dn=[];each$f(instances,function(fn){fn!==nn&&fn.group===nn.group&&dn.push(fn)}),sn(dn,CONNECT_STATUS_PENDING),each$f(dn,function(fn){fn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&fn.dispatchAction(hn)}),sn(dn,CONNECT_STATUS_UPDATED)}})})}}(),Gr}(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(Wr,Gr,Yr){var Zr=this;function Kr(){for(var Qr=[],Jr=0;Jr<arguments.length;Jr++)Qr[Jr]=arguments[Jr];Gr&&Gr.apply&&Gr.apply(this,Qr),Zr.off(Wr,Kr)}this.on.call(this,Wr,Kr,Yr)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(Wr){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(Wr,Gr,Yr){var Zr=!(Yr&&Yr.ssr);if(Zr){var Kr=getInstanceByDom(Wr);if(Kr)return Kr}var Qr=new ECharts(Wr,Gr,Yr);return Qr.id="ec_"+idBase++,instances[Qr.id]=Qr,Zr&&setAttribute(Wr,DOM_ATTRIBUTE_KEY,Qr.id),enableConnect(Qr),lifecycle.trigger("afterinit",Qr),Qr}function getInstanceByDom(Wr){return instances[getAttribute(Wr,DOM_ATTRIBUTE_KEY)]}function registerTheme(Wr,Gr){themeStorage[Wr]=Gr}function registerPreprocessor(Wr){indexOf(optionPreprocessorFuncs,Wr)<0&&optionPreprocessorFuncs.push(Wr)}function registerProcessor(Wr,Gr){normalizeRegister(dataProcessorFuncs,Wr,Gr,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(Wr){registerUpdateLifecycle("afterinit",Wr)}function registerPostUpdate(Wr){registerUpdateLifecycle("afterupdate",Wr)}function registerUpdateLifecycle(Wr,Gr){lifecycle.on(Wr,Gr)}function registerAction(Wr,Gr,Yr){isFunction(Gr)&&(Yr=Gr,Gr="");var Zr=isObject$3(Wr)?Wr.type:[Wr,Wr={event:Gr}][0];Wr.event=(Wr.event||Zr).toLowerCase(),Gr=Wr.event,!eventActionMap[Gr]&&(assert(ACTION_REG.test(Zr)&&ACTION_REG.test(Gr)),actions[Zr]||(actions[Zr]={action:Yr,actionInfo:Wr}),eventActionMap[Gr]=Zr)}function registerCoordinateSystem(Wr,Gr){CoordinateSystemManager.register(Wr,Gr)}function registerLayout(Wr,Gr){normalizeRegister(visualFuncs,Wr,Gr,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(Wr,Gr){normalizeRegister(visualFuncs,Wr,Gr,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(Wr,Gr,Yr,Zr,Kr){if((isFunction(Gr)||isObject$3(Gr))&&(Yr=Gr,Gr=Zr),!(indexOf(registeredTasks,Yr)>=0)){registeredTasks.push(Yr);var Qr=Scheduler.wrapStageHandler(Yr,Kr);Qr.__prio=Gr,Qr.__raw=Yr,Wr.push(Qr)}}function registerLoading(Wr,Gr){loadingEffects[Wr]=Gr}function registerMap$1(Wr,Gr,Yr){var Zr=getImpl("registerMap");Zr&&Zr(Wr,Gr,Yr)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",theme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(Wr){ComponentModel.registerClass(Wr)},registerComponentView:function(Wr){ComponentView.registerClass(Wr)},registerSeriesModel:function(Wr){SeriesModel.registerClass(Wr)},registerChartView:function(Wr){ChartView.registerClass(Wr)},registerSubTypeDefaulter:function(Wr,Gr){ComponentModel.registerSubTypeDefaulter(Wr,Gr)},registerPainter:function(Wr,Gr){registerPainter(Wr,Gr)}};function use(Wr){if(isArray$1(Wr)){each$f(Wr,function(Gr){use(Gr)});return}indexOf(extensions,Wr)>=0||(extensions.push(Wr),isFunction(Wr)&&(Wr={install:Wr}),Wr.install(extensionRegisters))}function dataIndexMapValueLength(Wr){return Wr==null?0:Wr.length||1}function defaultKeyGetter(Wr){return Wr}var DataDiffer=function(){function Wr(Gr,Yr,Zr,Kr,Qr,Jr){this._old=Gr,this._new=Yr,this._oldKeyGetter=Zr||defaultKeyGetter,this._newKeyGetter=Kr||defaultKeyGetter,this.context=Qr,this._diffModeMultiple=Jr==="multiple"}return Wr.prototype.add=function(Gr){return this._add=Gr,this},Wr.prototype.update=function(Gr){return this._update=Gr,this},Wr.prototype.updateManyToOne=function(Gr){return this._updateManyToOne=Gr,this},Wr.prototype.updateOneToMany=function(Gr){return this._updateOneToMany=Gr,this},Wr.prototype.updateManyToMany=function(Gr){return this._updateManyToMany=Gr,this},Wr.prototype.remove=function(Gr){return this._remove=Gr,this},Wr.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},Wr.prototype._executeOneToOne=function(){var Gr=this._old,Yr=this._new,Zr={},Kr=new Array(Gr.length),Qr=new Array(Yr.length);this._initIndexMap(Gr,null,Kr,"_oldKeyGetter"),this._initIndexMap(Yr,Zr,Qr,"_newKeyGetter");for(var Jr=0;Jr<Gr.length;Jr++){var en=Kr[Jr],tn=Zr[en],rn=dataIndexMapValueLength(tn);if(rn>1){var an=tn.shift();tn.length===1&&(Zr[en]=tn[0]),this._update&&this._update(an,Jr)}else rn===1?(Zr[en]=null,this._update&&this._update(tn,Jr)):this._remove&&this._remove(Jr)}this._performRestAdd(Qr,Zr)},Wr.prototype._executeMultiple=function(){var Gr=this._old,Yr=this._new,Zr={},Kr={},Qr=[],Jr=[];this._initIndexMap(Gr,Zr,Qr,"_oldKeyGetter"),this._initIndexMap(Yr,Kr,Jr,"_newKeyGetter");for(var en=0;en<Qr.length;en++){var tn=Qr[en],rn=Zr[tn],an=Kr[tn],nn=dataIndexMapValueLength(rn),sn=dataIndexMapValueLength(an);if(nn>1&&sn===1)this._updateManyToOne&&this._updateManyToOne(an,rn),Kr[tn]=null;else if(nn===1&&sn>1)this._updateOneToMany&&this._updateOneToMany(an,rn),Kr[tn]=null;else if(nn===1&&sn===1)this._update&&this._update(an,rn),Kr[tn]=null;else if(nn>1&&sn>1)this._updateManyToMany&&this._updateManyToMany(an,rn),Kr[tn]=null;else if(nn>1)for(var ln=0;ln<nn;ln++)this._remove&&this._remove(rn[ln]);else this._remove&&this._remove(rn)}this._performRestAdd(Jr,Kr)},Wr.prototype._performRestAdd=function(Gr,Yr){for(var Zr=0;Zr<Gr.length;Zr++){var Kr=Gr[Zr],Qr=Yr[Kr],Jr=dataIndexMapValueLength(Qr);if(Jr>1)for(var en=0;en<Jr;en++)this._add&&this._add(Qr[en]);else Jr===1&&this._add&&this._add(Qr);Yr[Kr]=null}},Wr.prototype._initIndexMap=function(Gr,Yr,Zr,Kr){for(var Qr=this._diffModeMultiple,Jr=0;Jr<Gr.length;Jr++){var en="_ec_"+this[Kr](Gr[Jr],Jr);if(Qr||(Zr[Jr]=en),!!Yr){var tn=Yr[en],rn=dataIndexMapValueLength(tn);rn===0?(Yr[en]=Jr,Qr&&Zr.push(en)):rn===1?Yr[en]=[tn,Jr]:tn.push(Jr)}}},Wr}(),DimensionUserOuput=function(){function Wr(Gr,Yr){this._encode=Gr,this._schema=Yr}return Wr.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},Wr.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},Wr}();function summarizeDimensions(Wr,Gr){var Yr={},Zr=Yr.encode={},Kr=createHashMap(),Qr=[],Jr=[],en={};each$f(Wr.dimensions,function(sn){var ln=Wr.getDimensionInfo(sn),un=ln.coordDim;if(un){var cn=ln.coordDimIndex;getOrCreateEncodeArr(Zr,un)[cn]=sn,ln.isExtraCoord||(Kr.set(un,1),mayLabelDimType(ln.type)&&(Qr[0]=sn),getOrCreateEncodeArr(en,un)[cn]=Wr.getDimensionIndex(ln.name)),ln.defaultTooltip&&Jr.push(sn)}VISUAL_DIMENSIONS.each(function(hn,dn){var fn=getOrCreateEncodeArr(Zr,dn),pn=ln.otherDims[dn];pn!=null&&pn!==!1&&(fn[pn]=ln.name)})});var tn=[],rn={};Kr.each(function(sn,ln){var un=Zr[ln];rn[ln]=un[0],tn=tn.concat(un)}),Yr.dataDimsOnCoord=tn,Yr.dataDimIndicesOnCoord=map$1(tn,function(sn){return Wr.getDimensionInfo(sn).storeDimIndex}),Yr.encodeFirstDimNotExtra=rn;var an=Zr.label;an&&an.length&&(Qr=an.slice());var nn=Zr.tooltip;return nn&&nn.length?Jr=nn.slice():Jr.length||(Jr=Qr.slice()),Zr.defaultedLabel=Qr,Zr.defaultedTooltip=Jr,Yr.userOutput=new DimensionUserOuput(en,Gr),Yr}function getOrCreateEncodeArr(Wr,Gr){return Wr.hasOwnProperty(Gr)||(Wr[Gr]=[]),Wr[Gr]}function getDimensionTypeByAxis(Wr){return Wr==="category"?"ordinal":Wr==="time"?"time":"float"}function mayLabelDimType(Wr){return!(Wr==="ordinal"||Wr==="time")}var SeriesDimensionDefine=function(){function Wr(Gr){this.otherDims={},Gr!=null&&extend(this,Gr)}return Wr}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function Wr(Gr){this.dimensions=Gr.dimensions,this._dimOmitted=Gr.dimensionOmitted,this.source=Gr.source,this._fullDimCount=Gr.fullDimensionCount,this._updateDimOmitted(Gr.dimensionOmitted)}return Wr.prototype.isDimensionOmitted=function(){return this._dimOmitted},Wr.prototype._updateDimOmitted=function(Gr){this._dimOmitted=Gr,Gr&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},Wr.prototype.getSourceDimensionIndex=function(Gr){return retrieve2(this._dimNameMap.get(Gr),-1)},Wr.prototype.getSourceDimension=function(Gr){var Yr=this.source.dimensionsDefine;if(Yr)return Yr[Gr]},Wr.prototype.makeStoreSchema=function(){for(var Gr=this._fullDimCount,Yr=shouldRetrieveDataByName(this.source),Zr=!shouldOmitUnusedDimensions(Gr),Kr="",Qr=[],Jr=0,en=0;Jr<Gr;Jr++){var tn=void 0,rn=void 0,an=void 0,nn=this.dimensions[en];if(nn&&nn.storeDimIndex===Jr)tn=Yr?nn.name:null,rn=nn.type,an=nn.ordinalMeta,en++;else{var sn=this.getSourceDimension(Jr);sn&&(tn=Yr?sn.name:null,rn=sn.type)}Qr.push({property:tn,type:rn,ordinalMeta:an}),Yr&&tn!=null&&(!nn||!nn.isCalculationCoord)&&(Kr+=Zr?tn.replace(/\`/g,"`1").replace(/\$/g,"`2"):tn),Kr+="$",Kr+=dimTypeShort[rn]||"f",an&&(Kr+=an.uid),Kr+="$"}var ln=this.source,un=[ln.seriesLayoutBy,ln.startIndex,Kr].join("$$");return{dimensions:Qr,hash:un}},Wr.prototype.makeOutputDimensionNames=function(){for(var Gr=[],Yr=0,Zr=0;Yr<this._fullDimCount;Yr++){var Kr=void 0,Qr=this.dimensions[Zr];if(Qr&&Qr.storeDimIndex===Yr)Qr.isCalculationCoord||(Kr=Qr.name),Zr++;else{var Jr=this.getSourceDimension(Yr);Jr&&(Kr=Jr.name)}Gr.push(Kr)}return Gr},Wr.prototype.appendCalculationDimension=function(Gr){this.dimensions.push(Gr),Gr.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},Wr}();function isSeriesDataSchema(Wr){return Wr instanceof SeriesDataSchema}function createDimNameMap(Wr){for(var Gr=createHashMap(),Yr=0;Yr<(Wr||[]).length;Yr++){var Zr=Wr[Yr],Kr=isObject$3(Zr)?Zr.name:Zr;Kr!=null&&Gr.get(Kr)==null&&Gr.set(Kr,Yr)}return Gr}function ensureSourceDimNameMap(Wr){var Gr=inner$h(Wr);return Gr.dimNameMap||(Gr.dimNameMap=createDimNameMap(Wr.dimensionsDefine))}function shouldOmitUnusedDimensions(Wr){return Wr>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function Wr(Gr,Yr){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var Zr,Kr=!1;isSeriesDataSchema(Gr)?(Zr=Gr.dimensions,this._dimOmitted=Gr.isDimensionOmitted(),this._schema=Gr):(Kr=!0,Zr=Gr),Zr=Zr||["x","y"];for(var Qr={},Jr=[],en={},tn=!1,rn={},an=0;an<Zr.length;an++){var nn=Zr[an],sn=isString(nn)?new SeriesDimensionDefine({name:nn}):nn instanceof SeriesDimensionDefine?nn:new SeriesDimensionDefine(nn),ln=sn.name;sn.type=sn.type||"float",sn.coordDim||(sn.coordDim=ln,sn.coordDimIndex=0);var un=sn.otherDims=sn.otherDims||{};Jr.push(ln),Qr[ln]=sn,rn[ln]!=null&&(tn=!0),sn.createInvertedIndices&&(en[ln]=[]),un.itemName===0&&(this._nameDimIdx=an),un.itemId===0&&(this._idDimIdx=an),Kr&&(sn.storeDimIndex=an)}if(this.dimensions=Jr,this._dimInfos=Qr,this._initGetDimensionInfo(tn),this.hostModel=Yr,this._invertedIndicesMap=en,this._dimOmitted){var cn=this._dimIdxToName=createHashMap();each$f(Jr,function(hn){cn.set(Qr[hn].storeDimIndex,hn)})}}return Wr.prototype.getDimension=function(Gr){var Yr=this._recognizeDimIndex(Gr);if(Yr==null)return Gr;if(Yr=Gr,!this._dimOmitted)return this.dimensions[Yr];var Zr=this._dimIdxToName.get(Yr);if(Zr!=null)return Zr;var Kr=this._schema.getSourceDimension(Yr);if(Kr)return Kr.name},Wr.prototype.getDimensionIndex=function(Gr){var Yr=this._recognizeDimIndex(Gr);if(Yr!=null)return Yr;if(Gr==null)return-1;var Zr=this._getDimInfo(Gr);return Zr?Zr.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(Gr):-1},Wr.prototype._recognizeDimIndex=function(Gr){if(isNumber(Gr)||Gr!=null&&!isNaN(Gr)&&!this._getDimInfo(Gr)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(Gr)<0))return+Gr},Wr.prototype._getStoreDimIndex=function(Gr){var Yr=this.getDimensionIndex(Gr);return Yr},Wr.prototype.getDimensionInfo=function(Gr){return this._getDimInfo(this.getDimension(Gr))},Wr.prototype._initGetDimensionInfo=function(Gr){var Yr=this._dimInfos;this._getDimInfo=Gr?function(Zr){return Yr.hasOwnProperty(Zr)?Yr[Zr]:void 0}:function(Zr){return Yr[Zr]}},Wr.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},Wr.prototype.mapDimension=function(Gr,Yr){var Zr=this._dimSummary;if(Yr==null)return Zr.encodeFirstDimNotExtra[Gr];var Kr=Zr.encode[Gr];return Kr?Kr[Yr]:null},Wr.prototype.mapDimensionsAll=function(Gr){var Yr=this._dimSummary,Zr=Yr.encode[Gr];return(Zr||[]).slice()},Wr.prototype.getStore=function(){return this._store},Wr.prototype.initData=function(Gr,Yr,Zr){var Kr=this,Qr;if(Gr instanceof DataStore&&(Qr=Gr),!Qr){var Jr=this.dimensions,en=isSourceInstance(Gr)||isArrayLike(Gr)?new DefaultDataProvider(Gr,Jr.length):Gr;Qr=new DataStore;var tn=map(Jr,function(rn){return{type:Kr._dimInfos[rn].type,property:rn}});Qr.initData(en,tn,Zr)}this._store=Qr,this._nameList=(Yr||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,Qr.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},Wr.prototype.appendData=function(Gr){var Yr=this._store.appendData(Gr);this._doInit(Yr[0],Yr[1])},Wr.prototype.appendValues=function(Gr,Yr){var Zr=this._store.appendValues(Gr,Yr&&Yr.length),Kr=Zr.start,Qr=Zr.end,Jr=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),Yr)for(var en=Kr;en<Qr;en++){var tn=en-Kr;this._nameList[en]=Yr[tn],Jr&&makeIdFromName(this,en)}},Wr.prototype._updateOrdinalMeta=function(){for(var Gr=this._store,Yr=this.dimensions,Zr=0;Zr<Yr.length;Zr++){var Kr=this._dimInfos[Yr[Zr]];Kr.ordinalMeta&&Gr.collectOrdinalMeta(Kr.storeDimIndex,Kr.ordinalMeta)}},Wr.prototype._shouldMakeIdFromName=function(){var Gr=this._store.getProvider();return this._idDimIdx==null&&Gr.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!Gr.fillStorage},Wr.prototype._doInit=function(Gr,Yr){if(!(Gr>=Yr)){var Zr=this._store,Kr=Zr.getProvider();this._updateOrdinalMeta();var Qr=this._nameList,Jr=this._idList,en=Kr.getSource().sourceFormat,tn=en===SOURCE_FORMAT_ORIGINAL;if(tn&&!Kr.pure)for(var rn=[],an=Gr;an<Yr;an++){var nn=Kr.getItem(an,rn);if(!this.hasItemOption&&isDataItemOption(nn)&&(this.hasItemOption=!0),nn){var sn=nn.name;Qr[an]==null&&sn!=null&&(Qr[an]=convertOptionIdName(sn,null));var ln=nn.id;Jr[an]==null&&ln!=null&&(Jr[an]=convertOptionIdName(ln,null))}}if(this._shouldMakeIdFromName())for(var an=Gr;an<Yr;an++)makeIdFromName(this,an);prepareInvertedIndex(this)}},Wr.prototype.getApproximateExtent=function(Gr){return this._approximateExtent[Gr]||this._store.getDataExtent(this._getStoreDimIndex(Gr))},Wr.prototype.setApproximateExtent=function(Gr,Yr){Yr=this.getDimension(Yr),this._approximateExtent[Yr]=Gr.slice()},Wr.prototype.getCalculationInfo=function(Gr){return this._calculationInfo[Gr]},Wr.prototype.setCalculationInfo=function(Gr,Yr){isObject$1(Gr)?extend(this._calculationInfo,Gr):this._calculationInfo[Gr]=Yr},Wr.prototype.getName=function(Gr){var Yr=this.getRawIndex(Gr),Zr=this._nameList[Yr];return Zr==null&&this._nameDimIdx!=null&&(Zr=getIdNameFromStore(this,this._nameDimIdx,Yr)),Zr==null&&(Zr=""),Zr},Wr.prototype._getCategory=function(Gr,Yr){var Zr=this._store.get(Gr,Yr),Kr=this._store.getOrdinalMeta(Gr);return Kr?Kr.categories[Zr]:Zr},Wr.prototype.getId=function(Gr){return getId(this,this.getRawIndex(Gr))},Wr.prototype.count=function(){return this._store.count()},Wr.prototype.get=function(Gr,Yr){var Zr=this._store,Kr=this._dimInfos[Gr];if(Kr)return Zr.get(Kr.storeDimIndex,Yr)},Wr.prototype.getByRawIndex=function(Gr,Yr){var Zr=this._store,Kr=this._dimInfos[Gr];if(Kr)return Zr.getByRawIndex(Kr.storeDimIndex,Yr)},Wr.prototype.getIndices=function(){return this._store.getIndices()},Wr.prototype.getDataExtent=function(Gr){return this._store.getDataExtent(this._getStoreDimIndex(Gr))},Wr.prototype.getSum=function(Gr){return this._store.getSum(this._getStoreDimIndex(Gr))},Wr.prototype.getMedian=function(Gr){return this._store.getMedian(this._getStoreDimIndex(Gr))},Wr.prototype.getValues=function(Gr,Yr){var Zr=this,Kr=this._store;return isArray$1(Gr)?Kr.getValues(map(Gr,function(Qr){return Zr._getStoreDimIndex(Qr)}),Yr):Kr.getValues(Gr)},Wr.prototype.hasValue=function(Gr){for(var Yr=this._dimSummary.dataDimIndicesOnCoord,Zr=0,Kr=Yr.length;Zr<Kr;Zr++)if(isNaN(this._store.get(Yr[Zr],Gr)))return!1;return!0},Wr.prototype.indexOfName=function(Gr){for(var Yr=0,Zr=this._store.count();Yr<Zr;Yr++)if(this.getName(Yr)===Gr)return Yr;return-1},Wr.prototype.getRawIndex=function(Gr){return this._store.getRawIndex(Gr)},Wr.prototype.indexOfRawIndex=function(Gr){return this._store.indexOfRawIndex(Gr)},Wr.prototype.rawIndexOf=function(Gr,Yr){var Zr=Gr&&this._invertedIndicesMap[Gr],Kr=Zr&&Zr[Yr];return Kr==null||isNaN(Kr)?INDEX_NOT_FOUND:Kr},Wr.prototype.indicesOfNearest=function(Gr,Yr,Zr){return this._store.indicesOfNearest(this._getStoreDimIndex(Gr),Yr,Zr)},Wr.prototype.each=function(Gr,Yr,Zr){isFunction(Gr)&&(Zr=Yr,Yr=Gr,Gr=[]);var Kr=Zr||this,Qr=map(normalizeDimensions(Gr),this._getStoreDimIndex,this);this._store.each(Qr,Kr?bind$1(Yr,Kr):Yr)},Wr.prototype.filterSelf=function(Gr,Yr,Zr){isFunction(Gr)&&(Zr=Yr,Yr=Gr,Gr=[]);var Kr=Zr||this,Qr=map(normalizeDimensions(Gr),this._getStoreDimIndex,this);return this._store=this._store.filter(Qr,Kr?bind$1(Yr,Kr):Yr),this},Wr.prototype.selectRange=function(Gr){var Yr=this,Zr={},Kr=keys(Gr);return each$f(Kr,function(Qr){var Jr=Yr._getStoreDimIndex(Qr);Zr[Jr]=Gr[Qr]}),this._store=this._store.selectRange(Zr),this},Wr.prototype.mapArray=function(Gr,Yr,Zr){isFunction(Gr)&&(Zr=Yr,Yr=Gr,Gr=[]),Zr=Zr||this;var Kr=[];return this.each(Gr,function(){Kr.push(Yr&&Yr.apply(this,arguments))},Zr),Kr},Wr.prototype.map=function(Gr,Yr,Zr,Kr){var Qr=Zr||Kr||this,Jr=map(normalizeDimensions(Gr),this._getStoreDimIndex,this),en=cloneListForMapAndSample(this);return en._store=this._store.map(Jr,Qr?bind$1(Yr,Qr):Yr),en},Wr.prototype.modify=function(Gr,Yr,Zr,Kr){var Qr=Zr||Kr||this,Jr=map(normalizeDimensions(Gr),this._getStoreDimIndex,this);this._store.modify(Jr,Qr?bind$1(Yr,Qr):Yr)},Wr.prototype.downSample=function(Gr,Yr,Zr,Kr){var Qr=cloneListForMapAndSample(this);return Qr._store=this._store.downSample(this._getStoreDimIndex(Gr),Yr,Zr,Kr),Qr},Wr.prototype.minmaxDownSample=function(Gr,Yr){var Zr=cloneListForMapAndSample(this);return Zr._store=this._store.minmaxDownSample(this._getStoreDimIndex(Gr),Yr),Zr},Wr.prototype.lttbDownSample=function(Gr,Yr){var Zr=cloneListForMapAndSample(this);return Zr._store=this._store.lttbDownSample(this._getStoreDimIndex(Gr),Yr),Zr},Wr.prototype.getRawDataItem=function(Gr){return this._store.getRawDataItem(Gr)},Wr.prototype.getItemModel=function(Gr){var Yr=this.hostModel,Zr=this.getRawDataItem(Gr);return new Model(Zr,Yr,Yr&&Yr.ecModel)},Wr.prototype.diff=function(Gr){var Yr=this;return new DataDiffer(Gr?Gr.getStore().getIndices():[],this.getStore().getIndices(),function(Zr){return getId(Gr,Zr)},function(Zr){return getId(Yr,Zr)})},Wr.prototype.getVisual=function(Gr){var Yr=this._visual;return Yr&&Yr[Gr]},Wr.prototype.setVisual=function(Gr,Yr){this._visual=this._visual||{},isObject$1(Gr)?extend(this._visual,Gr):this._visual[Gr]=Yr},Wr.prototype.getItemVisual=function(Gr,Yr){var Zr=this._itemVisuals[Gr],Kr=Zr&&Zr[Yr];return Kr??this.getVisual(Yr)},Wr.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},Wr.prototype.ensureUniqueItemVisual=function(Gr,Yr){var Zr=this._itemVisuals,Kr=Zr[Gr];Kr||(Kr=Zr[Gr]={});var Qr=Kr[Yr];return Qr==null&&(Qr=this.getVisual(Yr),isArray$1(Qr)?Qr=Qr.slice():isObject$1(Qr)&&(Qr=extend({},Qr)),Kr[Yr]=Qr),Qr},Wr.prototype.setItemVisual=function(Gr,Yr,Zr){var Kr=this._itemVisuals[Gr]||{};this._itemVisuals[Gr]=Kr,isObject$1(Yr)?extend(Kr,Yr):Kr[Yr]=Zr},Wr.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},Wr.prototype.setLayout=function(Gr,Yr){isObject$1(Gr)?extend(this._layout,Gr):this._layout[Gr]=Yr},Wr.prototype.getLayout=function(Gr){return this._layout[Gr]},Wr.prototype.getItemLayout=function(Gr){return this._itemLayouts[Gr]},Wr.prototype.setItemLayout=function(Gr,Yr,Zr){this._itemLayouts[Gr]=Zr?extend(this._itemLayouts[Gr]||{},Yr):Yr},Wr.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},Wr.prototype.setItemGraphicEl=function(Gr,Yr){var Zr=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(Zr,this.dataType,Gr,Yr),this._graphicEls[Gr]=Yr},Wr.prototype.getItemGraphicEl=function(Gr){return this._graphicEls[Gr]},Wr.prototype.eachItemGraphicEl=function(Gr,Yr){each$f(this._graphicEls,function(Zr,Kr){Zr&&Gr&&Gr.call(Yr,Zr,Kr)})},Wr.prototype.cloneShallow=function(Gr){return Gr||(Gr=new Wr(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(Gr,this),Gr._store=this._store,Gr},Wr.prototype.wrapMethod=function(Gr,Yr){var Zr=this[Gr];isFunction(Zr)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(Gr),this[Gr]=function(){var Kr=Zr.apply(this,arguments);return Yr.apply(this,[Kr].concat(slice(arguments)))})},Wr.internalField=function(){prepareInvertedIndex=function(Gr){var Yr=Gr._invertedIndicesMap;each$f(Yr,function(Zr,Kr){var Qr=Gr._dimInfos[Kr],Jr=Qr.ordinalMeta,en=Gr._store;if(Jr){Zr=Yr[Kr]=new CtorInt32Array(Jr.categories.length);for(var tn=0;tn<Zr.length;tn++)Zr[tn]=INDEX_NOT_FOUND;for(var tn=0;tn<en.count();tn++)Zr[en.get(Qr.storeDimIndex,tn)]=tn}})},getIdNameFromStore=function(Gr,Yr,Zr){return convertOptionIdName(Gr._getCategory(Yr,Zr),null)},getId=function(Gr,Yr){var Zr=Gr._idList[Yr];return Zr==null&&Gr._idDimIdx!=null&&(Zr=getIdNameFromStore(Gr,Gr._idDimIdx,Yr)),Zr==null&&(Zr=ID_PREFIX+Yr),Zr},normalizeDimensions=function(Gr){return isArray$1(Gr)||(Gr=Gr!=null?[Gr]:[]),Gr},cloneListForMapAndSample=function(Gr){var Yr=new Wr(Gr._schema?Gr._schema:map(Gr.dimensions,Gr._getDimInfo,Gr),Gr.hostModel);return transferProperties(Yr,Gr),Yr},transferProperties=function(Gr,Yr){each$f(TRANSFERABLE_PROPERTIES.concat(Yr.__wrappedMethods||[]),function(Zr){Yr.hasOwnProperty(Zr)&&(Gr[Zr]=Yr[Zr])}),Gr.__wrappedMethods=Yr.__wrappedMethods,each$f(CLONE_PROPERTIES,function(Zr){Gr[Zr]=clone$4(Yr[Zr])}),Gr._calculationInfo=extend({},Yr._calculationInfo)},makeIdFromName=function(Gr,Yr){var Zr=Gr._nameList,Kr=Gr._idList,Qr=Gr._nameDimIdx,Jr=Gr._idDimIdx,en=Zr[Yr],tn=Kr[Yr];if(en==null&&Qr!=null&&(Zr[Yr]=en=getIdNameFromStore(Gr,Qr,Yr)),tn==null&&Jr!=null&&(Kr[Yr]=tn=getIdNameFromStore(Gr,Jr,Yr)),tn==null&&en!=null){var rn=Gr._nameRepeatCount,an=rn[en]=(rn[en]||0)+1;tn=en,an>1&&(tn+="__ec__"+an),Kr[Yr]=tn}}}(),Wr}();function prepareSeriesDataSchema(Wr,Gr){isSourceInstance(Wr)||(Wr=createSourceFromSeriesDataOption(Wr)),Gr=Gr||{};var Yr=Gr.coordDimensions||[],Zr=Gr.dimensionsDefine||Wr.dimensionsDefine||[],Kr=createHashMap(),Qr=[],Jr=getDimCount(Wr,Yr,Zr,Gr.dimensionsCount),en=Gr.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(Jr),tn=Zr===Wr.dimensionsDefine,rn=tn?ensureSourceDimNameMap(Wr):createDimNameMap(Zr),an=Gr.encodeDefine;!an&&Gr.encodeDefaulter&&(an=Gr.encodeDefaulter(Wr,Jr));for(var nn=createHashMap(an),sn=new CtorInt32Array$1(Jr),ln=0;ln<sn.length;ln++)sn[ln]=-1;function un(bn){var Sn=sn[bn];if(Sn<0){var wn=Zr[bn],_n=isObject$3(wn)?wn:{name:wn},An=new SeriesDimensionDefine,Cn=_n.name;Cn!=null&&rn.get(Cn)!=null&&(An.name=An.displayName=Cn),_n.type!=null&&(An.type=_n.type),_n.displayName!=null&&(An.displayName=_n.displayName);var Tn=Qr.length;return sn[bn]=Tn,An.storeDimIndex=bn,Qr.push(An),An}return Qr[Sn]}if(!en)for(var ln=0;ln<Jr;ln++)un(ln);nn.each(function(bn,Sn){var wn=normalizeToArray(bn).slice();if(wn.length===1&&!isString(wn[0])&&wn[0]<0){nn.set(Sn,!1);return}var _n=nn.set(Sn,[]);each$f(wn,function(An,Cn){var Tn=isString(An)?rn.get(An):An;Tn!=null&&Tn<Jr&&(_n[Cn]=Tn,hn(un(Tn),Sn,Cn))})});var cn=0;each$f(Yr,function(bn){var Sn,wn,_n,An;if(isString(bn))Sn=bn,An={};else{An=bn,Sn=An.name;var Cn=An.ordinalMeta;An.ordinalMeta=null,An=extend({},An),An.ordinalMeta=Cn,wn=An.dimsDef,_n=An.otherDims,An.name=An.coordDim=An.coordDimIndex=An.dimsDef=An.otherDims=null}var Tn=nn.get(Sn);if(Tn!==!1){if(Tn=normalizeToArray(Tn),!Tn.length)for(var Mn=0;Mn<(wn&&wn.length||1);Mn++){for(;cn<Jr&&un(cn).coordDim!=null;)cn++;cn<Jr&&Tn.push(cn++)}each$f(Tn,function(En,Ln){var In=un(En);if(tn&&An.type!=null&&(In.type=An.type),hn(defaults(In,An),Sn,Ln),In.name==null&&wn){var Pn=wn[Ln];!isObject$3(Pn)&&(Pn={name:Pn}),In.name=In.displayName=Pn.name,In.defaultTooltip=Pn.defaultTooltip}_n&&defaults(In.otherDims,_n)})}});function hn(bn,Sn,wn){VISUAL_DIMENSIONS.get(Sn)!=null?bn.otherDims[Sn]=wn:(bn.coordDim=Sn,bn.coordDimIndex=wn,Kr.set(Sn,!0))}var dn=Gr.generateCoord,fn=Gr.generateCoordCount,pn=fn!=null;fn=dn?fn||1:0;var gn=dn||"value";function vn(bn){bn.name==null&&(bn.name=bn.coordDim)}if(en)each$f(Qr,function(bn){vn(bn)}),Qr.sort(function(bn,Sn){return bn.storeDimIndex-Sn.storeDimIndex});else for(var mn=0;mn<Jr;mn++){var yn=un(mn),xn=yn.coordDim;xn==null&&(yn.coordDim=genCoordDimName(gn,Kr,pn),yn.coordDimIndex=0,(!dn||fn<=0)&&(yn.isExtraCoord=!0),fn--),vn(yn),yn.type==null&&(guessOrdinal(Wr,mn)===BE_ORDINAL.Must||yn.isExtraCoord&&(yn.otherDims.itemName!=null||yn.otherDims.seriesName!=null))&&(yn.type="ordinal")}return removeDuplication(Qr),new SeriesDataSchema({source:Wr,dimensions:Qr,fullDimensionCount:Jr,dimensionOmitted:en})}function removeDuplication(Wr){for(var Gr=createHashMap(),Yr=0;Yr<Wr.length;Yr++){var Zr=Wr[Yr],Kr=Zr.name,Qr=Gr.get(Kr)||0;Qr>0&&(Zr.name=Kr+(Qr-1)),Qr++,Gr.set(Kr,Qr)}}function getDimCount(Wr,Gr,Yr,Zr){var Kr=Math.max(Wr.dimensionsDetectedCount||1,Gr.length,Yr.length,Zr||0);return each$f(Gr,function(Qr){var Jr;isObject$3(Qr)&&(Jr=Qr.dimsDef)&&(Kr=Math.max(Kr,Jr.length))}),Kr}function genCoordDimName(Wr,Gr,Yr){if(Yr||Gr.hasKey(Wr)){for(var Zr=0;Gr.hasKey(Wr+Zr);)Zr++;Wr+=Zr}return Gr.set(Wr,!0),Wr}var CoordSysInfo=function(){function Wr(Gr){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=Gr}return Wr}();function getCoordSysInfoBySeries(Wr){var Gr=Wr.get("coordinateSystem"),Yr=new CoordSysInfo(Gr),Zr=fetchers[Gr];if(Zr)return Zr(Wr,Yr,Yr.axisMap,Yr.categoryAxisMap),Yr}var fetchers={cartesian2d:function(Wr,Gr,Yr,Zr){var Kr=Wr.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],Qr=Wr.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];Gr.coordSysDims=["x","y"],Yr.set("x",Kr),Yr.set("y",Qr),isCategory(Kr)&&(Zr.set("x",Kr),Gr.firstCategoryDimIndex=0),isCategory(Qr)&&(Zr.set("y",Qr),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=1))},singleAxis:function(Wr,Gr,Yr,Zr){var Kr=Wr.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];Gr.coordSysDims=["single"],Yr.set("single",Kr),isCategory(Kr)&&(Zr.set("single",Kr),Gr.firstCategoryDimIndex=0)},polar:function(Wr,Gr,Yr,Zr){var Kr=Wr.getReferringComponents("polar",SINGLE_REFERRING).models[0],Qr=Kr.findAxisModel("radiusAxis"),Jr=Kr.findAxisModel("angleAxis");Gr.coordSysDims=["radius","angle"],Yr.set("radius",Qr),Yr.set("angle",Jr),isCategory(Qr)&&(Zr.set("radius",Qr),Gr.firstCategoryDimIndex=0),isCategory(Jr)&&(Zr.set("angle",Jr),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=1))},geo:function(Wr,Gr,Yr,Zr){Gr.coordSysDims=["lng","lat"]},parallel:function(Wr,Gr,Yr,Zr){var Kr=Wr.ecModel,Qr=Kr.getComponent("parallel",Wr.get("parallelIndex")),Jr=Gr.coordSysDims=Qr.dimensions.slice();each$f(Qr.parallelAxisIndex,function(en,tn){var rn=Kr.getComponent("parallelAxis",en),an=Jr[tn];Yr.set(an,rn),isCategory(rn)&&(Zr.set(an,rn),Gr.firstCategoryDimIndex==null&&(Gr.firstCategoryDimIndex=tn))})}};function isCategory(Wr){return Wr.get("type")==="category"}function enableDataStack(Wr,Gr,Yr){Yr=Yr||{};var Zr=Yr.byIndex,Kr=Yr.stackedCoordDimension,Qr,Jr,en;isLegacyDimensionsInput(Gr)?Qr=Gr:(Jr=Gr.schema,Qr=Jr.dimensions,en=Gr.store);var tn=!!(Wr&&Wr.get("stack")),rn,an,nn,sn;if(each$f(Qr,function(fn,pn){isString(fn)&&(Qr[pn]=fn={name:fn}),tn&&!fn.isExtraCoord&&(!Zr&&!rn&&fn.ordinalMeta&&(rn=fn),!an&&fn.type!=="ordinal"&&fn.type!=="time"&&(!Kr||Kr===fn.coordDim)&&(an=fn))}),an&&!Zr&&!rn&&(Zr=!0),an){nn="__\0ecstackresult_"+Wr.id,sn="__\0ecstackedover_"+Wr.id,rn&&(rn.createInvertedIndices=!0);var ln=an.coordDim,un=an.type,cn=0;each$f(Qr,function(fn){fn.coordDim===ln&&cn++});var hn={name:nn,coordDim:ln,coordDimIndex:cn,type:un,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Qr.length},dn={name:sn,coordDim:sn,coordDimIndex:cn+1,type:un,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Qr.length+1};Jr?(en&&(hn.storeDimIndex=en.ensureCalculationDimension(sn,un),dn.storeDimIndex=en.ensureCalculationDimension(nn,un)),Jr.appendCalculationDimension(hn),Jr.appendCalculationDimension(dn)):(Qr.push(hn),Qr.push(dn))}return{stackedDimension:an&&an.name,stackedByDimension:rn&&rn.name,isStackedByIndex:Zr,stackedOverDimension:sn,stackResultDimension:nn}}function isLegacyDimensionsInput(Wr){return!isSeriesDataSchema(Wr.schema)}function isDimensionStacked(Wr,Gr){return!!Gr&&Gr===Wr.getCalculationInfo("stackedDimension")}function getStackedDimension(Wr,Gr){return isDimensionStacked(Wr,Gr)?Wr.getCalculationInfo("stackResultDimension"):Gr}function getCoordSysDimDefs(Wr,Gr){var Yr=Wr.get("coordinateSystem"),Zr=CoordinateSystemManager.get(Yr),Kr;return Gr&&Gr.coordSysDims&&(Kr=map$1(Gr.coordSysDims,function(Qr){var Jr={name:Qr},en=Gr.axisMap.get(Qr);if(en){var tn=en.get("type");Jr.type=getDimensionTypeByAxis(tn)}return Jr})),Kr||(Kr=Zr&&(Zr.getDimensionsInfo?Zr.getDimensionsInfo():Zr.dimensions.slice())||["x","y"]),Kr}function injectOrdinalMeta(Wr,Gr,Yr){var Zr,Kr;return Yr&&each$f(Wr,function(Qr,Jr){var en=Qr.coordDim,tn=Yr.categoryAxisMap.get(en);tn&&(Zr==null&&(Zr=Jr),Qr.ordinalMeta=tn.getOrdinalMeta(),Gr&&(Qr.createInvertedIndices=!0)),Qr.otherDims.itemName!=null&&(Kr=!0)}),!Kr&&Zr!=null&&(Wr[Zr].otherDims.itemName=0),Zr}function createSeriesData(Wr,Gr,Yr){Yr=Yr||{};var Zr=Gr.getSourceManager(),Kr,Qr=!1;Wr?(Qr=!0,Kr=createSourceFromSeriesDataOption(Wr)):(Kr=Zr.getSource(),Qr=Kr.sourceFormat===SOURCE_FORMAT_ORIGINAL);var Jr=getCoordSysInfoBySeries(Gr),en=getCoordSysDimDefs(Gr,Jr),tn=Yr.useEncodeDefaulter,rn=isFunction(tn)?tn:tn?curry$1(makeSeriesEncodeForAxisCoordSys,en,Gr):null,an={coordDimensions:en,generateCoord:Yr.generateCoord,encodeDefine:Gr.getEncode(),encodeDefaulter:rn,canOmitUnusedDimensions:!Qr},nn=prepareSeriesDataSchema(Kr,an),sn=injectOrdinalMeta(nn.dimensions,Yr.createInvertedIndices,Jr),ln=Qr?null:Zr.getSharedDataStore(nn),un=enableDataStack(Gr,{schema:nn,store:ln}),cn=new SeriesData(nn,Gr);cn.setCalculationInfo(un);var hn=sn!=null&&isNeedCompleteOrdinalData(Kr)?function(dn,fn,pn,gn){return gn===sn?pn:this.defaultDimValueGetter(dn,fn,pn,gn)}:null;return cn.hasItemOption=!1,cn.initData(Qr?Kr:ln,null,hn),cn}function isNeedCompleteOrdinalData(Wr){if(Wr.sourceFormat===SOURCE_FORMAT_ORIGINAL){var Gr=firstDataNotNull(Wr.data||[]);return!isArray$1(getDataItemValue(Gr))}}function firstDataNotNull(Wr){for(var Gr=0;Gr<Wr.length&&Wr[Gr]==null;)Gr++;return Wr[Gr]}var Scale=function(){function Wr(Gr){this._setting=Gr||{},this._extent=[1/0,-1/0]}return Wr.prototype.getSetting=function(Gr){return this._setting[Gr]},Wr.prototype.unionExtent=function(Gr){var Yr=this._extent;Gr[0]<Yr[0]&&(Yr[0]=Gr[0]),Gr[1]>Yr[1]&&(Yr[1]=Gr[1])},Wr.prototype.unionExtentFromData=function(Gr,Yr){this.unionExtent(Gr.getApproximateExtent(Yr))},Wr.prototype.getExtent=function(){return this._extent.slice()},Wr.prototype.setExtent=function(Gr,Yr){var Zr=this._extent;isNaN(Gr)||(Zr[0]=Gr),isNaN(Yr)||(Zr[1]=Yr)},Wr.prototype.isInExtentRange=function(Gr){return this._extent[0]<=Gr&&this._extent[1]>=Gr},Wr.prototype.isBlank=function(){return this._isBlank},Wr.prototype.setBlank=function(Gr){this._isBlank=Gr},Wr}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function Wr(Gr){this.categories=Gr.categories||[],this._needCollect=Gr.needCollect,this._deduplication=Gr.deduplication,this.uid=++uidBase}return Wr.createByAxisModel=function(Gr){var Yr=Gr.option,Zr=Yr.data,Kr=Zr&&map$1(Zr,getName);return new Wr({categories:Kr,needCollect:!Kr,deduplication:Yr.dedplication!==!1})},Wr.prototype.getOrdinal=function(Gr){return this._getOrCreateMap().get(Gr)},Wr.prototype.parseAndCollect=function(Gr){var Yr,Zr=this._needCollect;if(!isString(Gr)&&!Zr)return Gr;if(Zr&&!this._deduplication)return Yr=this.categories.length,this.categories[Yr]=Gr,Yr;var Kr=this._getOrCreateMap();return Yr=Kr.get(Gr),Yr==null&&(Zr?(Yr=this.categories.length,this.categories[Yr]=Gr,Kr.set(Gr,Yr)):Yr=NaN),Yr},Wr.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},Wr}();function getName(Wr){return isObject$3(Wr)&&Wr.value!=null?Wr.value:Wr+""}function isIntervalOrLogScale(Wr){return Wr.type==="interval"||Wr.type==="log"}function intervalScaleNiceTicks(Wr,Gr,Yr,Zr){var Kr={},Qr=Wr[1]-Wr[0],Jr=Kr.interval=nice(Qr/Gr);Yr!=null&&Jr<Yr&&(Jr=Kr.interval=Yr),Zr!=null&&Jr>Zr&&(Jr=Kr.interval=Zr);var en=Kr.intervalPrecision=getIntervalPrecision(Jr),tn=Kr.niceTickExtent=[round$3(Math.ceil(Wr[0]/Jr)*Jr,en),round$3(Math.floor(Wr[1]/Jr)*Jr,en)];return fixExtent(tn,Wr),Kr}function increaseInterval(Wr){var Gr=Math.pow(10,quantityExponent(Wr)),Yr=Wr/Gr;return Yr?Yr===2?Yr=3:Yr===3?Yr=5:Yr*=2:Yr=1,round$3(Yr*Gr)}function getIntervalPrecision(Wr){return getPrecision(Wr)+2}function clamp(Wr,Gr,Yr){Wr[Gr]=Math.max(Math.min(Wr[Gr],Yr[1]),Yr[0])}function fixExtent(Wr,Gr){!isFinite(Wr[0])&&(Wr[0]=Gr[0]),!isFinite(Wr[1])&&(Wr[1]=Gr[1]),clamp(Wr,0,Gr),clamp(Wr,1,Gr),Wr[0]>Wr[1]&&(Wr[0]=Wr[1])}function contain$1(Wr,Gr){return Wr>=Gr[0]&&Wr<=Gr[1]}function normalize$2(Wr,Gr){return Gr[1]===Gr[0]?.5:(Wr-Gr[0])/(Gr[1]-Gr[0])}function scale(Wr,Gr){return Wr*(Gr[1]-Gr[0])+Gr[0]}var OrdinalScale=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;Zr.type="ordinal";var Kr=Zr.getSetting("ordinalMeta");return Kr||(Kr=new OrdinalMeta({})),isArray$1(Kr)&&(Kr=new OrdinalMeta({categories:map$1(Kr,function(Qr){return isObject$3(Qr)?Qr.value:Qr})})),Zr._ordinalMeta=Kr,Zr._extent=Zr.getSetting("extent")||[0,Kr.categories.length-1],Zr}return Gr.prototype.parse=function(Yr){return Yr==null?NaN:isString(Yr)?this._ordinalMeta.getOrdinal(Yr):Math.round(Yr)},Gr.prototype.contain=function(Yr){return Yr=this.parse(Yr),contain$1(Yr,this._extent)&&this._ordinalMeta.categories[Yr]!=null},Gr.prototype.normalize=function(Yr){return Yr=this._getTickNumber(this.parse(Yr)),normalize$2(Yr,this._extent)},Gr.prototype.scale=function(Yr){return Yr=Math.round(scale(Yr,this._extent)),this.getRawOrdinalNumber(Yr)},Gr.prototype.getTicks=function(){for(var Yr=[],Zr=this._extent,Kr=Zr[0];Kr<=Zr[1];)Yr.push({value:Kr}),Kr++;return Yr},Gr.prototype.getMinorTicks=function(Yr){},Gr.prototype.setSortInfo=function(Yr){if(Yr==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var Zr=Yr.ordinalNumbers,Kr=this._ordinalNumbersByTick=[],Qr=this._ticksByOrdinalNumber=[],Jr=0,en=this._ordinalMeta.categories.length,tn=Math.min(en,Zr.length);Jr<tn;++Jr){var rn=Zr[Jr];Kr[Jr]=rn,Qr[rn]=Jr}for(var an=0;Jr<en;++Jr){for(;Qr[an]!=null;)an++;Kr.push(an),Qr[an]=Jr}},Gr.prototype._getTickNumber=function(Yr){var Zr=this._ticksByOrdinalNumber;return Zr&&Yr>=0&&Yr<Zr.length?Zr[Yr]:Yr},Gr.prototype.getRawOrdinalNumber=function(Yr){var Zr=this._ordinalNumbersByTick;return Zr&&Yr>=0&&Yr<Zr.length?Zr[Yr]:Yr},Gr.prototype.getLabel=function(Yr){if(!this.isBlank()){var Zr=this.getRawOrdinalNumber(Yr.value),Kr=this._ordinalMeta.categories[Zr];return Kr==null?"":Kr+""}},Gr.prototype.count=function(){return this._extent[1]-this._extent[0]+1},Gr.prototype.unionExtentFromData=function(Yr,Zr){this.unionExtent(Yr.getApproximateExtent(Zr))},Gr.prototype.isInExtentRange=function(Yr){return Yr=this._getTickNumber(Yr),this._extent[0]<=Yr&&this._extent[1]>=Yr},Gr.prototype.getOrdinalMeta=function(){return this._ordinalMeta},Gr.prototype.calcNiceTicks=function(){},Gr.prototype.calcNiceExtent=function(){},Gr.type="ordinal",Gr}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$3,IntervalScale=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="interval",Yr._interval=0,Yr._intervalPrecision=2,Yr}return Gr.prototype.parse=function(Yr){return Yr},Gr.prototype.contain=function(Yr){return contain$1(Yr,this._extent)},Gr.prototype.normalize=function(Yr){return normalize$2(Yr,this._extent)},Gr.prototype.scale=function(Yr){return scale(Yr,this._extent)},Gr.prototype.setExtent=function(Yr,Zr){var Kr=this._extent;isNaN(Yr)||(Kr[0]=parseFloat(Yr)),isNaN(Zr)||(Kr[1]=parseFloat(Zr))},Gr.prototype.unionExtent=function(Yr){var Zr=this._extent;Yr[0]<Zr[0]&&(Zr[0]=Yr[0]),Yr[1]>Zr[1]&&(Zr[1]=Yr[1]),this.setExtent(Zr[0],Zr[1])},Gr.prototype.getInterval=function(){return this._interval},Gr.prototype.setInterval=function(Yr){this._interval=Yr,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(Yr)},Gr.prototype.getTicks=function(Yr){var Zr=this._interval,Kr=this._extent,Qr=this._niceExtent,Jr=this._intervalPrecision,en=[];if(!Zr)return en;var tn=1e4;Kr[0]<Qr[0]&&(Yr?en.push({value:roundNumber(Qr[0]-Zr,Jr)}):en.push({value:Kr[0]}));for(var rn=Qr[0];rn<=Qr[1]&&(en.push({value:rn}),rn=roundNumber(rn+Zr,Jr),rn!==en[en.length-1].value);)if(en.length>tn)return[];var an=en.length?en[en.length-1].value:Qr[1];return Kr[1]>an&&(Yr?en.push({value:roundNumber(an+Zr,Jr)}):en.push({value:Kr[1]})),en},Gr.prototype.getMinorTicks=function(Yr){for(var Zr=this.getTicks(!0),Kr=[],Qr=this.getExtent(),Jr=1;Jr<Zr.length;Jr++){for(var en=Zr[Jr],tn=Zr[Jr-1],rn=0,an=[],nn=en.value-tn.value,sn=nn/Yr;rn<Yr-1;){var ln=roundNumber(tn.value+(rn+1)*sn);ln>Qr[0]&&ln<Qr[1]&&an.push(ln),rn++}Kr.push(an)}return Kr},Gr.prototype.getLabel=function(Yr,Zr){if(Yr==null)return"";var Kr=Zr&&Zr.precision;Kr==null?Kr=getPrecision(Yr.value)||0:Kr==="auto"&&(Kr=this._intervalPrecision);var Qr=roundNumber(Yr.value,Kr,!0);return addCommas(Qr)},Gr.prototype.calcNiceTicks=function(Yr,Zr,Kr){Yr=Yr||5;var Qr=this._extent,Jr=Qr[1]-Qr[0];if(isFinite(Jr)){Jr<0&&(Jr=-Jr,Qr.reverse());var en=intervalScaleNiceTicks(Qr,Yr,Zr,Kr);this._intervalPrecision=en.intervalPrecision,this._interval=en.interval,this._niceExtent=en.niceTickExtent}},Gr.prototype.calcNiceExtent=function(Yr){var Zr=this._extent;if(Zr[0]===Zr[1])if(Zr[0]!==0){var Kr=Math.abs(Zr[0]);Yr.fixMax||(Zr[1]+=Kr/2),Zr[0]-=Kr/2}else Zr[1]=1;var Qr=Zr[1]-Zr[0];isFinite(Qr)||(Zr[0]=0,Zr[1]=1),this.calcNiceTicks(Yr.splitNumber,Yr.minInterval,Yr.maxInterval);var Jr=this._interval;Yr.fixMin||(Zr[0]=roundNumber(Math.floor(Zr[0]/Jr)*Jr)),Yr.fixMax||(Zr[1]=roundNumber(Math.ceil(Zr[1]/Jr)*Jr))},Gr.prototype.setNiceExtent=function(Yr,Zr){this._niceExtent=[Yr,Zr]},Gr.type="interval",Gr}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(Wr){return isArray$1(Wr)?supportFloat32Array?new Float32Array(Wr):Wr:new Float32ArrayCtor(Wr)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(Wr){return Wr.get("stack")||STACK_PREFIX+Wr.seriesIndex}function getAxisKey$1(Wr){return Wr.dim+Wr.index}function getLayoutOnAxis(Wr){var Gr=[],Yr=Wr.axis,Zr="axis0";if(Yr.type==="category"){for(var Kr=Yr.getBandWidth(),Qr=0;Qr<Wr.count;Qr++)Gr.push(defaults({bandWidth:Kr,axisKey:Zr,stackId:STACK_PREFIX+Qr},Wr));for(var Jr=doCalBarWidthAndOffset(Gr),en=[],Qr=0;Qr<Wr.count;Qr++){var tn=Jr[Zr][STACK_PREFIX+Qr];tn.offsetCenter=tn.offset+tn.width/2,en.push(tn)}return en}}function prepareLayoutBarSeries(Wr,Gr){var Yr=[];return Gr.eachSeriesByType(Wr,function(Zr){isOnCartesian(Zr)&&Yr.push(Zr)}),Yr}function getValueAxesMinGaps(Wr){var Gr={};each$f(Wr,function(tn){var rn=tn.coordinateSystem,an=rn.getBaseAxis();if(!(an.type!=="time"&&an.type!=="value"))for(var nn=tn.getData(),sn=an.dim+"_"+an.index,ln=nn.getDimensionIndex(nn.mapDimension(an.dim)),un=nn.getStore(),cn=0,hn=un.count();cn<hn;++cn){var dn=un.get(ln,cn);Gr[sn]?Gr[sn].push(dn):Gr[sn]=[dn]}});var Yr={};for(var Zr in Gr)if(Gr.hasOwnProperty(Zr)){var Kr=Gr[Zr];if(Kr){Kr.sort(function(tn,rn){return tn-rn});for(var Qr=null,Jr=1;Jr<Kr.length;++Jr){var en=Kr[Jr]-Kr[Jr-1];en>0&&(Qr=Qr===null?en:Math.min(Qr,en))}Yr[Zr]=Qr}}return Yr}function makeColumnLayout(Wr){var Gr=getValueAxesMinGaps(Wr),Yr=[];return each$f(Wr,function(Zr){var Kr=Zr.coordinateSystem,Qr=Kr.getBaseAxis(),Jr=Qr.getExtent(),en;if(Qr.type==="category")en=Qr.getBandWidth();else if(Qr.type==="value"||Qr.type==="time"){var tn=Qr.dim+"_"+Qr.index,rn=Gr[tn],an=Math.abs(Jr[1]-Jr[0]),nn=Qr.scale.getExtent(),sn=Math.abs(nn[1]-nn[0]);en=rn?an/sn*rn:an}else{var ln=Zr.getData();en=Math.abs(Jr[1]-Jr[0])/ln.count()}var un=parsePercent(Zr.get("barWidth"),en),cn=parsePercent(Zr.get("barMaxWidth"),en),hn=parsePercent(Zr.get("barMinWidth")||(isInLargeMode(Zr)?.5:1),en),dn=Zr.get("barGap"),fn=Zr.get("barCategoryGap");Yr.push({bandWidth:en,barWidth:un,barMaxWidth:cn,barMinWidth:hn,barGap:dn,barCategoryGap:fn,axisKey:getAxisKey$1(Qr),stackId:getSeriesStackId$1(Zr)})}),doCalBarWidthAndOffset(Yr)}function doCalBarWidthAndOffset(Wr){var Gr={};each$f(Wr,function(Zr,Kr){var Qr=Zr.axisKey,Jr=Zr.bandWidth,en=Gr[Qr]||{bandWidth:Jr,remainedWidth:Jr,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},tn=en.stacks;Gr[Qr]=en;var rn=Zr.stackId;tn[rn]||en.autoWidthCount++,tn[rn]=tn[rn]||{width:0,maxWidth:0};var an=Zr.barWidth;an&&!tn[rn].width&&(tn[rn].width=an,an=Math.min(en.remainedWidth,an),en.remainedWidth-=an);var nn=Zr.barMaxWidth;nn&&(tn[rn].maxWidth=nn);var sn=Zr.barMinWidth;sn&&(tn[rn].minWidth=sn);var ln=Zr.barGap;ln!=null&&(en.gap=ln);var un=Zr.barCategoryGap;un!=null&&(en.categoryGap=un)});var Yr={};return each$f(Gr,function(Zr,Kr){Yr[Kr]={};var Qr=Zr.stacks,Jr=Zr.bandWidth,en=Zr.categoryGap;if(en==null){var tn=keys(Qr).length;en=Math.max(35-tn*4,15)+"%"}var rn=parsePercent(en,Jr),an=parsePercent(Zr.gap,1),nn=Zr.remainedWidth,sn=Zr.autoWidthCount,ln=(nn-rn)/(sn+(sn-1)*an);ln=Math.max(ln,0),each$f(Qr,function(dn){var fn=dn.maxWidth,pn=dn.minWidth;if(dn.width){var gn=dn.width;fn&&(gn=Math.min(gn,fn)),pn&&(gn=Math.max(gn,pn)),dn.width=gn,nn-=gn+an*gn,sn--}else{var gn=ln;fn&&fn<gn&&(gn=Math.min(fn,nn)),pn&&pn>gn&&(gn=pn),gn!==ln&&(dn.width=gn,nn-=gn+an*gn,sn--)}}),ln=(nn-rn)/(sn+(sn-1)*an),ln=Math.max(ln,0);var un=0,cn;each$f(Qr,function(dn,fn){dn.width||(dn.width=ln),cn=dn,un+=dn.width*(1+an)}),cn&&(un-=cn.width*an);var hn=-un/2;each$f(Qr,function(dn,fn){Yr[Kr][fn]=Yr[Kr][fn]||{bandWidth:Jr,offset:hn,width:dn.width},hn+=dn.width*(1+an)})}),Yr}function retrieveColumnLayout(Wr,Gr,Yr){if(Wr&&Gr){var Zr=Wr[getAxisKey$1(Gr)];return Zr}}function layout$3(Wr,Gr){var Yr=prepareLayoutBarSeries(Wr,Gr),Zr=makeColumnLayout(Yr);each$f(Yr,function(Kr){var Qr=Kr.getData(),Jr=Kr.coordinateSystem,en=Jr.getBaseAxis(),tn=getSeriesStackId$1(Kr),rn=Zr[getAxisKey$1(en)][tn],an=rn.offset,nn=rn.width;Qr.setLayout({bandWidth:rn.bandWidth,offset:an,size:nn})})}function createProgressiveLayout(Wr){return{seriesType:Wr,plan:createRenderPlanner(),reset:function(Gr){if(isOnCartesian(Gr)){var Yr=Gr.getData(),Zr=Gr.coordinateSystem,Kr=Zr.getBaseAxis(),Qr=Zr.getOtherAxis(Kr),Jr=Yr.getDimensionIndex(Yr.mapDimension(Qr.dim)),en=Yr.getDimensionIndex(Yr.mapDimension(Kr.dim)),tn=Gr.get("showBackground",!0),rn=Yr.mapDimension(Qr.dim),an=Yr.getCalculationInfo("stackResultDimension"),nn=isDimensionStacked(Yr,rn)&&!!Yr.getCalculationInfo("stackedOnSeries"),sn=Qr.isHorizontal(),ln=getValueAxisStart(Kr,Qr),un=isInLargeMode(Gr),cn=Gr.get("barMinHeight")||0,hn=an&&Yr.getDimensionIndex(an),dn=Yr.getLayout("size"),fn=Yr.getLayout("offset");return{progress:function(pn,gn){for(var vn=pn.count,mn=un&&createFloat32Array(vn*3),yn=un&&tn&&createFloat32Array(vn*3),xn=un&&createFloat32Array(vn),bn=Zr.master.getRect(),Sn=sn?bn.width:bn.height,wn,_n=gn.getStore(),An=0;(wn=pn.next())!=null;){var Cn=_n.get(nn?hn:Jr,wn),Tn=_n.get(en,wn),Mn=ln,En=void 0;nn&&(En=+Cn-_n.get(Jr,wn));var Ln=void 0,In=void 0,Pn=void 0,Dn=void 0;if(sn){var kn=Zr.dataToPoint([Cn,Tn]);if(nn){var Nn=Zr.dataToPoint([En,Tn]);Mn=Nn[0]}Ln=Mn,In=kn[1]+fn,Pn=kn[0]-Mn,Dn=dn,Math.abs(Pn)<cn&&(Pn=(Pn<0?-1:1)*cn)}else{var kn=Zr.dataToPoint([Tn,Cn]);if(nn){var Nn=Zr.dataToPoint([Tn,En]);Mn=Nn[1]}Ln=kn[0]+fn,In=Mn,Pn=dn,Dn=kn[1]-Mn,Math.abs(Dn)<cn&&(Dn=(Dn<=0?-1:1)*cn)}un?(mn[An]=Ln,mn[An+1]=In,mn[An+2]=sn?Pn:Dn,yn&&(yn[An]=sn?bn.x:Ln,yn[An+1]=sn?In:bn.y,yn[An+2]=Sn),xn[wn]=wn):gn.setItemLayout(wn,{x:Ln,y:In,width:Pn,height:Dn}),An+=3}un&&gn.setLayout({largePoints:mn,largeDataIndices:xn,largeBackgroundPoints:yn,valueAxisHorizontal:sn})}}}}}}function isOnCartesian(Wr){return Wr.coordinateSystem&&Wr.coordinateSystem.type==="cartesian2d"}function isInLargeMode(Wr){return Wr.pipelineContext&&Wr.pipelineContext.large}function getValueAxisStart(Wr,Gr){var Yr=Gr.model.get("startValue");return Yr||(Yr=0),Gr.toGlobalCoord(Gr.dataToCoord(Gr.type==="log"?Yr>0?Yr:1:Yr))}var bisect=function(Wr,Gr,Yr,Zr){for(;Yr<Zr;){var Kr=Yr+Zr>>>1;Wr[Kr][1]<Gr?Yr=Kr+1:Zr=Kr}return Yr},TimeScale=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="time",Zr}return Gr.prototype.getLabel=function(Yr){var Zr=this.getSetting("useUTC");return format(Yr.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,Zr,this.getSetting("locale"))},Gr.prototype.getFormattedLabel=function(Yr,Zr,Kr){var Qr=this.getSetting("useUTC"),Jr=this.getSetting("locale");return leveledFormat(Yr,Zr,Kr,Jr,Qr)},Gr.prototype.getTicks=function(){var Yr=this._interval,Zr=this._extent,Kr=[];if(!Yr)return Kr;Kr.push({value:Zr[0],level:0});var Qr=this.getSetting("useUTC"),Jr=getIntervalTicks(this._minLevelUnit,this._approxInterval,Qr,Zr);return Kr=Kr.concat(Jr),Kr.push({value:Zr[1],level:0}),Kr},Gr.prototype.calcNiceExtent=function(Yr){var Zr=this._extent;if(Zr[0]===Zr[1]&&(Zr[0]-=ONE_DAY,Zr[1]+=ONE_DAY),Zr[1]===-1/0&&Zr[0]===1/0){var Kr=new Date;Zr[1]=+new Date(Kr.getFullYear(),Kr.getMonth(),Kr.getDate()),Zr[0]=Zr[1]-ONE_DAY}this.calcNiceTicks(Yr.splitNumber,Yr.minInterval,Yr.maxInterval)},Gr.prototype.calcNiceTicks=function(Yr,Zr,Kr){Yr=Yr||10;var Qr=this._extent,Jr=Qr[1]-Qr[0];this._approxInterval=Jr/Yr,Zr!=null&&this._approxInterval<Zr&&(this._approxInterval=Zr),Kr!=null&&this._approxInterval>Kr&&(this._approxInterval=Kr);var en=scaleIntervals.length,tn=Math.min(bisect(scaleIntervals,this._approxInterval,0,en),en-1);this._interval=scaleIntervals[tn][1],this._minLevelUnit=scaleIntervals[Math.max(tn-1,0)][0]},Gr.prototype.parse=function(Yr){return isNumber(Yr)?Yr:+parseDate(Yr)},Gr.prototype.contain=function(Yr){return contain$1(this.parse(Yr),this._extent)},Gr.prototype.normalize=function(Yr){return normalize$2(this.parse(Yr),this._extent)},Gr.prototype.scale=function(Yr){return scale(Yr,this._extent)},Gr.type="time",Gr}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(Wr,Gr,Yr,Zr){var Kr=parseDate(Gr),Qr=parseDate(Yr),Jr=function(un){return getUnitValue(Kr,un,Zr)===getUnitValue(Qr,un,Zr)},en=function(){return Jr("year")},tn=function(){return en()&&Jr("month")},rn=function(){return tn()&&Jr("day")},an=function(){return rn()&&Jr("hour")},nn=function(){return an()&&Jr("minute")},sn=function(){return nn()&&Jr("second")},ln=function(){return sn()&&Jr("millisecond")};switch(Wr){case"year":return en();case"month":return tn();case"day":return rn();case"hour":return an();case"minute":return nn();case"second":return sn();case"millisecond":return ln()}}function getDateInterval(Wr,Gr){return Wr/=ONE_DAY,Wr>16?16:Wr>7.5?7:Wr>3.5?4:Wr>1.5?2:1}function getMonthInterval(Wr){var Gr=30*ONE_DAY;return Wr/=Gr,Wr>6?6:Wr>3?3:Wr>2?2:1}function getHourInterval(Wr){return Wr/=ONE_HOUR,Wr>12?12:Wr>6?6:Wr>3.5?4:Wr>2?2:1}function getMinutesAndSecondsInterval(Wr,Gr){return Wr/=Gr?ONE_MINUTE:ONE_SECOND,Wr>30?30:Wr>20?20:Wr>15?15:Wr>10?10:Wr>5?5:Wr>2?2:1}function getMillisecondsInterval(Wr){return nice(Wr)}function getFirstTimestampOfUnit(Wr,Gr,Yr){var Zr=new Date(Wr);switch(getPrimaryTimeUnit(Gr)){case"year":case"month":Zr[monthSetterName(Yr)](0);case"day":Zr[dateSetterName(Yr)](1);case"hour":Zr[hoursSetterName(Yr)](0);case"minute":Zr[minutesSetterName(Yr)](0);case"second":Zr[secondsSetterName(Yr)](0),Zr[millisecondsSetterName(Yr)](0)}return Zr.getTime()}function getIntervalTicks(Wr,Gr,Yr,Zr){var Kr=1e4,Qr=timeUnits,Jr=0;function en(Sn,wn,_n,An,Cn,Tn,Mn){for(var En=new Date(wn),Ln=wn,In=En[An]();Ln<_n&&Ln<=Zr[1];)Mn.push({value:Ln}),In+=Sn,En[Cn](In),Ln=En.getTime();Mn.push({value:Ln,notAdd:!0})}function tn(Sn,wn,_n){var An=[],Cn=!wn.length;if(!isUnitValueSame(getPrimaryTimeUnit(Sn),Zr[0],Zr[1],Yr)){Cn&&(wn=[{value:getFirstTimestampOfUnit(new Date(Zr[0]),Sn,Yr)},{value:Zr[1]}]);for(var Tn=0;Tn<wn.length-1;Tn++){var Mn=wn[Tn].value,En=wn[Tn+1].value;if(Mn!==En){var Ln=void 0,In=void 0,Pn=void 0,Dn=!1;switch(Sn){case"year":Ln=Math.max(1,Math.round(Gr/ONE_DAY/365)),In=fullYearGetterName(Yr),Pn=fullYearSetterName(Yr);break;case"half-year":case"quarter":case"month":Ln=getMonthInterval(Gr),In=monthGetterName(Yr),Pn=monthSetterName(Yr);break;case"week":case"half-week":case"day":Ln=getDateInterval(Gr),In=dateGetterName(Yr),Pn=dateSetterName(Yr),Dn=!0;break;case"half-day":case"quarter-day":case"hour":Ln=getHourInterval(Gr),In=hoursGetterName(Yr),Pn=hoursSetterName(Yr);break;case"minute":Ln=getMinutesAndSecondsInterval(Gr,!0),In=minutesGetterName(Yr),Pn=minutesSetterName(Yr);break;case"second":Ln=getMinutesAndSecondsInterval(Gr,!1),In=secondsGetterName(Yr),Pn=secondsSetterName(Yr);break;case"millisecond":Ln=getMillisecondsInterval(Gr),In=millisecondsGetterName(Yr),Pn=millisecondsSetterName(Yr);break}en(Ln,Mn,En,In,Pn,Dn,An),Sn==="year"&&_n.length>1&&Tn===0&&_n.unshift({value:_n[0].value-Ln})}}for(var Tn=0;Tn<An.length;Tn++)_n.push(An[Tn]);return An}}for(var rn=[],an=[],nn=0,sn=0,ln=0;ln<Qr.length&&Jr++<Kr;++ln){var un=getPrimaryTimeUnit(Qr[ln]);if(isPrimaryTimeUnit(Qr[ln])){tn(Qr[ln],rn[rn.length-1]||[],an);var cn=Qr[ln+1]?getPrimaryTimeUnit(Qr[ln+1]):null;if(un!==cn){if(an.length){sn=nn,an.sort(function(Sn,wn){return Sn.value-wn.value});for(var hn=[],dn=0;dn<an.length;++dn){var fn=an[dn].value;(dn===0||an[dn-1].value!==fn)&&(hn.push(an[dn]),fn>=Zr[0]&&fn<=Zr[1]&&nn++)}var pn=(Zr[1]-Zr[0])/Gr;if(nn>pn*1.5&&sn>pn/1.5||(rn.push(hn),nn>pn||Wr===Qr[ln]))break}an=[]}}}for(var gn=filter(map$1(rn,function(Sn){return filter(Sn,function(wn){return wn.value>=Zr[0]&&wn.value<=Zr[1]&&!wn.notAdd})}),function(Sn){return Sn.length>0}),vn=[],mn=gn.length-1,ln=0;ln<gn.length;++ln)for(var yn=gn[ln],xn=0;xn<yn.length;++xn)vn.push({value:yn[xn].value,level:mn-ln});vn.sort(function(Sn,wn){return Sn.value-wn.value});for(var bn=[],ln=0;ln<vn.length;++ln)(ln===0||vn[ln].value!==vn[ln-1].value)&&bn.push(vn[ln]);return bn}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="log",Yr.base=10,Yr._originalScale=new IntervalScale,Yr._interval=0,Yr}return Gr.prototype.getTicks=function(Yr){var Zr=this._originalScale,Kr=this._extent,Qr=Zr.getExtent(),Jr=intervalScaleProto.getTicks.call(this,Yr);return map$1(Jr,function(en){var tn=en.value,rn=round$3(mathPow$1(this.base,tn));return rn=tn===Kr[0]&&this._fixMin?fixRoundingError(rn,Qr[0]):rn,rn=tn===Kr[1]&&this._fixMax?fixRoundingError(rn,Qr[1]):rn,{value:rn}},this)},Gr.prototype.setExtent=function(Yr,Zr){var Kr=mathLog$1(this.base);Yr=mathLog$1(Math.max(0,Yr))/Kr,Zr=mathLog$1(Math.max(0,Zr))/Kr,intervalScaleProto.setExtent.call(this,Yr,Zr)},Gr.prototype.getExtent=function(){var Yr=this.base,Zr=scaleProto.getExtent.call(this);Zr[0]=mathPow$1(Yr,Zr[0]),Zr[1]=mathPow$1(Yr,Zr[1]);var Kr=this._originalScale,Qr=Kr.getExtent();return this._fixMin&&(Zr[0]=fixRoundingError(Zr[0],Qr[0])),this._fixMax&&(Zr[1]=fixRoundingError(Zr[1],Qr[1])),Zr},Gr.prototype.unionExtent=function(Yr){this._originalScale.unionExtent(Yr);var Zr=this.base;Yr[0]=mathLog$1(Yr[0])/mathLog$1(Zr),Yr[1]=mathLog$1(Yr[1])/mathLog$1(Zr),scaleProto.unionExtent.call(this,Yr)},Gr.prototype.unionExtentFromData=function(Yr,Zr){this.unionExtent(Yr.getApproximateExtent(Zr))},Gr.prototype.calcNiceTicks=function(Yr){Yr=Yr||10;var Zr=this._extent,Kr=Zr[1]-Zr[0];if(!(Kr===1/0||Kr<=0)){var Qr=quantity(Kr),Jr=Yr/Kr*Qr;for(Jr<=.5&&(Qr*=10);!isNaN(Qr)&&Math.abs(Qr)<1&&Math.abs(Qr)>0;)Qr*=10;var en=[round$3(mathCeil$1(Zr[0]/Qr)*Qr),round$3(mathFloor$1(Zr[1]/Qr)*Qr)];this._interval=Qr,this._niceExtent=en}},Gr.prototype.calcNiceExtent=function(Yr){intervalScaleProto.calcNiceExtent.call(this,Yr),this._fixMin=Yr.fixMin,this._fixMax=Yr.fixMax},Gr.prototype.parse=function(Yr){return Yr},Gr.prototype.contain=function(Yr){return Yr=mathLog$1(Yr)/mathLog$1(this.base),contain$1(Yr,this._extent)},Gr.prototype.normalize=function(Yr){return Yr=mathLog$1(Yr)/mathLog$1(this.base),normalize$2(Yr,this._extent)},Gr.prototype.scale=function(Yr){return Yr=scale(Yr,this._extent),mathPow$1(this.base,Yr)},Gr.type="log",Gr}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(Wr,Gr){return roundingErrorFix(Wr,getPrecision(Gr))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function Wr(Gr,Yr,Zr){this._prepareParams(Gr,Yr,Zr)}return Wr.prototype._prepareParams=function(Gr,Yr,Zr){Zr[1]<Zr[0]&&(Zr=[NaN,NaN]),this._dataMin=Zr[0],this._dataMax=Zr[1];var Kr=this._isOrdinal=Gr.type==="ordinal";this._needCrossZero=Gr.type==="interval"&&Yr.getNeedCrossZero&&Yr.getNeedCrossZero();var Qr=Yr.get("min",!0);Qr==null&&(Qr=Yr.get("startValue",!0));var Jr=this._modelMinRaw=Qr;isFunction(Jr)?this._modelMinNum=parseAxisModelMinMax(Gr,Jr({min:Zr[0],max:Zr[1]})):Jr!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(Gr,Jr));var en=this._modelMaxRaw=Yr.get("max",!0);if(isFunction(en)?this._modelMaxNum=parseAxisModelMinMax(Gr,en({min:Zr[0],max:Zr[1]})):en!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(Gr,en)),Kr)this._axisDataLen=Yr.getCategories().length;else{var tn=Yr.get("boundaryGap"),rn=isArray$1(tn)?tn:[tn||0,tn||0];typeof rn[0]=="boolean"||typeof rn[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(rn[0],1),parsePercent$1(rn[1],1)]}},Wr.prototype.calculate=function(){var Gr=this._isOrdinal,Yr=this._dataMin,Zr=this._dataMax,Kr=this._axisDataLen,Qr=this._boundaryGapInner,Jr=Gr?null:Zr-Yr||Math.abs(Yr),en=this._modelMinRaw==="dataMin"?Yr:this._modelMinNum,tn=this._modelMaxRaw==="dataMax"?Zr:this._modelMaxNum,rn=en!=null,an=tn!=null;en==null&&(en=Gr?Kr?0:NaN:Yr-Qr[0]*Jr),tn==null&&(tn=Gr?Kr?Kr-1:NaN:Zr+Qr[1]*Jr),(en==null||!isFinite(en))&&(en=NaN),(tn==null||!isFinite(tn))&&(tn=NaN);var nn=eqNaN(en)||eqNaN(tn)||Gr&&!Kr;this._needCrossZero&&(en>0&&tn>0&&!rn&&(en=0),en<0&&tn<0&&!an&&(tn=0));var sn=this._determinedMin,ln=this._determinedMax;return sn!=null&&(en=sn,rn=!0),ln!=null&&(tn=ln,an=!0),{min:en,max:tn,minFixed:rn,maxFixed:an,isBlank:nn}},Wr.prototype.modifyDataMinMax=function(Gr,Yr){this[DATA_MIN_MAX_ATTR[Gr]]=Yr},Wr.prototype.setDeterminedMinMax=function(Gr,Yr){var Zr=DETERMINED_MIN_MAX_ATTR[Gr];this[Zr]=Yr},Wr.prototype.freeze=function(){this.frozen=!0},Wr}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(Wr,Gr,Yr){var Zr=Wr.rawExtentInfo;return Zr||(Zr=new ScaleRawExtentInfo(Wr,Gr,Yr),Wr.rawExtentInfo=Zr,Zr)}function parseAxisModelMinMax(Wr,Gr){return Gr==null?null:eqNaN(Gr)?NaN:Wr.parse(Gr)}function getScaleExtent(Wr,Gr){var Yr=Wr.type,Zr=ensureScaleRawExtentInfo(Wr,Gr,Wr.getExtent()).calculate();Wr.setBlank(Zr.isBlank);var Kr=Zr.min,Qr=Zr.max,Jr=Gr.ecModel;if(Jr&&Yr==="time"){var en=prepareLayoutBarSeries("bar",Jr),tn=!1;if(each$f(en,function(nn){tn=tn||nn.getBaseAxis()===Gr.axis}),tn){var rn=makeColumnLayout(en),an=adjustScaleForOverflow(Kr,Qr,Gr,rn);Kr=an.min,Qr=an.max}}return{extent:[Kr,Qr],fixMin:Zr.minFixed,fixMax:Zr.maxFixed}}function adjustScaleForOverflow(Wr,Gr,Yr,Zr){var Kr=Yr.axis.getExtent(),Qr=Math.abs(Kr[1]-Kr[0]),Jr=retrieveColumnLayout(Zr,Yr.axis);if(Jr===void 0)return{min:Wr,max:Gr};var en=1/0;each$f(Jr,function(ln){en=Math.min(ln.offset,en)});var tn=-1/0;each$f(Jr,function(ln){tn=Math.max(ln.offset+ln.width,tn)}),en=Math.abs(en),tn=Math.abs(tn);var rn=en+tn,an=Gr-Wr,nn=1-(en+tn)/Qr,sn=an/nn-an;return Gr+=sn*(tn/rn),Wr-=sn*(en/rn),{min:Wr,max:Gr}}function niceScaleExtent(Wr,Gr){var Yr=Gr,Zr=getScaleExtent(Wr,Yr),Kr=Zr.extent,Qr=Yr.get("splitNumber");Wr instanceof LogScale&&(Wr.base=Yr.get("logBase"));var Jr=Wr.type,en=Yr.get("interval"),tn=Jr==="interval"||Jr==="time";Wr.setExtent(Kr[0],Kr[1]),Wr.calcNiceExtent({splitNumber:Qr,fixMin:Zr.fixMin,fixMax:Zr.fixMax,minInterval:tn?Yr.get("minInterval"):null,maxInterval:tn?Yr.get("maxInterval"):null}),en!=null&&Wr.setInterval&&Wr.setInterval(en)}function createScaleByModel$1(Wr,Gr){if(Gr=Gr||Wr.get("type"),Gr)switch(Gr){case"category":return new OrdinalScale({ordinalMeta:Wr.getOrdinalMeta?Wr.getOrdinalMeta():Wr.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:Wr.ecModel.getLocaleModel(),useUTC:Wr.ecModel.get("useUTC")});default:return new(Scale.getClass(Gr)||IntervalScale)}}function ifAxisCrossZero(Wr){var Gr=Wr.scale.getExtent(),Yr=Gr[0],Zr=Gr[1];return!(Yr>0&&Zr>0||Yr<0&&Zr<0)}function makeLabelFormatter(Wr){var Gr=Wr.getLabelModel().get("formatter"),Yr=Wr.type==="category"?Wr.scale.getExtent()[0]:null;return Wr.scale.type==="time"?function(Zr){return function(Kr,Qr){return Wr.scale.getFormattedLabel(Kr,Qr,Zr)}}(Gr):isString(Gr)?function(Zr){return function(Kr){var Qr=Wr.scale.getLabel(Kr),Jr=Zr.replace("{value}",Qr??"");return Jr}}(Gr):isFunction(Gr)?function(Zr){return function(Kr,Qr){return Yr!=null&&(Qr=Kr.value-Yr),Zr(getAxisRawValue(Wr,Kr),Qr,Kr.level!=null?{level:Kr.level}:null)}}(Gr):function(Zr){return Wr.scale.getLabel(Zr)}}function getAxisRawValue(Wr,Gr){return Wr.type==="category"?Wr.scale.getLabel(Gr):Gr.value}function estimateLabelUnionRect(Wr){var Gr=Wr.model,Yr=Wr.scale;if(!(!Gr.get(["axisLabel","show"])||Yr.isBlank())){var Zr,Kr,Qr=Yr.getExtent();Yr instanceof OrdinalScale?Kr=Yr.count():(Zr=Yr.getTicks(),Kr=Zr.length);var Jr=Wr.getLabelModel(),en=makeLabelFormatter(Wr),tn,rn=1;Kr>40&&(rn=Math.ceil(Kr/40));for(var an=0;an<Kr;an+=rn){var nn=Zr?Zr[an]:{value:Qr[0]+an},sn=en(nn,an),ln=Jr.getTextRect(sn),un=rotateTextRect(ln,Jr.get("rotate")||0);tn?tn.union(un):tn=un}return tn}}function rotateTextRect(Wr,Gr){var Yr=Gr*Math.PI/180,Zr=Wr.width,Kr=Wr.height,Qr=Zr*Math.abs(Math.cos(Yr))+Math.abs(Kr*Math.sin(Yr)),Jr=Zr*Math.abs(Math.sin(Yr))+Math.abs(Kr*Math.cos(Yr)),en=new BoundingRect(Wr.x,Wr.y,Qr,Jr);return en}function getOptionCategoryInterval(Wr){var Gr=Wr.get("interval");return Gr??"auto"}function shouldShowAllLabels(Wr){return Wr.type==="category"&&getOptionCategoryInterval(Wr.getLabelModel())===0}function getDataDimensionsOnAxis(Wr,Gr){var Yr={};return each$f(Wr.mapDimensionsAll(Gr),function(Zr){Yr[getStackedDimension(Wr,Zr)]=!0}),keys(Yr)}function unionAxisExtentFromData(Wr,Gr,Yr){Gr&&each$f(getDataDimensionsOnAxis(Gr,Yr),function(Zr){var Kr=Gr.getApproximateExtent(Zr);Kr[0]<Wr[0]&&(Wr[0]=Kr[0]),Kr[1]>Wr[1]&&(Wr[1]=Kr[1])})}var AxisModelCommonMixin=function(){function Wr(){}return Wr.prototype.getNeedCrossZero=function(){var Gr=this.option;return!Gr.scale},Wr.prototype.getCoordSysModel=function(){},Wr}(),EPSILON=1e-8;function isAroundEqual(Wr,Gr){return Math.abs(Wr-Gr)<EPSILON}function contain(Wr,Gr,Yr){var Zr=0,Kr=Wr[0];if(!Kr)return!1;for(var Qr=1;Qr<Wr.length;Qr++){var Jr=Wr[Qr];Zr+=windingLine(Kr[0],Kr[1],Jr[0],Jr[1],Gr,Yr),Kr=Jr}var en=Wr[0];return(!isAroundEqual(Kr[0],en[0])||!isAroundEqual(Kr[1],en[1]))&&(Zr+=windingLine(Kr[0],Kr[1],en[0],en[1],Gr,Yr)),Zr!==0}var TMP_TRANSFORM=[];function transformPoints(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++)applyTransform$1(Wr[Yr],Wr[Yr],Gr)}function updateBBoxFromPoints(Wr,Gr,Yr,Zr){for(var Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr];Zr&&(Qr=Zr.project(Qr)),Qr&&isFinite(Qr[0])&&isFinite(Qr[1])&&(min$1(Gr,Gr,Qr),max$1(Yr,Yr,Qr))}}function centroid$1(Wr){for(var Gr=0,Yr=0,Zr=0,Kr=Wr.length,Qr=Wr[Kr-1][0],Jr=Wr[Kr-1][1],en=0;en<Kr;en++){var tn=Wr[en][0],rn=Wr[en][1],an=Qr*rn-tn*Jr;Gr+=an,Yr+=(Qr+tn)*an,Zr+=(Jr+rn)*an,Qr=tn,Jr=rn}return Gr?[Yr/Gr/3,Zr/Gr/3,Gr]:[Wr[0][0]||0,Wr[0][1]||0]}var Region=function(){function Wr(Gr){this.name=Gr}return Wr.prototype.setCenter=function(Gr){this._center=Gr},Wr.prototype.getCenter=function(){var Gr=this._center;return Gr||(Gr=this._center=this.calcCenter()),Gr},Wr}(),GeoJSONPolygonGeometry=function(){function Wr(Gr,Yr){this.type="polygon",this.exterior=Gr,this.interiors=Yr}return Wr}(),GeoJSONLineStringGeometry=function(){function Wr(Gr){this.type="linestring",this.points=Gr}return Wr}(),GeoJSONRegion=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this,Yr)||this;return Qr.type="geoJSON",Qr.geometries=Zr,Qr._center=Kr&&[Kr[0],Kr[1]],Qr}return Gr.prototype.calcCenter=function(){for(var Yr=this.geometries,Zr,Kr=0,Qr=0;Qr<Yr.length;Qr++){var Jr=Yr[Qr],en=Jr.exterior,tn=en&&en.length;tn>Kr&&(Zr=Jr,Kr=tn)}if(Zr)return centroid$1(Zr.exterior);var rn=this.getBoundingRect();return[rn.x+rn.width/2,rn.y+rn.height/2]},Gr.prototype.getBoundingRect=function(Yr){var Zr=this._rect;if(Zr&&!Yr)return Zr;var Kr=[1/0,1/0],Qr=[-1/0,-1/0],Jr=this.geometries;return each$f(Jr,function(en){en.type==="polygon"?updateBBoxFromPoints(en.exterior,Kr,Qr,Yr):each$f(en.points,function(tn){updateBBoxFromPoints(tn,Kr,Qr,Yr)})}),isFinite(Kr[0])&&isFinite(Kr[1])&&isFinite(Qr[0])&&isFinite(Qr[1])||(Kr[0]=Kr[1]=Qr[0]=Qr[1]=0),Zr=new BoundingRect(Kr[0],Kr[1],Qr[0]-Kr[0],Qr[1]-Kr[1]),Yr||(this._rect=Zr),Zr},Gr.prototype.contain=function(Yr){var Zr=this.getBoundingRect(),Kr=this.geometries;if(!Zr.contain(Yr[0],Yr[1]))return!1;e:for(var Qr=0,Jr=Kr.length;Qr<Jr;Qr++){var en=Kr[Qr];if(en.type==="polygon"){var tn=en.exterior,rn=en.interiors;if(contain(tn,Yr[0],Yr[1])){for(var an=0;an<(rn?rn.length:0);an++)if(contain(rn[an],Yr[0],Yr[1]))continue e;return!0}}}return!1},Gr.prototype.transformTo=function(Yr,Zr,Kr,Qr){var Jr=this.getBoundingRect(),en=Jr.width/Jr.height;Kr?Qr||(Qr=Kr/en):Kr=en*Qr;for(var tn=new BoundingRect(Yr,Zr,Kr,Qr),rn=Jr.calculateTransform(tn),an=this.geometries,nn=0;nn<an.length;nn++){var sn=an[nn];sn.type==="polygon"?(transformPoints(sn.exterior,rn),each$f(sn.interiors,function(ln){transformPoints(ln,rn)})):each$f(sn.points,function(ln){transformPoints(ln,rn)})}Jr=this._rect,Jr.copy(tn),this._center=[Jr.x+Jr.width/2,Jr.y+Jr.height/2]},Gr.prototype.cloneShallow=function(Yr){Yr==null&&(Yr=this.name);var Zr=new Gr(Yr,this.geometries,this._center);return Zr._rect=this._rect,Zr.transformTo=null,Zr},Gr}(Region),GeoSVGRegion=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){var Kr=Wr.call(this,Yr)||this;return Kr.type="geoSVG",Kr._elOnlyForCalculate=Zr,Kr}return Gr.prototype.calcCenter=function(){for(var Yr=this._elOnlyForCalculate,Zr=Yr.getBoundingRect(),Kr=[Zr.x+Zr.width/2,Zr.y+Zr.height/2],Qr=identity(TMP_TRANSFORM),Jr=Yr;Jr&&!Jr.isGeoSVGGraphicRoot;)mul(Qr,Jr.getLocalTransform(),Qr),Jr=Jr.parent;return invert(Qr,Qr),applyTransform$1(Kr,Kr,Qr),Kr},Gr}(Region);function decode(Wr){if(!Wr.UTF8Encoding)return Wr;var Gr=Wr,Yr=Gr.UTF8Scale;Yr==null&&(Yr=1024);var Zr=Gr.features;return each$f(Zr,function(Kr){var Qr=Kr.geometry,Jr=Qr.encodeOffsets,en=Qr.coordinates;if(Jr)switch(Qr.type){case"LineString":Qr.coordinates=decodeRing(en,Jr,Yr);break;case"Polygon":decodeRings(en,Jr,Yr);break;case"MultiLineString":decodeRings(en,Jr,Yr);break;case"MultiPolygon":each$f(en,function(tn,rn){return decodeRings(tn,Jr[rn],Yr)})}}),Gr.UTF8Encoding=!1,Gr}function decodeRings(Wr,Gr,Yr){for(var Zr=0;Zr<Wr.length;Zr++)Wr[Zr]=decodeRing(Wr[Zr],Gr[Zr],Yr)}function decodeRing(Wr,Gr,Yr){for(var Zr=[],Kr=Gr[0],Qr=Gr[1],Jr=0;Jr<Wr.length;Jr+=2){var en=Wr.charCodeAt(Jr)-64,tn=Wr.charCodeAt(Jr+1)-64;en=en>>1^-(en&1),tn=tn>>1^-(tn&1),en+=Kr,tn+=Qr,Kr=en,Qr=tn,Zr.push([en/Yr,tn/Yr])}return Zr}function parseGeoJSON(Wr,Gr){return Wr=decode(Wr),map$1(filter(Wr.features,function(Yr){return Yr.geometry&&Yr.properties&&Yr.geometry.coordinates.length>0}),function(Yr){var Zr=Yr.properties,Kr=Yr.geometry,Qr=[];switch(Kr.type){case"Polygon":var Jr=Kr.coordinates;Qr.push(new GeoJSONPolygonGeometry(Jr[0],Jr.slice(1)));break;case"MultiPolygon":each$f(Kr.coordinates,function(tn){tn[0]&&Qr.push(new GeoJSONPolygonGeometry(tn[0],tn.slice(1)))});break;case"LineString":Qr.push(new GeoJSONLineStringGeometry([Kr.coordinates]));break;case"MultiLineString":Qr.push(new GeoJSONLineStringGeometry(Kr.coordinates))}var en=new GeoJSONRegion(Zr[Gr||"name"],Qr,Zr.cp);return en.properties=Zr,en})}var inner$g=makeInner();function tickValuesToNumbers(Wr,Gr){var Yr=map$1(Gr,function(Zr){return Wr.scale.parse(Zr)});return Wr.type==="time"&&Yr.length>0&&(Yr.sort(),Yr.unshift(Yr[0]),Yr.push(Yr[Yr.length-1])),Yr}function createAxisLabels(Wr){var Gr=Wr.getLabelModel().get("customValues");if(Gr){var Yr=makeLabelFormatter(Wr),Zr=Wr.scale.getExtent(),Kr=tickValuesToNumbers(Wr,Gr),Qr=filter(Kr,function(Jr){return Jr>=Zr[0]&&Jr<=Zr[1]});return{labels:map$1(Qr,function(Jr){var en={value:Jr};return{formattedLabel:Yr(en),rawLabel:Wr.scale.getLabel(en),tickValue:Jr}})}}return Wr.type==="category"?makeCategoryLabels(Wr):makeRealNumberLabels(Wr)}function createAxisTicks(Wr,Gr){var Yr=Wr.getTickModel().get("customValues");if(Yr){var Zr=Wr.scale.getExtent(),Kr=tickValuesToNumbers(Wr,Yr);return{ticks:filter(Kr,function(Qr){return Qr>=Zr[0]&&Qr<=Zr[1]})}}return Wr.type==="category"?makeCategoryTicks(Wr,Gr):{ticks:map$1(Wr.scale.getTicks(),function(Qr){return Qr.value})}}function makeCategoryLabels(Wr){var Gr=Wr.getLabelModel(),Yr=makeCategoryLabelsActually(Wr,Gr);return!Gr.get("show")||Wr.scale.isBlank()?{labels:[],labelCategoryInterval:Yr.labelCategoryInterval}:Yr}function makeCategoryLabelsActually(Wr,Gr){var Yr=getListCache(Wr,"labels"),Zr=getOptionCategoryInterval(Gr),Kr=listCacheGet(Yr,Zr);if(Kr)return Kr;var Qr,Jr;return isFunction(Zr)?Qr=makeLabelsByCustomizedCategoryInterval(Wr,Zr):(Jr=Zr==="auto"?makeAutoCategoryInterval(Wr):Zr,Qr=makeLabelsByNumericCategoryInterval(Wr,Jr)),listCacheSet(Yr,Zr,{labels:Qr,labelCategoryInterval:Jr})}function makeCategoryTicks(Wr,Gr){var Yr=getListCache(Wr,"ticks"),Zr=getOptionCategoryInterval(Gr),Kr=listCacheGet(Yr,Zr);if(Kr)return Kr;var Qr,Jr;if((!Gr.get("show")||Wr.scale.isBlank())&&(Qr=[]),isFunction(Zr))Qr=makeLabelsByCustomizedCategoryInterval(Wr,Zr,!0);else if(Zr==="auto"){var en=makeCategoryLabelsActually(Wr,Wr.getLabelModel());Jr=en.labelCategoryInterval,Qr=map$1(en.labels,function(tn){return tn.tickValue})}else Jr=Zr,Qr=makeLabelsByNumericCategoryInterval(Wr,Jr,!0);return listCacheSet(Yr,Zr,{ticks:Qr,tickCategoryInterval:Jr})}function makeRealNumberLabels(Wr){var Gr=Wr.scale.getTicks(),Yr=makeLabelFormatter(Wr);return{labels:map$1(Gr,function(Zr,Kr){return{level:Zr.level,formattedLabel:Yr(Zr,Kr),rawLabel:Wr.scale.getLabel(Zr),tickValue:Zr.value}})}}function getListCache(Wr,Gr){return inner$g(Wr)[Gr]||(inner$g(Wr)[Gr]=[])}function listCacheGet(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++)if(Wr[Yr].key===Gr)return Wr[Yr].value}function listCacheSet(Wr,Gr,Yr){return Wr.push({key:Gr,value:Yr}),Yr}function makeAutoCategoryInterval(Wr){var Gr=inner$g(Wr).autoInterval;return Gr??(inner$g(Wr).autoInterval=Wr.calculateCategoryInterval())}function calculateCategoryInterval(Wr){var Gr=fetchAutoCategoryIntervalCalculationParams(Wr),Yr=makeLabelFormatter(Wr),Zr=(Gr.axisRotate-Gr.labelRotate)/180*Math.PI,Kr=Wr.scale,Qr=Kr.getExtent(),Jr=Kr.count();if(Qr[1]-Qr[0]<1)return 0;var en=1;Jr>40&&(en=Math.max(1,Math.floor(Jr/40)));for(var tn=Qr[0],rn=Wr.dataToCoord(tn+1)-Wr.dataToCoord(tn),an=Math.abs(rn*Math.cos(Zr)),nn=Math.abs(rn*Math.sin(Zr)),sn=0,ln=0;tn<=Qr[1];tn+=en){var un=0,cn=0,hn=getBoundingRect(Yr({value:tn}),Gr.font,"center","top");un=hn.width*1.3,cn=hn.height*1.3,sn=Math.max(sn,un,7),ln=Math.max(ln,cn,7)}var dn=sn/an,fn=ln/nn;isNaN(dn)&&(dn=1/0),isNaN(fn)&&(fn=1/0);var pn=Math.max(0,Math.floor(Math.min(dn,fn))),gn=inner$g(Wr.model),vn=Wr.getExtent(),mn=gn.lastAutoInterval,yn=gn.lastTickCount;return mn!=null&&yn!=null&&Math.abs(mn-pn)<=1&&Math.abs(yn-Jr)<=1&&mn>pn&&gn.axisExtent0===vn[0]&&gn.axisExtent1===vn[1]?pn=mn:(gn.lastTickCount=Jr,gn.lastAutoInterval=pn,gn.axisExtent0=vn[0],gn.axisExtent1=vn[1]),pn}function fetchAutoCategoryIntervalCalculationParams(Wr){var Gr=Wr.getLabelModel();return{axisRotate:Wr.getRotate?Wr.getRotate():Wr.isHorizontal&&!Wr.isHorizontal()?90:0,labelRotate:Gr.get("rotate")||0,font:Gr.getFont()}}function makeLabelsByNumericCategoryInterval(Wr,Gr,Yr){var Zr=makeLabelFormatter(Wr),Kr=Wr.scale,Qr=Kr.getExtent(),Jr=Wr.getLabelModel(),en=[],tn=Math.max((Gr||0)+1,1),rn=Qr[0],an=Kr.count();rn!==0&&tn>1&&an/tn>2&&(rn=Math.round(Math.ceil(rn/tn)*tn));var nn=shouldShowAllLabels(Wr),sn=Jr.get("showMinLabel")||nn,ln=Jr.get("showMaxLabel")||nn;sn&&rn!==Qr[0]&&cn(Qr[0]);for(var un=rn;un<=Qr[1];un+=tn)cn(un);ln&&un-tn!==Qr[1]&&cn(Qr[1]);function cn(hn){var dn={value:hn};en.push(Yr?hn:{formattedLabel:Zr(dn),rawLabel:Kr.getLabel(dn),tickValue:hn})}return en}function makeLabelsByCustomizedCategoryInterval(Wr,Gr,Yr){var Zr=Wr.scale,Kr=makeLabelFormatter(Wr),Qr=[];return each$f(Zr.getTicks(),function(Jr){var en=Zr.getLabel(Jr),tn=Jr.value;Gr(Jr.value,en)&&Qr.push(Yr?tn:{formattedLabel:Kr(Jr),rawLabel:en,tickValue:tn})}),Qr}var NORMALIZED_EXTENT=[0,1],Axis=function(){function Wr(Gr,Yr,Zr){this.onBand=!1,this.inverse=!1,this.dim=Gr,this.scale=Yr,this._extent=Zr||[0,0]}return Wr.prototype.contain=function(Gr){var Yr=this._extent,Zr=Math.min(Yr[0],Yr[1]),Kr=Math.max(Yr[0],Yr[1]);return Gr>=Zr&&Gr<=Kr},Wr.prototype.containData=function(Gr){return this.scale.contain(Gr)},Wr.prototype.getExtent=function(){return this._extent.slice()},Wr.prototype.getPixelPrecision=function(Gr){return getPixelPrecision(Gr||this.scale.getExtent(),this._extent)},Wr.prototype.setExtent=function(Gr,Yr){var Zr=this._extent;Zr[0]=Gr,Zr[1]=Yr},Wr.prototype.dataToCoord=function(Gr,Yr){var Zr=this._extent,Kr=this.scale;return Gr=Kr.normalize(Gr),this.onBand&&Kr.type==="ordinal"&&(Zr=Zr.slice(),fixExtentWithBands(Zr,Kr.count())),linearMap$2(Gr,NORMALIZED_EXTENT,Zr,Yr)},Wr.prototype.coordToData=function(Gr,Yr){var Zr=this._extent,Kr=this.scale;this.onBand&&Kr.type==="ordinal"&&(Zr=Zr.slice(),fixExtentWithBands(Zr,Kr.count()));var Qr=linearMap$2(Gr,Zr,NORMALIZED_EXTENT,Yr);return this.scale.scale(Qr)},Wr.prototype.pointToData=function(Gr,Yr){},Wr.prototype.getTicksCoords=function(Gr){Gr=Gr||{};var Yr=Gr.tickModel||this.getTickModel(),Zr=createAxisTicks(this,Yr),Kr=Zr.ticks,Qr=map$1(Kr,function(en){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(en):en),tickValue:en}},this),Jr=Yr.get("alignWithLabel");return fixOnBandTicksCoords(this,Qr,Jr,Gr.clamp),Qr},Wr.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var Gr=this.model.getModel("minorTick"),Yr=Gr.get("splitNumber");Yr>0&&Yr<100||(Yr=5);var Zr=this.scale.getMinorTicks(Yr),Kr=map$1(Zr,function(Qr){return map$1(Qr,function(Jr){return{coord:this.dataToCoord(Jr),tickValue:Jr}},this)},this);return Kr},Wr.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Wr.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},Wr.prototype.getTickModel=function(){return this.model.getModel("axisTick")},Wr.prototype.getBandWidth=function(){var Gr=this._extent,Yr=this.scale.getExtent(),Zr=Yr[1]-Yr[0]+(this.onBand?1:0);Zr===0&&(Zr=1);var Kr=Math.abs(Gr[1]-Gr[0]);return Math.abs(Kr)/Zr},Wr.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},Wr}();function fixExtentWithBands(Wr,Gr){var Yr=Wr[1]-Wr[0],Zr=Gr,Kr=Yr/Zr/2;Wr[0]+=Kr,Wr[1]-=Kr}function fixOnBandTicksCoords(Wr,Gr,Yr,Zr){var Kr=Gr.length;if(!Wr.onBand||Yr||!Kr)return;var Qr=Wr.getExtent(),Jr,en;if(Kr===1)Gr[0].coord=Qr[0],Jr=Gr[1]={coord:Qr[1],tickValue:Gr[0].tickValue};else{var tn=Gr[Kr-1].tickValue-Gr[0].tickValue,rn=(Gr[Kr-1].coord-Gr[0].coord)/tn;each$f(Gr,function(ln){ln.coord-=rn/2});var an=Wr.scale.getExtent();en=1+an[1]-Gr[Kr-1].tickValue,Jr={coord:Gr[Kr-1].coord+rn*en,tickValue:an[1]+1},Gr.push(Jr)}var nn=Qr[0]>Qr[1];sn(Gr[0].coord,Qr[0])&&(Zr?Gr[0].coord=Qr[0]:Gr.shift()),Zr&&sn(Qr[0],Gr[0].coord)&&Gr.unshift({coord:Qr[0]}),sn(Qr[1],Jr.coord)&&(Zr?Jr.coord=Qr[1]:Gr.pop()),Zr&&sn(Jr.coord,Qr[1])&&Gr.push({coord:Qr[1]});function sn(ln,un){return ln=round$3(ln),un=round$3(un),nn?ln>un:ln<un}}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.width,Jr=Yr.height;switch(Wr){case"top":Zr.set(Yr.x+Qr/2,Yr.y-Gr),Kr.set(0,-1);break;case"bottom":Zr.set(Yr.x+Qr/2,Yr.y+Jr+Gr),Kr.set(0,1);break;case"left":Zr.set(Yr.x-Gr,Yr.y+Jr/2),Kr.set(-1,0);break;case"right":Zr.set(Yr.x+Qr+Gr,Yr.y+Jr/2),Kr.set(1,0);break}}function projectPointToArc(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){Jr-=Wr,en-=Gr;var rn=Math.sqrt(Jr*Jr+en*en);Jr/=rn,en/=rn;var an=Jr*Yr+Wr,nn=en*Yr+Gr;if(Math.abs(Zr-Kr)%PI2$2<1e-4)return tn[0]=an,tn[1]=nn,rn-Yr;if(Qr){var sn=Zr;Zr=normalizeRadian(Kr),Kr=normalizeRadian(sn)}else Zr=normalizeRadian(Zr),Kr=normalizeRadian(Kr);Zr>Kr&&(Kr+=PI2$2);var ln=Math.atan2(en,Jr);if(ln<0&&(ln+=PI2$2),ln>=Zr&&ln<=Kr||ln+PI2$2>=Zr&&ln+PI2$2<=Kr)return tn[0]=an,tn[1]=nn,rn-Yr;var un=Yr*Math.cos(Zr)+Wr,cn=Yr*Math.sin(Zr)+Gr,hn=Yr*Math.cos(Kr)+Wr,dn=Yr*Math.sin(Kr)+Gr,fn=(un-Jr)*(un-Jr)+(cn-en)*(cn-en),pn=(hn-Jr)*(hn-Jr)+(dn-en)*(dn-en);return fn<pn?(tn[0]=un,tn[1]=cn,Math.sqrt(fn)):(tn[0]=hn,tn[1]=dn,Math.sqrt(pn))}function projectPointToLine(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Kr-Wr,rn=Qr-Gr,an=Yr-Wr,nn=Zr-Gr,sn=Math.sqrt(an*an+nn*nn);an/=sn,nn/=sn;var ln=tn*an+rn*nn,un=ln/sn;en&&(un=Math.min(Math.max(un,0),1)),un*=sn;var cn=Jr[0]=Wr+un*an,hn=Jr[1]=Gr+un*nn;return Math.sqrt((cn-Kr)*(cn-Kr)+(hn-Qr)*(hn-Qr))}function projectPointToRect(Wr,Gr,Yr,Zr,Kr,Qr,Jr){Yr<0&&(Wr=Wr+Yr,Yr=-Yr),Zr<0&&(Gr=Gr+Zr,Zr=-Zr);var en=Wr+Yr,tn=Gr+Zr,rn=Jr[0]=Math.min(Math.max(Kr,Wr),en),an=Jr[1]=Math.min(Math.max(Qr,Gr),tn);return Math.sqrt((rn-Kr)*(rn-Kr)+(an-Qr)*(an-Qr))}var tmpPt=[];function nearestPointOnRect(Wr,Gr,Yr){var Zr=projectPointToRect(Gr.x,Gr.y,Gr.width,Gr.height,Wr.x,Wr.y,tmpPt);return Yr.set(tmpPt[0],tmpPt[1]),Zr}function nearestPointOnPath(Wr,Gr,Yr){for(var Zr=0,Kr=0,Qr=0,Jr=0,en,tn,rn=1/0,an=Gr.data,nn=Wr.x,sn=Wr.y,ln=0;ln<an.length;){var un=an[ln++];ln===1&&(Zr=an[ln],Kr=an[ln+1],Qr=Zr,Jr=Kr);var cn=rn;switch(un){case CMD$1.M:Qr=an[ln++],Jr=an[ln++],Zr=Qr,Kr=Jr;break;case CMD$1.L:cn=projectPointToLine(Zr,Kr,an[ln],an[ln+1],nn,sn,tmpPt,!0),Zr=an[ln++],Kr=an[ln++];break;case CMD$1.C:cn=cubicProjectPoint(Zr,Kr,an[ln++],an[ln++],an[ln++],an[ln++],an[ln],an[ln+1],nn,sn,tmpPt),Zr=an[ln++],Kr=an[ln++];break;case CMD$1.Q:cn=quadraticProjectPoint(Zr,Kr,an[ln++],an[ln++],an[ln],an[ln+1],nn,sn,tmpPt),Zr=an[ln++],Kr=an[ln++];break;case CMD$1.A:var hn=an[ln++],dn=an[ln++],fn=an[ln++],pn=an[ln++],gn=an[ln++],vn=an[ln++];ln+=1;var mn=!!(1-an[ln++]);en=Math.cos(gn)*fn+hn,tn=Math.sin(gn)*pn+dn,ln<=1&&(Qr=en,Jr=tn);var yn=(nn-hn)*pn/fn+hn;cn=projectPointToArc(hn,dn,pn,gn,gn+vn,mn,yn,sn,tmpPt),Zr=Math.cos(gn+vn)*fn+hn,Kr=Math.sin(gn+vn)*pn+dn;break;case CMD$1.R:Qr=Zr=an[ln++],Jr=Kr=an[ln++];var xn=an[ln++],bn=an[ln++];cn=projectPointToRect(Qr,Jr,xn,bn,nn,sn,tmpPt);break;case CMD$1.Z:cn=projectPointToLine(Zr,Kr,Qr,Jr,nn,sn,tmpPt,!0),Zr=Qr,Kr=Jr;break}cn<rn&&(rn=cn,Yr.set(tmpPt[0],tmpPt[1]))}return rn}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(Wr,Gr){if(Wr){var Yr=Wr.getTextGuideLine(),Zr=Wr.getTextContent();if(Zr&&Yr){var Kr=Wr.textGuideLineConfig||{},Qr=[[0,0],[0,0],[0,0]],Jr=Kr.candidates||DEFAULT_SEARCH_SPACE,en=Zr.getBoundingRect().clone();en.applyTransform(Zr.getComputedTransform());var tn=1/0,rn=Kr.anchor,an=Wr.getComputedTransform(),nn=an&&invert([],an),sn=Gr.get("length2")||0;rn&&pt2.copy(rn);for(var ln=0;ln<Jr.length;ln++){var un=Jr[ln];getCandidateAnchor(un,0,en,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,sn),pt1.transform(nn);var cn=Wr.getBoundingRect(),hn=rn?rn.distance(pt1):Wr instanceof Path?nearestPointOnPath(pt1,Wr.path,pt2):nearestPointOnRect(pt1,cn,pt2);hn<tn&&(tn=hn,pt1.transform(an),pt2.transform(an),pt2.toArray(Qr[0]),pt1.toArray(Qr[1]),pt0.toArray(Qr[2]))}limitTurnAngle(Qr,Gr.get("minTurnAngle")),Yr.setShape({points:Qr})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(Wr,Gr){if(Gr<=180&&Gr>0){Gr=Gr/180*Math.PI,pt0.fromArray(Wr[0]),pt1.fromArray(Wr[1]),pt2.fromArray(Wr[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var Yr=dir.len(),Zr=dir2.len();if(!(Yr<.001||Zr<.001)){dir.scale(1/Yr),dir2.scale(1/Zr);var Kr=dir.dot(dir2),Qr=Math.cos(Gr);if(Qr<Kr){var Jr=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,Jr/Math.tan(Math.PI-Gr));var en=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(en))return;en<0?Point.copy(tmpProjPoint,pt1):en>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(Wr[1])}}}}function limitSurfaceAngle(Wr,Gr,Yr){if(Yr<=180&&Yr>0){Yr=Yr/180*Math.PI,pt0.fromArray(Wr[0]),pt1.fromArray(Wr[1]),pt2.fromArray(Wr[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var Zr=dir.len(),Kr=dir2.len();if(!(Zr<.001||Kr<.001)){dir.scale(1/Zr),dir2.scale(1/Kr);var Qr=dir.dot(Gr),Jr=Math.cos(Yr);if(Qr<Jr){var en=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var tn=Math.PI/2,rn=Math.acos(dir2.dot(Gr)),an=tn+rn-Yr;if(an>=tn)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,en/Math.tan(Math.PI/2-an));var nn=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(nn))return;nn<0?Point.copy(tmpProjPoint,pt1):nn>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(Wr[1])}}}}function setLabelLineState(Wr,Gr,Yr,Zr){var Kr=Yr==="normal",Qr=Kr?Wr:Wr.ensureState(Yr);Qr.ignore=Gr;var Jr=Zr.get("smooth");Jr&&Jr===!0&&(Jr=.3),Qr.shape=Qr.shape||{},Jr>0&&(Qr.shape.smooth=Jr);var en=Zr.getModel("lineStyle").getLineStyle();Kr?Wr.useStyle(en):Qr.style=en}function buildLabelLinePath(Wr,Gr){var Yr=Gr.smooth,Zr=Gr.points;if(Zr)if(Wr.moveTo(Zr[0][0],Zr[0][1]),Yr>0&&Zr.length>=3){var Kr=dist$1(Zr[0],Zr[1]),Qr=dist$1(Zr[1],Zr[2]);if(!Kr||!Qr){Wr.lineTo(Zr[1][0],Zr[1][1]),Wr.lineTo(Zr[2][0],Zr[2][1]);return}var Jr=Math.min(Kr,Qr)*Yr,en=lerp$1([],Zr[1],Zr[0],Jr/Kr),tn=lerp$1([],Zr[1],Zr[2],Jr/Qr),rn=lerp$1([],en,tn,.5);Wr.bezierCurveTo(en[0],en[1],en[0],en[1],rn[0],rn[1]),Wr.bezierCurveTo(tn[0],tn[1],tn[0],tn[1],Zr[2][0],Zr[2][1])}else for(var an=1;an<Zr.length;an++)Wr.lineTo(Zr[an][0],Zr[an][1])}function setLabelLineStyle(Wr,Gr,Yr){var Zr=Wr.getTextGuideLine(),Kr=Wr.getTextContent();if(!Kr){Zr&&Wr.removeTextGuideLine();return}for(var Qr=Gr.normal,Jr=Qr.get("show"),en=Kr.ignore,tn=0;tn<DISPLAY_STATES.length;tn++){var rn=DISPLAY_STATES[tn],an=Gr[rn],nn=rn==="normal";if(an){var sn=an.get("show"),ln=nn?en:retrieve2(Kr.states[rn]&&Kr.states[rn].ignore,en);if(ln||!retrieve2(sn,Jr)){var un=nn?Zr:Zr&&Zr.states[rn];un&&(un.ignore=!0),Zr&&setLabelLineState(Zr,!0,rn,an);continue}Zr||(Zr=new Polyline$1,Wr.setTextGuideLine(Zr),!nn&&(en||!Jr)&&setLabelLineState(Zr,!0,"normal",Gr.normal),Wr.stateProxy&&(Zr.stateProxy=Wr.stateProxy)),setLabelLineState(Zr,!1,rn,an)}}if(Zr){defaults(Zr.style,Yr),Zr.style.fill=null;var cn=Qr.get("showAbove"),hn=Wr.textGuideLineConfig=Wr.textGuideLineConfig||{};hn.showAbove=cn||!1,Zr.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(Wr,Gr){Gr=Gr||"labelLine";for(var Yr={normal:Wr.getModel(Gr)},Zr=0;Zr<SPECIAL_STATES.length;Zr++){var Kr=SPECIAL_STATES[Zr];Yr[Kr]=Wr.getModel([Kr,Gr])}return Yr}function prepareLayoutList(Wr){for(var Gr=[],Yr=0;Yr<Wr.length;Yr++){var Zr=Wr[Yr];if(!Zr.defaultAttr.ignore){var Kr=Zr.label,Qr=Kr.getComputedTransform(),Jr=Kr.getBoundingRect(),en=!Qr||Qr[1]<1e-5&&Qr[2]<1e-5,tn=Kr.style.margin||0,rn=Jr.clone();rn.applyTransform(Qr),rn.x-=tn/2,rn.y-=tn/2,rn.width+=tn,rn.height+=tn;var an=en?new OrientedBoundingRect(Jr,Qr):null;Gr.push({label:Kr,labelLine:Zr.labelLine,rect:rn,localRect:Jr,obb:an,priority:Zr.priority,defaultAttr:Zr.defaultAttr,layoutOption:Zr.computedLayoutOption,axisAligned:en,transform:Qr})}}return Gr}function shiftLayout(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Wr.length;if(Jr<2)return;Wr.sort(function(mn,yn){return mn.rect[Gr]-yn.rect[Gr]});for(var en=0,tn,rn=!1,an=0;an<Jr;an++){var nn=Wr[an],sn=nn.rect;tn=sn[Gr]-en,tn<0&&(sn[Gr]-=tn,nn.label[Gr]-=tn,rn=!0),en=sn[Gr]+sn[Yr]}var ln=Wr[0],un=Wr[Jr-1],cn,hn;dn(),cn<0&&gn(-cn,.8),hn<0&&gn(hn,.8),dn(),fn(cn,hn,1),fn(hn,cn,-1),dn(),cn<0&&vn(-cn),hn<0&&vn(hn);function dn(){cn=ln.rect[Gr]-Zr,hn=Kr-un.rect[Gr]-un.rect[Yr]}function fn(mn,yn,xn){if(mn<0){var bn=Math.min(yn,-mn);if(bn>0){pn(bn*xn,0,Jr);var Sn=bn+mn;Sn<0&&gn(-Sn*xn,1)}else gn(-mn*xn,1)}}function pn(mn,yn,xn){mn!==0&&(rn=!0);for(var bn=yn;bn<xn;bn++){var Sn=Wr[bn],wn=Sn.rect;wn[Gr]+=mn,Sn.label[Gr]+=mn}}function gn(mn,yn){for(var xn=[],bn=0,Sn=1;Sn<Jr;Sn++){var wn=Wr[Sn-1].rect,_n=Math.max(Wr[Sn].rect[Gr]-wn[Gr]-wn[Yr],0);xn.push(_n),bn+=_n}if(bn){var An=Math.min(Math.abs(mn)/bn,yn);if(mn>0)for(var Sn=0;Sn<Jr-1;Sn++){var Cn=xn[Sn]*An;pn(Cn,0,Sn+1)}else for(var Sn=Jr-1;Sn>0;Sn--){var Cn=xn[Sn-1]*An;pn(-Cn,Sn,Jr)}}}function vn(mn){var yn=mn<0?-1:1;mn=Math.abs(mn);for(var xn=Math.ceil(mn/(Jr-1)),bn=0;bn<Jr-1;bn++)if(yn>0?pn(xn,0,bn+1):pn(-xn,Jr-bn-1,Jr),mn-=xn,mn<=0)return}return rn}function shiftLayoutOnX(Wr,Gr,Yr,Zr){return shiftLayout(Wr,"x","width",Gr,Yr)}function shiftLayoutOnY(Wr,Gr,Yr,Zr){return shiftLayout(Wr,"y","height",Gr,Yr)}function hideOverlap(Wr){var Gr=[];Wr.sort(function(cn,hn){return hn.priority-cn.priority});var Yr=new BoundingRect(0,0,0,0);function Zr(cn){if(!cn.ignore){var hn=cn.ensureState("emphasis");hn.ignore==null&&(hn.ignore=!1)}cn.ignore=!0}for(var Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr],Jr=Qr.axisAligned,en=Qr.localRect,tn=Qr.transform,rn=Qr.label,an=Qr.labelLine;Yr.copy(Qr.rect),Yr.width-=.1,Yr.height-=.1,Yr.x+=.05,Yr.y+=.05;for(var nn=Qr.obb,sn=!1,ln=0;ln<Gr.length;ln++){var un=Gr[ln];if(Yr.intersect(un.rect)){if(Jr&&un.axisAligned){sn=!0;break}if(un.obb||(un.obb=new OrientedBoundingRect(un.localRect,un.transform)),nn||(nn=new OrientedBoundingRect(en,tn)),nn.intersect(un.obb)){sn=!0;break}}}sn?(Zr(rn),an&&Zr(an)):(rn.attr("ignore",Qr.defaultAttr.ignore),an&&an.attr("ignore",Qr.defaultAttr.labelGuideIgnore),Gr.push(Qr))}}function cloneArr(Wr){if(Wr){for(var Gr=[],Yr=0;Yr<Wr.length;Yr++)Gr.push(Wr[Yr].slice());return Gr}}function prepareLayoutCallbackParams(Wr,Gr){var Yr=Wr.label,Zr=Gr&&Gr.getTextGuideLine();return{dataIndex:Wr.dataIndex,dataType:Wr.dataType,seriesIndex:Wr.seriesModel.seriesIndex,text:Wr.label.style.text,rect:Wr.hostRect,labelRect:Wr.rect,align:Yr.style.align,verticalAlign:Yr.style.verticalAlign,labelLinePoints:cloneArr(Zr&&Zr.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(Wr,Gr,Yr){for(var Zr=0;Zr<Yr.length;Zr++){var Kr=Yr[Zr];Gr[Kr]!=null&&(Wr[Kr]=Gr[Kr])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function Wr(){this._labelList=[],this._chartViewList=[]}return Wr.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},Wr.prototype._addLabel=function(Gr,Yr,Zr,Kr,Qr){var Jr=Kr.style,en=Kr.__hostTarget,tn=en.textConfig||{},rn=Kr.getComputedTransform(),an=Kr.getBoundingRect().plain();BoundingRect.applyTransform(an,an,rn),rn?dummyTransformable.setLocalTransform(rn):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var nn=Kr.__hostTarget,sn;if(nn){sn=nn.getBoundingRect().plain();var ln=nn.getComputedTransform();BoundingRect.applyTransform(sn,sn,ln)}var un=sn&&nn.getTextGuideLine();this._labelList.push({label:Kr,labelLine:un,seriesModel:Zr,dataIndex:Gr,dataType:Yr,layoutOption:Qr,computedLayoutOption:null,rect:an,hostRect:sn,priority:sn?sn.width*sn.height:0,defaultAttr:{ignore:Kr.ignore,labelGuideIgnore:un&&un.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:Jr.x,y:Jr.y,align:Jr.align,verticalAlign:Jr.verticalAlign,width:Jr.width,height:Jr.height,fontSize:Jr.fontSize},cursor:Kr.cursor,attachedPos:tn.position,attachedRot:tn.rotation}})},Wr.prototype.addLabelsOfSeries=function(Gr){var Yr=this;this._chartViewList.push(Gr);var Zr=Gr.__model,Kr=Zr.get("labelLayout");(isFunction(Kr)||keys(Kr).length)&&Gr.group.traverse(function(Qr){if(Qr.ignore)return!0;var Jr=Qr.getTextContent(),en=getECData(Qr);Jr&&!Jr.disableLabelLayout&&Yr._addLabel(en.dataIndex,en.dataType,Zr,Jr,Kr)})},Wr.prototype.updateLayoutConfig=function(Gr){var Yr=Gr.getWidth(),Zr=Gr.getHeight();function Kr(pn,gn){return function(){updateLabelLinePoints(pn,gn)}}for(var Qr=0;Qr<this._labelList.length;Qr++){var Jr=this._labelList[Qr],en=Jr.label,tn=en.__hostTarget,rn=Jr.defaultAttr,an=void 0;isFunction(Jr.layoutOption)?an=Jr.layoutOption(prepareLayoutCallbackParams(Jr,tn)):an=Jr.layoutOption,an=an||{},Jr.computedLayoutOption=an;var nn=Math.PI/180;tn&&tn.setTextConfig({local:!1,position:an.x!=null||an.y!=null?null:rn.attachedPos,rotation:an.rotate!=null?an.rotate*nn:rn.attachedRot,offset:[an.dx||0,an.dy||0]});var sn=!1;if(an.x!=null?(en.x=parsePercent(an.x,Yr),en.setStyle("x",0),sn=!0):(en.x=rn.x,en.setStyle("x",rn.style.x)),an.y!=null?(en.y=parsePercent(an.y,Zr),en.setStyle("y",0),sn=!0):(en.y=rn.y,en.setStyle("y",rn.style.y)),an.labelLinePoints){var ln=tn.getTextGuideLine();ln&&(ln.setShape({points:an.labelLinePoints}),sn=!1)}var un=labelLayoutInnerStore(en);un.needsUpdateLabelLine=sn,en.rotation=an.rotate!=null?an.rotate*nn:rn.rotation,en.scaleX=rn.scaleX,en.scaleY=rn.scaleY;for(var cn=0;cn<LABEL_OPTION_TO_STYLE_KEYS.length;cn++){var hn=LABEL_OPTION_TO_STYLE_KEYS[cn];en.setStyle(hn,an[hn]!=null?an[hn]:rn.style[hn])}if(an.draggable){if(en.draggable=!0,en.cursor="move",tn){var dn=Jr.seriesModel;if(Jr.dataIndex!=null){var fn=Jr.seriesModel.getData(Jr.dataType);dn=fn.getItemModel(Jr.dataIndex)}en.on("drag",Kr(tn,dn.getModel("labelLine")))}}else en.off("drag"),en.cursor=rn.cursor}},Wr.prototype.layout=function(Gr){var Yr=Gr.getWidth(),Zr=Gr.getHeight(),Kr=prepareLayoutList(this._labelList),Qr=filter(Kr,function(tn){return tn.layoutOption.moveOverlap==="shiftX"}),Jr=filter(Kr,function(tn){return tn.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(Qr,0,Yr),shiftLayoutOnY(Jr,0,Zr);var en=filter(Kr,function(tn){return tn.layoutOption.hideOverlap});hideOverlap(en)},Wr.prototype.processLabelsOverall=function(){var Gr=this;each$f(this._chartViewList,function(Yr){var Zr=Yr.__model,Kr=Yr.ignoreLabelLineUpdate,Qr=Zr.isAnimationEnabled();Yr.group.traverse(function(Jr){if(Jr.ignore&&!Jr.forceLabelAnimation)return!0;var en=!Kr,tn=Jr.getTextContent();!en&&tn&&(en=labelLayoutInnerStore(tn).needsUpdateLabelLine),en&&Gr._updateLabelLine(Jr,Zr),Qr&&Gr._animateLabels(Jr,Zr)})})},Wr.prototype._updateLabelLine=function(Gr,Yr){var Zr=Gr.getTextContent(),Kr=getECData(Gr),Qr=Kr.dataIndex;if(Zr&&Qr!=null){var Jr=Yr.getData(Kr.dataType),en=Jr.getItemModel(Qr),tn={},rn=Jr.getItemVisual(Qr,"style");if(rn){var an=Jr.getVisual("drawType");tn.stroke=rn[an]}var nn=en.getModel("labelLine");setLabelLineStyle(Gr,getLabelLineStatesModels(en),tn),updateLabelLinePoints(Gr,nn)}},Wr.prototype._animateLabels=function(Gr,Yr){var Zr=Gr.getTextContent(),Kr=Gr.getTextGuideLine();if(Zr&&(Gr.forceLabelAnimation||!Zr.ignore&&!Zr.invisible&&!Gr.disableLabelAnimation&&!isElementRemoved(Gr))){var Qr=labelLayoutInnerStore(Zr),Jr=Qr.oldLayout,en=getECData(Gr),tn=en.dataIndex,rn={x:Zr.x,y:Zr.y,rotation:Zr.rotation},an=Yr.getData(en.dataType);if(Jr){Zr.attr(Jr);var sn=Gr.prevStates;sn&&(indexOf(sn,"select")>=0&&Zr.attr(Qr.oldLayoutSelect),indexOf(sn,"emphasis")>=0&&Zr.attr(Qr.oldLayoutEmphasis)),updateProps$1(Zr,rn,Yr,tn)}else if(Zr.attr(rn),!labelInner(Zr).valueAnimation){var nn=retrieve2(Zr.style.opacity,1);Zr.style.opacity=0,initProps(Zr,{style:{opacity:nn}},Yr,tn)}if(Qr.oldLayout=rn,Zr.states.select){var ln=Qr.oldLayoutSelect={};extendWithKeys(ln,rn,LABEL_LAYOUT_PROPS),extendWithKeys(ln,Zr.states.select,LABEL_LAYOUT_PROPS)}if(Zr.states.emphasis){var un=Qr.oldLayoutEmphasis={};extendWithKeys(un,rn,LABEL_LAYOUT_PROPS),extendWithKeys(un,Zr.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(Zr,tn,an,Yr,Yr)}if(Kr&&!Kr.ignore&&!Kr.invisible){var Qr=labelLineAnimationStore(Kr),Jr=Qr.oldLayout,cn={points:Kr.shape.points};Jr?(Kr.attr({shape:Jr}),updateProps$1(Kr,{shape:cn},Yr)):(Kr.setShape(cn),Kr.style.strokePercent=0,initProps(Kr,{style:{strokePercent:1}},Yr)),Qr.oldLayout=cn}},Wr}(),getLabelManager=makeInner();function installLabelLayout(Wr){Wr.registerUpdateLifecycle("series:beforeupdate",function(Gr,Yr,Zr){var Kr=getLabelManager(Yr).labelManager;Kr||(Kr=getLabelManager(Yr).labelManager=new LabelManager),Kr.clearLabels()}),Wr.registerUpdateLifecycle("series:layoutlabels",function(Gr,Yr,Zr){var Kr=getLabelManager(Yr).labelManager;Zr.updatedSeries.forEach(function(Qr){Kr.addLabelsOfSeries(Yr.getViewOfSeriesModel(Qr))}),Kr.updateLayoutConfig(Yr),Kr.layout(Yr),Kr.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function Wr(){}return Wr.prototype.reset=function(Gr){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,Gr||4)},Wr.prototype.moveTo=function(Gr,Yr){this._add("M",Gr,Yr)},Wr.prototype.lineTo=function(Gr,Yr){this._add("L",Gr,Yr)},Wr.prototype.bezierCurveTo=function(Gr,Yr,Zr,Kr,Qr,Jr){this._add("C",Gr,Yr,Zr,Kr,Qr,Jr)},Wr.prototype.quadraticCurveTo=function(Gr,Yr,Zr,Kr){this._add("Q",Gr,Yr,Zr,Kr)},Wr.prototype.arc=function(Gr,Yr,Zr,Kr,Qr,Jr){this.ellipse(Gr,Yr,Zr,Zr,0,Kr,Qr,Jr)},Wr.prototype.ellipse=function(Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn=en-Jr,an=!tn,nn=Math.abs(rn),sn=isAroundZero(nn-PI2$1)||(an?rn>=PI2$1:-rn>=PI2$1),ln=rn>0?rn%PI2$1:rn%PI2$1+PI2$1,un=!1;sn?un=!0:isAroundZero(nn)?un=!1:un=ln>=PI$4==!!an;var cn=Gr+Zr*mathCos(Jr),hn=Yr+Kr*mathSin(Jr);this._start&&this._add("M",cn,hn);var dn=Math.round(Qr*degree);if(sn){var fn=1/this._p,pn=(an?1:-1)*(PI2$1-fn);this._add("A",Zr,Kr,dn,1,+an,Gr+Zr*mathCos(Jr+pn),Yr+Kr*mathSin(Jr+pn)),fn>.01&&this._add("A",Zr,Kr,dn,0,+an,cn,hn)}else{var gn=Gr+Zr*mathCos(en),vn=Yr+Kr*mathSin(en);this._add("A",Zr,Kr,dn,+un,+an,gn,vn)}},Wr.prototype.rect=function(Gr,Yr,Zr,Kr){this._add("M",Gr,Yr),this._add("l",Zr,0),this._add("l",0,Kr),this._add("l",-Zr,0),this._add("Z")},Wr.prototype.closePath=function(){this._d.length>0&&this._add("Z")},Wr.prototype._add=function(Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){for(var an=[],nn=this._p,sn=1;sn<arguments.length;sn++){var ln=arguments[sn];if(isNaN(ln)){this._invalid=!0;return}an.push(Math.round(ln*nn)/nn)}this._d.push(Gr+an.join(" ")),this._start=Gr==="Z"},Wr.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},Wr.prototype.getStr=function(){return this._str},Wr}(),NONE="none",mathRound=Math.round;function pathHasFill(Wr){var Gr=Wr.fill;return Gr!=null&&Gr!==NONE}function pathHasStroke(Wr){var Gr=Wr.stroke;return Gr!=null&&Gr!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(Wr){return"stroke-"+Wr.toLowerCase()});function mapStyleToAttrs(Wr,Gr,Yr,Zr){var Kr=Gr.opacity==null?1:Gr.opacity;if(Yr instanceof ZRImage){Wr("opacity",Kr);return}if(pathHasFill(Gr)){var Qr=normalizeColor(Gr.fill);Wr("fill",Qr.color);var Jr=Gr.fillOpacity!=null?Gr.fillOpacity*Qr.opacity*Kr:Qr.opacity*Kr;Jr<1&&Wr("fill-opacity",Jr)}else Wr("fill",NONE);if(pathHasStroke(Gr)){var en=normalizeColor(Gr.stroke);Wr("stroke",en.color);var tn=Gr.strokeNoScale?Yr.getLineScale():1,rn=tn?(Gr.lineWidth||0)/tn:0,an=Gr.strokeOpacity!=null?Gr.strokeOpacity*en.opacity*Kr:en.opacity*Kr,nn=Gr.strokeFirst;if(rn!==1&&Wr("stroke-width",rn),nn&&Wr("paint-order",nn?"stroke":"fill"),an<1&&Wr("stroke-opacity",an),Gr.lineDash){var sn=getLineDash(Yr),ln=sn[0],un=sn[1];ln&&(un=mathRound(un||0),Wr("stroke-dasharray",ln.join(",")),(un||Zr)&&Wr("stroke-dashoffset",un))}for(var cn=0;cn<strokeProps.length;cn++){var hn=strokeProps[cn];if(Gr[hn]!==DEFAULT_PATH_STYLE[hn]){var dn=Gr[hn]||DEFAULT_PATH_STYLE[hn];dn&&Wr(svgStrokeProps[cn],dn)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(Wr){return document.createElementNS(SVGNS,Wr)}function createVNode(Wr,Gr,Yr,Zr,Kr){return{tag:Wr,attrs:Yr||{},children:Zr,text:Kr,key:Gr}}function createElementOpen(Wr,Gr){var Yr=[];if(Gr)for(var Zr in Gr){var Kr=Gr[Zr],Qr=Zr;Kr!==!1&&(Kr!==!0&&Kr!=null&&(Qr+='="'+Kr+'"'),Yr.push(Qr))}return"<"+Wr+" "+Yr.join(" ")+">"}function createElementClose(Wr){return"</"+Wr+">"}function vNodeToString(Wr,Gr){Gr=Gr||{};var Yr=Gr.newline?`
`:"";function Zr(Kr){var Qr=Kr.children,Jr=Kr.tag,en=Kr.attrs,tn=Kr.text;return createElementOpen(Jr,en)+(Jr!=="style"?encodeHTML(tn):tn||"")+(Qr?""+Yr+map$1(Qr,function(rn){return Zr(rn)}).join(Yr)+Yr:"")+createElementClose(Jr)}return Zr(Wr)}function getCssString(Wr,Gr,Yr){Yr=Yr||{};var Zr=Yr.newline?`
`:"",Kr=" {"+Zr,Qr=Zr+"}",Jr=map$1(keys(Wr),function(tn){return tn+Kr+map$1(keys(Wr[tn]),function(rn){return rn+":"+Wr[tn][rn]+";"}).join(Zr)+Qr}).join(Zr),en=map$1(keys(Gr),function(tn){return"@keyframes "+tn+Kr+map$1(keys(Gr[tn]),function(rn){return rn+Kr+map$1(keys(Gr[tn][rn]),function(an){var nn=Gr[tn][rn][an];return an==="d"&&(nn='path("'+nn+'")'),an+":"+nn+";"}).join(Zr)+Qr}).join(Zr)+Qr}).join(Zr);return!Jr&&!en?"":["<![CDATA[",Jr,en,"]]>"].join(Zr)}function createBrushScope(Wr){return{zrId:Wr,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(Wr,Gr,Yr,Zr){return createVNode("svg","root",{width:Wr,height:Gr,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:Zr?"0 0 "+Wr+" "+Gr:!1},Yr)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(Wr,Gr,Yr){var Zr=extend({},Wr.shape);extend(Zr,Gr),Wr.buildPath(Yr,Zr);var Kr=new SVGPathRebuilder;return Kr.reset(getPathPrecision(Wr)),Yr.rebuildPath(Kr,1),Kr.generateStr(),Kr.getStr()}function setTransformOrigin(Wr,Gr){var Yr=Gr.originX,Zr=Gr.originY;(Yr||Zr)&&(Wr[transformOriginKey]=Yr+"px "+Zr+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(Wr,Gr){var Yr=Gr.zrId+"-ani-"+Gr.cssAnimIdx++;return Gr.cssAnims[Yr]=Wr,Yr}function createCompoundPathCSSAnimation(Wr,Gr,Yr){var Zr=Wr.shape.paths,Kr={},Qr,Jr;if(each$f(Zr,function(tn){var rn=createBrushScope(Yr.zrId);rn.animation=!0,createCSSAnimation(tn,{},rn,!0);var an=rn.cssAnims,nn=rn.cssNodes,sn=keys(an),ln=sn.length;if(ln){Jr=sn[ln-1];var un=an[Jr];for(var cn in un){var hn=un[cn];Kr[cn]=Kr[cn]||{d:""},Kr[cn].d+=hn.d||""}for(var dn in nn){var fn=nn[dn].animation;fn.indexOf(Jr)>=0&&(Qr=fn)}}}),!!Qr){Gr.d=!1;var en=addAnimation(Kr,Yr);return Qr.replace(Jr,en)}}function getEasingFunc(Wr){return isString(Wr)?EASING_MAP[Wr]?"cubic-bezier("+EASING_MAP[Wr]+")":createCubicEasingFunc(Wr)?Wr:"":""}function createCSSAnimation(Wr,Gr,Yr,Zr){var Kr=Wr.animators,Qr=Kr.length,Jr=[];if(Wr instanceof CompoundPath){var en=createCompoundPathCSSAnimation(Wr,Gr,Yr);if(en)Jr.push(en);else if(!Qr)return}else if(!Qr)return;for(var tn={},rn=0;rn<Qr;rn++){var an=Kr[rn],nn=[an.getMaxTime()/1e3+"s"],sn=getEasingFunc(an.getClip().easing),ln=an.getDelay();sn?nn.push(sn):nn.push("linear"),ln&&nn.push(ln/1e3+"s"),an.getLoop()&&nn.push("infinite");var un=nn.join(" ");tn[un]=tn[un]||[un,[]],tn[un][1].push(an)}function cn(fn){var pn=fn[1],gn=pn.length,vn={},mn={},yn={},xn="animation-timing-function";function bn(zn,On,Bn){for(var $n=zn.getTracks(),Vn=zn.getMaxTime(),Yn=0;Yn<$n.length;Yn++){var Wn=$n[Yn];if(Wn.needsAnimate()){var Xn=Wn.keyframes,qn=Wn.propName;if(Bn&&(qn=Bn(qn)),qn)for(var Un=0;Un<Xn.length;Un++){var jn=Xn[Un],Zn=Math.round(jn.time/Vn*100)+"%",Kn=getEasingFunc(jn.easing),Qn=jn.rawValue;(isString(Qn)||isNumber(Qn))&&(On[Zn]=On[Zn]||{},On[Zn][qn]=jn.rawValue,Kn&&(On[Zn][xn]=Kn))}}}}for(var Sn=0;Sn<gn;Sn++){var wn=pn[Sn],_n=wn.targetName;_n?_n==="shape"&&bn(wn,mn):!Zr&&bn(wn,vn)}for(var An in vn){var Cn={};copyTransform(Cn,Wr),extend(Cn,vn[An]);var Tn=getSRTTransformString(Cn),Mn=vn[An][xn];yn[An]=Tn?{transform:Tn}:{},setTransformOrigin(yn[An],Cn),Mn&&(yn[An][xn]=Mn)}var En,Ln=!0;for(var An in mn){yn[An]=yn[An]||{};var In=!En,Mn=mn[An][xn];In&&(En=new PathProxy);var Pn=En.len();En.reset(),yn[An].d=buildPathString(Wr,mn[An],En);var Dn=En.len();if(!In&&Pn!==Dn){Ln=!1;break}Mn&&(yn[An][xn]=Mn)}if(!Ln)for(var An in yn)delete yn[An].d;if(!Zr)for(var Sn=0;Sn<gn;Sn++){var wn=pn[Sn],_n=wn.targetName;_n==="style"&&bn(wn,yn,function($n){return ANIMATE_STYLE_MAP[$n]})}for(var kn=keys(yn),Nn=!0,Rn,Sn=1;Sn<kn.length;Sn++){var Fn=kn[Sn-1],Hn=kn[Sn];if(yn[Fn][transformOriginKey]!==yn[Hn][transformOriginKey]){Nn=!1;break}Rn=yn[Fn][transformOriginKey]}if(Nn&&Rn){for(var An in yn)yn[An][transformOriginKey]&&delete yn[An][transformOriginKey];Gr[transformOriginKey]=Rn}if(filter(kn,function(zn){return keys(yn[zn]).length>0}).length){var Gn=addAnimation(yn,Yr);return Gn+" "+fn[0]+" both"}}for(var hn in tn){var en=cn(tn[hn]);en&&Jr.push(en)}if(Jr.length){var dn=Yr.zrId+"-cls-"+getClassId();Yr.cssNodes["."+dn]={animation:Jr.join(",")},Gr.class=dn}}function createCSSEmphasis(Wr,Gr,Yr){if(!Wr.ignore)if(Wr.isSilent()){var Zr={"pointer-events":"none"};setClassAttribute(Zr,Gr,Yr)}else{var Kr=Wr.states.emphasis&&Wr.states.emphasis.style?Wr.states.emphasis.style:{},Qr=Kr.fill;if(!Qr){var Jr=Wr.style&&Wr.style.fill,en=Wr.states.select&&Wr.states.select.style&&Wr.states.select.style.fill,tn=Wr.currentStates.indexOf("select")>=0&&en||Jr;tn&&(Qr=liftColor(tn))}var rn=Kr.lineWidth;if(rn){var an=!Kr.strokeNoScale&&Wr.transform?Wr.transform[0]:1;rn=rn/an}var Zr={cursor:"pointer"};Qr&&(Zr.fill=Qr),Kr.stroke&&(Zr.stroke=Kr.stroke),rn&&(Zr["stroke-width"]=rn),setClassAttribute(Zr,Gr,Yr)}}function setClassAttribute(Wr,Gr,Yr,Zr){var Kr=JSON.stringify(Wr),Qr=Yr.cssStyleCache[Kr];Qr||(Qr=Yr.zrId+"-cls-"+getClassId(),Yr.cssStyleCache[Kr]=Qr,Yr.cssNodes["."+Qr+":hover"]=Wr),Gr.class=Gr.class?Gr.class+" "+Qr:Qr}var round$1=Math.round;function isImageLike(Wr){return Wr&&isString(Wr.src)}function isCanvasLike(Wr){return Wr&&isFunction(Wr.toDataURL)}function setStyleAttrs(Wr,Gr,Yr,Zr){mapStyleToAttrs(function(Kr,Qr){var Jr=Kr==="fill"||Kr==="stroke";Jr&&isGradient(Qr)?setGradient(Gr,Wr,Kr,Zr):Jr&&isPattern(Qr)?setPattern(Yr,Wr,Kr,Zr):Wr[Kr]=Qr,Jr&&Zr.ssr&&Qr==="none"&&(Wr["pointer-events"]="visible")},Gr,Yr,!1),setShadow(Yr,Wr,Zr)}function setMetaData(Wr,Gr){var Yr=getElementSSRData(Gr);Yr&&(Yr.each(function(Zr,Kr){Zr!=null&&(Wr[(META_DATA_PREFIX+Kr).toLowerCase()]=Zr+"")}),Gr.isSilent()&&(Wr[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(Wr){return isAroundZero(Wr[0]-1)&&isAroundZero(Wr[1])&&isAroundZero(Wr[2])&&isAroundZero(Wr[3]-1)}function noTranslate(Wr){return isAroundZero(Wr[4])&&isAroundZero(Wr[5])}function setTransform(Wr,Gr,Yr){if(Gr&&!(noTranslate(Gr)&&noRotateScale(Gr))){var Zr=1e4;Wr.transform=noRotateScale(Gr)?"translate("+round$1(Gr[4]*Zr)/Zr+" "+round$1(Gr[5]*Zr)/Zr+")":getMatrixStr(Gr)}}function convertPolyShape(Wr,Gr,Yr){for(var Zr=Wr.points,Kr=[],Qr=0;Qr<Zr.length;Qr++)Kr.push(round$1(Zr[Qr][0]*Yr)/Yr),Kr.push(round$1(Zr[Qr][1]*Yr)/Yr);Gr.points=Kr.join(" ")}function validatePolyShape(Wr){return!Wr.smooth}function createAttrsConvert(Wr){var Gr=map$1(Wr,function(Yr){return typeof Yr=="string"?[Yr,Yr]:Yr});return function(Yr,Zr,Kr){for(var Qr=0;Qr<Gr.length;Qr++){var Jr=Gr[Qr],en=Yr[Jr[0]];en!=null&&(Zr[Jr[1]]=round$1(en*Kr)/Kr)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(Wr){for(var Gr=Wr.animators,Yr=0;Yr<Gr.length;Yr++)if(Gr[Yr].targetName==="shape")return!0;return!1}function brushSVGPath(Wr,Gr){var Yr=Wr.style,Zr=Wr.shape,Kr=builtinShapesDef[Wr.type],Qr={},Jr=Gr.animation,en="path",tn=Wr.style.strokePercent,rn=Gr.compress&&getPathPrecision(Wr)||4;if(Kr&&!Gr.willUpdate&&!(Kr[1]&&!Kr[1](Zr))&&!(Jr&&hasShapeAnimation(Wr))&&!(tn<1)){en=Wr.type;var an=Math.pow(10,rn);Kr[0](Zr,Qr,an)}else{var nn=!Wr.path||Wr.shapeChanged();Wr.path||Wr.createPathProxy();var sn=Wr.path;nn&&(sn.beginPath(),Wr.buildPath(sn,Wr.shape),Wr.pathUpdated());var ln=sn.getVersion(),un=Wr,cn=un.__svgPathBuilder;(un.__svgPathVersion!==ln||!cn||tn!==un.__svgPathStrokePercent)&&(cn||(cn=un.__svgPathBuilder=new SVGPathRebuilder),cn.reset(rn),sn.rebuildPath(cn,tn),cn.generateStr(),un.__svgPathVersion=ln,un.__svgPathStrokePercent=tn),Qr.d=cn.getStr()}return setTransform(Qr,Wr.transform),setStyleAttrs(Qr,Yr,Wr,Gr),setMetaData(Qr,Wr),Gr.animation&&createCSSAnimation(Wr,Qr,Gr),Gr.emphasis&&createCSSEmphasis(Wr,Qr,Gr),createVNode(en,Wr.id+"",Qr)}function brushSVGImage(Wr,Gr){var Yr=Wr.style,Zr=Yr.image;if(Zr&&!isString(Zr)&&(isImageLike(Zr)?Zr=Zr.src:isCanvasLike(Zr)&&(Zr=Zr.toDataURL())),!!Zr){var Kr=Yr.x||0,Qr=Yr.y||0,Jr=Yr.width,en=Yr.height,tn={href:Zr,width:Jr,height:en};return Kr&&(tn.x=Kr),Qr&&(tn.y=Qr),setTransform(tn,Wr.transform),setStyleAttrs(tn,Yr,Wr,Gr),setMetaData(tn,Wr),Gr.animation&&createCSSAnimation(Wr,tn,Gr),createVNode("image",Wr.id+"",tn)}}function brushSVGTSpan(Wr,Gr){var Yr=Wr.style,Zr=Yr.text;if(Zr!=null&&(Zr+=""),!(!Zr||isNaN(Yr.x)||isNaN(Yr.y))){var Kr=Yr.font||DEFAULT_FONT,Qr=Yr.x||0,Jr=adjustTextY$1(Yr.y||0,getLineHeight(Kr),Yr.textBaseline),en=TEXT_ALIGN_TO_ANCHOR[Yr.textAlign]||Yr.textAlign,tn={"dominant-baseline":"central","text-anchor":en};if(hasSeparateFont(Yr)){var rn="",an=Yr.fontStyle,nn=parseFontSize(Yr.fontSize);if(!parseFloat(nn))return;var sn=Yr.fontFamily||DEFAULT_FONT_FAMILY,ln=Yr.fontWeight;rn+="font-size:"+nn+";font-family:"+sn+";",an&&an!=="normal"&&(rn+="font-style:"+an+";"),ln&&ln!=="normal"&&(rn+="font-weight:"+ln+";"),tn.style=rn}else tn.style="font: "+Kr;return Zr.match(/\s/)&&(tn["xml:space"]="preserve"),Qr&&(tn.x=Qr),Jr&&(tn.y=Jr),setTransform(tn,Wr.transform),setStyleAttrs(tn,Yr,Wr,Gr),setMetaData(tn,Wr),Gr.animation&&createCSSAnimation(Wr,tn,Gr),createVNode("text",Wr.id+"",tn,void 0,Zr)}}function brush(Wr,Gr){if(Wr instanceof Path)return brushSVGPath(Wr,Gr);if(Wr instanceof ZRImage)return brushSVGImage(Wr,Gr);if(Wr instanceof TSpan)return brushSVGTSpan(Wr,Gr)}function setShadow(Wr,Gr,Yr){var Zr=Wr.style;if(hasShadow(Zr)){var Kr=getShadowKey(Wr),Qr=Yr.shadowCache,Jr=Qr[Kr];if(!Jr){var en=Wr.getGlobalScale(),tn=en[0],rn=en[1];if(!tn||!rn)return;var an=Zr.shadowOffsetX||0,nn=Zr.shadowOffsetY||0,sn=Zr.shadowBlur,ln=normalizeColor(Zr.shadowColor),un=ln.opacity,cn=ln.color,hn=sn/2/tn,dn=sn/2/rn,fn=hn+" "+dn;Jr=Yr.zrId+"-s"+Yr.shadowIdx++,Yr.defs[Jr]=createVNode("filter",Jr,{id:Jr,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:an/tn,dy:nn/rn,stdDeviation:fn,"flood-color":cn,"flood-opacity":un})]),Qr[Kr]=Jr}Gr.filter=getIdURL(Jr)}}function setGradient(Wr,Gr,Yr,Zr){var Kr=Wr[Yr],Qr,Jr={gradientUnits:Kr.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(Kr))Qr="linearGradient",Jr.x1=Kr.x,Jr.y1=Kr.y,Jr.x2=Kr.x2,Jr.y2=Kr.y2;else if(isRadialGradient(Kr))Qr="radialGradient",Jr.cx=retrieve2(Kr.x,.5),Jr.cy=retrieve2(Kr.y,.5),Jr.r=retrieve2(Kr.r,.5);else return;for(var en=Kr.colorStops,tn=[],rn=0,an=en.length;rn<an;++rn){var nn=round4(en[rn].offset)*100+"%",sn=en[rn].color,ln=normalizeColor(sn),un=ln.color,cn=ln.opacity,hn={offset:nn};hn["stop-color"]=un,cn<1&&(hn["stop-opacity"]=cn),tn.push(createVNode("stop",rn+"",hn))}var dn=createVNode(Qr,"",Jr,tn),fn=vNodeToString(dn),pn=Zr.gradientCache,gn=pn[fn];gn||(gn=Zr.zrId+"-g"+Zr.gradientIdx++,pn[fn]=gn,Jr.id=gn,Zr.defs[gn]=createVNode(Qr,gn,Jr,tn)),Gr[Yr]=getIdURL(gn)}function setPattern(Wr,Gr,Yr,Zr){var Kr=Wr.style[Yr],Qr=Wr.getBoundingRect(),Jr={},en=Kr.repeat,tn=en==="no-repeat",rn=en==="repeat-x",an=en==="repeat-y",nn;if(isImagePattern(Kr)){var sn=Kr.imageWidth,ln=Kr.imageHeight,un=void 0,cn=Kr.image;if(isString(cn)?un=cn:isImageLike(cn)?un=cn.src:isCanvasLike(cn)&&(un=cn.toDataURL()),typeof Image>"u"){var hn="Image width/height must been given explictly in svg-ssr renderer.";assert(sn,hn),assert(ln,hn)}else if(sn==null||ln==null){var dn=function(Sn,wn){if(Sn){var _n=Sn.elm,An=sn||wn.width,Cn=ln||wn.height;Sn.tag==="pattern"&&(rn?(Cn=1,An/=Qr.width):an&&(An=1,Cn/=Qr.height)),Sn.attrs.width=An,Sn.attrs.height=Cn,_n&&(_n.setAttribute("width",An),_n.setAttribute("height",Cn))}},fn=createOrUpdateImage(un,null,Wr,function(Sn){tn||dn(mn,Sn),dn(nn,Sn)});fn&&fn.width&&fn.height&&(sn=sn||fn.width,ln=ln||fn.height)}nn=createVNode("image","img",{href:un,width:sn,height:ln}),Jr.width=sn,Jr.height=ln}else Kr.svgElement&&(nn=clone$4(Kr.svgElement),Jr.width=Kr.svgWidth,Jr.height=Kr.svgHeight);if(nn){var pn,gn;tn?pn=gn=1:rn?(gn=1,pn=Jr.width/Qr.width):an?(pn=1,gn=Jr.height/Qr.height):Jr.patternUnits="userSpaceOnUse",pn!=null&&!isNaN(pn)&&(Jr.width=pn),gn!=null&&!isNaN(gn)&&(Jr.height=gn);var vn=getSRTTransformString(Kr);vn&&(Jr.patternTransform=vn);var mn=createVNode("pattern","",Jr,[nn]),yn=vNodeToString(mn),xn=Zr.patternCache,bn=xn[yn];bn||(bn=Zr.zrId+"-p"+Zr.patternIdx++,xn[yn]=bn,Jr.id=bn,mn=Zr.defs[bn]=createVNode("pattern",bn,Jr,[nn])),Gr[Yr]=getIdURL(bn)}}function setClipPath(Wr,Gr,Yr){var Zr=Yr.clipPathCache,Kr=Yr.defs,Qr=Zr[Wr.id];if(!Qr){Qr=Yr.zrId+"-c"+Yr.clipPathIdx++;var Jr={id:Qr};Zr[Wr.id]=Qr,Kr[Qr]=createVNode("clipPath",Qr,Jr,[brushSVGPath(Wr,Yr)])}Gr["clip-path"]=getIdURL(Qr)}function createTextNode(Wr){return document.createTextNode(Wr)}function insertBefore(Wr,Gr,Yr){Wr.insertBefore(Gr,Yr)}function removeChild(Wr,Gr){Wr.removeChild(Gr)}function appendChild(Wr,Gr){Wr.appendChild(Gr)}function parentNode(Wr){return Wr.parentNode}function nextSibling(Wr){return Wr.nextSibling}function setTextContent(Wr,Gr){Wr.textContent=Gr}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(Wr){return Wr===void 0}function isDef(Wr){return Wr!==void 0}function createKeyToOldIdx(Wr,Gr,Yr){for(var Zr={},Kr=Gr;Kr<=Yr;++Kr){var Qr=Wr[Kr].key;Qr!==void 0&&(Zr[Qr]=Kr)}return Zr}function sameVnode(Wr,Gr){var Yr=Wr.key===Gr.key,Zr=Wr.tag===Gr.tag;return Zr&&Yr}function createElm(Wr){var Gr,Yr=Wr.children,Zr=Wr.tag;if(isDef(Zr)){var Kr=Wr.elm=createElement(Zr);if(updateAttrs(emptyNode,Wr),isArray$1(Yr))for(Gr=0;Gr<Yr.length;++Gr){var Qr=Yr[Gr];Qr!=null&&appendChild(Kr,createElm(Qr))}else isDef(Wr.text)&&!isObject$3(Wr.text)&&appendChild(Kr,createTextNode(Wr.text))}else Wr.elm=createTextNode(Wr.text);return Wr.elm}function addVnodes(Wr,Gr,Yr,Zr,Kr){for(;Zr<=Kr;++Zr){var Qr=Yr[Zr];Qr!=null&&insertBefore(Wr,createElm(Qr),Gr)}}function removeVnodes(Wr,Gr,Yr,Zr){for(;Yr<=Zr;++Yr){var Kr=Gr[Yr];if(Kr!=null)if(isDef(Kr.tag)){var Qr=parentNode(Kr.elm);removeChild(Qr,Kr.elm)}else removeChild(Wr,Kr.elm)}}function updateAttrs(Wr,Gr){var Yr,Zr=Gr.elm,Kr=Wr&&Wr.attrs||{},Qr=Gr.attrs||{};if(Kr!==Qr){for(Yr in Qr){var Jr=Qr[Yr],en=Kr[Yr];en!==Jr&&(Jr===!0?Zr.setAttribute(Yr,""):Jr===!1?Zr.removeAttribute(Yr):Yr==="style"?Zr.style.cssText=Jr:Yr.charCodeAt(0)!==xChar?Zr.setAttribute(Yr,Jr):Yr==="xmlns:xlink"||Yr==="xmlns"?Zr.setAttributeNS(XMLNS,Yr,Jr):Yr.charCodeAt(3)===colonChar?Zr.setAttributeNS(XML_NAMESPACE,Yr,Jr):Yr.charCodeAt(5)===colonChar?Zr.setAttributeNS(XLINKNS,Yr,Jr):Zr.setAttribute(Yr,Jr))}for(Yr in Kr)Yr in Qr||Zr.removeAttribute(Yr)}}function updateChildren(Wr,Gr,Yr){for(var Zr=0,Kr=0,Qr=Gr.length-1,Jr=Gr[0],en=Gr[Qr],tn=Yr.length-1,rn=Yr[0],an=Yr[tn],nn,sn,ln,un;Zr<=Qr&&Kr<=tn;)Jr==null?Jr=Gr[++Zr]:en==null?en=Gr[--Qr]:rn==null?rn=Yr[++Kr]:an==null?an=Yr[--tn]:sameVnode(Jr,rn)?(patchVnode(Jr,rn),Jr=Gr[++Zr],rn=Yr[++Kr]):sameVnode(en,an)?(patchVnode(en,an),en=Gr[--Qr],an=Yr[--tn]):sameVnode(Jr,an)?(patchVnode(Jr,an),insertBefore(Wr,Jr.elm,nextSibling(en.elm)),Jr=Gr[++Zr],an=Yr[--tn]):sameVnode(en,rn)?(patchVnode(en,rn),insertBefore(Wr,en.elm,Jr.elm),en=Gr[--Qr],rn=Yr[++Kr]):(isUndef(nn)&&(nn=createKeyToOldIdx(Gr,Zr,Qr)),sn=nn[rn.key],isUndef(sn)?insertBefore(Wr,createElm(rn),Jr.elm):(ln=Gr[sn],ln.tag!==rn.tag?insertBefore(Wr,createElm(rn),Jr.elm):(patchVnode(ln,rn),Gr[sn]=void 0,insertBefore(Wr,ln.elm,Jr.elm))),rn=Yr[++Kr]);(Zr<=Qr||Kr<=tn)&&(Zr>Qr?(un=Yr[tn+1]==null?null:Yr[tn+1].elm,addVnodes(Wr,un,Yr,Kr,tn)):removeVnodes(Wr,Gr,Zr,Qr))}function patchVnode(Wr,Gr){var Yr=Gr.elm=Wr.elm,Zr=Wr.children,Kr=Gr.children;Wr!==Gr&&(updateAttrs(Wr,Gr),isUndef(Gr.text)?isDef(Zr)&&isDef(Kr)?Zr!==Kr&&updateChildren(Yr,Zr,Kr):isDef(Kr)?(isDef(Wr.text)&&setTextContent(Yr,""),addVnodes(Yr,null,Kr,0,Kr.length-1)):isDef(Zr)?removeVnodes(Yr,Zr,0,Zr.length-1):isDef(Wr.text)&&setTextContent(Yr,""):Wr.text!==Gr.text&&(isDef(Zr)&&removeVnodes(Yr,Zr,0,Zr.length-1),setTextContent(Yr,Gr.text)))}function patch(Wr,Gr){if(sameVnode(Wr,Gr))patchVnode(Wr,Gr);else{var Yr=Wr.elm,Zr=parentNode(Yr);createElm(Gr),Zr!==null&&(insertBefore(Zr,Gr.elm,nextSibling(Yr)),removeVnodes(Zr,[Wr],0,0))}return Gr}var svgId=0,SVGPainter=function(){function Wr(Gr,Yr,Zr){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=Yr,this._opts=Zr=extend({},Zr),this.root=Gr,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(Zr.width,Zr.height),Gr&&!Zr.ssr){var Kr=this._viewport=document.createElement("div");Kr.style.cssText="position:relative;overflow:hidden";var Qr=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),Kr.appendChild(Qr),Gr.appendChild(Kr)}this.resize(Zr.width,Zr.height)}return Wr.prototype.getType=function(){return this.type},Wr.prototype.getViewportRoot=function(){return this._viewport},Wr.prototype.getViewportRootOffset=function(){var Gr=this.getViewportRoot();if(Gr)return{offsetLeft:Gr.offsetLeft||0,offsetTop:Gr.offsetTop||0}},Wr.prototype.getSvgDom=function(){return this._svgDom},Wr.prototype.refresh=function(){if(this.root){var Gr=this.renderToVNode({willUpdate:!0});Gr.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,Gr),this._oldVNode=Gr}},Wr.prototype.renderOneToVNode=function(Gr){return brush(Gr,createBrushScope(this._id))},Wr.prototype.renderToVNode=function(Gr){Gr=Gr||{};var Yr=this.storage.getDisplayList(!0),Zr=this._width,Kr=this._height,Qr=createBrushScope(this._id);Qr.animation=Gr.animation,Qr.willUpdate=Gr.willUpdate,Qr.compress=Gr.compress,Qr.emphasis=Gr.emphasis,Qr.ssr=this._opts.ssr;var Jr=[],en=this._bgVNode=createBackgroundVNode(Zr,Kr,this._backgroundColor,Qr);en&&Jr.push(en);var tn=Gr.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(Yr,Qr,tn?tn.children:Jr),tn&&Jr.push(tn);var rn=map$1(keys(Qr.defs),function(sn){return Qr.defs[sn]});if(rn.length&&Jr.push(createVNode("defs","defs",{},rn)),Gr.animation){var an=getCssString(Qr.cssNodes,Qr.cssAnims,{newline:!0});if(an){var nn=createVNode("style","stl",{},[],an);Jr.push(nn)}}return createSVGVNode(Zr,Kr,Jr,Gr.useViewBox)},Wr.prototype.renderToString=function(Gr){return Gr=Gr||{},vNodeToString(this.renderToVNode({animation:retrieve2(Gr.cssAnimation,!0),emphasis:retrieve2(Gr.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(Gr.useViewBox,!0)}),{newline:!0})},Wr.prototype.setBackgroundColor=function(Gr){this._backgroundColor=Gr},Wr.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},Wr.prototype._paintList=function(Gr,Yr,Zr){for(var Kr=Gr.length,Qr=[],Jr=0,en,tn,rn=0,an=0;an<Kr;an++){var nn=Gr[an];if(!nn.invisible){var sn=nn.__clipPaths,ln=sn&&sn.length||0,un=tn&&tn.length||0,cn=void 0;for(cn=Math.max(ln-1,un-1);cn>=0&&!(sn&&tn&&sn[cn]===tn[cn]);cn--);for(var hn=un-1;hn>cn;hn--)Jr--,en=Qr[Jr-1];for(var dn=cn+1;dn<ln;dn++){var fn={};setClipPath(sn[dn],fn,Yr);var pn=createVNode("g","clip-g-"+rn++,fn,[]);(en?en.children:Zr).push(pn),Qr[Jr++]=pn,en=pn}tn=sn;var gn=brush(nn,Yr);gn&&(en?en.children:Zr).push(gn)}}},Wr.prototype.resize=function(Gr,Yr){var Zr=this._opts,Kr=this.root,Qr=this._viewport;if(Gr!=null&&(Zr.width=Gr),Yr!=null&&(Zr.height=Yr),Kr&&Qr&&(Qr.style.display="none",Gr=getSize$1(Kr,0,Zr),Yr=getSize$1(Kr,1,Zr),Qr.style.display=""),this._width!==Gr||this._height!==Yr){if(this._width=Gr,this._height=Yr,Qr){var Jr=Qr.style;Jr.width=Gr+"px",Jr.height=Yr+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var en=this._svgDom;en&&(en.setAttribute("width",Gr),en.setAttribute("height",Yr));var tn=this._bgVNode&&this._bgVNode.elm;tn&&(tn.setAttribute("width",Gr),tn.setAttribute("height",Yr))}}},Wr.prototype.getWidth=function(){return this._width},Wr.prototype.getHeight=function(){return this._height},Wr.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},Wr.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},Wr.prototype.toDataURL=function(Gr){var Yr=this.renderToString(),Zr="data:image/svg+xml;";return Gr?(Yr=encodeBase64(Yr),Yr&&Zr+"base64,"+Yr):Zr+"charset=UTF-8,"+encodeURIComponent(Yr)},Wr}();function createMethodNotSupport(Wr){return function(){}}function createBackgroundVNode(Wr,Gr,Yr,Zr){var Kr;if(Yr&&Yr!=="none")if(Kr=createVNode("rect","bg",{width:Wr,height:Gr,x:"0",y:"0"}),isGradient(Yr))setGradient({fill:Yr},Kr.attrs,"fill",Zr);else if(isPattern(Yr))setPattern({style:{fill:Yr},dirty:noop,getBoundingRect:function(){return{width:Wr,height:Gr}}},Kr.attrs,"fill",Zr);else{var Qr=normalizeColor(Yr),Jr=Qr.color,en=Qr.opacity;Kr.attrs.fill=Jr,en<1&&(Kr.attrs["fill-opacity"]=en)}return Kr}function install$S(Wr){Wr.registerPainter("svg",SVGPainter)}function createDom(Wr,Gr,Yr){var Zr=platformApi.createCanvas(),Kr=Gr.getWidth(),Qr=Gr.getHeight(),Jr=Zr.style;return Jr&&(Jr.position="absolute",Jr.left="0",Jr.top="0",Jr.width=Kr+"px",Jr.height=Qr+"px",Zr.setAttribute("data-zr-dom-id",Wr)),Zr.width=Kr*Yr,Zr.height=Qr*Yr,Zr}var Layer=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this)||this;Qr.motionBlur=!1,Qr.lastFrameAlpha=.7,Qr.dpr=1,Qr.virtual=!1,Qr.config={},Qr.incremental=!1,Qr.zlevel=0,Qr.maxRepaintRectCount=5,Qr.__dirty=!0,Qr.__firstTimePaint=!0,Qr.__used=!1,Qr.__drawIndex=0,Qr.__startIndex=0,Qr.__endIndex=0,Qr.__prevStartIndex=null,Qr.__prevEndIndex=null;var Jr;Kr=Kr||devicePixelRatio,typeof Yr=="string"?Jr=createDom(Yr,Zr,Kr):isObject$3(Yr)&&(Jr=Yr,Yr=Jr.id),Qr.id=Yr,Qr.dom=Jr;var en=Jr.style;return en&&(disableUserSelect(Jr),Jr.onselectstart=function(){return!1},en.padding="0",en.margin="0",en.borderWidth="0"),Qr.painter=Zr,Qr.dpr=Kr,Qr}return Gr.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Gr.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Gr.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Gr.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Gr.prototype.createBackBuffer=function(){var Yr=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,Yr),this.ctxBack=this.domBack.getContext("2d"),Yr!==1&&this.ctxBack.scale(Yr,Yr)},Gr.prototype.createRepaintRects=function(Yr,Zr,Kr,Qr){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var Jr=[],en=this.maxRepaintRectCount,tn=!1,rn=new BoundingRect(0,0,0,0);function an(fn){if(!(!fn.isFinite()||fn.isZero()))if(Jr.length===0){var pn=new BoundingRect(0,0,0,0);pn.copy(fn),Jr.push(pn)}else{for(var gn=!1,vn=1/0,mn=0,yn=0;yn<Jr.length;++yn){var xn=Jr[yn];if(xn.intersect(fn)){var bn=new BoundingRect(0,0,0,0);bn.copy(xn),bn.union(fn),Jr[yn]=bn,gn=!0;break}else if(tn){rn.copy(fn),rn.union(xn);var Sn=fn.width*fn.height,wn=xn.width*xn.height,_n=rn.width*rn.height,An=_n-Sn-wn;An<vn&&(vn=An,mn=yn)}}if(tn&&(Jr[mn].union(fn),gn=!0),!gn){var pn=new BoundingRect(0,0,0,0);pn.copy(fn),Jr.push(pn)}tn||(tn=Jr.length>=en)}}for(var nn=this.__startIndex;nn<this.__endIndex;++nn){var sn=Yr[nn];if(sn){var ln=sn.shouldBePainted(Kr,Qr,!0,!0),un=sn.__isRendered&&(sn.__dirty&REDRAW_BIT||!ln)?sn.getPrevPaintRect():null;un&&an(un);var cn=ln&&(sn.__dirty&REDRAW_BIT||!sn.__isRendered)?sn.getPaintRect():null;cn&&an(cn)}}for(var nn=this.__prevStartIndex;nn<this.__prevEndIndex;++nn){var sn=Zr[nn],ln=sn&&sn.shouldBePainted(Kr,Qr,!0,!0);if(sn&&(!ln||!sn.__zr)&&sn.__isRendered){var un=sn.getPrevPaintRect();un&&an(un)}}var hn;do{hn=!1;for(var nn=0;nn<Jr.length;){if(Jr[nn].isZero()){Jr.splice(nn,1);continue}for(var dn=nn+1;dn<Jr.length;)Jr[nn].intersect(Jr[dn])?(hn=!0,Jr[nn].union(Jr[dn]),Jr.splice(dn,1)):dn++;nn++}}while(hn);return this._paintRects=Jr,Jr},Gr.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Gr.prototype.resize=function(Yr,Zr){var Kr=this.dpr,Qr=this.dom,Jr=Qr.style,en=this.domBack;Jr&&(Jr.width=Yr+"px",Jr.height=Zr+"px"),Qr.width=Yr*Kr,Qr.height=Zr*Kr,en&&(en.width=Yr*Kr,en.height=Zr*Kr,Kr!==1&&this.ctxBack.scale(Kr,Kr))},Gr.prototype.clear=function(Yr,Zr,Kr){var Qr=this.dom,Jr=this.ctx,en=Qr.width,tn=Qr.height;Zr=Zr||this.clearColor;var rn=this.motionBlur&&!Yr,an=this.lastFrameAlpha,nn=this.dpr,sn=this;rn&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(Qr,0,0,en/nn,tn/nn));var ln=this.domBack;function un(cn,hn,dn,fn){if(Jr.clearRect(cn,hn,dn,fn),Zr&&Zr!=="transparent"){var pn=void 0;if(isGradientObject(Zr)){var gn=Zr.global||Zr.__width===dn&&Zr.__height===fn;pn=gn&&Zr.__canvasGradient||getCanvasGradient(Jr,Zr,{x:0,y:0,width:dn,height:fn}),Zr.__canvasGradient=pn,Zr.__width=dn,Zr.__height=fn}else isImagePatternObject(Zr)&&(Zr.scaleX=Zr.scaleX||nn,Zr.scaleY=Zr.scaleY||nn,pn=createCanvasPattern(Jr,Zr,{dirty:function(){sn.setUnpainted(),sn.painter.refresh()}}));Jr.save(),Jr.fillStyle=pn||Zr,Jr.fillRect(cn,hn,dn,fn),Jr.restore()}rn&&(Jr.save(),Jr.globalAlpha=an,Jr.drawImage(ln,cn,hn,dn,fn),Jr.restore())}!Kr||rn?un(0,0,en,tn):Kr.length&&each$f(Kr,function(cn){un(cn.x*nn,cn.y*nn,cn.width*nn,cn.height*nn)})},Gr}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(Wr){return Wr?Wr.__builtin__?!0:!(typeof Wr.resize!="function"||typeof Wr.refresh!="function"):!1}function createRoot(Wr,Gr){var Yr=document.createElement("div");return Yr.style.cssText=["position:relative","width:"+Wr+"px","height:"+Gr+"px","padding:0","margin:0","border-width:0"].join(";")+";",Yr}var CanvasPainter=function(){function Wr(Gr,Yr,Zr,Kr){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var Qr=!Gr.nodeName||Gr.nodeName.toUpperCase()==="CANVAS";this._opts=Zr=extend({},Zr||{}),this.dpr=Zr.devicePixelRatio||devicePixelRatio,this._singleCanvas=Qr,this.root=Gr;var Jr=Gr.style;Jr&&(disableUserSelect(Gr),Gr.innerHTML=""),this.storage=Yr;var en=this._zlevelList;this._prevDisplayList=[];var tn=this._layers;if(Qr){var an=Gr,nn=an.width,sn=an.height;Zr.width!=null&&(nn=Zr.width),Zr.height!=null&&(sn=Zr.height),this.dpr=Zr.devicePixelRatio||1,an.width=nn*this.dpr,an.height=sn*this.dpr,this._width=nn,this._height=sn;var ln=new Layer(an,this,this.dpr);ln.__builtin__=!0,ln.initContext(),tn[CANVAS_ZLEVEL]=ln,ln.zlevel=CANVAS_ZLEVEL,en.push(CANVAS_ZLEVEL),this._domRoot=Gr}else{this._width=getSize$1(Gr,0,Zr),this._height=getSize$1(Gr,1,Zr);var rn=this._domRoot=createRoot(this._width,this._height);Gr.appendChild(rn)}}return Wr.prototype.getType=function(){return"canvas"},Wr.prototype.isSingleCanvas=function(){return this._singleCanvas},Wr.prototype.getViewportRoot=function(){return this._domRoot},Wr.prototype.getViewportRootOffset=function(){var Gr=this.getViewportRoot();if(Gr)return{offsetLeft:Gr.offsetLeft||0,offsetTop:Gr.offsetTop||0}},Wr.prototype.refresh=function(Gr){var Yr=this.storage.getDisplayList(!0),Zr=this._prevDisplayList,Kr=this._zlevelList;this._redrawId=Math.random(),this._paintList(Yr,Zr,Gr,this._redrawId);for(var Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr],en=this._layers[Jr];if(!en.__builtin__&&en.refresh){var tn=Qr===0?this._backgroundColor:null;en.refresh(tn)}}return this._opts.useDirtyRect&&(this._prevDisplayList=Yr.slice()),this},Wr.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},Wr.prototype._paintHoverList=function(Gr){var Yr=Gr.length,Zr=this._hoverlayer;if(Zr&&Zr.clear(),!!Yr){for(var Kr={inHover:!0,viewWidth:this._width,viewHeight:this._height},Qr,Jr=0;Jr<Yr;Jr++){var en=Gr[Jr];en.__inHover&&(Zr||(Zr=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),Qr||(Qr=Zr.ctx,Qr.save()),brush$1(Qr,en,Kr,Jr===Yr-1))}Qr&&Qr.restore()}},Wr.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},Wr.prototype.paintOne=function(Gr,Yr){brushSingle(Gr,Yr)},Wr.prototype._paintList=function(Gr,Yr,Zr,Kr){if(this._redrawId===Kr){Zr=Zr||!1,this._updateLayerStatus(Gr);var Qr=this._doPaintList(Gr,Yr,Zr),Jr=Qr.finished,en=Qr.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),en&&this._paintHoverList(Gr),Jr)this.eachLayer(function(rn){rn.afterBrush&&rn.afterBrush()});else{var tn=this;requestAnimationFrame$1(function(){tn._paintList(Gr,Yr,Zr,Kr)})}}},Wr.prototype._compositeManually=function(){var Gr=this.getLayer(CANVAS_ZLEVEL).ctx,Yr=this._domRoot.width,Zr=this._domRoot.height;Gr.clearRect(0,0,Yr,Zr),this.eachBuiltinLayer(function(Kr){Kr.virtual&&Gr.drawImage(Kr.dom,0,0,Yr,Zr)})},Wr.prototype._doPaintList=function(Gr,Yr,Zr){for(var Kr=this,Qr=[],Jr=this._opts.useDirtyRect,en=0;en<this._zlevelList.length;en++){var tn=this._zlevelList[en],rn=this._layers[tn];rn.__builtin__&&rn!==this._hoverlayer&&(rn.__dirty||Zr)&&Qr.push(rn)}for(var an=!0,nn=!1,sn=function(cn){var hn=Qr[cn],dn=hn.ctx,fn=Jr&&hn.createRepaintRects(Gr,Yr,ln._width,ln._height),pn=Zr?hn.__startIndex:hn.__drawIndex,gn=!Zr&&hn.incremental&&Date.now,vn=gn&&Date.now(),mn=hn.zlevel===ln._zlevelList[0]?ln._backgroundColor:null;if(hn.__startIndex===hn.__endIndex)hn.clear(!1,mn,fn);else if(pn===hn.__startIndex){var yn=Gr[pn];(!yn.incremental||!yn.notClear||Zr)&&hn.clear(!1,mn,fn)}pn===-1&&(console.error("For some unknown reason. drawIndex is -1"),pn=hn.__startIndex);var xn,bn=function(An){var Cn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:Kr._width,viewHeight:Kr._height};for(xn=pn;xn<hn.__endIndex;xn++){var Tn=Gr[xn];if(Tn.__inHover&&(nn=!0),Kr._doPaintEl(Tn,hn,Jr,An,Cn,xn===hn.__endIndex-1),gn){var Mn=Date.now()-vn;if(Mn>15)break}}Cn.prevElClipPaths&&dn.restore()};if(fn)if(fn.length===0)xn=hn.__endIndex;else for(var Sn=ln.dpr,wn=0;wn<fn.length;++wn){var _n=fn[wn];dn.save(),dn.beginPath(),dn.rect(_n.x*Sn,_n.y*Sn,_n.width*Sn,_n.height*Sn),dn.clip(),bn(_n),dn.restore()}else dn.save(),bn(),dn.restore();hn.__drawIndex=xn,hn.__drawIndex<hn.__endIndex&&(an=!1)},ln=this,un=0;un<Qr.length;un++)sn(un);return env.wxa&&each$f(this._layers,function(cn){cn&&cn.ctx&&cn.ctx.draw&&cn.ctx.draw()}),{finished:an,needsRefreshHover:nn}},Wr.prototype._doPaintEl=function(Gr,Yr,Zr,Kr,Qr,Jr){var en=Yr.ctx;if(Zr){var tn=Gr.getPaintRect();(!Kr||tn&&tn.intersect(Kr))&&(brush$1(en,Gr,Qr,Jr),Gr.setPrevPaintRect(tn))}else brush$1(en,Gr,Qr,Jr)},Wr.prototype.getLayer=function(Gr,Yr){this._singleCanvas&&!this._needsManuallyCompositing&&(Gr=CANVAS_ZLEVEL);var Zr=this._layers[Gr];return Zr||(Zr=new Layer("zr_"+Gr,this,this.dpr),Zr.zlevel=Gr,Zr.__builtin__=!0,this._layerConfig[Gr]?merge(Zr,this._layerConfig[Gr],!0):this._layerConfig[Gr-EL_AFTER_INCREMENTAL_INC]&&merge(Zr,this._layerConfig[Gr-EL_AFTER_INCREMENTAL_INC],!0),Yr&&(Zr.virtual=Yr),this.insertLayer(Gr,Zr),Zr.initContext()),Zr},Wr.prototype.insertLayer=function(Gr,Yr){var Zr=this._layers,Kr=this._zlevelList,Qr=Kr.length,Jr=this._domRoot,en=null,tn=-1;if(!Zr[Gr]&&isLayerValid(Yr)){if(Qr>0&&Gr>Kr[0]){for(tn=0;tn<Qr-1&&!(Kr[tn]<Gr&&Kr[tn+1]>Gr);tn++);en=Zr[Kr[tn]]}if(Kr.splice(tn+1,0,Gr),Zr[Gr]=Yr,!Yr.virtual)if(en){var rn=en.dom;rn.nextSibling?Jr.insertBefore(Yr.dom,rn.nextSibling):Jr.appendChild(Yr.dom)}else Jr.firstChild?Jr.insertBefore(Yr.dom,Jr.firstChild):Jr.appendChild(Yr.dom);Yr.painter||(Yr.painter=this)}},Wr.prototype.eachLayer=function(Gr,Yr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Gr.call(Yr,this._layers[Qr],Qr)}},Wr.prototype.eachBuiltinLayer=function(Gr,Yr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr],Jr=this._layers[Qr];Jr.__builtin__&&Gr.call(Yr,Jr,Qr)}},Wr.prototype.eachOtherLayer=function(Gr,Yr){for(var Zr=this._zlevelList,Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr],Jr=this._layers[Qr];Jr.__builtin__||Gr.call(Yr,Jr,Qr)}},Wr.prototype.getLayers=function(){return this._layers},Wr.prototype._updateLayerStatus=function(Gr){this.eachBuiltinLayer(function(nn,sn){nn.__dirty=nn.__used=!1});function Yr(nn){Qr&&(Qr.__endIndex!==nn&&(Qr.__dirty=!0),Qr.__endIndex=nn)}if(this._singleCanvas)for(var Zr=1;Zr<Gr.length;Zr++){var Kr=Gr[Zr];if(Kr.zlevel!==Gr[Zr-1].zlevel||Kr.incremental){this._needsManuallyCompositing=!0;break}}var Qr=null,Jr=0,en,tn;for(tn=0;tn<Gr.length;tn++){var Kr=Gr[tn],rn=Kr.zlevel,an=void 0;en!==rn&&(en=rn,Jr=0),Kr.incremental?(an=this.getLayer(rn+INCREMENTAL_INC,this._needsManuallyCompositing),an.incremental=!0,Jr=1):an=this.getLayer(rn+(Jr>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),an.__builtin__||logError("ZLevel "+rn+" has been used by unkown layer "+an.id),an!==Qr&&(an.__used=!0,an.__startIndex!==tn&&(an.__dirty=!0),an.__startIndex=tn,an.incremental?an.__drawIndex=-1:an.__drawIndex=tn,Yr(tn),Qr=an),Kr.__dirty&REDRAW_BIT&&!Kr.__inHover&&(an.__dirty=!0,an.incremental&&an.__drawIndex<0&&(an.__drawIndex=tn))}Yr(tn),this.eachBuiltinLayer(function(nn,sn){!nn.__used&&nn.getElementCount()>0&&(nn.__dirty=!0,nn.__startIndex=nn.__endIndex=nn.__drawIndex=0),nn.__dirty&&nn.__drawIndex<0&&(nn.__drawIndex=nn.__startIndex)})},Wr.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},Wr.prototype._clearLayer=function(Gr){Gr.clear()},Wr.prototype.setBackgroundColor=function(Gr){this._backgroundColor=Gr,each$f(this._layers,function(Yr){Yr.setUnpainted()})},Wr.prototype.configLayer=function(Gr,Yr){if(Yr){var Zr=this._layerConfig;Zr[Gr]?merge(Zr[Gr],Yr,!0):Zr[Gr]=Yr;for(var Kr=0;Kr<this._zlevelList.length;Kr++){var Qr=this._zlevelList[Kr];if(Qr===Gr||Qr===Gr+EL_AFTER_INCREMENTAL_INC){var Jr=this._layers[Qr];merge(Jr,Zr[Gr],!0)}}}},Wr.prototype.delLayer=function(Gr){var Yr=this._layers,Zr=this._zlevelList,Kr=Yr[Gr];Kr&&(Kr.dom.parentNode.removeChild(Kr.dom),delete Yr[Gr],Zr.splice(indexOf(Zr,Gr),1))},Wr.prototype.resize=function(Gr,Yr){if(this._domRoot.style){var Zr=this._domRoot;Zr.style.display="none";var Kr=this._opts,Qr=this.root;if(Gr!=null&&(Kr.width=Gr),Yr!=null&&(Kr.height=Yr),Gr=getSize$1(Qr,0,Kr),Yr=getSize$1(Qr,1,Kr),Zr.style.display="",this._width!==Gr||Yr!==this._height){Zr.style.width=Gr+"px",Zr.style.height=Yr+"px";for(var Jr in this._layers)this._layers.hasOwnProperty(Jr)&&this._layers[Jr].resize(Gr,Yr);this.refresh(!0)}this._width=Gr,this._height=Yr}else{if(Gr==null||Yr==null)return;this._width=Gr,this._height=Yr,this.getLayer(CANVAS_ZLEVEL).resize(Gr,Yr)}return this},Wr.prototype.clearLayer=function(Gr){var Yr=this._layers[Gr];Yr&&Yr.clear()},Wr.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},Wr.prototype.getRenderedCanvas=function(Gr){if(Gr=Gr||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var Yr=new Layer("image",this,Gr.pixelRatio||this.dpr);Yr.initContext(),Yr.clear(!1,Gr.backgroundColor||this._backgroundColor);var Zr=Yr.ctx;if(Gr.pixelRatio<=this.dpr){this.refresh();var Kr=Yr.dom.width,Qr=Yr.dom.height;this.eachLayer(function(nn){nn.__builtin__?Zr.drawImage(nn.dom,0,0,Kr,Qr):nn.renderToCanvas&&(Zr.save(),nn.renderToCanvas(Zr),Zr.restore())})}else for(var Jr={inHover:!1,viewWidth:this._width,viewHeight:this._height},en=this.storage.getDisplayList(!0),tn=0,rn=en.length;tn<rn;tn++){var an=en[tn];brush$1(Zr,an,Jr,tn===rn-1)}return Yr.dom},Wr.prototype.getWidth=function(){return this._width},Wr.prototype.getHeight=function(){return this._height},Wr}();function install$R(Wr){Wr.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr}return Gr.prototype.getInitialData=function(Yr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getLegendIcon=function(Yr){var Zr=new Group$3,Kr=createSymbol$1("line",0,Yr.itemHeight/2,Yr.itemWidth,0,Yr.lineStyle.stroke,!1);Zr.add(Kr),Kr.setStyle(Yr.lineStyle);var Qr=this.getData().getVisual("symbol"),Jr=this.getData().getVisual("symbolRotate"),en=Qr==="none"?"circle":Qr,tn=Yr.itemHeight*.8,rn=createSymbol$1(en,(Yr.itemWidth-tn)/2,(Yr.itemHeight-tn)/2,tn,tn,Yr.itemStyle.fill);Zr.add(rn),rn.setStyle(Yr.itemStyle);var an=Yr.iconRotate==="inherit"?Jr:Yr.iconRotate||0;return rn.rotation=an*Math.PI/180,rn.setOrigin([Yr.itemWidth/2,Yr.itemHeight/2]),en.indexOf("empty")>-1&&(rn.style.stroke=rn.style.fill,rn.style.fill="#fff",rn.style.lineWidth=2),Zr},Gr.type="series.line",Gr.dependencies=["grid","polar"],Gr.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},Gr}(SeriesModel);function getDefaultLabel(Wr,Gr){var Yr=Wr.mapDimensionsAll("defaultedLabel"),Zr=Yr.length;if(Zr===1){var Kr=retrieveRawValue(Wr,Gr,Yr[0]);return Kr!=null?Kr+"":null}else if(Zr){for(var Qr=[],Jr=0;Jr<Yr.length;Jr++)Qr.push(retrieveRawValue(Wr,Gr,Yr[Jr]));return Qr.join(" ")}}function getDefaultInterpolatedLabel(Wr,Gr){var Yr=Wr.mapDimensionsAll("defaultedLabel");if(!isArray$1(Gr))return Gr+"";for(var Zr=[],Kr=0;Kr<Yr.length;Kr++){var Qr=Wr.getDimensionIndex(Yr[Kr]);Qr>=0&&Zr.push(Gr[Qr])}return Zr.join(" ")}var Symbol$1=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr){var Jr=Wr.call(this)||this;return Jr.updateData(Yr,Zr,Kr,Qr),Jr}return Gr.prototype._createSymbol=function(Yr,Zr,Kr,Qr,Jr){this.removeAll();var en=createSymbol$1(Yr,-1,-1,2,2,null,Jr);en.attr({z2:100,culling:!0,scaleX:Qr[0]/2,scaleY:Qr[1]/2}),en.drift=driftSymbol,this._symbolType=Yr,this.add(en)},Gr.prototype.stopSymbolAnimation=function(Yr){this.childAt(0).stopAnimation(null,Yr)},Gr.prototype.getSymbolType=function(){return this._symbolType},Gr.prototype.getSymbolPath=function(){return this.childAt(0)},Gr.prototype.highlight=function(){enterEmphasis(this.childAt(0))},Gr.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},Gr.prototype.setZ=function(Yr,Zr){var Kr=this.childAt(0);Kr.zlevel=Yr,Kr.z=Zr},Gr.prototype.setDraggable=function(Yr,Zr){var Kr=this.childAt(0);Kr.draggable=Yr,Kr.cursor=!Zr&&Yr?"move":Kr.cursor},Gr.prototype.updateData=function(Yr,Zr,Kr,Qr){this.silent=!1;var Jr=Yr.getItemVisual(Zr,"symbol")||"circle",en=Yr.hostModel,tn=Gr.getSymbolSize(Yr,Zr),rn=Jr!==this._symbolType,an=Qr&&Qr.disableAnimation;if(rn){var nn=Yr.getItemVisual(Zr,"symbolKeepAspect");this._createSymbol(Jr,Yr,Zr,tn,nn)}else{var sn=this.childAt(0);sn.silent=!1;var ln={scaleX:tn[0]/2,scaleY:tn[1]/2};an?sn.attr(ln):updateProps$1(sn,ln,en,Zr),saveOldStyle(sn)}if(this._updateCommon(Yr,Zr,tn,Kr,Qr),rn){var sn=this.childAt(0);if(!an){var ln={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:sn.style.opacity}};sn.scaleX=sn.scaleY=0,sn.style.opacity=0,initProps(sn,ln,en,Zr)}}an&&this.childAt(0).stopAnimation("leave")},Gr.prototype._updateCommon=function(Yr,Zr,Kr,Qr,Jr){var en=this.childAt(0),tn=Yr.hostModel,rn,an,nn,sn,ln,un,cn,hn,dn;if(Qr&&(rn=Qr.emphasisItemStyle,an=Qr.blurItemStyle,nn=Qr.selectItemStyle,sn=Qr.focus,ln=Qr.blurScope,cn=Qr.labelStatesModels,hn=Qr.hoverScale,dn=Qr.cursorStyle,un=Qr.emphasisDisabled),!Qr||Yr.hasItemOption){var fn=Qr&&Qr.itemModel?Qr.itemModel:Yr.getItemModel(Zr),pn=fn.getModel("emphasis");rn=pn.getModel("itemStyle").getItemStyle(),nn=fn.getModel(["select","itemStyle"]).getItemStyle(),an=fn.getModel(["blur","itemStyle"]).getItemStyle(),sn=pn.get("focus"),ln=pn.get("blurScope"),un=pn.get("disabled"),cn=getLabelStatesModels(fn),hn=pn.getShallow("scale"),dn=fn.getShallow("cursor")}var gn=Yr.getItemVisual(Zr,"symbolRotate");en.attr("rotation",(gn||0)*Math.PI/180||0);var vn=normalizeSymbolOffset(Yr.getItemVisual(Zr,"symbolOffset"),Kr);vn&&(en.x=vn[0],en.y=vn[1]),dn&&en.attr("cursor",dn);var mn=Yr.getItemVisual(Zr,"style"),yn=mn.fill;if(en instanceof ZRImage){var xn=en.style;en.useStyle(extend({image:xn.image,x:xn.x,y:xn.y,width:xn.width,height:xn.height},mn))}else en.__isEmptyBrush?en.useStyle(extend({},mn)):en.useStyle(mn),en.style.decal=null,en.setColor(yn,Jr&&Jr.symbolInnerColor),en.style.strokeNoScale=!0;var bn=Yr.getItemVisual(Zr,"liftZ"),Sn=this._z2;bn!=null?Sn==null&&(this._z2=en.z2,en.z2+=bn):Sn!=null&&(en.z2=Sn,this._z2=null);var wn=Jr&&Jr.useNameLabel;setLabelStyle(en,cn,{labelFetcher:tn,labelDataIndex:Zr,defaultText:_n,inheritColor:yn,defaultOpacity:mn.opacity});function _n(Tn){return wn?Yr.getName(Tn):getDefaultLabel(Yr,Tn)}this._sizeX=Kr[0]/2,this._sizeY=Kr[1]/2;var An=en.ensureState("emphasis");An.style=rn,en.ensureState("select").style=nn,en.ensureState("blur").style=an;var Cn=hn==null||hn===!0?Math.max(1.1,3/this._sizeY):isFinite(hn)&&hn>0?+hn:1;An.scaleX=this._sizeX*Cn,An.scaleY=this._sizeY*Cn,this.setSymbolScale(1),toggleHoverEmphasis(this,sn,ln,un)},Gr.prototype.setSymbolScale=function(Yr){this.scaleX=this.scaleY=Yr},Gr.prototype.fadeOut=function(Yr,Zr,Kr){var Qr=this.childAt(0),Jr=getECData(this).dataIndex,en=Kr&&Kr.animation;if(this.silent=Qr.silent=!0,Kr&&Kr.fadeLabel){var tn=Qr.getTextContent();tn&&removeElement(tn,{style:{opacity:0}},Zr,{dataIndex:Jr,removeOpt:en,cb:function(){Qr.removeTextContent()}})}else Qr.removeTextContent();removeElement(Qr,{style:{opacity:0},scaleX:0,scaleY:0},Zr,{dataIndex:Jr,cb:Yr,removeOpt:en})},Gr.getSymbolSize=function(Yr,Zr){return normalizeSymbolSize(Yr.getItemVisual(Zr,"symbolSize"))},Gr}(Group$3);function driftSymbol(Wr,Gr){this.parent.drift(Wr,Gr)}function symbolNeedsDraw$1(Wr,Gr,Yr,Zr){return Gr&&!isNaN(Gr[0])&&!isNaN(Gr[1])&&!(Zr.isIgnore&&Zr.isIgnore(Yr))&&!(Zr.clipShape&&!Zr.clipShape.contain(Gr[0],Gr[1]))&&Wr.getItemVisual(Yr,"symbol")!=="none"}function normalizeUpdateOpt(Wr){return Wr!=null&&!isObject$3(Wr)&&(Wr={isIgnore:Wr}),Wr||{}}function makeSeriesScope$2(Wr){var Gr=Wr.hostModel,Yr=Gr.getModel("emphasis");return{emphasisItemStyle:Yr.getModel("itemStyle").getItemStyle(),blurItemStyle:Gr.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:Gr.getModel(["select","itemStyle"]).getItemStyle(),focus:Yr.get("focus"),blurScope:Yr.get("blurScope"),emphasisDisabled:Yr.get("disabled"),hoverScale:Yr.get("scale"),labelStatesModels:getLabelStatesModels(Gr),cursorStyle:Gr.get("cursor")}}var SymbolDraw=function(){function Wr(Gr){this.group=new Group$3,this._SymbolCtor=Gr||Symbol$1}return Wr.prototype.updateData=function(Gr,Yr){this._progressiveEls=null,Yr=normalizeUpdateOpt(Yr);var Zr=this.group,Kr=Gr.hostModel,Qr=this._data,Jr=this._SymbolCtor,en=Yr.disableAnimation,tn=makeSeriesScope$2(Gr),rn={disableAnimation:en},an=Yr.getSymbolPoint||function(nn){return Gr.getItemLayout(nn)};Qr||Zr.removeAll(),Gr.diff(Qr).add(function(nn){var sn=an(nn);if(symbolNeedsDraw$1(Gr,sn,nn,Yr)){var ln=new Jr(Gr,nn,tn,rn);ln.setPosition(sn),Gr.setItemGraphicEl(nn,ln),Zr.add(ln)}}).update(function(nn,sn){var ln=Qr.getItemGraphicEl(sn),un=an(nn);if(!symbolNeedsDraw$1(Gr,un,nn,Yr)){Zr.remove(ln);return}var cn=Gr.getItemVisual(nn,"symbol")||"circle",hn=ln&&ln.getSymbolType&&ln.getSymbolType();if(!ln||hn&&hn!==cn)Zr.remove(ln),ln=new Jr(Gr,nn,tn,rn),ln.setPosition(un);else{ln.updateData(Gr,nn,tn,rn);var dn={x:un[0],y:un[1]};en?ln.attr(dn):updateProps$1(ln,dn,Kr)}Zr.add(ln),Gr.setItemGraphicEl(nn,ln)}).remove(function(nn){var sn=Qr.getItemGraphicEl(nn);sn&&sn.fadeOut(function(){Zr.remove(sn)},Kr)}).execute(),this._getSymbolPoint=an,this._data=Gr},Wr.prototype.updateLayout=function(){var Gr=this,Yr=this._data;Yr&&Yr.eachItemGraphicEl(function(Zr,Kr){var Qr=Gr._getSymbolPoint(Kr);Zr.setPosition(Qr),Zr.markRedraw()})},Wr.prototype.incrementalPrepareUpdate=function(Gr){this._seriesScope=makeSeriesScope$2(Gr),this._data=null,this.group.removeAll()},Wr.prototype.incrementalUpdate=function(Gr,Yr,Zr){this._progressiveEls=[],Zr=normalizeUpdateOpt(Zr);function Kr(tn){tn.isGroup||(tn.incremental=!0,tn.ensureState("emphasis").hoverLayer=!0)}for(var Qr=Gr.start;Qr<Gr.end;Qr++){var Jr=Yr.getItemLayout(Qr);if(symbolNeedsDraw$1(Yr,Jr,Qr,Zr)){var en=new this._SymbolCtor(Yr,Qr,this._seriesScope);en.traverse(Kr),en.setPosition(Jr),this.group.add(en),Yr.setItemGraphicEl(Qr,en),this._progressiveEls.push(en)}}},Wr.prototype.eachRendered=function(Gr){traverseElements(this._progressiveEls||this.group,Gr)},Wr.prototype.remove=function(Gr){var Yr=this.group,Zr=this._data;Zr&&Gr?Zr.eachItemGraphicEl(function(Kr){Kr.fadeOut(function(){Yr.remove(Kr)},Zr.hostModel)}):Yr.removeAll()},Wr}();function prepareDataCoordInfo(Wr,Gr,Yr){var Zr=Wr.getBaseAxis(),Kr=Wr.getOtherAxis(Zr),Qr=getValueStart(Kr,Yr),Jr=Zr.dim,en=Kr.dim,tn=Gr.mapDimension(en),rn=Gr.mapDimension(Jr),an=en==="x"||en==="radius"?1:0,nn=map$1(Wr.dimensions,function(un){return Gr.mapDimension(un)}),sn=!1,ln=Gr.getCalculationInfo("stackResultDimension");return isDimensionStacked(Gr,nn[0])&&(sn=!0,nn[0]=ln),isDimensionStacked(Gr,nn[1])&&(sn=!0,nn[1]=ln),{dataDimsForPoint:nn,valueStart:Qr,valueAxisDim:en,baseAxisDim:Jr,stacked:!!sn,valueDim:tn,baseDim:rn,baseDataOffset:an,stackedOverDimension:Gr.getCalculationInfo("stackedOverDimension")}}function getValueStart(Wr,Gr){var Yr=0,Zr=Wr.scale.getExtent();return Gr==="start"?Yr=Zr[0]:Gr==="end"?Yr=Zr[1]:isNumber(Gr)&&!isNaN(Gr)?Yr=Gr:Zr[0]>0?Yr=Zr[0]:Zr[1]<0&&(Yr=Zr[1]),Yr}function getStackedOnPoint(Wr,Gr,Yr,Zr){var Kr=NaN;Wr.stacked&&(Kr=Yr.get(Yr.getCalculationInfo("stackedOverDimension"),Zr)),isNaN(Kr)&&(Kr=Wr.valueStart);var Qr=Wr.baseDataOffset,Jr=[];return Jr[Qr]=Yr.get(Wr.baseDim,Zr),Jr[1-Qr]=Kr,Gr.dataToPoint(Jr)}function diffData(Wr,Gr){var Yr=[];return Gr.diff(Wr).add(function(Zr){Yr.push({cmd:"+",idx:Zr})}).update(function(Zr,Kr){Yr.push({cmd:"=",idx:Kr,idx1:Zr})}).remove(function(Zr){Yr.push({cmd:"-",idx:Zr})}).execute(),Yr}function lineAnimationDiff(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){for(var tn=diffData(Wr,Gr),rn=[],an=[],nn=[],sn=[],ln=[],un=[],cn=[],hn=prepareDataCoordInfo(Kr,Gr,Jr),dn=Wr.getLayout("points")||[],fn=Gr.getLayout("points")||[],pn=0;pn<tn.length;pn++){var gn=tn[pn],vn=!0,mn=void 0,yn=void 0;switch(gn.cmd){case"=":mn=gn.idx*2,yn=gn.idx1*2;var xn=dn[mn],bn=dn[mn+1],Sn=fn[yn],wn=fn[yn+1];(isNaN(xn)||isNaN(bn))&&(xn=Sn,bn=wn),rn.push(xn,bn),an.push(Sn,wn),nn.push(Yr[mn],Yr[mn+1]),sn.push(Zr[yn],Zr[yn+1]),cn.push(Gr.getRawIndex(gn.idx1));break;case"+":var _n=gn.idx,An=hn.dataDimsForPoint,Cn=Kr.dataToPoint([Gr.get(An[0],_n),Gr.get(An[1],_n)]);yn=_n*2,rn.push(Cn[0],Cn[1]),an.push(fn[yn],fn[yn+1]);var Tn=getStackedOnPoint(hn,Kr,Gr,_n);nn.push(Tn[0],Tn[1]),sn.push(Zr[yn],Zr[yn+1]),cn.push(Gr.getRawIndex(_n));break;case"-":vn=!1}vn&&(ln.push(gn),un.push(un.length))}un.sort(function(Fn,Hn){return cn[Fn]-cn[Hn]});for(var Mn=rn.length,En=createFloat32Array(Mn),Ln=createFloat32Array(Mn),In=createFloat32Array(Mn),Pn=createFloat32Array(Mn),Dn=[],pn=0;pn<un.length;pn++){var kn=un[pn],Nn=pn*2,Rn=kn*2;En[Nn]=rn[Rn],En[Nn+1]=rn[Rn+1],Ln[Nn]=an[Rn],Ln[Nn+1]=an[Rn+1],In[Nn]=nn[Rn],In[Nn+1]=nn[Rn+1],Pn[Nn]=sn[Rn],Pn[Nn+1]=sn[Rn+1],Dn[pn]=ln[kn]}return{current:En,next:Ln,stackedOnCurrent:In,stackedOnNext:Pn,status:Dn}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(Wr,Gr){return isNaN(Wr)||isNaN(Gr)}function drawSegment(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){for(var rn,an,nn,sn,ln,un,cn=Yr,hn=0;hn<Zr;hn++){var dn=Gr[cn*2],fn=Gr[cn*2+1];if(cn>=Kr||cn<0)break;if(isPointNull$1(dn,fn)){if(tn){cn+=Qr;continue}break}if(cn===Yr)Wr[Qr>0?"moveTo":"lineTo"](dn,fn),nn=dn,sn=fn;else{var pn=dn-rn,gn=fn-an;if(pn*pn+gn*gn<.5){cn+=Qr;continue}if(Jr>0){for(var vn=cn+Qr,mn=Gr[vn*2],yn=Gr[vn*2+1];mn===dn&&yn===fn&&hn<Zr;)hn++,vn+=Qr,cn+=Qr,mn=Gr[vn*2],yn=Gr[vn*2+1],dn=Gr[cn*2],fn=Gr[cn*2+1],pn=dn-rn,gn=fn-an;var xn=hn+1;if(tn)for(;isPointNull$1(mn,yn)&&xn<Zr;)xn++,vn+=Qr,mn=Gr[vn*2],yn=Gr[vn*2+1];var bn=.5,Sn=0,wn=0,_n=void 0,An=void 0;if(xn>=Zr||isPointNull$1(mn,yn))ln=dn,un=fn;else{Sn=mn-rn,wn=yn-an;var Cn=dn-rn,Tn=mn-dn,Mn=fn-an,En=yn-fn,Ln=void 0,In=void 0;if(en==="x"){Ln=Math.abs(Cn),In=Math.abs(Tn);var Pn=Sn>0?1:-1;ln=dn-Pn*Ln*Jr,un=fn,_n=dn+Pn*In*Jr,An=fn}else if(en==="y"){Ln=Math.abs(Mn),In=Math.abs(En);var Dn=wn>0?1:-1;ln=dn,un=fn-Dn*Ln*Jr,_n=dn,An=fn+Dn*In*Jr}else Ln=Math.sqrt(Cn*Cn+Mn*Mn),In=Math.sqrt(Tn*Tn+En*En),bn=In/(In+Ln),ln=dn-Sn*Jr*(1-bn),un=fn-wn*Jr*(1-bn),_n=dn+Sn*Jr*bn,An=fn+wn*Jr*bn,_n=mathMin$5(_n,mathMax$5(mn,dn)),An=mathMin$5(An,mathMax$5(yn,fn)),_n=mathMax$5(_n,mathMin$5(mn,dn)),An=mathMax$5(An,mathMin$5(yn,fn)),Sn=_n-dn,wn=An-fn,ln=dn-Sn*Ln/In,un=fn-wn*Ln/In,ln=mathMin$5(ln,mathMax$5(rn,dn)),un=mathMin$5(un,mathMax$5(an,fn)),ln=mathMax$5(ln,mathMin$5(rn,dn)),un=mathMax$5(un,mathMin$5(an,fn)),Sn=dn-ln,wn=fn-un,_n=dn+Sn*In/Ln,An=fn+wn*In/Ln}Wr.bezierCurveTo(nn,sn,ln,un,dn,fn),nn=_n,sn=An}else Wr.lineTo(dn,fn)}rn=dn,an=fn,cn+=Qr}return hn}var ECPolylineShape=function(){function Wr(){this.smooth=0,this.smoothConstraint=!0}return Wr}(),ECPolyline=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="ec-polyline",Zr}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new ECPolylineShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.points,Qr=0,Jr=Kr.length/2;if(Zr.connectNulls){for(;Jr>0&&isPointNull$1(Kr[Jr*2-2],Kr[Jr*2-1]);Jr--);for(;Qr<Jr&&isPointNull$1(Kr[Qr*2],Kr[Qr*2+1]);Qr++);}for(;Qr<Jr;)Qr+=drawSegment(Yr,Kr,Qr,Jr,Jr,1,Zr.smooth,Zr.smoothMonotone,Zr.connectNulls)+1},Gr.prototype.getPointOn=function(Yr,Zr){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var Kr=this.path,Qr=Kr.data,Jr=PathProxy.CMD,en,tn,rn=Zr==="x",an=[],nn=0;nn<Qr.length;){var sn=Qr[nn++],ln=void 0,un=void 0,cn=void 0,hn=void 0,dn=void 0,fn=void 0,pn=void 0;switch(sn){case Jr.M:en=Qr[nn++],tn=Qr[nn++];break;case Jr.L:if(ln=Qr[nn++],un=Qr[nn++],pn=rn?(Yr-en)/(ln-en):(Yr-tn)/(un-tn),pn<=1&&pn>=0){var gn=rn?(un-tn)*pn+tn:(ln-en)*pn+en;return rn?[Yr,gn]:[gn,Yr]}en=ln,tn=un;break;case Jr.C:ln=Qr[nn++],un=Qr[nn++],cn=Qr[nn++],hn=Qr[nn++],dn=Qr[nn++],fn=Qr[nn++];var vn=rn?cubicRootAt(en,ln,cn,dn,Yr,an):cubicRootAt(tn,un,hn,fn,Yr,an);if(vn>0)for(var mn=0;mn<vn;mn++){var yn=an[mn];if(yn<=1&&yn>=0){var gn=rn?cubicAt(tn,un,hn,fn,yn):cubicAt(en,ln,cn,dn,yn);return rn?[Yr,gn]:[gn,Yr]}}en=dn,tn=fn;break}}},Gr}(Path),ECPolygonShape=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr}(ECPolylineShape),ECPolygon=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="ec-polygon",Zr}return Gr.prototype.getDefaultShape=function(){return new ECPolygonShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.points,Qr=Zr.stackedOnPoints,Jr=0,en=Kr.length/2,tn=Zr.smoothMonotone;if(Zr.connectNulls){for(;en>0&&isPointNull$1(Kr[en*2-2],Kr[en*2-1]);en--);for(;Jr<en&&isPointNull$1(Kr[Jr*2],Kr[Jr*2+1]);Jr++);}for(;Jr<en;){var rn=drawSegment(Yr,Kr,Jr,en,en,1,Zr.smooth,tn,Zr.connectNulls);drawSegment(Yr,Qr,Jr+rn-1,rn,en,-1,Zr.stackedOnSmooth,tn,Zr.connectNulls),Jr+=rn+1,Yr.closePath()}},Gr}(Path);function createGridClipPath(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.getArea(),Jr=Qr.x,en=Qr.y,tn=Qr.width,rn=Qr.height,an=Yr.get(["lineStyle","width"])||0;Jr-=an/2,en-=an/2,tn+=an,rn+=an,tn=Math.ceil(tn),Jr!==Math.floor(Jr)&&(Jr=Math.floor(Jr),tn++);var nn=new Rect$2({shape:{x:Jr,y:en,width:tn,height:rn}});if(Gr){var sn=Wr.getBaseAxis(),ln=sn.isHorizontal(),un=sn.inverse;ln?(un&&(nn.shape.x+=tn),nn.shape.width=0):(un||(nn.shape.y+=rn),nn.shape.height=0);var cn=isFunction(Kr)?function(hn){Kr(hn,nn)}:null;initProps(nn,{shape:{width:tn,height:rn,x:Jr,y:en}},Yr,null,Zr,cn)}return nn}function createPolarClipPath(Wr,Gr,Yr){var Zr=Wr.getArea(),Kr=round$3(Zr.r0,1),Qr=round$3(Zr.r,1),Jr=new Sector({shape:{cx:round$3(Wr.cx,1),cy:round$3(Wr.cy,1),r0:Kr,r:Qr,startAngle:Zr.startAngle,endAngle:Zr.endAngle,clockwise:Zr.clockwise}});if(Gr){var en=Wr.getBaseAxis().dim==="angle";en?Jr.shape.endAngle=Zr.startAngle:Jr.shape.r=Kr,initProps(Jr,{shape:{endAngle:Zr.endAngle,r:Qr}},Yr)}return Jr}function createClipPath(Wr,Gr,Yr,Zr,Kr){if(Wr){if(Wr.type==="polar")return createPolarClipPath(Wr,Gr,Yr);if(Wr.type==="cartesian2d")return createGridClipPath(Wr,Gr,Yr,Zr,Kr)}else return null;return null}function isCoordinateSystemType(Wr,Gr){return Wr.type===Gr}function isPointsSame(Wr,Gr){if(Wr.length===Gr.length){for(var Yr=0;Yr<Wr.length;Yr++)if(Wr[Yr]!==Gr[Yr])return;return!0}}function bboxFromPoints(Wr){for(var Gr=1/0,Yr=1/0,Zr=-1/0,Kr=-1/0,Qr=0;Qr<Wr.length;){var Jr=Wr[Qr++],en=Wr[Qr++];isNaN(Jr)||(Gr=Math.min(Jr,Gr),Zr=Math.max(Jr,Zr)),isNaN(en)||(Yr=Math.min(en,Yr),Kr=Math.max(en,Kr))}return[[Gr,Yr],[Zr,Kr]]}function getBoundingDiff(Wr,Gr){var Yr=bboxFromPoints(Wr),Zr=Yr[0],Kr=Yr[1],Qr=bboxFromPoints(Gr),Jr=Qr[0],en=Qr[1];return Math.max(Math.abs(Zr[0]-Jr[0]),Math.abs(Zr[1]-Jr[1]),Math.abs(Kr[0]-en[0]),Math.abs(Kr[1]-en[1]))}function getSmooth(Wr){return isNumber(Wr)?Wr:Wr?.5:0}function getStackedOnPoints(Wr,Gr,Yr){if(!Yr.valueDim)return[];for(var Zr=Gr.count(),Kr=createFloat32Array(Zr*2),Qr=0;Qr<Zr;Qr++){var Jr=getStackedOnPoint(Yr,Wr,Gr,Qr);Kr[Qr*2]=Jr[0],Kr[Qr*2+1]=Jr[1]}return Kr}function turnPointsIntoStep(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.getBaseAxis(),Jr=Qr.dim==="x"||Qr.dim==="radius"?0:1,en=[],tn=0,rn=[],an=[],nn=[],sn=[];if(Kr){for(tn=0;tn<Wr.length;tn+=2){var ln=Gr||Wr;!isNaN(ln[tn])&&!isNaN(ln[tn+1])&&sn.push(Wr[tn],Wr[tn+1])}Wr=sn}for(tn=0;tn<Wr.length-2;tn+=2)switch(nn[0]=Wr[tn+2],nn[1]=Wr[tn+3],an[0]=Wr[tn],an[1]=Wr[tn+1],en.push(an[0],an[1]),Zr){case"end":rn[Jr]=nn[Jr],rn[1-Jr]=an[1-Jr],en.push(rn[0],rn[1]);break;case"middle":var un=(an[Jr]+nn[Jr])/2,cn=[];rn[Jr]=cn[Jr]=un,rn[1-Jr]=an[1-Jr],cn[1-Jr]=nn[1-Jr],en.push(rn[0],rn[1]),en.push(cn[0],cn[1]);break;default:rn[Jr]=an[Jr],rn[1-Jr]=nn[1-Jr],en.push(rn[0],rn[1])}return en.push(Wr[tn++],Wr[tn++]),en}function clipColorStops(Wr,Gr){var Yr=[],Zr=Wr.length,Kr,Qr;function Jr(an,nn,sn){var ln=an.coord,un=(sn-ln)/(nn.coord-ln),cn=lerp(un,[an.color,nn.color]);return{coord:sn,color:cn}}for(var en=0;en<Zr;en++){var tn=Wr[en],rn=tn.coord;if(rn<0)Kr=tn;else if(rn>Gr){Qr?Yr.push(Jr(Qr,tn,Gr)):Kr&&Yr.push(Jr(Kr,tn,0),Jr(Kr,tn,Gr));break}else Kr&&(Yr.push(Jr(Kr,tn,0)),Kr=null),Yr.push(tn),Qr=tn}return Yr}function getVisualGradient(Wr,Gr,Yr){var Zr=Wr.getVisual("visualMeta");if(!(!Zr||!Zr.length||!Wr.count())&&Gr.type==="cartesian2d"){for(var Kr,Qr,Jr=Zr.length-1;Jr>=0;Jr--){var en=Wr.getDimensionInfo(Zr[Jr].dimension);if(Kr=en&&en.coordDim,Kr==="x"||Kr==="y"){Qr=Zr[Jr];break}}if(Qr){var tn=Gr.getAxis(Kr),rn=map$1(Qr.stops,function(pn){return{coord:tn.toGlobalCoord(tn.dataToCoord(pn.value)),color:pn.color}}),an=rn.length,nn=Qr.outerColors.slice();an&&rn[0].coord>rn[an-1].coord&&(rn.reverse(),nn.reverse());var sn=clipColorStops(rn,Kr==="x"?Yr.getWidth():Yr.getHeight()),ln=sn.length;if(!ln&&an)return rn[0].coord<0?nn[1]?nn[1]:rn[an-1].color:nn[0]?nn[0]:rn[0].color;var un=10,cn=sn[0].coord-un,hn=sn[ln-1].coord+un,dn=hn-cn;if(dn<.001)return"transparent";each$f(sn,function(pn){pn.offset=(pn.coord-cn)/dn}),sn.push({offset:ln?sn[ln-1].offset:.5,color:nn[1]||"transparent"}),sn.unshift({offset:ln?sn[0].offset:.5,color:nn[0]||"transparent"});var fn=new LinearGradient(0,0,0,0,sn,!0);return fn[Kr]=cn,fn[Kr+"2"]=hn,fn}}}function getIsIgnoreFunc(Wr,Gr,Yr){var Zr=Wr.get("showAllSymbol"),Kr=Zr==="auto";if(!(Zr&&!Kr)){var Qr=Yr.getAxesByScale("ordinal")[0];if(Qr&&!(Kr&&canShowAllSymbolForCategory(Qr,Gr))){var Jr=Gr.mapDimension(Qr.dim),en={};return each$f(Qr.getViewLabels(),function(tn){var rn=Qr.scale.getRawOrdinalNumber(tn.tickValue);en[rn]=1}),function(tn){return!en.hasOwnProperty(Gr.get(Jr,tn))}}}}function canShowAllSymbolForCategory(Wr,Gr){var Yr=Wr.getExtent(),Zr=Math.abs(Yr[1]-Yr[0])/Wr.scale.count();isNaN(Zr)&&(Zr=0);for(var Kr=Gr.count(),Qr=Math.max(1,Math.round(Kr/5)),Jr=0;Jr<Kr;Jr+=Qr)if(Symbol$1.getSymbolSize(Gr,Jr)[Wr.isHorizontal()?1:0]*1.5>Zr)return!1;return!0}function isPointNull(Wr,Gr){return isNaN(Wr)||isNaN(Gr)}function getLastIndexNotNull(Wr){for(var Gr=Wr.length/2;Gr>0&&isPointNull(Wr[Gr*2-2],Wr[Gr*2-1]);Gr--);return Gr-1}function getPointAtIndex(Wr,Gr){return[Wr[Gr*2],Wr[Gr*2+1]]}function getIndexRange(Wr,Gr,Yr){for(var Zr=Wr.length/2,Kr=Yr==="x"?0:1,Qr,Jr,en=0,tn=-1,rn=0;rn<Zr;rn++)if(Jr=Wr[rn*2+Kr],!(isNaN(Jr)||isNaN(Wr[rn*2+1-Kr]))){if(rn===0){Qr=Jr;continue}if(Qr<=Gr&&Jr>=Gr||Qr>=Gr&&Jr<=Gr){tn=rn;break}en=rn,Qr=Jr}return{range:[en,tn],t:(Gr-Qr)/(Jr-Qr)}}function anyStateShowEndLabel(Wr){if(Wr.get(["endLabel","show"]))return!0;for(var Gr=0;Gr<SPECIAL_STATES.length;Gr++)if(Wr.get([SPECIAL_STATES[Gr],"endLabel","show"]))return!0;return!1}function createLineClipPath(Wr,Gr,Yr,Zr){if(isCoordinateSystemType(Gr,"cartesian2d")){var Kr=Zr.getModel("endLabel"),Qr=Kr.get("valueAnimation"),Jr=Zr.getData(),en={lastFrameIndex:0},tn=anyStateShowEndLabel(Zr)?function(ln,un){Wr._endLabelOnDuring(ln,un,Jr,en,Qr,Kr,Gr)}:null,rn=Gr.getBaseAxis().isHorizontal(),an=createGridClipPath(Gr,Yr,Zr,function(){var ln=Wr._endLabel;ln&&Yr&&en.originalX!=null&&ln.attr({x:en.originalX,y:en.originalY})},tn);if(!Zr.get("clip",!0)){var nn=an.shape,sn=Math.max(nn.width,nn.height);rn?(nn.y-=sn,nn.height+=sn*2):(nn.x-=sn,nn.width+=sn*2)}return tn&&tn(1,an),an}else return createPolarClipPath(Gr,Yr,Zr)}function getEndLabelStateSpecified(Wr,Gr){var Yr=Gr.getBaseAxis(),Zr=Yr.isHorizontal(),Kr=Yr.inverse,Qr=Zr?Kr?"right":"left":"center",Jr=Zr?"middle":Kr?"top":"bottom";return{normal:{align:Wr.get("align")||Qr,verticalAlign:Wr.get("verticalAlign")||Jr}}}var LineView=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.init=function(){var Yr=new Group$3,Zr=new SymbolDraw;this.group.add(Zr.group),this._symbolDraw=Zr,this._lineGroup=Yr,this._changePolyState=bind$1(this._changePolyState,this)},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.coordinateSystem,Jr=this.group,en=Yr.getData(),tn=Yr.getModel("lineStyle"),rn=Yr.getModel("areaStyle"),an=en.getLayout("points")||[],nn=Qr.type==="polar",sn=this._coordSys,ln=this._symbolDraw,un=this._polyline,cn=this._polygon,hn=this._lineGroup,dn=!Zr.ssr&&Yr.get("animation"),fn=!rn.isEmpty(),pn=rn.get("origin"),gn=prepareDataCoordInfo(Qr,en,pn),vn=fn&&getStackedOnPoints(Qr,en,gn),mn=Yr.get("showSymbol"),yn=Yr.get("connectNulls"),xn=mn&&!nn&&getIsIgnoreFunc(Yr,en,Qr),bn=this._data;bn&&bn.eachItemGraphicEl(function(Fn,Hn){Fn.__temp&&(Jr.remove(Fn),bn.setItemGraphicEl(Hn,null))}),mn||ln.remove(),Jr.add(hn);var Sn=nn?!1:Yr.get("step"),wn;Qr&&Qr.getArea&&Yr.get("clip",!0)&&(wn=Qr.getArea(),wn.width!=null?(wn.x-=.1,wn.y-=.1,wn.width+=.2,wn.height+=.2):wn.r0&&(wn.r0-=.5,wn.r+=.5)),this._clipShapeForSymbol=wn;var _n=getVisualGradient(en,Qr,Kr)||en.getVisual("style")[en.getVisual("drawType")];if(!(un&&sn.type===Qr.type&&Sn===this._step))mn&&ln.updateData(en,{isIgnore:xn,clipShape:wn,disableAnimation:!0,getSymbolPoint:function(Fn){return[an[Fn*2],an[Fn*2+1]]}}),dn&&this._initSymbolLabelAnimation(en,Qr,wn),Sn&&(vn&&(vn=turnPointsIntoStep(vn,an,Qr,Sn,yn)),an=turnPointsIntoStep(an,null,Qr,Sn,yn)),un=this._newPolyline(an),fn?cn=this._newPolygon(an,vn):cn&&(hn.remove(cn),cn=this._polygon=null),nn||this._initOrUpdateEndLabel(Yr,Qr,convertToColorString(_n)),hn.setClipPath(createLineClipPath(this,Qr,!0,Yr));else{fn&&!cn?cn=this._newPolygon(an,vn):cn&&!fn&&(hn.remove(cn),cn=this._polygon=null),nn||this._initOrUpdateEndLabel(Yr,Qr,convertToColorString(_n));var An=hn.getClipPath();if(An){var Cn=createLineClipPath(this,Qr,!1,Yr);initProps(An,{shape:Cn.shape},Yr)}else hn.setClipPath(createLineClipPath(this,Qr,!0,Yr));mn&&ln.updateData(en,{isIgnore:xn,clipShape:wn,disableAnimation:!0,getSymbolPoint:function(Fn){return[an[Fn*2],an[Fn*2+1]]}}),(!isPointsSame(this._stackedOnPoints,vn)||!isPointsSame(this._points,an))&&(dn?this._doUpdateAnimation(en,vn,Qr,Kr,Sn,pn,yn):(Sn&&(vn&&(vn=turnPointsIntoStep(vn,an,Qr,Sn,yn)),an=turnPointsIntoStep(an,null,Qr,Sn,yn)),un.setShape({points:an}),cn&&cn.setShape({points:an,stackedOnPoints:vn})))}var Tn=Yr.getModel("emphasis"),Mn=Tn.get("focus"),En=Tn.get("blurScope"),Ln=Tn.get("disabled");if(un.useStyle(defaults(tn.getLineStyle(),{fill:"none",stroke:_n,lineJoin:"bevel"})),setStatesStylesFromModel(un,Yr,"lineStyle"),un.style.lineWidth>0&&Yr.get(["emphasis","lineStyle","width"])==="bolder"){var In=un.getState("emphasis").style;In.lineWidth=+un.style.lineWidth+1}getECData(un).seriesIndex=Yr.seriesIndex,toggleHoverEmphasis(un,Mn,En,Ln);var Pn=getSmooth(Yr.get("smooth")),Dn=Yr.get("smoothMonotone");if(un.setShape({smooth:Pn,smoothMonotone:Dn,connectNulls:yn}),cn){var kn=en.getCalculationInfo("stackedOnSeries"),Nn=0;cn.useStyle(defaults(rn.getAreaStyle(),{fill:_n,opacity:.7,lineJoin:"bevel",decal:en.getVisual("style").decal})),kn&&(Nn=getSmooth(kn.get("smooth"))),cn.setShape({smooth:Pn,stackedOnSmooth:Nn,smoothMonotone:Dn,connectNulls:yn}),setStatesStylesFromModel(cn,Yr,"areaStyle"),getECData(cn).seriesIndex=Yr.seriesIndex,toggleHoverEmphasis(cn,Mn,En,Ln)}var Rn=this._changePolyState;en.eachItemGraphicEl(function(Fn){Fn&&(Fn.onHoverStateChange=Rn)}),this._polyline.onHoverStateChange=Rn,this._data=en,this._coordSys=Qr,this._stackedOnPoints=vn,this._points=an,this._step=Sn,this._valueOrigin=pn,Yr.get("triggerLineEvent")&&(this.packEventData(Yr,un),cn&&this.packEventData(Yr,cn))},Gr.prototype.packEventData=function(Yr,Zr){getECData(Zr).eventData={componentType:"series",componentSubType:"line",componentIndex:Yr.componentIndex,seriesIndex:Yr.seriesIndex,seriesName:Yr.name,seriesType:"line"}},Gr.prototype.highlight=function(Yr,Zr,Kr,Qr){var Jr=Yr.getData(),en=queryDataIndex(Jr,Qr);if(this._changePolyState("emphasis"),!(en instanceof Array)&&en!=null&&en>=0){var tn=Jr.getLayout("points"),rn=Jr.getItemGraphicEl(en);if(!rn){var an=tn[en*2],nn=tn[en*2+1];if(isNaN(an)||isNaN(nn)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(an,nn))return;var sn=Yr.get("zlevel")||0,ln=Yr.get("z")||0;rn=new Symbol$1(Jr,en),rn.x=an,rn.y=nn,rn.setZ(sn,ln);var un=rn.getSymbolPath().getTextContent();un&&(un.zlevel=sn,un.z=ln,un.z2=this._polyline.z2+1),rn.__temp=!0,Jr.setItemGraphicEl(en,rn),rn.stopSymbolAnimation(!0),this.group.add(rn)}rn.highlight()}else ChartView.prototype.highlight.call(this,Yr,Zr,Kr,Qr)},Gr.prototype.downplay=function(Yr,Zr,Kr,Qr){var Jr=Yr.getData(),en=queryDataIndex(Jr,Qr);if(this._changePolyState("normal"),en!=null&&en>=0){var tn=Jr.getItemGraphicEl(en);tn&&(tn.__temp?(Jr.setItemGraphicEl(en,null),this.group.remove(tn)):tn.downplay())}else ChartView.prototype.downplay.call(this,Yr,Zr,Kr,Qr)},Gr.prototype._changePolyState=function(Yr){var Zr=this._polygon;setStatesFlag(this._polyline,Yr),Zr&&setStatesFlag(Zr,Yr)},Gr.prototype._newPolyline=function(Yr){var Zr=this._polyline;return Zr&&this._lineGroup.remove(Zr),Zr=new ECPolyline({shape:{points:Yr},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(Zr),this._polyline=Zr,Zr},Gr.prototype._newPolygon=function(Yr,Zr){var Kr=this._polygon;return Kr&&this._lineGroup.remove(Kr),Kr=new ECPolygon({shape:{points:Yr,stackedOnPoints:Zr},segmentIgnoreThreshold:2}),this._lineGroup.add(Kr),this._polygon=Kr,Kr},Gr.prototype._initSymbolLabelAnimation=function(Yr,Zr,Kr){var Qr,Jr,en=Zr.getBaseAxis(),tn=en.inverse;Zr.type==="cartesian2d"?(Qr=en.isHorizontal(),Jr=!1):Zr.type==="polar"&&(Qr=en.dim==="angle",Jr=!0);var rn=Yr.hostModel,an=rn.get("animationDuration");isFunction(an)&&(an=an(null));var nn=rn.get("animationDelay")||0,sn=isFunction(nn)?nn(null):nn;Yr.eachItemGraphicEl(function(ln,un){var cn=ln;if(cn){var hn=[ln.x,ln.y],dn=void 0,fn=void 0,pn=void 0;if(Kr)if(Jr){var gn=Kr,vn=Zr.pointToCoord(hn);Qr?(dn=gn.startAngle,fn=gn.endAngle,pn=-vn[1]/180*Math.PI):(dn=gn.r0,fn=gn.r,pn=vn[0])}else{var mn=Kr;Qr?(dn=mn.x,fn=mn.x+mn.width,pn=ln.x):(dn=mn.y+mn.height,fn=mn.y,pn=ln.y)}var yn=fn===dn?0:(pn-dn)/(fn-dn);tn&&(yn=1-yn);var xn=isFunction(nn)?nn(un):an*yn+sn,bn=cn.getSymbolPath(),Sn=bn.getTextContent();cn.attr({scaleX:0,scaleY:0}),cn.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:xn}),Sn&&Sn.animateFrom({style:{opacity:0}},{duration:300,delay:xn}),bn.disableLabelAnimation=!0}})},Gr.prototype._initOrUpdateEndLabel=function(Yr,Zr,Kr){var Qr=Yr.getModel("endLabel");if(anyStateShowEndLabel(Yr)){var Jr=Yr.getData(),en=this._polyline,tn=Jr.getLayout("points");if(!tn){en.removeTextContent(),this._endLabel=null;return}var rn=this._endLabel;rn||(rn=this._endLabel=new ZRText({z2:200}),rn.ignoreClip=!0,en.setTextContent(this._endLabel),en.disableLabelAnimation=!0);var an=getLastIndexNotNull(tn);an>=0&&(setLabelStyle(en,getLabelStatesModels(Yr,"endLabel"),{inheritColor:Kr,labelFetcher:Yr,labelDataIndex:an,defaultText:function(nn,sn,ln){return ln!=null?getDefaultInterpolatedLabel(Jr,ln):getDefaultLabel(Jr,nn)},enableTextSetter:!0},getEndLabelStateSpecified(Qr,Zr)),en.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},Gr.prototype._endLabelOnDuring=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this._endLabel,an=this._polyline;if(rn){Yr<1&&Qr.originalX==null&&(Qr.originalX=rn.x,Qr.originalY=rn.y);var nn=Kr.getLayout("points"),sn=Kr.hostModel,ln=sn.get("connectNulls"),un=en.get("precision"),cn=en.get("distance")||0,hn=tn.getBaseAxis(),dn=hn.isHorizontal(),fn=hn.inverse,pn=Zr.shape,gn=fn?dn?pn.x:pn.y+pn.height:dn?pn.x+pn.width:pn.y,vn=(dn?cn:0)*(fn?-1:1),mn=(dn?0:-cn)*(fn?-1:1),yn=dn?"x":"y",xn=getIndexRange(nn,gn,yn),bn=xn.range,Sn=bn[1]-bn[0],wn=void 0;if(Sn>=1){if(Sn>1&&!ln){var _n=getPointAtIndex(nn,bn[0]);rn.attr({x:_n[0]+vn,y:_n[1]+mn}),Jr&&(wn=sn.getRawValue(bn[0]))}else{var _n=an.getPointOn(gn,yn);_n&&rn.attr({x:_n[0]+vn,y:_n[1]+mn});var An=sn.getRawValue(bn[0]),Cn=sn.getRawValue(bn[1]);Jr&&(wn=interpolateRawValues(Kr,un,An,Cn,xn.t))}Qr.lastFrameIndex=bn[0]}else{var Tn=Yr===1||Qr.lastFrameIndex>0?bn[0]:0,_n=getPointAtIndex(nn,Tn);Jr&&(wn=sn.getRawValue(Tn)),rn.attr({x:_n[0]+vn,y:_n[1]+mn})}if(Jr){var Mn=labelInner(rn);typeof Mn.setLabelText=="function"&&Mn.setLabelText(wn)}}},Gr.prototype._doUpdateAnimation=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this._polyline,an=this._polygon,nn=Yr.hostModel,sn=lineAnimationDiff(this._data,Yr,this._stackedOnPoints,Zr,this._coordSys,Kr,this._valueOrigin),ln=sn.current,un=sn.stackedOnCurrent,cn=sn.next,hn=sn.stackedOnNext;if(Jr&&(un=turnPointsIntoStep(sn.stackedOnCurrent,sn.current,Kr,Jr,tn),ln=turnPointsIntoStep(sn.current,null,Kr,Jr,tn),hn=turnPointsIntoStep(sn.stackedOnNext,sn.next,Kr,Jr,tn),cn=turnPointsIntoStep(sn.next,null,Kr,Jr,tn)),getBoundingDiff(ln,cn)>3e3||an&&getBoundingDiff(un,hn)>3e3){rn.stopAnimation(),rn.setShape({points:cn}),an&&(an.stopAnimation(),an.setShape({points:cn,stackedOnPoints:hn}));return}rn.shape.__points=sn.current,rn.shape.points=ln;var dn={shape:{points:cn}};sn.current!==ln&&(dn.shape.__points=sn.next),rn.stopAnimation(),updateProps$1(rn,dn,nn),an&&(an.setShape({points:ln,stackedOnPoints:un}),an.stopAnimation(),updateProps$1(an,{shape:{stackedOnPoints:hn}},nn),rn.shape.points!==an.shape.points&&(an.shape.points=rn.shape.points));for(var fn=[],pn=sn.status,gn=0;gn<pn.length;gn++){var vn=pn[gn].cmd;if(vn==="="){var mn=Yr.getItemGraphicEl(pn[gn].idx1);mn&&fn.push({el:mn,ptIdx:gn})}}rn.animators&&rn.animators.length&&rn.animators[0].during(function(){an&&an.dirtyShape();for(var yn=rn.shape.__points,xn=0;xn<fn.length;xn++){var bn=fn[xn].el,Sn=fn[xn].ptIdx*2;bn.x=yn[Sn],bn.y=yn[Sn+1],bn.markRedraw()}})},Gr.prototype.remove=function(Yr){var Zr=this.group,Kr=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),Kr&&Kr.eachItemGraphicEl(function(Qr,Jr){Qr.__temp&&(Zr.remove(Qr),Kr.setItemGraphicEl(Jr,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},Gr.type="line",Gr}(ChartView);function pointsLayout(Wr,Gr){return{seriesType:Wr,plan:createRenderPlanner(),reset:function(Yr){var Zr=Yr.getData(),Kr=Yr.coordinateSystem,Qr=Yr.pipelineContext,Jr=Gr||Qr.large;if(Kr){var en=map$1(Kr.dimensions,function(ln){return Zr.mapDimension(ln)}).slice(0,2),tn=en.length,rn=Zr.getCalculationInfo("stackResultDimension");isDimensionStacked(Zr,en[0])&&(en[0]=rn),isDimensionStacked(Zr,en[1])&&(en[1]=rn);var an=Zr.getStore(),nn=Zr.getDimensionIndex(en[0]),sn=Zr.getDimensionIndex(en[1]);return tn&&{progress:function(ln,un){for(var cn=ln.end-ln.start,hn=Jr&&createFloat32Array(cn*tn),dn=[],fn=[],pn=ln.start,gn=0;pn<ln.end;pn++){var vn=void 0;if(tn===1){var mn=an.get(nn,pn);vn=Kr.dataToPoint(mn,null,fn)}else dn[0]=an.get(nn,pn),dn[1]=an.get(sn,pn),vn=Kr.dataToPoint(dn,null,fn);Jr?(hn[gn++]=vn[0],hn[gn++]=vn[1]):un.setItemLayout(pn,vn.slice())}Jr&&un.setLayout("points",hn)}}}}}}var samplers={average:function(Wr){for(var Gr=0,Yr=0,Zr=0;Zr<Wr.length;Zr++)isNaN(Wr[Zr])||(Gr+=Wr[Zr],Yr++);return Yr===0?NaN:Gr/Yr},sum:function(Wr){for(var Gr=0,Yr=0;Yr<Wr.length;Yr++)Gr+=Wr[Yr]||0;return Gr},max:function(Wr){for(var Gr=-1/0,Yr=0;Yr<Wr.length;Yr++)Wr[Yr]>Gr&&(Gr=Wr[Yr]);return isFinite(Gr)?Gr:NaN},min:function(Wr){for(var Gr=1/0,Yr=0;Yr<Wr.length;Yr++)Wr[Yr]<Gr&&(Gr=Wr[Yr]);return isFinite(Gr)?Gr:NaN},nearest:function(Wr){return Wr[0]}},indexSampler=function(Wr){return Math.round(Wr.length/2)};function dataSample(Wr){return{seriesType:Wr,reset:function(Gr,Yr,Zr){var Kr=Gr.getData(),Qr=Gr.get("sampling"),Jr=Gr.coordinateSystem,en=Kr.count();if(en>10&&Jr.type==="cartesian2d"&&Qr){var tn=Jr.getBaseAxis(),rn=Jr.getOtherAxis(tn),an=tn.getExtent(),nn=Zr.getDevicePixelRatio(),sn=Math.abs(an[1]-an[0])*(nn||1),ln=Math.round(en/sn);if(isFinite(ln)&&ln>1){Qr==="lttb"?Gr.setData(Kr.lttbDownSample(Kr.mapDimension(rn.dim),1/ln)):Qr==="minmax"&&Gr.setData(Kr.minmaxDownSample(Kr.mapDimension(rn.dim),1/ln));var un=void 0;isString(Qr)?un=samplers[Qr]:isFunction(Qr)&&(un=Qr),un&&Gr.setData(Kr.downSample(Kr.mapDimension(rn.dim),1/ln,un,indexSampler))}}}}}function install$Q(Wr){Wr.registerChartView(LineView),Wr.registerSeriesModel(LineSeriesModel),Wr.registerLayout(pointsLayout("line",!0)),Wr.registerVisual({seriesType:"line",reset:function(Gr){var Yr=Gr.getData(),Zr=Gr.getModel("lineStyle").getLineStyle();Zr&&!Zr.stroke&&(Zr.stroke=Yr.getVisual("style").fill),Yr.setVisual("legendLineStyle",Zr)}}),Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getMarkerPosition=function(Yr,Zr,Kr){var Qr=this.coordinateSystem;if(Qr&&Qr.clampData){var Jr=Qr.clampData(Yr),en=Qr.dataToPoint(Jr);if(Kr)each$f(Qr.getAxes(),function(sn,ln){if(sn.type==="category"&&Zr!=null){var un=sn.getTicksCoords(),cn=sn.getTickModel().get("alignWithLabel"),hn=Jr[ln],dn=Zr[ln]==="x1"||Zr[ln]==="y1";if(dn&&!cn&&(hn+=1),un.length<2)return;if(un.length===2){en[ln]=sn.toGlobalCoord(sn.getExtent()[dn?1:0]);return}for(var fn=void 0,pn=void 0,gn=1,vn=0;vn<un.length;vn++){var mn=un[vn].coord,yn=vn===un.length-1?un[vn-1].tickValue+gn:un[vn].tickValue;if(yn===hn){pn=mn;break}else if(yn<hn)fn=mn;else if(fn!=null&&yn>hn){pn=(mn+fn)/2;break}vn===1&&(gn=yn-un[0].tickValue)}pn==null&&(fn?fn&&(pn=un[un.length-1].coord):pn=un[0].coord),en[ln]=sn.toGlobalCoord(pn)}});else{var tn=this.getData(),rn=tn.getLayout("offset"),an=tn.getLayout("size"),nn=Qr.getBaseAxis().isHorizontal()?0:1;en[nn]+=rn+an/2}return en}return[NaN,NaN]},Gr.type="series.__base_bar__",Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},Gr}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Gr.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},Gr.prototype.getProgressiveThreshold=function(){var Yr=this.get("progressiveThreshold"),Zr=this.get("largeThreshold");return Zr>Yr&&(Yr=Zr),Yr},Gr.prototype.brushSelector=function(Yr,Zr,Kr){return Kr.rect(Zr.getItemLayout(Yr))},Gr.type="series.bar",Gr.dependencies=["grid","polar"],Gr.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),Gr}(BaseBarSeriesModel),SausageShape=function(){function Wr(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return Wr}(),SausagePath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="sausage",Zr}return Gr.prototype.getDefaultShape=function(){return new SausageShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.cx,Qr=Zr.cy,Jr=Math.max(Zr.r0||0,0),en=Math.max(Zr.r,0),tn=(en-Jr)*.5,rn=Jr+tn,an=Zr.startAngle,nn=Zr.endAngle,sn=Zr.clockwise,ln=Math.PI*2,un=sn?nn-an<ln:an-nn<ln;un||(an=nn-(sn?ln:-ln));var cn=Math.cos(an),hn=Math.sin(an),dn=Math.cos(nn),fn=Math.sin(nn);un?(Yr.moveTo(cn*Jr+Kr,hn*Jr+Qr),Yr.arc(cn*rn+Kr,hn*rn+Qr,tn,-Math.PI+an,an,!sn)):Yr.moveTo(cn*en+Kr,hn*en+Qr),Yr.arc(Kr,Qr,en,an,nn,!sn),Yr.arc(dn*rn+Kr,fn*rn+Qr,tn,nn-Math.PI*2,nn-Math.PI,!sn),Jr!==0&&Yr.arc(Kr,Qr,Jr,nn,an,sn)},Gr}(Path);function createSectorCalculateTextPosition(Wr,Gr){Gr=Gr||{};var Yr=Gr.isRoundCap;return function(Zr,Kr,Qr){var Jr=Kr.position;if(!Jr||Jr instanceof Array)return calculateTextPosition(Zr,Kr,Qr);var en=Wr(Jr),tn=Kr.distance!=null?Kr.distance:5,rn=this.shape,an=rn.cx,nn=rn.cy,sn=rn.r,ln=rn.r0,un=(sn+ln)/2,cn=rn.startAngle,hn=rn.endAngle,dn=(cn+hn)/2,fn=Yr?Math.abs(sn-ln)/2:0,pn=Math.cos,gn=Math.sin,vn=an+sn*pn(cn),mn=nn+sn*gn(cn),yn="left",xn="top";switch(en){case"startArc":vn=an+(ln-tn)*pn(dn),mn=nn+(ln-tn)*gn(dn),yn="center",xn="top";break;case"insideStartArc":vn=an+(ln+tn)*pn(dn),mn=nn+(ln+tn)*gn(dn),yn="center",xn="bottom";break;case"startAngle":vn=an+un*pn(cn)+adjustAngleDistanceX(cn,tn+fn,!1),mn=nn+un*gn(cn)+adjustAngleDistanceY(cn,tn+fn,!1),yn="right",xn="middle";break;case"insideStartAngle":vn=an+un*pn(cn)+adjustAngleDistanceX(cn,-tn+fn,!1),mn=nn+un*gn(cn)+adjustAngleDistanceY(cn,-tn+fn,!1),yn="left",xn="middle";break;case"middle":vn=an+un*pn(dn),mn=nn+un*gn(dn),yn="center",xn="middle";break;case"endArc":vn=an+(sn+tn)*pn(dn),mn=nn+(sn+tn)*gn(dn),yn="center",xn="bottom";break;case"insideEndArc":vn=an+(sn-tn)*pn(dn),mn=nn+(sn-tn)*gn(dn),yn="center",xn="top";break;case"endAngle":vn=an+un*pn(hn)+adjustAngleDistanceX(hn,tn+fn,!0),mn=nn+un*gn(hn)+adjustAngleDistanceY(hn,tn+fn,!0),yn="left",xn="middle";break;case"insideEndAngle":vn=an+un*pn(hn)+adjustAngleDistanceX(hn,-tn+fn,!0),mn=nn+un*gn(hn)+adjustAngleDistanceY(hn,-tn+fn,!0),yn="right",xn="middle";break;default:return calculateTextPosition(Zr,Kr,Qr)}return Zr=Zr||{},Zr.x=vn,Zr.y=mn,Zr.align=yn,Zr.verticalAlign=xn,Zr}}function setSectorTextRotation(Wr,Gr,Yr,Zr){if(isNumber(Zr)){Wr.setTextConfig({rotation:Zr});return}else if(isArray$1(Gr)){Wr.setTextConfig({rotation:0});return}var Kr=Wr.shape,Qr=Kr.clockwise?Kr.startAngle:Kr.endAngle,Jr=Kr.clockwise?Kr.endAngle:Kr.startAngle,en=(Qr+Jr)/2,tn,rn=Yr(Gr);switch(rn){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":tn=en;break;case"startAngle":case"insideStartAngle":tn=Qr;break;case"endAngle":case"insideEndAngle":tn=Jr;break;default:Wr.setTextConfig({rotation:0});return}var an=Math.PI*1.5-tn;rn==="middle"&&an>Math.PI/2&&an<Math.PI*1.5&&(an-=Math.PI),Wr.setTextConfig({rotation:an})}function adjustAngleDistanceX(Wr,Gr,Yr){return Gr*Math.sin(Wr)*(Yr?-1:1)}function adjustAngleDistanceY(Wr,Gr,Yr){return Gr*Math.cos(Wr)*(Yr?1:-1)}function getSectorCornerRadius(Wr,Gr,Yr){var Zr=Wr.get("borderRadius");if(Zr==null)return Yr?{cornerRadius:0}:null;isArray$1(Zr)||(Zr=[Zr,Zr,Zr,Zr]);var Kr=Math.abs(Gr.r||0-Gr.r0||0);return{cornerRadius:map$1(Zr,function(Qr){return parsePercent$1(Qr,Kr)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(Wr,Gr){var Yr=Wr.getArea&&Wr.getArea();if(isCoordinateSystemType(Wr,"cartesian2d")){var Zr=Wr.getBaseAxis();if(Zr.type!=="category"||!Zr.onBand){var Kr=Gr.getLayout("bandWidth");Zr.isHorizontal()?(Yr.x-=Kr,Yr.width+=Kr*2):(Yr.y-=Kr,Yr.height+=Kr*2)}}return Yr}var BarView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr.call(this)||this;return Yr.type=Gr.type,Yr._isFirstFrame=!0,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this._model=Yr,this._removeOnRenderedListener(Kr),this._updateDrawMode(Yr);var Jr=Yr.get("coordinateSystem");(Jr==="cartesian2d"||Jr==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(Yr,Zr,Kr):this._renderNormal(Yr,Zr,Kr,Qr))},Gr.prototype.incrementalPrepareRender=function(Yr){this._clear(),this._updateDrawMode(Yr),this._updateLargeClip(Yr)},Gr.prototype.incrementalRender=function(Yr,Zr){this._progressiveEls=[],this._incrementalRenderLarge(Yr,Zr)},Gr.prototype.eachRendered=function(Yr){traverseElements(this._progressiveEls||this.group,Yr)},Gr.prototype._updateDrawMode=function(Yr){var Zr=Yr.pipelineContext.large;(this._isLargeDraw==null||Zr!==this._isLargeDraw)&&(this._isLargeDraw=Zr,this._clear())},Gr.prototype._renderNormal=function(Yr,Zr,Kr,Qr){var Jr=this.group,en=Yr.getData(),tn=this._data,rn=Yr.coordinateSystem,an=rn.getBaseAxis(),nn;rn.type==="cartesian2d"?nn=an.isHorizontal():rn.type==="polar"&&(nn=an.dim==="angle");var sn=Yr.isAnimationEnabled()?Yr:null,ln=shouldRealtimeSort(Yr,rn);ln&&this._enableRealtimeSort(ln,en,Kr);var un=Yr.get("clip",!0)||ln,cn=getClipArea(rn,en);Jr.removeClipPath();var hn=Yr.get("roundCap",!0),dn=Yr.get("showBackground",!0),fn=Yr.getModel("backgroundStyle"),pn=fn.get("borderRadius")||0,gn=[],vn=this._backgroundEls,mn=Qr&&Qr.isInitSort,yn=Qr&&Qr.type==="changeAxisOrder";function xn(wn){var _n=getLayout[rn.type](en,wn),An=createBackgroundEl(rn,nn,_n);return An.useStyle(fn.getItemStyle()),rn.type==="cartesian2d"?An.setShape("r",pn):An.setShape("cornerRadius",pn),gn[wn]=An,An}en.diff(tn).add(function(wn){var _n=en.getItemModel(wn),An=getLayout[rn.type](en,wn,_n);if(dn&&xn(wn),!(!en.hasValue(wn)||!isValidLayout[rn.type](An))){var Cn=!1;un&&(Cn=clip[rn.type](cn,An));var Tn=elementCreator[rn.type](Yr,en,wn,An,nn,sn,an.model,!1,hn);ln&&(Tn.forceLabelAnimation=!0),updateStyle(Tn,en,wn,_n,An,Yr,nn,rn.type==="polar"),mn?Tn.attr({shape:An}):ln?updateRealtimeAnimation(ln,sn,Tn,An,wn,nn,!1,!1):initProps(Tn,{shape:An},Yr,wn),en.setItemGraphicEl(wn,Tn),Jr.add(Tn),Tn.ignore=Cn}}).update(function(wn,_n){var An=en.getItemModel(wn),Cn=getLayout[rn.type](en,wn,An);if(dn){var Tn=void 0;vn.length===0?Tn=xn(_n):(Tn=vn[_n],Tn.useStyle(fn.getItemStyle()),rn.type==="cartesian2d"?Tn.setShape("r",pn):Tn.setShape("cornerRadius",pn),gn[wn]=Tn);var Mn=getLayout[rn.type](en,wn),En=createBackgroundShape(nn,Mn,rn);updateProps$1(Tn,{shape:En},sn,wn)}var Ln=tn.getItemGraphicEl(_n);if(!en.hasValue(wn)||!isValidLayout[rn.type](Cn)){Jr.remove(Ln);return}var In=!1;if(un&&(In=clip[rn.type](cn,Cn),In&&Jr.remove(Ln)),Ln?saveOldStyle(Ln):Ln=elementCreator[rn.type](Yr,en,wn,Cn,nn,sn,an.model,!!Ln,hn),ln&&(Ln.forceLabelAnimation=!0),yn){var Pn=Ln.getTextContent();if(Pn){var Dn=labelInner(Pn);Dn.prevValue!=null&&(Dn.prevValue=Dn.value)}}else updateStyle(Ln,en,wn,An,Cn,Yr,nn,rn.type==="polar");mn?Ln.attr({shape:Cn}):ln?updateRealtimeAnimation(ln,sn,Ln,Cn,wn,nn,!0,yn):updateProps$1(Ln,{shape:Cn},Yr,wn,null),en.setItemGraphicEl(wn,Ln),Ln.ignore=In,Jr.add(Ln)}).remove(function(wn){var _n=tn.getItemGraphicEl(wn);_n&&removeElementWithFadeOut(_n,Yr,wn)}).execute();var bn=this._backgroundGroup||(this._backgroundGroup=new Group$3);bn.removeAll();for(var Sn=0;Sn<gn.length;++Sn)bn.add(gn[Sn]);Jr.add(bn),this._backgroundEls=gn,this._data=en},Gr.prototype._renderLarge=function(Yr,Zr,Kr){this._clear(),createLarge$1(Yr,this.group),this._updateLargeClip(Yr)},Gr.prototype._incrementalRenderLarge=function(Yr,Zr){this._removeBackground(),createLarge$1(Zr,this.group,this._progressiveEls,!0)},Gr.prototype._updateLargeClip=function(Yr){var Zr=Yr.get("clip",!0)&&createClipPath(Yr.coordinateSystem,!1,Yr),Kr=this.group;Zr?Kr.setClipPath(Zr):Kr.removeClipPath()},Gr.prototype._enableRealtimeSort=function(Yr,Zr,Kr){var Qr=this;if(Zr.count()){var Jr=Yr.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(Zr,Yr,Kr),this._isFirstFrame=!1;else{var en=function(tn){var rn=Zr.getItemGraphicEl(tn),an=rn&&rn.shape;return an&&Math.abs(Jr.isHorizontal()?an.height:an.width)||0};this._onRendered=function(){Qr._updateSortWithinSameData(Zr,en,Jr,Kr)},Kr.getZr().on("rendered",this._onRendered)}}},Gr.prototype._dataSort=function(Yr,Zr,Kr){var Qr=[];return Yr.each(Yr.mapDimension(Zr.dim),function(Jr,en){var tn=Kr(en);tn=tn??NaN,Qr.push({dataIndex:en,mappedValue:tn,ordinalNumber:Jr})}),Qr.sort(function(Jr,en){return en.mappedValue-Jr.mappedValue}),{ordinalNumbers:map$1(Qr,function(Jr){return Jr.ordinalNumber})}},Gr.prototype._isOrderChangedWithinSameData=function(Yr,Zr,Kr){for(var Qr=Kr.scale,Jr=Yr.mapDimension(Kr.dim),en=Number.MAX_VALUE,tn=0,rn=Qr.getOrdinalMeta().categories.length;tn<rn;++tn){var an=Yr.rawIndexOf(Jr,Qr.getRawOrdinalNumber(tn)),nn=an<0?Number.MIN_VALUE:Zr(Yr.indexOfRawIndex(an));if(nn>en)return!0;en=nn}return!1},Gr.prototype._isOrderDifferentInView=function(Yr,Zr){for(var Kr=Zr.scale,Qr=Kr.getExtent(),Jr=Math.max(0,Qr[0]),en=Math.min(Qr[1],Kr.getOrdinalMeta().categories.length-1);Jr<=en;++Jr)if(Yr.ordinalNumbers[Jr]!==Kr.getRawOrdinalNumber(Jr))return!0},Gr.prototype._updateSortWithinSameData=function(Yr,Zr,Kr,Qr){if(this._isOrderChangedWithinSameData(Yr,Zr,Kr)){var Jr=this._dataSort(Yr,Kr,Zr);this._isOrderDifferentInView(Jr,Kr)&&(this._removeOnRenderedListener(Qr),Qr.dispatchAction({type:"changeAxisOrder",componentType:Kr.dim+"Axis",axisId:Kr.index,sortInfo:Jr}))}},Gr.prototype._dispatchInitSort=function(Yr,Zr,Kr){var Qr=Zr.baseAxis,Jr=this._dataSort(Yr,Qr,function(en){return Yr.get(Yr.mapDimension(Zr.otherAxis.dim),en)});Kr.dispatchAction({type:"changeAxisOrder",componentType:Qr.dim+"Axis",isInitSort:!0,axisId:Qr.index,sortInfo:Jr})},Gr.prototype.remove=function(Yr,Zr){this._clear(this._model),this._removeOnRenderedListener(Zr)},Gr.prototype.dispose=function(Yr,Zr){this._removeOnRenderedListener(Zr)},Gr.prototype._removeOnRenderedListener=function(Yr){this._onRendered&&(Yr.getZr().off("rendered",this._onRendered),this._onRendered=null)},Gr.prototype._clear=function(Yr){var Zr=this.group,Kr=this._data;Yr&&Yr.isAnimationEnabled()&&Kr&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],Kr.eachItemGraphicEl(function(Qr){removeElementWithFadeOut(Qr,Yr,getECData(Qr).dataIndex)})):Zr.removeAll(),this._data=null,this._isFirstFrame=!0},Gr.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Gr.type="bar",Gr}(ChartView),clip={cartesian2d:function(Wr,Gr){var Yr=Gr.width<0?-1:1,Zr=Gr.height<0?-1:1;Yr<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Zr<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height);var Kr=Wr.x+Wr.width,Qr=Wr.y+Wr.height,Jr=mathMax$4(Gr.x,Wr.x),en=mathMin$4(Gr.x+Gr.width,Kr),tn=mathMax$4(Gr.y,Wr.y),rn=mathMin$4(Gr.y+Gr.height,Qr),an=en<Jr,nn=rn<tn;return Gr.x=an&&Jr>Kr?en:Jr,Gr.y=nn&&tn>Qr?rn:tn,Gr.width=an?0:en-Jr,Gr.height=nn?0:rn-tn,Yr<0&&(Gr.x+=Gr.width,Gr.width=-Gr.width),Zr<0&&(Gr.y+=Gr.height,Gr.height=-Gr.height),an||nn},polar:function(Wr,Gr){var Yr=Gr.r0<=Gr.r?1:-1;if(Yr<0){var Zr=Gr.r;Gr.r=Gr.r0,Gr.r0=Zr}var Kr=mathMin$4(Gr.r,Wr.r),Qr=mathMax$4(Gr.r0,Wr.r0);Gr.r=Kr,Gr.r0=Qr;var Jr=Kr-Qr<0;if(Yr<0){var Zr=Gr.r;Gr.r=Gr.r0,Gr.r0=Zr}return Jr}},elementCreator={cartesian2d:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn=new Rect$2({shape:extend({},Zr),z2:1});if(rn.__dataIndex=Yr,rn.name="item",Qr){var an=rn.shape,nn=Kr?"height":"width";an[nn]=0}return rn},polar:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){var rn=!Kr&&tn?SausagePath:Sector,an=new rn({shape:Zr,z2:1});an.name="item";var nn=createPolarPositionMapping(Kr);if(an.calculateTextPosition=createSectorCalculateTextPosition(nn,{isRoundCap:rn===SausagePath}),Qr){var sn=an.shape,ln=Kr?"r":"endAngle",un={};sn[ln]=Kr?Zr.r0:Zr.startAngle,un[ln]=Zr[ln],(en?updateProps$1:initProps)(an,{shape:un},Qr)}return an}};function shouldRealtimeSort(Wr,Gr){var Yr=Wr.get("realtimeSort",!0),Zr=Gr.getBaseAxis();if(Yr&&Zr.type==="category"&&Gr.type==="cartesian2d")return{baseAxis:Zr,otherAxis:Gr.getOtherAxis(Zr)}}function updateRealtimeAnimation(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn,rn;Qr?(rn={x:Zr.x,width:Zr.width},tn={y:Zr.y,height:Zr.height}):(rn={y:Zr.y,height:Zr.height},tn={x:Zr.x,width:Zr.width}),en||(Jr?updateProps$1:initProps)(Yr,{shape:tn},Gr,Kr,null);var an=Gr?Wr.baseAxis.model:null;(Jr?updateProps$1:initProps)(Yr,{shape:rn},an,Kr)}function checkPropertiesNotValid(Wr,Gr){for(var Yr=0;Yr<Gr.length;Yr++)if(!isFinite(Wr[Gr[Yr]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(Wr){return!checkPropertiesNotValid(Wr,rectPropties)},polar:function(Wr){return!checkPropertiesNotValid(Wr,polarPropties)}},getLayout={cartesian2d:function(Wr,Gr,Yr){var Zr=Wr.getItemLayout(Gr),Kr=Yr?getLineWidth(Yr,Zr):0,Qr=Zr.width>0?1:-1,Jr=Zr.height>0?1:-1;return{x:Zr.x+Qr*Kr/2,y:Zr.y+Jr*Kr/2,width:Zr.width-Qr*Kr,height:Zr.height-Jr*Kr}},polar:function(Wr,Gr,Yr){var Zr=Wr.getItemLayout(Gr);return{cx:Zr.cx,cy:Zr.cy,r0:Zr.r0,r:Zr.r,startAngle:Zr.startAngle,endAngle:Zr.endAngle,clockwise:Zr.clockwise}}};function isZeroOnPolar(Wr){return Wr.startAngle!=null&&Wr.endAngle!=null&&Wr.startAngle===Wr.endAngle}function createPolarPositionMapping(Wr){return function(Gr){var Yr=Gr?"Arc":"Angle";return function(Zr){switch(Zr){case"start":case"insideStart":case"end":case"insideEnd":return Zr+Yr;default:return Zr}}}(Wr)}function updateStyle(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Gr.getItemVisual(Yr,"style");if(en){if(!Qr.get("roundCap")){var an=Wr.shape,nn=getSectorCornerRadius(Zr.getModel("itemStyle"),an,!0);extend(an,nn),Wr.setShape(an)}}else{var rn=Zr.get(["itemStyle","borderRadius"])||0;Wr.setShape("r",rn)}Wr.useStyle(tn);var sn=Zr.getShallow("cursor");sn&&Wr.attr("cursor",sn);var ln=en?Jr?Kr.r>=Kr.r0?"endArc":"startArc":Kr.endAngle>=Kr.startAngle?"endAngle":"startAngle":Jr?Kr.height>=0?"bottom":"top":Kr.width>=0?"right":"left",un=getLabelStatesModels(Zr);setLabelStyle(Wr,un,{labelFetcher:Qr,labelDataIndex:Yr,defaultText:getDefaultLabel(Qr.getData(),Yr),inheritColor:tn.fill,defaultOpacity:tn.opacity,defaultOutsidePosition:ln});var cn=Wr.getTextContent();if(en&&cn){var hn=Zr.get(["label","position"]);Wr.textConfig.inside=hn==="middle"?!0:null,setSectorTextRotation(Wr,hn==="outside"?ln:hn,createPolarPositionMapping(Jr),Zr.get(["label","rotate"]))}setLabelValueAnimation(cn,un,Qr.getRawValue(Yr),function(fn){return getDefaultInterpolatedLabel(Gr,fn)});var dn=Zr.getModel(["emphasis"]);toggleHoverEmphasis(Wr,dn.get("focus"),dn.get("blurScope"),dn.get("disabled")),setStatesStylesFromModel(Wr,Zr),isZeroOnPolar(Kr)&&(Wr.style.fill="none",Wr.style.stroke="none",each$f(Wr.states,function(fn){fn.style&&(fn.style.fill=fn.style.stroke="none")}))}function getLineWidth(Wr,Gr){var Yr=Wr.get(["itemStyle","borderColor"]);if(!Yr||Yr==="none")return 0;var Zr=Wr.get(["itemStyle","borderWidth"])||0,Kr=isNaN(Gr.width)?Number.MAX_VALUE:Math.abs(Gr.width),Qr=isNaN(Gr.height)?Number.MAX_VALUE:Math.abs(Gr.height);return Math.min(Zr,Kr,Qr)}var LagePathShape=function(){function Wr(){}return Wr}(),LargePath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="largeBar",Zr}return Gr.prototype.getDefaultShape=function(){return new LagePathShape},Gr.prototype.buildPath=function(Yr,Zr){for(var Kr=Zr.points,Qr=this.baseDimIdx,Jr=1-this.baseDimIdx,en=[],tn=[],rn=this.barWidth,an=0;an<Kr.length;an+=3)tn[Qr]=rn,tn[Jr]=Kr[an+2],en[Qr]=Kr[an+Qr],en[Jr]=Kr[an+Jr],Yr.rect(en[0],en[1],tn[0],tn[1])},Gr}(Path);function createLarge$1(Wr,Gr,Yr,Zr){var Kr=Wr.getData(),Qr=Kr.getLayout("valueAxisHorizontal")?1:0,Jr=Kr.getLayout("largeDataIndices"),en=Kr.getLayout("size"),tn=Wr.getModel("backgroundStyle"),rn=Kr.getLayout("largeBackgroundPoints");if(rn){var an=new LargePath({shape:{points:rn},incremental:!!Zr,silent:!0,z2:0});an.baseDimIdx=Qr,an.largeDataIndices=Jr,an.barWidth=en,an.useStyle(tn.getItemStyle()),Gr.add(an),Yr&&Yr.push(an)}var nn=new LargePath({shape:{points:Kr.getLayout("largePoints")},incremental:!!Zr,ignoreCoarsePointer:!0,z2:1});nn.baseDimIdx=Qr,nn.largeDataIndices=Jr,nn.barWidth=en,Gr.add(nn),nn.useStyle(Kr.getVisual("style")),nn.style.stroke=null,getECData(nn).seriesIndex=Wr.seriesIndex,Wr.get("silent")||(nn.on("mousedown",largePathUpdateDataIndex),nn.on("mousemove",largePathUpdateDataIndex)),Yr&&Yr.push(nn)}var largePathUpdateDataIndex=throttle(function(Wr){var Gr=this,Yr=largePathFindDataIndex(Gr,Wr.offsetX,Wr.offsetY);getECData(Gr).dataIndex=Yr>=0?Yr:null},30,!1);function largePathFindDataIndex(Wr,Gr,Yr){for(var Zr=Wr.baseDimIdx,Kr=1-Zr,Qr=Wr.shape.points,Jr=Wr.largeDataIndices,en=[],tn=[],rn=Wr.barWidth,an=0,nn=Qr.length/3;an<nn;an++){var sn=an*3;if(tn[Zr]=rn,tn[Kr]=Qr[sn+2],en[Zr]=Qr[sn+Zr],en[Kr]=Qr[sn+Kr],tn[Kr]<0&&(en[Kr]+=tn[Kr],tn[Kr]=-tn[Kr]),Gr>=en[0]&&Gr<=en[0]+tn[0]&&Yr>=en[1]&&Yr<=en[1]+tn[1])return Jr[an]}return-1}function createBackgroundShape(Wr,Gr,Yr){if(isCoordinateSystemType(Yr,"cartesian2d")){var Zr=Gr,Kr=Yr.getArea();return{x:Wr?Zr.x:Kr.x,y:Wr?Kr.y:Zr.y,width:Wr?Zr.width:Kr.width,height:Wr?Kr.height:Zr.height}}else{var Kr=Yr.getArea(),Qr=Gr;return{cx:Kr.cx,cy:Kr.cy,r0:Wr?Kr.r0:Qr.r0,r:Wr?Kr.r:Qr.r,startAngle:Wr?Qr.startAngle:0,endAngle:Wr?Qr.endAngle:Math.PI*2}}}function createBackgroundEl(Wr,Gr,Yr){var Zr=Wr.type==="polar"?Sector:Rect$2;return new Zr({shape:createBackgroundShape(Gr,Yr,Wr),silent:!0,z2:0})}function install$P(Wr){Wr.registerChartView(BarView),Wr.registerSeriesModel(BarSeriesModel),Wr.registerLayout(Wr.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),Wr.registerLayout(Wr.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),Wr.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(Gr,Yr){var Zr=Gr.componentType||"series";Yr.eachComponent({mainType:Zr,query:Gr},function(Kr){Gr.sortInfo&&Kr.axis.setCategorySortInfo(Gr.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(Wr,Gr){return getLayoutRect(Wr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function getBasicPieLayout(Wr,Gr){var Yr=getViewRect$5(Wr,Gr),Zr=Wr.get("center"),Kr=Wr.get("radius");isArray$1(Kr)||(Kr=[0,Kr]);var Qr=parsePercent(Yr.width,Gr.getWidth()),Jr=parsePercent(Yr.height,Gr.getHeight()),en=Math.min(Qr,Jr),tn=parsePercent(Kr[0],en/2),rn=parsePercent(Kr[1],en/2),an,nn,sn=Wr.coordinateSystem;if(sn){var ln=sn.dataToPoint(Zr);an=ln[0]||0,nn=ln[1]||0}else isArray$1(Zr)||(Zr=[Zr,Zr]),an=parsePercent(Zr[0],Qr)+Yr.x,nn=parsePercent(Zr[1],Jr)+Yr.y;return{cx:an,cy:nn,r0:tn,r:rn}}function pieLayout(Wr,Gr,Yr){Gr.eachSeriesByType(Wr,function(Zr){var Kr=Zr.getData(),Qr=Kr.mapDimension("value"),Jr=getViewRect$5(Zr,Yr),en=getBasicPieLayout(Zr,Yr),tn=en.cx,rn=en.cy,an=en.r,nn=en.r0,sn=-Zr.get("startAngle")*RADIAN$2,ln=Zr.get("endAngle"),un=Zr.get("padAngle")*RADIAN$2;ln=ln==="auto"?sn-PI2:-ln*RADIAN$2;var cn=Zr.get("minAngle")*RADIAN$2,hn=cn+un,dn=0;Kr.each(Qr,function(En){!isNaN(En)&&dn++});var fn=Kr.getSum(Qr),pn=Math.PI/(fn||dn)*2,gn=Zr.get("clockwise"),vn=Zr.get("roseType"),mn=Zr.get("stillShowZeroSum"),yn=Kr.getDataExtent(Qr);yn[0]=0;var xn=gn?1:-1,bn=[sn,ln],Sn=xn*un/2;normalizeArcAngles(bn,!gn),sn=bn[0],ln=bn[1];var wn=getSeriesLayoutData(Zr);wn.startAngle=sn,wn.endAngle=ln,wn.clockwise=gn;var _n=Math.abs(ln-sn),An=_n,Cn=0,Tn=sn;if(Kr.setLayout({viewRect:Jr,r:an}),Kr.each(Qr,function(En,Ln){var In;if(isNaN(En)){Kr.setItemLayout(Ln,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:gn,cx:tn,cy:rn,r0:nn,r:vn?NaN:an});return}vn!=="area"?In=fn===0&&mn?pn:En*pn:In=_n/dn,In<hn?(In=hn,An-=hn):Cn+=En;var Pn=Tn+xn*In,Dn=0,kn=0;un>In?(Dn=Tn+xn*In/2,kn=Dn):(Dn=Tn+Sn,kn=Pn-Sn),Kr.setItemLayout(Ln,{angle:In,startAngle:Dn,endAngle:kn,clockwise:gn,cx:tn,cy:rn,r0:nn,r:vn?linearMap$2(En,yn,[nn,an]):an}),Tn=Pn}),An<PI2&&dn)if(An<=.001){var Mn=_n/dn;Kr.each(Qr,function(En,Ln){if(!isNaN(En)){var In=Kr.getItemLayout(Ln);In.angle=Mn;var Pn=0,Dn=0;Mn<un?(Pn=sn+xn*(Ln+1/2)*Mn,Dn=Pn):(Pn=sn+xn*Ln*Mn+Sn,Dn=sn+xn*(Ln+1)*Mn-Sn),In.startAngle=Pn,In.endAngle=Dn}})}else pn=An/Cn,Tn=sn,Kr.each(Qr,function(En,Ln){if(!isNaN(En)){var In=Kr.getItemLayout(Ln),Pn=In.angle===hn?hn:En*pn,Dn=0,kn=0;Pn<un?(Dn=Tn+xn*Pn/2,kn=Dn):(Dn=Tn+Sn,kn=Tn+xn*Pn-Sn),In.startAngle=Dn,In.endAngle=kn,Tn+=xn*Pn}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(Wr){return{seriesType:Wr,reset:function(Gr,Yr){var Zr=Yr.findComponents({mainType:"legend"});if(!(!Zr||!Zr.length)){var Kr=Gr.getData();Kr.filterSelf(function(Qr){for(var Jr=Kr.getName(Qr),en=0;en<Zr.length;en++)if(!Zr[en].isSelected(Jr))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){if(Wr.length<2)return;function an(cn){for(var hn=cn.rB,dn=hn*hn,fn=0;fn<cn.list.length;fn++){var pn=cn.list[fn],gn=Math.abs(pn.label.y-Yr),vn=Zr+pn.len,mn=vn*vn,yn=Math.sqrt(Math.abs((1-gn*gn/dn)*mn)),xn=Gr+(yn+pn.len2)*Kr,bn=xn-pn.label.x,Sn=pn.targetTextWidth-bn*Kr;constrainTextWidth(pn,Sn,!0),pn.label.x=xn}}function nn(cn){for(var hn={list:[],maxY:0},dn={list:[],maxY:0},fn=0;fn<cn.length;fn++)if(cn[fn].labelAlignTo==="none"){var pn=cn[fn],gn=pn.label.y>Yr?dn:hn,vn=Math.abs(pn.label.y-Yr);if(vn>=gn.maxY){var mn=pn.label.x-Gr-pn.len2*Kr,yn=Zr+pn.len,xn=Math.abs(mn)<yn?Math.sqrt(vn*vn/(1-mn*mn/yn/yn)):yn;gn.rB=xn,gn.maxY=vn}gn.list.push(pn)}an(hn),an(dn)}for(var sn=Wr.length,ln=0;ln<sn;ln++)if(Wr[ln].position==="outer"&&Wr[ln].labelAlignTo==="labelLine"){var un=Wr[ln].label.x-rn;Wr[ln].linePoints[1][0]+=un,Wr[ln].label.x=rn}shiftLayoutOnY(Wr,tn,tn+Jr)&&nn(Wr)}function avoidOverlap(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){for(var tn=[],rn=[],an=Number.MAX_VALUE,nn=-Number.MAX_VALUE,sn=0;sn<Wr.length;sn++){var ln=Wr[sn].label;isPositionCenter(Wr[sn])||(ln.x<Gr?(an=Math.min(an,ln.x),tn.push(Wr[sn])):(nn=Math.max(nn,ln.x),rn.push(Wr[sn])))}for(var sn=0;sn<Wr.length;sn++){var un=Wr[sn];if(!isPositionCenter(un)&&un.linePoints){if(un.labelStyleWidth!=null)continue;var ln=un.label,cn=un.linePoints,hn=void 0;un.labelAlignTo==="edge"?ln.x<Gr?hn=cn[2][0]-un.labelDistance-Jr-un.edgeDistance:hn=Jr+Kr-un.edgeDistance-cn[2][0]-un.labelDistance:un.labelAlignTo==="labelLine"?ln.x<Gr?hn=an-Jr-un.bleedMargin:hn=Jr+Kr-nn-un.bleedMargin:ln.x<Gr?hn=ln.x-Jr-un.bleedMargin:hn=Jr+Kr-ln.x-un.bleedMargin,un.targetTextWidth=hn,constrainTextWidth(un,hn)}}adjustSingleSide(rn,Gr,Yr,Zr,1,Kr,Qr,Jr,en,nn),adjustSingleSide(tn,Gr,Yr,Zr,-1,Kr,Qr,Jr,en,an);for(var sn=0;sn<Wr.length;sn++){var un=Wr[sn];if(!isPositionCenter(un)&&un.linePoints){var ln=un.label,cn=un.linePoints,dn=un.labelAlignTo==="edge",fn=ln.style.padding,pn=fn?fn[1]+fn[3]:0,gn=ln.style.backgroundColor?0:pn,vn=un.rect.width+gn,mn=cn[1][0]-cn[2][0];dn?ln.x<Gr?cn[2][0]=Jr+un.edgeDistance+vn+un.labelDistance:cn[2][0]=Jr+Kr-un.edgeDistance-vn-un.labelDistance:(ln.x<Gr?cn[2][0]=ln.x+un.labelDistance:cn[2][0]=ln.x-un.labelDistance,cn[1][0]=cn[2][0]+mn),cn[1][1]=cn[2][1]=ln.y}}}function constrainTextWidth(Wr,Gr,Yr){if(Yr===void 0&&(Yr=!1),Wr.labelStyleWidth==null){var Zr=Wr.label,Kr=Zr.style,Qr=Wr.rect,Jr=Kr.backgroundColor,en=Kr.padding,tn=en?en[1]+en[3]:0,rn=Kr.overflow,an=Qr.width+(Jr?0:tn);if(Gr<an||Yr){var nn=Qr.height;if(rn&&rn.match("break")){Zr.setStyle("backgroundColor",null),Zr.setStyle("width",Gr-tn);var sn=Zr.getBoundingRect();Zr.setStyle("width",Math.ceil(sn.width)),Zr.setStyle("backgroundColor",Jr)}else{var ln=Gr-tn,un=Gr<an?ln:Yr?ln>Wr.unconstrainedWidth?null:ln:null;Zr.setStyle("width",un)}var cn=Zr.getBoundingRect();Qr.width=cn.width;var hn=(Zr.style.margin||0)+2.1;Qr.height=cn.height+hn,Qr.y-=(Qr.height-nn)/2}}}function isPositionCenter(Wr){return Wr.position==="center"}function pieLabelLayout(Wr){var Gr=Wr.getData(),Yr=[],Zr,Kr,Qr=!1,Jr=(Wr.get("minShowLabelAngle")||0)*RADIAN$1,en=Gr.getLayout("viewRect"),tn=Gr.getLayout("r"),rn=en.width,an=en.x,nn=en.y,sn=en.height;function ln(mn){mn.ignore=!0}function un(mn){if(!mn.ignore)return!0;for(var yn in mn.states)if(mn.states[yn].ignore===!1)return!0;return!1}Gr.each(function(mn){var yn=Gr.getItemGraphicEl(mn),xn=yn.shape,bn=yn.getTextContent(),Sn=yn.getTextGuideLine(),wn=Gr.getItemModel(mn),_n=wn.getModel("label"),An=_n.get("position")||wn.get(["emphasis","label","position"]),Cn=_n.get("distanceToLabelLine"),Tn=_n.get("alignTo"),Mn=parsePercent(_n.get("edgeDistance"),rn),En=_n.get("bleedMargin"),Ln=wn.getModel("labelLine"),In=Ln.get("length");In=parsePercent(In,rn);var Pn=Ln.get("length2");if(Pn=parsePercent(Pn,rn),Math.abs(xn.endAngle-xn.startAngle)<Jr){each$f(bn.states,ln),bn.ignore=!0,Sn&&(each$f(Sn.states,ln),Sn.ignore=!0);return}if(un(bn)){var Dn=(xn.startAngle+xn.endAngle)/2,kn=Math.cos(Dn),Nn=Math.sin(Dn),Rn,Fn,Hn,Gn;Zr=xn.cx,Kr=xn.cy;var zn=An==="inside"||An==="inner";if(An==="center")Rn=xn.cx,Fn=xn.cy,Gn="center";else{var On=(zn?(xn.r+xn.r0)/2*kn:xn.r*kn)+Zr,Bn=(zn?(xn.r+xn.r0)/2*Nn:xn.r*Nn)+Kr;if(Rn=On+kn*3,Fn=Bn+Nn*3,!zn){var $n=On+kn*(In+tn-xn.r),Vn=Bn+Nn*(In+tn-xn.r),Yn=$n+(kn<0?-1:1)*Pn,Wn=Vn;Tn==="edge"?Rn=kn<0?an+Mn:an+rn-Mn:Rn=Yn+(kn<0?-Cn:Cn),Fn=Wn,Hn=[[On,Bn],[$n,Vn],[Yn,Wn]]}Gn=zn?"center":Tn==="edge"?kn>0?"right":"left":kn>0?"left":"right"}var Xn=Math.PI,qn=0,Un=_n.get("rotate");if(isNumber(Un))qn=Un*(Xn/180);else if(An==="center")qn=0;else if(Un==="radial"||Un===!0){var jn=kn<0?-Dn+Xn:-Dn;qn=jn}else if(Un==="tangential"&&An!=="outside"&&An!=="outer"){var Zn=Math.atan2(kn,Nn);Zn<0&&(Zn=Xn*2+Zn);var Kn=Nn>0;Kn&&(Zn=Xn+Zn),qn=Zn-Xn}if(Qr=!!qn,bn.x=Rn,bn.y=Fn,bn.rotation=qn,bn.setStyle({verticalAlign:"middle"}),zn){bn.setStyle({align:Gn});var eo=bn.states.select;eo&&(eo.x+=bn.x,eo.y+=bn.y)}else{var Qn=bn.getBoundingRect().clone();Qn.applyTransform(bn.getComputedTransform());var to=(bn.style.margin||0)+2.1;Qn.y-=to/2,Qn.height+=to,Yr.push({label:bn,labelLine:Sn,position:An,len:In,len2:Pn,minTurnAngle:Ln.get("minTurnAngle"),maxSurfaceAngle:Ln.get("maxSurfaceAngle"),surfaceNormal:new Point(kn,Nn),linePoints:Hn,textAlign:Gn,labelDistance:Cn,labelAlignTo:Tn,edgeDistance:Mn,bleedMargin:En,rect:Qn,unconstrainedWidth:Qn.width,labelStyleWidth:bn.style.width})}yn.setTextConfig({inside:zn})}}),!Qr&&Wr.get("avoidLabelOverlap")&&avoidOverlap(Yr,Zr,Kr,tn,rn,sn,an,nn);for(var cn=0;cn<Yr.length;cn++){var hn=Yr[cn],dn=hn.label,fn=hn.labelLine,pn=isNaN(dn.x)||isNaN(dn.y);if(dn){dn.setStyle({align:hn.textAlign}),pn&&(each$f(dn.states,ln),dn.ignore=!0);var gn=dn.states.select;gn&&(gn.x+=dn.x,gn.y+=dn.y)}if(fn){var vn=hn.linePoints;pn||!vn?(each$f(fn.states,ln),fn.ignore=!0):(limitTurnAngle(vn,hn.minTurnAngle),limitSurfaceAngle(vn,hn.surfaceNormal,hn.maxSurfaceAngle),fn.setShape({points:vn}),dn.__hostTarget.textGuideLineConfig={anchor:new Point(vn[0][0],vn[0][1])})}}}var PiePiece=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this)||this;Qr.z2=2;var Jr=new ZRText;return Qr.setTextContent(Jr),Qr.updateData(Yr,Zr,Kr,!0),Qr}return Gr.prototype.updateData=function(Yr,Zr,Kr,Qr){var Jr=this,en=Yr.hostModel,tn=Yr.getItemModel(Zr),rn=tn.getModel("emphasis"),an=Yr.getItemLayout(Zr),nn=extend(getSectorCornerRadius(tn.getModel("itemStyle"),an,!0),an);if(isNaN(nn.startAngle)){Jr.setShape(nn);return}if(Qr){Jr.setShape(nn);var sn=en.getShallow("animationType");en.ecModel.ssr?(initProps(Jr,{scaleX:0,scaleY:0},en,{dataIndex:Zr,isFrom:!0}),Jr.originX=nn.cx,Jr.originY=nn.cy):sn==="scale"?(Jr.shape.r=an.r0,initProps(Jr,{shape:{r:an.r}},en,Zr)):Kr!=null?(Jr.setShape({startAngle:Kr,endAngle:Kr}),initProps(Jr,{shape:{startAngle:an.startAngle,endAngle:an.endAngle}},en,Zr)):(Jr.shape.endAngle=an.startAngle,updateProps$1(Jr,{shape:{endAngle:an.endAngle}},en,Zr))}else saveOldStyle(Jr),updateProps$1(Jr,{shape:nn},en,Zr);Jr.useStyle(Yr.getItemVisual(Zr,"style")),setStatesStylesFromModel(Jr,tn);var ln=(an.startAngle+an.endAngle)/2,un=en.get("selectedOffset"),cn=Math.cos(ln)*un,hn=Math.sin(ln)*un,dn=tn.getShallow("cursor");dn&&Jr.attr("cursor",dn),this._updateLabel(en,Yr,Zr),Jr.ensureState("emphasis").shape=extend({r:an.r+(rn.get("scale")&&rn.get("scaleSize")||0)},getSectorCornerRadius(rn.getModel("itemStyle"),an)),extend(Jr.ensureState("select"),{x:cn,y:hn,shape:getSectorCornerRadius(tn.getModel(["select","itemStyle"]),an)}),extend(Jr.ensureState("blur"),{shape:getSectorCornerRadius(tn.getModel(["blur","itemStyle"]),an)});var fn=Jr.getTextGuideLine(),pn=Jr.getTextContent();fn&&extend(fn.ensureState("select"),{x:cn,y:hn}),extend(pn.ensureState("select"),{x:cn,y:hn}),toggleHoverEmphasis(this,rn.get("focus"),rn.get("blurScope"),rn.get("disabled"))},Gr.prototype._updateLabel=function(Yr,Zr,Kr){var Qr=this,Jr=Zr.getItemModel(Kr),en=Jr.getModel("labelLine"),tn=Zr.getItemVisual(Kr,"style"),rn=tn&&tn.fill,an=tn&&tn.opacity;setLabelStyle(Qr,getLabelStatesModels(Jr),{labelFetcher:Zr.hostModel,labelDataIndex:Kr,inheritColor:rn,defaultOpacity:an,defaultText:Yr.getFormattedLabel(Kr,"normal")||Zr.getName(Kr)});var nn=Qr.getTextContent();Qr.setTextConfig({position:null,rotation:null}),nn.attr({z2:10});var sn=Yr.get(["label","position"]);if(sn!=="outside"&&sn!=="outer")Qr.removeTextGuideLine();else{var ln=this.getTextGuideLine();ln||(ln=new Polyline$1,this.setTextGuideLine(ln)),setLabelLineStyle(this,getLabelLineStatesModels(Jr),{stroke:rn,opacity:retrieve3(en.get(["lineStyle","opacity"]),an,1)})}},Gr}(Sector),PieView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.ignoreLabelLineUpdate=!0,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){var Jr=Yr.getData(),en=this._data,tn=this.group,rn;if(!en&&Jr.count()>0){for(var an=Jr.getItemLayout(0),nn=1;isNaN(an&&an.startAngle)&&nn<Jr.count();++nn)an=Jr.getItemLayout(nn);an&&(rn=an.startAngle)}if(this._emptyCircleSector&&tn.remove(this._emptyCircleSector),Jr.count()===0&&Yr.get("showEmptyCircle")){var sn=getSeriesLayoutData(Yr),ln=new Sector({shape:extend(getBasicPieLayout(Yr,Kr),sn)});ln.useStyle(Yr.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=ln,tn.add(ln)}Jr.diff(en).add(function(un){var cn=new PiePiece(Jr,un,rn);Jr.setItemGraphicEl(un,cn),tn.add(cn)}).update(function(un,cn){var hn=en.getItemGraphicEl(cn);hn.updateData(Jr,un,rn),hn.off("click"),tn.add(hn),Jr.setItemGraphicEl(un,hn)}).remove(function(un){var cn=en.getItemGraphicEl(un);removeElementWithFadeOut(cn,Yr,un)}).execute(),pieLabelLayout(Yr),Yr.get("animationTypeUpdate")!=="expansion"&&(this._data=Jr)},Gr.prototype.dispose=function(){},Gr.prototype.containPoint=function(Yr,Zr){var Kr=Zr.getData(),Qr=Kr.getItemLayout(0);if(Qr){var Jr=Yr[0]-Qr.cx,en=Yr[1]-Qr.cy,tn=Math.sqrt(Jr*Jr+en*en);return tn<=Qr.r&&tn>=Qr.r0}},Gr.type="pie",Gr}(ChartView);function createSeriesDataSimply(Wr,Gr,Yr){Gr=isArray$1(Gr)&&{coordDimensions:Gr}||extend({encodeDefine:Wr.getEncode()},Gr);var Zr=Wr.getSource(),Kr=prepareSeriesDataSchema(Zr,Gr).dimensions,Qr=new SeriesData(Kr,Wr);return Qr.initData(Zr,Yr),Qr}var LegendVisualProvider=function(){function Wr(Gr,Yr){this._getDataWithEncodedVisual=Gr,this._getRawData=Yr}return Wr.prototype.getAllNames=function(){var Gr=this._getRawData();return Gr.mapArray(Gr.getName)},Wr.prototype.containName=function(Gr){var Yr=this._getRawData();return Yr.indexOfName(Gr)>=0},Wr.prototype.indexOfName=function(Gr){var Yr=this._getDataWithEncodedVisual();return Yr.indexOfName(Gr)},Wr.prototype.getItemVisual=function(Gr,Yr){var Zr=this._getDataWithEncodedVisual();return Zr.getItemVisual(Gr,Yr)},Wr}(),innerData=makeInner(),PieSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.init=function(Yr){Wr.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Yr)},Gr.prototype.mergeOption=function(){Wr.prototype.mergeOption.apply(this,arguments)},Gr.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},Gr.prototype.getDataParams=function(Yr){var Zr=this.getData(),Kr=innerData(Zr),Qr=Kr.seats;if(!Qr){var Jr=[];Zr.each(Zr.mapDimension("value"),function(tn){Jr.push(tn)}),Qr=Kr.seats=getPercentSeats(Jr,Zr.hostModel.get("percentPrecision"))}var en=Wr.prototype.getDataParams.call(this,Yr);return en.percent=Qr[Yr]||0,en.$vars.push("percent"),en},Gr.prototype._defaultLabelLine=function(Yr){defaultEmphasis(Yr,"labelLine",["show"]);var Zr=Yr.labelLine,Kr=Yr.emphasis.labelLine;Zr.show=Zr.show&&Yr.label.show,Kr.show=Kr.show&&Yr.emphasis.label.show},Gr.type="series.pie",Gr.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},Gr}(SeriesModel);function negativeDataFilter(Wr){return{seriesType:Wr,reset:function(Gr,Yr){var Zr=Gr.getData();Zr.filterSelf(function(Kr){var Qr=Zr.mapDimension("value"),Jr=Zr.get(Qr,Kr);return!(isNumber(Jr)&&!isNaN(Jr)&&Jr<0)})}}}function install$O(Wr){Wr.registerChartView(PieView),Wr.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",Wr.registerAction),Wr.registerLayout(curry$1(pieLayout,"pie")),Wr.registerProcessor(dataFilter$1("pie")),Wr.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Gr.prototype.getProgressive=function(){var Yr=this.option.progressive;return Yr??(this.option.large?5e3:this.get("progressive"))},Gr.prototype.getProgressiveThreshold=function(){var Yr=this.option.progressiveThreshold;return Yr??(this.option.large?1e4:this.get("progressiveThreshold"))},Gr.prototype.brushSelector=function(Yr,Zr,Kr){return Kr.point(Zr.getItemLayout(Yr))},Gr.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Gr.type="series.scatter",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},Gr}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function Wr(){}return Wr}(),LargeSymbolPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr._off=0,Zr.hoverDataIdx=-1,Zr}return Gr.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},Gr.prototype.reset=function(){this.notClear=!1,this._off=0},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.points,Qr=Zr.size,Jr=this.symbolProxy,en=Jr.shape,tn=Yr.getContext?Yr.getContext():Yr,rn=tn&&Qr[0]<BOOST_SIZE_THRESHOLD,an=this.softClipShape,nn;if(rn){this._ctx=tn;return}for(this._ctx=null,nn=this._off;nn<Kr.length;){var sn=Kr[nn++],ln=Kr[nn++];isNaN(sn)||isNaN(ln)||an&&!an.contain(sn,ln)||(en.x=sn-Qr[0]/2,en.y=ln-Qr[1]/2,en.width=Qr[0],en.height=Qr[1],Jr.buildPath(Yr,en,!0))}this.incremental&&(this._off=nn,this.notClear=!0)},Gr.prototype.afterBrush=function(){var Yr=this.shape,Zr=Yr.points,Kr=Yr.size,Qr=this._ctx,Jr=this.softClipShape,en;if(Qr){for(en=this._off;en<Zr.length;){var tn=Zr[en++],rn=Zr[en++];isNaN(tn)||isNaN(rn)||Jr&&!Jr.contain(tn,rn)||Qr.fillRect(tn-Kr[0]/2,rn-Kr[1]/2,Kr[0],Kr[1])}this.incremental&&(this._off=en,this.notClear=!0)}},Gr.prototype.findDataIndex=function(Yr,Zr){for(var Kr=this.shape,Qr=Kr.points,Jr=Kr.size,en=Math.max(Jr[0],4),tn=Math.max(Jr[1],4),rn=Qr.length/2-1;rn>=0;rn--){var an=rn*2,nn=Qr[an]-en/2,sn=Qr[an+1]-tn/2;if(Yr>=nn&&Zr>=sn&&Yr<=nn+en&&Zr<=sn+tn)return rn}return-1},Gr.prototype.contain=function(Yr,Zr){var Kr=this.transformCoordToLocal(Yr,Zr),Qr=this.getBoundingRect();if(Yr=Kr[0],Zr=Kr[1],Qr.contain(Yr,Zr)){var Jr=this.hoverDataIdx=this.findDataIndex(Yr,Zr);return Jr>=0}return this.hoverDataIdx=-1,!1},Gr.prototype.getBoundingRect=function(){var Yr=this._rect;if(!Yr){for(var Zr=this.shape,Kr=Zr.points,Qr=Zr.size,Jr=Qr[0],en=Qr[1],tn=1/0,rn=1/0,an=-1/0,nn=-1/0,sn=0;sn<Kr.length;){var ln=Kr[sn++],un=Kr[sn++];tn=Math.min(ln,tn),an=Math.max(ln,an),rn=Math.min(un,rn),nn=Math.max(un,nn)}Yr=this._rect=new BoundingRect(tn-Jr/2,rn-en/2,an-tn+Jr,nn-rn+en)}return Yr},Gr}(Path),LargeSymbolDraw=function(){function Wr(){this.group=new Group$3}return Wr.prototype.updateData=function(Gr,Yr){this._clear();var Zr=this._create();Zr.setShape({points:Gr.getLayout("points")}),this._setCommon(Zr,Gr,Yr)},Wr.prototype.updateLayout=function(Gr){var Yr=Gr.getLayout("points");this.group.eachChild(function(Zr){if(Zr.startIndex!=null){var Kr=(Zr.endIndex-Zr.startIndex)*2,Qr=Zr.startIndex*4*2;Yr=new Float32Array(Yr.buffer,Qr,Kr)}Zr.setShape("points",Yr),Zr.reset()})},Wr.prototype.incrementalPrepareUpdate=function(Gr){this._clear()},Wr.prototype.incrementalUpdate=function(Gr,Yr,Zr){var Kr=this._newAdded[0],Qr=Yr.getLayout("points"),Jr=Kr&&Kr.shape.points;if(Jr&&Jr.length<2e4){var en=Jr.length,tn=new Float32Array(en+Qr.length);tn.set(Jr),tn.set(Qr,en),Kr.endIndex=Gr.end,Kr.setShape({points:tn})}else{this._newAdded=[];var rn=this._create();rn.startIndex=Gr.start,rn.endIndex=Gr.end,rn.incremental=!0,rn.setShape({points:Qr}),this._setCommon(rn,Yr,Zr)}},Wr.prototype.eachRendered=function(Gr){this._newAdded[0]&&Gr(this._newAdded[0])},Wr.prototype._create=function(){var Gr=new LargeSymbolPath({cursor:"default"});return Gr.ignoreCoarsePointer=!0,this.group.add(Gr),this._newAdded.push(Gr),Gr},Wr.prototype._setCommon=function(Gr,Yr,Zr){var Kr=Yr.hostModel;Zr=Zr||{};var Qr=Yr.getVisual("symbolSize");Gr.setShape("size",Qr instanceof Array?Qr:[Qr,Qr]),Gr.softClipShape=Zr.clipShape||null,Gr.symbolProxy=createSymbol$1(Yr.getVisual("symbol"),0,0,0,0),Gr.setColor=Gr.symbolProxy.setColor;var Jr=Gr.shape.size[0]<BOOST_SIZE_THRESHOLD;Gr.useStyle(Kr.getModel("itemStyle").getItemStyle(Jr?["color","shadowBlur","shadowColor"]:["color"]));var en=Yr.getVisual("style"),tn=en&&en.fill;tn&&Gr.setColor(tn);var rn=getECData(Gr);rn.seriesIndex=Kr.seriesIndex,Gr.on("mousemove",function(an){rn.dataIndex=null;var nn=Gr.hoverDataIdx;nn>=0&&(rn.dataIndex=nn+(Gr.startIndex||0))})},Wr.prototype.remove=function(){this._clear()},Wr.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Wr}(),ScatterView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._updateSymbolDraw(Qr,Yr);Jr.updateData(Qr,{clipShape:this._getClipShape(Yr)}),this._finished=!0},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._updateSymbolDraw(Qr,Yr);Jr.incrementalPrepareUpdate(Qr),this._finished=!1},Gr.prototype.incrementalRender=function(Yr,Zr,Kr){this._symbolDraw.incrementalUpdate(Yr,Zr.getData(),{clipShape:this._getClipShape(Zr)}),this._finished=Yr.end===Zr.getData().count()},Gr.prototype.updateTransform=function(Yr,Zr,Kr){var Qr=Yr.getData();if(this.group.dirty(),!this._finished||Qr.count()>1e4)return{update:!0};var Jr=pointsLayout("").reset(Yr,Zr,Kr);Jr.progress&&Jr.progress({start:0,end:Qr.count(),count:Qr.count()},Qr),this._symbolDraw.updateLayout(Qr)},Gr.prototype.eachRendered=function(Yr){this._symbolDraw&&this._symbolDraw.eachRendered(Yr)},Gr.prototype._getClipShape=function(Yr){if(Yr.get("clip",!0)){var Zr=Yr.coordinateSystem;return Zr&&Zr.getArea&&Zr.getArea(.1)}},Gr.prototype._updateSymbolDraw=function(Yr,Zr){var Kr=this._symbolDraw,Qr=Zr.pipelineContext,Jr=Qr.large;return(!Kr||Jr!==this._isLargeDraw)&&(Kr&&Kr.remove(),Kr=this._symbolDraw=Jr?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=Jr,this.group.removeAll()),this.group.add(Kr.group),Kr},Gr.prototype.remove=function(Yr,Zr){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Gr.prototype.dispose=function(){},Gr.type="scatter",Gr}(ChartView),GridModel=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.type="grid",Gr.dependencies=["xAxis","yAxis"],Gr.layoutMode="box",Gr.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},Gr}(ComponentModel),CartesianAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},Gr.type="cartesian2dAxis",Gr}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(Wr,Gr,Yr,Zr){each$f(AXIS_TYPES,function(Kr,Qr){var Jr=merge(merge({},axisDefault[Qr],!0),Zr,!0),en=function(tn){__extends(rn,tn);function rn(){var an=tn!==null&&tn.apply(this,arguments)||this;return an.type=Gr+"Axis."+Qr,an}return rn.prototype.mergeDefaultAndTheme=function(an,nn){var sn=fetchLayoutMode(this),ln=sn?getLayoutParams(an):{},un=nn.getTheme();merge(an,un.get(Qr+"Axis")),merge(an,this.getDefaultOption()),an.type=getAxisType(an),sn&&mergeLayoutParam(an,ln,sn)},rn.prototype.optionUpdated=function(){var an=this.option;an.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},rn.prototype.getCategories=function(an){var nn=this.option;if(nn.type==="category")return an?nn.data:this.__ordinalMeta.categories},rn.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},rn.type=Gr+"Axis."+Qr,rn.defaultOption=Jr,rn}(Yr);Wr.registerComponentModel(en)}),Wr.registerSubTypeDefaulter(Gr+"Axis",getAxisType)}function getAxisType(Wr){return Wr.type||(Wr.data?"category":"value")}var Cartesian=function(){function Wr(Gr){this.type="cartesian",this._dimList=[],this._axes={},this.name=Gr||""}return Wr.prototype.getAxis=function(Gr){return this._axes[Gr]},Wr.prototype.getAxes=function(){return map$1(this._dimList,function(Gr){return this._axes[Gr]},this)},Wr.prototype.getAxesByScale=function(Gr){return Gr=Gr.toLowerCase(),filter(this.getAxes(),function(Yr){return Yr.scale.type===Gr})},Wr.prototype.addAxis=function(Gr){var Yr=Gr.dim;this._axes[Yr]=Gr,this._dimList.push(Yr)},Wr}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(Wr){return Wr.type==="interval"||Wr.type==="time"}var Cartesian2D=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="cartesian2d",Yr.dimensions=cartesian2DDimensions,Yr}return Gr.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var Yr=this.getAxis("x").scale,Zr=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(Yr)||!canCalculateAffineTransform(Zr))){var Kr=Yr.getExtent(),Qr=Zr.getExtent(),Jr=this.dataToPoint([Kr[0],Qr[0]]),en=this.dataToPoint([Kr[1],Qr[1]]),tn=Kr[1]-Kr[0],rn=Qr[1]-Qr[0];if(!(!tn||!rn)){var an=(en[0]-Jr[0])/tn,nn=(en[1]-Jr[1])/rn,sn=Jr[0]-Kr[0]*an,ln=Jr[1]-Qr[0]*nn,un=this._transform=[an,0,0,nn,sn,ln];this._invTransform=invert([],un)}}},Gr.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Gr.prototype.containPoint=function(Yr){var Zr=this.getAxis("x"),Kr=this.getAxis("y");return Zr.contain(Zr.toLocalCoord(Yr[0]))&&Kr.contain(Kr.toLocalCoord(Yr[1]))},Gr.prototype.containData=function(Yr){return this.getAxis("x").containData(Yr[0])&&this.getAxis("y").containData(Yr[1])},Gr.prototype.containZone=function(Yr,Zr){var Kr=this.dataToPoint(Yr),Qr=this.dataToPoint(Zr),Jr=this.getArea(),en=new BoundingRect(Kr[0],Kr[1],Qr[0]-Kr[0],Qr[1]-Kr[1]);return Jr.intersect(en)},Gr.prototype.dataToPoint=function(Yr,Zr,Kr){Kr=Kr||[];var Qr=Yr[0],Jr=Yr[1];if(this._transform&&Qr!=null&&isFinite(Qr)&&Jr!=null&&isFinite(Jr))return applyTransform$1(Kr,Yr,this._transform);var en=this.getAxis("x"),tn=this.getAxis("y");return Kr[0]=en.toGlobalCoord(en.dataToCoord(Qr,Zr)),Kr[1]=tn.toGlobalCoord(tn.dataToCoord(Jr,Zr)),Kr},Gr.prototype.clampData=function(Yr,Zr){var Kr=this.getAxis("x").scale,Qr=this.getAxis("y").scale,Jr=Kr.getExtent(),en=Qr.getExtent(),tn=Kr.parse(Yr[0]),rn=Qr.parse(Yr[1]);return Zr=Zr||[],Zr[0]=Math.min(Math.max(Math.min(Jr[0],Jr[1]),tn),Math.max(Jr[0],Jr[1])),Zr[1]=Math.min(Math.max(Math.min(en[0],en[1]),rn),Math.max(en[0],en[1])),Zr},Gr.prototype.pointToData=function(Yr,Zr){var Kr=[];if(this._invTransform)return applyTransform$1(Kr,Yr,this._invTransform);var Qr=this.getAxis("x"),Jr=this.getAxis("y");return Kr[0]=Qr.coordToData(Qr.toLocalCoord(Yr[0]),Zr),Kr[1]=Jr.coordToData(Jr.toLocalCoord(Yr[1]),Zr),Kr},Gr.prototype.getOtherAxis=function(Yr){return this.getAxis(Yr.dim==="x"?"y":"x")},Gr.prototype.getArea=function(Yr){Yr=Yr||0;var Zr=this.getAxis("x").getGlobalExtent(),Kr=this.getAxis("y").getGlobalExtent(),Qr=Math.min(Zr[0],Zr[1])-Yr,Jr=Math.min(Kr[0],Kr[1])-Yr,en=Math.max(Zr[0],Zr[1])-Qr+Yr,tn=Math.max(Kr[0],Kr[1])-Jr+Yr;return new BoundingRect(Qr,Jr,en,tn)},Gr}(Cartesian),Axis2D=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr){var en=Wr.call(this,Yr,Zr,Kr)||this;return en.index=0,en.type=Qr||"value",en.position=Jr||"bottom",en}return Gr.prototype.isHorizontal=function(){var Yr=this.position;return Yr==="top"||Yr==="bottom"},Gr.prototype.getGlobalExtent=function(Yr){var Zr=this.getExtent();return Zr[0]=this.toGlobalCoord(Zr[0]),Zr[1]=this.toGlobalCoord(Zr[1]),Yr&&Zr[0]>Zr[1]&&Zr.reverse(),Zr},Gr.prototype.pointToData=function(Yr,Zr){return this.coordToData(this.toLocalCoord(Yr[this.dim==="x"?0:1]),Zr)},Gr.prototype.setCategorySortInfo=function(Yr){if(this.type!=="category")return!1;this.model.option.categorySortInfo=Yr,this.scale.setSortInfo(Yr)},Gr}(Axis);function layout$2(Wr,Gr,Yr){Yr=Yr||{};var Zr=Wr.coordinateSystem,Kr=Gr.axis,Qr={},Jr=Kr.getAxesOnZeroOf()[0],en=Kr.position,tn=Jr?"onZero":en,rn=Kr.dim,an=Zr.getRect(),nn=[an.x,an.x+an.width,an.y,an.y+an.height],sn={left:0,right:1,top:0,bottom:1,onZero:2},ln=Gr.get("offset")||0,un=rn==="x"?[nn[2]-ln,nn[3]+ln]:[nn[0]-ln,nn[1]+ln];if(Jr){var cn=Jr.toGlobalCoord(Jr.dataToCoord(0));un[sn.onZero]=Math.max(Math.min(cn,un[1]),un[0])}Qr.position=[rn==="y"?un[sn[tn]]:nn[0],rn==="x"?un[sn[tn]]:nn[3]],Qr.rotation=Math.PI/2*(rn==="x"?0:1);var hn={top:-1,bottom:1,left:-1,right:1};Qr.labelDirection=Qr.tickDirection=Qr.nameDirection=hn[en],Qr.labelOffset=Jr?un[sn[en]]-un[sn.onZero]:0,Gr.get(["axisTick","inside"])&&(Qr.tickDirection=-Qr.tickDirection),retrieve(Yr.labelInside,Gr.get(["axisLabel","inside"]))&&(Qr.labelDirection=-Qr.labelDirection);var dn=Gr.get(["axisLabel","rotate"]);return Qr.labelRotate=tn==="top"?-dn:dn,Qr.z2=1,Qr}function isCartesian2DSeries(Wr){return Wr.get("coordinateSystem")==="cartesian2d"}function findAxisModels(Wr){var Gr={xAxisModel:null,yAxisModel:null};return each$f(Gr,function(Yr,Zr){var Kr=Zr.replace(/Model$/,""),Qr=Wr.getReferringComponents(Kr,SINGLE_REFERRING).models[0];Gr[Zr]=Qr}),Gr}var mathLog=Math.log;function alignScaleTicks(Wr,Gr,Yr){var Zr=IntervalScale.prototype,Kr=Zr.getTicks.call(Yr),Qr=Zr.getTicks.call(Yr,!0),Jr=Kr.length-1,en=Zr.getInterval.call(Yr),tn=getScaleExtent(Wr,Gr),rn=tn.extent,an=tn.fixMin,nn=tn.fixMax;if(Wr.type==="log"){var sn=mathLog(Wr.base);rn=[mathLog(rn[0])/sn,mathLog(rn[1])/sn]}Wr.setExtent(rn[0],rn[1]),Wr.calcNiceExtent({splitNumber:Jr,fixMin:an,fixMax:nn});var ln=Zr.getExtent.call(Wr);an&&(rn[0]=ln[0]),nn&&(rn[1]=ln[1]);var un=Zr.getInterval.call(Wr),cn=rn[0],hn=rn[1];if(an&&nn)un=(hn-cn)/Jr;else if(an)for(hn=rn[0]+un*Jr;hn<rn[1]&&isFinite(hn)&&isFinite(rn[1]);)un=increaseInterval(un),hn=rn[0]+un*Jr;else if(nn)for(cn=rn[1]-un*Jr;cn>rn[0]&&isFinite(cn)&&isFinite(rn[0]);)un=increaseInterval(un),cn=rn[1]-un*Jr;else{var dn=Wr.getTicks().length-1;dn>Jr&&(un=increaseInterval(un));var fn=un*Jr;hn=Math.ceil(rn[1]/un)*un,cn=round$3(hn-fn),cn<0&&rn[0]>=0?(cn=0,hn=round$3(fn)):hn>0&&rn[1]<=0&&(hn=0,cn=-round$3(fn))}var pn=(Kr[0].value-Qr[0].value)/en,gn=(Kr[Jr].value-Qr[Jr].value)/en;Zr.setExtent.call(Wr,cn+un*pn,hn+un*gn),Zr.setInterval.call(Wr,un),(pn||gn)&&Zr.setNiceExtent.call(Wr,cn+un,hn-un)}var Grid=function(){function Wr(Gr,Yr,Zr){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(Gr,Yr,Zr),this.model=Gr}return Wr.prototype.getRect=function(){return this._rect},Wr.prototype.update=function(Gr,Yr){var Zr=this._axesMap;this._updateScale(Gr,this.model);function Kr(Jr){var en,tn=keys(Jr),rn=tn.length;if(rn){for(var an=[],nn=rn-1;nn>=0;nn--){var sn=+tn[nn],ln=Jr[sn],un=ln.model,cn=ln.scale;isIntervalOrLogScale(cn)&&un.get("alignTicks")&&un.get("interval")==null?an.push(ln):(niceScaleExtent(cn,un),isIntervalOrLogScale(cn)&&(en=ln))}an.length&&(en||(en=an.pop(),niceScaleExtent(en.scale,en.model)),each$f(an,function(hn){alignScaleTicks(hn.scale,hn.model,en.scale)}))}}Kr(Zr.x),Kr(Zr.y);var Qr={};each$f(Zr.x,function(Jr){fixAxisOnZero(Zr,"y",Jr,Qr)}),each$f(Zr.y,function(Jr){fixAxisOnZero(Zr,"x",Jr,Qr)}),this.resize(this.model,Yr)},Wr.prototype.resize=function(Gr,Yr,Zr){var Kr=Gr.getBoxLayoutParams(),Qr=!Zr&&Gr.get("containLabel"),Jr=getLayoutRect(Kr,{width:Yr.getWidth(),height:Yr.getHeight()});this._rect=Jr;var en=this._axesList;tn(),Qr&&(each$f(en,function(rn){if(!rn.model.get(["axisLabel","inside"])){var an=estimateLabelUnionRect(rn);if(an){var nn=rn.isHorizontal()?"height":"width",sn=rn.model.get(["axisLabel","margin"]);Jr[nn]-=an[nn]+sn,rn.position==="top"?Jr.y+=an.height+sn:rn.position==="left"&&(Jr.x+=an.width+sn)}}}),tn()),each$f(this._coordsList,function(rn){rn.calcAffineTransform()});function tn(){each$f(en,function(rn){var an=rn.isHorizontal(),nn=an?[0,Jr.width]:[0,Jr.height],sn=rn.inverse?1:0;rn.setExtent(nn[sn],nn[1-sn]),updateAxisTransform(rn,an?Jr.x:Jr.y)})}},Wr.prototype.getAxis=function(Gr,Yr){var Zr=this._axesMap[Gr];if(Zr!=null)return Zr[Yr||0]},Wr.prototype.getAxes=function(){return this._axesList.slice()},Wr.prototype.getCartesian=function(Gr,Yr){if(Gr!=null&&Yr!=null){var Zr="x"+Gr+"y"+Yr;return this._coordsMap[Zr]}isObject$3(Gr)&&(Yr=Gr.yAxisIndex,Gr=Gr.xAxisIndex);for(var Kr=0,Qr=this._coordsList;Kr<Qr.length;Kr++)if(Qr[Kr].getAxis("x").index===Gr||Qr[Kr].getAxis("y").index===Yr)return Qr[Kr]},Wr.prototype.getCartesians=function(){return this._coordsList.slice()},Wr.prototype.convertToPixel=function(Gr,Yr,Zr){var Kr=this._findConvertTarget(Yr);return Kr.cartesian?Kr.cartesian.dataToPoint(Zr):Kr.axis?Kr.axis.toGlobalCoord(Kr.axis.dataToCoord(Zr)):null},Wr.prototype.convertFromPixel=function(Gr,Yr,Zr){var Kr=this._findConvertTarget(Yr);return Kr.cartesian?Kr.cartesian.pointToData(Zr):Kr.axis?Kr.axis.coordToData(Kr.axis.toLocalCoord(Zr)):null},Wr.prototype._findConvertTarget=function(Gr){var Yr=Gr.seriesModel,Zr=Gr.xAxisModel||Yr&&Yr.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],Kr=Gr.yAxisModel||Yr&&Yr.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],Qr=Gr.gridModel,Jr=this._coordsList,en,tn;if(Yr)en=Yr.coordinateSystem,indexOf(Jr,en)<0&&(en=null);else if(Zr&&Kr)en=this.getCartesian(Zr.componentIndex,Kr.componentIndex);else if(Zr)tn=this.getAxis("x",Zr.componentIndex);else if(Kr)tn=this.getAxis("y",Kr.componentIndex);else if(Qr){var rn=Qr.coordinateSystem;rn===this&&(en=this._coordsList[0])}return{cartesian:en,axis:tn}},Wr.prototype.containPoint=function(Gr){var Yr=this._coordsList[0];if(Yr)return Yr.containPoint(Gr)},Wr.prototype._initCartesian=function(Gr,Yr,Zr){var Kr=this,Qr=this,Jr={left:!1,right:!1,top:!1,bottom:!1},en={x:{},y:{}},tn={x:0,y:0};if(Yr.eachComponent("xAxis",rn("x"),this),Yr.eachComponent("yAxis",rn("y"),this),!tn.x||!tn.y){this._axesMap={},this._axesList=[];return}this._axesMap=en,each$f(en.x,function(an,nn){each$f(en.y,function(sn,ln){var un="x"+nn+"y"+ln,cn=new Cartesian2D(un);cn.master=Kr,cn.model=Gr,Kr._coordsMap[un]=cn,Kr._coordsList.push(cn),cn.addAxis(an),cn.addAxis(sn)})});function rn(an){return function(nn,sn){if(isAxisUsedInTheGrid(nn,Gr)){var ln=nn.get("position");an==="x"?ln!=="top"&&ln!=="bottom"&&(ln=Jr.bottom?"top":"bottom"):ln!=="left"&&ln!=="right"&&(ln=Jr.left?"right":"left"),Jr[ln]=!0;var un=new Axis2D(an,createScaleByModel$1(nn),[0,0],nn.get("type"),ln),cn=un.type==="category";un.onBand=cn&&nn.get("boundaryGap"),un.inverse=nn.get("inverse"),nn.axis=un,un.model=nn,un.grid=Qr,un.index=sn,Qr._axesList.push(un),en[an][sn]=un,tn[an]++}}}},Wr.prototype._updateScale=function(Gr,Yr){each$f(this._axesList,function(Kr){if(Kr.scale.setExtent(1/0,-1/0),Kr.type==="category"){var Qr=Kr.model.get("categorySortInfo");Kr.scale.setSortInfo(Qr)}}),Gr.eachSeries(function(Kr){if(isCartesian2DSeries(Kr)){var Qr=findAxisModels(Kr),Jr=Qr.xAxisModel,en=Qr.yAxisModel;if(!isAxisUsedInTheGrid(Jr,Yr)||!isAxisUsedInTheGrid(en,Yr))return;var tn=this.getCartesian(Jr.componentIndex,en.componentIndex),rn=Kr.getData(),an=tn.getAxis("x"),nn=tn.getAxis("y");Zr(rn,an),Zr(rn,nn)}},this);function Zr(Kr,Qr){each$f(getDataDimensionsOnAxis(Kr,Qr.dim),function(Jr){Qr.scale.unionExtentFromData(Kr,Jr)})}},Wr.prototype.getTooltipAxes=function(Gr){var Yr=[],Zr=[];return each$f(this.getCartesians(),function(Kr){var Qr=Gr!=null&&Gr!=="auto"?Kr.getAxis(Gr):Kr.getBaseAxis(),Jr=Kr.getOtherAxis(Qr);indexOf(Yr,Qr)<0&&Yr.push(Qr),indexOf(Zr,Jr)<0&&Zr.push(Jr)}),{baseAxes:Yr,otherAxes:Zr}},Wr.create=function(Gr,Yr){var Zr=[];return Gr.eachComponent("grid",function(Kr,Qr){var Jr=new Wr(Kr,Gr,Yr);Jr.name="grid_"+Qr,Jr.resize(Kr,Yr,!0),Kr.coordinateSystem=Jr,Zr.push(Jr)}),Gr.eachSeries(function(Kr){if(isCartesian2DSeries(Kr)){var Qr=findAxisModels(Kr),Jr=Qr.xAxisModel,en=Qr.yAxisModel,tn=Jr.getCoordSysModel(),rn=tn.coordinateSystem;Kr.coordinateSystem=rn.getCartesian(Jr.componentIndex,en.componentIndex)}}),Zr},Wr.dimensions=cartesian2DDimensions,Wr}();function isAxisUsedInTheGrid(Wr,Gr){return Wr.getCoordSysModel()===Gr}function fixAxisOnZero(Wr,Gr,Yr,Zr){Yr.getAxesOnZeroOf=function(){return Qr?[Qr]:[]};var Kr=Wr[Gr],Qr,Jr=Yr.model,en=Jr.get(["axisLine","onZero"]),tn=Jr.get(["axisLine","onZeroAxisIndex"]);if(!en)return;if(tn!=null)canOnZeroToAxis(Kr[tn])&&(Qr=Kr[tn]);else for(var rn in Kr)if(Kr.hasOwnProperty(rn)&&canOnZeroToAxis(Kr[rn])&&!Zr[an(Kr[rn])]){Qr=Kr[rn];break}Qr&&(Zr[an(Qr)]=!0);function an(nn){return nn.dim+"_"+nn.index}}function canOnZeroToAxis(Wr){return Wr&&Wr.type!=="category"&&Wr.type!=="time"&&ifAxisCrossZero(Wr)}function updateAxisTransform(Wr,Gr){var Yr=Wr.getExtent(),Zr=Yr[0]+Yr[1];Wr.toGlobalCoord=Wr.dim==="x"?function(Kr){return Kr+Gr}:function(Kr){return Zr-Kr+Gr},Wr.toLocalCoord=Wr.dim==="x"?function(Kr){return Kr-Gr}:function(Kr){return Zr-Kr+Gr}}var PI$3=Math.PI,AxisBuilder=function(){function Wr(Gr,Yr){this.group=new Group$3,this.opt=Yr,this.axisModel=Gr,defaults(Yr,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var Zr=new Group$3({x:Yr.position[0],y:Yr.position[1],rotation:Yr.rotation});Zr.updateTransform(),this._transformGroup=Zr}return Wr.prototype.hasBuilder=function(Gr){return!!builders[Gr]},Wr.prototype.add=function(Gr){builders[Gr](this.opt,this.axisModel,this.group,this._transformGroup)},Wr.prototype.getGroup=function(){return this.group},Wr.innerTextLayout=function(Gr,Yr,Zr){var Kr=remRadian(Yr-Gr),Qr,Jr;return isRadianAroundZero(Kr)?(Jr=Zr>0?"top":"bottom",Qr="center"):isRadianAroundZero(Kr-PI$3)?(Jr=Zr>0?"bottom":"top",Qr="center"):(Jr="middle",Kr>0&&Kr<PI$3?Qr=Zr>0?"right":"left":Qr=Zr>0?"left":"right"),{rotation:Kr,textAlign:Qr,textVerticalAlign:Jr}},Wr.makeAxisEventDataBase=function(Gr){var Yr={componentType:Gr.mainType,componentIndex:Gr.componentIndex};return Yr[Gr.mainType+"Index"]=Gr.componentIndex,Yr},Wr.isLabelSilent=function(Gr){var Yr=Gr.get("tooltip");return Gr.get("silent")||!(Gr.get("triggerEvent")||Yr&&Yr.show)},Wr}(),builders={axisLine:function(Wr,Gr,Yr,Zr){var Kr=Gr.get(["axisLine","show"]);if(Kr==="auto"&&Wr.handleAutoShown&&(Kr=Wr.handleAutoShown("axisLine")),!!Kr){var Qr=Gr.axis.getExtent(),Jr=Zr.transform,en=[Qr[0],0],tn=[Qr[1],0],rn=en[0]>tn[0];Jr&&(applyTransform$1(en,en,Jr),applyTransform$1(tn,tn,Jr));var an=extend({lineCap:"round"},Gr.getModel(["axisLine","lineStyle"]).getLineStyle()),nn=new Line$1({shape:{x1:en[0],y1:en[1],x2:tn[0],y2:tn[1]},style:an,strokeContainThreshold:Wr.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(nn.shape,nn.style.lineWidth),nn.anid="line",Yr.add(nn);var sn=Gr.get(["axisLine","symbol"]);if(sn!=null){var ln=Gr.get(["axisLine","symbolSize"]);isString(sn)&&(sn=[sn,sn]),(isString(ln)||isNumber(ln))&&(ln=[ln,ln]);var un=normalizeSymbolOffset(Gr.get(["axisLine","symbolOffset"])||0,ln),cn=ln[0],hn=ln[1];each$f([{rotate:Wr.rotation+Math.PI/2,offset:un[0],r:0},{rotate:Wr.rotation-Math.PI/2,offset:un[1],r:Math.sqrt((en[0]-tn[0])*(en[0]-tn[0])+(en[1]-tn[1])*(en[1]-tn[1]))}],function(dn,fn){if(sn[fn]!=="none"&&sn[fn]!=null){var pn=createSymbol$1(sn[fn],-cn/2,-hn/2,cn,hn,an.stroke,!0),gn=dn.r+dn.offset,vn=rn?tn:en;pn.attr({rotation:dn.rotate,x:vn[0]+gn*Math.cos(Wr.rotation),y:vn[1]-gn*Math.sin(Wr.rotation),silent:!0,z2:11}),Yr.add(pn)}})}}},axisTickLabel:function(Wr,Gr,Yr,Zr){var Kr=buildAxisMajorTicks(Yr,Zr,Gr,Wr),Qr=buildAxisLabel(Yr,Zr,Gr,Wr);if(fixMinMaxLabelShow(Gr,Qr,Kr),buildAxisMinorTicks(Yr,Zr,Gr,Wr.tickDirection),Gr.get(["axisLabel","hideOverlap"])){var Jr=prepareLayoutList(map$1(Qr,function(en){return{label:en,priority:en.z2,defaultAttr:{ignore:en.ignore}}}));hideOverlap(Jr)}},axisName:function(Wr,Gr,Yr,Zr){var Kr=retrieve(Wr.axisName,Gr.get("name"));if(Kr){var Qr=Gr.get("nameLocation"),Jr=Wr.nameDirection,en=Gr.getModel("nameTextStyle"),tn=Gr.get("nameGap")||0,rn=Gr.axis.getExtent(),an=rn[0]>rn[1]?-1:1,nn=[Qr==="start"?rn[0]-an*tn:Qr==="end"?rn[1]+an*tn:(rn[0]+rn[1])/2,isNameLocationCenter(Qr)?Wr.labelOffset+Jr*tn:0],sn,ln=Gr.get("nameRotate");ln!=null&&(ln=ln*PI$3/180);var un;isNameLocationCenter(Qr)?sn=AxisBuilder.innerTextLayout(Wr.rotation,ln??Wr.rotation,Jr):(sn=endTextLayout(Wr.rotation,Qr,ln||0,rn),un=Wr.axisNameAvailableWidth,un!=null&&(un=Math.abs(un/Math.sin(sn.rotation)),!isFinite(un)&&(un=null)));var cn=en.getFont(),hn=Gr.get("nameTruncate",!0)||{},dn=hn.ellipsis,fn=retrieve(Wr.nameTruncateMaxWidth,hn.maxWidth,un),pn=new ZRText({x:nn[0],y:nn[1],rotation:sn.rotation,silent:AxisBuilder.isLabelSilent(Gr),style:createTextStyle(en,{text:Kr,font:cn,overflow:"truncate",width:fn,ellipsis:dn,fill:en.getTextColor()||Gr.get(["axisLine","lineStyle","color"]),align:en.get("align")||sn.textAlign,verticalAlign:en.get("verticalAlign")||sn.textVerticalAlign}),z2:1});if(setTooltipConfig({el:pn,componentModel:Gr,itemName:Kr}),pn.__fullText=Kr,pn.anid="name",Gr.get("triggerEvent")){var gn=AxisBuilder.makeAxisEventDataBase(Gr);gn.targetType="axisName",gn.name=Kr,getECData(pn).eventData=gn}Zr.add(pn),pn.updateTransform(),Yr.add(pn),pn.decomposeTransform()}}};function endTextLayout(Wr,Gr,Yr,Zr){var Kr=remRadian(Yr-Wr),Qr,Jr,en=Zr[0]>Zr[1],tn=Gr==="start"&&!en||Gr!=="start"&&en;return isRadianAroundZero(Kr-PI$3/2)?(Jr=tn?"bottom":"top",Qr="center"):isRadianAroundZero(Kr-PI$3*1.5)?(Jr=tn?"top":"bottom",Qr="center"):(Jr="middle",Kr<PI$3*1.5&&Kr>PI$3/2?Qr=tn?"left":"right":Qr=tn?"right":"left"),{rotation:Kr,textAlign:Qr,textVerticalAlign:Jr}}function fixMinMaxLabelShow(Wr,Gr,Yr){if(!shouldShowAllLabels(Wr.axis)){var Zr=Wr.get(["axisLabel","showMinLabel"]),Kr=Wr.get(["axisLabel","showMaxLabel"]);Gr=Gr||[],Yr=Yr||[];var Qr=Gr[0],Jr=Gr[1],en=Gr[Gr.length-1],tn=Gr[Gr.length-2],rn=Yr[0],an=Yr[1],nn=Yr[Yr.length-1],sn=Yr[Yr.length-2];Zr===!1?(ignoreEl(Qr),ignoreEl(rn)):isTwoLabelOverlapped(Qr,Jr)&&(Zr?(ignoreEl(Jr),ignoreEl(an)):(ignoreEl(Qr),ignoreEl(rn))),Kr===!1?(ignoreEl(en),ignoreEl(nn)):isTwoLabelOverlapped(tn,en)&&(Kr?(ignoreEl(tn),ignoreEl(sn)):(ignoreEl(en),ignoreEl(nn)))}}function ignoreEl(Wr){Wr&&(Wr.ignore=!0)}function isTwoLabelOverlapped(Wr,Gr){var Yr=Wr&&Wr.getBoundingRect().clone(),Zr=Gr&&Gr.getBoundingRect().clone();if(!(!Yr||!Zr)){var Kr=identity([]);return rotate(Kr,Kr,-Wr.rotation),Yr.applyTransform(mul([],Kr,Wr.getLocalTransform())),Zr.applyTransform(mul([],Kr,Gr.getLocalTransform())),Yr.intersect(Zr)}}function isNameLocationCenter(Wr){return Wr==="middle"||Wr==="center"}function createTicks(Wr,Gr,Yr,Zr,Kr){for(var Qr=[],Jr=[],en=[],tn=0;tn<Wr.length;tn++){var rn=Wr[tn].coord;Jr[0]=rn,Jr[1]=0,en[0]=rn,en[1]=Yr,Gr&&(applyTransform$1(Jr,Jr,Gr),applyTransform$1(en,en,Gr));var an=new Line$1({shape:{x1:Jr[0],y1:Jr[1],x2:en[0],y2:en[1]},style:Zr,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(an.shape,an.style.lineWidth),an.anid=Kr+"_"+Wr[tn].tickValue,Qr.push(an)}return Qr}function buildAxisMajorTicks(Wr,Gr,Yr,Zr){var Kr=Yr.axis,Qr=Yr.getModel("axisTick"),Jr=Qr.get("show");if(Jr==="auto"&&Zr.handleAutoShown&&(Jr=Zr.handleAutoShown("axisTick")),!(!Jr||Kr.scale.isBlank())){for(var en=Qr.getModel("lineStyle"),tn=Zr.tickDirection*Qr.get("length"),rn=Kr.getTicksCoords(),an=createTicks(rn,Gr.transform,tn,defaults(en.getLineStyle(),{stroke:Yr.get(["axisLine","lineStyle","color"])}),"ticks"),nn=0;nn<an.length;nn++)Wr.add(an[nn]);return an}}function buildAxisMinorTicks(Wr,Gr,Yr,Zr){var Kr=Yr.axis,Qr=Yr.getModel("minorTick");if(!(!Qr.get("show")||Kr.scale.isBlank())){var Jr=Kr.getMinorTicksCoords();if(Jr.length)for(var en=Qr.getModel("lineStyle"),tn=Zr*Qr.get("length"),rn=defaults(en.getLineStyle(),defaults(Yr.getModel("axisTick").getLineStyle(),{stroke:Yr.get(["axisLine","lineStyle","color"])})),an=0;an<Jr.length;an++)for(var nn=createTicks(Jr[an],Gr.transform,tn,rn,"minorticks_"+an),sn=0;sn<nn.length;sn++)Wr.add(nn[sn])}}function buildAxisLabel(Wr,Gr,Yr,Zr){var Kr=Yr.axis,Qr=retrieve(Zr.axisLabelShow,Yr.get(["axisLabel","show"]));if(!(!Qr||Kr.scale.isBlank())){var Jr=Yr.getModel("axisLabel"),en=Jr.get("margin"),tn=Kr.getViewLabels(),rn=(retrieve(Zr.labelRotate,Jr.get("rotate"))||0)*PI$3/180,an=AxisBuilder.innerTextLayout(Zr.rotation,rn,Zr.labelDirection),nn=Yr.getCategories&&Yr.getCategories(!0),sn=[],ln=AxisBuilder.isLabelSilent(Yr),un=Yr.get("triggerEvent");return each$f(tn,function(cn,hn){var dn=Kr.scale.type==="ordinal"?Kr.scale.getRawOrdinalNumber(cn.tickValue):cn.tickValue,fn=cn.formattedLabel,pn=cn.rawLabel,gn=Jr;if(nn&&nn[dn]){var vn=nn[dn];isObject$3(vn)&&vn.textStyle&&(gn=new Model(vn.textStyle,Jr,Yr.ecModel))}var mn=gn.getTextColor()||Yr.get(["axisLine","lineStyle","color"]),yn=Kr.dataToCoord(dn),xn=gn.getShallow("align",!0)||an.textAlign,bn=retrieve2(gn.getShallow("alignMinLabel",!0),xn),Sn=retrieve2(gn.getShallow("alignMaxLabel",!0),xn),wn=gn.getShallow("verticalAlign",!0)||gn.getShallow("baseline",!0)||an.textVerticalAlign,_n=retrieve2(gn.getShallow("verticalAlignMinLabel",!0),wn),An=retrieve2(gn.getShallow("verticalAlignMaxLabel",!0),wn),Cn=new ZRText({x:yn,y:Zr.labelOffset+Zr.labelDirection*en,rotation:an.rotation,silent:ln,z2:10+(cn.level||0),style:createTextStyle(gn,{text:fn,align:hn===0?bn:hn===tn.length-1?Sn:xn,verticalAlign:hn===0?_n:hn===tn.length-1?An:wn,fill:isFunction(mn)?mn(Kr.type==="category"?pn:Kr.type==="value"?dn+"":dn,hn):mn})});if(Cn.anid="label_"+dn,setTooltipConfig({el:Cn,componentModel:Yr,itemName:fn,formatterParamsExtra:{isTruncated:function(){return Cn.isTruncated},value:pn,tickIndex:hn}}),un){var Tn=AxisBuilder.makeAxisEventDataBase(Yr);Tn.targetType="axisLabel",Tn.value=pn,Tn.tickIndex=hn,Kr.type==="category"&&(Tn.dataIndex=dn),getECData(Cn).eventData=Tn}Gr.add(Cn),Cn.updateTransform(),sn.push(Cn),Wr.add(Cn),Cn.decomposeTransform()}),sn}}function collect(Wr,Gr){var Yr={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(Yr,Wr,Gr),Yr.seriesInvolved&&collectSeriesInfo(Yr,Wr),Yr}function collectAxesInfo(Wr,Gr,Yr){var Zr=Gr.getComponent("tooltip"),Kr=Gr.getComponent("axisPointer"),Qr=Kr.get("link",!0)||[],Jr=[];each$f(Yr.getCoordinateSystems(),function(en){if(!en.axisPointerEnabled)return;var tn=makeKey(en.model),rn=Wr.coordSysAxesInfo[tn]={};Wr.coordSysMap[tn]=en;var an=en.model,nn=an.getModel("tooltip",Zr);if(each$f(en.getAxes(),curry$1(cn,!1,null)),en.getTooltipAxes&&Zr&&nn.get("show")){var sn=nn.get("trigger")==="axis",ln=nn.get(["axisPointer","type"])==="cross",un=en.getTooltipAxes(nn.get(["axisPointer","axis"]));(sn||ln)&&each$f(un.baseAxes,curry$1(cn,ln?"cross":!0,sn)),ln&&each$f(un.otherAxes,curry$1(cn,"cross",!1))}function cn(hn,dn,fn){var pn=fn.model.getModel("axisPointer",Kr),gn=pn.get("show");if(!(!gn||gn==="auto"&&!hn&&!isHandleTrigger(pn))){dn==null&&(dn=pn.get("triggerTooltip")),pn=hn?makeAxisPointerModel(fn,nn,Kr,Gr,hn,dn):pn;var vn=pn.get("snap"),mn=pn.get("triggerEmphasis"),yn=makeKey(fn.model),xn=dn||vn||fn.type==="category",bn=Wr.axesInfo[yn]={key:yn,axis:fn,coordSys:en,axisPointerModel:pn,triggerTooltip:dn,triggerEmphasis:mn,involveSeries:xn,snap:vn,useHandle:isHandleTrigger(pn),seriesModels:[],linkGroup:null};rn[yn]=bn,Wr.seriesInvolved=Wr.seriesInvolved||xn;var Sn=getLinkGroupIndex(Qr,fn);if(Sn!=null){var wn=Jr[Sn]||(Jr[Sn]={axesInfo:{}});wn.axesInfo[yn]=bn,wn.mapper=Qr[Sn].mapper,bn.linkGroup=wn}}}})}function makeAxisPointerModel(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getModel("axisPointer"),en=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],tn={};each$f(en,function(sn){tn[sn]=clone$4(Jr.get(sn))}),tn.snap=Wr.type!=="category"&&!!Qr,Jr.get("type")==="cross"&&(tn.type="line");var rn=tn.label||(tn.label={});if(rn.show==null&&(rn.show=!1),Kr==="cross"){var an=Jr.get(["label","show"]);if(rn.show=an??!0,!Qr){var nn=tn.lineStyle=Jr.get("crossStyle");nn&&defaults(rn,nn.textStyle)}}return Wr.model.getModel("axisPointer",new Model(tn,Yr,Zr))}function collectSeriesInfo(Wr,Gr){Gr.eachSeries(function(Yr){var Zr=Yr.coordinateSystem,Kr=Yr.get(["tooltip","trigger"],!0),Qr=Yr.get(["tooltip","show"],!0);!Zr||Kr==="none"||Kr===!1||Kr==="item"||Qr===!1||Yr.get(["axisPointer","show"],!0)===!1||each$f(Wr.coordSysAxesInfo[makeKey(Zr.model)],function(Jr){var en=Jr.axis;Zr.getAxis(en.dim)===en&&(Jr.seriesModels.push(Yr),Jr.seriesDataCount==null&&(Jr.seriesDataCount=0),Jr.seriesDataCount+=Yr.getData().count())})})}function getLinkGroupIndex(Wr,Gr){for(var Yr=Gr.model,Zr=Gr.dim,Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr]||{};if(checkPropInLink(Qr[Zr+"AxisId"],Yr.id)||checkPropInLink(Qr[Zr+"AxisIndex"],Yr.componentIndex)||checkPropInLink(Qr[Zr+"AxisName"],Yr.name))return Kr}}function checkPropInLink(Wr,Gr){return Wr==="all"||isArray$1(Wr)&&indexOf(Wr,Gr)>=0||Wr===Gr}function fixValue(Wr){var Gr=getAxisInfo$1(Wr);if(Gr){var Yr=Gr.axisPointerModel,Zr=Gr.axis.scale,Kr=Yr.option,Qr=Yr.get("status"),Jr=Yr.get("value");Jr!=null&&(Jr=Zr.parse(Jr));var en=isHandleTrigger(Yr);Qr==null&&(Kr.status=en?"show":"hide");var tn=Zr.getExtent().slice();tn[0]>tn[1]&&tn.reverse(),(Jr==null||Jr>tn[1])&&(Jr=tn[1]),Jr<tn[0]&&(Jr=tn[0]),Kr.value=Jr,en&&(Kr.status=Gr.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(Wr){var Gr=(Wr.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Gr&&Gr.axesInfo[makeKey(Wr)]}function getAxisPointerModel(Wr){var Gr=getAxisInfo$1(Wr);return Gr&&Gr.axisPointerModel}function isHandleTrigger(Wr){return!!Wr.get(["handle","show"])}function makeKey(Wr){return Wr.type+"||"+Wr.id}var axisPointerClazz={},AxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this.axisPointerClass&&fixValue(Yr),Wr.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(Yr,Kr,!0)},Gr.prototype.updateAxisPointer=function(Yr,Zr,Kr,Qr){this._doUpdateAxisPointerClass(Yr,Kr,!1)},Gr.prototype.remove=function(Yr,Zr){var Kr=this._axisPointer;Kr&&Kr.remove(Zr)},Gr.prototype.dispose=function(Yr,Zr){this._disposeAxisPointer(Zr),Wr.prototype.dispose.apply(this,arguments)},Gr.prototype._doUpdateAxisPointerClass=function(Yr,Zr,Kr){var Qr=Gr.getAxisPointerClass(this.axisPointerClass);if(Qr){var Jr=getAxisPointerModel(Yr);Jr?(this._axisPointer||(this._axisPointer=new Qr)).render(Yr,Jr,Zr,Kr):this._disposeAxisPointer(Zr)}},Gr.prototype._disposeAxisPointer=function(Yr){this._axisPointer&&this._axisPointer.dispose(Yr),this._axisPointer=null},Gr.registerAxisPointerClass=function(Yr,Zr){axisPointerClazz[Yr]=Zr},Gr.getAxisPointerClass=function(Yr){return Yr&&axisPointerClazz[Yr]},Gr.type="axis",Gr}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(Wr,Gr,Yr,Zr){var Kr=Yr.axis;if(!Kr.scale.isBlank()){var Qr=Yr.getModel("splitArea"),Jr=Qr.getModel("areaStyle"),en=Jr.get("color"),tn=Zr.coordinateSystem.getRect(),rn=Kr.getTicksCoords({tickModel:Qr,clamp:!0});if(rn.length){var an=en.length,nn=inner$f(Wr).splitAreaColors,sn=createHashMap(),ln=0;if(nn)for(var un=0;un<rn.length;un++){var cn=nn.get(rn[un].tickValue);if(cn!=null){ln=(cn+(an-1)*un)%an;break}}var hn=Kr.toGlobalCoord(rn[0].coord),dn=Jr.getAreaStyle();en=isArray$1(en)?en:[en];for(var un=1;un<rn.length;un++){var fn=Kr.toGlobalCoord(rn[un].coord),pn=void 0,gn=void 0,vn=void 0,mn=void 0;Kr.isHorizontal()?(pn=hn,gn=tn.y,vn=fn-pn,mn=tn.height,hn=pn+vn):(pn=tn.x,gn=hn,vn=tn.width,mn=fn-gn,hn=gn+mn);var yn=rn[un-1].tickValue;yn!=null&&sn.set(yn,ln),Gr.add(new Rect$2({anid:yn!=null?"area_"+yn:null,shape:{x:pn,y:gn,width:vn,height:mn},style:defaults({fill:en[ln]},dn),autoBatch:!0,silent:!0})),ln=(ln+1)%an}inner$f(Wr).splitAreaColors=sn}}}function rectCoordAxisHandleRemove(Wr){inner$f(Wr).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.axisPointerClass="CartesianAxisPointer",Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this.group.removeAll();var Jr=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!Yr.get("show")){var en=Yr.getCoordSysModel(),tn=layout$2(en,Yr),rn=new AxisBuilder(Yr,extend({handleAutoShown:function(nn){for(var sn=en.coordinateSystem.getCartesians(),ln=0;ln<sn.length;ln++)if(isIntervalOrLogScale(sn[ln].getOtherAxis(Yr.axis).scale))return!0;return!1}},tn));each$f(axisBuilderAttrs$3,rn.add,rn),this._axisGroup.add(rn.getGroup()),each$f(selfBuilderAttrs$2,function(nn){Yr.get([nn,"show"])&&axisElementBuilders$2[nn](this,this._axisGroup,Yr,en)},this);var an=Qr&&Qr.type==="changeAxisOrder"&&Qr.isInitSort;an||groupTransition(Jr,this._axisGroup,Yr),Wr.prototype.render.call(this,Yr,Zr,Kr,Qr)}},Gr.prototype.remove=function(){rectCoordAxisHandleRemove(this)},Gr.type="cartesianAxis",Gr}(AxisView),axisElementBuilders$2={splitLine:function(Wr,Gr,Yr,Zr){var Kr=Yr.axis;if(!Kr.scale.isBlank()){var Qr=Yr.getModel("splitLine"),Jr=Qr.getModel("lineStyle"),en=Jr.get("color"),tn=Qr.get("showMinLine")!==!1,rn=Qr.get("showMaxLine")!==!1;en=isArray$1(en)?en:[en];for(var an=Zr.coordinateSystem.getRect(),nn=Kr.isHorizontal(),sn=0,ln=Kr.getTicksCoords({tickModel:Qr}),un=[],cn=[],hn=Jr.getLineStyle(),dn=0;dn<ln.length;dn++){var fn=Kr.toGlobalCoord(ln[dn].coord);if(!(dn===0&&!tn||dn===ln.length-1&&!rn)){var pn=ln[dn].tickValue;nn?(un[0]=fn,un[1]=an.y,cn[0]=fn,cn[1]=an.y+an.height):(un[0]=an.x,un[1]=fn,cn[0]=an.x+an.width,cn[1]=fn);var gn=sn++%en.length,vn=new Line$1({anid:pn!=null?"line_"+pn:null,autoBatch:!0,shape:{x1:un[0],y1:un[1],x2:cn[0],y2:cn[1]},style:defaults({stroke:en[gn]},hn),silent:!0});subPixelOptimizeLine(vn.shape,hn.lineWidth),Gr.add(vn)}}}},minorSplitLine:function(Wr,Gr,Yr,Zr){var Kr=Yr.axis,Qr=Yr.getModel("minorSplitLine"),Jr=Qr.getModel("lineStyle"),en=Zr.coordinateSystem.getRect(),tn=Kr.isHorizontal(),rn=Kr.getMinorTicksCoords();if(rn.length)for(var an=[],nn=[],sn=Jr.getLineStyle(),ln=0;ln<rn.length;ln++)for(var un=0;un<rn[ln].length;un++){var cn=Kr.toGlobalCoord(rn[ln][un].coord);tn?(an[0]=cn,an[1]=en.y,nn[0]=cn,nn[1]=en.y+en.height):(an[0]=en.x,an[1]=cn,nn[0]=en.x+en.width,nn[1]=cn);var hn=new Line$1({anid:"minor_line_"+rn[ln][un].tickValue,autoBatch:!0,shape:{x1:an[0],y1:an[1],x2:nn[0],y2:nn[1]},style:sn,silent:!0});subPixelOptimizeLine(hn.shape,sn.lineWidth),Gr.add(hn)}},splitArea:function(Wr,Gr,Yr,Zr){rectCoordAxisBuildSplitArea(Wr,Gr,Yr,Zr)}},CartesianXAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="xAxis",Gr}(CartesianAxisView),CartesianYAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=CartesianXAxisView.type,Yr}return Gr.type="yAxis",Gr}(CartesianAxisView),GridView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="grid",Yr}return Gr.prototype.render=function(Yr,Zr){this.group.removeAll(),Yr.get("show")&&this.group.add(new Rect$2({shape:Yr.coordinateSystem.getRect(),style:defaults({fill:Yr.get("backgroundColor")},Yr.getItemStyle()),silent:!0,z2:-1}))},Gr.type="grid",Gr}(ComponentView),extraOption={offset:0};function install$N(Wr){Wr.registerComponentView(GridView),Wr.registerComponentModel(GridModel),Wr.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(Wr,"x",CartesianAxisModel,extraOption),axisModelCreator(Wr,"y",CartesianAxisModel,extraOption),Wr.registerComponentView(CartesianXAxisView),Wr.registerComponentView(CartesianYAxisView),Wr.registerPreprocessor(function(Gr){Gr.xAxis&&Gr.yAxis&&!Gr.grid&&(Gr.grid={})})}function install$M(Wr){use(install$N),Wr.registerSeriesModel(ScatterSeriesModel),Wr.registerChartView(ScatterView),Wr.registerLayout(pointsLayout("scatter"))}function radarLayout(Wr){Wr.eachSeriesByType("radar",function(Gr){var Yr=Gr.getData(),Zr=[],Kr=Gr.coordinateSystem;if(Kr){var Qr=Kr.getIndicatorAxes();each$f(Qr,function(Jr,en){Yr.each(Yr.mapDimension(Qr[en].dim),function(tn,rn){Zr[rn]=Zr[rn]||[];var an=Kr.dataToPoint(tn,en);Zr[rn][en]=isValidPoint(an)?an:getValueMissingPoint(Kr)})}),Yr.each(function(Jr){var en=find(Zr[Jr],function(tn){return isValidPoint(tn)})||getValueMissingPoint(Kr);Zr[Jr].push(en.slice()),Yr.setItemLayout(Jr,Zr[Jr])})}})}function isValidPoint(Wr){return!isNaN(Wr[0])&&!isNaN(Wr[1])}function getValueMissingPoint(Wr){return[Wr.cx,Wr.cy]}function radarBackwardCompat(Wr){var Gr=Wr.polar;if(Gr){isArray$1(Gr)||(Gr=[Gr]);var Yr=[];each$f(Gr,function(Zr,Kr){Zr.indicator?(Zr.type&&!Zr.shape&&(Zr.shape=Zr.type),Wr.radar=Wr.radar||[],isArray$1(Wr.radar)||(Wr.radar=[Wr.radar]),Wr.radar.push(Zr)):Yr.push(Zr)}),Wr.polar=Yr}each$f(Wr.series,function(Zr){Zr&&Zr.type==="radar"&&Zr.polarIndex&&(Zr.radarIndex=Zr.polarIndex)})}var RadarView$1=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.coordinateSystem,Jr=this.group,en=Yr.getData(),tn=this._data;function rn(sn,ln){var un=sn.getItemVisual(ln,"symbol")||"circle";if(un!=="none"){var cn=normalizeSymbolSize(sn.getItemVisual(ln,"symbolSize")),hn=createSymbol$1(un,-1,-1,2,2),dn=sn.getItemVisual(ln,"symbolRotate")||0;return hn.attr({style:{strokeNoScale:!0},z2:100,scaleX:cn[0]/2,scaleY:cn[1]/2,rotation:dn*Math.PI/180||0}),hn}}function an(sn,ln,un,cn,hn,dn){un.removeAll();for(var fn=0;fn<ln.length-1;fn++){var pn=rn(cn,hn);pn&&(pn.__dimIdx=fn,sn[fn]?(pn.setPosition(sn[fn]),graphic[dn?"initProps":"updateProps"](pn,{x:ln[fn][0],y:ln[fn][1]},Yr,hn)):pn.setPosition(ln[fn]),un.add(pn))}}function nn(sn){return map$1(sn,function(ln){return[Qr.cx,Qr.cy]})}en.diff(tn).add(function(sn){var ln=en.getItemLayout(sn);if(ln){var un=new Polygon,cn=new Polyline$1,hn={shape:{points:ln}};un.shape.points=nn(ln),cn.shape.points=nn(ln),initProps(un,hn,Yr,sn),initProps(cn,hn,Yr,sn);var dn=new Group$3,fn=new Group$3;dn.add(cn),dn.add(un),dn.add(fn),an(cn.shape.points,ln,fn,en,sn,!0),en.setItemGraphicEl(sn,dn)}}).update(function(sn,ln){var un=tn.getItemGraphicEl(ln),cn=un.childAt(0),hn=un.childAt(1),dn=un.childAt(2),fn={shape:{points:en.getItemLayout(sn)}};fn.shape.points&&(an(cn.shape.points,fn.shape.points,dn,en,sn,!1),saveOldStyle(hn),saveOldStyle(cn),updateProps$1(cn,fn,Yr),updateProps$1(hn,fn,Yr),en.setItemGraphicEl(sn,un))}).remove(function(sn){Jr.remove(tn.getItemGraphicEl(sn))}).execute(),en.eachItemGraphicEl(function(sn,ln){var un=en.getItemModel(ln),cn=sn.childAt(0),hn=sn.childAt(1),dn=sn.childAt(2),fn=en.getItemVisual(ln,"style"),pn=fn.fill;Jr.add(sn),cn.useStyle(defaults(un.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:pn})),setStatesStylesFromModel(cn,un,"lineStyle"),setStatesStylesFromModel(hn,un,"areaStyle");var gn=un.getModel("areaStyle"),vn=gn.isEmpty()&&gn.parentModel.isEmpty();hn.ignore=vn,each$f(["emphasis","select","blur"],function(xn){var bn=un.getModel([xn,"areaStyle"]),Sn=bn.isEmpty()&&bn.parentModel.isEmpty();hn.ensureState(xn).ignore=Sn&&vn}),hn.useStyle(defaults(gn.getAreaStyle(),{fill:pn,opacity:.7,decal:fn.decal}));var mn=un.getModel("emphasis"),yn=mn.getModel("itemStyle").getItemStyle();dn.eachChild(function(xn){if(xn instanceof ZRImage){var bn=xn.style;xn.useStyle(extend({image:bn.image,x:bn.x,y:bn.y,width:bn.width,height:bn.height},fn))}else xn.useStyle(fn),xn.setColor(pn),xn.style.strokeNoScale=!0;var Sn=xn.ensureState("emphasis");Sn.style=clone$4(yn);var wn=en.getStore().get(en.getDimensionIndex(xn.__dimIdx),ln);(wn==null||isNaN(wn))&&(wn=""),setLabelStyle(xn,getLabelStatesModels(un),{labelFetcher:en.hostModel,labelDataIndex:ln,labelDimIndex:xn.__dimIdx,defaultText:wn,inheritColor:pn,defaultOpacity:fn.opacity})}),toggleHoverEmphasis(sn,mn.get("focus"),mn.get("blurScope"),mn.get("disabled"))}),this._data=en},Gr.prototype.remove=function(){this.group.removeAll(),this._data=null},Gr.type="radar",Gr}(ChartView),RadarSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr}return Gr.prototype.init=function(Yr){Wr.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){var Qr=this.getData(),Jr=this.coordinateSystem,en=Jr.getIndicatorAxes(),tn=this.getData().getName(Yr),rn=tn===""?this.name:tn,an=retrieveVisualColorForTooltipMarker(this,Yr);return createTooltipMarkup("section",{header:rn,sortBlocks:!0,blocks:map$1(en,function(nn){var sn=Qr.get(Qr.mapDimension(nn.dim),Yr);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:an,name:nn.name,value:sn,sortParam:sn})})})},Gr.prototype.getTooltipPosition=function(Yr){if(Yr!=null){for(var Zr=this.getData(),Kr=this.coordinateSystem,Qr=Zr.getValues(map$1(Kr.dimensions,function(rn){return Zr.mapDimension(rn)}),Yr),Jr=0,en=Qr.length;Jr<en;Jr++)if(!isNaN(Qr[Jr])){var tn=Kr.getIndicatorAxes();return Kr.coordToPoint(tn[Jr].dataToCoord(Qr[Jr]),Jr)}}},Gr.type="series.radar",Gr.dependencies=["radar"],Gr.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},Gr}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(Wr,Gr){return defaults({show:Gr},Wr)}var RadarModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.optionUpdated=function(){var Yr=this.get("boundaryGap"),Zr=this.get("splitNumber"),Kr=this.get("scale"),Qr=this.get("axisLine"),Jr=this.get("axisTick"),en=this.get("axisLabel"),tn=this.get("axisName"),rn=this.get(["axisName","show"]),an=this.get(["axisName","formatter"]),nn=this.get("axisNameGap"),sn=this.get("triggerEvent"),ln=map$1(this.get("indicator")||[],function(un){un.max!=null&&un.max>0&&!un.min?un.min=0:un.min!=null&&un.min<0&&!un.max&&(un.max=0);var cn=tn;un.color!=null&&(cn=defaults({color:un.color},tn));var hn=merge(clone$4(un),{boundaryGap:Yr,splitNumber:Zr,scale:Kr,axisLine:Qr,axisTick:Jr,axisLabel:en,name:un.text,showName:rn,nameLocation:"end",nameGap:nn,nameTextStyle:cn,triggerEvent:sn},!1);if(isString(an)){var dn=hn.name;hn.name=an.replace("{value}",dn??"")}else isFunction(an)&&(hn.name=an(hn.name,hn));var fn=new Model(hn,null,this.ecModel);return mixin(fn,AxisModelCommonMixin.prototype),fn.mainType="radar",fn.componentIndex=this.componentIndex,fn},this);this._indicatorModels=ln},Gr.prototype.getIndicatorModels=function(){return this._indicatorModels},Gr.type="radar",Gr.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},Gr}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this.group;Qr.removeAll(),this._buildAxes(Yr),this._buildSplitLineAndArea(Yr)},Gr.prototype._buildAxes=function(Yr){var Zr=Yr.coordinateSystem,Kr=Zr.getIndicatorAxes(),Qr=map$1(Kr,function(Jr){var en=Jr.model.get("showName")?Jr.name:"",tn=new AxisBuilder(Jr.model,{axisName:en,position:[Zr.cx,Zr.cy],rotation:Jr.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return tn});each$f(Qr,function(Jr){each$f(axisBuilderAttrs$2,Jr.add,Jr),this.group.add(Jr.getGroup())},this)},Gr.prototype._buildSplitLineAndArea=function(Yr){var Zr=Yr.coordinateSystem,Kr=Zr.getIndicatorAxes();if(!Kr.length)return;var Qr=Yr.get("shape"),Jr=Yr.getModel("splitLine"),en=Yr.getModel("splitArea"),tn=Jr.getModel("lineStyle"),rn=en.getModel("areaStyle"),an=Jr.get("show"),nn=en.get("show"),sn=tn.get("color"),ln=rn.get("color"),un=isArray$1(sn)?sn:[sn],cn=isArray$1(ln)?ln:[ln],hn=[],dn=[];function fn(Tn,Mn,En){var Ln=En%Mn.length;return Tn[Ln]=Tn[Ln]||[],Ln}if(Qr==="circle")for(var pn=Kr[0].getTicksCoords(),gn=Zr.cx,vn=Zr.cy,mn=0;mn<pn.length;mn++){if(an){var yn=fn(hn,un,mn);hn[yn].push(new Circle({shape:{cx:gn,cy:vn,r:pn[mn].coord}}))}if(nn&&mn<pn.length-1){var yn=fn(dn,cn,mn);dn[yn].push(new Ring({shape:{cx:gn,cy:vn,r0:pn[mn].coord,r:pn[mn+1].coord}}))}}else for(var xn,bn=map$1(Kr,function(Tn,Mn){var En=Tn.getTicksCoords();return xn=xn==null?En.length-1:Math.min(En.length-1,xn),map$1(En,function(Ln){return Zr.coordToPoint(Ln.coord,Mn)})}),Sn=[],mn=0;mn<=xn;mn++){for(var wn=[],_n=0;_n<Kr.length;_n++)wn.push(bn[_n][mn]);if(wn[0]&&wn.push(wn[0].slice()),an){var yn=fn(hn,un,mn);hn[yn].push(new Polyline$1({shape:{points:wn}}))}if(nn&&Sn){var yn=fn(dn,cn,mn-1);dn[yn].push(new Polygon({shape:{points:wn.concat(Sn)}}))}Sn=wn.slice().reverse()}var An=tn.getLineStyle(),Cn=rn.getAreaStyle();each$f(dn,function(Tn,Mn){this.group.add(mergePath(Tn,{style:defaults({stroke:"none",fill:cn[Mn%cn.length]},Cn),silent:!0}))},this),each$f(hn,function(Tn,Mn){this.group.add(mergePath(Tn,{style:defaults({fill:"none",stroke:un[Mn%un.length]},An),silent:!0}))},this)},Gr.type="radar",Gr}(ComponentView),IndicatorAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this,Yr,Zr,Kr)||this;return Qr.type="value",Qr.angle=0,Qr.name="",Qr}return Gr}(Axis),Radar=function(){function Wr(Gr,Yr,Zr){this.dimensions=[],this._model=Gr,this._indicatorAxes=map$1(Gr.getIndicatorModels(),function(Kr,Qr){var Jr="indicator_"+Qr,en=new IndicatorAxis(Jr,new IntervalScale);return en.name=Kr.get("name"),en.model=Kr,Kr.axis=en,this.dimensions.push(Jr),en},this),this.resize(Gr,Zr)}return Wr.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Wr.prototype.dataToPoint=function(Gr,Yr){var Zr=this._indicatorAxes[Yr];return this.coordToPoint(Zr.dataToCoord(Gr),Yr)},Wr.prototype.coordToPoint=function(Gr,Yr){var Zr=this._indicatorAxes[Yr],Kr=Zr.angle,Qr=this.cx+Gr*Math.cos(Kr),Jr=this.cy-Gr*Math.sin(Kr);return[Qr,Jr]},Wr.prototype.pointToData=function(Gr){var Yr=Gr[0]-this.cx,Zr=Gr[1]-this.cy,Kr=Math.sqrt(Yr*Yr+Zr*Zr);Yr/=Kr,Zr/=Kr;for(var Qr=Math.atan2(-Zr,Yr),Jr=1/0,en,tn=-1,rn=0;rn<this._indicatorAxes.length;rn++){var an=this._indicatorAxes[rn],nn=Math.abs(Qr-an.angle);nn<Jr&&(en=an,tn=rn,Jr=nn)}return[tn,+(en&&en.coordToData(Kr))]},Wr.prototype.resize=function(Gr,Yr){var Zr=Gr.get("center"),Kr=Yr.getWidth(),Qr=Yr.getHeight(),Jr=Math.min(Kr,Qr)/2;this.cx=parsePercent(Zr[0],Kr),this.cy=parsePercent(Zr[1],Qr),this.startAngle=Gr.get("startAngle")*Math.PI/180;var en=Gr.get("radius");(isString(en)||isNumber(en))&&(en=[0,en]),this.r0=parsePercent(en[0],Jr),this.r=parsePercent(en[1],Jr),each$f(this._indicatorAxes,function(tn,rn){tn.setExtent(this.r0,this.r);var an=this.startAngle+rn*Math.PI*2/this._indicatorAxes.length;an=Math.atan2(Math.sin(an),Math.cos(an)),tn.angle=an},this)},Wr.prototype.update=function(Gr,Yr){var Zr=this._indicatorAxes,Kr=this._model;each$f(Zr,function(en){en.scale.setExtent(1/0,-1/0)}),Gr.eachSeriesByType("radar",function(en,tn){if(!(en.get("coordinateSystem")!=="radar"||Gr.getComponent("radar",en.get("radarIndex"))!==Kr)){var rn=en.getData();each$f(Zr,function(an){an.scale.unionExtentFromData(rn,rn.mapDimension(an.dim))})}},this);var Qr=Kr.get("splitNumber"),Jr=new IntervalScale;Jr.setExtent(0,Qr),Jr.setInterval(1),each$f(Zr,function(en,tn){alignScaleTicks(en.scale,en.model,Jr)})},Wr.prototype.convertToPixel=function(Gr,Yr,Zr){return console.warn("Not implemented."),null},Wr.prototype.convertFromPixel=function(Gr,Yr,Zr){return console.warn("Not implemented."),null},Wr.prototype.containPoint=function(Gr){return console.warn("Not implemented."),!1},Wr.create=function(Gr,Yr){var Zr=[];return Gr.eachComponent("radar",function(Kr){var Qr=new Wr(Kr,Gr,Yr);Zr.push(Qr),Kr.coordinateSystem=Qr}),Gr.eachSeriesByType("radar",function(Kr){Kr.get("coordinateSystem")==="radar"&&(Kr.coordinateSystem=Zr[Kr.get("radarIndex")||0])}),Zr},Wr.dimensions=[],Wr}();function install$L(Wr){Wr.registerCoordinateSystem("radar",Radar),Wr.registerComponentModel(RadarModel),Wr.registerComponentView(RadarView),Wr.registerVisual({seriesType:"radar",reset:function(Gr){var Yr=Gr.getData();Yr.each(function(Zr){Yr.setItemVisual(Zr,"legendIcon","roundRect")}),Yr.setVisual("legendIcon","roundRect")}})}function install$K(Wr){use(install$L),Wr.registerChartView(RadarView$1),Wr.registerSeriesModel(RadarSeriesModel),Wr.registerLayout(radarLayout),Wr.registerProcessor(dataFilter$1("radar")),Wr.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(Wr,Gr,Yr){var Zr=getStore(Wr);Zr[Gr]=Yr}function release(Wr,Gr,Yr){var Zr=getStore(Wr),Kr=Zr[Gr];Kr===Yr&&(Zr[Gr]=null)}function isTaken(Wr,Gr){return!!getStore(Wr)[Gr]}function getStore(Wr){return Wr[ATTR]||(Wr[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;Zr._zr=Yr;var Kr=bind$1(Zr._mousedownHandler,Zr),Qr=bind$1(Zr._mousemoveHandler,Zr),Jr=bind$1(Zr._mouseupHandler,Zr),en=bind$1(Zr._mousewheelHandler,Zr),tn=bind$1(Zr._pinchHandler,Zr);return Zr.enable=function(rn,an){this.disable(),this._opt=defaults(clone$4(an)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),rn==null&&(rn=!0),(rn===!0||rn==="move"||rn==="pan")&&(Yr.on("mousedown",Kr),Yr.on("mousemove",Qr),Yr.on("mouseup",Jr)),(rn===!0||rn==="scale"||rn==="zoom")&&(Yr.on("mousewheel",en),Yr.on("pinch",tn))},Zr.disable=function(){Yr.off("mousedown",Kr),Yr.off("mousemove",Qr),Yr.off("mouseup",Jr),Yr.off("mousewheel",en),Yr.off("pinch",tn)},Zr}return Gr.prototype.isDragging=function(){return this._dragging},Gr.prototype.isPinching=function(){return this._pinching},Gr.prototype.setPointerChecker=function(Yr){this.pointerChecker=Yr},Gr.prototype.dispose=function(){this.disable()},Gr.prototype._mousedownHandler=function(Yr){if(!isMiddleOrRightButtonOnMouseUpDown(Yr)){for(var Zr=Yr.target;Zr;){if(Zr.draggable)return;Zr=Zr.__hostTarget||Zr.parent}var Kr=Yr.offsetX,Qr=Yr.offsetY;this.pointerChecker&&this.pointerChecker(Yr,Kr,Qr)&&(this._x=Kr,this._y=Qr,this._dragging=!0)}},Gr.prototype._mousemoveHandler=function(Yr){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",Yr,this._opt)||Yr.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var Zr=Yr.offsetX,Kr=Yr.offsetY,Qr=this._x,Jr=this._y,en=Zr-Qr,tn=Kr-Jr;this._x=Zr,this._y=Kr,this._opt.preventDefaultMouseMove&&stop(Yr.event),trigger$1(this,"pan","moveOnMouseMove",Yr,{dx:en,dy:tn,oldX:Qr,oldY:Jr,newX:Zr,newY:Kr,isAvailableBehavior:null})}},Gr.prototype._mouseupHandler=function(Yr){isMiddleOrRightButtonOnMouseUpDown(Yr)||(this._dragging=!1)},Gr.prototype._mousewheelHandler=function(Yr){var Zr=isAvailableBehavior("zoomOnMouseWheel",Yr,this._opt),Kr=isAvailableBehavior("moveOnMouseWheel",Yr,this._opt),Qr=Yr.wheelDelta,Jr=Math.abs(Qr),en=Yr.offsetX,tn=Yr.offsetY;if(!(Qr===0||!Zr&&!Kr)){if(Zr){var rn=Jr>3?1.4:Jr>1?1.2:1.1,an=Qr>0?rn:1/rn;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",Yr,{scale:an,originX:en,originY:tn,isAvailableBehavior:null})}if(Kr){var nn=Math.abs(Qr),sn=(Qr>0?1:-1)*(nn>3?.4:nn>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",Yr,{scrollDelta:sn,originX:en,originY:tn,isAvailableBehavior:null})}}},Gr.prototype._pinchHandler=function(Yr){if(!isTaken(this._zr,"globalPan")){var Zr=Yr.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,Yr,{scale:Zr,originX:Yr.pinchX,originY:Yr.pinchY,isAvailableBehavior:null})}},Gr}(Eventful);function checkPointerAndTrigger(Wr,Gr,Yr,Zr,Kr){Wr.pointerChecker&&Wr.pointerChecker(Zr,Kr.originX,Kr.originY)&&(stop(Zr.event),trigger$1(Wr,Gr,Yr,Zr,Kr))}function trigger$1(Wr,Gr,Yr,Zr,Kr){Kr.isAvailableBehavior=bind$1(isAvailableBehavior,null,Yr,Zr),Wr.trigger(Gr,Kr)}function isAvailableBehavior(Wr,Gr,Yr){var Zr=Yr[Wr];return!Wr||Zr&&(!isString(Zr)||Gr.event[Zr+"Key"])}function updateViewOnPan(Wr,Gr,Yr){var Zr=Wr.target;Zr.x+=Gr,Zr.y+=Yr,Zr.dirty()}function updateViewOnZoom(Wr,Gr,Yr,Zr){var Kr=Wr.target,Qr=Wr.zoomLimit,Jr=Wr.zoom=Wr.zoom||1;if(Jr*=Gr,Qr){var en=Qr.min||0,tn=Qr.max||1/0;Jr=Math.max(Math.min(tn,Jr),en)}var rn=Jr/Wr.zoom;Wr.zoom=Jr,Kr.x-=(Yr-Kr.x)*(rn-1),Kr.y-=(Zr-Kr.y)*(rn-1),Kr.scaleX*=rn,Kr.scaleY*=rn,Kr.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(Wr,Gr,Yr){var Zr=Gr.getComponentByElement(Wr.topTarget),Kr=Zr&&Zr.coordinateSystem;return Zr&&Zr!==Yr&&!IRRELEVANT_EXCLUDES.hasOwnProperty(Zr.mainType)&&Kr&&Kr.model!==Yr}function parseXML(Wr){if(isString(Wr)){var Gr=new DOMParser;Wr=Gr.parseFromString(Wr,"text/xml")}var Yr=Wr;for(Yr.nodeType===9&&(Yr=Yr.firstChild);Yr.nodeName.toLowerCase()!=="svg"||Yr.nodeType!==1;)Yr=Yr.nextSibling;return Yr}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function Wr(){this._defs={},this._root=null}return Wr.prototype.parse=function(Gr,Yr){Yr=Yr||{};var Zr=parseXML(Gr);this._defsUsePending=[];var Kr=new Group$3;this._root=Kr;var Qr=[],Jr=Zr.getAttribute("viewBox")||"",en=parseFloat(Zr.getAttribute("width")||Yr.width),tn=parseFloat(Zr.getAttribute("height")||Yr.height);isNaN(en)&&(en=null),isNaN(tn)&&(tn=null),parseAttributes(Zr,Kr,null,!0,!1);for(var rn=Zr.firstChild;rn;)this._parseNode(rn,Kr,Qr,null,!1,!1),rn=rn.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var an,nn;if(Jr){var sn=splitNumberSequence(Jr);sn.length>=4&&(an={x:parseFloat(sn[0]||0),y:parseFloat(sn[1]||0),width:parseFloat(sn[2]),height:parseFloat(sn[3])})}if(an&&en!=null&&tn!=null&&(nn=makeViewBoxTransform(an,{x:0,y:0,width:en,height:tn}),!Yr.ignoreViewBox)){var ln=Kr;Kr=new Group$3,Kr.add(ln),ln.scaleX=ln.scaleY=nn.scale,ln.x=nn.x,ln.y=nn.y}return!Yr.ignoreRootClip&&en!=null&&tn!=null&&Kr.setClipPath(new Rect$2({shape:{x:0,y:0,width:en,height:tn}})),{root:Kr,width:en,height:tn,viewBoxRect:an,viewBoxTransform:nn,named:Qr}},Wr.prototype._parseNode=function(Gr,Yr,Zr,Kr,Qr,Jr){var en=Gr.nodeName.toLowerCase(),tn,rn=Kr;if(en==="defs"&&(Qr=!0),en==="text"&&(Jr=!0),en==="defs"||en==="switch")tn=Yr;else{if(!Qr){var an=nodeParsers[en];if(an&&hasOwn(nodeParsers,en)){tn=an.call(this,Gr,Yr);var nn=Gr.getAttribute("name");if(nn){var sn={name:nn,namedFrom:null,svgNodeTagLower:en,el:tn};Zr.push(sn),en==="g"&&(rn=sn)}else Kr&&Zr.push({name:Kr.name,namedFrom:Kr,svgNodeTagLower:en,el:tn});Yr.add(tn)}}var ln=paintServerParsers[en];if(ln&&hasOwn(paintServerParsers,en)){var un=ln.call(this,Gr),cn=Gr.getAttribute("id");cn&&(this._defs[cn]=un)}}if(tn&&tn.isGroup)for(var hn=Gr.firstChild;hn;)hn.nodeType===1?this._parseNode(hn,tn,Zr,rn,Qr,Jr):hn.nodeType===3&&Jr&&this._parseText(hn,tn),hn=hn.nextSibling},Wr.prototype._parseText=function(Gr,Yr){var Zr=new TSpan({style:{text:Gr.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),applyTextAlignment(Zr,Yr);var Kr=Zr.style,Qr=Kr.fontSize;Qr&&Qr<9&&(Kr.fontSize=9,Zr.scaleX*=Qr/9,Zr.scaleY*=Qr/9);var Jr=(Kr.fontSize||Kr.fontFamily)&&[Kr.fontStyle,Kr.fontWeight,(Kr.fontSize||12)+"px",Kr.fontFamily||"sans-serif"].join(" ");Kr.font=Jr;var en=Zr.getBoundingRect();return this._textX+=en.width,Yr.add(Zr),Zr},Wr.internalField=function(){nodeParsers={g:function(Gr,Yr){var Zr=new Group$3;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr},rect:function(Gr,Yr){var Zr=new Rect$2;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({x:parseFloat(Gr.getAttribute("x")||"0"),y:parseFloat(Gr.getAttribute("y")||"0"),width:parseFloat(Gr.getAttribute("width")||"0"),height:parseFloat(Gr.getAttribute("height")||"0")}),Zr.silent=!0,Zr},circle:function(Gr,Yr){var Zr=new Circle;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({cx:parseFloat(Gr.getAttribute("cx")||"0"),cy:parseFloat(Gr.getAttribute("cy")||"0"),r:parseFloat(Gr.getAttribute("r")||"0")}),Zr.silent=!0,Zr},line:function(Gr,Yr){var Zr=new Line$1;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({x1:parseFloat(Gr.getAttribute("x1")||"0"),y1:parseFloat(Gr.getAttribute("y1")||"0"),x2:parseFloat(Gr.getAttribute("x2")||"0"),y2:parseFloat(Gr.getAttribute("y2")||"0")}),Zr.silent=!0,Zr},ellipse:function(Gr,Yr){var Zr=new Ellipse;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr.setShape({cx:parseFloat(Gr.getAttribute("cx")||"0"),cy:parseFloat(Gr.getAttribute("cy")||"0"),rx:parseFloat(Gr.getAttribute("rx")||"0"),ry:parseFloat(Gr.getAttribute("ry")||"0")}),Zr.silent=!0,Zr},polygon:function(Gr,Yr){var Zr=Gr.getAttribute("points"),Kr;Zr&&(Kr=parsePoints(Zr));var Qr=new Polygon({shape:{points:Kr||[]},silent:!0});return inheritStyle(Yr,Qr),parseAttributes(Gr,Qr,this._defsUsePending,!1,!1),Qr},polyline:function(Gr,Yr){var Zr=Gr.getAttribute("points"),Kr;Zr&&(Kr=parsePoints(Zr));var Qr=new Polyline$1({shape:{points:Kr||[]},silent:!0});return inheritStyle(Yr,Qr),parseAttributes(Gr,Qr,this._defsUsePending,!1,!1),Qr},image:function(Gr,Yr){var Zr=new ZRImage;return inheritStyle(Yr,Zr),parseAttributes(Gr,Zr,this._defsUsePending,!1,!1),Zr.setStyle({image:Gr.getAttribute("xlink:href")||Gr.getAttribute("href"),x:+Gr.getAttribute("x"),y:+Gr.getAttribute("y"),width:+Gr.getAttribute("width"),height:+Gr.getAttribute("height")}),Zr.silent=!0,Zr},text:function(Gr,Yr){var Zr=Gr.getAttribute("x")||"0",Kr=Gr.getAttribute("y")||"0",Qr=Gr.getAttribute("dx")||"0",Jr=Gr.getAttribute("dy")||"0";this._textX=parseFloat(Zr)+parseFloat(Qr),this._textY=parseFloat(Kr)+parseFloat(Jr);var en=new Group$3;return inheritStyle(Yr,en),parseAttributes(Gr,en,this._defsUsePending,!1,!0),en},tspan:function(Gr,Yr){var Zr=Gr.getAttribute("x"),Kr=Gr.getAttribute("y");Zr!=null&&(this._textX=parseFloat(Zr)),Kr!=null&&(this._textY=parseFloat(Kr));var Qr=Gr.getAttribute("dx")||"0",Jr=Gr.getAttribute("dy")||"0",en=new Group$3;return inheritStyle(Yr,en),parseAttributes(Gr,en,this._defsUsePending,!1,!0),this._textX+=parseFloat(Qr),this._textY+=parseFloat(Jr),en},path:function(Gr,Yr){var Zr=Gr.getAttribute("d")||"",Kr=createFromString(Zr);return inheritStyle(Yr,Kr),parseAttributes(Gr,Kr,this._defsUsePending,!1,!1),Kr.silent=!0,Kr}}}(),Wr}(),paintServerParsers={lineargradient:function(Wr){var Gr=parseInt(Wr.getAttribute("x1")||"0",10),Yr=parseInt(Wr.getAttribute("y1")||"0",10),Zr=parseInt(Wr.getAttribute("x2")||"10",10),Kr=parseInt(Wr.getAttribute("y2")||"0",10),Qr=new LinearGradient(Gr,Yr,Zr,Kr);return parsePaintServerUnit(Wr,Qr),parseGradientColorStops(Wr,Qr),Qr},radialgradient:function(Wr){var Gr=parseInt(Wr.getAttribute("cx")||"0",10),Yr=parseInt(Wr.getAttribute("cy")||"0",10),Zr=parseInt(Wr.getAttribute("r")||"0",10),Kr=new RadialGradient(Gr,Yr,Zr);return parsePaintServerUnit(Wr,Kr),parseGradientColorStops(Wr,Kr),Kr}};function parsePaintServerUnit(Wr,Gr){var Yr=Wr.getAttribute("gradientUnits");Yr==="userSpaceOnUse"&&(Gr.global=!0)}function parseGradientColorStops(Wr,Gr){for(var Yr=Wr.firstChild;Yr;){if(Yr.nodeType===1&&Yr.nodeName.toLocaleLowerCase()==="stop"){var Zr=Yr.getAttribute("offset"),Kr=void 0;Zr&&Zr.indexOf("%")>0?Kr=parseInt(Zr,10)/100:Zr?Kr=parseFloat(Zr):Kr=0;var Qr={};parseInlineStyle(Yr,Qr,Qr);var Jr=Qr.stopColor||Yr.getAttribute("stop-color")||"#000000";Gr.colorStops.push({offset:Kr,color:Jr})}Yr=Yr.nextSibling}}function inheritStyle(Wr,Gr){Wr&&Wr.__inheritedStyle&&(Gr.__inheritedStyle||(Gr.__inheritedStyle={}),defaults(Gr.__inheritedStyle,Wr.__inheritedStyle))}function parsePoints(Wr){for(var Gr=splitNumberSequence(Wr),Yr=[],Zr=0;Zr<Gr.length;Zr+=2){var Kr=parseFloat(Gr[Zr]),Qr=parseFloat(Gr[Zr+1]);Yr.push([Kr,Qr])}return Yr}function parseAttributes(Wr,Gr,Yr,Zr,Kr){var Qr=Gr,Jr=Qr.__inheritedStyle=Qr.__inheritedStyle||{},en={};Wr.nodeType===1&&(parseTransformAttribute(Wr,Gr),parseInlineStyle(Wr,Jr,en),Zr||parseAttributeStyle(Wr,Jr,en)),Qr.style=Qr.style||{},Jr.fill!=null&&(Qr.style.fill=getFillStrokeStyle(Qr,"fill",Jr.fill,Yr)),Jr.stroke!=null&&(Qr.style.stroke=getFillStrokeStyle(Qr,"stroke",Jr.stroke,Yr)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(tn){Jr[tn]!=null&&(Qr.style[tn]=parseFloat(Jr[tn]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(tn){Jr[tn]!=null&&(Qr.style[tn]=Jr[tn])}),Kr&&(Qr.__selfStyle=en),Jr.lineDash&&(Qr.style.lineDash=map$1(splitNumberSequence(Jr.lineDash),function(tn){return parseFloat(tn)})),(Jr.visibility==="hidden"||Jr.visibility==="collapse")&&(Qr.invisible=!0),Jr.display==="none"&&(Qr.ignore=!0)}function applyTextAlignment(Wr,Gr){var Yr=Gr.__selfStyle;if(Yr){var Zr=Yr.textBaseline,Kr=Zr;!Zr||Zr==="auto"||Zr==="baseline"?Kr="alphabetic":Zr==="before-edge"||Zr==="text-before-edge"?Kr="top":Zr==="after-edge"||Zr==="text-after-edge"?Kr="bottom":(Zr==="central"||Zr==="mathematical")&&(Kr="middle"),Wr.style.textBaseline=Kr}var Qr=Gr.__inheritedStyle;if(Qr){var Jr=Qr.textAlign,en=Jr;Jr&&(Jr==="middle"&&(en="center"),Wr.style.textAlign=en)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(Wr,Gr,Yr,Zr){var Kr=Yr&&Yr.match(urlRegex);if(Kr){var Qr=trim$1(Kr[1]);Zr.push([Wr,Gr,Qr]);return}return Yr==="none"&&(Yr=null),Yr}function applyDefs(Wr,Gr){for(var Yr=0;Yr<Gr.length;Yr++){var Zr=Gr[Yr];Zr[0].style[Zr[1]]=Wr[Zr[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(Wr){return Wr.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(Wr,Gr){var Yr=Wr.getAttribute("transform");if(Yr){Yr=Yr.replace(/,/g," ");var Zr=[],Kr=null;Yr.replace(transformRegex,function(nn,sn,ln){return Zr.push(sn,ln),""});for(var Qr=Zr.length-1;Qr>0;Qr-=2){var Jr=Zr[Qr],en=Zr[Qr-1],tn=splitNumberSequence(Jr);switch(Kr=Kr||create$1(),en){case"translate":translate(Kr,Kr,[parseFloat(tn[0]),parseFloat(tn[1]||"0")]);break;case"scale":scale$1(Kr,Kr,[parseFloat(tn[0]),parseFloat(tn[1]||tn[0])]);break;case"rotate":rotate(Kr,Kr,-parseFloat(tn[0])*DEGREE_TO_ANGLE,[parseFloat(tn[1]||"0"),parseFloat(tn[2]||"0")]);break;case"skewX":var rn=Math.tan(parseFloat(tn[0])*DEGREE_TO_ANGLE);mul(Kr,[1,0,rn,1,0,0],Kr);break;case"skewY":var an=Math.tan(parseFloat(tn[0])*DEGREE_TO_ANGLE);mul(Kr,[1,an,0,1,0,0],Kr);break;case"matrix":Kr[0]=parseFloat(tn[0]),Kr[1]=parseFloat(tn[1]),Kr[2]=parseFloat(tn[2]),Kr[3]=parseFloat(tn[3]),Kr[4]=parseFloat(tn[4]),Kr[5]=parseFloat(tn[5]);break}}Gr.setLocalTransform(Kr)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(Wr,Gr,Yr){var Zr=Wr.getAttribute("style");if(Zr){styleRegex.lastIndex=0;for(var Kr;(Kr=styleRegex.exec(Zr))!=null;){var Qr=Kr[1],Jr=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,Qr)?INHERITABLE_STYLE_ATTRIBUTES_MAP[Qr]:null;Jr&&(Gr[Jr]=Kr[2]);var en=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,Qr)?SELF_STYLE_ATTRIBUTES_MAP[Qr]:null;en&&(Yr[en]=Kr[2])}}}function parseAttributeStyle(Wr,Gr,Yr){for(var Zr=0;Zr<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;Zr++){var Kr=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[Zr],Qr=Wr.getAttribute(Kr);Qr!=null&&(Gr[INHERITABLE_STYLE_ATTRIBUTES_MAP[Kr]]=Qr)}for(var Zr=0;Zr<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;Zr++){var Kr=SELF_STYLE_ATTRIBUTES_MAP_KEYS[Zr],Qr=Wr.getAttribute(Kr);Qr!=null&&(Yr[SELF_STYLE_ATTRIBUTES_MAP[Kr]]=Qr)}}function makeViewBoxTransform(Wr,Gr){var Yr=Gr.width/Wr.width,Zr=Gr.height/Wr.height,Kr=Math.min(Yr,Zr);return{scale:Kr,x:-(Wr.x+Wr.width/2)*Kr+(Gr.x+Gr.width/2),y:-(Wr.y+Wr.height/2)*Kr+(Gr.y+Gr.height/2)}}function parseSVG(Wr,Gr){var Yr=new SVGParser;return Yr.parse(Wr,Gr)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function Wr(Gr,Yr){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=Gr,this._parsedXML=parseXML(Yr)}return Wr.prototype.load=function(){var Gr=this._firstGraphic;if(!Gr){Gr=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(Gr),this._boundingRect=this._firstGraphic.boundingRect.clone();var Yr=createRegions(Gr.named),Zr=Yr.regions,Kr=Yr.regionsMap;this._regions=Zr,this._regionsMap=Kr}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},Wr.prototype._buildGraphic=function(Gr){var Yr,Zr;try{Yr=Gr&&parseSVG(Gr,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Zr=Yr.root,assert(Zr!=null)}catch(hn){throw new Error(`Invalid svg format
`+hn.message)}var Kr=new Group$3;Kr.add(Zr),Kr.isGeoSVGGraphicRoot=!0;var Qr=Yr.width,Jr=Yr.height,en=Yr.viewBoxRect,tn=this._boundingRect;if(!tn){var rn=void 0,an=void 0,nn=void 0,sn=void 0;if(Qr!=null?(rn=0,nn=Qr):en&&(rn=en.x,nn=en.width),Jr!=null?(an=0,sn=Jr):en&&(an=en.y,sn=en.height),rn==null||an==null){var ln=Zr.getBoundingRect();rn==null&&(rn=ln.x,nn=ln.width),an==null&&(an=ln.y,sn=ln.height)}tn=this._boundingRect=new BoundingRect(rn,an,nn,sn)}if(en){var un=makeViewBoxTransform(en,tn);Zr.scaleX=Zr.scaleY=un.scale,Zr.x=un.x,Zr.y=un.y}Kr.setClipPath(new Rect$2({shape:tn.plain()}));var cn=[];return each$f(Yr.named,function(hn){REGION_AVAILABLE_SVG_TAG_MAP.get(hn.svgNodeTagLower)!=null&&(cn.push(hn),setSilent(hn.el))}),{root:Kr,boundingRect:tn,named:cn}},Wr.prototype.useGraphic=function(Gr){var Yr=this._usedGraphicMap,Zr=Yr.get(Gr);return Zr||(Zr=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),Yr.set(Gr,Zr),Zr)},Wr.prototype.freeGraphic=function(Gr){var Yr=this._usedGraphicMap,Zr=Yr.get(Gr);Zr&&(Yr.removeKey(Gr),this._freedGraphics.push(Zr))},Wr}();function setSilent(Wr){Wr.silent=!1,Wr.isGroup&&Wr.traverse(function(Gr){Gr.silent=!1})}function createRegions(Wr){var Gr=[],Yr=createHashMap();return each$f(Wr,function(Zr){if(Zr.namedFrom==null){var Kr=new GeoSVGRegion(Zr.name,Zr.el);Gr.push(Kr),Yr.set(Zr.name,Kr)}}),{regions:Gr,regionsMap:Yr}}var geoCoord=[126,25],nanhaiName="南海诸岛",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(Wr,Gr){if(Wr==="china"){for(var Yr=0;Yr<Gr.length;Yr++)if(Gr[Yr].name===nanhaiName)return;Gr.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(Zr){return{type:"polygon",exterior:Zr}}),geoCoord))}}var coordsOffsetMap={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function fixTextCoords(Wr,Gr){if(Wr==="china"){var Yr=coordsOffsetMap[Gr.name];if(Yr){var Zr=Gr.getCenter();Zr[0]+=Yr[0]/10.5,Zr[1]+=-Yr[1]/(10.5/.75),Gr.setCenter(Zr)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(Wr,Gr){Wr==="china"&&Gr.name==="台湾"&&Gr.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function Wr(Gr,Yr,Zr){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=Gr,this._specialAreas=Zr,this._geoJSON=parseInput(Yr)}return Wr.prototype.load=function(Gr,Yr){Yr=Yr||DEFAULT_NAME_PROPERTY;var Zr=this._parsedMap.get(Yr);if(!Zr){var Kr=this._parseToRegions(Yr);Zr=this._parsedMap.set(Yr,{regions:Kr,boundingRect:calculateBoundingRect(Kr)})}var Qr=createHashMap(),Jr=[];return each$f(Zr.regions,function(en){var tn=en.name;Gr&&hasOwn(Gr,tn)&&(en=en.cloneShallow(tn=Gr[tn])),Jr.push(en),Qr.set(tn,en)}),{regions:Jr,boundingRect:Zr.boundingRect||new BoundingRect(0,0,0,0),regionsMap:Qr}},Wr.prototype._parseToRegions=function(Gr){var Yr=this._mapName,Zr=this._geoJSON,Kr;try{Kr=Zr?parseGeoJSON(Zr,Gr):[]}catch(Qr){throw new Error(`Invalid geoJson format
`+Qr.message)}return fixNanhai(Yr,Kr),each$f(Kr,function(Qr){var Jr=Qr.name;fixTextCoords(Yr,Qr),fixDiaoyuIsland(Yr,Qr);var en=this._specialAreas&&this._specialAreas[Jr];en&&Qr.transformTo(en.left,en.top,en.width,en.height)},this),Kr},Wr.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},Wr}();function calculateBoundingRect(Wr){for(var Gr,Yr=0;Yr<Wr.length;Yr++){var Zr=Wr[Yr].getBoundingRect();Gr=Gr||Zr.clone(),Gr.union(Zr)}return Gr}function parseInput(Wr){return isString(Wr)?typeof JSON<"u"&&JSON.parse?JSON.parse(Wr):new Function("return ("+Wr+");")():Wr}var storage=createHashMap();const geoSourceManager={registerMap:function(Wr,Gr,Yr){if(Gr.svg){var Zr=new GeoSVGResource(Wr,Gr.svg);storage.set(Wr,Zr)}else{var Kr=Gr.geoJson||Gr.geoJSON;Kr&&!Gr.features?Yr=Gr.specialAreas:Kr=Gr;var Zr=new GeoJSONResource(Wr,Kr,Yr);storage.set(Wr,Zr)}},getGeoResource:function(Wr){return storage.get(Wr)},getMapForUser:function(Wr){var Gr=storage.get(Wr);return Gr&&Gr.type==="geoJSON"&&Gr.getMapForUser()},load:function(Wr,Gr,Yr){var Zr=storage.get(Wr);if(Zr)return Zr.load(Gr,Yr)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(Wr){var Gr=Wr.getItemStyle(),Yr=Wr.get("areaColor");return Yr!=null&&(Gr.fill=Yr),Gr}function fixLineStyle(Wr){var Gr=Wr.style;Gr&&(Gr.stroke=Gr.stroke||Gr.fill,Gr.fill=null)}var MapDraw=function(){function Wr(Gr){var Yr=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(Gr.getZr()),this._controllerHost={target:Yr},this.group=Yr,Yr.add(this._regionsGroup=new Group$3),Yr.add(this._svgGroup=new Group$3)}return Wr.prototype.draw=function(Gr,Yr,Zr,Kr,Qr){var Jr=Gr.mainType==="geo",en=Gr.getData&&Gr.getData();Jr&&Yr.eachComponent({mainType:"series",subType:"map"},function(dn){!en&&dn.getHostGeoModel()===Gr&&(en=dn.getData())});var tn=Gr.coordinateSystem,rn=this._regionsGroup,an=this.group,nn=tn.getTransformInfo(),sn=nn.raw,ln=nn.roam,un=!rn.childAt(0)||Qr;un?(an.x=ln.x,an.y=ln.y,an.scaleX=ln.scaleX,an.scaleY=ln.scaleY,an.dirty()):updateProps$1(an,ln,Gr);var cn=en&&en.getVisual("visualMeta")&&en.getVisual("visualMeta").length>0,hn={api:Zr,geo:tn,mapOrGeoModel:Gr,data:en,isVisualEncodedByVisualMap:cn,isGeo:Jr,transformInfoRaw:sn};tn.resourceType==="geoJSON"?this._buildGeoJSON(hn):tn.resourceType==="geoSVG"&&this._buildSVG(hn),this._updateController(Gr,Yr,Zr),this._updateMapSelectHandler(Gr,rn,Zr,Kr)},Wr.prototype._buildGeoJSON=function(Gr){var Yr=this._regionsGroupByName=createHashMap(),Zr=createHashMap(),Kr=this._regionsGroup,Qr=Gr.transformInfoRaw,Jr=Gr.mapOrGeoModel,en=Gr.data,tn=Gr.geo.projection,rn=tn&&tn.stream;function an(ln,un){return un&&(ln=un(ln)),ln&&[ln[0]*Qr.scaleX+Qr.x,ln[1]*Qr.scaleY+Qr.y]}function nn(ln){for(var un=[],cn=!rn&&tn&&tn.project,hn=0;hn<ln.length;++hn){var dn=an(ln[hn],cn);dn&&un.push(dn)}return un}function sn(ln){return{shape:{points:nn(ln)}}}Kr.removeAll(),each$f(Gr.geo.regions,function(ln){var un=ln.name,cn=Yr.get(un),hn=Zr.get(un)||{},dn=hn.dataIdx,fn=hn.regionModel;if(!cn){cn=Yr.set(un,new Group$3),Kr.add(cn),dn=en?en.indexOfName(un):null,fn=Gr.isGeo?Jr.getRegionModel(un):en?en.getItemModel(dn):null;var pn=fn.get("silent",!0);pn!=null&&(cn.silent=pn),Zr.set(un,{dataIdx:dn,regionModel:fn})}var gn=[],vn=[];each$f(ln.geometries,function(xn){if(xn.type==="polygon"){var bn=[xn.exterior].concat(xn.interiors||[]);rn&&(bn=projectPolys(bn,rn)),each$f(bn,function(wn){gn.push(new Polygon(sn(wn)))})}else{var Sn=xn.points;rn&&(Sn=projectPolys(Sn,rn,!0)),each$f(Sn,function(wn){vn.push(new Polyline$1(sn(wn)))})}});var mn=an(ln.getCenter(),tn&&tn.project);function yn(xn,bn){if(xn.length){var Sn=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:xn}});cn.add(Sn),applyOptionStyleForRegion(Gr,Sn,dn,fn),resetLabelForRegion(Gr,Sn,un,fn,Jr,dn,mn),bn&&(fixLineStyle(Sn),each$f(Sn.states,fixLineStyle))}}yn(gn),yn(vn,!0)}),Yr.each(function(ln,un){var cn=Zr.get(un),hn=cn.dataIdx,dn=cn.regionModel;resetEventTriggerForRegion(Gr,ln,un,dn,Jr,hn),resetTooltipForRegion(Gr,ln,un,dn,Jr),resetStateTriggerForRegion(Gr,ln,un,dn,Jr)},this)},Wr.prototype._buildSVG=function(Gr){var Yr=Gr.geo.map,Zr=Gr.transformInfoRaw;this._svgGroup.x=Zr.x,this._svgGroup.y=Zr.y,this._svgGroup.scaleX=Zr.scaleX,this._svgGroup.scaleY=Zr.scaleY,this._svgResourceChanged(Yr)&&(this._freeSVG(),this._useSVG(Yr));var Kr=this._svgDispatcherMap=createHashMap(),Qr=!1;each$f(this._svgGraphicRecord.named,function(Jr){var en=Jr.name,tn=Gr.mapOrGeoModel,rn=Gr.data,an=Jr.svgNodeTagLower,nn=Jr.el,sn=rn?rn.indexOfName(en):null,ln=tn.getRegionModel(en);OPTION_STYLE_ENABLED_TAG_MAP.get(an)!=null&&nn instanceof Displayable&&applyOptionStyleForRegion(Gr,nn,sn,ln),nn instanceof Displayable&&(nn.culling=!0);var un=ln.get("silent",!0);if(un!=null&&(nn.silent=un),nn.z2EmphasisLift=0,!Jr.namedFrom&&(LABEL_HOST_MAP.get(an)!=null&&resetLabelForRegion(Gr,nn,en,ln,tn,sn,null),resetEventTriggerForRegion(Gr,nn,en,ln,tn,sn),resetTooltipForRegion(Gr,nn,en,ln,tn),STATE_TRIGGER_TAG_MAP.get(an)!=null)){var cn=resetStateTriggerForRegion(Gr,nn,en,ln,tn);cn==="self"&&(Qr=!0);var hn=Kr.get(en)||Kr.set(en,[]);hn.push(nn)}},this),this._enableBlurEntireSVG(Qr,Gr)},Wr.prototype._enableBlurEntireSVG=function(Gr,Yr){if(Gr&&Yr.isGeo){var Zr=Yr.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),Kr=Zr.opacity;this._svgGraphicRecord.root.traverse(function(Qr){if(!Qr.isGroup){setDefaultStateProxy(Qr);var Jr=Qr.ensureState("blur").style||{};Jr.opacity==null&&Kr!=null&&(Jr.opacity=Kr),Qr.ensureState("emphasis")}})}},Wr.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},Wr.prototype.findHighDownDispatchers=function(Gr,Yr){if(Gr==null)return[];var Zr=Yr.coordinateSystem;if(Zr.resourceType==="geoJSON"){var Kr=this._regionsGroupByName;if(Kr){var Qr=Kr.get(Gr);return Qr?[Qr]:[]}}else if(Zr.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(Gr)||[]},Wr.prototype._svgResourceChanged=function(Gr){return this._svgMapName!==Gr},Wr.prototype._useSVG=function(Gr){var Yr=geoSourceManager.getGeoResource(Gr);if(Yr&&Yr.type==="geoSVG"){var Zr=Yr.useGraphic(this.uid);this._svgGroup.add(Zr.root),this._svgGraphicRecord=Zr,this._svgMapName=Gr}},Wr.prototype._freeSVG=function(){var Gr=this._svgMapName;if(Gr!=null){var Yr=geoSourceManager.getGeoResource(Gr);Yr&&Yr.type==="geoSVG"&&Yr.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},Wr.prototype._updateController=function(Gr,Yr,Zr){var Kr=Gr.coordinateSystem,Qr=this._controller,Jr=this._controllerHost;Jr.zoomLimit=Gr.get("scaleLimit"),Jr.zoom=Kr.getZoom(),Qr.enable(Gr.get("roam")||!1);var en=Gr.mainType;function tn(){var rn={type:"geoRoam",componentType:en};return rn[en+"Id"]=Gr.id,rn}Qr.off("pan").on("pan",function(rn){this._mouseDownFlag=!1,updateViewOnPan(Jr,rn.dx,rn.dy),Zr.dispatchAction(extend(tn(),{dx:rn.dx,dy:rn.dy,animation:{duration:0}}))},this),Qr.off("zoom").on("zoom",function(rn){this._mouseDownFlag=!1,updateViewOnZoom(Jr,rn.scale,rn.originX,rn.originY),Zr.dispatchAction(extend(tn(),{totalZoom:Jr.zoom,zoom:rn.scale,originX:rn.originX,originY:rn.originY,animation:{duration:0}}))},this),Qr.setPointerChecker(function(rn,an,nn){return Kr.containPoint([an,nn])&&!onIrrelevantElement(rn,Zr,Gr)})},Wr.prototype.resetForLabelLayout=function(){this.group.traverse(function(Gr){var Yr=Gr.getTextContent();Yr&&(Yr.ignore=mapLabelRaw(Yr).ignore)})},Wr.prototype._updateMapSelectHandler=function(Gr,Yr,Zr,Kr){var Qr=this;Yr.off("mousedown"),Yr.off("click"),Gr.get("selectedMode")&&(Yr.on("mousedown",function(){Qr._mouseDownFlag=!0}),Yr.on("click",function(Jr){Qr._mouseDownFlag&&(Qr._mouseDownFlag=!1)}))},Wr}();function applyOptionStyleForRegion(Wr,Gr,Yr,Zr){var Kr=Zr.getModel("itemStyle"),Qr=Zr.getModel(["emphasis","itemStyle"]),Jr=Zr.getModel(["blur","itemStyle"]),en=Zr.getModel(["select","itemStyle"]),tn=getFixedItemStyle(Kr),rn=getFixedItemStyle(Qr),an=getFixedItemStyle(en),nn=getFixedItemStyle(Jr),sn=Wr.data;if(sn){var ln=sn.getItemVisual(Yr,"style"),un=sn.getItemVisual(Yr,"decal");Wr.isVisualEncodedByVisualMap&&ln.fill&&(tn.fill=ln.fill),un&&(tn.decal=createOrUpdatePatternFromDecal(un,Wr.api))}Gr.setStyle(tn),Gr.style.strokeNoScale=!0,Gr.ensureState("emphasis").style=rn,Gr.ensureState("select").style=an,Gr.ensureState("blur").style=nn,setDefaultStateProxy(Gr)}function resetLabelForRegion(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Wr.data,tn=Wr.isGeo,rn=en&&isNaN(en.get(en.mapDimension("value"),Qr)),an=en&&en.getItemLayout(Qr);if(tn||rn||an&&an.showLabel){var nn=tn?Yr:Qr,sn=void 0;(!en||Qr>=0)&&(sn=Kr);var ln=Jr?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(Gr,getLabelStatesModels(Zr),{labelFetcher:sn,labelDataIndex:nn,defaultText:Yr},ln);var un=Gr.getTextContent();if(un&&(mapLabelRaw(un).ignore=un.ignore,Gr.textConfig&&Jr)){var cn=Gr.getBoundingRect().clone();Gr.textConfig.layoutRect=cn,Gr.textConfig.position=[(Jr[0]-cn.x)/cn.width*100+"%",(Jr[1]-cn.y)/cn.height*100+"%"]}Gr.disableLabelAnimation=!0}else Gr.removeTextContent(),Gr.removeTextConfig(),Gr.disableLabelAnimation=null}function resetEventTriggerForRegion(Wr,Gr,Yr,Zr,Kr,Qr){Wr.data?Wr.data.setItemGraphicEl(Qr,Gr):getECData(Gr).eventData={componentType:"geo",componentIndex:Kr.componentIndex,geoIndex:Kr.componentIndex,name:Yr,region:Zr&&Zr.option||{}}}function resetTooltipForRegion(Wr,Gr,Yr,Zr,Kr){Wr.data||setTooltipConfig({el:Gr,componentModel:Kr,itemName:Yr,itemTooltipOption:Zr.get("tooltip")})}function resetStateTriggerForRegion(Wr,Gr,Yr,Zr,Kr){Gr.highDownSilentOnTouch=!!Kr.get("selectedMode");var Qr=Zr.getModel("emphasis"),Jr=Qr.get("focus");return toggleHoverEmphasis(Gr,Jr,Qr.get("blurScope"),Qr.get("disabled")),Wr.isGeo&&enableComponentHighDownFeatures(Gr,Kr,Yr),Jr}function projectPolys(Wr,Gr,Yr){var Zr=[],Kr;function Qr(){Kr=[]}function Jr(){Kr.length&&(Zr.push(Kr),Kr=[])}var en=Gr({polygonStart:Qr,polygonEnd:Jr,lineStart:Qr,lineEnd:Jr,point:function(tn,rn){isFinite(tn)&&isFinite(rn)&&Kr.push([tn,rn])},sphere:function(){}});return!Yr&&en.polygonStart(),each$f(Wr,function(tn){en.lineStart();for(var rn=0;rn<tn.length;rn++)en.point(tn[rn][0],tn[rn][1]);en.lineEnd()}),!Yr&&en.polygonEnd(),Zr}var MapView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){if(!(Qr&&Qr.type==="mapToggleSelect"&&Qr.from===this.uid)){var Jr=this.group;if(Jr.removeAll(),!Yr.getHostGeoModel()){if(this._mapDraw&&Qr&&Qr.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),Qr&&Qr.type==="geoRoam"&&Qr.componentType==="series"&&Qr.seriesId===Yr.id){var en=this._mapDraw;en&&Jr.add(en.group)}else if(Yr.needsDrawMap){var en=this._mapDraw||new MapDraw(Kr);Jr.add(en.group),en.draw(Yr,Zr,Kr,this,Qr),this._mapDraw=en}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;Yr.get("showLegendSymbol")&&Zr.getComponent("legend")&&this._renderSymbols(Yr,Zr,Kr)}}},Gr.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Gr.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Gr.prototype._renderSymbols=function(Yr,Zr,Kr){var Qr=Yr.originalData,Jr=this.group;Qr.each(Qr.mapDimension("value"),function(en,tn){if(!isNaN(en)){var rn=Qr.getItemLayout(tn);if(!(!rn||!rn.point)){var an=rn.point,nn=rn.offset,sn=new Circle({style:{fill:Yr.getData().getVisual("style").fill},shape:{cx:an[0]+nn*9,cy:an[1],r:3},silent:!0,z2:8+(nn?0:Z2_EMPHASIS_LIFT+1)});if(!nn){var ln=Yr.mainSeries.getData(),un=Qr.getName(tn),cn=ln.indexOfName(un),hn=Qr.getItemModel(tn),dn=hn.getModel("label"),fn=ln.getItemGraphicEl(cn);setLabelStyle(sn,getLabelStatesModels(hn),{labelFetcher:{getFormattedLabel:function(pn,gn){return Yr.getFormattedLabel(cn,gn)}},defaultText:un}),sn.disableLabelAnimation=!0,dn.get("position")||sn.setTextConfig({position:"bottom"}),fn.onHoverStateChange=function(pn){setStatesFlag(sn,pn)}}Jr.add(sn)}}})},Gr.type="map",Gr}(ChartView),MapSeries=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.needsDrawMap=!1,Yr.seriesGroup=[],Yr.getTooltipPosition=function(Zr){if(Zr!=null){var Kr=this.getData().getName(Zr),Qr=this.coordinateSystem,Jr=Qr.getRegion(Kr);return Jr&&Qr.dataToPoint(Jr.getCenter())}},Yr}return Gr.prototype.getInitialData=function(Yr){for(var Zr=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),Kr=createHashMap(),Qr=[],Jr=0,en=Zr.count();Jr<en;Jr++){var tn=Zr.getName(Jr);Kr.set(tn,Jr)}var rn=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(rn.regions,function(an){var nn=an.name,sn=Kr.get(nn),ln=an.properties&&an.properties.echartsStyle,un;sn==null?(un={name:nn},Qr.push(un)):un=Zr.getRawDataItem(sn),ln&&merge(un,ln)}),Zr.appendData(Qr),Zr},Gr.prototype.getHostGeoModel=function(){var Yr=this.option.geoIndex;return Yr!=null?this.ecModel.getComponent("geo",Yr):null},Gr.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Gr.prototype.getRawValue=function(Yr){var Zr=this.getData();return Zr.get(Zr.mapDimension("value"),Yr)},Gr.prototype.getRegionModel=function(Yr){var Zr=this.getData();return Zr.getItemModel(Zr.indexOfName(Yr))},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){for(var Qr=this.getData(),Jr=this.getRawValue(Yr),en=Qr.getName(Yr),tn=this.seriesGroup,rn=[],an=0;an<tn.length;an++){var nn=tn[an].originalData.indexOfName(en),sn=Qr.mapDimension("value");isNaN(tn[an].originalData.get(sn,nn))||rn.push(tn[an].name)}return createTooltipMarkup("section",{header:rn.join(", "),noHeader:!rn.length,blocks:[createTooltipMarkup("nameValue",{name:en,value:Jr})]})},Gr.prototype.setZoom=function(Yr){this.option.zoom=Yr},Gr.prototype.setCenter=function(Yr){this.option.center=Yr},Gr.prototype.getLegendIcon=function(Yr){var Zr=Yr.icon||"roundRect",Kr=createSymbol$1(Zr,0,0,Yr.itemWidth,Yr.itemHeight,Yr.itemStyle.fill);return Kr.setStyle(Yr.itemStyle),Kr.style.stroke="none",Zr.indexOf("empty")>-1&&(Kr.style.stroke=Kr.style.fill,Kr.style.fill="#fff",Kr.style.lineWidth=2),Kr},Gr.type="series.map",Gr.dependencies=["geo"],Gr.layoutMode="box",Gr.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},Gr}(SeriesModel);function dataStatistics(Wr,Gr){var Yr={};return each$f(Wr,function(Zr){Zr.each(Zr.mapDimension("value"),function(Kr,Qr){var Jr="ec-"+Zr.getName(Qr);Yr[Jr]=Yr[Jr]||[],isNaN(Kr)||Yr[Jr].push(Kr)})}),Wr[0].map(Wr[0].mapDimension("value"),function(Zr,Kr){for(var Qr="ec-"+Wr[0].getName(Kr),Jr=0,en=1/0,tn=-1/0,rn=Yr[Qr].length,an=0;an<rn;an++)en=Math.min(en,Yr[Qr][an]),tn=Math.max(tn,Yr[Qr][an]),Jr+=Yr[Qr][an];var nn;return Gr==="min"?nn=en:Gr==="max"?nn=tn:Gr==="average"?nn=Jr/rn:nn=Jr,rn===0?NaN:nn})}function mapDataStatistic(Wr){var Gr={};Wr.eachSeriesByType("map",function(Yr){var Zr=Yr.getHostGeoModel(),Kr=Zr?"o"+Zr.id:"i"+Yr.getMapType();(Gr[Kr]=Gr[Kr]||[]).push(Yr)}),each$f(Gr,function(Yr,Zr){for(var Kr=dataStatistics(map$1(Yr,function(Jr){return Jr.getData()}),Yr[0].get("mapValueCalculation")),Qr=0;Qr<Yr.length;Qr++)Yr[Qr].originalData=Yr[Qr].getData();for(var Qr=0;Qr<Yr.length;Qr++)Yr[Qr].seriesGroup=Yr,Yr[Qr].needsDrawMap=Qr===0&&!Yr[Qr].getHostGeoModel(),Yr[Qr].setData(Kr.cloneShallow()),Yr[Qr].mainSeries=Yr[0]})}function mapSymbolLayout(Wr){var Gr={};Wr.eachSeriesByType("map",function(Yr){var Zr=Yr.getMapType();if(!(Yr.getHostGeoModel()||Gr[Zr])){var Kr={};each$f(Yr.seriesGroup,function(Jr){var en=Jr.coordinateSystem,tn=Jr.originalData;Jr.get("showLegendSymbol")&&Wr.getComponent("legend")&&tn.each(tn.mapDimension("value"),function(rn,an){var nn=tn.getName(an),sn=en.getRegion(nn);if(!(!sn||isNaN(rn))){var ln=Kr[nn]||0,un=en.dataToPoint(sn.getCenter());Kr[nn]=ln+1,tn.setItemLayout(an,{point:un,offset:ln})}})});var Qr=Yr.getData();Qr.each(function(Jr){var en=Qr.getName(Jr),tn=Qr.getItemLayout(Jr)||{};tn.showLabel=!Kr[en],Qr.setItemLayout(Jr,tn)}),Gr[Zr]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;return Zr.type="view",Zr.dimensions=["x","y"],Zr._roamTransformable=new Transformable,Zr._rawTransformable=new Transformable,Zr.name=Yr,Zr}return Gr.prototype.setBoundingRect=function(Yr,Zr,Kr,Qr){return this._rect=new BoundingRect(Yr,Zr,Kr,Qr),this._rect},Gr.prototype.getBoundingRect=function(){return this._rect},Gr.prototype.setViewRect=function(Yr,Zr,Kr,Qr){this._transformTo(Yr,Zr,Kr,Qr),this._viewRect=new BoundingRect(Yr,Zr,Kr,Qr)},Gr.prototype._transformTo=function(Yr,Zr,Kr,Qr){var Jr=this.getBoundingRect(),en=this._rawTransformable;en.transform=Jr.calculateTransform(new BoundingRect(Yr,Zr,Kr,Qr));var tn=en.parent;en.parent=null,en.decomposeTransform(),en.parent=tn,this._updateTransform()},Gr.prototype.setCenter=function(Yr,Zr){Yr&&(this._center=[parsePercent(Yr[0],Zr.getWidth()),parsePercent(Yr[1],Zr.getHeight())],this._updateCenterAndZoom())},Gr.prototype.setZoom=function(Yr){Yr=Yr||1;var Zr=this.zoomLimit;Zr&&(Zr.max!=null&&(Yr=Math.min(Zr.max,Yr)),Zr.min!=null&&(Yr=Math.max(Zr.min,Yr))),this._zoom=Yr,this._updateCenterAndZoom()},Gr.prototype.getDefaultCenter=function(){var Yr=this.getBoundingRect(),Zr=Yr.x+Yr.width/2,Kr=Yr.y+Yr.height/2;return[Zr,Kr]},Gr.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Gr.prototype.getZoom=function(){return this._zoom||1},Gr.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Gr.prototype._updateCenterAndZoom=function(){var Yr=this._rawTransformable.getLocalTransform(),Zr=this._roamTransformable,Kr=this.getDefaultCenter(),Qr=this.getCenter(),Jr=this.getZoom();Qr=applyTransform$1([],Qr,Yr),Kr=applyTransform$1([],Kr,Yr),Zr.originX=Qr[0],Zr.originY=Qr[1],Zr.x=Kr[0]-Qr[0],Zr.y=Kr[1]-Qr[1],Zr.scaleX=Zr.scaleY=Jr,this._updateTransform()},Gr.prototype._updateTransform=function(){var Yr=this._roamTransformable,Zr=this._rawTransformable;Zr.parent=Yr,Yr.updateTransform(),Zr.updateTransform(),copy(this.transform||(this.transform=[]),Zr.transform||create$1()),this._rawTransform=Zr.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},Gr.prototype.getTransformInfo=function(){var Yr=this._rawTransformable,Zr=this._roamTransformable,Kr=new Transformable;return Kr.transform=Zr.transform,Kr.decomposeTransform(),{roam:{x:Kr.x,y:Kr.y,scaleX:Kr.scaleX,scaleY:Kr.scaleY},raw:{x:Yr.x,y:Yr.y,scaleX:Yr.scaleX,scaleY:Yr.scaleY}}},Gr.prototype.getViewRect=function(){return this._viewRect},Gr.prototype.getViewRectAfterRoam=function(){var Yr=this.getBoundingRect().clone();return Yr.applyTransform(this.transform),Yr},Gr.prototype.dataToPoint=function(Yr,Zr,Kr){var Qr=Zr?this._rawTransform:this.transform;return Kr=Kr||[],Qr?v2ApplyTransform(Kr,Yr,Qr):copy$1(Kr,Yr)},Gr.prototype.pointToData=function(Yr){var Zr=this.invTransform;return Zr?v2ApplyTransform([],Yr,Zr):[Yr[0],Yr[1]]},Gr.prototype.convertToPixel=function(Yr,Zr,Kr){var Qr=getCoordSys$4(Zr);return Qr===this?Qr.dataToPoint(Kr):null},Gr.prototype.convertFromPixel=function(Yr,Zr,Kr){var Qr=getCoordSys$4(Zr);return Qr===this?Qr.pointToData(Kr):null},Gr.prototype.containPoint=function(Yr){return this.getViewRectAfterRoam().contain(Yr[0],Yr[1])},Gr.dimensions=["x","y"],Gr}(Transformable);function getCoordSys$4(Wr){var Gr=Wr.seriesModel;return Gr?Gr.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this,Yr)||this;Qr.dimensions=geo2DDimensions,Qr.type="geo",Qr._nameCoordMap=createHashMap(),Qr.map=Zr;var Jr=Kr.projection,en=geoSourceManager.load(Zr,Kr.nameMap,Kr.nameProperty),tn=geoSourceManager.getGeoResource(Zr);Qr.resourceType=tn?tn.type:null;var rn=Qr.regions=en.regions,an=GEO_DEFAULT_PARAMS[tn.type];Qr._regionsMap=en.regionsMap,Qr.regions=en.regions,Qr.projection=Jr;var nn;if(Jr)for(var sn=0;sn<rn.length;sn++){var ln=rn[sn].getBoundingRect(Jr);nn=nn||ln.clone(),nn.union(ln)}else nn=en.boundingRect;return Qr.setBoundingRect(nn.x,nn.y,nn.width,nn.height),Qr.aspectScale=Jr?1:retrieve2(Kr.aspectScale,an.aspectScale),Qr._invertLongitute=Jr?!1:an.invertLongitute,Qr}return Gr.prototype._transformTo=function(Yr,Zr,Kr,Qr){var Jr=this.getBoundingRect(),en=this._invertLongitute;Jr=Jr.clone(),en&&(Jr.y=-Jr.y-Jr.height);var tn=this._rawTransformable;tn.transform=Jr.calculateTransform(new BoundingRect(Yr,Zr,Kr,Qr));var rn=tn.parent;tn.parent=null,tn.decomposeTransform(),tn.parent=rn,en&&(tn.scaleY=-tn.scaleY),this._updateTransform()},Gr.prototype.getRegion=function(Yr){return this._regionsMap.get(Yr)},Gr.prototype.getRegionByCoord=function(Yr){for(var Zr=this.regions,Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];if(Qr.type==="geoJSON"&&Qr.contain(Yr))return Zr[Kr]}},Gr.prototype.addGeoCoord=function(Yr,Zr){this._nameCoordMap.set(Yr,Zr)},Gr.prototype.getGeoCoord=function(Yr){var Zr=this._regionsMap.get(Yr);return this._nameCoordMap.get(Yr)||Zr&&Zr.getCenter()},Gr.prototype.dataToPoint=function(Yr,Zr,Kr){if(isString(Yr)&&(Yr=this.getGeoCoord(Yr)),Yr){var Qr=this.projection;return Qr&&(Yr=Qr.project(Yr)),Yr&&this.projectedToPoint(Yr,Zr,Kr)}},Gr.prototype.pointToData=function(Yr){var Zr=this.projection;return Zr&&(Yr=Zr.unproject(Yr)),Yr&&this.pointToProjected(Yr)},Gr.prototype.pointToProjected=function(Yr){return Wr.prototype.pointToData.call(this,Yr)},Gr.prototype.projectedToPoint=function(Yr,Zr,Kr){return Wr.prototype.dataToPoint.call(this,Yr,Zr,Kr)},Gr.prototype.convertToPixel=function(Yr,Zr,Kr){var Qr=getCoordSys$3(Zr);return Qr===this?Qr.dataToPoint(Kr):null},Gr.prototype.convertFromPixel=function(Yr,Zr,Kr){var Qr=getCoordSys$3(Zr);return Qr===this?Qr.pointToData(Kr):null},Gr}(View);mixin(Geo,View);function getCoordSys$3(Wr){var Gr=Wr.geoModel,Yr=Wr.seriesModel;return Gr?Gr.coordinateSystem:Yr?Yr.coordinateSystem||(Yr.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(Wr,Gr){var Yr=Wr.get("boundingCoords");if(Yr!=null){var Zr=Yr[0],Kr=Yr[1];if(isFinite(Zr[0])&&isFinite(Zr[1])&&isFinite(Kr[0])&&isFinite(Kr[1])){var Qr=this.projection;if(Qr){var Jr=Zr[0],en=Zr[1],tn=Kr[0],rn=Kr[1];Zr=[1/0,1/0],Kr=[-1/0,-1/0];var an=function(mn,yn,xn,bn){for(var Sn=xn-mn,wn=bn-yn,_n=0;_n<=100;_n++){var An=_n/100,Cn=Qr.project([mn+Sn*An,yn+wn*An]);min$1(Zr,Zr,Cn),max$1(Kr,Kr,Cn)}};an(Jr,en,tn,en),an(tn,en,tn,rn),an(tn,rn,Jr,rn),an(Jr,rn,tn,en)}this.setBoundingRect(Zr[0],Zr[1],Kr[0]-Zr[0],Kr[1]-Zr[1])}}var nn=this.getBoundingRect(),sn=Wr.get("layoutCenter"),ln=Wr.get("layoutSize"),un=Gr.getWidth(),cn=Gr.getHeight(),hn=nn.width/nn.height*this.aspectScale,dn=!1,fn,pn;sn&&ln&&(fn=[parsePercent(sn[0],un),parsePercent(sn[1],cn)],pn=parsePercent(ln,Math.min(un,cn)),!isNaN(fn[0])&&!isNaN(fn[1])&&!isNaN(pn)&&(dn=!0));var gn;if(dn)gn={},hn>1?(gn.width=pn,gn.height=pn/hn):(gn.height=pn,gn.width=pn*hn),gn.y=fn[1]-gn.height/2,gn.x=fn[0]-gn.width/2;else{var vn=Wr.getBoxLayoutParams();vn.aspect=hn,gn=getLayoutRect(vn,{width:un,height:cn})}this.setViewRect(gn.x,gn.y,gn.width,gn.height),this.setCenter(Wr.get("center"),Gr),this.setZoom(Wr.get("zoom"))}function setGeoCoords(Wr,Gr){each$f(Gr.get("geoCoord"),function(Yr,Zr){Wr.addGeoCoord(Zr,Yr)})}var GeoCreator=function(){function Wr(){this.dimensions=geo2DDimensions}return Wr.prototype.create=function(Gr,Yr){var Zr=[];function Kr(Jr){return{nameProperty:Jr.get("nameProperty"),aspectScale:Jr.get("aspectScale"),projection:Jr.get("projection")}}Gr.eachComponent("geo",function(Jr,en){var tn=Jr.get("map"),rn=new Geo(tn+en,tn,extend({nameMap:Jr.get("nameMap")},Kr(Jr)));rn.zoomLimit=Jr.get("scaleLimit"),Zr.push(rn),Jr.coordinateSystem=rn,rn.model=Jr,rn.resize=resizeGeo,rn.resize(Jr,Yr)}),Gr.eachSeries(function(Jr){var en=Jr.get("coordinateSystem");if(en==="geo"){var tn=Jr.get("geoIndex")||0;Jr.coordinateSystem=Zr[tn]}});var Qr={};return Gr.eachSeriesByType("map",function(Jr){if(!Jr.getHostGeoModel()){var en=Jr.getMapType();Qr[en]=Qr[en]||[],Qr[en].push(Jr)}}),each$f(Qr,function(Jr,en){var tn=map$1(Jr,function(an){return an.get("nameMap")}),rn=new Geo(en,en,extend({nameMap:mergeAll(tn)},Kr(Jr[0])));rn.zoomLimit=retrieve.apply(null,map$1(Jr,function(an){return an.get("scaleLimit")})),Zr.push(rn),rn.resize=resizeGeo,rn.resize(Jr[0],Yr),each$f(Jr,function(an){an.coordinateSystem=rn,setGeoCoords(rn,an)})}),Zr},Wr.prototype.getFilledRegions=function(Gr,Yr,Zr,Kr){for(var Qr=(Gr||[]).slice(),Jr=createHashMap(),en=0;en<Qr.length;en++)Jr.set(Qr[en].name,Qr[en]);var tn=geoSourceManager.load(Yr,Zr,Kr);return each$f(tn.regions,function(rn){var an=rn.name,nn=Jr.get(an),sn=rn.properties&&rn.properties.echartsStyle;nn||(nn={name:an},Qr.push(nn)),sn&&merge(nn,sn)}),Qr},Wr}(),geoCreator=new GeoCreator,GeoModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr,Kr){var Qr=geoSourceManager.getGeoResource(Yr.map);if(Qr&&Qr.type==="geoJSON"){var Jr=Yr.itemStyle=Yr.itemStyle||{};"color"in Jr||(Jr.color="#eee")}this.mergeDefaultAndTheme(Yr,Kr),defaultEmphasis(Yr,"label",["show"])},Gr.prototype.optionUpdated=function(){var Yr=this,Zr=this.option;Zr.regions=geoCreator.getFilledRegions(Zr.regions,Zr.map,Zr.nameMap,Zr.nameProperty);var Kr={};this._optionModelMap=reduce(Zr.regions||[],function(Qr,Jr){var en=Jr.name;return en&&(Qr.set(en,new Model(Jr,Yr,Yr.ecModel)),Jr.selected&&(Kr[en]=!0)),Qr},createHashMap()),Zr.selectedMap||(Zr.selectedMap=Kr)},Gr.prototype.getRegionModel=function(Yr){return this._optionModelMap.get(Yr)||new Model(null,this,this.ecModel)},Gr.prototype.getFormattedLabel=function(Yr,Zr){var Kr=this.getRegionModel(Yr),Qr=Zr==="normal"?Kr.get(["label","formatter"]):Kr.get(["emphasis","label","formatter"]),Jr={name:Yr};if(isFunction(Qr))return Jr.status=Zr,Qr(Jr);if(isString(Qr))return Qr.replace("{a}",Yr??"")},Gr.prototype.setZoom=function(Yr){this.option.zoom=Yr},Gr.prototype.setCenter=function(Yr){this.option.center=Yr},Gr.prototype.select=function(Yr){var Zr=this.option,Kr=Zr.selectedMode;if(Kr){Kr!=="multiple"&&(Zr.selectedMap=null);var Qr=Zr.selectedMap||(Zr.selectedMap={});Qr[Yr]=!0}},Gr.prototype.unSelect=function(Yr){var Zr=this.option.selectedMap;Zr&&(Zr[Yr]=!1)},Gr.prototype.toggleSelected=function(Yr){this[this.isSelected(Yr)?"unSelect":"select"](Yr)},Gr.prototype.isSelected=function(Yr){var Zr=this.option.selectedMap;return!!(Zr&&Zr[Yr])},Gr.type="geo",Gr.layoutMode="box",Gr.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},Gr}(ComponentModel);function getCenterCoord(Wr,Gr){return Wr.pointToProjected?Wr.pointToProjected(Gr):Wr.pointToData(Gr)}function updateCenterAndZoom(Wr,Gr,Yr,Zr){var Kr=Wr.getZoom(),Qr=Wr.getCenter(),Jr=Gr.zoom,en=Wr.projectedToPoint?Wr.projectedToPoint(Qr):Wr.dataToPoint(Qr);if(Gr.dx!=null&&Gr.dy!=null&&(en[0]-=Gr.dx,en[1]-=Gr.dy,Wr.setCenter(getCenterCoord(Wr,en),Zr)),Jr!=null){if(Yr){var tn=Yr.min||0,rn=Yr.max||1/0;Jr=Math.max(Math.min(Kr*Jr,rn),tn)/Kr}Wr.scaleX*=Jr,Wr.scaleY*=Jr;var an=(Gr.originX-Wr.x)*(Jr-1),nn=(Gr.originY-Wr.y)*(Jr-1);Wr.x-=an,Wr.y-=nn,Wr.updateTransform(),Wr.setCenter(getCenterCoord(Wr,en),Zr),Wr.setZoom(Jr*Kr)}return{center:Wr.getCenter(),zoom:Wr.getZoom()}}var GeoView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.focusBlurEnabled=!0,Yr}return Gr.prototype.init=function(Yr,Zr){this._api=Zr},Gr.prototype.render=function(Yr,Zr,Kr,Qr){if(this._model=Yr,!Yr.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw(Kr));var Jr=this._mapDraw;Jr.draw(Yr,Zr,Kr,this,Qr),Jr.group.on("click",this._handleRegionClick,this),Jr.group.silent=Yr.get("silent"),this.group.add(Jr.group),this.updateSelectStatus(Yr,Zr,Kr)},Gr.prototype._handleRegionClick=function(Yr){var Zr;findEventDispatcher(Yr.target,function(Kr){return(Zr=getECData(Kr).eventData)!=null},!0),Zr&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:Zr.name})},Gr.prototype.updateSelectStatus=function(Yr,Zr,Kr){var Qr=this;this._mapDraw.group.traverse(function(Jr){var en=getECData(Jr).eventData;if(en)return Qr._model.isSelected(en.name)?Kr.enterSelect(Jr):Kr.leaveSelect(Jr),!0})},Gr.prototype.findHighDownDispatchers=function(Yr){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(Yr,this._model)},Gr.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},Gr.type="geo",Gr}(ComponentView);function registerMap(Wr,Gr,Yr){geoSourceManager.registerMap(Wr,Gr,Yr)}function install$J(Wr){Wr.registerCoordinateSystem("geo",geoCreator),Wr.registerComponentModel(GeoModel),Wr.registerComponentView(GeoView),Wr.registerImpl("registerMap",registerMap),Wr.registerImpl("getMap",function(Yr){return geoSourceManager.getMapForUser(Yr)});function Gr(Yr,Zr){Zr.update="geo:updateSelectStatus",Wr.registerAction(Zr,function(Kr,Qr){var Jr={},en=[];return Qr.eachComponent({mainType:"geo",query:Kr},function(tn){tn[Yr](Kr.name);var rn=tn.coordinateSystem;each$f(rn.regions,function(nn){Jr[nn.name]=tn.isSelected(nn.name)||!1});var an=[];each$f(Jr,function(nn,sn){Jr[sn]&&an.push(sn)}),en.push({geoIndex:tn.componentIndex,name:an})}),{selected:Jr,allSelected:en,name:Kr.name}})}Gr("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Gr("select",{type:"geoSelect",event:"geoselected"}),Gr("unSelect",{type:"geoUnSelect",event:"geounselected"}),Wr.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(Yr,Zr,Kr){var Qr=Yr.componentType||"series";Zr.eachComponent({mainType:Qr,query:Yr},function(Jr){var en=Jr.coordinateSystem;if(en.type==="geo"){var tn=updateCenterAndZoom(en,Yr,Jr.get("scaleLimit"),Kr);Jr.setCenter&&Jr.setCenter(tn.center),Jr.setZoom&&Jr.setZoom(tn.zoom),Qr==="series"&&each$f(Jr.seriesGroup,function(rn){rn.setCenter(tn.center),rn.setZoom(tn.zoom)})}})})}function install$I(Wr){use(install$J),Wr.registerChartView(MapView),Wr.registerSeriesModel(MapSeries),Wr.registerLayout(mapSymbolLayout),Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",Wr.registerAction)}function init(Wr){var Gr=Wr;Gr.hierNode={defaultAncestor:null,ancestor:Gr,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Yr=[Gr],Zr,Kr;Zr=Yr.pop();)if(Kr=Zr.children,Zr.isExpand&&Kr.length)for(var Qr=Kr.length,Jr=Qr-1;Jr>=0;Jr--){var en=Kr[Jr];en.hierNode={defaultAncestor:null,ancestor:en,prelim:0,modifier:0,change:0,shift:0,i:Jr,thread:null},Yr.push(en)}}function firstWalk(Wr,Gr){var Yr=Wr.isExpand?Wr.children:[],Zr=Wr.parentNode.children,Kr=Wr.hierNode.i?Zr[Wr.hierNode.i-1]:null;if(Yr.length){executeShifts(Wr);var Qr=(Yr[0].hierNode.prelim+Yr[Yr.length-1].hierNode.prelim)/2;Kr?(Wr.hierNode.prelim=Kr.hierNode.prelim+Gr(Wr,Kr),Wr.hierNode.modifier=Wr.hierNode.prelim-Qr):Wr.hierNode.prelim=Qr}else Kr&&(Wr.hierNode.prelim=Kr.hierNode.prelim+Gr(Wr,Kr));Wr.parentNode.hierNode.defaultAncestor=apportion(Wr,Kr,Wr.parentNode.hierNode.defaultAncestor||Zr[0],Gr)}function secondWalk(Wr){var Gr=Wr.hierNode.prelim+Wr.parentNode.hierNode.modifier;Wr.setLayout({x:Gr},!0),Wr.hierNode.modifier+=Wr.parentNode.hierNode.modifier}function separation(Wr){return arguments.length?Wr:defaultSeparation}function radialCoordinate(Wr,Gr){return Wr-=Math.PI/2,{x:Gr*Math.cos(Wr),y:Gr*Math.sin(Wr)}}function getViewRect$4(Wr,Gr){return getLayoutRect(Wr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function executeShifts(Wr){for(var Gr=Wr.children,Yr=Gr.length,Zr=0,Kr=0;--Yr>=0;){var Qr=Gr[Yr];Qr.hierNode.prelim+=Zr,Qr.hierNode.modifier+=Zr,Kr+=Qr.hierNode.change,Zr+=Qr.hierNode.shift+Kr}}function apportion(Wr,Gr,Yr,Zr){if(Gr){for(var Kr=Wr,Qr=Wr,Jr=Qr.parentNode.children[0],en=Gr,tn=Kr.hierNode.modifier,rn=Qr.hierNode.modifier,an=Jr.hierNode.modifier,nn=en.hierNode.modifier;en=nextRight(en),Qr=nextLeft(Qr),en&&Qr;){Kr=nextRight(Kr),Jr=nextLeft(Jr),Kr.hierNode.ancestor=Wr;var sn=en.hierNode.prelim+nn-Qr.hierNode.prelim-rn+Zr(en,Qr);sn>0&&(moveSubtree(nextAncestor(en,Wr,Yr),Wr,sn),rn+=sn,tn+=sn),nn+=en.hierNode.modifier,rn+=Qr.hierNode.modifier,tn+=Kr.hierNode.modifier,an+=Jr.hierNode.modifier}en&&!nextRight(Kr)&&(Kr.hierNode.thread=en,Kr.hierNode.modifier+=nn-tn),Qr&&!nextLeft(Jr)&&(Jr.hierNode.thread=Qr,Jr.hierNode.modifier+=rn-an,Yr=Wr)}return Yr}function nextRight(Wr){var Gr=Wr.children;return Gr.length&&Wr.isExpand?Gr[Gr.length-1]:Wr.hierNode.thread}function nextLeft(Wr){var Gr=Wr.children;return Gr.length&&Wr.isExpand?Gr[0]:Wr.hierNode.thread}function nextAncestor(Wr,Gr,Yr){return Wr.hierNode.ancestor.parentNode===Gr.parentNode?Wr.hierNode.ancestor:Yr}function moveSubtree(Wr,Gr,Yr){var Zr=Yr/(Gr.hierNode.i-Wr.hierNode.i);Gr.hierNode.change-=Zr,Gr.hierNode.shift+=Yr,Gr.hierNode.modifier+=Yr,Gr.hierNode.prelim+=Yr,Wr.hierNode.change+=Zr}function defaultSeparation(Wr,Gr){return Wr.parentNode===Gr.parentNode?1:2}var TreeEdgeShape=function(){function Wr(){this.parentPoint=[],this.childPoints=[]}return Wr}(),TreePath=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new TreeEdgeShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.childPoints,Qr=Kr.length,Jr=Zr.parentPoint,en=Kr[0],tn=Kr[Qr-1];if(Qr===1){Yr.moveTo(Jr[0],Jr[1]),Yr.lineTo(en[0],en[1]);return}var rn=Zr.orient,an=rn==="TB"||rn==="BT"?0:1,nn=1-an,sn=parsePercent(Zr.forkPosition,1),ln=[];ln[an]=Jr[an],ln[nn]=Jr[nn]+(tn[nn]-Jr[nn])*sn,Yr.moveTo(Jr[0],Jr[1]),Yr.lineTo(ln[0],ln[1]),Yr.moveTo(en[0],en[1]),ln[an]=en[an],Yr.lineTo(ln[0],ln[1]),ln[an]=tn[an],Yr.lineTo(ln[0],ln[1]),Yr.lineTo(tn[0],tn[1]);for(var un=1;un<Qr-1;un++){var cn=Kr[un];Yr.moveTo(cn[0],cn[1]),ln[an]=cn[an],Yr.lineTo(ln[0],ln[1])}},Gr}(Path),TreeView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._mainGroup=new Group$3,Yr}return Gr.prototype.init=function(Yr,Zr){this._controller=new RoamController(Zr.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=Yr.layoutInfo,en=this._mainGroup,tn=Yr.get("layout");tn==="radial"?(en.x=Jr.x+Jr.width/2,en.y=Jr.y+Jr.height/2):(en.x=Jr.x,en.y=Jr.y),this._updateViewCoordSys(Yr,Kr),this._updateController(Yr,Zr,Kr);var rn=this._data;Qr.diff(rn).add(function(an){symbolNeedsDraw(Qr,an)&&updateNode(Qr,an,null,en,Yr)}).update(function(an,nn){var sn=rn.getItemGraphicEl(nn);if(!symbolNeedsDraw(Qr,an)){sn&&removeNode(rn,nn,sn,en,Yr);return}updateNode(Qr,an,sn,en,Yr)}).remove(function(an){var nn=rn.getItemGraphicEl(an);nn&&removeNode(rn,an,nn,en,Yr)}).execute(),this._nodeScaleRatio=Yr.get("nodeScaleRatio"),this._updateNodeAndLinkScale(Yr),Yr.get("expandAndCollapse")===!0&&Qr.eachItemGraphicEl(function(an,nn){an.off("click").on("click",function(){Kr.dispatchAction({type:"treeExpandAndCollapse",seriesId:Yr.id,dataIndex:nn})})}),this._data=Qr},Gr.prototype._updateViewCoordSys=function(Yr,Zr){var Kr=Yr.getData(),Qr=[];Kr.each(function(nn){var sn=Kr.getItemLayout(nn);sn&&!isNaN(sn.x)&&!isNaN(sn.y)&&Qr.push([+sn.x,+sn.y])});var Jr=[],en=[];fromPoints(Qr,Jr,en);var tn=this._min,rn=this._max;en[0]-Jr[0]===0&&(Jr[0]=tn?tn[0]:Jr[0]-1,en[0]=rn?rn[0]:en[0]+1),en[1]-Jr[1]===0&&(Jr[1]=tn?tn[1]:Jr[1]-1,en[1]=rn?rn[1]:en[1]+1);var an=Yr.coordinateSystem=new View;an.zoomLimit=Yr.get("scaleLimit"),an.setBoundingRect(Jr[0],Jr[1],en[0]-Jr[0],en[1]-Jr[1]),an.setCenter(Yr.get("center"),Zr),an.setZoom(Yr.get("zoom")),this.group.attr({x:an.x,y:an.y,scaleX:an.scaleX,scaleY:an.scaleY}),this._min=Jr,this._max=en},Gr.prototype._updateController=function(Yr,Zr,Kr){var Qr=this,Jr=this._controller,en=this._controllerHost,tn=this.group;Jr.setPointerChecker(function(rn,an,nn){var sn=tn.getBoundingRect();return sn.applyTransform(tn.transform),sn.contain(an,nn)&&!onIrrelevantElement(rn,Kr,Yr)}),Jr.enable(Yr.get("roam")),en.zoomLimit=Yr.get("scaleLimit"),en.zoom=Yr.coordinateSystem.getZoom(),Jr.off("pan").off("zoom").on("pan",function(rn){updateViewOnPan(en,rn.dx,rn.dy),Kr.dispatchAction({seriesId:Yr.id,type:"treeRoam",dx:rn.dx,dy:rn.dy})}).on("zoom",function(rn){updateViewOnZoom(en,rn.scale,rn.originX,rn.originY),Kr.dispatchAction({seriesId:Yr.id,type:"treeRoam",zoom:rn.scale,originX:rn.originX,originY:rn.originY}),Qr._updateNodeAndLinkScale(Yr),Kr.updateLabelLayout()})},Gr.prototype._updateNodeAndLinkScale=function(Yr){var Zr=Yr.getData(),Kr=this._getNodeGlobalScale(Yr);Zr.eachItemGraphicEl(function(Qr,Jr){Qr.setSymbolScale(Kr)})},Gr.prototype._getNodeGlobalScale=function(Yr){var Zr=Yr.coordinateSystem;if(Zr.type!=="view")return 1;var Kr=this._nodeScaleRatio,Qr=Zr.scaleX||1,Jr=Zr.getZoom(),en=(Jr-1)*Kr+1;return en/Qr},Gr.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Gr.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Gr.type="tree",Gr}(ChartView);function symbolNeedsDraw(Wr,Gr){var Yr=Wr.getItemLayout(Gr);return Yr&&!isNaN(Yr.x)&&!isNaN(Yr.y)}function updateNode(Wr,Gr,Yr,Zr,Kr){var Qr=!Yr,Jr=Wr.tree.getNodeByDataIndex(Gr),en=Jr.getModel(),tn=Jr.getVisual("style").fill,rn=Jr.isExpand===!1&&Jr.children.length!==0?tn:"#fff",an=Wr.tree.root,nn=Jr.parentNode===an?Jr:Jr.parentNode||Jr,sn=Wr.getItemGraphicEl(nn.dataIndex),ln=nn.getLayout(),un=sn?{x:sn.__oldX,y:sn.__oldY,rawX:sn.__radialOldRawX,rawY:sn.__radialOldRawY}:ln,cn=Jr.getLayout();Qr?(Yr=new Symbol$1(Wr,Gr,null,{symbolInnerColor:rn,useNameLabel:!0}),Yr.x=un.x,Yr.y=un.y):Yr.updateData(Wr,Gr,null,{symbolInnerColor:rn,useNameLabel:!0}),Yr.__radialOldRawX=Yr.__radialRawX,Yr.__radialOldRawY=Yr.__radialRawY,Yr.__radialRawX=cn.rawX,Yr.__radialRawY=cn.rawY,Zr.add(Yr),Wr.setItemGraphicEl(Gr,Yr),Yr.__oldX=Yr.x,Yr.__oldY=Yr.y,updateProps$1(Yr,{x:cn.x,y:cn.y},Kr);var hn=Yr.getSymbolPath();if(Kr.get("layout")==="radial"){var dn=an.children[0],fn=dn.getLayout(),pn=dn.children.length,gn=void 0,vn=void 0;if(cn.x===fn.x&&Jr.isExpand===!0&&dn.children.length){var mn={x:(dn.children[0].getLayout().x+dn.children[pn-1].getLayout().x)/2,y:(dn.children[0].getLayout().y+dn.children[pn-1].getLayout().y)/2};gn=Math.atan2(mn.y-fn.y,mn.x-fn.x),gn<0&&(gn=Math.PI*2+gn),vn=mn.x<fn.x,vn&&(gn=gn-Math.PI)}else gn=Math.atan2(cn.y-fn.y,cn.x-fn.x),gn<0&&(gn=Math.PI*2+gn),Jr.children.length===0||Jr.children.length!==0&&Jr.isExpand===!1?(vn=cn.x<fn.x,vn&&(gn=gn-Math.PI)):(vn=cn.x>fn.x,vn||(gn=gn-Math.PI));var yn=vn?"left":"right",xn=en.getModel("label"),bn=xn.get("rotate"),Sn=bn*(Math.PI/180),wn=hn.getTextContent();wn&&(hn.setTextConfig({position:xn.get("position")||yn,rotation:bn==null?-gn:Sn,origin:"center"}),wn.setStyle("verticalAlign","middle"))}var _n=en.get(["emphasis","focus"]),An=_n==="relative"?concatArray(Jr.getAncestorsIndices(),Jr.getDescendantIndices()):_n==="ancestor"?Jr.getAncestorsIndices():_n==="descendant"?Jr.getDescendantIndices():null;An&&(getECData(Yr).focus=An),drawEdge(Kr,Jr,an,Yr,un,ln,cn,Zr),Yr.__edge&&(Yr.onHoverStateChange=function(Cn){if(Cn!=="blur"){var Tn=Jr.parentNode&&Wr.getItemGraphicEl(Jr.parentNode.dataIndex);Tn&&Tn.hoverState===HOVER_STATE_BLUR||setStatesFlag(Yr.__edge,Cn)}})}function drawEdge(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Gr.getModel(),rn=Wr.get("edgeShape"),an=Wr.get("layout"),nn=Wr.getOrient(),sn=Wr.get(["lineStyle","curveness"]),ln=Wr.get("edgeForkPosition"),un=tn.getModel("lineStyle").getLineStyle(),cn=Zr.__edge;if(rn==="curve")Gr.parentNode&&Gr.parentNode!==Yr&&(cn||(cn=Zr.__edge=new BezierCurve({shape:getEdgeShape(an,nn,sn,Kr,Kr)})),updateProps$1(cn,{shape:getEdgeShape(an,nn,sn,Qr,Jr)},Wr));else if(rn==="polyline"&&an==="orthogonal"&&Gr!==Yr&&Gr.children&&Gr.children.length!==0&&Gr.isExpand===!0){for(var hn=Gr.children,dn=[],fn=0;fn<hn.length;fn++){var pn=hn[fn].getLayout();dn.push([pn.x,pn.y])}cn||(cn=Zr.__edge=new TreePath({shape:{parentPoint:[Jr.x,Jr.y],childPoints:[[Jr.x,Jr.y]],orient:nn,forkPosition:ln}})),updateProps$1(cn,{shape:{parentPoint:[Jr.x,Jr.y],childPoints:dn}},Wr)}cn&&!(rn==="polyline"&&!Gr.isExpand)&&(cn.useStyle(defaults({strokeNoScale:!0,fill:null},un)),setStatesStylesFromModel(cn,tn,"lineStyle"),setDefaultStateProxy(cn),en.add(cn))}function removeNodeEdge(Wr,Gr,Yr,Zr,Kr){var Qr=Gr.tree.root,Jr=getSourceNode(Qr,Wr),en=Jr.source,tn=Jr.sourceLayout,rn=Gr.getItemGraphicEl(Wr.dataIndex);if(rn){var an=Gr.getItemGraphicEl(en.dataIndex),nn=an.__edge,sn=rn.__edge||(en.isExpand===!1||en.children.length===1?nn:void 0),ln=Zr.get("edgeShape"),un=Zr.get("layout"),cn=Zr.get("orient"),hn=Zr.get(["lineStyle","curveness"]);sn&&(ln==="curve"?removeElement(sn,{shape:getEdgeShape(un,cn,hn,tn,tn),style:{opacity:0}},Zr,{cb:function(){Yr.remove(sn)},removeOpt:Kr}):ln==="polyline"&&Zr.get("layout")==="orthogonal"&&removeElement(sn,{shape:{parentPoint:[tn.x,tn.y],childPoints:[[tn.x,tn.y]]},style:{opacity:0}},Zr,{cb:function(){Yr.remove(sn)},removeOpt:Kr}))}}function getSourceNode(Wr,Gr){for(var Yr=Gr.parentNode===Wr?Gr:Gr.parentNode||Gr,Zr;Zr=Yr.getLayout(),Zr==null;)Yr=Yr.parentNode===Wr?Yr:Yr.parentNode||Yr;return{source:Yr,sourceLayout:Zr}}function removeNode(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.tree.getNodeByDataIndex(Gr),Jr=Wr.tree.root,en=getSourceNode(Jr,Qr).sourceLayout,tn={duration:Kr.get("animationDurationUpdate"),easing:Kr.get("animationEasingUpdate")};removeElement(Yr,{x:en.x+1,y:en.y+1},Kr,{cb:function(){Zr.remove(Yr),Wr.setItemGraphicEl(Gr,null)},removeOpt:tn}),Yr.fadeOut(null,Wr.hostModel,{fadeLabel:!0,animation:tn}),Qr.children.forEach(function(rn){removeNodeEdge(rn,Wr,Zr,Kr,tn)}),removeNodeEdge(Qr,Wr,Zr,Kr,tn)}function getEdgeShape(Wr,Gr,Yr,Zr,Kr){var Qr,Jr,en,tn,rn,an,nn,sn;if(Wr==="radial"){rn=Zr.rawX,nn=Zr.rawY,an=Kr.rawX,sn=Kr.rawY;var ln=radialCoordinate(rn,nn),un=radialCoordinate(rn,nn+(sn-nn)*Yr),cn=radialCoordinate(an,sn+(nn-sn)*Yr),hn=radialCoordinate(an,sn);return{x1:ln.x||0,y1:ln.y||0,x2:hn.x||0,y2:hn.y||0,cpx1:un.x||0,cpy1:un.y||0,cpx2:cn.x||0,cpy2:cn.y||0}}else rn=Zr.x,nn=Zr.y,an=Kr.x,sn=Kr.y,(Gr==="LR"||Gr==="RL")&&(Qr=rn+(an-rn)*Yr,Jr=nn,en=an+(rn-an)*Yr,tn=sn),(Gr==="TB"||Gr==="BT")&&(Qr=rn,Jr=nn+(sn-nn)*Yr,en=an,tn=sn+(nn-sn)*Yr);return{x1:rn,y1:nn,x2:an,y2:sn,cpx1:Qr,cpy1:Jr,cpx2:en,cpy2:tn}}var inner$e=makeInner();function linkSeriesData(Wr){var Gr=Wr.mainData,Yr=Wr.datas;Yr||(Yr={main:Gr},Wr.datasAttr={main:"data"}),Wr.datas=Wr.mainData=null,linkAll(Gr,Yr,Wr),each$f(Yr,function(Zr){each$f(Gr.TRANSFERABLE_METHODS,function(Kr){Zr.wrapMethod(Kr,curry$1(transferInjection,Wr))})}),Gr.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,Wr)),each$f(Gr.CHANGABLE_METHODS,function(Zr){Gr.wrapMethod(Zr,curry$1(changeInjection,Wr))}),assert(Yr[Gr.dataType]===Gr)}function transferInjection(Wr,Gr){if(isMainData(this)){var Yr=extend({},inner$e(this).datas);Yr[this.dataType]=Gr,linkAll(Gr,Yr,Wr)}else linkSingle(Gr,this.dataType,inner$e(this).mainData,Wr);return Gr}function changeInjection(Wr,Gr){return Wr.struct&&Wr.struct.update(),Gr}function cloneShallowInjection(Wr,Gr){return each$f(inner$e(Gr).datas,function(Yr,Zr){Yr!==Gr&&linkSingle(Yr.cloneShallow(),Zr,Gr,Wr)}),Gr}function getLinkedData(Wr){var Gr=inner$e(this).mainData;return Wr==null||Gr==null?Gr:inner$e(Gr).datas[Wr]}function getLinkedDataAll(){var Wr=inner$e(this).mainData;return Wr==null?[{data:Wr}]:map$1(keys(inner$e(Wr).datas),function(Gr){return{type:Gr,data:inner$e(Wr).datas[Gr]}})}function isMainData(Wr){return inner$e(Wr).mainData===Wr}function linkAll(Wr,Gr,Yr){inner$e(Wr).datas={},each$f(Gr,function(Zr,Kr){linkSingle(Zr,Kr,Wr,Yr)})}function linkSingle(Wr,Gr,Yr,Zr){inner$e(Yr).datas[Gr]=Wr,inner$e(Wr).mainData=Yr,Wr.dataType=Gr,Zr.struct&&(Wr[Zr.structAttr]=Zr.struct,Zr.struct[Zr.datasAttr[Gr]]=Wr),Wr.getLinkedData=getLinkedData,Wr.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function Wr(Gr,Yr){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=Gr||"",this.hostTree=Yr}return Wr.prototype.isRemoved=function(){return this.dataIndex<0},Wr.prototype.eachNode=function(Gr,Yr,Zr){isFunction(Gr)&&(Zr=Yr,Yr=Gr,Gr=null),Gr=Gr||{},isString(Gr)&&(Gr={order:Gr});var Kr=Gr.order||"preorder",Qr=this[Gr.attr||"children"],Jr;Kr==="preorder"&&(Jr=Yr.call(Zr,this));for(var en=0;!Jr&&en<Qr.length;en++)Qr[en].eachNode(Gr,Yr,Zr);Kr==="postorder"&&Yr.call(Zr,this)},Wr.prototype.updateDepthAndHeight=function(Gr){var Yr=0;this.depth=Gr;for(var Zr=0;Zr<this.children.length;Zr++){var Kr=this.children[Zr];Kr.updateDepthAndHeight(Gr+1),Kr.height>Yr&&(Yr=Kr.height)}this.height=Yr+1},Wr.prototype.getNodeById=function(Gr){if(this.getId()===Gr)return this;for(var Yr=0,Zr=this.children,Kr=Zr.length;Yr<Kr;Yr++){var Qr=Zr[Yr].getNodeById(Gr);if(Qr)return Qr}},Wr.prototype.contains=function(Gr){if(Gr===this)return!0;for(var Yr=0,Zr=this.children,Kr=Zr.length;Yr<Kr;Yr++){var Qr=Zr[Yr].contains(Gr);if(Qr)return Qr}},Wr.prototype.getAncestors=function(Gr){for(var Yr=[],Zr=Gr?this:this.parentNode;Zr;)Yr.push(Zr),Zr=Zr.parentNode;return Yr.reverse(),Yr},Wr.prototype.getAncestorsIndices=function(){for(var Gr=[],Yr=this;Yr;)Gr.push(Yr.dataIndex),Yr=Yr.parentNode;return Gr.reverse(),Gr},Wr.prototype.getDescendantIndices=function(){var Gr=[];return this.eachNode(function(Yr){Gr.push(Yr.dataIndex)}),Gr},Wr.prototype.getValue=function(Gr){var Yr=this.hostTree.data;return Yr.getStore().get(Yr.getDimensionIndex(Gr||"value"),this.dataIndex)},Wr.prototype.setLayout=function(Gr,Yr){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,Gr,Yr)},Wr.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},Wr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Yr=this.hostTree,Zr=Yr.data.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Wr.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},Wr.prototype.setVisual=function(Gr,Yr){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Gr,Yr)},Wr.prototype.getVisual=function(Gr){return this.hostTree.data.getItemVisual(this.dataIndex,Gr)},Wr.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},Wr.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},Wr.prototype.getChildIndex=function(){if(this.parentNode){for(var Gr=this.parentNode.children,Yr=0;Yr<Gr.length;++Yr)if(Gr[Yr]===this)return Yr;return-1}return-1},Wr.prototype.isAncestorOf=function(Gr){for(var Yr=Gr.parentNode;Yr;){if(Yr===this)return!0;Yr=Yr.parentNode}return!1},Wr.prototype.isDescendantOf=function(Gr){return Gr!==this&&Gr.isAncestorOf(this)},Wr}(),Tree=function(){function Wr(Gr){this.type="tree",this._nodes=[],this.hostModel=Gr}return Wr.prototype.eachNode=function(Gr,Yr,Zr){this.root.eachNode(Gr,Yr,Zr)},Wr.prototype.getNodeByDataIndex=function(Gr){var Yr=this.data.getRawIndex(Gr);return this._nodes[Yr]},Wr.prototype.getNodeById=function(Gr){return this.root.getNodeById(Gr)},Wr.prototype.update=function(){for(var Gr=this.data,Yr=this._nodes,Zr=0,Kr=Yr.length;Zr<Kr;Zr++)Yr[Zr].dataIndex=-1;for(var Zr=0,Kr=Gr.count();Zr<Kr;Zr++)Yr[Gr.getRawIndex(Zr)].dataIndex=Zr},Wr.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Wr.createTree=function(Gr,Yr,Zr){var Kr=new Wr(Yr),Qr=[],Jr=1;en(Gr);function en(an,nn){var sn=an.value;Jr=Math.max(Jr,isArray$1(sn)?sn.length:1),Qr.push(an);var ln=new TreeNode(convertOptionIdName(an.name,""),Kr);nn?addChild(ln,nn):Kr.root=ln,Kr._nodes.push(ln);var un=an.children;if(un)for(var cn=0;cn<un.length;cn++)en(un[cn],ln)}Kr.root.updateDepthAndHeight(0);var tn=prepareSeriesDataSchema(Qr,{coordDimensions:["value"],dimensionsCount:Jr}).dimensions,rn=new SeriesData(tn,Yr);return rn.initData(Qr),Zr&&Zr(rn),linkSeriesData({mainData:rn,struct:Kr,structAttr:"tree"}),Kr.update(),Kr},Wr}();function addChild(Wr,Gr){var Yr=Gr.children;Wr.parentNode!==Gr&&(Yr.push(Wr),Wr.parentNode=Gr)}function retrieveTargetInfo(Wr,Gr,Yr){if(Wr&&indexOf(Gr,Wr.type)>=0){var Zr=Yr.getData().tree.root,Kr=Wr.targetNode;if(isString(Kr)&&(Kr=Zr.getNodeById(Kr)),Kr&&Zr.contains(Kr))return{node:Kr};var Qr=Wr.targetNodeId;if(Qr!=null&&(Kr=Zr.getNodeById(Qr)))return{node:Kr}}}function getPathToRoot(Wr){for(var Gr=[];Wr;)Wr=Wr.parentNode,Wr&&Gr.push(Wr);return Gr.reverse()}function aboveViewRoot(Wr,Gr){var Yr=getPathToRoot(Wr);return indexOf(Yr,Gr)>=0}function wrapTreePathInfo(Wr,Gr){for(var Yr=[];Wr;){var Zr=Wr.dataIndex;Yr.push({name:Wr.name,dataIndex:Zr,value:Gr.getRawValue(Zr)}),Wr=Wr.parentNode}return Yr.reverse(),Yr}var TreeSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.hasSymbolVisual=!0,Yr.ignoreStyleOnData=!0,Yr}return Gr.prototype.getInitialData=function(Yr){var Zr={name:Yr.name,children:Yr.data},Kr=Yr.leaves||{},Qr=new Model(Kr,this,this.ecModel),Jr=Tree.createTree(Zr,this,en);function en(nn){nn.wrapMethod("getItemModel",function(sn,ln){var un=Jr.getNodeByDataIndex(ln);return un&&un.children.length&&un.isExpand||(sn.parentModel=Qr),sn})}var tn=0;Jr.eachNode("preorder",function(nn){nn.depth>tn&&(tn=nn.depth)});var rn=Yr.expandAndCollapse,an=rn&&Yr.initialTreeDepth>=0?Yr.initialTreeDepth:tn;return Jr.root.eachNode("preorder",function(nn){var sn=nn.hostTree.data.getRawDataItem(nn.dataIndex);nn.isExpand=sn&&sn.collapsed!=null?!sn.collapsed:nn.depth<=an}),Jr.data},Gr.prototype.getOrient=function(){var Yr=this.get("orient");return Yr==="horizontal"?Yr="LR":Yr==="vertical"&&(Yr="TB"),Yr},Gr.prototype.setZoom=function(Yr){this.option.zoom=Yr},Gr.prototype.setCenter=function(Yr){this.option.center=Yr},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){for(var Qr=this.getData().tree,Jr=Qr.root.children[0],en=Qr.getNodeByDataIndex(Yr),tn=en.getValue(),rn=en.name;en&&en!==Jr;)rn=en.parentNode.name+"."+rn,en=en.parentNode;return createTooltipMarkup("nameValue",{name:rn,value:tn,noValue:isNaN(tn)||tn==null})},Gr.prototype.getDataParams=function(Yr){var Zr=Wr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Yr);return Zr.treeAncestors=wrapTreePathInfo(Kr,this),Zr.collapsed=!Kr.isExpand,Zr},Gr.type="series.tree",Gr.layoutMode="box",Gr.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},Gr}(SeriesModel);function eachAfter(Wr,Gr,Yr){for(var Zr=[Wr],Kr=[],Qr;Qr=Zr.pop();)if(Kr.push(Qr),Qr.isExpand){var Jr=Qr.children;if(Jr.length)for(var en=0;en<Jr.length;en++)Zr.push(Jr[en])}for(;Qr=Kr.pop();)Gr(Qr,Yr)}function eachBefore(Wr,Gr){for(var Yr=[Wr],Zr;Zr=Yr.pop();)if(Gr(Zr),Zr.isExpand){var Kr=Zr.children;if(Kr.length)for(var Qr=Kr.length-1;Qr>=0;Qr--)Yr.push(Kr[Qr])}}function treeLayout(Wr,Gr){Wr.eachSeriesByType("tree",function(Yr){commonLayout(Yr,Gr)})}function commonLayout(Wr,Gr){var Yr=getViewRect$4(Wr,Gr);Wr.layoutInfo=Yr;var Zr=Wr.get("layout"),Kr=0,Qr=0,Jr=null;Zr==="radial"?(Kr=2*Math.PI,Qr=Math.min(Yr.height,Yr.width)/2,Jr=separation(function(pn,gn){return(pn.parentNode===gn.parentNode?1:2)/pn.depth})):(Kr=Yr.width,Qr=Yr.height,Jr=separation());var en=Wr.getData().tree.root,tn=en.children[0];if(tn){init(en),eachAfter(tn,firstWalk,Jr),en.hierNode.modifier=-tn.hierNode.prelim,eachBefore(tn,secondWalk);var rn=tn,an=tn,nn=tn;eachBefore(tn,function(pn){var gn=pn.getLayout().x;gn<rn.getLayout().x&&(rn=pn),gn>an.getLayout().x&&(an=pn),pn.depth>nn.depth&&(nn=pn)});var sn=rn===an?1:Jr(rn,an)/2,ln=sn-rn.getLayout().x,un=0,cn=0,hn=0,dn=0;if(Zr==="radial")un=Kr/(an.getLayout().x+sn+ln),cn=Qr/(nn.depth-1||1),eachBefore(tn,function(pn){hn=(pn.getLayout().x+ln)*un,dn=(pn.depth-1)*cn;var gn=radialCoordinate(hn,dn);pn.setLayout({x:gn.x,y:gn.y,rawX:hn,rawY:dn},!0)});else{var fn=Wr.getOrient();fn==="RL"||fn==="LR"?(cn=Qr/(an.getLayout().x+sn+ln),un=Kr/(nn.depth-1||1),eachBefore(tn,function(pn){dn=(pn.getLayout().x+ln)*cn,hn=fn==="LR"?(pn.depth-1)*un:Kr-(pn.depth-1)*un,pn.setLayout({x:hn,y:dn},!0)})):(fn==="TB"||fn==="BT")&&(un=Kr/(an.getLayout().x+sn+ln),cn=Qr/(nn.depth-1||1),eachBefore(tn,function(pn){hn=(pn.getLayout().x+ln)*un,dn=fn==="TB"?(pn.depth-1)*cn:Qr-(pn.depth-1)*cn,pn.setLayout({x:hn,y:dn},!0)}))}}}function treeVisual(Wr){Wr.eachSeriesByType("tree",function(Gr){var Yr=Gr.getData(),Zr=Yr.tree;Zr.eachNode(function(Kr){var Qr=Kr.getModel(),Jr=Qr.getModel("itemStyle").getItemStyle(),en=Yr.ensureUniqueItemVisual(Kr.dataIndex,"style");extend(en,Jr)})})}function installTreeAction(Wr){Wr.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(Gr,Yr){Yr.eachComponent({mainType:"series",subType:"tree",query:Gr},function(Zr){var Kr=Gr.dataIndex,Qr=Zr.getData().tree,Jr=Qr.getNodeByDataIndex(Kr);Jr.isExpand=!Jr.isExpand})}),Wr.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(Gr,Yr,Zr){Yr.eachComponent({mainType:"series",subType:"tree",query:Gr},function(Kr){var Qr=Kr.coordinateSystem,Jr=updateCenterAndZoom(Qr,Gr,void 0,Zr);Kr.setCenter&&Kr.setCenter(Jr.center),Kr.setZoom&&Kr.setZoom(Jr.zoom)})})}function install$H(Wr){Wr.registerChartView(TreeView),Wr.registerSeriesModel(TreeSeriesModel),Wr.registerLayout(treeLayout),Wr.registerVisual(treeVisual),installTreeAction(Wr)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(Wr){for(var Gr=0;Gr<actionTypes.length;Gr++)Wr.registerAction({type:actionTypes[Gr],update:"updateView"},noop);Wr.registerAction({type:"treemapRootToNode",update:"updateView"},function(Yr,Zr){Zr.eachComponent({mainType:"series",subType:"treemap",query:Yr},Kr);function Kr(Qr,Jr){var en=["treemapZoomToNode","treemapRootToNode"],tn=retrieveTargetInfo(Yr,en,Qr);if(tn){var rn=Qr.getViewRoot();rn&&(Yr.direction=aboveViewRoot(rn,tn.node)?"rollUp":"drillDown"),Qr.resetViewRoot(tn.node)}}})}function enableAriaDecalForTree(Wr){var Gr=Wr.getData(),Yr=Gr.tree,Zr={};Yr.eachNode(function(Kr){for(var Qr=Kr;Qr&&Qr.depth>1;)Qr=Qr.parentNode;var Jr=getDecalFromPalette(Wr.ecModel,Qr.name||Qr.dataIndex+"",Zr);Kr.setVisual("decal",Jr)})}var TreemapSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.preventUsingHoverLayer=!0,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){var Kr={name:Yr.name,children:Yr.data};completeTreeValue$1(Kr);var Qr=Yr.levels||[],Jr=this.designatedVisualItemStyle={},en=new Model({itemStyle:Jr},this,Zr);Qr=Yr.levels=setDefault(Qr,Zr);var tn=map$1(Qr||[],function(nn){return new Model(nn,en,Zr)},this),rn=Tree.createTree(Kr,this,an);function an(nn){nn.wrapMethod("getItemModel",function(sn,ln){var un=rn.getNodeByDataIndex(ln),cn=un?tn[un.depth]:null;return sn.parentModel=cn||en,sn})}return rn.data},Gr.prototype.optionUpdated=function(){this.resetViewRoot()},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){var Qr=this.getData(),Jr=this.getRawValue(Yr),en=Qr.getName(Yr);return createTooltipMarkup("nameValue",{name:en,value:Jr})},Gr.prototype.getDataParams=function(Yr){var Zr=Wr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Yr);return Zr.treeAncestors=wrapTreePathInfo(Kr,this),Zr.treePathInfo=Zr.treeAncestors,Zr},Gr.prototype.setLayoutInfo=function(Yr){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,Yr)},Gr.prototype.mapIdToIndex=function(Yr){var Zr=this._idIndexMap;Zr||(Zr=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var Kr=Zr.get(Yr);return Kr==null&&Zr.set(Yr,Kr=this._idIndexMapCount++),Kr},Gr.prototype.getViewRoot=function(){return this._viewRoot},Gr.prototype.resetViewRoot=function(Yr){Yr?this._viewRoot=Yr:Yr=this._viewRoot;var Zr=this.getRawData().tree.root;(!Yr||Yr!==Zr&&!Zr.contains(Yr))&&(this._viewRoot=Zr)},Gr.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},Gr.type="series.treemap",Gr.layoutMode="box",Gr.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},Gr}(SeriesModel);function completeTreeValue$1(Wr){var Gr=0;each$f(Wr.children,function(Zr){completeTreeValue$1(Zr);var Kr=Zr.value;isArray$1(Kr)&&(Kr=Kr[0]),Gr+=Kr});var Yr=Wr.value;isArray$1(Yr)&&(Yr=Yr[0]),(Yr==null||isNaN(Yr))&&(Yr=Gr),Yr<0&&(Yr=0),isArray$1(Wr.value)?Wr.value[0]=Yr:Wr.value=Yr}function setDefault(Wr,Gr){var Yr=normalizeToArray(Gr.get("color")),Zr=normalizeToArray(Gr.get(["aria","decal","decals"]));if(Yr){Wr=Wr||[];var Kr,Qr;each$f(Wr,function(en){var tn=new Model(en),rn=tn.get("color"),an=tn.get("decal");(tn.get(["itemStyle","color"])||rn&&rn!=="none")&&(Kr=!0),(tn.get(["itemStyle","decal"])||an&&an!=="none")&&(Qr=!0)});var Jr=Wr[0]||(Wr[0]={});return Kr||(Jr.color=Yr.slice()),!Qr&&Zr&&(Jr.decal=Zr.slice()),Wr}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function Wr(Gr){this.group=new Group$3,Gr.add(this.group)}return Wr.prototype.render=function(Gr,Yr,Zr,Kr){var Qr=Gr.getModel("breadcrumb"),Jr=this.group;if(Jr.removeAll(),!(!Qr.get("show")||!Zr)){var en=Qr.getModel("itemStyle"),tn=Qr.getModel("emphasis"),rn=en.getModel("textStyle"),an=tn.getModel(["itemStyle","textStyle"]),nn={pos:{left:Qr.get("left"),right:Qr.get("right"),top:Qr.get("top"),bottom:Qr.get("bottom")},box:{width:Yr.getWidth(),height:Yr.getHeight()},emptyItemWidth:Qr.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(Zr,nn,rn),this._renderContent(Gr,nn,en,tn,rn,an,Kr),positionElement(Jr,nn.pos,nn.box)}},Wr.prototype._prepare=function(Gr,Yr,Zr){for(var Kr=Gr;Kr;Kr=Kr.parentNode){var Qr=convertOptionIdName(Kr.getModel().get("name"),""),Jr=Zr.getTextRect(Qr),en=Math.max(Jr.width+TEXT_PADDING*2,Yr.emptyItemWidth);Yr.totalWidth+=en+ITEM_GAP,Yr.renderList.push({node:Kr,text:Qr,width:en})}},Wr.prototype._renderContent=function(Gr,Yr,Zr,Kr,Qr,Jr,en){for(var tn=0,rn=Yr.emptyItemWidth,an=Gr.get(["breadcrumb","height"]),nn=getAvailableSize(Yr.pos,Yr.box),sn=Yr.totalWidth,ln=Yr.renderList,un=Kr.getModel("itemStyle").getItemStyle(),cn=ln.length-1;cn>=0;cn--){var hn=ln[cn],dn=hn.node,fn=hn.width,pn=hn.text;sn>nn.width&&(sn-=fn-rn,fn=rn,pn=null);var gn=new Polygon({shape:{points:makeItemPoints(tn,0,fn,an,cn===ln.length-1,cn===0)},style:defaults(Zr.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle(Qr,{text:pn})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(en,dn)});gn.disableLabelAnimation=!0,gn.getTextContent().ensureState("emphasis").style=createTextStyle(Jr,{text:pn}),gn.ensureState("emphasis").style=un,toggleHoverEmphasis(gn,Kr.get("focus"),Kr.get("blurScope"),Kr.get("disabled")),this.group.add(gn),packEventData(gn,Gr,dn),tn+=fn+ITEM_GAP}},Wr.prototype.remove=function(){this.group.removeAll()},Wr}();function makeItemPoints(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=[[Kr?Wr:Wr-ARRAY_LENGTH,Gr],[Wr+Yr,Gr],[Wr+Yr,Gr+Zr],[Kr?Wr:Wr-ARRAY_LENGTH,Gr+Zr]];return!Qr&&Jr.splice(2,0,[Wr+Yr+ARRAY_LENGTH,Gr+Zr/2]),!Kr&&Jr.push([Wr,Gr+Zr/2]),Jr}function packEventData(Wr,Gr,Yr){getECData(Wr).eventData={componentType:"series",componentSubType:"treemap",componentIndex:Gr.componentIndex,seriesIndex:Gr.seriesIndex,seriesName:Gr.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:Yr&&Yr.dataIndex,name:Yr&&Yr.name},treePathInfo:Yr&&wrapTreePathInfo(Yr,Gr)}}var AnimationWrap=function(){function Wr(){this._storage=[],this._elExistsMap={}}return Wr.prototype.add=function(Gr,Yr,Zr,Kr,Qr){return this._elExistsMap[Gr.id]?!1:(this._elExistsMap[Gr.id]=!0,this._storage.push({el:Gr,target:Yr,duration:Zr,delay:Kr,easing:Qr}),!0)},Wr.prototype.finished=function(Gr){return this._finishedCallback=Gr,this},Wr.prototype.start=function(){for(var Gr=this,Yr=this._storage.length,Zr=function(){Yr--,Yr<=0&&(Gr._storage.length=0,Gr._elExistsMap={},Gr._finishedCallback&&Gr._finishedCallback())},Kr=0,Qr=this._storage.length;Kr<Qr;Kr++){var Jr=this._storage[Kr];Jr.el.animateTo(Jr.target,{duration:Jr.duration,delay:Jr.delay,easing:Jr.easing,setToFinal:!0,done:Zr,aborted:Zr})}return this},Wr}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(Wr){var Gr=getStateItemStyle(Wr);return Gr.stroke=Gr.fill=Gr.lineWidth=null,Gr},inner$d=makeInner(),TreemapView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._state="ready",Yr._storage=createStorage(),Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){var Jr=Zr.findComponents({mainType:"series",subType:"treemap",query:Qr});if(!(indexOf(Jr,Yr)<0)){this.seriesModel=Yr,this.api=Kr,this.ecModel=Zr;var en=["treemapZoomToNode","treemapRootToNode"],tn=retrieveTargetInfo(Qr,en,Yr),rn=Qr&&Qr.type,an=Yr.layoutInfo,nn=!this._oldTree,sn=this._storage,ln=rn==="treemapRootToNode"&&tn&&sn?{rootNodeGroup:sn.nodeGroup[tn.node.getRawIndex()],direction:Qr.direction}:null,un=this._giveContainerGroup(an),cn=Yr.get("animation"),hn=this._doRender(un,Yr,ln);cn&&!nn&&(!rn||rn==="treemapZoomToNode"||rn==="treemapRootToNode")?this._doAnimation(un,hn,Yr,ln):hn.renderFinally(),this._resetController(Kr),this._renderBreadcrumb(Yr,Kr,tn)}},Gr.prototype._giveContainerGroup=function(Yr){var Zr=this._containerGroup;return Zr||(Zr=this._containerGroup=new Group$2,this._initEvents(Zr),this.group.add(Zr)),Zr.x=Yr.x,Zr.y=Yr.y,Zr},Gr.prototype._doRender=function(Yr,Zr,Kr){var Qr=Zr.getData().tree,Jr=this._oldTree,en=createStorage(),tn=createStorage(),rn=this._storage,an=[];function nn(fn,pn,gn,vn){return renderNode(Zr,tn,rn,Kr,en,an,fn,pn,gn,vn)}cn(Qr.root?[Qr.root]:[],Jr&&Jr.root?[Jr.root]:[],Yr,Qr===Jr||!Jr,0);var sn=hn(rn);if(this._oldTree=Qr,this._storage=tn,this._controllerHost){var ln=this.seriesModel.layoutInfo,un=Qr.root.getLayout();un.width===ln.width&&un.height===ln.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:en,willDeleteEls:sn,renderFinally:dn};function cn(fn,pn,gn,vn,mn){vn?(pn=fn,each$f(fn,function(bn,Sn){!bn.isRemoved()&&xn(Sn,Sn)})):new DataDiffer(pn,fn,yn,yn).add(xn).update(xn).remove(curry$1(xn,null)).execute();function yn(bn){return bn.getId()}function xn(bn,Sn){var wn=bn!=null?fn[bn]:null,_n=Sn!=null?pn[Sn]:null,An=nn(wn,_n,gn,mn);An&&cn(wn&&wn.viewChildren||[],_n&&_n.viewChildren||[],An,vn,mn+1)}}function hn(fn){var pn=createStorage();return fn&&each$f(fn,function(gn,vn){var mn=pn[vn];each$f(gn,function(yn){yn&&(mn.push(yn),inner$d(yn).willDelete=!0)})}),pn}function dn(){each$f(sn,function(fn){each$f(fn,function(pn){pn.parent&&pn.parent.remove(pn)})}),each$f(an,function(fn){fn.invisible=!0,fn.dirty()})}},Gr.prototype._doAnimation=function(Yr,Zr,Kr,Qr){var Jr=Kr.get("animationDurationUpdate"),en=Kr.get("animationEasing"),tn=(isFunction(Jr)?0:Jr)||0,rn=(isFunction(en)?null:en)||"cubicOut",an=createWrap();each$f(Zr.willDeleteEls,function(nn,sn){each$f(nn,function(ln,un){if(!ln.invisible){var cn=ln.parent,hn,dn=inner$d(cn);if(Qr&&Qr.direction==="drillDown")hn=cn===Qr.rootNodeGroup?{shape:{x:0,y:0,width:dn.nodeWidth,height:dn.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var fn=0,pn=0;dn.willDelete||(fn=dn.nodeWidth/2,pn=dn.nodeHeight/2),hn=sn==="nodeGroup"?{x:fn,y:pn,style:{opacity:0}}:{shape:{x:fn,y:pn,width:0,height:0},style:{opacity:0}}}hn&&an.add(ln,hn,tn,0,rn)}})}),each$f(this._storage,function(nn,sn){each$f(nn,function(ln,un){var cn=Zr.lastsForAnimation[sn][un],hn={};cn&&(ln instanceof Group$3?cn.oldX!=null&&(hn.x=ln.x,hn.y=ln.y,ln.x=cn.oldX,ln.y=cn.oldY):(cn.oldShape&&(hn.shape=extend({},ln.shape),ln.setShape(cn.oldShape)),cn.fadein?(ln.setStyle("opacity",0),hn.style={opacity:1}):ln.style.opacity!==1&&(hn.style={opacity:1})),an.add(ln,hn,tn,0,rn))})},this),this._state="animating",an.finished(bind$1(function(){this._state="ready",Zr.renderFinally()},this)).start()},Gr.prototype._resetController=function(Yr){var Zr=this._controller,Kr=this._controllerHost;Kr||(this._controllerHost={target:this.group},Kr=this._controllerHost),Zr||(Zr=this._controller=new RoamController(Yr.getZr()),Zr.enable(this.seriesModel.get("roam")),Kr.zoomLimit=this.seriesModel.get("scaleLimit"),Kr.zoom=this.seriesModel.get("zoom"),Zr.on("pan",bind$1(this._onPan,this)),Zr.on("zoom",bind$1(this._onZoom,this)));var Qr=new BoundingRect(0,0,Yr.getWidth(),Yr.getHeight());Zr.setPointerChecker(function(Jr,en,tn){return Qr.contain(en,tn)})},Gr.prototype._clearController=function(){var Yr=this._controller;this._controllerHost=null,Yr&&(Yr.dispose(),Yr=null)},Gr.prototype._onPan=function(Yr){if(this._state!=="animating"&&(Math.abs(Yr.dx)>DRAG_THRESHOLD||Math.abs(Yr.dy)>DRAG_THRESHOLD)){var Zr=this.seriesModel.getData().tree.root;if(!Zr)return;var Kr=Zr.getLayout();if(!Kr)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Kr.x+Yr.dx,y:Kr.y+Yr.dy,width:Kr.width,height:Kr.height}})}},Gr.prototype._onZoom=function(Yr){var Zr=Yr.originX,Kr=Yr.originY,Qr=Yr.scale;if(this._state!=="animating"){var Jr=this.seriesModel.getData().tree.root;if(!Jr)return;var en=Jr.getLayout();if(!en)return;var tn=new BoundingRect(en.x,en.y,en.width,en.height),rn=null,an=this._controllerHost;rn=an.zoomLimit;var nn=an.zoom=an.zoom||1;if(nn*=Qr,rn){var sn=rn.min||0,ln=rn.max||1/0;nn=Math.max(Math.min(ln,nn),sn)}var un=nn/an.zoom;an.zoom=nn;var cn=this.seriesModel.layoutInfo;Zr-=cn.x,Kr-=cn.y;var hn=create$1();translate(hn,hn,[-Zr,-Kr]),scale$1(hn,hn,[un,un]),translate(hn,hn,[Zr,Kr]),tn.applyTransform(hn),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:tn.x,y:tn.y,width:tn.width,height:tn.height}})}},Gr.prototype._initEvents=function(Yr){var Zr=this;Yr.on("click",function(Kr){if(Zr._state==="ready"){var Qr=Zr.seriesModel.get("nodeClick",!0);if(Qr){var Jr=Zr.findTarget(Kr.offsetX,Kr.offsetY);if(Jr){var en=Jr.node;if(en.getLayout().isLeafRoot)Zr._rootToNode(Jr);else if(Qr==="zoomToNode")Zr._zoomToNode(Jr);else if(Qr==="link"){var tn=en.hostTree.data.getItemModel(en.dataIndex),rn=tn.get("link",!0),an=tn.get("target",!0)||"blank";rn&&windowOpen(rn,an)}}}}},this)},Gr.prototype._renderBreadcrumb=function(Yr,Zr,Kr){var Qr=this;Kr||(Kr=Yr.get("leafDepth",!0)!=null?{node:Yr.getViewRoot()}:this.findTarget(Zr.getWidth()/2,Zr.getHeight()/2),Kr||(Kr={node:Yr.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(Yr,Zr,Kr.node,function(Jr){Qr._state!=="animating"&&(aboveViewRoot(Yr.getViewRoot(),Jr)?Qr._rootToNode({node:Jr}):Qr._zoomToNode({node:Jr}))})},Gr.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Gr.prototype.dispose=function(){this._clearController()},Gr.prototype._zoomToNode=function(Yr){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Yr.node})},Gr.prototype._rootToNode=function(Yr){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Yr.node})},Gr.prototype.findTarget=function(Yr,Zr){var Kr,Qr=this.seriesModel.getViewRoot();return Qr.eachNode({attr:"viewChildren",order:"preorder"},function(Jr){var en=this._storage.background[Jr.getRawIndex()];if(en){var tn=en.transformCoordToLocal(Yr,Zr),rn=en.shape;if(rn.x<=tn[0]&&tn[0]<=rn.x+rn.width&&rn.y<=tn[1]&&tn[1]<=rn.y+rn.height)Kr={node:Jr,offsetX:tn[0],offsetY:tn[1]};else return!1}},this),Kr},Gr.type="treemap",Gr}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){if(!Jr)return;var an=Jr.getLayout(),nn=Wr.getData(),sn=Jr.getModel();if(nn.setItemGraphicEl(Jr.dataIndex,null),!an||!an.isInView)return;var ln=an.width,un=an.height,cn=an.borderWidth,hn=an.invisible,dn=Jr.getRawIndex(),fn=en&&en.getRawIndex(),pn=Jr.viewChildren,gn=an.upperHeight,vn=pn&&pn.length,mn=sn.getModel("itemStyle"),yn=sn.getModel(["emphasis","itemStyle"]),xn=sn.getModel(["blur","itemStyle"]),bn=sn.getModel(["select","itemStyle"]),Sn=mn.get("borderRadius")||0,wn=Fn("nodeGroup",Group$2);if(!wn)return;if(tn.add(wn),wn.x=an.x||0,wn.y=an.y||0,wn.markRedraw(),inner$d(wn).nodeWidth=ln,inner$d(wn).nodeHeight=un,an.isAboveViewRoot)return wn;var _n=Fn("background",Rect$1,rn,Z2_BG);_n&&Pn(wn,_n,vn&&an.upperLabelHeight);var An=sn.getModel("emphasis"),Cn=An.get("focus"),Tn=An.get("blurScope"),Mn=An.get("disabled"),En=Cn==="ancestor"?Jr.getAncestorsIndices():Cn==="descendant"?Jr.getDescendantIndices():Cn;if(vn)isHighDownDispatcher(wn)&&setAsHighDownDispatcher(wn,!1),_n&&(setAsHighDownDispatcher(_n,!Mn),nn.setItemGraphicEl(Jr.dataIndex,_n),enableHoverFocus(_n,En,Tn));else{var Ln=Fn("content",Rect$1,rn,Z2_CONTENT);Ln&&Dn(wn,Ln),_n.disableMorphing=!0,_n&&isHighDownDispatcher(_n)&&setAsHighDownDispatcher(_n,!1),setAsHighDownDispatcher(wn,!Mn),nn.setItemGraphicEl(Jr.dataIndex,wn);var In=sn.getShallow("cursor");In&&Ln.attr("cursor",In),enableHoverFocus(wn,En,Tn)}return wn;function Pn(zn,On,Bn){var $n=getECData(On);if($n.dataIndex=Jr.dataIndex,$n.seriesIndex=Wr.seriesIndex,On.setShape({x:0,y:0,width:ln,height:un,r:Sn}),hn)kn(On);else{On.invisible=!1;var Vn=Jr.getVisual("style"),Yn=Vn.stroke,Wn=getItemStyleNormal(mn);Wn.fill=Yn;var Xn=getStateItemStyle(yn);Xn.fill=yn.get("borderColor");var qn=getStateItemStyle(xn);qn.fill=xn.get("borderColor");var Un=getStateItemStyle(bn);if(Un.fill=bn.get("borderColor"),Bn){var jn=ln-2*cn;Nn(On,Yn,Vn.opacity,{x:cn,y:0,width:jn,height:gn})}else On.removeTextContent();On.setStyle(Wn),On.ensureState("emphasis").style=Xn,On.ensureState("blur").style=qn,On.ensureState("select").style=Un,setDefaultStateProxy(On)}zn.add(On)}function Dn(zn,On){var Bn=getECData(On);Bn.dataIndex=Jr.dataIndex,Bn.seriesIndex=Wr.seriesIndex;var $n=Math.max(ln-2*cn,0),Vn=Math.max(un-2*cn,0);if(On.culling=!0,On.setShape({x:cn,y:cn,width:$n,height:Vn,r:Sn}),hn)kn(On);else{On.invisible=!1;var Yn=Jr.getVisual("style"),Wn=Yn.fill,Xn=getItemStyleNormal(mn);Xn.fill=Wn,Xn.decal=Yn.decal;var qn=getStateItemStyle(yn),Un=getStateItemStyle(xn),jn=getStateItemStyle(bn);Nn(On,Wn,Yn.opacity,null),On.setStyle(Xn),On.ensureState("emphasis").style=qn,On.ensureState("blur").style=Un,On.ensureState("select").style=jn,setDefaultStateProxy(On)}zn.add(On)}function kn(zn){!zn.invisible&&Qr.push(zn)}function Nn(zn,On,Bn,$n){var Vn=sn.getModel($n?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Yn=convertOptionIdName(sn.get("name"),null),Wn=Vn.getShallow("show");setLabelStyle(zn,getLabelStatesModels(sn,$n?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Wn?Yn:null,inheritColor:On,defaultOpacity:Bn,labelFetcher:Wr,labelDataIndex:Jr.dataIndex});var Xn=zn.getTextContent();if(Xn){var qn=Xn.style,Un=normalizeCssArray$1(qn.padding||0);$n&&(zn.setTextConfig({layoutRect:$n}),Xn.disableLabelLayout=!0),Xn.beforeUpdate=function(){var Zn=Math.max(($n?$n.width:zn.shape.width)-Un[1]-Un[3],0),Kn=Math.max(($n?$n.height:zn.shape.height)-Un[0]-Un[2],0);(qn.width!==Zn||qn.height!==Kn)&&Xn.setStyle({width:Zn,height:Kn})},qn.truncateMinChar=2,qn.lineOverflow="truncate",Rn(qn,$n,an);var jn=Xn.getState("emphasis");Rn(jn?jn.style:null,$n,an)}}function Rn(zn,On,Bn){var $n=zn?zn.text:null;if(!On&&Bn.isLeafRoot&&$n!=null){var Vn=Wr.get("drillDownIcon",!0);zn.text=Vn?Vn+" "+$n:$n}}function Fn(zn,On,Bn,$n){var Vn=fn!=null&&Yr[zn][fn],Yn=Kr[zn];return Vn?(Yr[zn][fn]=null,Hn(Yn,Vn)):hn||(Vn=new On,Vn instanceof Displayable&&(Vn.z2=calculateZ2(Bn,$n)),Gn(Yn,Vn)),Gr[zn][dn]=Vn}function Hn(zn,On){var Bn=zn[dn]={};On instanceof Group$2?(Bn.oldX=On.x,Bn.oldY=On.y):Bn.oldShape=extend({},On.shape)}function Gn(zn,On){var Bn=zn[dn]={},$n=Jr.parentNode,Vn=On instanceof Group$3;if($n&&(!Zr||Zr.direction==="drillDown")){var Yn=0,Wn=0,Xn=Kr.background[$n.getRawIndex()];!Zr&&Xn&&Xn.oldShape&&(Yn=Xn.oldShape.width,Wn=Xn.oldShape.height),Vn?(Bn.oldX=0,Bn.oldY=Wn):Bn.oldShape={x:Yn,y:Wn,width:0,height:0}}Bn.fadein=!Vn}}function calculateZ2(Wr,Gr){return Wr*Z2_BASE+Gr}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function Wr(Gr){var Yr=Gr.mappingMethod,Zr=Gr.type,Kr=this.option=clone$4(Gr);this.type=Zr,this.mappingMethod=Yr,this._normalizeData=normalizers[Yr];var Qr=Wr.visualHandlers[Zr];this.applyVisual=Qr.applyVisual,this.getColorMapper=Qr.getColorMapper,this._normalizedToVisual=Qr._normalizedToVisual[Yr],Yr==="piecewise"?(normalizeVisualRange(Kr),preprocessForPiecewise(Kr)):Yr==="category"?Kr.categories?preprocessForSpecifiedCategory(Kr):normalizeVisualRange(Kr,!0):(assert(Yr!=="linear"||Kr.dataExtent),normalizeVisualRange(Kr))}return Wr.prototype.mapValueToVisual=function(Gr){var Yr=this._normalizeData(Gr);return this._normalizedToVisual(Yr,Gr)},Wr.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},Wr.listVisualTypes=function(){return keys(Wr.visualHandlers)},Wr.isValidType=function(Gr){return Wr.visualHandlers.hasOwnProperty(Gr)},Wr.eachVisual=function(Gr,Yr,Zr){isObject$3(Gr)?each$f(Gr,Yr,Zr):Yr.call(Zr,Gr)},Wr.mapVisual=function(Gr,Yr,Zr){var Kr,Qr=isArray$1(Gr)?[]:isObject$3(Gr)?{}:(Kr=!0,null);return Wr.eachVisual(Gr,function(Jr,en){var tn=Yr.call(Zr,Jr,en);Kr?Qr=tn:Qr[en]=tn}),Qr},Wr.retrieveVisuals=function(Gr){var Yr={},Zr;return Gr&&each$c(Wr.visualHandlers,function(Kr,Qr){Gr.hasOwnProperty(Qr)&&(Yr[Qr]=Gr[Qr],Zr=!0)}),Zr?Yr:null},Wr.prepareVisualTypes=function(Gr){if(isArray$1(Gr))Gr=Gr.slice();else if(isObject(Gr)){var Yr=[];each$c(Gr,function(Zr,Kr){Yr.push(Kr)}),Gr=Yr}else return[];return Gr.sort(function(Zr,Kr){return Kr==="color"&&Zr!=="color"&&Zr.indexOf("color")===0?1:-1}),Gr},Wr.dependsOn=function(Gr,Yr){return Yr==="color"?!!(Gr&&Gr.indexOf(Yr)===0):Gr===Yr},Wr.findPieceIndex=function(Gr,Yr,Zr){for(var Kr,Qr=1/0,Jr=0,en=Yr.length;Jr<en;Jr++){var tn=Yr[Jr].value;if(tn!=null){if(tn===Gr||isString(tn)&&tn===Gr+"")return Jr;Zr&&sn(tn,Jr)}}for(var Jr=0,en=Yr.length;Jr<en;Jr++){var rn=Yr[Jr],an=rn.interval,nn=rn.close;if(an){if(an[0]===-1/0){if(littleThan(nn[1],Gr,an[1]))return Jr}else if(an[1]===1/0){if(littleThan(nn[0],an[0],Gr))return Jr}else if(littleThan(nn[0],an[0],Gr)&&littleThan(nn[1],Gr,an[1]))return Jr;Zr&&sn(an[0],Jr),Zr&&sn(an[1],Jr)}}if(Zr)return Gr===1/0?Yr.length-1:Gr===-1/0?0:Kr;function sn(ln,un){var cn=Math.abs(ln-Gr);cn<Qr&&(Qr=cn,Kr=un)}},Wr.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var Gr=this.option;return bind$1(Gr.mappingMethod==="category"?function(Yr,Zr){return!Zr&&(Yr=this._normalizeData(Yr)),doMapCategory.call(this,Yr)}:function(Yr,Zr,Kr){var Qr=!!Kr;return!Zr&&(Yr=this._normalizeData(Yr)),Kr=fastLerp(Yr,Gr.parsedVisual,Kr),Qr?Kr:stringify(Kr,"rgba")},this)},_normalizedToVisual:{linear:function(Gr){return stringify(fastLerp(Gr,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(Gr,Yr){var Zr=getSpecifiedVisual.call(this,Yr);return Zr==null&&(Zr=stringify(fastLerp(Gr,this.option.parsedVisual),"rgba")),Zr},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(Gr,Yr){return modifyHSL(Gr,Yr)}),colorSaturation:makePartialColorVisualHandler(function(Gr,Yr){return modifyHSL(Gr,null,Yr)}),colorLightness:makePartialColorVisualHandler(function(Gr,Yr){return modifyHSL(Gr,null,null,Yr)}),colorAlpha:makePartialColorVisualHandler(function(Gr,Yr){return modifyAlpha(Gr,Yr)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(Gr,Yr,Zr){var Kr=this.mapValueToVisual(Gr);Zr("symbol",Kr)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(Gr,Yr){var Zr=getSpecifiedVisual.call(this,Yr);return Zr==null&&(Zr=doMapToArray.call(this,Gr)),Zr},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},Wr}();function preprocessForPiecewise(Wr){var Gr=Wr.pieceList;Wr.hasSpecialVisual=!1,each$f(Gr,function(Yr,Zr){Yr.originIndex=Zr,Yr.visual!=null&&(Wr.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(Wr){var Gr=Wr.categories,Yr=Wr.categoryMap={},Zr=Wr.visual;if(each$c(Gr,function(Jr,en){Yr[Jr]=en}),!isArray$1(Zr)){var Kr=[];isObject$3(Zr)?each$c(Zr,function(Jr,en){var tn=Yr[en];Kr[tn??CATEGORY_DEFAULT_VISUAL_INDEX]=Jr}):Kr[CATEGORY_DEFAULT_VISUAL_INDEX]=Zr,Zr=setVisualToOption(Wr,Kr)}for(var Qr=Gr.length-1;Qr>=0;Qr--)Zr[Qr]==null&&(delete Yr[Gr[Qr]],Gr.pop())}function normalizeVisualRange(Wr,Gr){var Yr=Wr.visual,Zr=[];isObject$3(Yr)?each$c(Yr,function(Qr){Zr.push(Qr)}):Yr!=null&&Zr.push(Yr);var Kr={color:1,symbol:1};!Gr&&Zr.length===1&&!Kr.hasOwnProperty(Wr.type)&&(Zr[1]=Zr[0]),setVisualToOption(Wr,Zr)}function makePartialColorVisualHandler(Wr){return{applyVisual:function(Gr,Yr,Zr){var Kr=this.mapValueToVisual(Gr);Zr("color",Wr(Yr("color"),Kr))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(Wr){var Gr=this.option.visual;return Gr[Math.round(linearMap$2(Wr,[0,1],[0,Gr.length-1],!0))]||{}}function makeApplyVisual(Wr){return function(Gr,Yr,Zr){Zr(Wr,this.mapValueToVisual(Gr))}}function doMapCategory(Wr){var Gr=this.option.visual;return Gr[this.option.loop&&Wr!==CATEGORY_DEFAULT_VISUAL_INDEX?Wr%Gr.length:Wr]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(Wr){return{linear:function(Gr){return linearMap$2(Gr,Wr,this.option.visual,!0)},category:doMapCategory,piecewise:function(Gr,Yr){var Zr=getSpecifiedVisual.call(this,Yr);return Zr==null&&(Zr=linearMap$2(Gr,Wr,this.option.visual,!0)),Zr},fixed:doMapFixed}}function getSpecifiedVisual(Wr){var Gr=this.option,Yr=Gr.pieceList;if(Gr.hasSpecialVisual){var Zr=VisualMapping.findPieceIndex(Wr,Yr),Kr=Yr[Zr];if(Kr&&Kr.visual)return Kr.visual[this.type]}}function setVisualToOption(Wr,Gr){return Wr.visual=Gr,Wr.type==="color"&&(Wr.parsedVisual=map$1(Gr,function(Yr){var Zr=parse(Yr);return Zr||[0,0,0,1]})),Gr}var normalizers={linear:function(Wr){return linearMap$2(Wr,this.option.dataExtent,[0,1],!0)},piecewise:function(Wr){var Gr=this.option.pieceList,Yr=VisualMapping.findPieceIndex(Wr,Gr,!0);if(Yr!=null)return linearMap$2(Yr,[0,Gr.length-1],[0,1],!0)},category:function(Wr){var Gr=this.option.categories?this.option.categoryMap[Wr]:Wr;return Gr??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(Wr,Gr,Yr){return Wr?Gr<=Yr:Gr<Yr}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(Wr){var Gr=Wr.getData().tree,Yr=Gr.root;Yr.isRemoved()||travelTree(Yr,{},Wr.getViewRoot().getAncestors(),Wr)}};function travelTree(Wr,Gr,Yr,Zr){var Kr=Wr.getModel(),Qr=Wr.getLayout(),Jr=Wr.hostTree.data;if(!(!Qr||Qr.invisible||!Qr.isInView)){var en=Kr.getModel(ITEM_STYLE_NORMAL),tn=buildVisuals(en,Gr,Zr),rn=Jr.ensureUniqueItemVisual(Wr.dataIndex,"style"),an=en.get("borderColor"),nn=en.get("borderColorSaturation"),sn;nn!=null&&(sn=calculateColor(tn),an=calculateBorderColor(nn,sn)),rn.stroke=an;var ln=Wr.viewChildren;if(!ln||!ln.length)sn=calculateColor(tn),rn.fill=sn;else{var un=buildVisualMapping(Wr,Kr,Qr,en,tn,ln);each$f(ln,function(cn,hn){if(cn.depth>=Yr.length||cn===Yr[cn.depth]){var dn=mapVisual$1(Kr,tn,cn,hn,un,Zr);travelTree(cn,dn,Yr,Zr)}})}}}function buildVisuals(Wr,Gr,Yr){var Zr=extend({},Gr),Kr=Yr.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(Qr){Kr[Qr]=Gr[Qr];var Jr=Wr.get(Qr);Kr[Qr]=null,Jr!=null&&(Zr[Qr]=Jr)}),Zr}function calculateColor(Wr){var Gr=getValueVisualDefine(Wr,"color");if(Gr){var Yr=getValueVisualDefine(Wr,"colorAlpha"),Zr=getValueVisualDefine(Wr,"colorSaturation");return Zr&&(Gr=modifyHSL(Gr,null,null,Zr)),Yr&&(Gr=modifyAlpha(Gr,Yr)),Gr}}function calculateBorderColor(Wr,Gr){return Gr!=null?modifyHSL(Gr,null,null,Wr):null}function getValueVisualDefine(Wr,Gr){var Yr=Wr[Gr];if(Yr!=null&&Yr!=="none")return Yr}function buildVisualMapping(Wr,Gr,Yr,Zr,Kr,Qr){if(!(!Qr||!Qr.length)){var Jr=getRangeVisual(Gr,"color")||Kr.color!=null&&Kr.color!=="none"&&(getRangeVisual(Gr,"colorAlpha")||getRangeVisual(Gr,"colorSaturation"));if(Jr){var en=Gr.get("visualMin"),tn=Gr.get("visualMax"),rn=Yr.dataExtent.slice();en!=null&&en<rn[0]&&(rn[0]=en),tn!=null&&tn>rn[1]&&(rn[1]=tn);var an=Gr.get("colorMappingBy"),nn={type:Jr.name,dataExtent:rn,visual:Jr.range};nn.type==="color"&&(an==="index"||an==="id")?(nn.mappingMethod="category",nn.loop=!0):nn.mappingMethod="linear";var sn=new VisualMapping(nn);return inner$c(sn).drColorMappingBy=an,sn}}}function getRangeVisual(Wr,Gr){var Yr=Wr.get(Gr);return isArray$1(Yr)&&Yr.length?{name:Gr,range:Yr}:null}function mapVisual$1(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=extend({},Gr);if(Kr){var en=Kr.type,tn=en==="color"&&inner$c(Kr).drColorMappingBy,rn=tn==="index"?Zr:tn==="id"?Qr.mapIdToIndex(Yr.getId()):Yr.getValue(Wr.get("visualDimension"));Jr[en]=Kr.mapValueToVisual(rn)}return Jr}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(Wr,Gr,Yr,Zr){var Kr=Yr.getWidth(),Qr=Yr.getHeight(),Jr=Wr.option,en=getLayoutRect(Wr.getBoxLayoutParams(),{width:Yr.getWidth(),height:Yr.getHeight()}),tn=Jr.size||[],rn=parsePercent(retrieveValue(en.width,tn[0]),Kr),an=parsePercent(retrieveValue(en.height,tn[1]),Qr),nn=Zr&&Zr.type,sn=["treemapZoomToNode","treemapRootToNode"],ln=retrieveTargetInfo(Zr,sn,Wr),un=nn==="treemapRender"||nn==="treemapMove"?Zr.rootRect:null,cn=Wr.getViewRoot(),hn=getPathToRoot(cn);if(nn!=="treemapMove"){var dn=nn==="treemapZoomToNode"?estimateRootSize(Wr,ln,cn,rn,an):un?[un.width,un.height]:[rn,an],fn=Jr.sort;fn&&fn!=="asc"&&fn!=="desc"&&(fn="desc");var pn={squareRatio:Jr.squareRatio,sort:fn,leafDepth:Jr.leafDepth};cn.hostTree.clearLayouts();var gn={x:0,y:0,width:dn[0],height:dn[1],area:dn[0]*dn[1]};cn.setLayout(gn),squarify(cn,pn,!1,0),gn=cn.getLayout(),each$b(hn,function(mn,yn){var xn=(hn[yn+1]||cn).getValue();mn.setLayout(extend({dataExtent:[xn,xn],borderWidth:0,upperHeight:0},gn))})}var vn=Wr.getData().tree.root;vn.setLayout(calculateRootPosition(en,un,ln),!0),Wr.setLayoutInfo(en),prunning(vn,new BoundingRect(-en.x,-en.y,Kr,Qr),hn,cn,0)}};function squarify(Wr,Gr,Yr,Zr){var Kr,Qr;if(!Wr.isRemoved()){var Jr=Wr.getLayout();Kr=Jr.width,Qr=Jr.height;var en=Wr.getModel(),tn=en.get(PATH_BORDER_WIDTH),rn=en.get(PATH_GAP_WIDTH)/2,an=getUpperLabelHeight(en),nn=Math.max(tn,an),sn=tn-rn,ln=nn-rn;Wr.setLayout({borderWidth:tn,upperHeight:nn,upperLabelHeight:an},!0),Kr=mathMax$3(Kr-2*sn,0),Qr=mathMax$3(Qr-sn-ln,0);var un=Kr*Qr,cn=initChildren$1(Wr,en,un,Gr,Yr,Zr);if(cn.length){var hn={x:sn,y:ln,width:Kr,height:Qr},dn=mathMin$3(Kr,Qr),fn=1/0,pn=[];pn.area=0;for(var gn=0,vn=cn.length;gn<vn;){var mn=cn[gn];pn.push(mn),pn.area+=mn.getLayout().area;var yn=worst(pn,dn,Gr.squareRatio);yn<=fn?(gn++,fn=yn):(pn.area-=pn.pop().getLayout().area,position(pn,dn,hn,rn,!1),dn=mathMin$3(hn.width,hn.height),pn.length=pn.area=0,fn=1/0)}if(pn.length&&position(pn,dn,hn,rn,!0),!Yr){var xn=en.get("childrenVisibleMin");xn!=null&&un<xn&&(Yr=!0)}for(var gn=0,vn=cn.length;gn<vn;gn++)squarify(cn[gn],Gr,Yr,Zr+1)}}}function initChildren$1(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Wr.children||[],en=Zr.sort;en!=="asc"&&en!=="desc"&&(en=null);var tn=Zr.leafDepth!=null&&Zr.leafDepth<=Qr;if(Kr&&!tn)return Wr.viewChildren=[];Jr=filter(Jr,function(ln){return!ln.isRemoved()}),sort$1(Jr,en);var rn=statistic(Gr,Jr,en);if(rn.sum===0)return Wr.viewChildren=[];if(rn.sum=filterByThreshold(Gr,Yr,rn.sum,en,Jr),rn.sum===0)return Wr.viewChildren=[];for(var an=0,nn=Jr.length;an<nn;an++){var sn=Jr[an].getValue()/rn.sum*Yr;Jr[an].setLayout({area:sn})}return tn&&(Jr.length&&Wr.setLayout({isLeafRoot:!0},!0),Jr.length=0),Wr.viewChildren=Jr,Wr.setLayout({dataExtent:rn.dataExtent},!0),Jr}function filterByThreshold(Wr,Gr,Yr,Zr,Kr){if(!Zr)return Yr;for(var Qr=Wr.get("visibleMin"),Jr=Kr.length,en=Jr,tn=Jr-1;tn>=0;tn--){var rn=Kr[Zr==="asc"?Jr-tn-1:tn].getValue();rn/Yr*Gr<Qr&&(en=tn,Yr-=rn)}return Zr==="asc"?Kr.splice(0,Jr-en):Kr.splice(en,Jr-en),Yr}function sort$1(Wr,Gr){return Gr&&Wr.sort(function(Yr,Zr){var Kr=Gr==="asc"?Yr.getValue()-Zr.getValue():Zr.getValue()-Yr.getValue();return Kr===0?Gr==="asc"?Yr.dataIndex-Zr.dataIndex:Zr.dataIndex-Yr.dataIndex:Kr}),Wr}function statistic(Wr,Gr,Yr){for(var Zr=0,Kr=0,Qr=Gr.length;Kr<Qr;Kr++)Zr+=Gr[Kr].getValue();var Jr=Wr.get("visualDimension"),en;return!Gr||!Gr.length?en=[NaN,NaN]:Jr==="value"&&Yr?(en=[Gr[Gr.length-1].getValue(),Gr[0].getValue()],Yr==="asc"&&en.reverse()):(en=[1/0,-1/0],each$b(Gr,function(tn){var rn=tn.getValue(Jr);rn<en[0]&&(en[0]=rn),rn>en[1]&&(en[1]=rn)})),{sum:Zr,dataExtent:en}}function worst(Wr,Gr,Yr){for(var Zr=0,Kr=1/0,Qr=0,Jr=void 0,en=Wr.length;Qr<en;Qr++)Jr=Wr[Qr].getLayout().area,Jr&&(Jr<Kr&&(Kr=Jr),Jr>Zr&&(Zr=Jr));var tn=Wr.area*Wr.area,rn=Gr*Gr*Yr;return tn?mathMax$3(rn*Zr/tn,tn/(rn*Kr)):1/0}function position(Wr,Gr,Yr,Zr,Kr){var Qr=Gr===Yr.width?0:1,Jr=1-Qr,en=["x","y"],tn=["width","height"],rn=Yr[en[Qr]],an=Gr?Wr.area/Gr:0;(Kr||an>Yr[tn[Jr]])&&(an=Yr[tn[Jr]]);for(var nn=0,sn=Wr.length;nn<sn;nn++){var ln=Wr[nn],un={},cn=an?ln.getLayout().area/an:0,hn=un[tn[Jr]]=mathMax$3(an-2*Zr,0),dn=Yr[en[Qr]]+Yr[tn[Qr]]-rn,fn=nn===sn-1||dn<cn?dn:cn,pn=un[tn[Qr]]=mathMax$3(fn-2*Zr,0);un[en[Jr]]=Yr[en[Jr]]+mathMin$3(Zr,hn/2),un[en[Qr]]=rn+mathMin$3(Zr,pn/2),rn+=fn,ln.setLayout(un,!0)}Yr[en[Jr]]+=an,Yr[tn[Jr]]-=an}function estimateRootSize(Wr,Gr,Yr,Zr,Kr){var Qr=(Gr||{}).node,Jr=[Zr,Kr];if(!Qr||Qr===Yr)return Jr;for(var en,tn=Zr*Kr,rn=tn*Wr.option.zoomToNodeRatio;en=Qr.parentNode;){for(var an=0,nn=en.children,sn=0,ln=nn.length;sn<ln;sn++)an+=nn[sn].getValue();var un=Qr.getValue();if(un===0)return Jr;rn*=an/un;var cn=en.getModel(),hn=cn.get(PATH_BORDER_WIDTH),dn=Math.max(hn,getUpperLabelHeight(cn));rn+=4*hn*hn+(3*hn+dn)*Math.pow(rn,.5),rn>MAX_SAFE_INTEGER&&(rn=MAX_SAFE_INTEGER),Qr=en}rn<tn&&(rn=tn);var fn=Math.pow(rn/tn,.5);return[Zr*fn,Kr*fn]}function calculateRootPosition(Wr,Gr,Yr){if(Gr)return{x:Gr.x,y:Gr.y};var Zr={x:0,y:0};if(!Yr)return Zr;var Kr=Yr.node,Qr=Kr.getLayout();if(!Qr)return Zr;for(var Jr=[Qr.width/2,Qr.height/2],en=Kr;en;){var tn=en.getLayout();Jr[0]+=tn.x,Jr[1]+=tn.y,en=en.parentNode}return{x:Wr.width/2-Jr[0],y:Wr.height/2-Jr[1]}}function prunning(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.getLayout(),Jr=Yr[Kr],en=Jr&&Jr===Wr;if(!(Jr&&!en||Kr===Yr.length&&Wr!==Zr)){Wr.setLayout({isInView:!0,invisible:!en&&!Gr.intersect(Qr),isAboveViewRoot:en},!0);var tn=new BoundingRect(Gr.x-Qr.x,Gr.y-Qr.y,Gr.width,Gr.height);each$b(Wr.viewChildren||[],function(rn){prunning(rn,tn,Yr,Zr,Kr+1)})}}function getUpperLabelHeight(Wr){return Wr.get(PATH_UPPER_LABEL_SHOW)?Wr.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(Wr){Wr.registerSeriesModel(TreemapSeriesModel),Wr.registerChartView(TreemapView),Wr.registerVisual(treemapVisual),Wr.registerLayout(treemapLayout),installTreemapAction(Wr)}function categoryFilter(Wr){var Gr=Wr.findComponents({mainType:"legend"});!Gr||!Gr.length||Wr.eachSeriesByType("graph",function(Yr){var Zr=Yr.getCategoriesData(),Kr=Yr.getGraph(),Qr=Kr.data,Jr=Zr.mapArray(Zr.getName);Qr.filterSelf(function(en){var tn=Qr.getItemModel(en),rn=tn.getShallow("category");if(rn!=null){isNumber(rn)&&(rn=Jr[rn]);for(var an=0;an<Gr.length;an++)if(!Gr[an].isSelected(rn))return!1}return!0})})}function categoryVisual(Wr){var Gr={};Wr.eachSeriesByType("graph",function(Yr){var Zr=Yr.getCategoriesData(),Kr=Yr.getData(),Qr={};Zr.each(function(Jr){var en=Zr.getName(Jr);Qr["ec-"+en]=Jr;var tn=Zr.getItemModel(Jr),rn=tn.getModel("itemStyle").getItemStyle();rn.fill||(rn.fill=Yr.getColorFromPalette(en,Gr)),Zr.setItemVisual(Jr,"style",rn);for(var an=["symbol","symbolSize","symbolKeepAspect"],nn=0;nn<an.length;nn++){var sn=tn.getShallow(an[nn],!0);sn!=null&&Zr.setItemVisual(Jr,an[nn],sn)}}),Zr.count()&&Kr.each(function(Jr){var en=Kr.getItemModel(Jr),tn=en.getShallow("category");if(tn!=null){isString(tn)&&(tn=Qr["ec-"+tn]);var rn=Zr.getItemVisual(tn,"style"),an=Kr.ensureUniqueItemVisual(Jr,"style");extend(an,rn);for(var nn=["symbol","symbolSize","symbolKeepAspect"],sn=0;sn<nn.length;sn++)Kr.setItemVisual(Jr,nn[sn],Zr.getItemVisual(tn,nn[sn]))}})})}function normalize$1(Wr){return Wr instanceof Array||(Wr=[Wr,Wr]),Wr}function graphEdgeVisual(Wr){Wr.eachSeriesByType("graph",function(Gr){var Yr=Gr.getGraph(),Zr=Gr.getEdgeData(),Kr=normalize$1(Gr.get("edgeSymbol")),Qr=normalize$1(Gr.get("edgeSymbolSize"));Zr.setVisual("fromSymbol",Kr&&Kr[0]),Zr.setVisual("toSymbol",Kr&&Kr[1]),Zr.setVisual("fromSymbolSize",Qr&&Qr[0]),Zr.setVisual("toSymbolSize",Qr&&Qr[1]),Zr.setVisual("style",Gr.getModel("lineStyle").getLineStyle()),Zr.each(function(Jr){var en=Zr.getItemModel(Jr),tn=Yr.getEdgeByIndex(Jr),rn=normalize$1(en.getShallow("symbol",!0)),an=normalize$1(en.getShallow("symbolSize",!0)),nn=en.getModel("lineStyle").getLineStyle(),sn=Zr.ensureUniqueItemVisual(Jr,"style");switch(extend(sn,nn),sn.stroke){case"source":{var ln=tn.node1.getVisual("style");sn.stroke=ln&&ln.fill;break}case"target":{var ln=tn.node2.getVisual("style");sn.stroke=ln&&ln.fill;break}}rn[0]&&tn.setVisual("fromSymbol",rn[0]),rn[1]&&tn.setVisual("toSymbol",rn[1]),an[0]&&tn.setVisual("fromSymbolSize",an[0]),an[1]&&tn.setVisual("toSymbolSize",an[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(Wr){return Wr.get("autoCurveness")||null},createCurveness=function(Wr,Gr){var Yr=getAutoCurvenessParams(Wr),Zr=20,Kr=[];if(isNumber(Yr))Zr=Yr;else if(isArray$1(Yr)){Wr.__curvenessList=Yr;return}Gr>Zr&&(Zr=Gr);var Qr=Zr%2?Zr+2:Zr+3;Kr=[];for(var Jr=0;Jr<Qr;Jr++)Kr.push((Jr%2?Jr+1:Jr)/10*(Jr%2?-1:1));Wr.__curvenessList=Kr},getKeyOfEdges=function(Wr,Gr,Yr){var Zr=[Wr.id,Wr.dataIndex].join("."),Kr=[Gr.id,Gr.dataIndex].join(".");return[Yr.uid,Zr,Kr].join(KEY_DELIMITER)},getOppositeKey=function(Wr){var Gr=Wr.split(KEY_DELIMITER);return[Gr[0],Gr[2],Gr[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(Wr,Gr){var Yr=getKeyOfEdges(Wr.node1,Wr.node2,Gr);return Gr.__edgeMap[Yr]},getTotalLengthBetweenNodes=function(Wr,Gr){var Yr=getEdgeMapLengthWithKey(getKeyOfEdges(Wr.node1,Wr.node2,Gr),Gr),Zr=getEdgeMapLengthWithKey(getKeyOfEdges(Wr.node2,Wr.node1,Gr),Gr);return Yr+Zr},getEdgeMapLengthWithKey=function(Wr,Gr){var Yr=Gr.__edgeMap;return Yr[Wr]?Yr[Wr].length:0};function initCurvenessList(Wr){getAutoCurvenessParams(Wr)&&(Wr.__curvenessList=[],Wr.__edgeMap={},createCurveness(Wr))}function createEdgeMapForCurveness(Wr,Gr,Yr,Zr){if(getAutoCurvenessParams(Yr)){var Kr=getKeyOfEdges(Wr,Gr,Yr),Qr=Yr.__edgeMap,Jr=Qr[getOppositeKey(Kr)];Qr[Kr]&&!Jr?Qr[Kr].isForward=!0:Jr&&Qr[Kr]&&(Jr.isForward=!0,Qr[Kr].isForward=!1),Qr[Kr]=Qr[Kr]||[],Qr[Kr].push(Zr)}}function getCurvenessForEdge(Wr,Gr,Yr,Zr){var Kr=getAutoCurvenessParams(Gr),Qr=isArray$1(Kr);if(!Kr)return null;var Jr=getEdgeFromMap(Wr,Gr);if(!Jr)return null;for(var en=-1,tn=0;tn<Jr.length;tn++)if(Jr[tn]===Yr){en=tn;break}var rn=getTotalLengthBetweenNodes(Wr,Gr);createCurveness(Gr,rn),Wr.lineStyle=Wr.lineStyle||{};var an=getKeyOfEdges(Wr.node1,Wr.node2,Gr),nn=Gr.__curvenessList,sn=Qr||rn%2?0:1;if(Jr.isForward)return nn[sn+en];var ln=getOppositeKey(an),un=getEdgeMapLengthWithKey(ln,Gr),cn=nn[en+un+sn];return Zr?Qr?Kr&&Kr[0]===0?(un+sn)%2?cn:-cn:((un%2?0:1)+sn)%2?cn:-cn:(un+sn)%2?cn:-cn:nn[en+un+sn]}function simpleLayout(Wr){var Gr=Wr.coordinateSystem;if(!(Gr&&Gr.type!=="view")){var Yr=Wr.getGraph();Yr.eachNode(function(Zr){var Kr=Zr.getModel();Zr.setLayout([+Kr.get("x"),+Kr.get("y")])}),simpleLayoutEdge(Yr,Wr)}}function simpleLayoutEdge(Wr,Gr){Wr.eachEdge(function(Yr,Zr){var Kr=retrieve3(Yr.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Yr,Gr,Zr,!0),0),Qr=clone$3(Yr.node1.getLayout()),Jr=clone$3(Yr.node2.getLayout()),en=[Qr,Jr];+Kr&&en.push([(Qr[0]+Jr[0])/2-(Qr[1]-Jr[1])*Kr,(Qr[1]+Jr[1])/2-(Jr[0]-Qr[0])*Kr]),Yr.setLayout(en)})}function graphSimpleLayout(Wr,Gr){Wr.eachSeriesByType("graph",function(Yr){var Zr=Yr.get("layout"),Kr=Yr.coordinateSystem;if(Kr&&Kr.type!=="view"){var Qr=Yr.getData(),Jr=[];each$f(Kr.dimensions,function(sn){Jr=Jr.concat(Qr.mapDimensionsAll(sn))});for(var en=0;en<Qr.count();en++){for(var tn=[],rn=!1,an=0;an<Jr.length;an++){var nn=Qr.get(Jr[an],en);isNaN(nn)||(rn=!0),tn.push(nn)}rn?Qr.setItemLayout(en,Kr.dataToPoint(tn)):Qr.setItemLayout(en,[NaN,NaN])}simpleLayoutEdge(Qr.graph,Yr)}else(!Zr||Zr==="none")&&simpleLayout(Yr)})}function getNodeGlobalScale(Wr){var Gr=Wr.coordinateSystem;if(Gr.type!=="view")return 1;var Yr=Wr.option.nodeScaleRatio,Zr=Gr.scaleX,Kr=Gr.getZoom(),Qr=(Kr-1)*Yr+1;return Qr/Zr}function getSymbolSize(Wr){var Gr=Wr.getVisual("symbolSize");return Gr instanceof Array&&(Gr=(Gr[0]+Gr[1])/2),+Gr}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(Wr,Gr,Yr,Zr){var Kr=Wr.coordinateSystem;if(!(Kr&&Kr.type!=="view")){var Qr=Kr.getBoundingRect(),Jr=Wr.getData(),en=Jr.graph,tn=Qr.width/2+Qr.x,rn=Qr.height/2+Qr.y,an=Math.min(Qr.width,Qr.height)/2,nn=Jr.count();if(Jr.setLayout({cx:tn,cy:rn}),!!nn){if(Yr){var sn=Kr.pointToData(Zr),ln=sn[0],un=sn[1],cn=[ln-tn,un-rn];normalize$3(cn,cn),scale$2(cn,cn,an),Yr.setLayout([tn+cn[0],rn+cn[1]],!0);var hn=Wr.get(["circular","rotateLabel"]);rotateNodeLabel(Yr,hn,tn,rn)}_layoutNodesBasedOn[Gr](Wr,en,Jr,an,tn,rn,nn),en.eachEdge(function(dn,fn){var pn=retrieve3(dn.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(dn,Wr,fn),0),gn=clone$3(dn.node1.getLayout()),vn=clone$3(dn.node2.getLayout()),mn,yn=(gn[0]+vn[0])/2,xn=(gn[1]+vn[1])/2;+pn&&(pn*=3,mn=[tn*pn+yn*(1-pn),rn*pn+xn*(1-pn)]),dn.setLayout([gn,vn,mn])})}}}var _layoutNodesBasedOn={value:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=0,tn=Yr.getSum("value"),rn=Math.PI*2/(tn||Jr);Gr.eachNode(function(an){var nn=an.getValue("value"),sn=rn*(tn?nn:1)/2;en+=sn,an.setLayout([Zr*Math.cos(en)+Kr,Zr*Math.sin(en)+Qr]),en+=sn})},symbolSize:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=0;_symbolRadiansHalf.length=Jr;var tn=getNodeGlobalScale(Wr);Gr.eachNode(function(nn){var sn=getSymbolSize(nn);isNaN(sn)&&(sn=2),sn<0&&(sn=0),sn*=tn;var ln=Math.asin(sn/2/Zr);isNaN(ln)&&(ln=PI$2/2),_symbolRadiansHalf[nn.dataIndex]=ln,en+=ln*2});var rn=(2*PI$2-en)/Jr/2,an=0;Gr.eachNode(function(nn){var sn=rn+_symbolRadiansHalf[nn.dataIndex];an+=sn,(!nn.getLayout()||!nn.getLayout().fixed)&&nn.setLayout([Zr*Math.cos(an)+Kr,Zr*Math.sin(an)+Qr]),an+=sn})}};function rotateNodeLabel(Wr,Gr,Yr,Zr){var Kr=Wr.getGraphicEl();if(Kr){var Qr=Wr.getModel(),Jr=Qr.get(["label","rotate"])||0,en=Kr.getSymbolPath();if(Gr){var tn=Wr.getLayout(),rn=Math.atan2(tn[1]-Zr,tn[0]-Yr);rn<0&&(rn=Math.PI*2+rn);var an=tn[0]<Yr;an&&(rn=rn-Math.PI);var nn=an?"left":"right";en.setTextConfig({rotation:-rn,position:nn,origin:"center"});var sn=en.ensureState("emphasis");extend(sn.textConfig||(sn.textConfig={}),{position:nn})}else en.setTextConfig({rotation:Jr*=Math.PI/180})}}function graphCircularLayout(Wr){Wr.eachSeriesByType("graph",function(Gr){Gr.get("layout")==="circular"&&circularLayout(Gr,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(Wr,Gr,Yr){for(var Zr=Wr,Kr=Gr,Qr=Yr.rect,Jr=Qr.width,en=Qr.height,tn=[Qr.x+Jr/2,Qr.y+en/2],rn=Yr.gravity==null?.1:Yr.gravity,an=0;an<Zr.length;an++){var nn=Zr[an];nn.p||(nn.p=create$2(Jr*(Math.random()-.5)+tn[0],en*(Math.random()-.5)+tn[1])),nn.pp=clone$3(nn.p),nn.edges=null}var sn=Yr.friction==null?.6:Yr.friction,ln=sn,un,cn;return{warmUp:function(){ln=sn*.8},setFixed:function(hn){Zr[hn].fixed=!0},setUnfixed:function(hn){Zr[hn].fixed=!1},beforeStep:function(hn){un=hn},afterStep:function(hn){cn=hn},step:function(hn){un&&un(Zr,Kr);for(var dn=[],fn=Zr.length,pn=0;pn<Kr.length;pn++){var gn=Kr[pn];if(!gn.ignoreForceLayout){var vn=gn.n1,mn=gn.n2;sub(dn,mn.p,vn.p);var yn=len(dn)-gn.d,xn=mn.w/(vn.w+mn.w);isNaN(xn)&&(xn=0),normalize$3(dn,dn),!vn.fixed&&scaleAndAdd(vn.p,vn.p,dn,xn*yn*ln),!mn.fixed&&scaleAndAdd(mn.p,mn.p,dn,-(1-xn)*yn*ln)}}for(var pn=0;pn<fn;pn++){var bn=Zr[pn];bn.fixed||(sub(dn,tn,bn.p),scaleAndAdd(bn.p,bn.p,dn,rn*ln))}for(var pn=0;pn<fn;pn++)for(var vn=Zr[pn],Sn=pn+1;Sn<fn;Sn++){var mn=Zr[Sn];sub(dn,mn.p,vn.p);var yn=len(dn);yn===0&&(set$1(dn,Math.random()-.5,Math.random()-.5),yn=1);var wn=(vn.rep+mn.rep)/yn/yn;!vn.fixed&&scaleAndAdd(vn.pp,vn.pp,dn,wn),!mn.fixed&&scaleAndAdd(mn.pp,mn.pp,dn,-wn)}for(var _n=[],pn=0;pn<fn;pn++){var bn=Zr[pn];bn.fixed||(sub(_n,bn.p,bn.pp),scaleAndAdd(bn.p,bn.p,_n,ln),copy$1(bn.pp,bn.p))}ln=ln*.992;var An=ln<.01;cn&&cn(Zr,Kr,An),hn&&hn(An)}}}function graphForceLayout(Wr){Wr.eachSeriesByType("graph",function(Gr){var Yr=Gr.coordinateSystem;if(!(Yr&&Yr.type!=="view"))if(Gr.get("layout")==="force"){var Zr=Gr.preservedPoints||{},Kr=Gr.getGraph(),Qr=Kr.data,Jr=Kr.edgeData,en=Gr.getModel("force"),tn=en.get("initLayout");Gr.preservedPoints?Qr.each(function(pn){var gn=Qr.getId(pn);Qr.setItemLayout(pn,Zr[gn]||[NaN,NaN])}):!tn||tn==="none"?simpleLayout(Gr):tn==="circular"&&circularLayout(Gr,"value");var rn=Qr.getDataExtent("value"),an=Jr.getDataExtent("value"),nn=en.get("repulsion"),sn=en.get("edgeLength"),ln=isArray$1(nn)?nn:[nn,nn],un=isArray$1(sn)?sn:[sn,sn];un=[un[1],un[0]];var cn=Qr.mapArray("value",function(pn,gn){var vn=Qr.getItemLayout(gn),mn=linearMap$2(pn,rn,ln);return isNaN(mn)&&(mn=(ln[0]+ln[1])/2),{w:mn,rep:mn,fixed:Qr.getItemModel(gn).get("fixed"),p:!vn||isNaN(vn[0])||isNaN(vn[1])?null:vn}}),hn=Jr.mapArray("value",function(pn,gn){var vn=Kr.getEdgeByIndex(gn),mn=linearMap$2(pn,an,un);isNaN(mn)&&(mn=(un[0]+un[1])/2);var yn=vn.getModel(),xn=retrieve3(vn.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(vn,Gr,gn,!0),0);return{n1:cn[vn.node1.dataIndex],n2:cn[vn.node2.dataIndex],d:mn,curveness:xn,ignoreForceLayout:yn.get("ignoreForceLayout")}}),dn=Yr.getBoundingRect(),fn=forceLayout(cn,hn,{rect:dn,gravity:en.get("gravity"),friction:en.get("friction")});fn.beforeStep(function(pn,gn){for(var vn=0,mn=pn.length;vn<mn;vn++)pn[vn].fixed&&copy$1(pn[vn].p,Kr.getNodeByIndex(vn).getLayout())}),fn.afterStep(function(pn,gn,vn){for(var mn=0,yn=pn.length;mn<yn;mn++)pn[mn].fixed||Kr.getNodeByIndex(mn).setLayout(pn[mn].p),Zr[Qr.getId(mn)]=pn[mn].p;for(var mn=0,yn=gn.length;mn<yn;mn++){var xn=gn[mn],bn=Kr.getEdgeByIndex(mn),Sn=xn.n1.p,wn=xn.n2.p,_n=bn.getLayout();_n=_n?_n.slice():[],_n[0]=_n[0]||[],_n[1]=_n[1]||[],copy$1(_n[0],Sn),copy$1(_n[1],wn),+xn.curveness&&(_n[2]=[(Sn[0]+wn[0])/2-(Sn[1]-wn[1])*xn.curveness,(Sn[1]+wn[1])/2-(wn[0]-Sn[0])*xn.curveness]),bn.setLayout(_n)}}),Gr.forceLayout=fn,Gr.preservedPoints=Zr,fn.step()}else Gr.forceLayout=null})}function getViewRect$3(Wr,Gr,Yr){var Zr=extend(Wr.getBoxLayoutParams(),{aspect:Yr});return getLayoutRect(Zr,{width:Gr.getWidth(),height:Gr.getHeight()})}function createViewCoordSys(Wr,Gr){var Yr=[];return Wr.eachSeriesByType("graph",function(Zr){var Kr=Zr.get("coordinateSystem");if(!Kr||Kr==="view"){var Qr=Zr.getData(),Jr=Qr.mapArray(function(hn){var dn=Qr.getItemModel(hn);return[+dn.get("x"),+dn.get("y")]}),en=[],tn=[];fromPoints(Jr,en,tn),tn[0]-en[0]===0&&(tn[0]+=1,en[0]-=1),tn[1]-en[1]===0&&(tn[1]+=1,en[1]-=1);var rn=(tn[0]-en[0])/(tn[1]-en[1]),an=getViewRect$3(Zr,Gr,rn);isNaN(rn)&&(en=[an.x,an.y],tn=[an.x+an.width,an.y+an.height]);var nn=tn[0]-en[0],sn=tn[1]-en[1],ln=an.width,un=an.height,cn=Zr.coordinateSystem=new View;cn.zoomLimit=Zr.get("scaleLimit"),cn.setBoundingRect(en[0],en[1],nn,sn),cn.setViewRect(an.x,an.y,ln,un),cn.setCenter(Zr.get("center"),Gr),cn.setZoom(Zr.get("zoom")),Yr.push(cn)}}),Yr}var straightLineProto=Line$1.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function Wr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return Wr}();(function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr})(StraightLineShape);function isStraightLine(Wr){return isNaN(+Wr.cpx1)||isNaN(+Wr.cpy1)}var ECLinePath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="ec-line",Zr}return Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new StraightLineShape},Gr.prototype.buildPath=function(Yr,Zr){isStraightLine(Zr)?straightLineProto.buildPath.call(this,Yr,Zr):bezierCurveProto.buildPath.call(this,Yr,Zr)},Gr.prototype.pointAt=function(Yr){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,Yr):bezierCurveProto.pointAt.call(this,Yr)},Gr.prototype.tangentAt=function(Yr){var Zr=this.shape,Kr=isStraightLine(Zr)?[Zr.x2-Zr.x1,Zr.y2-Zr.y1]:bezierCurveProto.tangentAt.call(this,Yr);return normalize$3(Kr,Kr)},Gr}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(Wr){return"_"+Wr+"Type"}function makeSymbolTypeValue(Wr,Gr,Yr){var Zr=Gr.getItemVisual(Yr,Wr);if(!Zr||Zr==="none")return Zr;var Kr=Gr.getItemVisual(Yr,Wr+"Size"),Qr=Gr.getItemVisual(Yr,Wr+"Rotate"),Jr=Gr.getItemVisual(Yr,Wr+"Offset"),en=Gr.getItemVisual(Yr,Wr+"KeepAspect"),tn=normalizeSymbolSize(Kr),rn=normalizeSymbolOffset(Jr||0,tn);return Zr+tn+rn+(Qr||"")+(en||"")}function createSymbol(Wr,Gr,Yr){var Zr=Gr.getItemVisual(Yr,Wr);if(!(!Zr||Zr==="none")){var Kr=Gr.getItemVisual(Yr,Wr+"Size"),Qr=Gr.getItemVisual(Yr,Wr+"Rotate"),Jr=Gr.getItemVisual(Yr,Wr+"Offset"),en=Gr.getItemVisual(Yr,Wr+"KeepAspect"),tn=normalizeSymbolSize(Kr),rn=normalizeSymbolOffset(Jr||0,tn),an=createSymbol$1(Zr,-tn[0]/2+rn[0],-tn[1]/2+rn[1],tn[0],tn[1],null,en);return an.__specifiedRotation=Qr==null||isNaN(Qr)?void 0:+Qr*Math.PI/180||0,an.name=Wr,an}}function createLine(Wr){var Gr=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(Gr.shape,Wr),Gr}function setLinePoints(Wr,Gr){Wr.x1=Gr[0][0],Wr.y1=Gr[0][1],Wr.x2=Gr[1][0],Wr.y2=Gr[1][1],Wr.percent=1;var Yr=Gr[2];Yr?(Wr.cpx1=Yr[0],Wr.cpy1=Yr[1]):(Wr.cpx1=NaN,Wr.cpy1=NaN)}var Line=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this)||this;return Qr._createLine(Yr,Zr,Kr),Qr}return Gr.prototype._createLine=function(Yr,Zr,Kr){var Qr=Yr.hostModel,Jr=Yr.getItemLayout(Zr),en=createLine(Jr);en.shape.percent=0,initProps(en,{shape:{percent:1}},Qr,Zr),this.add(en),each$f(SYMBOL_CATEGORIES,function(tn){var rn=createSymbol(tn,Yr,Zr);this.add(rn),this[makeSymbolTypeKey(tn)]=makeSymbolTypeValue(tn,Yr,Zr)},this),this._updateCommonStl(Yr,Zr,Kr)},Gr.prototype.updateData=function(Yr,Zr,Kr){var Qr=Yr.hostModel,Jr=this.childOfName("line"),en=Yr.getItemLayout(Zr),tn={shape:{}};setLinePoints(tn.shape,en),updateProps$1(Jr,tn,Qr,Zr),each$f(SYMBOL_CATEGORIES,function(rn){var an=makeSymbolTypeValue(rn,Yr,Zr),nn=makeSymbolTypeKey(rn);if(this[nn]!==an){this.remove(this.childOfName(rn));var sn=createSymbol(rn,Yr,Zr);this.add(sn)}this[nn]=an},this),this._updateCommonStl(Yr,Zr,Kr)},Gr.prototype.getLinePath=function(){return this.childAt(0)},Gr.prototype._updateCommonStl=function(Yr,Zr,Kr){var Qr=Yr.hostModel,Jr=this.childOfName("line"),en=Kr&&Kr.emphasisLineStyle,tn=Kr&&Kr.blurLineStyle,rn=Kr&&Kr.selectLineStyle,an=Kr&&Kr.labelStatesModels,nn=Kr&&Kr.emphasisDisabled,sn=Kr&&Kr.focus,ln=Kr&&Kr.blurScope;if(!Kr||Yr.hasItemOption){var un=Yr.getItemModel(Zr),cn=un.getModel("emphasis");en=cn.getModel("lineStyle").getLineStyle(),tn=un.getModel(["blur","lineStyle"]).getLineStyle(),rn=un.getModel(["select","lineStyle"]).getLineStyle(),nn=cn.get("disabled"),sn=cn.get("focus"),ln=cn.get("blurScope"),an=getLabelStatesModels(un)}var hn=Yr.getItemVisual(Zr,"style"),dn=hn.stroke;Jr.useStyle(hn),Jr.style.fill=null,Jr.style.strokeNoScale=!0,Jr.ensureState("emphasis").style=en,Jr.ensureState("blur").style=tn,Jr.ensureState("select").style=rn,each$f(SYMBOL_CATEGORIES,function(mn){var yn=this.childOfName(mn);if(yn){yn.setColor(dn),yn.style.opacity=hn.opacity;for(var xn=0;xn<SPECIAL_STATES.length;xn++){var bn=SPECIAL_STATES[xn],Sn=Jr.getState(bn);if(Sn){var wn=Sn.style||{},_n=yn.ensureState(bn),An=_n.style||(_n.style={});wn.stroke!=null&&(An[yn.__isEmptyBrush?"stroke":"fill"]=wn.stroke),wn.opacity!=null&&(An.opacity=wn.opacity)}}yn.markRedraw()}},this);var fn=Qr.getRawValue(Zr);setLabelStyle(this,an,{labelDataIndex:Zr,labelFetcher:{getFormattedLabel:function(mn,yn){return Qr.getFormattedLabel(mn,yn,Yr.dataType)}},inheritColor:dn||"#000",defaultOpacity:hn.opacity,defaultText:(fn==null?Yr.getName(Zr):isFinite(fn)?round$3(fn):fn)+""});var pn=this.getTextContent();if(pn){var gn=an.normal;pn.__align=pn.style.align,pn.__verticalAlign=pn.style.verticalAlign,pn.__position=gn.get("position")||"middle";var vn=gn.get("distance");isArray$1(vn)||(vn=[vn,vn]),pn.__labelDistance=vn}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,sn,ln,nn)},Gr.prototype.highlight=function(){enterEmphasis(this)},Gr.prototype.downplay=function(){leaveEmphasis(this)},Gr.prototype.updateLayout=function(Yr,Zr){this.setLinePoints(Yr.getItemLayout(Zr))},Gr.prototype.setLinePoints=function(Yr){var Zr=this.childOfName("line");setLinePoints(Zr.shape,Yr),Zr.dirty()},Gr.prototype.beforeUpdate=function(){var Yr=this,Zr=Yr.childOfName("fromSymbol"),Kr=Yr.childOfName("toSymbol"),Qr=Yr.getTextContent();if(!Zr&&!Kr&&(!Qr||Qr.ignore))return;for(var Jr=1,en=this.parent;en;)en.scaleX&&(Jr/=en.scaleX),en=en.parent;var tn=Yr.childOfName("line");if(!this.__dirty&&!tn.__dirty)return;var rn=tn.shape.percent,an=tn.pointAt(0),nn=tn.pointAt(rn),sn=sub([],nn,an);normalize$3(sn,sn);function ln(Sn,wn){var _n=Sn.__specifiedRotation;if(_n==null){var An=tn.tangentAt(wn);Sn.attr("rotation",(wn===1?-1:1)*Math.PI/2-Math.atan2(An[1],An[0]))}else Sn.attr("rotation",_n)}if(Zr&&(Zr.setPosition(an),ln(Zr,0),Zr.scaleX=Zr.scaleY=Jr*rn,Zr.markRedraw()),Kr&&(Kr.setPosition(nn),ln(Kr,1),Kr.scaleX=Kr.scaleY=Jr*rn,Kr.markRedraw()),Qr&&!Qr.ignore){Qr.x=Qr.y=0,Qr.originX=Qr.originY=0;var un=void 0,cn=void 0,hn=Qr.__labelDistance,dn=hn[0]*Jr,fn=hn[1]*Jr,pn=rn/2,gn=tn.tangentAt(pn),vn=[gn[1],-gn[0]],mn=tn.pointAt(pn);vn[1]>0&&(vn[0]=-vn[0],vn[1]=-vn[1]);var yn=gn[0]<0?-1:1;if(Qr.__position!=="start"&&Qr.__position!=="end"){var xn=-Math.atan2(gn[1],gn[0]);nn[0]<an[0]&&(xn=Math.PI+xn),Qr.rotation=xn}var bn=void 0;switch(Qr.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":bn=-fn,cn="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":bn=fn,cn="top";break;default:bn=0,cn="middle"}switch(Qr.__position){case"end":Qr.x=sn[0]*dn+nn[0],Qr.y=sn[1]*fn+nn[1],un=sn[0]>.8?"left":sn[0]<-.8?"right":"center",cn=sn[1]>.8?"top":sn[1]<-.8?"bottom":"middle";break;case"start":Qr.x=-sn[0]*dn+an[0],Qr.y=-sn[1]*fn+an[1],un=sn[0]>.8?"right":sn[0]<-.8?"left":"center",cn=sn[1]>.8?"bottom":sn[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":Qr.x=dn*yn+an[0],Qr.y=an[1]+bn,un=gn[0]<0?"right":"left",Qr.originX=-dn*yn,Qr.originY=-bn;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":Qr.x=mn[0],Qr.y=mn[1]+bn,un="center",Qr.originY=-bn;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":Qr.x=-dn*yn+nn[0],Qr.y=nn[1]+bn,un=gn[0]>=0?"right":"left",Qr.originX=dn*yn,Qr.originY=-bn;break}Qr.scaleX=Qr.scaleY=Jr,Qr.setStyle({verticalAlign:Qr.__verticalAlign||cn,align:Qr.__align||un})}},Gr}(Group$3),LineDraw=function(){function Wr(Gr){this.group=new Group$3,this._LineCtor=Gr||Line}return Wr.prototype.updateData=function(Gr){var Yr=this;this._progressiveEls=null;var Zr=this,Kr=Zr.group,Qr=Zr._lineData;Zr._lineData=Gr,Qr||Kr.removeAll();var Jr=makeSeriesScope$1(Gr);Gr.diff(Qr).add(function(en){Yr._doAdd(Gr,en,Jr)}).update(function(en,tn){Yr._doUpdate(Qr,Gr,tn,en,Jr)}).remove(function(en){Kr.remove(Qr.getItemGraphicEl(en))}).execute()},Wr.prototype.updateLayout=function(){var Gr=this._lineData;Gr&&Gr.eachItemGraphicEl(function(Yr,Zr){Yr.updateLayout(Gr,Zr)},this)},Wr.prototype.incrementalPrepareUpdate=function(Gr){this._seriesScope=makeSeriesScope$1(Gr),this._lineData=null,this.group.removeAll()},Wr.prototype.incrementalUpdate=function(Gr,Yr){this._progressiveEls=[];function Zr(en){!en.isGroup&&!isEffectObject(en)&&(en.incremental=!0,en.ensureState("emphasis").hoverLayer=!0)}for(var Kr=Gr.start;Kr<Gr.end;Kr++){var Qr=Yr.getItemLayout(Kr);if(lineNeedsDraw(Qr)){var Jr=new this._LineCtor(Yr,Kr,this._seriesScope);Jr.traverse(Zr),this.group.add(Jr),Yr.setItemGraphicEl(Kr,Jr),this._progressiveEls.push(Jr)}}},Wr.prototype.remove=function(){this.group.removeAll()},Wr.prototype.eachRendered=function(Gr){traverseElements(this._progressiveEls||this.group,Gr)},Wr.prototype._doAdd=function(Gr,Yr,Zr){var Kr=Gr.getItemLayout(Yr);if(lineNeedsDraw(Kr)){var Qr=new this._LineCtor(Gr,Yr,Zr);Gr.setItemGraphicEl(Yr,Qr),this.group.add(Qr)}},Wr.prototype._doUpdate=function(Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getItemGraphicEl(Zr);if(!lineNeedsDraw(Yr.getItemLayout(Kr))){this.group.remove(Jr);return}Jr?Jr.updateData(Yr,Kr,Qr):Jr=new this._LineCtor(Yr,Kr,Qr),Yr.setItemGraphicEl(Kr,Jr),this.group.add(Jr)},Wr}();function isEffectObject(Wr){return Wr.animators&&Wr.animators.length>0}function makeSeriesScope$1(Wr){var Gr=Wr.hostModel,Yr=Gr.getModel("emphasis");return{lineStyle:Gr.getModel("lineStyle").getLineStyle(),emphasisLineStyle:Yr.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:Gr.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:Gr.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:Yr.get("disabled"),blurScope:Yr.get("blurScope"),focus:Yr.get("focus"),labelStatesModels:getLabelStatesModels(Gr)}}function isPointNaN(Wr){return isNaN(Wr[0])||isNaN(Wr[1])}function lineNeedsDraw(Wr){return Wr&&!isPointNaN(Wr[0])&&!isPointNaN(Wr[1])}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(Wr,Gr,Yr){for(var Zr=Wr[0],Kr=Wr[1],Qr=Wr[2],Jr=1/0,en,tn=Yr*Yr,rn=.1,an=.1;an<=.9;an+=.1){v1[0]=quadraticAt(Zr[0],Kr[0],Qr[0],an),v1[1]=quadraticAt(Zr[1],Kr[1],Qr[1],an);var nn=mathAbs(v2DistSquare(v1,Gr)-tn);nn<Jr&&(Jr=nn,en=an)}for(var sn=0;sn<32;sn++){var ln=en+rn;v2[0]=quadraticAt(Zr[0],Kr[0],Qr[0],en),v2[1]=quadraticAt(Zr[1],Kr[1],Qr[1],en),v3[0]=quadraticAt(Zr[0],Kr[0],Qr[0],ln),v3[1]=quadraticAt(Zr[1],Kr[1],Qr[1],ln);var nn=v2DistSquare(v2,Gr)-tn;if(mathAbs(nn)<.01)break;var un=v2DistSquare(v3,Gr)-tn;rn/=2,nn<0?un>=0?en=en+rn:en=en-rn:un>=0?en=en-rn:en=en+rn}return en}function adjustEdge(Wr,Gr){var Yr=[],Zr=quadraticSubdivide,Kr=[[],[],[]],Qr=[[],[]],Jr=[];Gr/=2,Wr.eachEdge(function(en,tn){var rn=en.getLayout(),an=en.getVisual("fromSymbol"),nn=en.getVisual("toSymbol");rn.__original||(rn.__original=[clone$3(rn[0]),clone$3(rn[1])],rn[2]&&rn.__original.push(clone$3(rn[2])));var sn=rn.__original;if(rn[2]!=null){if(copy$1(Kr[0],sn[0]),copy$1(Kr[1],sn[2]),copy$1(Kr[2],sn[1]),an&&an!=="none"){var ln=getSymbolSize(en.node1),un=intersectCurveCircle(Kr,sn[0],ln*Gr);Zr(Kr[0][0],Kr[1][0],Kr[2][0],un,Yr),Kr[0][0]=Yr[3],Kr[1][0]=Yr[4],Zr(Kr[0][1],Kr[1][1],Kr[2][1],un,Yr),Kr[0][1]=Yr[3],Kr[1][1]=Yr[4]}if(nn&&nn!=="none"){var ln=getSymbolSize(en.node2),un=intersectCurveCircle(Kr,sn[1],ln*Gr);Zr(Kr[0][0],Kr[1][0],Kr[2][0],un,Yr),Kr[1][0]=Yr[1],Kr[2][0]=Yr[2],Zr(Kr[0][1],Kr[1][1],Kr[2][1],un,Yr),Kr[1][1]=Yr[1],Kr[2][1]=Yr[2]}copy$1(rn[0],Kr[0]),copy$1(rn[1],Kr[2]),copy$1(rn[2],Kr[1])}else{if(copy$1(Qr[0],sn[0]),copy$1(Qr[1],sn[1]),sub(Jr,Qr[1],Qr[0]),normalize$3(Jr,Jr),an&&an!=="none"){var ln=getSymbolSize(en.node1);scaleAndAdd$1(Qr[0],Qr[0],Jr,ln*Gr)}if(nn&&nn!=="none"){var ln=getSymbolSize(en.node2);scaleAndAdd$1(Qr[1],Qr[1],Jr,-ln*Gr)}copy$1(rn[0],Qr[0]),copy$1(rn[1],Qr[1])}})}function isViewCoordSys(Wr){return Wr.type==="view"}var GraphView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr){var Kr=new SymbolDraw,Qr=new LineDraw,Jr=this.group;this._controller=new RoamController(Zr.getZr()),this._controllerHost={target:Jr},Jr.add(Kr.group),Jr.add(Qr.group),this._symbolDraw=Kr,this._lineDraw=Qr,this._firstRender=!0},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this,Jr=Yr.coordinateSystem;this._model=Yr;var en=this._symbolDraw,tn=this._lineDraw,rn=this.group;if(isViewCoordSys(Jr)){var an={x:Jr.x,y:Jr.y,scaleX:Jr.scaleX,scaleY:Jr.scaleY};this._firstRender?rn.attr(an):updateProps$1(rn,an,Yr)}adjustEdge(Yr.getGraph(),getNodeGlobalScale(Yr));var nn=Yr.getData();en.updateData(nn);var sn=Yr.getEdgeData();tn.updateData(sn),this._updateNodeAndLinkScale(),this._updateController(Yr,Zr,Kr),clearTimeout(this._layoutTimeout);var ln=Yr.forceLayout,un=Yr.get(["force","layoutAnimation"]);ln&&this._startForceLayoutIteration(ln,un);var cn=Yr.get("layout");nn.graph.eachNode(function(pn){var gn=pn.dataIndex,vn=pn.getGraphicEl(),mn=pn.getModel();if(vn){vn.off("drag").off("dragend");var yn=mn.get("draggable");yn&&vn.on("drag",function(bn){switch(cn){case"force":ln.warmUp(),!Qr._layouting&&Qr._startForceLayoutIteration(ln,un),ln.setFixed(gn),nn.setItemLayout(gn,[vn.x,vn.y]);break;case"circular":nn.setItemLayout(gn,[vn.x,vn.y]),pn.setLayout({fixed:!0},!0),circularLayout(Yr,"symbolSize",pn,[bn.offsetX,bn.offsetY]),Qr.updateLayout(Yr);break;case"none":default:nn.setItemLayout(gn,[vn.x,vn.y]),simpleLayoutEdge(Yr.getGraph(),Yr),Qr.updateLayout(Yr);break}}).on("dragend",function(){ln&&ln.setUnfixed(gn)}),vn.setDraggable(yn,!!mn.get("cursor"));var xn=mn.get(["emphasis","focus"]);xn==="adjacency"&&(getECData(vn).focus=pn.getAdjacentDataIndices())}}),nn.graph.eachEdge(function(pn){var gn=pn.getGraphicEl(),vn=pn.getModel().get(["emphasis","focus"]);gn&&vn==="adjacency"&&(getECData(gn).focus={edge:[pn.dataIndex],node:[pn.node1.dataIndex,pn.node2.dataIndex]})});var hn=Yr.get("layout")==="circular"&&Yr.get(["circular","rotateLabel"]),dn=nn.getLayout("cx"),fn=nn.getLayout("cy");nn.graph.eachNode(function(pn){rotateNodeLabel(pn,hn,dn,fn)}),this._firstRender=!1},Gr.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},Gr.prototype._startForceLayoutIteration=function(Yr,Zr){var Kr=this;(function Qr(){Yr.step(function(Jr){Kr.updateLayout(Kr._model),(Kr._layouting=!Jr)&&(Zr?Kr._layoutTimeout=setTimeout(Qr,16):Qr())})})()},Gr.prototype._updateController=function(Yr,Zr,Kr){var Qr=this,Jr=this._controller,en=this._controllerHost,tn=this.group;if(Jr.setPointerChecker(function(rn,an,nn){var sn=tn.getBoundingRect();return sn.applyTransform(tn.transform),sn.contain(an,nn)&&!onIrrelevantElement(rn,Kr,Yr)}),!isViewCoordSys(Yr.coordinateSystem)){Jr.disable();return}Jr.enable(Yr.get("roam")),en.zoomLimit=Yr.get("scaleLimit"),en.zoom=Yr.coordinateSystem.getZoom(),Jr.off("pan").off("zoom").on("pan",function(rn){updateViewOnPan(en,rn.dx,rn.dy),Kr.dispatchAction({seriesId:Yr.id,type:"graphRoam",dx:rn.dx,dy:rn.dy})}).on("zoom",function(rn){updateViewOnZoom(en,rn.scale,rn.originX,rn.originY),Kr.dispatchAction({seriesId:Yr.id,type:"graphRoam",zoom:rn.scale,originX:rn.originX,originY:rn.originY}),Qr._updateNodeAndLinkScale(),adjustEdge(Yr.getGraph(),getNodeGlobalScale(Yr)),Qr._lineDraw.updateLayout(),Kr.updateLabelLayout()})},Gr.prototype._updateNodeAndLinkScale=function(){var Yr=this._model,Zr=Yr.getData(),Kr=getNodeGlobalScale(Yr);Zr.eachItemGraphicEl(function(Qr,Jr){Qr&&Qr.setSymbolScale(Kr)})},Gr.prototype.updateLayout=function(Yr){adjustEdge(Yr.getGraph(),getNodeGlobalScale(Yr)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},Gr.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},Gr.type="graph",Gr}(ChartView);function generateNodeKey(Wr){return"_EC_"+Wr}var Graph=function(){function Wr(Gr){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=Gr||!1}return Wr.prototype.isDirected=function(){return this._directed},Wr.prototype.addNode=function(Gr,Yr){Gr=Gr==null?""+Yr:""+Gr;var Zr=this._nodesMap;if(!Zr[generateNodeKey(Gr)]){var Kr=new GraphNode(Gr,Yr);return Kr.hostGraph=this,this.nodes.push(Kr),Zr[generateNodeKey(Gr)]=Kr,Kr}},Wr.prototype.getNodeByIndex=function(Gr){var Yr=this.data.getRawIndex(Gr);return this.nodes[Yr]},Wr.prototype.getNodeById=function(Gr){return this._nodesMap[generateNodeKey(Gr)]},Wr.prototype.addEdge=function(Gr,Yr,Zr){var Kr=this._nodesMap,Qr=this._edgesMap;if(isNumber(Gr)&&(Gr=this.nodes[Gr]),isNumber(Yr)&&(Yr=this.nodes[Yr]),Gr instanceof GraphNode||(Gr=Kr[generateNodeKey(Gr)]),Yr instanceof GraphNode||(Yr=Kr[generateNodeKey(Yr)]),!(!Gr||!Yr)){var Jr=Gr.id+"-"+Yr.id,en=new GraphEdge(Gr,Yr,Zr);return en.hostGraph=this,this._directed&&(Gr.outEdges.push(en),Yr.inEdges.push(en)),Gr.edges.push(en),Gr!==Yr&&Yr.edges.push(en),this.edges.push(en),Qr[Jr]=en,en}},Wr.prototype.getEdgeByIndex=function(Gr){var Yr=this.edgeData.getRawIndex(Gr);return this.edges[Yr]},Wr.prototype.getEdge=function(Gr,Yr){Gr instanceof GraphNode&&(Gr=Gr.id),Yr instanceof GraphNode&&(Yr=Yr.id);var Zr=this._edgesMap;return this._directed?Zr[Gr+"-"+Yr]:Zr[Gr+"-"+Yr]||Zr[Yr+"-"+Gr]},Wr.prototype.eachNode=function(Gr,Yr){for(var Zr=this.nodes,Kr=Zr.length,Qr=0;Qr<Kr;Qr++)Zr[Qr].dataIndex>=0&&Gr.call(Yr,Zr[Qr],Qr)},Wr.prototype.eachEdge=function(Gr,Yr){for(var Zr=this.edges,Kr=Zr.length,Qr=0;Qr<Kr;Qr++)Zr[Qr].dataIndex>=0&&Zr[Qr].node1.dataIndex>=0&&Zr[Qr].node2.dataIndex>=0&&Gr.call(Yr,Zr[Qr],Qr)},Wr.prototype.breadthFirstTraverse=function(Gr,Yr,Zr,Kr){if(Yr instanceof GraphNode||(Yr=this._nodesMap[generateNodeKey(Yr)]),!!Yr){for(var Qr=Zr==="out"?"outEdges":Zr==="in"?"inEdges":"edges",Jr=0;Jr<this.nodes.length;Jr++)this.nodes[Jr].__visited=!1;if(!Gr.call(Kr,Yr,null))for(var en=[Yr];en.length;)for(var tn=en.shift(),rn=tn[Qr],Jr=0;Jr<rn.length;Jr++){var an=rn[Jr],nn=an.node1===tn?an.node2:an.node1;if(!nn.__visited){if(Gr.call(Kr,nn,tn))return;en.push(nn),nn.__visited=!0}}}},Wr.prototype.update=function(){for(var Gr=this.data,Yr=this.edgeData,Zr=this.nodes,Kr=this.edges,Qr=0,Jr=Zr.length;Qr<Jr;Qr++)Zr[Qr].dataIndex=-1;for(var Qr=0,Jr=Gr.count();Qr<Jr;Qr++)Zr[Gr.getRawIndex(Qr)].dataIndex=Qr;Yr.filterSelf(function(en){var tn=Kr[Yr.getRawIndex(en)];return tn.node1.dataIndex>=0&&tn.node2.dataIndex>=0});for(var Qr=0,Jr=Kr.length;Qr<Jr;Qr++)Kr[Qr].dataIndex=-1;for(var Qr=0,Jr=Yr.count();Qr<Jr;Qr++)Kr[Yr.getRawIndex(Qr)].dataIndex=Qr},Wr.prototype.clone=function(){for(var Gr=new Wr(this._directed),Yr=this.nodes,Zr=this.edges,Kr=0;Kr<Yr.length;Kr++)Gr.addNode(Yr[Kr].id,Yr[Kr].dataIndex);for(var Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Gr.addEdge(Qr.node1.id,Qr.node2.id,Qr.dataIndex)}return Gr},Wr}(),GraphNode=function(){function Wr(Gr,Yr){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=Gr??"",this.dataIndex=Yr??-1}return Wr.prototype.degree=function(){return this.edges.length},Wr.prototype.inDegree=function(){return this.inEdges.length},Wr.prototype.outDegree=function(){return this.outEdges.length},Wr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Yr=this.hostGraph,Zr=Yr.data.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Wr.prototype.getAdjacentDataIndices=function(){for(var Gr={edge:[],node:[]},Yr=0;Yr<this.edges.length;Yr++){var Zr=this.edges[Yr];Zr.dataIndex<0||(Gr.edge.push(Zr.dataIndex),Gr.node.push(Zr.node1.dataIndex,Zr.node2.dataIndex))}return Gr},Wr.prototype.getTrajectoryDataIndices=function(){for(var Gr=createHashMap(),Yr=createHashMap(),Zr=0;Zr<this.edges.length;Zr++){var Kr=this.edges[Zr];if(!(Kr.dataIndex<0)){Gr.set(Kr.dataIndex,!0);for(var Qr=[Kr.node1],Jr=[Kr.node2],en=0;en<Qr.length;){var tn=Qr[en];en++,Yr.set(tn.dataIndex,!0);for(var rn=0;rn<tn.inEdges.length;rn++)Gr.set(tn.inEdges[rn].dataIndex,!0),Qr.push(tn.inEdges[rn].node1)}for(en=0;en<Jr.length;){var an=Jr[en];en++,Yr.set(an.dataIndex,!0);for(var rn=0;rn<an.outEdges.length;rn++)Gr.set(an.outEdges[rn].dataIndex,!0),Jr.push(an.outEdges[rn].node2)}}}return{edge:Gr.keys(),node:Yr.keys()}},Wr}(),GraphEdge=function(){function Wr(Gr,Yr,Zr){this.dataIndex=-1,this.node1=Gr,this.node2=Yr,this.dataIndex=Zr??-1}return Wr.prototype.getModel=function(Gr){if(!(this.dataIndex<0)){var Yr=this.hostGraph,Zr=Yr.edgeData.getItemModel(this.dataIndex);return Zr.getModel(Gr)}},Wr.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},Wr.prototype.getTrajectoryDataIndices=function(){var Gr=createHashMap(),Yr=createHashMap();Gr.set(this.dataIndex,!0);for(var Zr=[this.node1],Kr=[this.node2],Qr=0;Qr<Zr.length;){var Jr=Zr[Qr];Qr++,Yr.set(Jr.dataIndex,!0);for(var en=0;en<Jr.inEdges.length;en++)Gr.set(Jr.inEdges[en].dataIndex,!0),Zr.push(Jr.inEdges[en].node1)}for(Qr=0;Qr<Kr.length;){var tn=Kr[Qr];Qr++,Yr.set(tn.dataIndex,!0);for(var en=0;en<tn.outEdges.length;en++)Gr.set(tn.outEdges[en].dataIndex,!0),Kr.push(tn.outEdges[en].node2)}return{edge:Gr.keys(),node:Yr.keys()}},Wr}();function createGraphDataProxyMixin(Wr,Gr){return{getValue:function(Yr){var Zr=this[Wr][Gr];return Zr.getStore().get(Zr.getDimensionIndex(Yr||"value"),this.dataIndex)},setVisual:function(Yr,Zr){this.dataIndex>=0&&this[Wr][Gr].setItemVisual(this.dataIndex,Yr,Zr)},getVisual:function(Yr){return this[Wr][Gr].getItemVisual(this.dataIndex,Yr)},setLayout:function(Yr,Zr){this.dataIndex>=0&&this[Wr][Gr].setItemLayout(this.dataIndex,Yr,Zr)},getLayout:function(){return this[Wr][Gr].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Wr][Gr].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Wr][Gr].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(Wr,Gr,Yr,Zr,Kr){for(var Qr=new Graph(Zr),Jr=0;Jr<Wr.length;Jr++)Qr.addNode(retrieve(Wr[Jr].id,Wr[Jr].name,Jr),Jr);for(var en=[],tn=[],rn=0,Jr=0;Jr<Gr.length;Jr++){var an=Gr[Jr],nn=an.source,sn=an.target;Qr.addEdge(nn,sn,rn)&&(tn.push(an),en.push(retrieve(convertOptionIdName(an.id,null),nn+" > "+sn)),rn++)}var ln=Yr.get("coordinateSystem"),un;if(ln==="cartesian2d"||ln==="polar")un=createSeriesData(Wr,Yr);else{var cn=CoordinateSystemManager.get(ln),hn=cn?cn.dimensions||[]:[];indexOf(hn,"value")<0&&hn.concat(["value"]);var dn=prepareSeriesDataSchema(Wr,{coordDimensions:hn,encodeDefine:Yr.getEncode()}).dimensions;un=new SeriesData(dn,Yr),un.initData(Wr)}var fn=new SeriesData(["value"],Yr);return fn.initData(tn,en),Kr&&Kr(un,fn),linkSeriesData({mainData:un,struct:Qr,structAttr:"graph",datas:{node:un,edge:fn},datasAttr:{node:"data",edge:"edgeData"}}),Qr.update(),Qr}var GraphSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr}return Gr.prototype.init=function(Yr){Wr.prototype.init.apply(this,arguments);var Zr=this;function Kr(){return Zr._categoriesData}this.legendVisualProvider=new LegendVisualProvider(Kr,Kr),this.fillDataTextStyle(Yr.edges||Yr.links),this._updateCategoriesData()},Gr.prototype.mergeOption=function(Yr){Wr.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(Yr.edges||Yr.links),this._updateCategoriesData()},Gr.prototype.mergeDefaultAndTheme=function(Yr){Wr.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(Yr,"edgeLabel",["show"])},Gr.prototype.getInitialData=function(Yr,Zr){var Kr=Yr.edges||Yr.links||[],Qr=Yr.data||Yr.nodes||[],Jr=this;if(Qr&&Kr){initCurvenessList(this);var en=createGraphFromNodeEdge(Qr,Kr,this,!0,tn);return each$f(en.edges,function(rn){createEdgeMapForCurveness(rn.node1,rn.node2,this,rn.dataIndex)},this),en.data}function tn(rn,an){rn.wrapMethod("getItemModel",function(un){var cn=Jr._categoriesModels,hn=un.getShallow("category"),dn=cn[hn];return dn&&(dn.parentModel=un.parentModel,un.parentModel=dn),un});var nn=Model.prototype.getModel;function sn(un,cn){var hn=nn.call(this,un,cn);return hn.resolveParentPath=ln,hn}an.wrapMethod("getItemModel",function(un){return un.resolveParentPath=ln,un.getModel=sn,un});function ln(un){if(un&&(un[0]==="label"||un[1]==="label")){var cn=un.slice();return un[0]==="label"?cn[0]="edgeLabel":un[1]==="label"&&(cn[1]="edgeLabel"),cn}return un}}},Gr.prototype.getGraph=function(){return this.getData().graph},Gr.prototype.getEdgeData=function(){return this.getGraph().edgeData},Gr.prototype.getCategoriesData=function(){return this._categoriesData},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){if(Kr==="edge"){var Qr=this.getData(),Jr=this.getDataParams(Yr,Kr),en=Qr.graph.getEdgeByIndex(Yr),tn=Qr.getName(en.node1.dataIndex),rn=Qr.getName(en.node2.dataIndex),an=[];return tn!=null&&an.push(tn),rn!=null&&an.push(rn),createTooltipMarkup("nameValue",{name:an.join(" > "),value:Jr.value,noValue:Jr.value==null})}var nn=defaultSeriesFormatTooltip({series:this,dataIndex:Yr,multipleSeries:Zr});return nn},Gr.prototype._updateCategoriesData=function(){var Yr=map$1(this.option.categories||[],function(Kr){return Kr.value!=null?Kr:extend({value:0},Kr)}),Zr=new SeriesData(["value"],this);Zr.initData(Yr),this._categoriesData=Zr,this._categoriesModels=Zr.mapArray(function(Kr){return Zr.getItemModel(Kr)})},Gr.prototype.setZoom=function(Yr){this.option.zoom=Yr},Gr.prototype.setCenter=function(Yr){this.option.center=Yr},Gr.prototype.isAnimationEnabled=function(){return Wr.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},Gr.type="series.graph",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Gr}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(Wr){Wr.registerChartView(GraphView),Wr.registerSeriesModel(GraphSeriesModel),Wr.registerProcessor(categoryFilter),Wr.registerVisual(categoryVisual),Wr.registerVisual(graphEdgeVisual),Wr.registerLayout(graphSimpleLayout),Wr.registerLayout(Wr.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),Wr.registerLayout(graphForceLayout),Wr.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),Wr.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),Wr.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),Wr.registerAction(actionInfo$1,function(Gr,Yr,Zr){Yr.eachComponent({mainType:"series",query:Gr},function(Kr){var Qr=Kr.coordinateSystem,Jr=updateCenterAndZoom(Qr,Gr,void 0,Zr);Kr.setCenter&&Kr.setCenter(Jr.center),Kr.setZoom&&Kr.setZoom(Jr.zoom)})})}var PointerShape=function(){function Wr(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return Wr}(),PointerPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="pointer",Zr}return Gr.prototype.getDefaultShape=function(){return new PointerShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Math.cos,Qr=Math.sin,Jr=Zr.r,en=Zr.width,tn=Zr.angle,rn=Zr.x-Kr(tn)*en*(en>=Jr/3?1:2),an=Zr.y-Qr(tn)*en*(en>=Jr/3?1:2);tn=Zr.angle-Math.PI/2,Yr.moveTo(rn,an),Yr.lineTo(Zr.x+Kr(tn)*en,Zr.y+Qr(tn)*en),Yr.lineTo(Zr.x+Kr(Zr.angle)*Jr,Zr.y+Qr(Zr.angle)*Jr),Yr.lineTo(Zr.x-Kr(tn)*en,Zr.y-Qr(tn)*en),Yr.lineTo(rn,an)},Gr}(Path);function parsePosition(Wr,Gr){var Yr=Wr.get("center"),Zr=Gr.getWidth(),Kr=Gr.getHeight(),Qr=Math.min(Zr,Kr),Jr=parsePercent(Yr[0],Gr.getWidth()),en=parsePercent(Yr[1],Gr.getHeight()),tn=parsePercent(Wr.get("radius"),Qr/2);return{cx:Jr,cy:en,r:tn}}function formatLabel(Wr,Gr){var Yr=Wr==null?"":Wr+"";return Gr&&(isString(Gr)?Yr=Gr.replace("{value}",Yr):isFunction(Gr)&&(Yr=Gr(Wr))),Yr}var GaugeView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){this.group.removeAll();var Qr=Yr.get(["axisLine","lineStyle","color"]),Jr=parsePosition(Yr,Kr);this._renderMain(Yr,Zr,Kr,Qr,Jr),this._data=Yr.getData()},Gr.prototype.dispose=function(){},Gr.prototype._renderMain=function(Yr,Zr,Kr,Qr,Jr){var en=this.group,tn=Yr.get("clockwise"),rn=-Yr.get("startAngle")/180*Math.PI,an=-Yr.get("endAngle")/180*Math.PI,nn=Yr.getModel("axisLine"),sn=nn.get("roundCap"),ln=sn?SausagePath:Sector,un=nn.get("show"),cn=nn.getModel("lineStyle"),hn=cn.get("width"),dn=[rn,an];normalizeArcAngles(dn,!tn),rn=dn[0],an=dn[1];for(var fn=an-rn,pn=rn,gn=[],vn=0;un&&vn<Qr.length;vn++){var mn=Math.min(Math.max(Qr[vn][0],0),1);an=rn+fn*mn;var yn=new ln({shape:{startAngle:pn,endAngle:an,cx:Jr.cx,cy:Jr.cy,clockwise:tn,r0:Jr.r-hn,r:Jr.r},silent:!0});yn.setStyle({fill:Qr[vn][1]}),yn.setStyle(cn.getLineStyle(["color","width"])),gn.push(yn),pn=an}gn.reverse(),each$f(gn,function(bn){return en.add(bn)});var xn=function(bn){if(bn<=0)return Qr[0][1];var Sn;for(Sn=0;Sn<Qr.length;Sn++)if(Qr[Sn][0]>=bn&&(Sn===0?0:Qr[Sn-1][0])<bn)return Qr[Sn][1];return Qr[Sn-1][1]};this._renderTicks(Yr,Zr,Kr,xn,Jr,rn,an,tn,hn),this._renderTitleAndDetail(Yr,Zr,Kr,xn,Jr),this._renderAnchor(Yr,Jr),this._renderPointer(Yr,Zr,Kr,xn,Jr,rn,an,tn,hn)},Gr.prototype._renderTicks=function(Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){for(var nn=this.group,sn=Jr.cx,ln=Jr.cy,un=Jr.r,cn=+Yr.get("min"),hn=+Yr.get("max"),dn=Yr.getModel("splitLine"),fn=Yr.getModel("axisTick"),pn=Yr.getModel("axisLabel"),gn=Yr.get("splitNumber"),vn=fn.get("splitNumber"),mn=parsePercent(dn.get("length"),un),yn=parsePercent(fn.get("length"),un),xn=en,bn=(tn-en)/gn,Sn=bn/vn,wn=dn.getModel("lineStyle").getLineStyle(),_n=fn.getModel("lineStyle").getLineStyle(),An=dn.get("distance"),Cn,Tn,Mn=0;Mn<=gn;Mn++){if(Cn=Math.cos(xn),Tn=Math.sin(xn),dn.get("show")){var En=An?An+an:an,Ln=new Line$1({shape:{x1:Cn*(un-En)+sn,y1:Tn*(un-En)+ln,x2:Cn*(un-mn-En)+sn,y2:Tn*(un-mn-En)+ln},style:wn,silent:!0});wn.stroke==="auto"&&Ln.setStyle({stroke:Qr(Mn/gn)}),nn.add(Ln)}if(pn.get("show")){var En=pn.get("distance")+An,In=formatLabel(round$3(Mn/gn*(hn-cn)+cn),pn.get("formatter")),Pn=Qr(Mn/gn),Dn=Cn*(un-mn-En)+sn,kn=Tn*(un-mn-En)+ln,Nn=pn.get("rotate"),Rn=0;Nn==="radial"?(Rn=-xn+2*Math.PI,Rn>Math.PI/2&&(Rn+=Math.PI)):Nn==="tangential"?Rn=-xn-Math.PI/2:isNumber(Nn)&&(Rn=Nn*Math.PI/180),Rn===0?nn.add(new ZRText({style:createTextStyle(pn,{text:In,x:Dn,y:kn,verticalAlign:Tn<-.8?"top":Tn>.8?"bottom":"middle",align:Cn<-.4?"left":Cn>.4?"right":"center"},{inheritColor:Pn}),silent:!0})):nn.add(new ZRText({style:createTextStyle(pn,{text:In,x:Dn,y:kn,verticalAlign:"middle",align:"center"},{inheritColor:Pn}),silent:!0,originX:Dn,originY:kn,rotation:Rn}))}if(fn.get("show")&&Mn!==gn){var En=fn.get("distance");En=En?En+an:an;for(var Fn=0;Fn<=vn;Fn++){Cn=Math.cos(xn),Tn=Math.sin(xn);var Hn=new Line$1({shape:{x1:Cn*(un-En)+sn,y1:Tn*(un-En)+ln,x2:Cn*(un-yn-En)+sn,y2:Tn*(un-yn-En)+ln},silent:!0,style:_n});_n.stroke==="auto"&&Hn.setStyle({stroke:Qr((Mn+Fn/vn)/gn)}),nn.add(Hn),xn+=Sn}xn-=Sn}else xn+=bn}},Gr.prototype._renderPointer=function(Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){var nn=this.group,sn=this._data,ln=this._progressEls,un=[],cn=Yr.get(["pointer","show"]),hn=Yr.getModel("progress"),dn=hn.get("show"),fn=Yr.getData(),pn=fn.mapDimension("value"),gn=+Yr.get("min"),vn=+Yr.get("max"),mn=[gn,vn],yn=[en,tn];function xn(Sn,wn){var _n=fn.getItemModel(Sn),An=_n.getModel("pointer"),Cn=parsePercent(An.get("width"),Jr.r),Tn=parsePercent(An.get("length"),Jr.r),Mn=Yr.get(["pointer","icon"]),En=An.get("offsetCenter"),Ln=parsePercent(En[0],Jr.r),In=parsePercent(En[1],Jr.r),Pn=An.get("keepAspect"),Dn;return Mn?Dn=createSymbol$1(Mn,Ln-Cn/2,In-Tn,Cn,Tn,null,Pn):Dn=new PointerPath({shape:{angle:-Math.PI/2,width:Cn,r:Tn,x:Ln,y:In}}),Dn.rotation=-(wn+Math.PI/2),Dn.x=Jr.cx,Dn.y=Jr.cy,Dn}function bn(Sn,wn){var _n=hn.get("roundCap"),An=_n?SausagePath:Sector,Cn=hn.get("overlap"),Tn=Cn?hn.get("width"):an/fn.count(),Mn=Cn?Jr.r-Tn:Jr.r-(Sn+1)*Tn,En=Cn?Jr.r:Jr.r-Sn*Tn,Ln=new An({shape:{startAngle:en,endAngle:wn,cx:Jr.cx,cy:Jr.cy,clockwise:rn,r0:Mn,r:En}});return Cn&&(Ln.z2=linearMap$2(fn.get(pn,Sn),[gn,vn],[100,0],!0)),Ln}(dn||cn)&&(fn.diff(sn).add(function(Sn){var wn=fn.get(pn,Sn);if(cn){var _n=xn(Sn,en);initProps(_n,{rotation:-((isNaN(+wn)?yn[0]:linearMap$2(wn,mn,yn,!0))+Math.PI/2)},Yr),nn.add(_n),fn.setItemGraphicEl(Sn,_n)}if(dn){var An=bn(Sn,en),Cn=hn.get("clip");initProps(An,{shape:{endAngle:linearMap$2(wn,mn,yn,Cn)}},Yr),nn.add(An),setCommonECData(Yr.seriesIndex,fn.dataType,Sn,An),un[Sn]=An}}).update(function(Sn,wn){var _n=fn.get(pn,Sn);if(cn){var An=sn.getItemGraphicEl(wn),Cn=An?An.rotation:en,Tn=xn(Sn,Cn);Tn.rotation=Cn,updateProps$1(Tn,{rotation:-((isNaN(+_n)?yn[0]:linearMap$2(_n,mn,yn,!0))+Math.PI/2)},Yr),nn.add(Tn),fn.setItemGraphicEl(Sn,Tn)}if(dn){var Mn=ln[wn],En=Mn?Mn.shape.endAngle:en,Ln=bn(Sn,En),In=hn.get("clip");updateProps$1(Ln,{shape:{endAngle:linearMap$2(_n,mn,yn,In)}},Yr),nn.add(Ln),setCommonECData(Yr.seriesIndex,fn.dataType,Sn,Ln),un[Sn]=Ln}}).execute(),fn.each(function(Sn){var wn=fn.getItemModel(Sn),_n=wn.getModel("emphasis"),An=_n.get("focus"),Cn=_n.get("blurScope"),Tn=_n.get("disabled");if(cn){var Mn=fn.getItemGraphicEl(Sn),En=fn.getItemVisual(Sn,"style"),Ln=En.fill;if(Mn instanceof ZRImage){var In=Mn.style;Mn.useStyle(extend({image:In.image,x:In.x,y:In.y,width:In.width,height:In.height},En))}else Mn.useStyle(En),Mn.type!=="pointer"&&Mn.setColor(Ln);Mn.setStyle(wn.getModel(["pointer","itemStyle"]).getItemStyle()),Mn.style.fill==="auto"&&Mn.setStyle("fill",Qr(linearMap$2(fn.get(pn,Sn),mn,[0,1],!0))),Mn.z2EmphasisLift=0,setStatesStylesFromModel(Mn,wn),toggleHoverEmphasis(Mn,An,Cn,Tn)}if(dn){var Pn=un[Sn];Pn.useStyle(fn.getItemVisual(Sn,"style")),Pn.setStyle(wn.getModel(["progress","itemStyle"]).getItemStyle()),Pn.z2EmphasisLift=0,setStatesStylesFromModel(Pn,wn),toggleHoverEmphasis(Pn,An,Cn,Tn)}}),this._progressEls=un)},Gr.prototype._renderAnchor=function(Yr,Zr){var Kr=Yr.getModel("anchor"),Qr=Kr.get("show");if(Qr){var Jr=Kr.get("size"),en=Kr.get("icon"),tn=Kr.get("offsetCenter"),rn=Kr.get("keepAspect"),an=createSymbol$1(en,Zr.cx-Jr/2+parsePercent(tn[0],Zr.r),Zr.cy-Jr/2+parsePercent(tn[1],Zr.r),Jr,Jr,null,rn);an.z2=Kr.get("showAbove")?1:0,an.setStyle(Kr.getModel("itemStyle").getItemStyle()),this.group.add(an)}},Gr.prototype._renderTitleAndDetail=function(Yr,Zr,Kr,Qr,Jr){var en=this,tn=Yr.getData(),rn=tn.mapDimension("value"),an=+Yr.get("min"),nn=+Yr.get("max"),sn=new Group$3,ln=[],un=[],cn=Yr.isAnimationEnabled(),hn=Yr.get(["pointer","showAbove"]);tn.diff(this._data).add(function(dn){ln[dn]=new ZRText({silent:!0}),un[dn]=new ZRText({silent:!0})}).update(function(dn,fn){ln[dn]=en._titleEls[fn],un[dn]=en._detailEls[fn]}).execute(),tn.each(function(dn){var fn=tn.getItemModel(dn),pn=tn.get(rn,dn),gn=new Group$3,vn=Qr(linearMap$2(pn,[an,nn],[0,1],!0)),mn=fn.getModel("title");if(mn.get("show")){var yn=mn.get("offsetCenter"),xn=Jr.cx+parsePercent(yn[0],Jr.r),bn=Jr.cy+parsePercent(yn[1],Jr.r),Sn=ln[dn];Sn.attr({z2:hn?0:2,style:createTextStyle(mn,{x:xn,y:bn,text:tn.getName(dn),align:"center",verticalAlign:"middle"},{inheritColor:vn})}),gn.add(Sn)}var wn=fn.getModel("detail");if(wn.get("show")){var _n=wn.get("offsetCenter"),An=Jr.cx+parsePercent(_n[0],Jr.r),Cn=Jr.cy+parsePercent(_n[1],Jr.r),Tn=parsePercent(wn.get("width"),Jr.r),Mn=parsePercent(wn.get("height"),Jr.r),En=Yr.get(["progress","show"])?tn.getItemVisual(dn,"style").fill:vn,Sn=un[dn],Ln=wn.get("formatter");Sn.attr({z2:hn?0:2,style:createTextStyle(wn,{x:An,y:Cn,text:formatLabel(pn,Ln),width:isNaN(Tn)?null:Tn,height:isNaN(Mn)?null:Mn,align:"center",verticalAlign:"middle"},{inheritColor:En})}),setLabelValueAnimation(Sn,{normal:wn},pn,function(Pn){return formatLabel(Pn,Ln)}),cn&&animateLabelValue(Sn,dn,tn,Yr,{getFormattedLabel:function(Pn,Dn,kn,Nn,Rn,Fn){return formatLabel(Fn?Fn.interpolatedValue:pn,Ln)}}),gn.add(Sn)}sn.add(gn)}),this.group.add(sn),this._titleEls=ln,this._detailEls=un},Gr.type="gauge",Gr}(ChartView),GaugeSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.visualStyleAccessPath="itemStyle",Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesDataSimply(this,["value"])},Gr.type="series.gauge",Gr.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},Gr}(SeriesModel);function install$E(Wr){Wr.registerChartView(GaugeView),Wr.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){var Kr=Wr.call(this)||this,Qr=Kr,Jr=new Polyline$1,en=new ZRText;return Qr.setTextContent(en),Kr.setTextGuideLine(Jr),Kr.updateData(Yr,Zr,!0),Kr}return Gr.prototype.updateData=function(Yr,Zr,Kr){var Qr=this,Jr=Yr.hostModel,en=Yr.getItemModel(Zr),tn=Yr.getItemLayout(Zr),rn=en.getModel("emphasis"),an=en.get(opacityAccessPath$1);an=an??1,Kr||saveOldStyle(Qr),Qr.useStyle(Yr.getItemVisual(Zr,"style")),Qr.style.lineJoin="round",Kr?(Qr.setShape({points:tn.points}),Qr.style.opacity=0,initProps(Qr,{style:{opacity:an}},Jr,Zr)):updateProps$1(Qr,{style:{opacity:an},shape:{points:tn.points}},Jr,Zr),setStatesStylesFromModel(Qr,en),this._updateLabel(Yr,Zr),toggleHoverEmphasis(this,rn.get("focus"),rn.get("blurScope"),rn.get("disabled"))},Gr.prototype._updateLabel=function(Yr,Zr){var Kr=this,Qr=this.getTextGuideLine(),Jr=Kr.getTextContent(),en=Yr.hostModel,tn=Yr.getItemModel(Zr),rn=Yr.getItemLayout(Zr),an=rn.label,nn=Yr.getItemVisual(Zr,"style"),sn=nn.fill;setLabelStyle(Jr,getLabelStatesModels(tn),{labelFetcher:Yr.hostModel,labelDataIndex:Zr,defaultOpacity:nn.opacity,defaultText:Yr.getName(Zr)},{normal:{align:an.textAlign,verticalAlign:an.verticalAlign}}),Kr.setTextConfig({local:!0,inside:!!an.inside,insideStroke:sn,outsideFill:sn});var ln=an.linePoints;Qr.setShape({points:ln}),Kr.textGuideLineConfig={anchor:ln?new Point(ln[0][0],ln[0][1]):null},updateProps$1(Jr,{style:{x:an.x,y:an.y}},en,Zr),Jr.attr({rotation:an.rotation,originX:an.x,originY:an.y,z2:10}),setLabelLineStyle(Kr,getLabelLineStatesModels(tn),{stroke:sn})},Gr}(Polygon),FunnelView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.ignoreLabelLineUpdate=!0,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._data,en=this.group;Qr.diff(Jr).add(function(tn){var rn=new FunnelPiece(Qr,tn);Qr.setItemGraphicEl(tn,rn),en.add(rn)}).update(function(tn,rn){var an=Jr.getItemGraphicEl(rn);an.updateData(Qr,tn),en.add(an),Qr.setItemGraphicEl(tn,an)}).remove(function(tn){var rn=Jr.getItemGraphicEl(tn);removeElementWithFadeOut(rn,Yr,tn)}).execute(),this._data=Qr},Gr.prototype.remove=function(){this.group.removeAll(),this._data=null},Gr.prototype.dispose=function(){},Gr.type="funnel",Gr}(ChartView),FunnelSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr){Wr.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Yr)},Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},Gr.prototype._defaultLabelLine=function(Yr){defaultEmphasis(Yr,"labelLine",["show"]);var Zr=Yr.labelLine,Kr=Yr.emphasis.labelLine;Zr.show=Zr.show&&Yr.label.show,Kr.show=Kr.show&&Yr.emphasis.label.show},Gr.prototype.getDataParams=function(Yr){var Zr=this.getData(),Kr=Wr.prototype.getDataParams.call(this,Yr),Qr=Zr.mapDimension("value"),Jr=Zr.getSum(Qr);return Kr.percent=Jr?+(Zr.get(Qr,Yr)/Jr*100).toFixed(2):0,Kr.$vars.push("percent"),Kr},Gr.type="series.funnel",Gr.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Gr}(SeriesModel);function getViewRect$2(Wr,Gr){return getLayoutRect(Wr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function getSortedIndices(Wr,Gr){for(var Yr=Wr.mapDimension("value"),Zr=Wr.mapArray(Yr,function(tn){return tn}),Kr=[],Qr=Gr==="ascending",Jr=0,en=Wr.count();Jr<en;Jr++)Kr[Jr]=Jr;return isFunction(Gr)?Kr.sort(Gr):Gr!=="none"&&Kr.sort(function(tn,rn){return Qr?Zr[tn]-Zr[rn]:Zr[rn]-Zr[tn]}),Kr}function labelLayout(Wr){var Gr=Wr.hostModel,Yr=Gr.get("orient");Wr.each(function(Zr){var Kr=Wr.getItemModel(Zr),Qr=Kr.getModel("label"),Jr=Qr.get("position"),en=Kr.getModel("labelLine"),tn=Wr.getItemLayout(Zr),rn=tn.points,an=Jr==="inner"||Jr==="inside"||Jr==="center"||Jr==="insideLeft"||Jr==="insideRight",nn,sn,ln,un;if(an)Jr==="insideLeft"?(sn=(rn[0][0]+rn[3][0])/2+5,ln=(rn[0][1]+rn[3][1])/2,nn="left"):Jr==="insideRight"?(sn=(rn[1][0]+rn[2][0])/2-5,ln=(rn[1][1]+rn[2][1])/2,nn="right"):(sn=(rn[0][0]+rn[1][0]+rn[2][0]+rn[3][0])/4,ln=(rn[0][1]+rn[1][1]+rn[2][1]+rn[3][1])/4,nn="center"),un=[[sn,ln],[sn,ln]];else{var cn=void 0,hn=void 0,dn=void 0,fn=void 0,pn=en.get("length");Jr==="left"?(cn=(rn[3][0]+rn[0][0])/2,hn=(rn[3][1]+rn[0][1])/2,dn=cn-pn,sn=dn-5,nn="right"):Jr==="right"?(cn=(rn[1][0]+rn[2][0])/2,hn=(rn[1][1]+rn[2][1])/2,dn=cn+pn,sn=dn+5,nn="left"):Jr==="top"?(cn=(rn[3][0]+rn[0][0])/2,hn=(rn[3][1]+rn[0][1])/2,fn=hn-pn,ln=fn-5,nn="center"):Jr==="bottom"?(cn=(rn[1][0]+rn[2][0])/2,hn=(rn[1][1]+rn[2][1])/2,fn=hn+pn,ln=fn+5,nn="center"):Jr==="rightTop"?(cn=Yr==="horizontal"?rn[3][0]:rn[1][0],hn=Yr==="horizontal"?rn[3][1]:rn[1][1],Yr==="horizontal"?(fn=hn-pn,ln=fn-5,nn="center"):(dn=cn+pn,sn=dn+5,nn="top")):Jr==="rightBottom"?(cn=rn[2][0],hn=rn[2][1],Yr==="horizontal"?(fn=hn+pn,ln=fn+5,nn="center"):(dn=cn+pn,sn=dn+5,nn="bottom")):Jr==="leftTop"?(cn=rn[0][0],hn=Yr==="horizontal"?rn[0][1]:rn[1][1],Yr==="horizontal"?(fn=hn-pn,ln=fn-5,nn="center"):(dn=cn-pn,sn=dn-5,nn="right")):Jr==="leftBottom"?(cn=Yr==="horizontal"?rn[1][0]:rn[3][0],hn=Yr==="horizontal"?rn[1][1]:rn[2][1],Yr==="horizontal"?(fn=hn+pn,ln=fn+5,nn="center"):(dn=cn-pn,sn=dn-5,nn="right")):(cn=(rn[1][0]+rn[2][0])/2,hn=(rn[1][1]+rn[2][1])/2,Yr==="horizontal"?(fn=hn+pn,ln=fn+5,nn="center"):(dn=cn+pn,sn=dn+5,nn="left")),Yr==="horizontal"?(dn=cn,sn=dn):(fn=hn,ln=fn),un=[[cn,hn],[dn,fn]]}tn.label={linePoints:un,x:sn,y:ln,verticalAlign:"middle",textAlign:nn,inside:an}})}function funnelLayout(Wr,Gr){Wr.eachSeriesByType("funnel",function(Yr){var Zr=Yr.getData(),Kr=Zr.mapDimension("value"),Qr=Yr.get("sort"),Jr=getViewRect$2(Yr,Gr),en=Yr.get("orient"),tn=Jr.width,rn=Jr.height,an=getSortedIndices(Zr,Qr),nn=Jr.x,sn=Jr.y,ln=en==="horizontal"?[parsePercent(Yr.get("minSize"),rn),parsePercent(Yr.get("maxSize"),rn)]:[parsePercent(Yr.get("minSize"),tn),parsePercent(Yr.get("maxSize"),tn)],un=Zr.getDataExtent(Kr),cn=Yr.get("min"),hn=Yr.get("max");cn==null&&(cn=Math.min(un[0],0)),hn==null&&(hn=un[1]);var dn=Yr.get("funnelAlign"),fn=Yr.get("gap"),pn=en==="horizontal"?tn:rn,gn=(pn-fn*(Zr.count()-1))/Zr.count(),vn=function(Cn,Tn){if(en==="horizontal"){var Mn=Zr.get(Kr,Cn)||0,En=linearMap$2(Mn,[cn,hn],ln,!0),Ln=void 0;switch(dn){case"top":Ln=sn;break;case"center":Ln=sn+(rn-En)/2;break;case"bottom":Ln=sn+(rn-En);break}return[[Tn,Ln],[Tn,Ln+En]]}var In=Zr.get(Kr,Cn)||0,Pn=linearMap$2(In,[cn,hn],ln,!0),Dn;switch(dn){case"left":Dn=nn;break;case"center":Dn=nn+(tn-Pn)/2;break;case"right":Dn=nn+tn-Pn;break}return[[Dn,Tn],[Dn+Pn,Tn]]};Qr==="ascending"&&(gn=-gn,fn=-fn,en==="horizontal"?nn+=tn:sn+=rn,an=an.reverse());for(var mn=0;mn<an.length;mn++){var yn=an[mn],xn=an[mn+1],bn=Zr.getItemModel(yn);if(en==="horizontal"){var Sn=bn.get(["itemStyle","width"]);Sn==null?Sn=gn:(Sn=parsePercent(Sn,tn),Qr==="ascending"&&(Sn=-Sn));var wn=vn(yn,nn),_n=vn(xn,nn+Sn);nn+=Sn+fn,Zr.setItemLayout(yn,{points:wn.concat(_n.slice().reverse())})}else{var An=bn.get(["itemStyle","height"]);An==null?An=gn:(An=parsePercent(An,rn),Qr==="ascending"&&(An=-An));var wn=vn(yn,sn),_n=vn(xn,sn+An);sn+=An+fn,Zr.setItemLayout(yn,{points:wn.concat(_n.slice().reverse())})}}labelLayout(Zr)})}function install$D(Wr){Wr.registerChartView(FunnelView),Wr.registerSeriesModel(FunnelSeriesModel),Wr.registerLayout(funnelLayout),Wr.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._dataGroup=new Group$3,Yr._initialized=!1,Yr}return Gr.prototype.init=function(){this.group.add(this._dataGroup)},Gr.prototype.render=function(Yr,Zr,Kr,Qr){this._progressiveEls=null;var Jr=this._dataGroup,en=Yr.getData(),tn=this._data,rn=Yr.coordinateSystem,an=rn.dimensions,nn=makeSeriesScope(Yr);en.diff(tn).add(sn).update(ln).remove(un).execute();function sn(hn){var dn=addEl(en,Jr,hn,an,rn);updateElCommon(dn,en,hn,nn)}function ln(hn,dn){var fn=tn.getItemGraphicEl(dn),pn=createLinePoints(en,hn,an,rn);en.setItemGraphicEl(hn,fn),updateProps$1(fn,{shape:{points:pn}},Yr,hn),saveOldStyle(fn),updateElCommon(fn,en,hn,nn)}function un(hn){var dn=tn.getItemGraphicEl(hn);Jr.remove(dn)}if(!this._initialized){this._initialized=!0;var cn=createGridClipShape$2(rn,Yr,function(){setTimeout(function(){Jr.removeClipPath()})});Jr.setClipPath(cn)}this._data=en},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},Gr.prototype.incrementalRender=function(Yr,Zr,Kr){for(var Qr=Zr.getData(),Jr=Zr.coordinateSystem,en=Jr.dimensions,tn=makeSeriesScope(Zr),rn=this._progressiveEls=[],an=Yr.start;an<Yr.end;an++){var nn=addEl(Qr,this._dataGroup,an,en,Jr);nn.incremental=!0,updateElCommon(nn,Qr,an,tn),rn.push(nn)}},Gr.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},Gr.type="parallel",Gr}(ChartView);function createGridClipShape$2(Wr,Gr,Yr){var Zr=Wr.model,Kr=Wr.getRect(),Qr=new Rect$2({shape:{x:Kr.x,y:Kr.y,width:Kr.width,height:Kr.height}}),Jr=Zr.get("layout")==="horizontal"?"width":"height";return Qr.setShape(Jr,0),initProps(Qr,{shape:{width:Kr.width,height:Kr.height}},Gr,Yr),Qr}function createLinePoints(Wr,Gr,Yr,Zr){for(var Kr=[],Qr=0;Qr<Yr.length;Qr++){var Jr=Yr[Qr],en=Wr.get(Wr.mapDimension(Jr),Gr);isEmptyValue(en,Zr.getAxis(Jr).type)||Kr.push(Zr.dataToPoint(en,Jr))}return Kr}function addEl(Wr,Gr,Yr,Zr,Kr){var Qr=createLinePoints(Wr,Yr,Zr,Kr),Jr=new Polyline$1({shape:{points:Qr},z2:10});return Gr.add(Jr),Wr.setItemGraphicEl(Yr,Jr),Jr}function makeSeriesScope(Wr){var Gr=Wr.get("smooth",!0);return Gr===!0&&(Gr=DEFAULT_SMOOTH),Gr=numericToNumber(Gr),eqNaN(Gr)&&(Gr=0),{smooth:Gr}}function updateElCommon(Wr,Gr,Yr,Zr){Wr.useStyle(Gr.getItemVisual(Yr,"style")),Wr.style.fill=null,Wr.setShape("smooth",Zr.smooth);var Kr=Gr.getItemModel(Yr),Qr=Kr.getModel("emphasis");setStatesStylesFromModel(Wr,Kr,"lineStyle"),toggleHoverEmphasis(Wr,Qr.get("focus"),Qr.get("blurScope"),Qr.get("disabled"))}function isEmptyValue(Wr,Gr){return Gr==="category"?Wr==null:Wr==null||isNaN(Wr)}var ParallelSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.visualStyleAccessPath="lineStyle",Yr.visualDrawType="stroke",Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},Gr.prototype.getRawIndicesByActiveState=function(Yr){var Zr=this.coordinateSystem,Kr=this.getData(),Qr=[];return Zr.eachActiveState(Kr,function(Jr,en){Yr===Jr&&Qr.push(Kr.getRawIndex(en))}),Qr},Gr.type="series.parallel",Gr.dependencies=["parallel"],Gr.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},Gr}(SeriesModel);function makeDefaultEncode(Wr){var Gr=Wr.ecModel.getComponent("parallel",Wr.get("parallelIndex"));if(Gr){var Yr={};return each$f(Gr.dimensions,function(Zr){var Kr=convertDimNameToNumber(Zr);Yr[Zr]=Kr}),Yr}}function convertDimNameToNumber(Wr){return+Wr.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(Wr,Gr){var Yr=Wr.coordinateSystem,Zr={normal:Wr.get(["lineStyle","opacity"]),active:Wr.get("activeOpacity"),inactive:Wr.get("inactiveOpacity")};return{progress:function(Kr,Qr){Yr.eachActiveState(Qr,function(Jr,en){var tn=Zr[Jr];if(Jr==="normal"&&Qr.hasItemOption){var rn=Qr.getItemModel(en).get(opacityAccessPath,!0);rn!=null&&(tn=rn)}var an=Qr.ensureUniqueItemVisual(en,"style");an.opacity=tn},Kr.start,Kr.end)}}}};function parallelPreprocessor(Wr){createParallelIfNeeded(Wr),mergeAxisOptionFromParallel(Wr)}function createParallelIfNeeded(Wr){if(!Wr.parallel){var Gr=!1;each$f(Wr.series,function(Yr){Yr&&Yr.type==="parallel"&&(Gr=!0)}),Gr&&(Wr.parallel=[{}])}}function mergeAxisOptionFromParallel(Wr){var Gr=normalizeToArray(Wr.parallelAxis);each$f(Gr,function(Yr){if(isObject$3(Yr)){var Zr=Yr.parallelIndex||0,Kr=normalizeToArray(Wr.parallel)[Zr];Kr&&Kr.parallelAxisDefault&&merge(Yr,Kr.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){this._model=Yr,this._api=Kr,this._handlers||(this._handlers={},each$f(handlers$1,function(Qr,Jr){Kr.getZr().on(Jr,this._handlers[Jr]=bind$1(Qr,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",Yr.get("axisExpandRate"),"fixRate")},Gr.prototype.dispose=function(Yr,Zr){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(Kr,Qr){Zr.getZr().off(Qr,Kr)}),this._handlers=null},Gr.prototype._throttledDispatchExpand=function(Yr){this._dispatchExpand(Yr)},Gr.prototype._dispatchExpand=function(Yr){Yr&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},Yr))},Gr.type="parallel",Gr}(ComponentView),handlers$1={mousedown:function(Wr){checkTrigger(this,"click")&&(this._mouseDownPoint=[Wr.offsetX,Wr.offsetY])},mouseup:function(Wr){var Gr=this._mouseDownPoint;if(checkTrigger(this,"click")&&Gr){var Yr=[Wr.offsetX,Wr.offsetY],Zr=Math.pow(Gr[0]-Yr[0],2)+Math.pow(Gr[1]-Yr[1],2);if(Zr>CLICK_THRESHOLD)return;var Kr=this._model.coordinateSystem.getSlidedAxisExpandWindow([Wr.offsetX,Wr.offsetY]);Kr.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Kr.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(Wr){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var Gr=this._model,Yr=Gr.coordinateSystem.getSlidedAxisExpandWindow([Wr.offsetX,Wr.offsetY]),Zr=Yr.behavior;Zr==="jump"&&this._throttledDispatchExpand.debounceNextCall(Gr.get("axisExpandDebounce")),this._throttledDispatchExpand(Zr==="none"?null:{axisExpandWindow:Yr.axisExpandWindow,animation:Zr==="jump"?null:{duration:0}})}}};function checkTrigger(Wr,Gr){var Yr=Wr._model;return Yr.get("axisExpandable")&&Yr.get("axisExpandTriggerOn")===Gr}var ParallelModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(){Wr.prototype.init.apply(this,arguments),this.mergeOption({})},Gr.prototype.mergeOption=function(Yr){var Zr=this.option;Yr&&merge(Zr,Yr,!0),this._initDimensions()},Gr.prototype.contains=function(Yr,Zr){var Kr=Yr.get("parallelIndex");return Kr!=null&&Zr.getComponent("parallel",Kr)===this},Gr.prototype.setAxisExpand=function(Yr){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(Zr){Yr.hasOwnProperty(Zr)&&(this.option[Zr]=Yr[Zr])},this)},Gr.prototype._initDimensions=function(){var Yr=this.dimensions=[],Zr=this.parallelAxisIndex=[],Kr=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(Qr){return(Qr.get("parallelIndex")||0)===this.componentIndex},this);each$f(Kr,function(Qr){Yr.push("dim"+Qr.get("dim")),Zr.push(Qr.componentIndex)})},Gr.type="parallel",Gr.dependencies=["parallelAxis"],Gr.layoutMode="box",Gr.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},Gr}(ComponentModel),ParallelAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr){var en=Wr.call(this,Yr,Zr,Kr)||this;return en.type=Qr||"value",en.axisIndex=Jr,en}return Gr.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},Gr}(Axis);function sliderMove(Wr,Gr,Yr,Zr,Kr,Qr){Wr=Wr||0;var Jr=Yr[1]-Yr[0];if(Kr!=null&&(Kr=restrict$1(Kr,[0,Jr])),Qr!=null&&(Qr=Math.max(Qr,Kr??0)),Zr==="all"){var en=Math.abs(Gr[1]-Gr[0]);en=restrict$1(en,[0,Jr]),Kr=Qr=restrict$1(en,[Kr,Qr]),Zr=0}Gr[0]=restrict$1(Gr[0],Yr),Gr[1]=restrict$1(Gr[1],Yr);var tn=getSpanSign(Gr,Zr);Gr[Zr]+=Wr;var rn=Kr||0,an=Yr.slice();tn.sign<0?an[0]+=rn:an[1]-=rn,Gr[Zr]=restrict$1(Gr[Zr],an);var nn;return nn=getSpanSign(Gr,Zr),Kr!=null&&(nn.sign!==tn.sign||nn.span<Kr)&&(Gr[1-Zr]=Gr[Zr]+tn.sign*Kr),nn=getSpanSign(Gr,Zr),Qr!=null&&nn.span>Qr&&(Gr[1-Zr]=Gr[Zr]+nn.sign*Qr),Gr}function getSpanSign(Wr,Gr){var Yr=Wr[Gr]-Wr[1-Gr];return{span:Math.abs(Yr),sign:Yr>0?-1:Yr<0?1:Gr?-1:1}}function restrict$1(Wr,Gr){return Math.min(Gr[1]!=null?Gr[1]:1/0,Math.max(Gr[0]!=null?Gr[0]:-1/0,Wr))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function Wr(Gr,Yr,Zr){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=Gr.dimensions,this._model=Gr,this._init(Gr,Yr,Zr)}return Wr.prototype._init=function(Gr,Yr,Zr){var Kr=Gr.dimensions,Qr=Gr.parallelAxisIndex;each$a(Kr,function(Jr,en){var tn=Qr[en],rn=Yr.getComponent("parallelAxis",tn),an=this._axesMap.set(Jr,new ParallelAxis(Jr,createScaleByModel$1(rn),[0,0],rn.get("type"),tn)),nn=an.type==="category";an.onBand=nn&&rn.get("boundaryGap"),an.inverse=rn.get("inverse"),rn.axis=an,an.model=rn,an.coordinateSystem=rn.coordinateSystem=this},this)},Wr.prototype.update=function(Gr,Yr){this._updateAxesFromSeries(this._model,Gr)},Wr.prototype.containPoint=function(Gr){var Yr=this._makeLayoutInfo(),Zr=Yr.axisBase,Kr=Yr.layoutBase,Qr=Yr.pixelDimIndex,Jr=Gr[1-Qr],en=Gr[Qr];return Jr>=Zr&&Jr<=Zr+Yr.axisLength&&en>=Kr&&en<=Kr+Yr.layoutLength},Wr.prototype.getModel=function(){return this._model},Wr.prototype._updateAxesFromSeries=function(Gr,Yr){Yr.eachSeries(function(Zr){if(Gr.contains(Zr,Yr)){var Kr=Zr.getData();each$a(this.dimensions,function(Qr){var Jr=this._axesMap.get(Qr);Jr.scale.unionExtentFromData(Kr,Kr.mapDimension(Qr)),niceScaleExtent(Jr.scale,Jr.model)},this)}},this)},Wr.prototype.resize=function(Gr,Yr){this._rect=getLayoutRect(Gr.getBoxLayoutParams(),{width:Yr.getWidth(),height:Yr.getHeight()}),this._layoutAxes()},Wr.prototype.getRect=function(){return this._rect},Wr.prototype._makeLayoutInfo=function(){var Gr=this._model,Yr=this._rect,Zr=["x","y"],Kr=["width","height"],Qr=Gr.get("layout"),Jr=Qr==="horizontal"?0:1,en=Yr[Kr[Jr]],tn=[0,en],rn=this.dimensions.length,an=restrict(Gr.get("axisExpandWidth"),tn),nn=restrict(Gr.get("axisExpandCount")||0,[0,rn]),sn=Gr.get("axisExpandable")&&rn>3&&rn>nn&&nn>1&&an>0&&en>0,ln=Gr.get("axisExpandWindow"),un;if(ln)un=restrict(ln[1]-ln[0],tn),ln[1]=ln[0]+un;else{un=restrict(an*(nn-1),tn);var cn=Gr.get("axisExpandCenter")||mathFloor(rn/2);ln=[an*cn-un/2],ln[1]=ln[0]+un}var hn=(en-un)/(rn-nn);hn<3&&(hn=0);var dn=[mathFloor(round(ln[0]/an,1))+1,mathCeil(round(ln[1]/an,1))-1],fn=hn/an*ln[0];return{layout:Qr,pixelDimIndex:Jr,layoutBase:Yr[Zr[Jr]],layoutLength:en,axisBase:Yr[Zr[1-Jr]],axisLength:Yr[Kr[1-Jr]],axisExpandable:sn,axisExpandWidth:an,axisCollapseWidth:hn,axisExpandWindow:ln,axisCount:rn,winInnerIndices:dn,axisExpandWindow0Pos:fn}},Wr.prototype._layoutAxes=function(){var Gr=this._rect,Yr=this._axesMap,Zr=this.dimensions,Kr=this._makeLayoutInfo(),Qr=Kr.layout;Yr.each(function(Jr){var en=[0,Kr.axisLength],tn=Jr.inverse?1:0;Jr.setExtent(en[tn],en[1-tn])}),each$a(Zr,function(Jr,en){var tn=(Kr.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(en,Kr),rn={horizontal:{x:tn.position,y:Kr.axisLength},vertical:{x:0,y:tn.position}},an={horizontal:PI$1/2,vertical:0},nn=[rn[Qr].x+Gr.x,rn[Qr].y+Gr.y],sn=an[Qr],ln=create$1();rotate(ln,ln,sn),translate(ln,ln,nn),this._axesLayout[Jr]={position:nn,rotation:sn,transform:ln,axisNameAvailableWidth:tn.axisNameAvailableWidth,axisLabelShow:tn.axisLabelShow,nameTruncateMaxWidth:tn.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Wr.prototype.getAxis=function(Gr){return this._axesMap.get(Gr)},Wr.prototype.dataToPoint=function(Gr,Yr){return this.axisCoordToPoint(this._axesMap.get(Yr).dataToCoord(Gr),Yr)},Wr.prototype.eachActiveState=function(Gr,Yr,Zr,Kr){Zr==null&&(Zr=0),Kr==null&&(Kr=Gr.count());var Qr=this._axesMap,Jr=this.dimensions,en=[],tn=[];each$f(Jr,function(hn){en.push(Gr.mapDimension(hn)),tn.push(Qr.get(hn).model)});for(var rn=this.hasAxisBrushed(),an=Zr;an<Kr;an++){var nn=void 0;if(!rn)nn="normal";else{nn="active";for(var sn=Gr.getValues(en,an),ln=0,un=Jr.length;ln<un;ln++){var cn=tn[ln].getActiveState(sn[ln]);if(cn==="inactive"){nn="inactive";break}}}Yr(nn,an)}},Wr.prototype.hasAxisBrushed=function(){for(var Gr=this.dimensions,Yr=this._axesMap,Zr=!1,Kr=0,Qr=Gr.length;Kr<Qr;Kr++)Yr.get(Gr[Kr]).model.getActiveState()!=="normal"&&(Zr=!0);return Zr},Wr.prototype.axisCoordToPoint=function(Gr,Yr){var Zr=this._axesLayout[Yr];return applyTransform([Gr,0],Zr.transform)},Wr.prototype.getAxisLayout=function(Gr){return clone$4(this._axesLayout[Gr])},Wr.prototype.getSlidedAxisExpandWindow=function(Gr){var Yr=this._makeLayoutInfo(),Zr=Yr.pixelDimIndex,Kr=Yr.axisExpandWindow.slice(),Qr=Kr[1]-Kr[0],Jr=[0,Yr.axisExpandWidth*(Yr.axisCount-1)];if(!this.containPoint(Gr))return{behavior:"none",axisExpandWindow:Kr};var en=Gr[Zr]-Yr.layoutBase-Yr.axisExpandWindow0Pos,tn,rn="slide",an=Yr.axisCollapseWidth,nn=this._model.get("axisExpandSlideTriggerArea"),sn=nn[0]!=null;if(an)sn&&an&&en<Qr*nn[0]?(rn="jump",tn=en-Qr*nn[2]):sn&&an&&en>Qr*(1-nn[0])?(rn="jump",tn=en-Qr*(1-nn[2])):(tn=en-Qr*nn[1])>=0&&(tn=en-Qr*(1-nn[1]))<=0&&(tn=0),tn*=Yr.axisExpandWidth/an,tn?sliderMove(tn,Kr,Jr,"all"):rn="none";else{var ln=Kr[1]-Kr[0],un=Jr[1]*en/ln;Kr=[mathMax$2(0,un-ln/2)],Kr[1]=mathMin$2(Jr[1],Kr[0]+ln),Kr[0]=Kr[1]-ln}return{axisExpandWindow:Kr,behavior:rn}},Wr}();function restrict(Wr,Gr){return mathMin$2(mathMax$2(Wr,Gr[0]),Gr[1])}function layoutAxisWithoutExpand(Wr,Gr){var Yr=Gr.layoutLength/(Gr.axisCount-1);return{position:Yr*Wr,axisNameAvailableWidth:Yr,axisLabelShow:!0}}function layoutAxisWithExpand(Wr,Gr){var Yr=Gr.layoutLength,Zr=Gr.axisExpandWidth,Kr=Gr.axisCount,Qr=Gr.axisCollapseWidth,Jr=Gr.winInnerIndices,en,tn=Qr,rn=!1,an;return Wr<Jr[0]?(en=Wr*Qr,an=Qr):Wr<=Jr[1]?(en=Gr.axisExpandWindow0Pos+Wr*Zr-Gr.axisExpandWindow[0],tn=Zr,rn=!0):(en=Yr-(Kr-1-Wr)*Qr,an=Qr),{position:en,axisNameAvailableWidth:tn,axisLabelShow:rn,nameTruncateMaxWidth:an}}function createParallelCoordSys(Wr,Gr){var Yr=[];return Wr.eachComponent("parallel",function(Zr,Kr){var Qr=new Parallel(Zr,Wr,Gr);Qr.name="parallel_"+Kr,Qr.resize(Zr,Gr),Zr.coordinateSystem=Qr,Qr.model=Zr,Yr.push(Qr)}),Wr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="parallel"){var Kr=Zr.getReferringComponents("parallel",SINGLE_REFERRING).models[0];Zr.coordinateSystem=Kr.coordinateSystem}}),Yr}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.activeIntervals=[],Yr}return Gr.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Gr.prototype.setActiveIntervals=function(Yr){var Zr=this.activeIntervals=clone$4(Yr);if(Zr)for(var Kr=Zr.length-1;Kr>=0;Kr--)asc$2(Zr[Kr])},Gr.prototype.getActiveState=function(Yr){var Zr=this.activeIntervals;if(!Zr.length)return"normal";if(Yr==null||isNaN(+Yr))return"inactive";if(Zr.length===1){var Kr=Zr[0];if(Kr[0]<=Yr&&Yr<=Kr[1])return"active"}else for(var Qr=0,Jr=Zr.length;Qr<Jr;Qr++)if(Zr[Qr][0]<=Yr&&Yr<=Zr[Qr][1])return"active";return"inactive"},Gr}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this)||this;return Zr._track=[],Zr._covers=[],Zr._handlers={},Zr._zr=Yr,Zr.group=new Group$3,Zr._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(Kr,Qr){this._handlers[Qr]=bind$1(Kr,this)},Zr),Zr}return Gr.prototype.enableBrush=function(Yr){return this._brushType&&this._doDisableBrush(),Yr.brushType&&this._doEnableBrush(Yr),this},Gr.prototype._doEnableBrush=function(Yr){var Zr=this._zr;this._enableGlobalPan||take(Zr,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(Kr,Qr){Zr.on(Qr,Kr)}),this._brushType=Yr.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),Yr,!0)},Gr.prototype._doDisableBrush=function(){var Yr=this._zr;release(Yr,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(Zr,Kr){Yr.off(Kr,Zr)}),this._brushType=this._brushOption=null},Gr.prototype.setPanels=function(Yr){if(Yr&&Yr.length){var Zr=this._panels={};each$f(Yr,function(Kr){Zr[Kr.panelId]=clone$4(Kr)})}else this._panels=null;return this},Gr.prototype.mount=function(Yr){Yr=Yr||{},this._enableGlobalPan=Yr.enableGlobalPan;var Zr=this.group;return this._zr.add(Zr),Zr.attr({x:Yr.x||0,y:Yr.y||0,rotation:Yr.rotation||0,scaleX:Yr.scaleX||1,scaleY:Yr.scaleY||1}),this._transform=Zr.getLocalTransform(),this},Gr.prototype.updateCovers=function(Yr){Yr=map$1(Yr,function(sn){return merge(clone$4(DEFAULT_BRUSH_OPT),sn,!0)});var Zr="\0-brush-index-",Kr=this._covers,Qr=this._covers=[],Jr=this,en=this._creatingCover;return new DataDiffer(Kr,Yr,rn,tn).add(an).update(an).remove(nn).execute(),this;function tn(sn,ln){return(sn.id!=null?sn.id:Zr+ln)+"-"+sn.brushType}function rn(sn,ln){return tn(sn.__brushOption,ln)}function an(sn,ln){var un=Yr[sn];if(ln!=null&&Kr[ln]===en)Qr[sn]=Kr[ln];else{var cn=Qr[sn]=ln!=null?(Kr[ln].__brushOption=un,Kr[ln]):endCreating(Jr,createCover(Jr,un));updateCoverAfterCreation(Jr,cn)}}function nn(sn){Kr[sn]!==en&&Jr.group.remove(Kr[sn])}},Gr.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},Gr.prototype.dispose=function(){this.unmount(),this.off()},Gr}(Eventful);function createCover(Wr,Gr){var Yr=coverRenderers[Gr.brushType].createCover(Wr,Gr);return Yr.__brushOption=Gr,updateZ$1(Yr,Gr),Wr.group.add(Yr),Yr}function endCreating(Wr,Gr){var Yr=getCoverRenderer(Gr);return Yr.endCreating&&(Yr.endCreating(Wr,Gr),updateZ$1(Gr,Gr.__brushOption)),Gr}function updateCoverShape(Wr,Gr){var Yr=Gr.__brushOption;getCoverRenderer(Gr).updateCoverShape(Wr,Gr,Yr.range,Yr)}function updateZ$1(Wr,Gr){var Yr=Gr.z;Yr==null&&(Yr=COVER_Z),Wr.traverse(function(Zr){Zr.z=Yr,Zr.z2=Yr})}function updateCoverAfterCreation(Wr,Gr){getCoverRenderer(Gr).updateCommon(Wr,Gr),updateCoverShape(Wr,Gr)}function getCoverRenderer(Wr){return coverRenderers[Wr.__brushOption.brushType]}function getPanelByPoint(Wr,Gr,Yr){var Zr=Wr._panels;if(!Zr)return BRUSH_PANEL_GLOBAL;var Kr,Qr=Wr._transform;return each$f(Zr,function(Jr){Jr.isTargetByCursor(Gr,Yr,Qr)&&(Kr=Jr)}),Kr}function getPanelByCover(Wr,Gr){var Yr=Wr._panels;if(!Yr)return BRUSH_PANEL_GLOBAL;var Zr=Gr.__brushOption.panelId;return Zr!=null?Yr[Zr]:BRUSH_PANEL_GLOBAL}function clearCovers(Wr){var Gr=Wr._covers,Yr=Gr.length;return each$f(Gr,function(Zr){Wr.group.remove(Zr)},Wr),Gr.length=0,!!Yr}function trigger(Wr,Gr){var Yr=map$1(Wr._covers,function(Zr){var Kr=Zr.__brushOption,Qr=clone$4(Kr.range);return{brushType:Kr.brushType,panelId:Kr.panelId,range:Qr}});Wr.trigger("brush",{areas:Yr,isEnd:!!Gr.isEnd,removeOnClick:!!Gr.removeOnClick})}function shouldShowCover(Wr){var Gr=Wr._track;if(!Gr.length)return!1;var Yr=Gr[Gr.length-1],Zr=Gr[0],Kr=Yr[0]-Zr[0],Qr=Yr[1]-Zr[1],Jr=mathPow(Kr*Kr+Qr*Qr,.5);return Jr>UNSELECT_THRESHOLD}function getTrackEnds(Wr){var Gr=Wr.length-1;return Gr<0&&(Gr=0),[Wr[0],Wr[Gr]]}function createBaseRectCover(Wr,Gr,Yr,Zr){var Kr=new Group$3;return Kr.add(new Rect$2({name:"main",style:makeStyle(Yr),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,Wr,Gr,Kr,["n","s","w","e"]),ondragend:curry$1(trigger,Gr,{isEnd:!0})})),each$f(Zr,function(Qr){Kr.add(new Rect$2({name:Qr.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,Wr,Gr,Kr,Qr),ondragend:curry$1(trigger,Gr,{isEnd:!0})}))}),Kr}function updateBaseRect(Wr,Gr,Yr,Zr){var Kr=Zr.brushStyle.lineWidth||0,Qr=mathMax$1(Kr,MIN_RESIZE_LINE_WIDTH),Jr=Yr[0][0],en=Yr[1][0],tn=Jr-Kr/2,rn=en-Kr/2,an=Yr[0][1],nn=Yr[1][1],sn=an-Qr+Kr/2,ln=nn-Qr+Kr/2,un=an-Jr,cn=nn-en,hn=un+Kr,dn=cn+Kr;updateRectShape(Wr,Gr,"main",Jr,en,un,cn),Zr.transformable&&(updateRectShape(Wr,Gr,"w",tn,rn,Qr,dn),updateRectShape(Wr,Gr,"e",sn,rn,Qr,dn),updateRectShape(Wr,Gr,"n",tn,rn,hn,Qr),updateRectShape(Wr,Gr,"s",tn,ln,hn,Qr),updateRectShape(Wr,Gr,"nw",tn,rn,Qr,Qr),updateRectShape(Wr,Gr,"ne",sn,rn,Qr,Qr),updateRectShape(Wr,Gr,"sw",tn,ln,Qr,Qr),updateRectShape(Wr,Gr,"se",sn,ln,Qr,Qr))}function updateCommon$1(Wr,Gr){var Yr=Gr.__brushOption,Zr=Yr.transformable,Kr=Gr.childAt(0);Kr.useStyle(makeStyle(Yr)),Kr.attr({silent:!Zr,cursor:Zr?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(Qr){var Jr=Gr.childOfName(Qr.join("")),en=Qr.length===1?getGlobalDirection1(Wr,Qr[0]):getGlobalDirection2(Wr,Qr);Jr&&Jr.attr({silent:!Zr,invisible:!Zr,cursor:Zr?CURSOR_MAP[en]+"-resize":null})})}function updateRectShape(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Gr.childOfName(Yr);en&&en.setShape(pointsToRect(clipByPanel(Wr,Gr,[[Zr,Kr],[Zr+Qr,Kr+Jr]])))}function makeStyle(Wr){return defaults({strokeNoScale:!0},Wr.brushStyle)}function formatRectRange(Wr,Gr,Yr,Zr){var Kr=[mathMin$1(Wr,Yr),mathMin$1(Gr,Zr)],Qr=[mathMax$1(Wr,Yr),mathMax$1(Gr,Zr)];return[[Kr[0],Qr[0]],[Kr[1],Qr[1]]]}function getTransform(Wr){return getTransform$1(Wr.group)}function getGlobalDirection1(Wr,Gr){var Yr={w:"left",e:"right",n:"top",s:"bottom"},Zr={left:"w",right:"e",top:"n",bottom:"s"},Kr=transformDirection(Yr[Gr],getTransform(Wr));return Zr[Kr]}function getGlobalDirection2(Wr,Gr){var Yr=[getGlobalDirection1(Wr,Gr[0]),getGlobalDirection1(Wr,Gr[1])];return(Yr[0]==="e"||Yr[0]==="w")&&Yr.reverse(),Yr.join("")}function driftRect(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Yr.__brushOption,en=Wr.toRectRange(Jr.range),tn=toLocalDelta(Gr,Kr,Qr);each$f(Zr,function(rn){var an=DIRECTION_MAP[rn];en[an[0]][an[1]]+=tn[an[0]]}),Jr.range=Wr.fromRectRange(formatRectRange(en[0][0],en[1][0],en[0][1],en[1][1])),updateCoverAfterCreation(Gr,Yr),trigger(Gr,{isEnd:!1})}function driftPolygon(Wr,Gr,Yr,Zr){var Kr=Gr.__brushOption.range,Qr=toLocalDelta(Wr,Yr,Zr);each$f(Kr,function(Jr){Jr[0]+=Qr[0],Jr[1]+=Qr[1]}),updateCoverAfterCreation(Wr,Gr),trigger(Wr,{isEnd:!1})}function toLocalDelta(Wr,Gr,Yr){var Zr=Wr.group,Kr=Zr.transformCoordToLocal(Gr,Yr),Qr=Zr.transformCoordToLocal(0,0);return[Kr[0]-Qr[0],Kr[1]-Qr[1]]}function clipByPanel(Wr,Gr,Yr){var Zr=getPanelByCover(Wr,Gr);return Zr&&Zr!==BRUSH_PANEL_GLOBAL?Zr.clipPath(Yr,Wr._transform):clone$4(Yr)}function pointsToRect(Wr){var Gr=mathMin$1(Wr[0][0],Wr[1][0]),Yr=mathMin$1(Wr[0][1],Wr[1][1]),Zr=mathMax$1(Wr[0][0],Wr[1][0]),Kr=mathMax$1(Wr[0][1],Wr[1][1]);return{x:Gr,y:Yr,width:Zr-Gr,height:Kr-Yr}}function resetCursor(Wr,Gr,Yr){if(!(!Wr._brushType||isOutsideZrArea(Wr,Gr.offsetX,Gr.offsetY))){var Zr=Wr._zr,Kr=Wr._covers,Qr=getPanelByPoint(Wr,Gr,Yr);if(!Wr._dragging)for(var Jr=0;Jr<Kr.length;Jr++){var en=Kr[Jr].__brushOption;if(Qr&&(Qr===BRUSH_PANEL_GLOBAL||en.panelId===Qr.panelId)&&coverRenderers[en.brushType].contain(Kr[Jr],Yr[0],Yr[1]))return}Qr&&Zr.setCursorStyle("crosshair")}}function preventDefault(Wr){var Gr=Wr.event;Gr.preventDefault&&Gr.preventDefault()}function mainShapeContain(Wr,Gr,Yr){return Wr.childOfName("main").contain(Gr,Yr)}function updateCoverByMouse(Wr,Gr,Yr,Zr){var Kr=Wr._creatingCover,Qr=Wr._creatingPanel,Jr=Wr._brushOption,en;if(Wr._track.push(Yr.slice()),shouldShowCover(Wr)||Kr){if(Qr&&!Kr){Jr.brushMode==="single"&&clearCovers(Wr);var tn=clone$4(Jr);tn.brushType=determineBrushType(tn.brushType,Qr),tn.panelId=Qr===BRUSH_PANEL_GLOBAL?null:Qr.panelId,Kr=Wr._creatingCover=createCover(Wr,tn),Wr._covers.push(Kr)}if(Kr){var rn=coverRenderers[determineBrushType(Wr._brushType,Qr)],an=Kr.__brushOption;an.range=rn.getCreatingRange(clipByPanel(Wr,Kr,Wr._track)),Zr&&(endCreating(Wr,Kr),rn.updateCommon(Wr,Kr)),updateCoverShape(Wr,Kr),en={isEnd:Zr}}}else Zr&&Jr.brushMode==="single"&&Jr.removeOnClick&&getPanelByPoint(Wr,Gr,Yr)&&clearCovers(Wr)&&(en={isEnd:Zr,removeOnClick:!0});return en}function determineBrushType(Wr,Gr){return Wr==="auto"?Gr.defaultBrushType:Wr}var pointerHandlers={mousedown:function(Wr){if(this._dragging)handleDragEnd(this,Wr);else if(!Wr.target||!Wr.target.draggable){preventDefault(Wr);var Gr=this.group.transformCoordToLocal(Wr.offsetX,Wr.offsetY);this._creatingCover=null;var Yr=this._creatingPanel=getPanelByPoint(this,Wr,Gr);Yr&&(this._dragging=!0,this._track=[Gr.slice()])}},mousemove:function(Wr){var Gr=Wr.offsetX,Yr=Wr.offsetY,Zr=this.group.transformCoordToLocal(Gr,Yr);if(resetCursor(this,Wr,Zr),this._dragging){preventDefault(Wr);var Kr=updateCoverByMouse(this,Wr,Zr,!1);Kr&&trigger(this,Kr)}},mouseup:function(Wr){handleDragEnd(this,Wr)}};function handleDragEnd(Wr,Gr){if(Wr._dragging){preventDefault(Gr);var Yr=Gr.offsetX,Zr=Gr.offsetY,Kr=Wr.group.transformCoordToLocal(Yr,Zr),Qr=updateCoverByMouse(Wr,Gr,Kr,!0);Wr._dragging=!1,Wr._track=[],Wr._creatingCover=null,Qr&&trigger(Wr,Qr)}}function isOutsideZrArea(Wr,Gr,Yr){var Zr=Wr._zr;return Gr<0||Gr>Zr.getWidth()||Yr<0||Yr>Zr.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(Wr,Gr){function Yr(Zr){return Zr}return createBaseRectCover({toRectRange:Yr,fromRectRange:Yr},Wr,Gr,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(Wr){var Gr=getTrackEnds(Wr);return formatRectRange(Gr[1][0],Gr[1][1],Gr[0][0],Gr[0][1])},updateCoverShape:function(Wr,Gr,Yr,Zr){updateBaseRect(Wr,Gr,Yr,Zr)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(Wr,Gr){var Yr=new Group$3;return Yr.add(new Polyline$1({name:"main",style:makeStyle(Gr),silent:!0})),Yr},getCreatingRange:function(Wr){return Wr},endCreating:function(Wr,Gr){Gr.remove(Gr.childAt(0)),Gr.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,Wr,Gr),ondragend:curry$1(trigger,Wr,{isEnd:!0})}))},updateCoverShape:function(Wr,Gr,Yr,Zr){Gr.childAt(0).setShape({points:clipByPanel(Wr,Gr,Yr)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(Wr){return{createCover:function(Gr,Yr){return createBaseRectCover({toRectRange:function(Zr){var Kr=[Zr,[0,100]];return Wr&&Kr.reverse(),Kr},fromRectRange:function(Zr){return Zr[Wr]}},Gr,Yr,[[["w"],["e"]],[["n"],["s"]]][Wr])},getCreatingRange:function(Gr){var Yr=getTrackEnds(Gr),Zr=mathMin$1(Yr[0][Wr],Yr[1][Wr]),Kr=mathMax$1(Yr[0][Wr],Yr[1][Wr]);return[Zr,Kr]},updateCoverShape:function(Gr,Yr,Zr,Kr){var Qr,Jr=getPanelByCover(Gr,Yr);if(Jr!==BRUSH_PANEL_GLOBAL&&Jr.getLinearBrushOtherExtent)Qr=Jr.getLinearBrushOtherExtent(Wr);else{var en=Gr._zr;Qr=[0,[en.getWidth(),en.getHeight()][1-Wr]]}var tn=[Zr,Qr];Wr&&tn.reverse(),updateBaseRect(Gr,Yr,tn,Kr)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(Wr){return Wr=normalizeRect(Wr),function(Gr){return clipPointsByRect(Gr,Wr)}}function makeLinearBrushOtherExtent(Wr,Gr){return Wr=normalizeRect(Wr),function(Yr){var Zr=Gr??Yr,Kr=Zr?Wr.width:Wr.height,Qr=Zr?Wr.x:Wr.y;return[Qr,Qr+(Kr||0)]}}function makeRectIsTargetByCursor(Wr,Gr,Yr){var Zr=normalizeRect(Wr);return function(Kr,Qr){return Zr.contain(Qr[0],Qr[1])&&!onIrrelevantElement(Kr,Gr,Yr)}}function normalizeRect(Wr){return BoundingRect.create(Wr)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr){Wr.prototype.init.apply(this,arguments),(this._brushController=new BrushController(Zr.getZr())).on("brush",bind$1(this._onBrush,this))},Gr.prototype.render=function(Yr,Zr,Kr,Qr){if(!fromAxisAreaSelect(Yr,Zr,Qr)){this.axisModel=Yr,this.api=Kr,this.group.removeAll();var Jr=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!Yr.get("show")){var en=getCoordSysModel(Yr,Zr),tn=en.coordinateSystem,rn=Yr.getAreaSelectStyle(),an=rn.width,nn=Yr.axis.dim,sn=tn.getAxisLayout(nn),ln=extend({strokeContainThreshold:an},sn),un=new AxisBuilder(Yr,ln);each$f(elementList$1,un.add,un),this._axisGroup.add(un.getGroup()),this._refreshBrushController(ln,rn,Yr,en,an,Kr),groupTransition(Jr,this._axisGroup,Yr)}}},Gr.prototype._refreshBrushController=function(Yr,Zr,Kr,Qr,Jr,en){var tn=Kr.axis.getExtent(),rn=tn[1]-tn[0],an=Math.min(30,Math.abs(rn)*.1),nn=BoundingRect.create({x:tn[0],y:-Jr/2,width:rn,height:Jr});nn.x-=an,nn.width+=2*an,this._brushController.mount({enableGlobalPan:!0,rotation:Yr.rotation,x:Yr.position[0],y:Yr.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(nn),isTargetByCursor:makeRectIsTargetByCursor(nn,en,Qr),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(nn,0)}]).enableBrush({brushType:"lineX",brushStyle:Zr,removeOnClick:!0}).updateCovers(getCoverInfoList(Kr))},Gr.prototype._onBrush=function(Yr){var Zr=Yr.areas,Kr=this.axisModel,Qr=Kr.axis,Jr=map$1(Zr,function(en){return[Qr.coordToData(en.range[0],!0),Qr.coordToData(en.range[1],!0)]});(!Kr.option.realtime===Yr.isEnd||Yr.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:Kr.id,intervals:Jr})},Gr.prototype.dispose=function(){this._brushController.dispose()},Gr.type="parallelAxis",Gr}(ComponentView);function fromAxisAreaSelect(Wr,Gr,Yr){return Yr&&Yr.type==="axisAreaSelect"&&Gr.findComponents({mainType:"parallelAxis",query:Yr})[0]===Wr}function getCoverInfoList(Wr){var Gr=Wr.axis;return map$1(Wr.activeIntervals,function(Yr){return{brushType:"lineX",panelId:"pl",range:[Gr.dataToCoord(Yr[0],!0),Gr.dataToCoord(Yr[1],!0)]}})}function getCoordSysModel(Wr,Gr){return Gr.getComponent("parallel",Wr.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(Wr){Wr.registerAction(actionInfo,function(Gr,Yr){Yr.eachComponent({mainType:"parallelAxis",query:Gr},function(Zr){Zr.axis.model.setActiveIntervals(Gr.intervals)})}),Wr.registerAction("parallelAxisExpand",function(Gr,Yr){Yr.eachComponent({mainType:"parallel",query:Gr},function(Zr){Zr.setAxisExpand(Gr)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(Wr){Wr.registerComponentView(ParallelView),Wr.registerComponentModel(ParallelModel),Wr.registerCoordinateSystem("parallel",parallelCoordSysCreator),Wr.registerPreprocessor(parallelPreprocessor),Wr.registerComponentModel(ParallelAxisModel),Wr.registerComponentView(ParallelAxisView),axisModelCreator(Wr,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(Wr)}function install$B(Wr){use(install$C),Wr.registerChartView(ParallelView$1),Wr.registerSeriesModel(ParallelSeriesModel),Wr.registerVisual(Wr.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function Wr(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return Wr}(),SankeyPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){return Wr.call(this,Yr)||this}return Gr.prototype.getDefaultShape=function(){return new SankeyPathShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.extent;Yr.moveTo(Zr.x1,Zr.y1),Yr.bezierCurveTo(Zr.cpx1,Zr.cpy1,Zr.cpx2,Zr.cpy2,Zr.x2,Zr.y2),Zr.orient==="vertical"?(Yr.lineTo(Zr.x2+Kr,Zr.y2),Yr.bezierCurveTo(Zr.cpx2+Kr,Zr.cpy2,Zr.cpx1+Kr,Zr.cpy1,Zr.x1+Kr,Zr.y1)):(Yr.lineTo(Zr.x2,Zr.y2+Kr),Yr.bezierCurveTo(Zr.cpx2,Zr.cpy2+Kr,Zr.cpx1,Zr.cpy1+Kr,Zr.x1,Zr.y1+Kr)),Yr.closePath()},Gr.prototype.highlight=function(){enterEmphasis(this)},Gr.prototype.downplay=function(){leaveEmphasis(this)},Gr}(Path),SankeyView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._focusAdjacencyDisabled=!1,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this,Jr=Yr.getGraph(),en=this.group,tn=Yr.layoutInfo,rn=tn.width,an=tn.height,nn=Yr.getData(),sn=Yr.getData("edge"),ln=Yr.get("orient");this._model=Yr,en.removeAll(),en.x=tn.x,en.y=tn.y,Jr.eachEdge(function(un){var cn=new SankeyPath,hn=getECData(cn);hn.dataIndex=un.dataIndex,hn.seriesIndex=Yr.seriesIndex,hn.dataType="edge";var dn=un.getModel(),fn=dn.getModel("lineStyle"),pn=fn.get("curveness"),gn=un.node1.getLayout(),vn=un.node1.getModel(),mn=vn.get("localX"),yn=vn.get("localY"),xn=un.node2.getLayout(),bn=un.node2.getModel(),Sn=bn.get("localX"),wn=bn.get("localY"),_n=un.getLayout(),An,Cn,Tn,Mn,En,Ln,In,Pn;cn.shape.extent=Math.max(1,_n.dy),cn.shape.orient=ln,ln==="vertical"?(An=(mn!=null?mn*rn:gn.x)+_n.sy,Cn=(yn!=null?yn*an:gn.y)+gn.dy,Tn=(Sn!=null?Sn*rn:xn.x)+_n.ty,Mn=wn!=null?wn*an:xn.y,En=An,Ln=Cn*(1-pn)+Mn*pn,In=Tn,Pn=Cn*pn+Mn*(1-pn)):(An=(mn!=null?mn*rn:gn.x)+gn.dx,Cn=(yn!=null?yn*an:gn.y)+_n.sy,Tn=Sn!=null?Sn*rn:xn.x,Mn=(wn!=null?wn*an:xn.y)+_n.ty,En=An*(1-pn)+Tn*pn,Ln=Cn,In=An*pn+Tn*(1-pn),Pn=Mn),cn.setShape({x1:An,y1:Cn,x2:Tn,y2:Mn,cpx1:En,cpy1:Ln,cpx2:In,cpy2:Pn}),cn.useStyle(fn.getItemStyle()),applyCurveStyle(cn.style,ln,un);var Dn=""+dn.get("value"),kn=getLabelStatesModels(dn,"edgeLabel");setLabelStyle(cn,kn,{labelFetcher:{getFormattedLabel:function(Fn,Hn,Gn,zn,On,Bn){return Yr.getFormattedLabel(Fn,Hn,"edge",zn,retrieve3(On,kn.normal&&kn.normal.get("formatter"),Dn),Bn)}},labelDataIndex:un.dataIndex,defaultText:Dn}),cn.setTextConfig({position:"inside"});var Nn=dn.getModel("emphasis");setStatesStylesFromModel(cn,dn,"lineStyle",function(Fn){var Hn=Fn.getItemStyle();return applyCurveStyle(Hn,ln,un),Hn}),en.add(cn),sn.setItemGraphicEl(un.dataIndex,cn);var Rn=Nn.get("focus");toggleHoverEmphasis(cn,Rn==="adjacency"?un.getAdjacentDataIndices():Rn==="trajectory"?un.getTrajectoryDataIndices():Rn,Nn.get("blurScope"),Nn.get("disabled"))}),Jr.eachNode(function(un){var cn=un.getLayout(),hn=un.getModel(),dn=hn.get("localX"),fn=hn.get("localY"),pn=hn.getModel("emphasis"),gn=hn.get(["itemStyle","borderRadius"])||0,vn=new Rect$2({shape:{x:dn!=null?dn*rn:cn.x,y:fn!=null?fn*an:cn.y,width:cn.dx,height:cn.dy,r:gn},style:hn.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(vn,getLabelStatesModels(hn),{labelFetcher:{getFormattedLabel:function(yn,xn){return Yr.getFormattedLabel(yn,xn,"node")}},labelDataIndex:un.dataIndex,defaultText:un.id}),vn.disableLabelAnimation=!0,vn.setStyle("fill",un.getVisual("color")),vn.setStyle("decal",un.getVisual("style").decal),setStatesStylesFromModel(vn,hn),en.add(vn),nn.setItemGraphicEl(un.dataIndex,vn),getECData(vn).dataType="node";var mn=pn.get("focus");toggleHoverEmphasis(vn,mn==="adjacency"?un.getAdjacentDataIndices():mn==="trajectory"?un.getTrajectoryDataIndices():mn,pn.get("blurScope"),pn.get("disabled"))}),nn.eachItemGraphicEl(function(un,cn){var hn=nn.getItemModel(cn);hn.get("draggable")&&(un.drift=function(dn,fn){Qr._focusAdjacencyDisabled=!0,this.shape.x+=dn,this.shape.y+=fn,this.dirty(),Kr.dispatchAction({type:"dragNode",seriesId:Yr.id,dataIndex:nn.getRawIndex(cn),localX:this.shape.x/rn,localY:this.shape.y/an})},un.ondragend=function(){Qr._focusAdjacencyDisabled=!1},un.draggable=!0,un.cursor="move")}),!this._data&&Yr.isAnimationEnabled()&&en.setClipPath(createGridClipShape$1(en.getBoundingRect(),Yr,function(){en.removeClipPath()})),this._data=Yr.getData()},Gr.prototype.dispose=function(){},Gr.type="sankey",Gr}(ChartView);function applyCurveStyle(Wr,Gr,Yr){switch(Wr.fill){case"source":Wr.fill=Yr.node1.getVisual("color"),Wr.decal=Yr.node1.getVisual("style").decal;break;case"target":Wr.fill=Yr.node2.getVisual("color"),Wr.decal=Yr.node2.getVisual("style").decal;break;case"gradient":var Zr=Yr.node1.getVisual("color"),Kr=Yr.node2.getVisual("color");isString(Zr)&&isString(Kr)&&(Wr.fill=new LinearGradient(0,0,+(Gr==="horizontal"),+(Gr==="vertical"),[{color:Zr,offset:0},{color:Kr,offset:1}]))}}function createGridClipShape$1(Wr,Gr,Yr){var Zr=new Rect$2({shape:{x:Wr.x-10,y:Wr.y-10,width:0,height:Wr.height+20}});return initProps(Zr,{shape:{width:Wr.width+20}},Gr,Yr),Zr}var SankeySeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){var Kr=Yr.edges||Yr.links||[],Qr=Yr.data||Yr.nodes||[],Jr=Yr.levels||[];this.levelModels=[];for(var en=this.levelModels,tn=0;tn<Jr.length;tn++)Jr[tn].depth!=null&&Jr[tn].depth>=0&&(en[Jr[tn].depth]=new Model(Jr[tn],this,Zr));var rn=createGraphFromNodeEdge(Qr,Kr,this,!0,an);return rn.data;function an(nn,sn){nn.wrapMethod("getItemModel",function(ln,un){var cn=ln.parentModel,hn=cn.getData().getItemLayout(un);if(hn){var dn=hn.depth,fn=cn.levelModels[dn];fn&&(ln.parentModel=fn)}return ln}),sn.wrapMethod("getItemModel",function(ln,un){var cn=ln.parentModel,hn=cn.getGraph().getEdgeByIndex(un),dn=hn.node1.getLayout();if(dn){var fn=dn.depth,pn=cn.levelModels[fn];pn&&(ln.parentModel=pn)}return ln})}},Gr.prototype.setNodePosition=function(Yr,Zr){var Kr=this.option.data||this.option.nodes,Qr=Kr[Yr];Qr.localX=Zr[0],Qr.localY=Zr[1]},Gr.prototype.getGraph=function(){return this.getData().graph},Gr.prototype.getEdgeData=function(){return this.getGraph().edgeData},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){function Qr(ln){return isNaN(ln)||ln==null}if(Kr==="edge"){var Jr=this.getDataParams(Yr,Kr),en=Jr.data,tn=Jr.value,rn=en.source+" -- "+en.target;return createTooltipMarkup("nameValue",{name:rn,value:tn,noValue:Qr(tn)})}else{var an=this.getGraph().getNodeByIndex(Yr),nn=an.getLayout().value,sn=this.getDataParams(Yr,Kr).data.name;return createTooltipMarkup("nameValue",{name:sn!=null?sn+"":null,value:nn,noValue:Qr(nn)})}},Gr.prototype.optionUpdated=function(){},Gr.prototype.getDataParams=function(Yr,Zr){var Kr=Wr.prototype.getDataParams.call(this,Yr,Zr);if(Kr.value==null&&Zr==="node"){var Qr=this.getGraph().getNodeByIndex(Yr),Jr=Qr.getLayout().value;Kr.value=Jr}return Kr},Gr.type="series.sankey",Gr.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},Gr}(SeriesModel);function sankeyLayout(Wr,Gr){Wr.eachSeriesByType("sankey",function(Yr){var Zr=Yr.get("nodeWidth"),Kr=Yr.get("nodeGap"),Qr=getViewRect$1(Yr,Gr);Yr.layoutInfo=Qr;var Jr=Qr.width,en=Qr.height,tn=Yr.getGraph(),rn=tn.nodes,an=tn.edges;computeNodeValues(rn);var nn=filter(rn,function(cn){return cn.getLayout().value===0}),sn=nn.length!==0?0:Yr.get("layoutIterations"),ln=Yr.get("orient"),un=Yr.get("nodeAlign");layoutSankey(rn,an,Zr,Kr,Jr,en,sn,ln,un)})}function getViewRect$1(Wr,Gr){return getLayoutRect(Wr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()})}function layoutSankey(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn){computeNodeBreadths(Wr,Gr,Yr,Kr,Qr,en,tn),computeNodeDepths(Wr,Gr,Qr,Kr,Zr,Jr,en),computeEdgeDepths(Wr,en)}function computeNodeValues(Wr){each$f(Wr,function(Gr){var Yr=sum(Gr.outEdges,getEdgeValue),Zr=sum(Gr.inEdges,getEdgeValue),Kr=Gr.getValue()||0,Qr=Math.max(Yr,Zr,Kr);Gr.setLayout({value:Qr},!0)})}function computeNodeBreadths(Wr,Gr,Yr,Zr,Kr,Qr,Jr){for(var en=[],tn=[],rn=[],an=[],nn=0,sn=0;sn<Gr.length;sn++)en[sn]=1;for(var sn=0;sn<Wr.length;sn++)tn[sn]=Wr[sn].inEdges.length,tn[sn]===0&&rn.push(Wr[sn]);for(var ln=-1;rn.length;){for(var un=0;un<rn.length;un++){var cn=rn[un],hn=cn.hostGraph.data.getRawDataItem(cn.dataIndex),dn=hn.depth!=null&&hn.depth>=0;dn&&hn.depth>ln&&(ln=hn.depth),cn.setLayout({depth:dn?hn.depth:nn},!0),Qr==="vertical"?cn.setLayout({dy:Yr},!0):cn.setLayout({dx:Yr},!0);for(var fn=0;fn<cn.outEdges.length;fn++){var pn=cn.outEdges[fn],gn=Gr.indexOf(pn);en[gn]=0;var vn=pn.node2,mn=Wr.indexOf(vn);--tn[mn]===0&&an.indexOf(vn)<0&&an.push(vn)}}++nn,rn=an,an=[]}for(var sn=0;sn<en.length;sn++)if(en[sn]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var yn=ln>nn-1?ln:nn-1;Jr&&Jr!=="left"&&adjustNodeWithNodeAlign(Wr,Jr,Qr,yn);var xn=Qr==="vertical"?(Kr-Yr)/yn:(Zr-Yr)/yn;scaleNodeBreadths(Wr,xn,Qr)}function isNodeDepth(Wr){var Gr=Wr.hostGraph.data.getRawDataItem(Wr.dataIndex);return Gr.depth!=null&&Gr.depth>=0}function adjustNodeWithNodeAlign(Wr,Gr,Yr,Zr){if(Gr==="right"){for(var Kr=[],Qr=Wr,Jr=0;Qr.length;){for(var en=0;en<Qr.length;en++){var tn=Qr[en];tn.setLayout({skNodeHeight:Jr},!0);for(var rn=0;rn<tn.inEdges.length;rn++){var an=tn.inEdges[rn];Kr.indexOf(an.node1)<0&&Kr.push(an.node1)}}Qr=Kr,Kr=[],++Jr}each$f(Wr,function(nn){isNodeDepth(nn)||nn.setLayout({depth:Math.max(0,Zr-nn.getLayout().skNodeHeight)},!0)})}else Gr==="justify"&&moveSinksRight(Wr,Zr)}function moveSinksRight(Wr,Gr){each$f(Wr,function(Yr){!isNodeDepth(Yr)&&!Yr.outEdges.length&&Yr.setLayout({depth:Gr},!0)})}function scaleNodeBreadths(Wr,Gr,Yr){each$f(Wr,function(Zr){var Kr=Zr.getLayout().depth*Gr;Yr==="vertical"?Zr.setLayout({y:Kr},!0):Zr.setLayout({x:Kr},!0)})}function computeNodeDepths(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=prepareNodesByBreadth(Wr,Jr);initializeNodeDepth(en,Gr,Yr,Zr,Kr,Jr),resolveCollisions(en,Kr,Yr,Zr,Jr);for(var tn=1;Qr>0;Qr--)tn*=.99,relaxRightToLeft(en,tn,Jr),resolveCollisions(en,Kr,Yr,Zr,Jr),relaxLeftToRight(en,tn,Jr),resolveCollisions(en,Kr,Yr,Zr,Jr)}function prepareNodesByBreadth(Wr,Gr){var Yr=[],Zr=Gr==="vertical"?"y":"x",Kr=groupData(Wr,function(Qr){return Qr.getLayout()[Zr]});return Kr.keys.sort(function(Qr,Jr){return Qr-Jr}),each$f(Kr.keys,function(Qr){Yr.push(Kr.buckets.get(Qr))}),Yr}function initializeNodeDepth(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=1/0;each$f(Wr,function(en){var tn=en.length,rn=0;each$f(en,function(nn){rn+=nn.getLayout().value});var an=Qr==="vertical"?(Zr-(tn-1)*Kr)/rn:(Yr-(tn-1)*Kr)/rn;an<Jr&&(Jr=an)}),each$f(Wr,function(en){each$f(en,function(tn,rn){var an=tn.getLayout().value*Jr;Qr==="vertical"?(tn.setLayout({x:rn},!0),tn.setLayout({dx:an},!0)):(tn.setLayout({y:rn},!0),tn.setLayout({dy:an},!0))})}),each$f(Gr,function(en){var tn=+en.getValue()*Jr;en.setLayout({dy:tn},!0)})}function resolveCollisions(Wr,Gr,Yr,Zr,Kr){var Qr=Kr==="vertical"?"x":"y";each$f(Wr,function(Jr){Jr.sort(function(cn,hn){return cn.getLayout()[Qr]-hn.getLayout()[Qr]});for(var en,tn,rn,an=0,nn=Jr.length,sn=Kr==="vertical"?"dx":"dy",ln=0;ln<nn;ln++)tn=Jr[ln],rn=an-tn.getLayout()[Qr],rn>0&&(en=tn.getLayout()[Qr]+rn,Kr==="vertical"?tn.setLayout({x:en},!0):tn.setLayout({y:en},!0)),an=tn.getLayout()[Qr]+tn.getLayout()[sn]+Gr;var un=Kr==="vertical"?Zr:Yr;if(rn=an-Gr-un,rn>0){en=tn.getLayout()[Qr]-rn,Kr==="vertical"?tn.setLayout({x:en},!0):tn.setLayout({y:en},!0),an=en;for(var ln=nn-2;ln>=0;--ln)tn=Jr[ln],rn=tn.getLayout()[Qr]+tn.getLayout()[sn]+Gr-an,rn>0&&(en=tn.getLayout()[Qr]-rn,Kr==="vertical"?tn.setLayout({x:en},!0):tn.setLayout({y:en},!0)),an=tn.getLayout()[Qr]}})}function relaxRightToLeft(Wr,Gr,Yr){each$f(Wr.slice().reverse(),function(Zr){each$f(Zr,function(Kr){if(Kr.outEdges.length){var Qr=sum(Kr.outEdges,weightedTarget,Yr)/sum(Kr.outEdges,getEdgeValue);if(isNaN(Qr)){var Jr=Kr.outEdges.length;Qr=Jr?sum(Kr.outEdges,centerTarget,Yr)/Jr:0}if(Yr==="vertical"){var en=Kr.getLayout().x+(Qr-center(Kr,Yr))*Gr;Kr.setLayout({x:en},!0)}else{var tn=Kr.getLayout().y+(Qr-center(Kr,Yr))*Gr;Kr.setLayout({y:tn},!0)}}})})}function weightedTarget(Wr,Gr){return center(Wr.node2,Gr)*Wr.getValue()}function centerTarget(Wr,Gr){return center(Wr.node2,Gr)}function weightedSource(Wr,Gr){return center(Wr.node1,Gr)*Wr.getValue()}function centerSource(Wr,Gr){return center(Wr.node1,Gr)}function center(Wr,Gr){return Gr==="vertical"?Wr.getLayout().x+Wr.getLayout().dx/2:Wr.getLayout().y+Wr.getLayout().dy/2}function getEdgeValue(Wr){return Wr.getValue()}function sum(Wr,Gr,Yr){for(var Zr=0,Kr=Wr.length,Qr=-1;++Qr<Kr;){var Jr=+Gr(Wr[Qr],Yr);isNaN(Jr)||(Zr+=Jr)}return Zr}function relaxLeftToRight(Wr,Gr,Yr){each$f(Wr,function(Zr){each$f(Zr,function(Kr){if(Kr.inEdges.length){var Qr=sum(Kr.inEdges,weightedSource,Yr)/sum(Kr.inEdges,getEdgeValue);if(isNaN(Qr)){var Jr=Kr.inEdges.length;Qr=Jr?sum(Kr.inEdges,centerSource,Yr)/Jr:0}if(Yr==="vertical"){var en=Kr.getLayout().x+(Qr-center(Kr,Yr))*Gr;Kr.setLayout({x:en},!0)}else{var tn=Kr.getLayout().y+(Qr-center(Kr,Yr))*Gr;Kr.setLayout({y:tn},!0)}}})})}function computeEdgeDepths(Wr,Gr){var Yr=Gr==="vertical"?"x":"y";each$f(Wr,function(Zr){Zr.outEdges.sort(function(Kr,Qr){return Kr.node2.getLayout()[Yr]-Qr.node2.getLayout()[Yr]}),Zr.inEdges.sort(function(Kr,Qr){return Kr.node1.getLayout()[Yr]-Qr.node1.getLayout()[Yr]})}),each$f(Wr,function(Zr){var Kr=0,Qr=0;each$f(Zr.outEdges,function(Jr){Jr.setLayout({sy:Kr},!0),Kr+=Jr.getLayout().dy}),each$f(Zr.inEdges,function(Jr){Jr.setLayout({ty:Qr},!0),Qr+=Jr.getLayout().dy})})}function sankeyVisual(Wr){Wr.eachSeriesByType("sankey",function(Gr){var Yr=Gr.getGraph(),Zr=Yr.nodes,Kr=Yr.edges;if(Zr.length){var Qr=1/0,Jr=-1/0;each$f(Zr,function(en){var tn=en.getLayout().value;tn<Qr&&(Qr=tn),tn>Jr&&(Jr=tn)}),each$f(Zr,function(en){var tn=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[Qr,Jr],visual:Gr.get("color")}),rn=tn.mapValueToVisual(en.getLayout().value),an=en.getModel().get(["itemStyle","color"]);an!=null?(en.setVisual("color",an),en.setVisual("style",{fill:an})):(en.setVisual("color",rn),en.setVisual("style",{fill:rn}))})}Kr.length&&each$f(Kr,function(en){var tn=en.getModel().get("lineStyle");en.setVisual("style",tn)})})}function install$A(Wr){Wr.registerChartView(SankeyView),Wr.registerSeriesModel(SankeySeriesModel),Wr.registerLayout(sankeyLayout),Wr.registerVisual(sankeyVisual),Wr.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(Gr,Yr){Yr.eachComponent({mainType:"series",subType:"sankey",query:Gr},function(Zr){Zr.setNodePosition(Gr.dataIndex,[Gr.localX,Gr.localY])})})}var WhiskerBoxCommonMixin=function(){function Wr(){}return Wr.prototype._hasEncodeRule=function(Gr){var Yr=this.getEncode();return Yr&&Yr.get(Gr)!=null},Wr.prototype.getInitialData=function(Gr,Yr){var Zr,Kr=Yr.getComponent("xAxis",this.get("xAxisIndex")),Qr=Yr.getComponent("yAxis",this.get("yAxisIndex")),Jr=Kr.get("type"),en=Qr.get("type"),tn;Jr==="category"?(Gr.layout="horizontal",Zr=Kr.getOrdinalMeta(),tn=!this._hasEncodeRule("x")):en==="category"?(Gr.layout="vertical",Zr=Qr.getOrdinalMeta(),tn=!this._hasEncodeRule("y")):Gr.layout=Gr.layout||"horizontal";var rn=["x","y"],an=Gr.layout==="horizontal"?0:1,nn=this._baseAxisDim=rn[an],sn=rn[1-an],ln=[Kr,Qr],un=ln[an].get("type"),cn=ln[1-an].get("type"),hn=Gr.data;if(hn&&tn){var dn=[];each$f(hn,function(gn,vn){var mn;isArray$1(gn)?(mn=gn.slice(),gn.unshift(vn)):isArray$1(gn.value)?(mn=extend({},gn),mn.value=mn.value.slice(),gn.value.unshift(vn)):mn=gn,dn.push(mn)}),Gr.data=dn}var fn=this.defaultValueDimensions,pn=[{name:nn,type:getDimensionTypeByAxis(un),ordinalMeta:Zr,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:sn,type:getDimensionTypeByAxis(cn),dimsDef:fn.slice()}];return createSeriesDataSimply(this,{coordDimensions:pn,dimensionsCount:fn.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,pn,this)})},Wr.prototype.getBaseAxis=function(){var Gr=this._baseAxisDim;return this.ecModel.getComponent(Gr+"Axis",this.get(Gr+"AxisIndex")).axis},Wr}(),BoxplotSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],Yr.visualDrawType="stroke",Yr}return Gr.type="series.boxplot",Gr.dependencies=["xAxis","yAxis","grid"],Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},Gr}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this.group,en=this._data;this._data||Jr.removeAll();var tn=Yr.get("layout")==="horizontal"?1:0;Qr.diff(en).add(function(rn){if(Qr.hasValue(rn)){var an=Qr.getItemLayout(rn),nn=createNormalBox$1(an,Qr,rn,tn,!0);Qr.setItemGraphicEl(rn,nn),Jr.add(nn)}}).update(function(rn,an){var nn=en.getItemGraphicEl(an);if(!Qr.hasValue(rn)){Jr.remove(nn);return}var sn=Qr.getItemLayout(rn);nn?(saveOldStyle(nn),updateNormalBoxData(sn,nn,Qr,rn)):nn=createNormalBox$1(sn,Qr,rn,tn),Jr.add(nn),Qr.setItemGraphicEl(rn,nn)}).remove(function(rn){var an=en.getItemGraphicEl(rn);an&&Jr.remove(an)}).execute(),this._data=Qr},Gr.prototype.remove=function(Yr){var Zr=this.group,Kr=this._data;this._data=null,Kr&&Kr.eachItemGraphicEl(function(Qr){Qr&&Zr.remove(Qr)})},Gr.type="boxplot",Gr}(ChartView),BoxPathShape=function(){function Wr(){}return Wr}(),BoxPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="boxplotBoxPath",Zr}return Gr.prototype.getDefaultShape=function(){return new BoxPathShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.points,Qr=0;for(Yr.moveTo(Kr[Qr][0],Kr[Qr][1]),Qr++;Qr<4;Qr++)Yr.lineTo(Kr[Qr][0],Kr[Qr][1]);for(Yr.closePath();Qr<Kr.length;Qr++)Yr.moveTo(Kr[Qr][0],Kr[Qr][1]),Qr++,Yr.lineTo(Kr[Qr][0],Kr[Qr][1])},Gr}(Path);function createNormalBox$1(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.ends,Jr=new BoxPath({shape:{points:Kr?transInit$1(Qr,Zr,Wr):Qr}});return updateNormalBoxData(Wr,Jr,Gr,Yr,Kr),Jr}function updateNormalBoxData(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.hostModel,Jr=graphic[Kr?"initProps":"updateProps"];Jr(Gr,{shape:{points:Wr.ends}},Qr,Zr),Gr.useStyle(Yr.getItemVisual(Zr,"style")),Gr.style.strokeNoScale=!0,Gr.z2=100;var en=Yr.getItemModel(Zr),tn=en.getModel("emphasis");setStatesStylesFromModel(Gr,en),toggleHoverEmphasis(Gr,tn.get("focus"),tn.get("blurScope"),tn.get("disabled"))}function transInit$1(Wr,Gr,Yr){return map$1(Wr,function(Zr){return Zr=Zr.slice(),Zr[Gr]=Yr.initBaseline,Zr})}var each$9=each$f;function boxplotLayout(Wr){var Gr=groupSeriesByAxis(Wr);each$9(Gr,function(Yr){var Zr=Yr.seriesModels;Zr.length&&(calculateBase(Yr),each$9(Zr,function(Kr,Qr){layoutSingleSeries(Kr,Yr.boxOffsetList[Qr],Yr.boxWidthList[Qr])}))})}function groupSeriesByAxis(Wr){var Gr=[],Yr=[];return Wr.eachSeriesByType("boxplot",function(Zr){var Kr=Zr.getBaseAxis(),Qr=indexOf(Yr,Kr);Qr<0&&(Qr=Yr.length,Yr[Qr]=Kr,Gr[Qr]={axis:Kr,seriesModels:[]}),Gr[Qr].seriesModels.push(Zr)}),Gr}function calculateBase(Wr){var Gr=Wr.axis,Yr=Wr.seriesModels,Zr=Yr.length,Kr=Wr.boxWidthList=[],Qr=Wr.boxOffsetList=[],Jr=[],en;if(Gr.type==="category")en=Gr.getBandWidth();else{var tn=0;each$9(Yr,function(un){tn=Math.max(tn,un.getData().count())});var rn=Gr.getExtent();en=Math.abs(rn[1]-rn[0])/tn}each$9(Yr,function(un){var cn=un.get("boxWidth");isArray$1(cn)||(cn=[cn,cn]),Jr.push([parsePercent(cn[0],en)||0,parsePercent(cn[1],en)||0])});var an=en*.8-2,nn=an/Zr*.3,sn=(an-nn*(Zr-1))/Zr,ln=sn/2-an/2;each$9(Yr,function(un,cn){Qr.push(ln),ln+=nn+sn,Kr.push(Math.min(Math.max(sn,Jr[cn][0]),Jr[cn][1]))})}function layoutSingleSeries(Wr,Gr,Yr){var Zr=Wr.coordinateSystem,Kr=Wr.getData(),Qr=Yr/2,Jr=Wr.get("layout")==="horizontal"?0:1,en=1-Jr,tn=["x","y"],rn=Kr.mapDimension(tn[Jr]),an=Kr.mapDimensionsAll(tn[en]);if(rn==null||an.length<5)return;for(var nn=0;nn<Kr.count();nn++){var sn=Kr.get(rn,nn),ln=pn(sn,an[2],nn),un=pn(sn,an[0],nn),cn=pn(sn,an[1],nn),hn=pn(sn,an[3],nn),dn=pn(sn,an[4],nn),fn=[];gn(fn,cn,!1),gn(fn,hn,!0),fn.push(un,cn,dn,hn),vn(fn,un),vn(fn,dn),vn(fn,ln),Kr.setItemLayout(nn,{initBaseline:ln[en],ends:fn})}function pn(mn,yn,xn){var bn=Kr.get(yn,xn),Sn=[];Sn[Jr]=mn,Sn[en]=bn;var wn;return isNaN(mn)||isNaN(bn)?wn=[NaN,NaN]:(wn=Zr.dataToPoint(Sn),wn[Jr]+=Gr),wn}function gn(mn,yn,xn){var bn=yn.slice(),Sn=yn.slice();bn[Jr]+=Qr,Sn[Jr]-=Qr,xn?mn.push(bn,Sn):mn.push(Sn,bn)}function vn(mn,yn){var xn=yn.slice(),bn=yn.slice();xn[Jr]-=Qr,bn[Jr]+=Qr,mn.push(xn,bn)}}function prepareBoxplotData(Wr,Gr){Gr=Gr||{};for(var Yr=[],Zr=[],Kr=Gr.boundIQR,Qr=Kr==="none"||Kr===0,Jr=0;Jr<Wr.length;Jr++){var en=asc$2(Wr[Jr].slice()),tn=quantile(en,.25),rn=quantile(en,.5),an=quantile(en,.75),nn=en[0],sn=en[en.length-1],ln=(Kr??1.5)*(an-tn),un=Qr?nn:Math.max(nn,tn-ln),cn=Qr?sn:Math.min(sn,an+ln),hn=Gr.itemNameFormatter,dn=isFunction(hn)?hn({value:Jr}):isString(hn)?hn.replace("{value}",Jr+""):Jr+"";Yr.push([dn,un,tn,rn,an,cn]);for(var fn=0;fn<en.length;fn++){var pn=en[fn];if(pn<un||pn>cn){var gn=[dn,pn];Zr.push(gn)}}}return{boxData:Yr,outliers:Zr}}var boxplotTransform={type:"echarts:boxplot",transform:function Wr(Gr){var Yr=Gr.upstream;if(Yr.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var Zr="";throwError(Zr)}var Kr=prepareBoxplotData(Yr.getRawData(),Gr.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:Kr.boxData},{data:Kr.outliers}]}};function install$z(Wr){Wr.registerSeriesModel(BoxplotSeriesModel),Wr.registerChartView(BoxplotView),Wr.registerLayout(boxplotLayout),Wr.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(Wr,Gr){return Gr.get(Wr>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(Wr,Gr){return Gr.get(Wr===0?dojiBorderColorQuery:Wr>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(Wr,Gr){if(!Gr.isSeriesFiltered(Wr)){var Yr=Wr.pipelineContext.large;return!Yr&&{progress:function(Zr,Kr){for(var Qr;(Qr=Zr.next())!=null;){var Jr=Kr.getItemModel(Qr),en=Kr.getItemLayout(Qr).sign,tn=Jr.getItemStyle();tn.fill=getColor(en,Jr),tn.stroke=getBorderColor(en,Jr)||tn.fill;var rn=Kr.ensureUniqueItemVisual(Qr,"style");extend(rn,tn)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(Yr),this._isLargeDraw?this._renderLarge(Yr):this._renderNormal(Yr)},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){this._clear(),this._updateDrawMode(Yr)},Gr.prototype.incrementalRender=function(Yr,Zr,Kr,Qr){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(Yr,Zr):this._incrementalRenderNormal(Yr,Zr)},Gr.prototype.eachRendered=function(Yr){traverseElements(this._progressiveEls||this.group,Yr)},Gr.prototype._updateDrawMode=function(Yr){var Zr=Yr.pipelineContext.large;(this._isLargeDraw==null||Zr!==this._isLargeDraw)&&(this._isLargeDraw=Zr,this._clear())},Gr.prototype._renderNormal=function(Yr){var Zr=Yr.getData(),Kr=this._data,Qr=this.group,Jr=Zr.getLayout("isSimpleBox"),en=Yr.get("clip",!0),tn=Yr.coordinateSystem,rn=tn.getArea&&tn.getArea();this._data||Qr.removeAll(),Zr.diff(Kr).add(function(an){if(Zr.hasValue(an)){var nn=Zr.getItemLayout(an);if(en&&isNormalBoxClipped(rn,nn))return;var sn=createNormalBox(nn,an,!0);initProps(sn,{shape:{points:nn.ends}},Yr,an),setBoxCommon(sn,Zr,an,Jr),Qr.add(sn),Zr.setItemGraphicEl(an,sn)}}).update(function(an,nn){var sn=Kr.getItemGraphicEl(nn);if(!Zr.hasValue(an)){Qr.remove(sn);return}var ln=Zr.getItemLayout(an);if(en&&isNormalBoxClipped(rn,ln)){Qr.remove(sn);return}sn?(updateProps$1(sn,{shape:{points:ln.ends}},Yr,an),saveOldStyle(sn)):sn=createNormalBox(ln),setBoxCommon(sn,Zr,an,Jr),Qr.add(sn),Zr.setItemGraphicEl(an,sn)}).remove(function(an){var nn=Kr.getItemGraphicEl(an);nn&&Qr.remove(nn)}).execute(),this._data=Zr},Gr.prototype._renderLarge=function(Yr){this._clear(),createLarge(Yr,this.group);var Zr=Yr.get("clip",!0)?createClipPath(Yr.coordinateSystem,!1,Yr):null;Zr?this.group.setClipPath(Zr):this.group.removeClipPath()},Gr.prototype._incrementalRenderNormal=function(Yr,Zr){for(var Kr=Zr.getData(),Qr=Kr.getLayout("isSimpleBox"),Jr;(Jr=Yr.next())!=null;){var en=Kr.getItemLayout(Jr),tn=createNormalBox(en);setBoxCommon(tn,Kr,Jr,Qr),tn.incremental=!0,this.group.add(tn),this._progressiveEls.push(tn)}},Gr.prototype._incrementalRenderLarge=function(Yr,Zr){createLarge(Zr,this.group,this._progressiveEls,!0)},Gr.prototype.remove=function(Yr){this._clear()},Gr.prototype._clear=function(){this.group.removeAll(),this._data=null},Gr.type="candlestick",Gr}(ChartView),NormalBoxPathShape=function(){function Wr(){}return Wr}(),NormalBoxPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="normalCandlestickBox",Zr}return Gr.prototype.getDefaultShape=function(){return new NormalBoxPathShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.points;this.__simpleBox?(Yr.moveTo(Kr[4][0],Kr[4][1]),Yr.lineTo(Kr[6][0],Kr[6][1])):(Yr.moveTo(Kr[0][0],Kr[0][1]),Yr.lineTo(Kr[1][0],Kr[1][1]),Yr.lineTo(Kr[2][0],Kr[2][1]),Yr.lineTo(Kr[3][0],Kr[3][1]),Yr.closePath(),Yr.moveTo(Kr[4][0],Kr[4][1]),Yr.lineTo(Kr[5][0],Kr[5][1]),Yr.moveTo(Kr[6][0],Kr[6][1]),Yr.lineTo(Kr[7][0],Kr[7][1]))},Gr}(Path);function createNormalBox(Wr,Gr,Yr){var Zr=Wr.ends;return new NormalBoxPath({shape:{points:Yr?transInit(Zr,Wr):Zr},z2:100})}function isNormalBoxClipped(Wr,Gr){for(var Yr=!0,Zr=0;Zr<Gr.ends.length;Zr++)if(Wr.contain(Gr.ends[Zr][0],Gr.ends[Zr][1])){Yr=!1;break}return Yr}function setBoxCommon(Wr,Gr,Yr,Zr){var Kr=Gr.getItemModel(Yr);Wr.useStyle(Gr.getItemVisual(Yr,"style")),Wr.style.strokeNoScale=!0,Wr.__simpleBox=Zr,setStatesStylesFromModel(Wr,Kr);var Qr=Gr.getItemLayout(Yr).sign;each$f(Wr.states,function(en,tn){var rn=Kr.getModel(tn),an=getColor(Qr,rn),nn=getBorderColor(Qr,rn)||an,sn=en.style||(en.style={});an&&(sn.fill=an),nn&&(sn.stroke=nn)});var Jr=Kr.getModel("emphasis");toggleHoverEmphasis(Wr,Jr.get("focus"),Jr.get("blurScope"),Jr.get("disabled"))}function transInit(Wr,Gr){return map$1(Wr,function(Yr){return Yr=Yr.slice(),Yr[1]=Gr.initBaseline,Yr})}var LargeBoxPathShape=function(){function Wr(){}return Wr}(),LargeBoxPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr.type="largeCandlestickBox",Zr}return Gr.prototype.getDefaultShape=function(){return new LargeBoxPathShape},Gr.prototype.buildPath=function(Yr,Zr){for(var Kr=Zr.points,Qr=0;Qr<Kr.length;)if(this.__sign===Kr[Qr++]){var Jr=Kr[Qr++];Yr.moveTo(Jr,Kr[Qr++]),Yr.lineTo(Jr,Kr[Qr++])}else Qr+=3},Gr}(Path);function createLarge(Wr,Gr,Yr,Zr){var Kr=Wr.getData(),Qr=Kr.getLayout("largePoints"),Jr=new LargeBoxPath({shape:{points:Qr},__sign:1,ignoreCoarsePointer:!0});Gr.add(Jr);var en=new LargeBoxPath({shape:{points:Qr},__sign:-1,ignoreCoarsePointer:!0});Gr.add(en);var tn=new LargeBoxPath({shape:{points:Qr},__sign:0,ignoreCoarsePointer:!0});Gr.add(tn),setLargeStyle(1,Jr,Wr),setLargeStyle(-1,en,Wr),setLargeStyle(0,tn,Wr),Zr&&(Jr.incremental=!0,en.incremental=!0),Yr&&Yr.push(Jr,en)}function setLargeStyle(Wr,Gr,Yr,Zr){var Kr=getBorderColor(Wr,Yr)||getColor(Wr,Yr),Qr=Yr.getModel("itemStyle").getItemStyle(SKIP_PROPS);Gr.useStyle(Qr),Gr.style.fill=null,Gr.style.stroke=Kr}var CandlestickSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],Yr}return Gr.prototype.getShadowDim=function(){return"open"},Gr.prototype.brushSelector=function(Yr,Zr,Kr){var Qr=Zr.getItemLayout(Yr);return Qr&&Kr.rect(Qr.brushRect)},Gr.type="series.candlestick",Gr.dependencies=["xAxis","yAxis","grid"],Gr.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},Gr}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(Wr){!Wr||!isArray$1(Wr.series)||each$f(Wr.series,function(Gr){isObject$3(Gr)&&Gr.type==="k"&&(Gr.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(Wr){var Gr=Wr.coordinateSystem,Yr=Wr.getData(),Zr=calculateCandleWidth(Wr,Yr),Kr=0,Qr=1,Jr=["x","y"],en=Yr.getDimensionIndex(Yr.mapDimension(Jr[Kr])),tn=map$1(Yr.mapDimensionsAll(Jr[Qr]),Yr.getDimensionIndex,Yr),rn=tn[0],an=tn[1],nn=tn[2],sn=tn[3];if(Yr.setLayout({candleWidth:Zr,isSimpleBox:Zr<=1.3}),en<0||tn.length<4)return;return{progress:Wr.pipelineContext.large?un:ln};function ln(cn,hn){for(var dn,fn=hn.getStore();(dn=cn.next())!=null;){var pn=fn.get(en,dn),gn=fn.get(rn,dn),vn=fn.get(an,dn),mn=fn.get(nn,dn),yn=fn.get(sn,dn),xn=Math.min(gn,vn),bn=Math.max(gn,vn),Sn=En(xn,pn),wn=En(bn,pn),_n=En(mn,pn),An=En(yn,pn),Cn=[];Ln(Cn,wn,0),Ln(Cn,Sn,1),Cn.push(Pn(An),Pn(wn),Pn(_n),Pn(Sn));var Tn=hn.getItemModel(dn),Mn=!!Tn.get(["itemStyle","borderColorDoji"]);hn.setItemLayout(dn,{sign:getSign(fn,dn,gn,vn,an,Mn),initBaseline:gn>vn?wn[Qr]:Sn[Qr],ends:Cn,brushRect:In(mn,yn,pn)})}function En(Dn,kn){var Nn=[];return Nn[Kr]=kn,Nn[Qr]=Dn,isNaN(kn)||isNaN(Dn)?[NaN,NaN]:Gr.dataToPoint(Nn)}function Ln(Dn,kn,Nn){var Rn=kn.slice(),Fn=kn.slice();Rn[Kr]=subPixelOptimize(Rn[Kr]+Zr/2,1,!1),Fn[Kr]=subPixelOptimize(Fn[Kr]-Zr/2,1,!0),Nn?Dn.push(Rn,Fn):Dn.push(Fn,Rn)}function In(Dn,kn,Nn){var Rn=En(Dn,Nn),Fn=En(kn,Nn);return Rn[Kr]-=Zr/2,Fn[Kr]-=Zr/2,{x:Rn[0],y:Rn[1],width:Zr,height:Fn[1]-Rn[1]}}function Pn(Dn){return Dn[Kr]=subPixelOptimize(Dn[Kr],1),Dn}}function un(cn,hn){for(var dn=createFloat32Array(cn.count*4),fn=0,pn,gn=[],vn=[],mn,yn=hn.getStore(),xn=!!Wr.get(["itemStyle","borderColorDoji"]);(mn=cn.next())!=null;){var bn=yn.get(en,mn),Sn=yn.get(rn,mn),wn=yn.get(an,mn),_n=yn.get(nn,mn),An=yn.get(sn,mn);if(isNaN(bn)||isNaN(_n)||isNaN(An)){dn[fn++]=NaN,fn+=3;continue}dn[fn++]=getSign(yn,mn,Sn,wn,an,xn),gn[Kr]=bn,gn[Qr]=_n,pn=Gr.dataToPoint(gn,null,vn),dn[fn++]=pn?pn[0]:NaN,dn[fn++]=pn?pn[1]:NaN,gn[Qr]=An,pn=Gr.dataToPoint(gn,null,vn),dn[fn++]=pn?pn[1]:NaN}hn.setLayout("largePoints",dn)}}};function getSign(Wr,Gr,Yr,Zr,Kr,Qr){var Jr;return Yr>Zr?Jr=-1:Yr<Zr?Jr=1:Jr=Qr?0:Gr>0?Wr.get(Kr,Gr-1)<=Zr?1:-1:1,Jr}function calculateCandleWidth(Wr,Gr){var Yr=Wr.getBaseAxis(),Zr,Kr=Yr.type==="category"?Yr.getBandWidth():(Zr=Yr.getExtent(),Math.abs(Zr[1]-Zr[0])/Gr.count()),Qr=parsePercent(retrieve2(Wr.get("barMaxWidth"),Kr),Kr),Jr=parsePercent(retrieve2(Wr.get("barMinWidth"),1),Kr),en=Wr.get("barWidth");return en!=null?parsePercent(en,Kr):Math.max(Math.min(Kr/2,Qr),Jr)}function install$y(Wr){Wr.registerChartView(CandlestickView),Wr.registerSeriesModel(CandlestickSeriesModel),Wr.registerPreprocessor(candlestickPreprocessor),Wr.registerVisual(candlestickVisual),Wr.registerLayout(candlestickLayout)}function updateRipplePath(Wr,Gr){var Yr=Gr.rippleEffectColor||Gr.color;Wr.eachChild(function(Zr){Zr.attr({z:Gr.z,zlevel:Gr.zlevel,style:{stroke:Gr.brushType==="stroke"?Yr:null,fill:Gr.brushType==="fill"?Yr:null}})})}var EffectSymbol=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){var Kr=Wr.call(this)||this,Qr=new Symbol$1(Yr,Zr),Jr=new Group$3;return Kr.add(Qr),Kr.add(Jr),Kr.updateData(Yr,Zr),Kr}return Gr.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},Gr.prototype.startEffectAnimation=function(Yr){for(var Zr=Yr.symbolType,Kr=Yr.color,Qr=Yr.rippleNumber,Jr=this.childAt(1),en=0;en<Qr;en++){var tn=createSymbol$1(Zr,-1,-1,2,2,Kr);tn.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var rn=-en/Qr*Yr.period+Yr.effectOffset;tn.animate("",!0).when(Yr.period,{scaleX:Yr.rippleScale/2,scaleY:Yr.rippleScale/2}).delay(rn).start(),tn.animateStyle(!0).when(Yr.period,{opacity:0}).delay(rn).start(),Jr.add(tn)}updateRipplePath(Jr,Yr)},Gr.prototype.updateEffectAnimation=function(Yr){for(var Zr=this._effectCfg,Kr=this.childAt(1),Qr=["symbolType","period","rippleScale","rippleNumber"],Jr=0;Jr<Qr.length;Jr++){var en=Qr[Jr];if(Zr[en]!==Yr[en]){this.stopEffectAnimation(),this.startEffectAnimation(Yr);return}}updateRipplePath(Kr,Yr)},Gr.prototype.highlight=function(){enterEmphasis(this)},Gr.prototype.downplay=function(){leaveEmphasis(this)},Gr.prototype.getSymbolType=function(){var Yr=this.childAt(0);return Yr&&Yr.getSymbolType()},Gr.prototype.updateData=function(Yr,Zr){var Kr=this,Qr=Yr.hostModel;this.childAt(0).updateData(Yr,Zr);var Jr=this.childAt(1),en=Yr.getItemModel(Zr),tn=Yr.getItemVisual(Zr,"symbol"),rn=normalizeSymbolSize(Yr.getItemVisual(Zr,"symbolSize")),an=Yr.getItemVisual(Zr,"style"),nn=an&&an.fill,sn=en.getModel("emphasis");Jr.setScale(rn),Jr.traverse(function(hn){hn.setStyle("fill",nn)});var ln=normalizeSymbolOffset(Yr.getItemVisual(Zr,"symbolOffset"),rn);ln&&(Jr.x=ln[0],Jr.y=ln[1]);var un=Yr.getItemVisual(Zr,"symbolRotate");Jr.rotation=(un||0)*Math.PI/180||0;var cn={};cn.showEffectOn=Qr.get("showEffectOn"),cn.rippleScale=en.get(["rippleEffect","scale"]),cn.brushType=en.get(["rippleEffect","brushType"]),cn.period=en.get(["rippleEffect","period"])*1e3,cn.effectOffset=Zr/Yr.count(),cn.z=Qr.getShallow("z")||0,cn.zlevel=Qr.getShallow("zlevel")||0,cn.symbolType=tn,cn.color=nn,cn.rippleEffectColor=en.get(["rippleEffect","color"]),cn.rippleNumber=en.get(["rippleEffect","number"]),cn.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(cn):this.startEffectAnimation(cn),this._effectCfg=cn):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(hn){hn==="emphasis"?cn.showEffectOn!=="render"&&Kr.startEffectAnimation(cn):hn==="normal"&&cn.showEffectOn!=="render"&&Kr.stopEffectAnimation()}),this._effectCfg=cn,toggleHoverEmphasis(this,sn.get("focus"),sn.get("blurScope"),sn.get("disabled"))},Gr.prototype.fadeOut=function(Yr){Yr&&Yr()},Gr}(Group$3),EffectScatterView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._symbolDraw;Jr.updateData(Qr,{clipShape:this._getClipShape(Yr)}),this.group.add(Jr.group)},Gr.prototype._getClipShape=function(Yr){var Zr=Yr.coordinateSystem,Kr=Zr&&Zr.getArea&&Zr.getArea();return Yr.get("clip",!0)?Kr:null},Gr.prototype.updateTransform=function(Yr,Zr,Kr){var Qr=Yr.getData();this.group.dirty();var Jr=pointsLayout("").reset(Yr,Zr,Kr);Jr.progress&&Jr.progress({start:0,end:Qr.count(),count:Qr.count()},Qr),this._symbolDraw.updateLayout()},Gr.prototype._updateGroupTransform=function(Yr){var Zr=Yr.coordinateSystem;Zr&&Zr.getRoamTransform&&(this.group.transform=clone$2(Zr.getRoamTransform()),this.group.decomposeTransform())},Gr.prototype.remove=function(Yr,Zr){this._symbolDraw&&this._symbolDraw.remove(!0)},Gr.type="effectScatter",Gr}(ChartView),EffectScatterSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Gr.prototype.brushSelector=function(Yr,Zr,Kr){return Kr.point(Zr.getItemLayout(Yr))},Gr.type="series.effectScatter",Gr.dependencies=["grid","polar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},Gr}(SeriesModel);function install$x(Wr){Wr.registerChartView(EffectScatterView),Wr.registerSeriesModel(EffectScatterSeriesModel),Wr.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this)||this;return Qr.add(Qr.createLine(Yr,Zr,Kr)),Qr._updateEffectSymbol(Yr,Zr),Qr}return Gr.prototype.createLine=function(Yr,Zr,Kr){return new Line(Yr,Zr,Kr)},Gr.prototype._updateEffectSymbol=function(Yr,Zr){var Kr=Yr.getItemModel(Zr),Qr=Kr.getModel("effect"),Jr=Qr.get("symbolSize"),en=Qr.get("symbol");isArray$1(Jr)||(Jr=[Jr,Jr]);var tn=Yr.getItemVisual(Zr,"style"),rn=Qr.get("color")||tn&&tn.stroke,an=this.childAt(1);this._symbolType!==en&&(this.remove(an),an=createSymbol$1(en,-.5,-.5,1,1,rn),an.z2=100,an.culling=!0,this.add(an)),an&&(an.setStyle("shadowColor",rn),an.setStyle(Qr.getItemStyle(["color"])),an.scaleX=Jr[0],an.scaleY=Jr[1],an.setColor(rn),this._symbolType=en,this._symbolScale=Jr,this._updateEffectAnimation(Yr,Qr,Zr))},Gr.prototype._updateEffectAnimation=function(Yr,Zr,Kr){var Qr=this.childAt(1);if(Qr){var Jr=Yr.getItemLayout(Kr),en=Zr.get("period")*1e3,tn=Zr.get("loop"),rn=Zr.get("roundTrip"),an=Zr.get("constantSpeed"),nn=retrieve(Zr.get("delay"),function(ln){return ln/Yr.count()*en/3});if(Qr.ignore=!0,this._updateAnimationPoints(Qr,Jr),an>0&&(en=this._getLineLength(Qr)/an*1e3),en!==this._period||tn!==this._loop||rn!==this._roundTrip){Qr.stopAnimation();var sn=void 0;isFunction(nn)?sn=nn(Kr):sn=nn,Qr.__t>0&&(sn=-en*Qr.__t),this._animateSymbol(Qr,en,sn,tn,rn)}this._period=en,this._loop=tn,this._roundTrip=rn}},Gr.prototype._animateSymbol=function(Yr,Zr,Kr,Qr,Jr){if(Zr>0){Yr.__t=0;var en=this,tn=Yr.animate("",Qr).when(Jr?Zr*2:Zr,{__t:Jr?2:1}).delay(Kr).during(function(){en._updateSymbolPosition(Yr)});Qr||tn.done(function(){en.remove(Yr)}),tn.start()}},Gr.prototype._getLineLength=function(Yr){return dist$1(Yr.__p1,Yr.__cp1)+dist$1(Yr.__cp1,Yr.__p2)},Gr.prototype._updateAnimationPoints=function(Yr,Zr){Yr.__p1=Zr[0],Yr.__p2=Zr[1],Yr.__cp1=Zr[2]||[(Zr[0][0]+Zr[1][0])/2,(Zr[0][1]+Zr[1][1])/2]},Gr.prototype.updateData=function(Yr,Zr,Kr){this.childAt(0).updateData(Yr,Zr,Kr),this._updateEffectSymbol(Yr,Zr)},Gr.prototype._updateSymbolPosition=function(Yr){var Zr=Yr.__p1,Kr=Yr.__p2,Qr=Yr.__cp1,Jr=Yr.__t<1?Yr.__t:2-Yr.__t,en=[Yr.x,Yr.y],tn=en.slice(),rn=quadraticAt$1,an=quadraticDerivativeAt;en[0]=rn(Zr[0],Qr[0],Kr[0],Jr),en[1]=rn(Zr[1],Qr[1],Kr[1],Jr);var nn=Yr.__t<1?an(Zr[0],Qr[0],Kr[0],Jr):an(Kr[0],Qr[0],Zr[0],1-Jr),sn=Yr.__t<1?an(Zr[1],Qr[1],Kr[1],Jr):an(Kr[1],Qr[1],Zr[1],1-Jr);Yr.rotation=-Math.atan2(sn,nn)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(Yr.__lastT!==void 0&&Yr.__lastT<Yr.__t?(Yr.scaleY=dist$1(tn,en)*1.05,Jr===1&&(en[0]=tn[0]+(en[0]-tn[0])/2,en[1]=tn[1]+(en[1]-tn[1])/2)):Yr.__lastT===1?Yr.scaleY=2*dist$1(Zr,en):Yr.scaleY=this._symbolScale[1]),Yr.__lastT=Yr.__t,Yr.ignore=!1,Yr.x=en[0],Yr.y=en[1]},Gr.prototype.updateLayout=function(Yr,Zr){this.childAt(0).updateLayout(Yr,Zr);var Kr=Yr.getItemModel(Zr).getModel("effect");this._updateEffectAnimation(Yr,Kr,Zr)},Gr}(Group$3),Polyline=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr){var Qr=Wr.call(this)||this;return Qr._createPolyline(Yr,Zr,Kr),Qr}return Gr.prototype._createPolyline=function(Yr,Zr,Kr){var Qr=Yr.getItemLayout(Zr),Jr=new Polyline$1({shape:{points:Qr}});this.add(Jr),this._updateCommonStl(Yr,Zr,Kr)},Gr.prototype.updateData=function(Yr,Zr,Kr){var Qr=Yr.hostModel,Jr=this.childAt(0),en={shape:{points:Yr.getItemLayout(Zr)}};updateProps$1(Jr,en,Qr,Zr),this._updateCommonStl(Yr,Zr,Kr)},Gr.prototype._updateCommonStl=function(Yr,Zr,Kr){var Qr=this.childAt(0),Jr=Yr.getItemModel(Zr),en=Kr&&Kr.emphasisLineStyle,tn=Kr&&Kr.focus,rn=Kr&&Kr.blurScope,an=Kr&&Kr.emphasisDisabled;if(!Kr||Yr.hasItemOption){var nn=Jr.getModel("emphasis");en=nn.getModel("lineStyle").getLineStyle(),an=nn.get("disabled"),tn=nn.get("focus"),rn=nn.get("blurScope")}Qr.useStyle(Yr.getItemVisual(Zr,"style")),Qr.style.fill=null,Qr.style.strokeNoScale=!0;var sn=Qr.ensureState("emphasis");sn.style=en,toggleHoverEmphasis(this,tn,rn,an)},Gr.prototype.updateLayout=function(Yr,Zr){var Kr=this.childAt(0);Kr.setShape("points",Yr.getItemLayout(Zr))},Gr}(Group$3),EffectPolyline=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr._lastFrame=0,Yr._lastFramePercent=0,Yr}return Gr.prototype.createLine=function(Yr,Zr,Kr){return new Polyline(Yr,Zr,Kr)},Gr.prototype._updateAnimationPoints=function(Yr,Zr){this._points=Zr;for(var Kr=[0],Qr=0,Jr=1;Jr<Zr.length;Jr++){var en=Zr[Jr-1],tn=Zr[Jr];Qr+=dist$1(en,tn),Kr.push(Qr)}if(Qr===0){this._length=0;return}for(var Jr=0;Jr<Kr.length;Jr++)Kr[Jr]/=Qr;this._offsets=Kr,this._length=Qr},Gr.prototype._getLineLength=function(){return this._length},Gr.prototype._updateSymbolPosition=function(Yr){var Zr=Yr.__t<1?Yr.__t:2-Yr.__t,Kr=this._points,Qr=this._offsets,Jr=Kr.length;if(Qr){var en=this._lastFrame,tn;if(Zr<this._lastFramePercent){var rn=Math.min(en+1,Jr-1);for(tn=rn;tn>=0&&!(Qr[tn]<=Zr);tn--);tn=Math.min(tn,Jr-2)}else{for(tn=en;tn<Jr&&!(Qr[tn]>Zr);tn++);tn=Math.min(tn-1,Jr-2)}var an=(Zr-Qr[tn])/(Qr[tn+1]-Qr[tn]),nn=Kr[tn],sn=Kr[tn+1];Yr.x=nn[0]*(1-an)+an*sn[0],Yr.y=nn[1]*(1-an)+an*sn[1];var ln=Yr.__t<1?sn[0]-nn[0]:nn[0]-sn[0],un=Yr.__t<1?sn[1]-nn[1]:nn[1]-sn[1];Yr.rotation=-Math.atan2(un,ln)-Math.PI/2,this._lastFrame=tn,this._lastFramePercent=Zr,Yr.ignore=!1}},Gr}(EffectLine),LargeLinesPathShape=function(){function Wr(){this.polyline=!1,this.curveness=0,this.segs=[]}return Wr}(),LargeLinesPath=function(Wr){__extends(Gr,Wr);function Gr(Yr){var Zr=Wr.call(this,Yr)||this;return Zr._off=0,Zr.hoverDataIdx=-1,Zr}return Gr.prototype.reset=function(){this.notClear=!1,this._off=0},Gr.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Gr.prototype.getDefaultShape=function(){return new LargeLinesPathShape},Gr.prototype.buildPath=function(Yr,Zr){var Kr=Zr.segs,Qr=Zr.curveness,Jr;if(Zr.polyline)for(Jr=this._off;Jr<Kr.length;){var en=Kr[Jr++];if(en>0){Yr.moveTo(Kr[Jr++],Kr[Jr++]);for(var tn=1;tn<en;tn++)Yr.lineTo(Kr[Jr++],Kr[Jr++])}}else for(Jr=this._off;Jr<Kr.length;){var rn=Kr[Jr++],an=Kr[Jr++],nn=Kr[Jr++],sn=Kr[Jr++];if(Yr.moveTo(rn,an),Qr>0){var ln=(rn+nn)/2-(an-sn)*Qr,un=(an+sn)/2-(nn-rn)*Qr;Yr.quadraticCurveTo(ln,un,nn,sn)}else Yr.lineTo(nn,sn)}this.incremental&&(this._off=Jr,this.notClear=!0)},Gr.prototype.findDataIndex=function(Yr,Zr){var Kr=this.shape,Qr=Kr.segs,Jr=Kr.curveness,en=this.style.lineWidth;if(Kr.polyline)for(var tn=0,rn=0;rn<Qr.length;){var an=Qr[rn++];if(an>0)for(var nn=Qr[rn++],sn=Qr[rn++],ln=1;ln<an;ln++){var un=Qr[rn++],cn=Qr[rn++];if(containStroke$4(nn,sn,un,cn,en,Yr,Zr))return tn}tn++}else for(var tn=0,rn=0;rn<Qr.length;){var nn=Qr[rn++],sn=Qr[rn++],un=Qr[rn++],cn=Qr[rn++];if(Jr>0){var hn=(nn+un)/2-(sn-cn)*Jr,dn=(sn+cn)/2-(un-nn)*Jr;if(containStroke$2(nn,sn,hn,dn,un,cn,en,Yr,Zr))return tn}else if(containStroke$4(nn,sn,un,cn,en,Yr,Zr))return tn;tn++}return-1},Gr.prototype.contain=function(Yr,Zr){var Kr=this.transformCoordToLocal(Yr,Zr),Qr=this.getBoundingRect();if(Yr=Kr[0],Zr=Kr[1],Qr.contain(Yr,Zr)){var Jr=this.hoverDataIdx=this.findDataIndex(Yr,Zr);return Jr>=0}return this.hoverDataIdx=-1,!1},Gr.prototype.getBoundingRect=function(){var Yr=this._rect;if(!Yr){for(var Zr=this.shape,Kr=Zr.segs,Qr=1/0,Jr=1/0,en=-1/0,tn=-1/0,rn=0;rn<Kr.length;){var an=Kr[rn++],nn=Kr[rn++];Qr=Math.min(an,Qr),en=Math.max(an,en),Jr=Math.min(nn,Jr),tn=Math.max(nn,tn)}Yr=this._rect=new BoundingRect(Qr,Jr,en,tn)}return Yr},Gr}(Path),LargeLineDraw=function(){function Wr(){this.group=new Group$3}return Wr.prototype.updateData=function(Gr){this._clear();var Yr=this._create();Yr.setShape({segs:Gr.getLayout("linesPoints")}),this._setCommon(Yr,Gr)},Wr.prototype.incrementalPrepareUpdate=function(Gr){this.group.removeAll(),this._clear()},Wr.prototype.incrementalUpdate=function(Gr,Yr){var Zr=this._newAdded[0],Kr=Yr.getLayout("linesPoints"),Qr=Zr&&Zr.shape.segs;if(Qr&&Qr.length<2e4){var Jr=Qr.length,en=new Float32Array(Jr+Kr.length);en.set(Qr),en.set(Kr,Jr),Zr.setShape({segs:en})}else{this._newAdded=[];var tn=this._create();tn.incremental=!0,tn.setShape({segs:Kr}),this._setCommon(tn,Yr),tn.__startIndex=Gr.start}},Wr.prototype.remove=function(){this._clear()},Wr.prototype.eachRendered=function(Gr){this._newAdded[0]&&Gr(this._newAdded[0])},Wr.prototype._create=function(){var Gr=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(Gr),this.group.add(Gr),Gr},Wr.prototype._setCommon=function(Gr,Yr,Zr){var Kr=Yr.hostModel;Gr.setShape({polyline:Kr.get("polyline"),curveness:Kr.get(["lineStyle","curveness"])}),Gr.useStyle(Kr.getModel("lineStyle").getLineStyle()),Gr.style.strokeNoScale=!0;var Qr=Yr.getVisual("style");Qr&&Qr.stroke&&Gr.setStyle("stroke",Qr.stroke),Gr.setStyle("fill",null);var Jr=getECData(Gr);Jr.seriesIndex=Kr.seriesIndex,Gr.on("mousemove",function(en){Jr.dataIndex=null;var tn=Gr.hoverDataIdx;tn>0&&(Jr.dataIndex=tn+Gr.__startIndex)})},Wr.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},Wr}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(Wr){var Gr=Wr.coordinateSystem;if(Gr){var Yr=Wr.get("polyline"),Zr=Wr.pipelineContext.large;return{progress:function(Kr,Qr){var Jr=[];if(Zr){var en=void 0,tn=Kr.end-Kr.start;if(Yr){for(var rn=0,an=Kr.start;an<Kr.end;an++)rn+=Wr.getLineCoordsCount(an);en=new Float32Array(tn+rn*2)}else en=new Float32Array(tn*4);for(var nn=0,sn=[],an=Kr.start;an<Kr.end;an++){var ln=Wr.getLineCoords(an,Jr);Yr&&(en[nn++]=ln);for(var un=0;un<ln;un++)sn=Gr.dataToPoint(Jr[un],!1,sn),en[nn++]=sn[0],en[nn++]=sn[1]}Qr.setLayout("linesPoints",en)}else for(var an=Kr.start;an<Kr.end;an++){var cn=Qr.getItemModel(an),ln=Wr.getLineCoords(an,Jr),hn=[];if(Yr)for(var dn=0;dn<ln;dn++)hn.push(Gr.dataToPoint(Jr[dn]));else{hn[0]=Gr.dataToPoint(Jr[0]),hn[1]=Gr.dataToPoint(Jr[1]);var fn=cn.get(["lineStyle","curveness"]);+fn&&(hn[2]=[(hn[0][0]+hn[1][0])/2-(hn[0][1]-hn[1][1])*fn,(hn[0][1]+hn[1][1])/2-(hn[1][0]-hn[0][0])*fn])}Qr.setItemLayout(an,hn)}}}}}},LinesView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._updateLineDraw(Qr,Yr),en=Yr.get("zlevel"),tn=Yr.get(["effect","trailLength"]),rn=Kr.getZr(),an=rn.painter.getType()==="svg";an||rn.painter.getLayer(en).clear(!0),this._lastZlevel!=null&&!an&&rn.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(Yr)&&tn>0&&(an||rn.configLayer(en,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(tn/10+.9,1),0)})),Jr.updateData(Qr);var nn=Yr.get("clip",!0)&&createClipPath(Yr.coordinateSystem,!1,Yr);nn?this.group.setClipPath(nn):this.group.removeClipPath(),this._lastZlevel=en,this._finished=!0},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this._updateLineDraw(Qr,Yr);Jr.incrementalPrepareUpdate(Qr),this._clearLayer(Kr),this._finished=!1},Gr.prototype.incrementalRender=function(Yr,Zr,Kr){this._lineDraw.incrementalUpdate(Yr,Zr.getData()),this._finished=Yr.end===Zr.getData().count()},Gr.prototype.eachRendered=function(Yr){this._lineDraw&&this._lineDraw.eachRendered(Yr)},Gr.prototype.updateTransform=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=Yr.pipelineContext;if(!this._finished||Jr.large||Jr.progressiveRender)return{update:!0};var en=linesLayout.reset(Yr,Zr,Kr);en.progress&&en.progress({start:0,end:Qr.count(),count:Qr.count()},Qr),this._lineDraw.updateLayout(),this._clearLayer(Kr)},Gr.prototype._updateLineDraw=function(Yr,Zr){var Kr=this._lineDraw,Qr=this._showEffect(Zr),Jr=!!Zr.get("polyline"),en=Zr.pipelineContext,tn=en.large;return(!Kr||Qr!==this._hasEffet||Jr!==this._isPolyline||tn!==this._isLargeDraw)&&(Kr&&Kr.remove(),Kr=this._lineDraw=tn?new LargeLineDraw:new LineDraw(Jr?Qr?EffectPolyline:Polyline:Qr?EffectLine:Line),this._hasEffet=Qr,this._isPolyline=Jr,this._isLargeDraw=tn),this.group.add(Kr.group),Kr},Gr.prototype._showEffect=function(Yr){return!!Yr.get(["effect","show"])},Gr.prototype._clearLayer=function(Yr){var Zr=Yr.getZr(),Kr=Zr.painter.getType()==="svg";!Kr&&this._lastZlevel!=null&&Zr.painter.getLayer(this._lastZlevel).clear(!0)},Gr.prototype.remove=function(Yr,Zr){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(Zr)},Gr.prototype.dispose=function(Yr,Zr){this.remove(Yr,Zr)},Gr.type="lines",Gr}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(Wr){var Gr=Wr.data;Gr&&Gr[0]&&Gr[0][0]&&Gr[0][0].coord&&(Wr.data=map$1(Gr,function(Yr){var Zr=[Yr[0].coord,Yr[1].coord],Kr={coords:Zr};return Yr[0].name&&(Kr.fromName=Yr[0].name),Yr[1].name&&(Kr.toName=Yr[1].name),mergeAll([Kr,Yr[0],Yr[1]])}))}var LinesSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.visualStyleAccessPath="lineStyle",Yr.visualDrawType="stroke",Yr}return Gr.prototype.init=function(Yr){Yr.data=Yr.data||[],compatEc2(Yr);var Zr=this._processFlatCoordsArray(Yr.data);this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset,Zr.flatCoords&&(Yr.data=new Float32Array(Zr.count)),Wr.prototype.init.apply(this,arguments)},Gr.prototype.mergeOption=function(Yr){if(compatEc2(Yr),Yr.data){var Zr=this._processFlatCoordsArray(Yr.data);this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset,Zr.flatCoords&&(Yr.data=new Float32Array(Zr.count))}Wr.prototype.mergeOption.apply(this,arguments)},Gr.prototype.appendData=function(Yr){var Zr=this._processFlatCoordsArray(Yr.data);Zr.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,Zr.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,Zr.flatCoordsOffset)):(this._flatCoords=Zr.flatCoords,this._flatCoordsOffset=Zr.flatCoordsOffset),Yr.data=new Float32Array(Zr.count)),this.getRawData().appendData(Yr.data)},Gr.prototype._getCoordsFromItemModel=function(Yr){var Zr=this.getData().getItemModel(Yr),Kr=Zr.option instanceof Array?Zr.option:Zr.getShallow("coords");return Kr},Gr.prototype.getLineCoordsCount=function(Yr){return this._flatCoordsOffset?this._flatCoordsOffset[Yr*2+1]:this._getCoordsFromItemModel(Yr).length},Gr.prototype.getLineCoords=function(Yr,Zr){if(this._flatCoordsOffset){for(var Kr=this._flatCoordsOffset[Yr*2],Qr=this._flatCoordsOffset[Yr*2+1],Jr=0;Jr<Qr;Jr++)Zr[Jr]=Zr[Jr]||[],Zr[Jr][0]=this._flatCoords[Kr+Jr*2],Zr[Jr][1]=this._flatCoords[Kr+Jr*2+1];return Qr}else{for(var en=this._getCoordsFromItemModel(Yr),Jr=0;Jr<en.length;Jr++)Zr[Jr]=Zr[Jr]||[],Zr[Jr][0]=en[Jr][0],Zr[Jr][1]=en[Jr][1];return en.length}},Gr.prototype._processFlatCoordsArray=function(Yr){var Zr=0;if(this._flatCoords&&(Zr=this._flatCoords.length),isNumber(Yr[0])){for(var Kr=Yr.length,Qr=new Uint32Arr(Kr),Jr=new Float64Arr(Kr),en=0,tn=0,rn=0,an=0;an<Kr;){rn++;var nn=Yr[an++];Qr[tn++]=en+Zr,Qr[tn++]=nn;for(var sn=0;sn<nn;sn++){var ln=Yr[an++],un=Yr[an++];Jr[en++]=ln,Jr[en++]=un}}return{flatCoordsOffset:new Uint32Array(Qr.buffer,0,tn),flatCoords:Jr,count:rn}}return{flatCoordsOffset:null,flatCoords:null,count:Yr.length}},Gr.prototype.getInitialData=function(Yr,Zr){var Kr=new SeriesData(["value"],this);return Kr.hasItemOption=!1,Kr.initData(Yr.data,[],function(Qr,Jr,en,tn){if(Qr instanceof Array)return NaN;Kr.hasItemOption=!0;var rn=Qr.value;if(rn!=null)return rn instanceof Array?rn[tn]:rn}),Kr},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){var Qr=this.getData(),Jr=Qr.getItemModel(Yr),en=Jr.get("name");if(en)return en;var tn=Jr.get("fromName"),rn=Jr.get("toName"),an=[];return tn!=null&&an.push(tn),rn!=null&&an.push(rn),createTooltipMarkup("nameValue",{name:an.join(" > ")})},Gr.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},Gr.prototype.getProgressive=function(){var Yr=this.option.progressive;return Yr??(this.option.large?1e4:this.get("progressive"))},Gr.prototype.getProgressiveThreshold=function(){var Yr=this.option.progressiveThreshold;return Yr??(this.option.large?2e4:this.get("progressiveThreshold"))},Gr.prototype.getZLevelKey=function(){var Yr=this.getModel("effect"),Zr=Yr.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:Yr.get("show")&&Zr>0?Zr+"":""},Gr.type="series.lines",Gr.dependencies=["grid","polar","geo","calendar"],Gr.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},Gr}(SeriesModel);function normalize(Wr){return Wr instanceof Array||(Wr=[Wr,Wr]),Wr}var linesVisual={seriesType:"lines",reset:function(Wr){var Gr=normalize(Wr.get("symbol")),Yr=normalize(Wr.get("symbolSize")),Zr=Wr.getData();Zr.setVisual("fromSymbol",Gr&&Gr[0]),Zr.setVisual("toSymbol",Gr&&Gr[1]),Zr.setVisual("fromSymbolSize",Yr&&Yr[0]),Zr.setVisual("toSymbolSize",Yr&&Yr[1]);function Kr(Qr,Jr){var en=Qr.getItemModel(Jr),tn=normalize(en.getShallow("symbol",!0)),rn=normalize(en.getShallow("symbolSize",!0));tn[0]&&Qr.setItemVisual(Jr,"fromSymbol",tn[0]),tn[1]&&Qr.setItemVisual(Jr,"toSymbol",tn[1]),rn[0]&&Qr.setItemVisual(Jr,"fromSymbolSize",rn[0]),rn[1]&&Qr.setItemVisual(Jr,"toSymbolSize",rn[1])}return{dataEach:Zr.hasItemOption?Kr:null}}};function install$w(Wr){Wr.registerChartView(LinesView),Wr.registerSeriesModel(LinesSeriesModel),Wr.registerLayout(linesLayout),Wr.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function Wr(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var Gr=platformApi.createCanvas();this.canvas=Gr}return Wr.prototype.update=function(Gr,Yr,Zr,Kr,Qr,Jr){var en=this._getBrush(),tn=this._getGradient(Qr,"inRange"),rn=this._getGradient(Qr,"outOfRange"),an=this.pointSize+this.blurSize,nn=this.canvas,sn=nn.getContext("2d"),ln=Gr.length;nn.width=Yr,nn.height=Zr;for(var un=0;un<ln;++un){var cn=Gr[un],hn=cn[0],dn=cn[1],fn=cn[2],pn=Kr(fn);sn.globalAlpha=pn,sn.drawImage(en,hn-an,dn-an)}if(!nn.width||!nn.height)return nn;for(var gn=sn.getImageData(0,0,nn.width,nn.height),vn=gn.data,mn=0,yn=vn.length,xn=this.minOpacity,bn=this.maxOpacity,Sn=bn-xn;mn<yn;){var pn=vn[mn+3]/256,wn=Math.floor(pn*(GRADIENT_LEVELS-1))*4;if(pn>0){var _n=Jr(pn)?tn:rn;pn>0&&(pn=pn*Sn+xn),vn[mn++]=_n[wn],vn[mn++]=_n[wn+1],vn[mn++]=_n[wn+2],vn[mn++]=_n[wn+3]*pn*256}else mn+=4}return sn.putImageData(gn,0,0),nn},Wr.prototype._getBrush=function(){var Gr=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),Yr=this.pointSize+this.blurSize,Zr=Yr*2;Gr.width=Zr,Gr.height=Zr;var Kr=Gr.getContext("2d");return Kr.clearRect(0,0,Zr,Zr),Kr.shadowOffsetX=Zr,Kr.shadowBlur=this.blurSize,Kr.shadowColor="#000",Kr.beginPath(),Kr.arc(-Yr,Yr,this.pointSize,0,Math.PI*2,!0),Kr.closePath(),Kr.fill(),Gr},Wr.prototype._getGradient=function(Gr,Yr){for(var Zr=this._gradientPixels,Kr=Zr[Yr]||(Zr[Yr]=new Uint8ClampedArray(256*4)),Qr=[0,0,0,0],Jr=0,en=0;en<256;en++)Gr[Yr](en/255,!0,Qr),Kr[Jr++]=Qr[0],Kr[Jr++]=Qr[1],Kr[Jr++]=Qr[2],Kr[Jr++]=Qr[3];return Kr},Wr}();function getIsInPiecewiseRange(Wr,Gr,Yr){var Zr=Wr[1]-Wr[0];Gr=map$1(Gr,function(Jr){return{interval:[(Jr.interval[0]-Wr[0])/Zr,(Jr.interval[1]-Wr[0])/Zr]}});var Kr=Gr.length,Qr=0;return function(Jr){var en;for(en=Qr;en<Kr;en++){var tn=Gr[en].interval;if(tn[0]<=Jr&&Jr<=tn[1]){Qr=en;break}}if(en===Kr)for(en=Qr-1;en>=0;en--){var tn=Gr[en].interval;if(tn[0]<=Jr&&Jr<=tn[1]){Qr=en;break}}return en>=0&&en<Kr&&Yr[en]}}function getIsInContinuousRange(Wr,Gr){var Yr=Wr[1]-Wr[0];return Gr=[(Gr[0]-Wr[0])/Yr,(Gr[1]-Wr[0])/Yr],function(Zr){return Zr>=Gr[0]&&Zr<=Gr[1]}}function isGeoCoordSys(Wr){var Gr=Wr.dimensions;return Gr[0]==="lng"&&Gr[1]==="lat"}var HeatmapView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr;Zr.eachComponent("visualMap",function(en){en.eachTargetSeries(function(tn){tn===Yr&&(Qr=en)})}),this._progressiveEls=null,this.group.removeAll();var Jr=Yr.coordinateSystem;Jr.type==="cartesian2d"||Jr.type==="calendar"?this._renderOnCartesianAndCalendar(Yr,Kr,0,Yr.getData().count()):isGeoCoordSys(Jr)&&this._renderOnGeo(Jr,Yr,Qr,Kr)},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){this.group.removeAll()},Gr.prototype.incrementalRender=function(Yr,Zr,Kr,Qr){var Jr=Zr.coordinateSystem;Jr&&(isGeoCoordSys(Jr)?this.render(Zr,Kr,Qr):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(Zr,Qr,Yr.start,Yr.end,!0)))},Gr.prototype.eachRendered=function(Yr){traverseElements(this._progressiveEls||this.group,Yr)},Gr.prototype._renderOnCartesianAndCalendar=function(Yr,Zr,Kr,Qr,Jr){var en=Yr.coordinateSystem,tn=isCoordinateSystemType(en,"cartesian2d"),rn,an,nn,sn;if(tn){var ln=en.getAxis("x"),un=en.getAxis("y");rn=ln.getBandWidth()+.5,an=un.getBandWidth()+.5,nn=ln.scale.getExtent(),sn=un.scale.getExtent()}for(var cn=this.group,hn=Yr.getData(),dn=Yr.getModel(["emphasis","itemStyle"]).getItemStyle(),fn=Yr.getModel(["blur","itemStyle"]).getItemStyle(),pn=Yr.getModel(["select","itemStyle"]).getItemStyle(),gn=Yr.get(["itemStyle","borderRadius"]),vn=getLabelStatesModels(Yr),mn=Yr.getModel("emphasis"),yn=mn.get("focus"),xn=mn.get("blurScope"),bn=mn.get("disabled"),Sn=tn?[hn.mapDimension("x"),hn.mapDimension("y"),hn.mapDimension("value")]:[hn.mapDimension("time"),hn.mapDimension("value")],wn=Kr;wn<Qr;wn++){var _n=void 0,An=hn.getItemVisual(wn,"style");if(tn){var Cn=hn.get(Sn[0],wn),Tn=hn.get(Sn[1],wn);if(isNaN(hn.get(Sn[2],wn))||isNaN(Cn)||isNaN(Tn)||Cn<nn[0]||Cn>nn[1]||Tn<sn[0]||Tn>sn[1])continue;var Mn=en.dataToPoint([Cn,Tn]);_n=new Rect$2({shape:{x:Mn[0]-rn/2,y:Mn[1]-an/2,width:rn,height:an},style:An})}else{if(isNaN(hn.get(Sn[1],wn)))continue;_n=new Rect$2({z2:1,shape:en.dataToRect([hn.get(Sn[0],wn)]).contentShape,style:An})}if(hn.hasItemOption){var En=hn.getItemModel(wn),Ln=En.getModel("emphasis");dn=Ln.getModel("itemStyle").getItemStyle(),fn=En.getModel(["blur","itemStyle"]).getItemStyle(),pn=En.getModel(["select","itemStyle"]).getItemStyle(),gn=En.get(["itemStyle","borderRadius"]),yn=Ln.get("focus"),xn=Ln.get("blurScope"),bn=Ln.get("disabled"),vn=getLabelStatesModels(En)}_n.shape.r=gn;var In=Yr.getRawValue(wn),Pn="-";In&&In[2]!=null&&(Pn=In[2]+""),setLabelStyle(_n,vn,{labelFetcher:Yr,labelDataIndex:wn,defaultOpacity:An.opacity,defaultText:Pn}),_n.ensureState("emphasis").style=dn,_n.ensureState("blur").style=fn,_n.ensureState("select").style=pn,toggleHoverEmphasis(_n,yn,xn,bn),_n.incremental=Jr,Jr&&(_n.states.emphasis.hoverLayer=!0),cn.add(_n),hn.setItemGraphicEl(wn,_n),this._progressiveEls&&this._progressiveEls.push(_n)}},Gr.prototype._renderOnGeo=function(Yr,Zr,Kr,Qr){var Jr=Kr.targetVisuals.inRange,en=Kr.targetVisuals.outOfRange,tn=Zr.getData(),rn=this._hmLayer||this._hmLayer||new HeatmapLayer;rn.blurSize=Zr.get("blurSize"),rn.pointSize=Zr.get("pointSize"),rn.minOpacity=Zr.get("minOpacity"),rn.maxOpacity=Zr.get("maxOpacity");var an=Yr.getViewRect().clone(),nn=Yr.getRoamTransform();an.applyTransform(nn);var sn=Math.max(an.x,0),ln=Math.max(an.y,0),un=Math.min(an.width+an.x,Qr.getWidth()),cn=Math.min(an.height+an.y,Qr.getHeight()),hn=un-sn,dn=cn-ln,fn=[tn.mapDimension("lng"),tn.mapDimension("lat"),tn.mapDimension("value")],pn=tn.mapArray(fn,function(yn,xn,bn){var Sn=Yr.dataToPoint([yn,xn]);return Sn[0]-=sn,Sn[1]-=ln,Sn.push(bn),Sn}),gn=Kr.getExtent(),vn=Kr.type==="visualMap.continuous"?getIsInContinuousRange(gn,Kr.option.range):getIsInPiecewiseRange(gn,Kr.getPieceList(),Kr.option.selected);rn.update(pn,hn,dn,Jr.color.getNormalizer(),{inRange:Jr.color.getColorMapper(),outOfRange:en.color.getColorMapper()},vn);var mn=new ZRImage({style:{width:hn,height:dn,x:sn,y:ln,image:rn.canvas},silent:!0});this.group.add(mn)},Gr.type="heatmap",Gr}(ChartView),HeatmapSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this,{generateCoord:"value"})},Gr.prototype.preventIncremental=function(){var Yr=CoordinateSystemManager.get(this.get("coordinateSystem"));if(Yr&&Yr.dimensions)return Yr.dimensions[0]==="lng"&&Yr.dimensions[1]==="lat"},Gr.type="series.heatmap",Gr.dependencies=["grid","geo","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},Gr}(SeriesModel);function install$v(Wr){Wr.registerChartView(HeatmapView),Wr.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this.group,Jr=Yr.getData(),en=this._data,tn=Yr.coordinateSystem,rn=tn.getBaseAxis(),an=rn.isHorizontal(),nn=tn.master.getRect(),sn={ecSize:{width:Kr.getWidth(),height:Kr.getHeight()},seriesModel:Yr,coordSys:tn,coordSysExtent:[[nn.x,nn.x+nn.width],[nn.y,nn.y+nn.height]],isHorizontal:an,valueDim:LAYOUT_ATTRS[+an],categoryDim:LAYOUT_ATTRS[1-+an]};Jr.diff(en).add(function(un){if(Jr.hasValue(un)){var cn=getItemModel(Jr,un),hn=getSymbolMeta(Jr,un,cn,sn),dn=createBar(Jr,sn,hn);Jr.setItemGraphicEl(un,dn),Qr.add(dn),updateCommon(dn,sn,hn)}}).update(function(un,cn){var hn=en.getItemGraphicEl(cn);if(!Jr.hasValue(un)){Qr.remove(hn);return}var dn=getItemModel(Jr,un),fn=getSymbolMeta(Jr,un,dn,sn),pn=getShapeStr(Jr,fn);hn&&pn!==hn.__pictorialShapeStr&&(Qr.remove(hn),Jr.setItemGraphicEl(un,null),hn=null),hn?updateBar(hn,sn,fn):hn=createBar(Jr,sn,fn,!0),Jr.setItemGraphicEl(un,hn),hn.__pictorialSymbolMeta=fn,Qr.add(hn),updateCommon(hn,sn,fn)}).remove(function(un){var cn=en.getItemGraphicEl(un);cn&&removeBar(en,un,cn.__pictorialSymbolMeta.animationModel,cn)}).execute();var ln=Yr.get("clip",!0)?createClipPath(Yr.coordinateSystem,!1,Yr):null;return ln?Qr.setClipPath(ln):Qr.removeClipPath(),this._data=Jr,this.group},Gr.prototype.remove=function(Yr,Zr){var Kr=this.group,Qr=this._data;Yr.get("animation")?Qr&&Qr.eachItemGraphicEl(function(Jr){removeBar(Qr,getECData(Jr).dataIndex,Yr,Jr)}):Kr.removeAll()},Gr.type="pictorialBar",Gr}(ChartView);function getSymbolMeta(Wr,Gr,Yr,Zr){var Kr=Wr.getItemLayout(Gr),Qr=Yr.get("symbolRepeat"),Jr=Yr.get("symbolClip"),en=Yr.get("symbolPosition")||"start",tn=Yr.get("symbolRotate"),rn=(tn||0)*Math.PI/180||0,an=Yr.get("symbolPatternSize")||2,nn=Yr.isAnimationEnabled(),sn={dataIndex:Gr,layout:Kr,itemModel:Yr,symbolType:Wr.getItemVisual(Gr,"symbol")||"circle",style:Wr.getItemVisual(Gr,"style"),symbolClip:Jr,symbolRepeat:Qr,symbolRepeatDirection:Yr.get("symbolRepeatDirection"),symbolPatternSize:an,rotation:rn,animationModel:nn?Yr:null,hoverScale:nn&&Yr.get(["emphasis","scale"]),z2:Yr.getShallow("z",!0)||0};prepareBarLength(Yr,Qr,Kr,Zr,sn),prepareSymbolSize(Wr,Gr,Kr,Qr,Jr,sn.boundingLength,sn.pxSign,an,Zr,sn),prepareLineWidth(Yr,sn.symbolScale,rn,Zr,sn);var ln=sn.symbolSize,un=normalizeSymbolOffset(Yr.get("symbolOffset"),ln);return prepareLayoutInfo(Yr,ln,Kr,Qr,Jr,un,en,sn.valueLineWidth,sn.boundingLength,sn.repeatCutLength,Zr,sn),sn}function prepareBarLength(Wr,Gr,Yr,Zr,Kr){var Qr=Zr.valueDim,Jr=Wr.get("symbolBoundingData"),en=Zr.coordSys.getOtherAxis(Zr.coordSys.getBaseAxis()),tn=en.toGlobalCoord(en.dataToCoord(0)),rn=1-+(Yr[Qr.wh]<=0),an;if(isArray$1(Jr)){var nn=[convertToCoordOnAxis(en,Jr[0])-tn,convertToCoordOnAxis(en,Jr[1])-tn];nn[1]<nn[0]&&nn.reverse(),an=nn[rn]}else Jr!=null?an=convertToCoordOnAxis(en,Jr)-tn:Gr?an=Zr.coordSysExtent[Qr.index][rn]-tn:an=Yr[Qr.wh];Kr.boundingLength=an,Gr&&(Kr.repeatCutLength=Yr[Qr.wh]);var sn=Qr.xy==="x",ln=en.inverse;Kr.pxSign=sn&&!ln||!sn&&ln?an>=0?1:-1:an>0?1:-1}function convertToCoordOnAxis(Wr,Gr){return Wr.toGlobalCoord(Wr.dataToCoord(Wr.scale.parse(Gr)))}function prepareSymbolSize(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){var an=tn.valueDim,nn=tn.categoryDim,sn=Math.abs(Yr[nn.wh]),ln=Wr.getItemVisual(Gr,"symbolSize"),un;isArray$1(ln)?un=ln.slice():ln==null?un=["100%","100%"]:un=[ln,ln],un[nn.index]=parsePercent(un[nn.index],sn),un[an.index]=parsePercent(un[an.index],Zr?sn:Math.abs(Qr)),rn.symbolSize=un;var cn=rn.symbolScale=[un[0]/en,un[1]/en];cn[an.index]*=(tn.isHorizontal?-1:1)*Jr}function prepareLineWidth(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.get(BAR_BORDER_WIDTH_QUERY)||0;Qr&&(pathForLineWidth.attr({scaleX:Gr[0],scaleY:Gr[1],rotation:Yr}),pathForLineWidth.updateTransform(),Qr/=pathForLineWidth.getLineScale(),Qr*=Gr[Zr.valueDim.index]),Kr.valueLineWidth=Qr||0}function prepareLayoutInfo(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn,an,nn){var sn=an.categoryDim,ln=an.valueDim,un=nn.pxSign,cn=Math.max(Gr[ln.index]+en,0),hn=cn;if(Zr){var dn=Math.abs(tn),fn=retrieve(Wr.get("symbolMargin"),"15%")+"",pn=!1;fn.lastIndexOf("!")===fn.length-1&&(pn=!0,fn=fn.slice(0,fn.length-1));var gn=parsePercent(fn,Gr[ln.index]),vn=Math.max(cn+gn*2,0),mn=pn?0:gn*2,yn=isNumeric(Zr),xn=yn?Zr:toIntTimes((dn+mn)/vn),bn=dn-xn*cn;gn=bn/2/(pn?xn:Math.max(xn-1,1)),vn=cn+gn*2,mn=pn?0:gn*2,!yn&&Zr!=="fixed"&&(xn=rn?toIntTimes((Math.abs(rn)+mn)/vn):0),hn=xn*vn-mn,nn.repeatTimes=xn,nn.symbolMargin=gn}var Sn=un*(hn/2),wn=nn.pathPosition=[];wn[sn.index]=Yr[sn.wh]/2,wn[ln.index]=Jr==="start"?Sn:Jr==="end"?tn-Sn:tn/2,Qr&&(wn[0]+=Qr[0],wn[1]+=Qr[1]);var _n=nn.bundlePosition=[];_n[sn.index]=Yr[sn.xy],_n[ln.index]=Yr[ln.xy];var An=nn.barRectShape=extend({},Yr);An[ln.wh]=un*Math.max(Math.abs(Yr[ln.wh]),Math.abs(wn[ln.index]+Sn)),An[sn.wh]=Yr[sn.wh];var Cn=nn.clipShape={};Cn[sn.xy]=-Yr[sn.xy],Cn[sn.wh]=an.ecSize[sn.wh],Cn[ln.xy]=0,Cn[ln.wh]=Yr[ln.wh]}function createPath(Wr){var Gr=Wr.symbolPatternSize,Yr=createSymbol$1(Wr.symbolType,-Gr/2,-Gr/2,Gr,Gr);return Yr.attr({culling:!0}),Yr.type!=="image"&&Yr.setStyle({strokeNoScale:!0}),Yr}function createOrUpdateRepeatSymbols(Wr,Gr,Yr,Zr){var Kr=Wr.__pictorialBundle,Qr=Yr.symbolSize,Jr=Yr.valueLineWidth,en=Yr.pathPosition,tn=Gr.valueDim,rn=Yr.repeatTimes||0,an=0,nn=Qr[Gr.valueDim.index]+Jr+Yr.symbolMargin*2;for(eachPath(Wr,function(cn){cn.__pictorialAnimationIndex=an,cn.__pictorialRepeatTimes=rn,an<rn?updateAttr(cn,null,un(an),Yr,Zr):updateAttr(cn,null,{scaleX:0,scaleY:0},Yr,Zr,function(){Kr.remove(cn)}),an++});an<rn;an++){var sn=createPath(Yr);sn.__pictorialAnimationIndex=an,sn.__pictorialRepeatTimes=rn,Kr.add(sn);var ln=un(an);updateAttr(sn,{x:ln.x,y:ln.y,scaleX:0,scaleY:0},{scaleX:ln.scaleX,scaleY:ln.scaleY,rotation:ln.rotation},Yr,Zr)}function un(cn){var hn=en.slice(),dn=Yr.pxSign,fn=cn;return(Yr.symbolRepeatDirection==="start"?dn>0:dn<0)&&(fn=rn-1-cn),hn[tn.index]=nn*(fn-rn/2+.5)+en[tn.index],{x:hn[0],y:hn[1],scaleX:Yr.symbolScale[0],scaleY:Yr.symbolScale[1],rotation:Yr.rotation}}}function createOrUpdateSingleSymbol(Wr,Gr,Yr,Zr){var Kr=Wr.__pictorialBundle,Qr=Wr.__pictorialMainPath;Qr?updateAttr(Qr,null,{x:Yr.pathPosition[0],y:Yr.pathPosition[1],scaleX:Yr.symbolScale[0],scaleY:Yr.symbolScale[1],rotation:Yr.rotation},Yr,Zr):(Qr=Wr.__pictorialMainPath=createPath(Yr),Kr.add(Qr),updateAttr(Qr,{x:Yr.pathPosition[0],y:Yr.pathPosition[1],scaleX:0,scaleY:0,rotation:Yr.rotation},{scaleX:Yr.symbolScale[0],scaleY:Yr.symbolScale[1]},Yr,Zr))}function createOrUpdateBarRect(Wr,Gr,Yr){var Zr=extend({},Gr.barRectShape),Kr=Wr.__pictorialBarRect;Kr?updateAttr(Kr,null,{shape:Zr},Gr,Yr):(Kr=Wr.__pictorialBarRect=new Rect$2({z2:2,shape:Zr,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Kr.disableMorphing=!0,Wr.add(Kr))}function createOrUpdateClip(Wr,Gr,Yr,Zr){if(Yr.symbolClip){var Kr=Wr.__pictorialClipPath,Qr=extend({},Yr.clipShape),Jr=Gr.valueDim,en=Yr.animationModel,tn=Yr.dataIndex;if(Kr)updateProps$1(Kr,{shape:Qr},en,tn);else{Qr[Jr.wh]=0,Kr=new Rect$2({shape:Qr}),Wr.__pictorialBundle.setClipPath(Kr),Wr.__pictorialClipPath=Kr;var rn={};rn[Jr.wh]=Yr.clipShape[Jr.wh],graphic[Zr?"updateProps":"initProps"](Kr,{shape:rn},en,tn)}}}function getItemModel(Wr,Gr){var Yr=Wr.getItemModel(Gr);return Yr.getAnimationDelayParams=getAnimationDelayParams,Yr.isAnimationEnabled=isAnimationEnabled,Yr}function getAnimationDelayParams(Wr){return{index:Wr.__pictorialAnimationIndex,count:Wr.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(Wr,Gr,Yr,Zr){var Kr=new Group$3,Qr=new Group$3;return Kr.add(Qr),Kr.__pictorialBundle=Qr,Qr.x=Yr.bundlePosition[0],Qr.y=Yr.bundlePosition[1],Yr.symbolRepeat?createOrUpdateRepeatSymbols(Kr,Gr,Yr):createOrUpdateSingleSymbol(Kr,Gr,Yr),createOrUpdateBarRect(Kr,Yr,Zr),createOrUpdateClip(Kr,Gr,Yr,Zr),Kr.__pictorialShapeStr=getShapeStr(Wr,Yr),Kr.__pictorialSymbolMeta=Yr,Kr}function updateBar(Wr,Gr,Yr){var Zr=Yr.animationModel,Kr=Yr.dataIndex,Qr=Wr.__pictorialBundle;updateProps$1(Qr,{x:Yr.bundlePosition[0],y:Yr.bundlePosition[1]},Zr,Kr),Yr.symbolRepeat?createOrUpdateRepeatSymbols(Wr,Gr,Yr,!0):createOrUpdateSingleSymbol(Wr,Gr,Yr,!0),createOrUpdateBarRect(Wr,Yr,!0),createOrUpdateClip(Wr,Gr,Yr,!0)}function removeBar(Wr,Gr,Yr,Zr){var Kr=Zr.__pictorialBarRect;Kr&&Kr.removeTextContent();var Qr=[];eachPath(Zr,function(Jr){Qr.push(Jr)}),Zr.__pictorialMainPath&&Qr.push(Zr.__pictorialMainPath),Zr.__pictorialClipPath&&(Yr=null),each$f(Qr,function(Jr){removeElement(Jr,{scaleX:0,scaleY:0},Yr,Gr,function(){Zr.parent&&Zr.parent.remove(Zr)})}),Wr.setItemGraphicEl(Gr,null)}function getShapeStr(Wr,Gr){return[Wr.getItemVisual(Gr.dataIndex,"symbol")||"none",!!Gr.symbolRepeat,!!Gr.symbolClip].join(":")}function eachPath(Wr,Gr,Yr){each$f(Wr.__pictorialBundle.children(),function(Zr){Zr!==Wr.__pictorialBarRect&&Gr.call(Yr,Zr)})}function updateAttr(Wr,Gr,Yr,Zr,Kr,Qr){Gr&&Wr.attr(Gr),Zr.symbolClip&&!Kr?Yr&&Wr.attr(Yr):Yr&&graphic[Kr?"updateProps":"initProps"](Wr,Yr,Zr.animationModel,Zr.dataIndex,Qr)}function updateCommon(Wr,Gr,Yr){var Zr=Yr.dataIndex,Kr=Yr.itemModel,Qr=Kr.getModel("emphasis"),Jr=Qr.getModel("itemStyle").getItemStyle(),en=Kr.getModel(["blur","itemStyle"]).getItemStyle(),tn=Kr.getModel(["select","itemStyle"]).getItemStyle(),rn=Kr.getShallow("cursor"),an=Qr.get("focus"),nn=Qr.get("blurScope"),sn=Qr.get("scale");eachPath(Wr,function(cn){if(cn instanceof ZRImage){var hn=cn.style;cn.useStyle(extend({image:hn.image,x:hn.x,y:hn.y,width:hn.width,height:hn.height},Yr.style))}else cn.useStyle(Yr.style);var dn=cn.ensureState("emphasis");dn.style=Jr,sn&&(dn.scaleX=cn.scaleX*1.1,dn.scaleY=cn.scaleY*1.1),cn.ensureState("blur").style=en,cn.ensureState("select").style=tn,rn&&(cn.cursor=rn),cn.z2=Yr.z2});var ln=Gr.valueDim.posDesc[+(Yr.boundingLength>0)],un=Wr.__pictorialBarRect;un.ignoreClip=!0,setLabelStyle(un,getLabelStatesModels(Kr),{labelFetcher:Gr.seriesModel,labelDataIndex:Zr,defaultText:getDefaultLabel(Gr.seriesModel.getData(),Zr),inheritColor:Yr.style.fill,defaultOpacity:Yr.style.opacity,defaultOutsidePosition:ln}),toggleHoverEmphasis(Wr,an,nn,Qr.get("disabled"))}function toIntTimes(Wr){var Gr=Math.round(Wr);return Math.abs(Wr-Gr)<1e-4?Gr:Math.ceil(Wr)}var PictorialBarSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.hasSymbolVisual=!0,Yr.defaultSymbol="roundRect",Yr}return Gr.prototype.getInitialData=function(Yr){return Yr.stack=null,Wr.prototype.getInitialData.apply(this,arguments)},Gr.type="series.pictorialBar",Gr.dependencies=["grid"],Gr.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),Gr}(BaseBarSeriesModel);function install$u(Wr){Wr.registerChartView(PictorialBarView),Wr.registerSeriesModel(PictorialBarSeriesModel),Wr.registerLayout(Wr.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),Wr.registerLayout(Wr.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._layers=[],Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Yr.getData(),Jr=this,en=this.group,tn=Yr.getLayerSeries(),rn=Qr.getLayout("layoutInfo"),an=rn.rect,nn=rn.boundaryGap;en.x=0,en.y=an.y+nn[0];function sn(hn){return hn.name}var ln=new DataDiffer(this._layersSeries||[],tn,sn,sn),un=[];ln.add(bind$1(cn,this,"add")).update(bind$1(cn,this,"update")).remove(bind$1(cn,this,"remove")).execute();function cn(hn,dn,fn){var pn=Jr._layers;if(hn==="remove"){en.remove(pn[dn]);return}for(var gn=[],vn=[],mn,yn=tn[dn].indices,xn=0;xn<yn.length;xn++){var bn=Qr.getItemLayout(yn[xn]),Sn=bn.x,wn=bn.y0,_n=bn.y;gn.push(Sn,wn),vn.push(Sn,wn+_n),mn=Qr.getItemVisual(yn[xn],"style")}var An,Cn=Qr.getItemLayout(yn[0]),Tn=Yr.getModel("label"),Mn=Tn.get("margin"),En=Yr.getModel("emphasis");if(hn==="add"){var Ln=un[dn]=new Group$3;An=new ECPolygon({shape:{points:gn,stackedOnPoints:vn,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Ln.add(An),en.add(Ln),Yr.isAnimationEnabled()&&An.setClipPath(createGridClipShape(An.getBoundingRect(),Yr,function(){An.removeClipPath()}))}else{var Ln=pn[fn];An=Ln.childAt(0),en.add(Ln),un[dn]=Ln,updateProps$1(An,{shape:{points:gn,stackedOnPoints:vn}},Yr),saveOldStyle(An)}setLabelStyle(An,getLabelStatesModels(Yr),{labelDataIndex:yn[xn-1],defaultText:Qr.getName(yn[xn-1]),inheritColor:mn.fill},{normal:{verticalAlign:"middle"}}),An.setTextConfig({position:null,local:!0});var In=An.getTextContent();In&&(In.x=Cn.x-Mn,In.y=Cn.y0+Cn.y/2),An.useStyle(mn),Qr.setItemGraphicEl(dn,An),setStatesStylesFromModel(An,Yr),toggleHoverEmphasis(An,En.get("focus"),En.get("blurScope"),En.get("disabled"))}this._layersSeries=tn,this._layers=un},Gr.type="themeRiver",Gr}(ChartView);function createGridClipShape(Wr,Gr,Yr){var Zr=new Rect$2({shape:{x:Wr.x-10,y:Wr.y-10,width:0,height:Wr.height+20}});return initProps(Zr,{shape:{x:Wr.x-50,width:Wr.width+100,height:Wr.height+20}},Gr,Yr),Zr}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr){Wr.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},Gr.prototype.fixData=function(Yr){var Zr=Yr.length,Kr={},Qr=groupData(Yr,function(sn){return Kr.hasOwnProperty(sn[0]+"")||(Kr[sn[0]+""]=-1),sn[2]}),Jr=[];Qr.buckets.each(function(sn,ln){Jr.push({name:ln,dataList:sn})});for(var en=Jr.length,tn=0;tn<en;++tn){for(var rn=Jr[tn].name,an=0;an<Jr[tn].dataList.length;++an){var nn=Jr[tn].dataList[an][0]+"";Kr[nn]=tn}for(var nn in Kr)Kr.hasOwnProperty(nn)&&Kr[nn]!==tn&&(Kr[nn]=tn,Yr[Zr]=[nn,0,rn],Zr++)}return Yr},Gr.prototype.getInitialData=function(Yr,Zr){for(var Kr=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],Qr=Kr.get("type"),Jr=filter(Yr.data,function(un){return un[2]!==void 0}),en=this.fixData(Jr||[]),tn=[],rn=this.nameMap=createHashMap(),an=0,nn=0;nn<en.length;++nn)tn.push(en[nn][DATA_NAME_INDEX]),rn.get(en[nn][DATA_NAME_INDEX])||(rn.set(en[nn][DATA_NAME_INDEX],an),an++);var sn=prepareSeriesDataSchema(en,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(Qr)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,ln=new SeriesData(sn,this);return ln.initData(en),ln},Gr.prototype.getLayerSeries=function(){for(var Yr=this.getData(),Zr=Yr.count(),Kr=[],Qr=0;Qr<Zr;++Qr)Kr[Qr]=Qr;var Jr=Yr.mapDimension("single"),en=groupData(Kr,function(rn){return Yr.get("name",rn)}),tn=[];return en.buckets.each(function(rn,an){rn.sort(function(nn,sn){return Yr.get(Jr,nn)-Yr.get(Jr,sn)}),tn.push({name:an,indices:rn})}),tn},Gr.prototype.getAxisTooltipData=function(Yr,Zr,Kr){isArray$1(Yr)||(Yr=Yr?[Yr]:[]);for(var Qr=this.getData(),Jr=this.getLayerSeries(),en=[],tn=Jr.length,rn,an=0;an<tn;++an){for(var nn=Number.MAX_VALUE,sn=-1,ln=Jr[an].indices.length,un=0;un<ln;++un){var cn=Qr.get(Yr[0],Jr[an].indices[un]),hn=Math.abs(cn-Zr);hn<=nn&&(rn=cn,nn=hn,sn=Jr[an].indices[un])}en.push(sn)}return{dataIndices:en,nestestValue:rn}},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){var Qr=this.getData(),Jr=Qr.getName(Yr),en=Qr.get(Qr.mapDimension("value"),Yr);return createTooltipMarkup("nameValue",{name:Jr,value:en})},Gr.type="series.themeRiver",Gr.dependencies=["singleAxis"],Gr.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},Gr}(SeriesModel);function themeRiverLayout(Wr,Gr){Wr.eachSeriesByType("themeRiver",function(Yr){var Zr=Yr.getData(),Kr=Yr.coordinateSystem,Qr={},Jr=Kr.getRect();Qr.rect=Jr;var en=Yr.get("boundaryGap"),tn=Kr.getAxis();if(Qr.boundaryGap=en,tn.orient==="horizontal"){en[0]=parsePercent(en[0],Jr.height),en[1]=parsePercent(en[1],Jr.height);var rn=Jr.height-en[0]-en[1];doThemeRiverLayout(Zr,Yr,rn)}else{en[0]=parsePercent(en[0],Jr.width),en[1]=parsePercent(en[1],Jr.width);var an=Jr.width-en[0]-en[1];doThemeRiverLayout(Zr,Yr,an)}Zr.setLayout("layoutInfo",Qr)})}function doThemeRiverLayout(Wr,Gr,Yr){if(Wr.count())for(var Zr=Gr.coordinateSystem,Kr=Gr.getLayerSeries(),Qr=Wr.mapDimension("single"),Jr=Wr.mapDimension("value"),en=map$1(Kr,function(hn){return map$1(hn.indices,function(dn){var fn=Zr.dataToPoint(Wr.get(Qr,dn));return fn[1]=Wr.get(Jr,dn),fn})}),tn=computeBaseline(en),rn=tn.y0,an=Yr/tn.max,nn=Kr.length,sn=Kr[0].indices.length,ln,un=0;un<sn;++un){ln=rn[un]*an,Wr.setItemLayout(Kr[0].indices[un],{layerIndex:0,x:en[0][un][0],y0:ln,y:en[0][un][1]*an});for(var cn=1;cn<nn;++cn)ln+=en[cn-1][un][1]*an,Wr.setItemLayout(Kr[cn].indices[un],{layerIndex:cn,x:en[cn][un][0],y0:ln,y:en[cn][un][1]*an})}}function computeBaseline(Wr){for(var Gr=Wr.length,Yr=Wr[0].length,Zr=[],Kr=[],Qr=0,Jr=0;Jr<Yr;++Jr){for(var en=0,tn=0;tn<Gr;++tn)en+=Wr[tn][Jr][1];en>Qr&&(Qr=en),Zr.push(en)}for(var rn=0;rn<Yr;++rn)Kr[rn]=(Qr-Zr[rn])/2;Qr=0;for(var an=0;an<Yr;++an){var nn=Zr[an]+Kr[an];nn>Qr&&(Qr=nn)}return{y0:Kr,max:Qr}}function install$t(Wr){Wr.registerChartView(ThemeRiverView),Wr.registerSeriesModel(ThemeRiverSeriesModel),Wr.registerLayout(themeRiverLayout),Wr.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr){var Jr=Wr.call(this)||this;Jr.z2=DEFAULT_SECTOR_Z,Jr.textConfig={inside:!0},getECData(Jr).seriesIndex=Zr.seriesIndex;var en=new ZRText({z2:DEFAULT_TEXT_Z,silent:Yr.getModel().get(["label","silent"])});return Jr.setTextContent(en),Jr.updateData(!0,Yr,Zr,Kr,Qr),Jr}return Gr.prototype.updateData=function(Yr,Zr,Kr,Qr,Jr){this.node=Zr,Zr.piece=this,Kr=Kr||this._seriesModel,Qr=Qr||this._ecModel;var en=this;getECData(en).dataIndex=Zr.dataIndex;var tn=Zr.getModel(),rn=tn.getModel("emphasis"),an=Zr.getLayout(),nn=extend({},an);nn.label=null;var sn=Zr.getVisual("style");sn.lineJoin="bevel";var ln=Zr.getVisual("decal");ln&&(sn.decal=createOrUpdatePatternFromDecal(ln,Jr));var un=getSectorCornerRadius(tn.getModel("itemStyle"),nn,!0);extend(nn,un),each$f(SPECIAL_STATES,function(fn){var pn=en.ensureState(fn),gn=tn.getModel([fn,"itemStyle"]);pn.style=gn.getItemStyle();var vn=getSectorCornerRadius(gn,nn);vn&&(pn.shape=vn)}),Yr?(en.setShape(nn),en.shape.r=an.r0,initProps(en,{shape:{r:an.r}},Kr,Zr.dataIndex)):(updateProps$1(en,{shape:nn},Kr),saveOldStyle(en)),en.useStyle(sn),this._updateLabel(Kr);var cn=tn.getShallow("cursor");cn&&en.attr("cursor",cn),this._seriesModel=Kr||this._seriesModel,this._ecModel=Qr||this._ecModel;var hn=rn.get("focus"),dn=hn==="relative"?concatArray(Zr.getAncestorsIndices(),Zr.getDescendantIndices()):hn==="ancestor"?Zr.getAncestorsIndices():hn==="descendant"?Zr.getDescendantIndices():hn;toggleHoverEmphasis(this,dn,rn.get("blurScope"),rn.get("disabled"))},Gr.prototype._updateLabel=function(Yr){var Zr=this,Kr=this.node.getModel(),Qr=Kr.getModel("label"),Jr=this.node.getLayout(),en=Jr.endAngle-Jr.startAngle,tn=(Jr.startAngle+Jr.endAngle)/2,rn=Math.cos(tn),an=Math.sin(tn),nn=this,sn=nn.getTextContent(),ln=this.node.dataIndex,un=Qr.get("minAngle")/180*Math.PI,cn=Qr.get("show")&&!(un!=null&&Math.abs(en)<un);sn.ignore=!cn,each$f(DISPLAY_STATES,function(dn){var fn=dn==="normal"?Kr.getModel("label"):Kr.getModel([dn,"label"]),pn=dn==="normal",gn=pn?sn:sn.ensureState(dn),vn=Yr.getFormattedLabel(ln,dn);pn&&(vn=vn||Zr.node.name),gn.style=createTextStyle(fn,{},null,dn!=="normal",!0),vn&&(gn.style.text=vn);var mn=fn.get("show");mn!=null&&!pn&&(gn.ignore=!mn);var yn=hn(fn,"position"),xn=pn?nn:nn.states[dn],bn=xn.style.fill;xn.textConfig={outsideFill:fn.get("color")==="inherit"?bn:null,inside:yn!=="outside"};var Sn,wn=hn(fn,"distance")||0,_n=hn(fn,"align"),An=hn(fn,"rotate"),Cn=Math.PI*.5,Tn=Math.PI*1.5,Mn=normalizeRadian(An==="tangential"?Math.PI/2-tn:tn),En=Mn>Cn&&!isRadianAroundZero(Mn-Cn)&&Mn<Tn;yn==="outside"?(Sn=Jr.r+wn,_n=En?"right":"left"):!_n||_n==="center"?(en===2*Math.PI&&Jr.r0===0?Sn=0:Sn=(Jr.r+Jr.r0)/2,_n="center"):_n==="left"?(Sn=Jr.r0+wn,_n=En?"right":"left"):_n==="right"&&(Sn=Jr.r-wn,_n=En?"left":"right"),gn.style.align=_n,gn.style.verticalAlign=hn(fn,"verticalAlign")||"middle",gn.x=Sn*rn+Jr.cx,gn.y=Sn*an+Jr.cy;var Ln=0;An==="radial"?Ln=normalizeRadian(-tn)+(En?Math.PI:0):An==="tangential"?Ln=normalizeRadian(Math.PI/2-tn)+(En?Math.PI:0):isNumber(An)&&(Ln=An*Math.PI/180),gn.rotation=normalizeRadian(Ln)});function hn(dn,fn){var pn=dn.get(fn);return pn??Qr.get(fn)}sn.dirtyStyle()},Gr}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(Wr){Wr.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(Gr,Yr){Yr.eachComponent({mainType:"series",subType:"sunburst",query:Gr},Zr);function Zr(Kr,Qr){var Jr=retrieveTargetInfo(Gr,[ROOT_TO_NODE_ACTION],Kr);if(Jr){var en=Kr.getViewRoot();en&&(Gr.direction=aboveViewRoot(en,Jr.node)?"rollUp":"drillDown"),Kr.resetViewRoot(Jr.node)}}}),Wr.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(Gr,Yr,Zr){Gr=extend({},Gr),Yr.eachComponent({mainType:"series",subType:"sunburst",query:Gr},Kr);function Kr(Qr){var Jr=retrieveTargetInfo(Gr,[HIGHLIGHT_ACTION],Qr);Jr&&(Gr.dataIndex=Jr.node.dataIndex)}Zr.dispatchAction(extend(Gr,{type:"highlight"}))}),Wr.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(Gr,Yr,Zr){Gr=extend({},Gr),Zr.dispatchAction(extend(Gr,{type:"downplay"}))})}var SunburstView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){var Jr=this;this.seriesModel=Yr,this.api=Kr,this.ecModel=Zr;var en=Yr.getData(),tn=en.tree.root,rn=Yr.getViewRoot(),an=this.group,nn=Yr.get("renderLabelForZeroData"),sn=[];rn.eachNode(function(fn){sn.push(fn)});var ln=this._oldChildren||[];un(sn,ln),dn(tn,rn),this._initEvents(),this._oldChildren=sn;function un(fn,pn){if(fn.length===0&&pn.length===0)return;new DataDiffer(pn,fn,gn,gn).add(vn).update(vn).remove(curry$1(vn,null)).execute();function gn(mn){return mn.getId()}function vn(mn,yn){var xn=mn==null?null:fn[mn],bn=yn==null?null:pn[yn];cn(xn,bn)}}function cn(fn,pn){if(!nn&&fn&&!fn.getValue()&&(fn=null),fn!==tn&&pn!==tn){if(pn&&pn.piece)fn?(pn.piece.updateData(!1,fn,Yr,Zr,Kr),en.setItemGraphicEl(fn.dataIndex,pn.piece)):hn(pn);else if(fn){var gn=new SunburstPiece(fn,Yr,Zr,Kr);an.add(gn),en.setItemGraphicEl(fn.dataIndex,gn)}}}function hn(fn){fn&&fn.piece&&(an.remove(fn.piece),fn.piece=null)}function dn(fn,pn){pn.depth>0?(Jr.virtualPiece?Jr.virtualPiece.updateData(!1,fn,Yr,Zr,Kr):(Jr.virtualPiece=new SunburstPiece(fn,Yr,Zr,Kr),an.add(Jr.virtualPiece)),pn.piece.off("click"),Jr.virtualPiece.on("click",function(gn){Jr._rootToNode(pn.parentNode)})):Jr.virtualPiece&&(an.remove(Jr.virtualPiece),Jr.virtualPiece=null)}},Gr.prototype._initEvents=function(){var Yr=this;this.group.off("click"),this.group.on("click",function(Zr){var Kr=!1,Qr=Yr.seriesModel.getViewRoot();Qr.eachNode(function(Jr){if(!Kr&&Jr.piece&&Jr.piece===Zr.target){var en=Jr.getModel().get("nodeClick");if(en==="rootToNode")Yr._rootToNode(Jr);else if(en==="link"){var tn=Jr.getModel(),rn=tn.get("link");if(rn){var an=tn.get("target",!0)||"_blank";windowOpen(rn,an)}}Kr=!0}})})},Gr.prototype._rootToNode=function(Yr){Yr!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:Yr})},Gr.prototype.containPoint=function(Yr,Zr){var Kr=Zr.getData(),Qr=Kr.getItemLayout(0);if(Qr){var Jr=Yr[0]-Qr.cx,en=Yr[1]-Qr.cy,tn=Math.sqrt(Jr*Jr+en*en);return tn<=Qr.r&&tn>=Qr.r0}},Gr.type="sunburst",Gr}(ChartView),SunburstSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.ignoreStyleOnData=!0,Yr}return Gr.prototype.getInitialData=function(Yr,Zr){var Kr={name:Yr.name,children:Yr.data};completeTreeValue(Kr);var Qr=this._levelModels=map$1(Yr.levels||[],function(tn){return new Model(tn,this,Zr)},this),Jr=Tree.createTree(Kr,this,en);function en(tn){tn.wrapMethod("getItemModel",function(rn,an){var nn=Jr.getNodeByDataIndex(an),sn=Qr[nn.depth];return sn&&(rn.parentModel=sn),rn})}return Jr.data},Gr.prototype.optionUpdated=function(){this.resetViewRoot()},Gr.prototype.getDataParams=function(Yr){var Zr=Wr.prototype.getDataParams.apply(this,arguments),Kr=this.getData().tree.getNodeByDataIndex(Yr);return Zr.treePathInfo=wrapTreePathInfo(Kr,this),Zr},Gr.prototype.getLevelModel=function(Yr){return this._levelModels&&this._levelModels[Yr.depth]},Gr.prototype.getViewRoot=function(){return this._viewRoot},Gr.prototype.resetViewRoot=function(Yr){Yr?this._viewRoot=Yr:Yr=this._viewRoot;var Zr=this.getRawData().tree.root;(!Yr||Yr!==Zr&&!Zr.contains(Yr))&&(this._viewRoot=Zr)},Gr.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},Gr.type="series.sunburst",Gr.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},Gr}(SeriesModel);function completeTreeValue(Wr){var Gr=0;each$f(Wr.children,function(Zr){completeTreeValue(Zr);var Kr=Zr.value;isArray$1(Kr)&&(Kr=Kr[0]),Gr+=Kr});var Yr=Wr.value;isArray$1(Yr)&&(Yr=Yr[0]),(Yr==null||isNaN(Yr))&&(Yr=Gr),Yr<0&&(Yr=0),isArray$1(Wr.value)?Wr.value[0]=Yr:Wr.value=Yr}var RADIAN=Math.PI/180;function sunburstLayout(Wr,Gr,Yr){Gr.eachSeriesByType(Wr,function(Zr){var Kr=Zr.get("center"),Qr=Zr.get("radius");isArray$1(Qr)||(Qr=[0,Qr]),isArray$1(Kr)||(Kr=[Kr,Kr]);var Jr=Yr.getWidth(),en=Yr.getHeight(),tn=Math.min(Jr,en),rn=parsePercent(Kr[0],Jr),an=parsePercent(Kr[1],en),nn=parsePercent(Qr[0],tn/2),sn=parsePercent(Qr[1],tn/2),ln=-Zr.get("startAngle")*RADIAN,un=Zr.get("minAngle")*RADIAN,cn=Zr.getData().tree.root,hn=Zr.getViewRoot(),dn=hn.depth,fn=Zr.get("sort");fn!=null&&initChildren(hn,fn);var pn=0;each$f(hn.children,function(Mn){!isNaN(Mn.getValue())&&pn++});var gn=hn.getValue(),vn=Math.PI/(gn||pn)*2,mn=hn.depth>0,yn=hn.height-(mn?-1:1),xn=(sn-nn)/(yn||1),bn=Zr.get("clockwise"),Sn=Zr.get("stillShowZeroSum"),wn=bn?1:-1,_n=function(Mn,En){if(Mn){var Ln=En;if(Mn!==cn){var In=Mn.getValue(),Pn=gn===0&&Sn?vn:In*vn;Pn<un&&(Pn=un),Ln=En+wn*Pn;var Dn=Mn.depth-dn-(mn?-1:1),kn=nn+xn*Dn,Nn=nn+xn*(Dn+1),Rn=Zr.getLevelModel(Mn);if(Rn){var Fn=Rn.get("r0",!0),Hn=Rn.get("r",!0),Gn=Rn.get("radius",!0);Gn!=null&&(Fn=Gn[0],Hn=Gn[1]),Fn!=null&&(kn=parsePercent(Fn,tn/2)),Hn!=null&&(Nn=parsePercent(Hn,tn/2))}Mn.setLayout({angle:Pn,startAngle:En,endAngle:Ln,clockwise:bn,cx:rn,cy:an,r0:kn,r:Nn})}if(Mn.children&&Mn.children.length){var zn=0;each$f(Mn.children,function(On){zn+=_n(On,En+zn)})}return Ln-En}};if(mn){var An=nn,Cn=nn+xn,Tn=Math.PI*2;cn.setLayout({angle:Tn,startAngle:ln,endAngle:ln+Tn,clockwise:bn,cx:rn,cy:an,r0:An,r:Cn})}_n(hn,ln)})}function initChildren(Wr,Gr){var Yr=Wr.children||[];Wr.children=sort(Yr,Gr),Yr.length&&each$f(Wr.children,function(Zr){initChildren(Zr,Gr)})}function sort(Wr,Gr){if(isFunction(Gr)){var Yr=map$1(Wr,function(Kr,Qr){var Jr=Kr.getValue();return{params:{depth:Kr.depth,height:Kr.height,dataIndex:Kr.dataIndex,getValue:function(){return Jr}},index:Qr}});return Yr.sort(function(Kr,Qr){return Gr(Kr.params,Qr.params)}),map$1(Yr,function(Kr){return Wr[Kr.index]})}else{var Zr=Gr==="asc";return Wr.sort(function(Kr,Qr){var Jr=(Kr.getValue()-Qr.getValue())*(Zr?1:-1);return Jr===0?(Kr.dataIndex-Qr.dataIndex)*(Zr?-1:1):Jr})}}function sunburstVisual(Wr){var Gr={};function Yr(Zr,Kr,Qr){for(var Jr=Zr;Jr&&Jr.depth>1;)Jr=Jr.parentNode;var en=Kr.getColorFromPalette(Jr.name||Jr.dataIndex+"",Gr);return Zr.depth>1&&isString(en)&&(en=lift(en,(Zr.depth-1)/(Qr-1)*.5)),en}Wr.eachSeriesByType("sunburst",function(Zr){var Kr=Zr.getData(),Qr=Kr.tree;Qr.eachNode(function(Jr){var en=Jr.getModel(),tn=en.getModel("itemStyle").getItemStyle();tn.fill||(tn.fill=Yr(Jr,Zr,Qr.root.height));var rn=Kr.ensureUniqueItemVisual(Jr.dataIndex,"style");extend(rn,tn)})})}function install$s(Wr){Wr.registerChartView(SunburstView),Wr.registerSeriesModel(SunburstSeriesModel),Wr.registerLayout(curry$1(sunburstLayout,"sunburst")),Wr.registerProcessor(curry$1(dataFilter$1,"sunburst")),Wr.registerVisual(sunburstVisual),installSunburstAction(Wr)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},Gr.prototype.getInitialData=function(Yr,Zr){return createSeriesData(null,this)},Gr.prototype.getDataParams=function(Yr,Zr,Kr){var Qr=Wr.prototype.getDataParams.call(this,Yr,Zr);return Kr&&(Qr.info=customInnerStore(Kr).info),Qr},Gr.type="series.custom",Gr.dependencies=["grid","polar","geo","singleAxis","calendar"],Gr.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},Gr}(SeriesModel);function dataToCoordSize$3(Wr,Gr){return Gr=Gr||[0,0],map$1(["x","y"],function(Yr,Zr){var Kr=this.getAxis(Yr),Qr=Gr[Zr],Jr=Wr[Zr]/2;return Kr.type==="category"?Kr.getBandWidth():Math.abs(Kr.dataToCoord(Qr-Jr)-Kr.dataToCoord(Qr+Jr))},this)}function cartesianPrepareCustom(Wr){var Gr=Wr.master.getRect();return{coordSys:{type:"cartesian2d",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},api:{coord:function(Yr){return Wr.dataToPoint(Yr)},size:bind$1(dataToCoordSize$3,Wr)}}}function dataToCoordSize$2(Wr,Gr){return Gr=Gr||[0,0],map$1([0,1],function(Yr){var Zr=Gr[Yr],Kr=Wr[Yr]/2,Qr=[],Jr=[];return Qr[Yr]=Zr-Kr,Jr[Yr]=Zr+Kr,Qr[1-Yr]=Jr[1-Yr]=Gr[1-Yr],Math.abs(this.dataToPoint(Qr)[Yr]-this.dataToPoint(Jr)[Yr])},this)}function geoPrepareCustom(Wr){var Gr=Wr.getBoundingRect();return{coordSys:{type:"geo",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height,zoom:Wr.getZoom()},api:{coord:function(Yr){return Wr.dataToPoint(Yr)},size:bind$1(dataToCoordSize$2,Wr)}}}function dataToCoordSize$1(Wr,Gr){var Yr=this.getAxis(),Zr=Gr instanceof Array?Gr[0]:Gr,Kr=(Wr instanceof Array?Wr[0]:Wr)/2;return Yr.type==="category"?Yr.getBandWidth():Math.abs(Yr.dataToCoord(Zr-Kr)-Yr.dataToCoord(Zr+Kr))}function singlePrepareCustom(Wr){var Gr=Wr.getRect();return{coordSys:{type:"singleAxis",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height},api:{coord:function(Yr){return Wr.dataToPoint(Yr)},size:bind$1(dataToCoordSize$1,Wr)}}}function dataToCoordSize(Wr,Gr){return Gr=Gr||[0,0],map$1(["Radius","Angle"],function(Yr,Zr){var Kr="get"+Yr+"Axis",Qr=this[Kr](),Jr=Gr[Zr],en=Wr[Zr]/2,tn=Qr.type==="category"?Qr.getBandWidth():Math.abs(Qr.dataToCoord(Jr-en)-Qr.dataToCoord(Jr+en));return Yr==="Angle"&&(tn=tn*Math.PI/180),tn},this)}function polarPrepareCustom(Wr){var Gr=Wr.getRadiusAxis(),Yr=Wr.getAngleAxis(),Zr=Gr.getExtent();return Zr[0]>Zr[1]&&Zr.reverse(),{coordSys:{type:"polar",cx:Wr.cx,cy:Wr.cy,r:Zr[1],r0:Zr[0]},api:{coord:function(Kr){var Qr=Gr.dataToRadius(Kr[0]),Jr=Yr.dataToAngle(Kr[1]),en=Wr.coordToPoint([Qr,Jr]);return en.push(Qr,Jr*Math.PI/180),en},size:bind$1(dataToCoordSize,Wr)}}}function calendarPrepareCustom(Wr){var Gr=Wr.getRect(),Yr=Wr.getRangeInfo();return{coordSys:{type:"calendar",x:Gr.x,y:Gr.y,width:Gr.width,height:Gr.height,cellWidth:Wr.getCellWidth(),cellHeight:Wr.getCellHeight(),rangeInfo:{start:Yr.start,end:Yr.end,weeks:Yr.weeks,dayCount:Yr.allDay}},api:{coord:function(Zr,Kr){return Wr.dataToPoint(Zr,Kr)}}}}function isEC4CompatibleStyle(Wr,Gr,Yr,Zr){return Wr&&(Wr.legacy||Wr.legacy!==!1&&!Yr&&!Zr&&Gr!=="tspan"&&(Gr==="text"||hasOwn(Wr,"text")))}function convertFromEC4CompatibleStyle(Wr,Gr,Yr){var Zr=Wr,Kr,Qr,Jr;if(Gr==="text")Jr=Zr;else{Jr={},hasOwn(Zr,"text")&&(Jr.text=Zr.text),hasOwn(Zr,"rich")&&(Jr.rich=Zr.rich),hasOwn(Zr,"textFill")&&(Jr.fill=Zr.textFill),hasOwn(Zr,"textStroke")&&(Jr.stroke=Zr.textStroke),hasOwn(Zr,"fontFamily")&&(Jr.fontFamily=Zr.fontFamily),hasOwn(Zr,"fontSize")&&(Jr.fontSize=Zr.fontSize),hasOwn(Zr,"fontStyle")&&(Jr.fontStyle=Zr.fontStyle),hasOwn(Zr,"fontWeight")&&(Jr.fontWeight=Zr.fontWeight),Qr={type:"text",style:Jr,silent:!0},Kr={};var en=hasOwn(Zr,"textPosition");Yr?Kr.position=en?Zr.textPosition:"inside":en&&(Kr.position=Zr.textPosition),hasOwn(Zr,"textPosition")&&(Kr.position=Zr.textPosition),hasOwn(Zr,"textOffset")&&(Kr.offset=Zr.textOffset),hasOwn(Zr,"textRotation")&&(Kr.rotation=Zr.textRotation),hasOwn(Zr,"textDistance")&&(Kr.distance=Zr.textDistance)}return convertEC4CompatibleRichItem(Jr,Wr),each$f(Jr.rich,function(tn){convertEC4CompatibleRichItem(tn,tn)}),{textConfig:Kr,textContent:Qr}}function convertEC4CompatibleRichItem(Wr,Gr){Gr&&(Gr.font=Gr.textFont||Gr.font,hasOwn(Gr,"textStrokeWidth")&&(Wr.lineWidth=Gr.textStrokeWidth),hasOwn(Gr,"textAlign")&&(Wr.align=Gr.textAlign),hasOwn(Gr,"textVerticalAlign")&&(Wr.verticalAlign=Gr.textVerticalAlign),hasOwn(Gr,"textLineHeight")&&(Wr.lineHeight=Gr.textLineHeight),hasOwn(Gr,"textWidth")&&(Wr.width=Gr.textWidth),hasOwn(Gr,"textHeight")&&(Wr.height=Gr.textHeight),hasOwn(Gr,"textBackgroundColor")&&(Wr.backgroundColor=Gr.textBackgroundColor),hasOwn(Gr,"textPadding")&&(Wr.padding=Gr.textPadding),hasOwn(Gr,"textBorderColor")&&(Wr.borderColor=Gr.textBorderColor),hasOwn(Gr,"textBorderWidth")&&(Wr.borderWidth=Gr.textBorderWidth),hasOwn(Gr,"textBorderRadius")&&(Wr.borderRadius=Gr.textBorderRadius),hasOwn(Gr,"textBoxShadowColor")&&(Wr.shadowColor=Gr.textBoxShadowColor),hasOwn(Gr,"textBoxShadowBlur")&&(Wr.shadowBlur=Gr.textBoxShadowBlur),hasOwn(Gr,"textBoxShadowOffsetX")&&(Wr.shadowOffsetX=Gr.textBoxShadowOffsetX),hasOwn(Gr,"textBoxShadowOffsetY")&&(Wr.shadowOffsetY=Gr.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(Wr,Gr,Yr){var Zr=Wr;Zr.textPosition=Zr.textPosition||Yr.position||"inside",Yr.offset!=null&&(Zr.textOffset=Yr.offset),Yr.rotation!=null&&(Zr.textRotation=Yr.rotation),Yr.distance!=null&&(Zr.textDistance=Yr.distance);var Kr=Zr.textPosition.indexOf("inside")>=0,Qr=Wr.fill||"#000";convertToEC4RichItem(Zr,Gr);var Jr=Zr.textFill==null;return Kr?Jr&&(Zr.textFill=Yr.insideFill||"#fff",!Zr.textStroke&&Yr.insideStroke&&(Zr.textStroke=Yr.insideStroke),!Zr.textStroke&&(Zr.textStroke=Qr),Zr.textStrokeWidth==null&&(Zr.textStrokeWidth=2)):(Jr&&(Zr.textFill=Wr.fill||Yr.outsideFill||"#000"),!Zr.textStroke&&Yr.outsideStroke&&(Zr.textStroke=Yr.outsideStroke)),Zr.text=Gr.text,Zr.rich=Gr.rich,each$f(Gr.rich,function(en){convertToEC4RichItem(en,en)}),Zr}function convertToEC4RichItem(Wr,Gr){Gr&&(hasOwn(Gr,"fill")&&(Wr.textFill=Gr.fill),hasOwn(Gr,"stroke")&&(Wr.textStroke=Gr.fill),hasOwn(Gr,"lineWidth")&&(Wr.textStrokeWidth=Gr.lineWidth),hasOwn(Gr,"font")&&(Wr.font=Gr.font),hasOwn(Gr,"fontStyle")&&(Wr.fontStyle=Gr.fontStyle),hasOwn(Gr,"fontWeight")&&(Wr.fontWeight=Gr.fontWeight),hasOwn(Gr,"fontSize")&&(Wr.fontSize=Gr.fontSize),hasOwn(Gr,"fontFamily")&&(Wr.fontFamily=Gr.fontFamily),hasOwn(Gr,"align")&&(Wr.textAlign=Gr.align),hasOwn(Gr,"verticalAlign")&&(Wr.textVerticalAlign=Gr.verticalAlign),hasOwn(Gr,"lineHeight")&&(Wr.textLineHeight=Gr.lineHeight),hasOwn(Gr,"width")&&(Wr.textWidth=Gr.width),hasOwn(Gr,"height")&&(Wr.textHeight=Gr.height),hasOwn(Gr,"backgroundColor")&&(Wr.textBackgroundColor=Gr.backgroundColor),hasOwn(Gr,"padding")&&(Wr.textPadding=Gr.padding),hasOwn(Gr,"borderColor")&&(Wr.textBorderColor=Gr.borderColor),hasOwn(Gr,"borderWidth")&&(Wr.textBorderWidth=Gr.borderWidth),hasOwn(Gr,"borderRadius")&&(Wr.textBorderRadius=Gr.borderRadius),hasOwn(Gr,"shadowColor")&&(Wr.textBoxShadowColor=Gr.shadowColor),hasOwn(Gr,"shadowBlur")&&(Wr.textBoxShadowBlur=Gr.shadowBlur),hasOwn(Gr,"shadowOffsetX")&&(Wr.textBoxShadowOffsetX=Gr.shadowOffsetX),hasOwn(Gr,"shadowOffsetY")&&(Wr.textBoxShadowOffsetY=Gr.shadowOffsetY),hasOwn(Gr,"textShadowColor")&&(Wr.textShadowColor=Gr.textShadowColor),hasOwn(Gr,"textShadowBlur")&&(Wr.textShadowBlur=Gr.textShadowBlur),hasOwn(Gr,"textShadowOffsetX")&&(Wr.textShadowOffsetX=Gr.textShadowOffsetX),hasOwn(Gr,"textShadowOffsetY")&&(Wr.textShadowOffsetY=Gr.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(Wr,Gr){return Wr[Gr]=1,Wr},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(Wr,Gr,Yr,Zr,Kr){var Qr=Wr+"Animation",Jr=getAnimationConfig(Wr,Zr,Kr)||{},en=transitionInnerStore(Gr).userDuring;return Jr.duration>0&&(Jr.during=en?bind$1(duringCall,{el:Gr,userDuring:en}):null,Jr.setToFinal=!0,Jr.scope=Wr),extend(Jr,Yr[Qr]),Jr}function applyUpdateTransition(Wr,Gr,Yr,Zr){Zr=Zr||{};var Kr=Zr.dataIndex,Qr=Zr.isInit,Jr=Zr.clearStyle,en=Yr.isAnimationEnabled(),tn=transitionInnerStore(Wr),rn=Gr.style;tn.userDuring=Gr.during;var an={},nn={};if(prepareTransformAllPropsFinal(Wr,Gr,nn),prepareShapeOrExtraAllPropsFinal("shape",Gr,nn),prepareShapeOrExtraAllPropsFinal("extra",Gr,nn),!Qr&&en&&(prepareTransformTransitionFrom(Wr,Gr,an),prepareShapeOrExtraTransitionFrom("shape",Wr,Gr,an),prepareShapeOrExtraTransitionFrom("extra",Wr,Gr,an),prepareStyleTransitionFrom(Wr,Gr,rn,an)),nn.style=rn,applyPropsDirectly(Wr,nn,Jr),applyMiscProps(Wr,Gr),en)if(Qr){var sn={};each$f(ELEMENT_ANIMATABLE_PROPS,function(un){var cn=un?Gr[un]:Gr;cn&&cn.enterFrom&&(un&&(sn[un]=sn[un]||{}),extend(un?sn[un]:sn,cn.enterFrom))});var ln=getElementAnimationConfig("enter",Wr,Gr,Yr,Kr);ln.duration>0&&Wr.animateFrom(sn,ln)}else applyPropsTransition(Wr,Gr,Kr||0,Yr,an);updateLeaveTo(Wr,Gr),rn?Wr.dirty():Wr.markRedraw()}function updateLeaveTo(Wr,Gr){for(var Yr=transitionInnerStore(Wr).leaveToProps,Zr=0;Zr<ELEMENT_ANIMATABLE_PROPS.length;Zr++){var Kr=ELEMENT_ANIMATABLE_PROPS[Zr],Qr=Kr?Gr[Kr]:Gr;Qr&&Qr.leaveTo&&(Yr||(Yr=transitionInnerStore(Wr).leaveToProps={}),Kr&&(Yr[Kr]=Yr[Kr]||{}),extend(Kr?Yr[Kr]:Yr,Qr.leaveTo))}}function applyLeaveTransition(Wr,Gr,Yr,Zr){if(Wr){var Kr=Wr.parent,Qr=transitionInnerStore(Wr).leaveToProps;if(Qr){var Jr=getElementAnimationConfig("update",Wr,Gr,Yr,0);Jr.done=function(){Kr.remove(Wr)},Wr.animateTo(Qr,Jr)}else Kr.remove(Wr)}}function isTransitionAll(Wr){return Wr==="all"}function applyPropsDirectly(Wr,Gr,Yr){var Zr=Gr.style;if(!Wr.isGroup&&Zr){if(Yr){Wr.useStyle({});for(var Kr=Wr.animators,Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];Jr.targetName==="style"&&Jr.changeTarget(Wr.style)}}Wr.setStyle(Zr)}Gr&&(Gr.style=null,Gr&&Wr.attr(Gr),Gr.style=Zr)}function applyPropsTransition(Wr,Gr,Yr,Zr,Kr){if(Kr){var Qr=getElementAnimationConfig("update",Wr,Gr,Zr,Yr);Qr.duration>0&&Wr.animateFrom(Kr,Qr)}}function applyMiscProps(Wr,Gr){hasOwn(Gr,"silent")&&(Wr.silent=Gr.silent),hasOwn(Gr,"ignore")&&(Wr.ignore=Gr.ignore),Wr instanceof Displayable&&hasOwn(Gr,"invisible")&&(Wr.invisible=Gr.invisible),Wr instanceof Path&&hasOwn(Gr,"autoBatch")&&(Wr.autoBatch=Gr.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(Wr,Gr){return tmpDuringScope.el[Wr]=Gr,this},getTransform:function(Wr){return tmpDuringScope.el[Wr]},setShape:function(Wr,Gr){var Yr=tmpDuringScope.el,Zr=Yr.shape||(Yr.shape={});return Zr[Wr]=Gr,Yr.dirtyShape&&Yr.dirtyShape(),this},getShape:function(Wr){var Gr=tmpDuringScope.el.shape;if(Gr)return Gr[Wr]},setStyle:function(Wr,Gr){var Yr=tmpDuringScope.el,Zr=Yr.style;return Zr&&(Zr[Wr]=Gr,Yr.dirtyStyle&&Yr.dirtyStyle()),this},getStyle:function(Wr){var Gr=tmpDuringScope.el.style;if(Gr)return Gr[Wr]},setExtra:function(Wr,Gr){var Yr=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return Yr[Wr]=Gr,this},getExtra:function(Wr){var Gr=tmpDuringScope.el.extra;if(Gr)return Gr[Wr]}};function duringCall(){var Wr=this,Gr=Wr.el;if(Gr){var Yr=transitionInnerStore(Gr).userDuring,Zr=Wr.userDuring;if(Yr!==Zr){Wr.el=Wr.userDuring=null;return}tmpDuringScope.el=Gr,Zr(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(Wr,Gr,Yr,Zr){var Kr=Yr[Wr];if(Kr){var Qr=Gr[Wr],Jr;if(Qr){var en=Yr.transition,tn=Kr.transition;if(tn)if(!Jr&&(Jr=Zr[Wr]={}),isTransitionAll(tn))extend(Jr,Qr);else for(var rn=normalizeToArray(tn),an=0;an<rn.length;an++){var nn=rn[an],sn=Qr[nn];Jr[nn]=sn}else if(isTransitionAll(en)||indexOf(en,Wr)>=0){!Jr&&(Jr=Zr[Wr]={});for(var ln=keys(Qr),an=0;an<ln.length;an++){var nn=ln[an],sn=Qr[nn];isNonStyleTransitionEnabled(Kr[nn],sn)&&(Jr[nn]=sn)}}}}}function prepareShapeOrExtraAllPropsFinal(Wr,Gr,Yr){var Zr=Gr[Wr];if(Zr)for(var Kr=Yr[Wr]={},Qr=keys(Zr),Jr=0;Jr<Qr.length;Jr++){var en=Qr[Jr];Kr[en]=cloneValue(Zr[en])}}function prepareTransformTransitionFrom(Wr,Gr,Yr){for(var Zr=Gr.transition,Kr=isTransitionAll(Zr)?TRANSFORMABLE_PROPS:normalizeToArray(Zr||[]),Qr=0;Qr<Kr.length;Qr++){var Jr=Kr[Qr];if(!(Jr==="style"||Jr==="shape"||Jr==="extra")){var en=Wr[Jr];Yr[Jr]=en}}}function prepareTransformAllPropsFinal(Wr,Gr,Yr){for(var Zr=0;Zr<LEGACY_TRANSFORM_PROPS.length;Zr++){var Kr=LEGACY_TRANSFORM_PROPS[Zr],Qr=LEGACY_TRANSFORM_PROPS_MAP[Kr],Jr=Gr[Kr];Jr&&(Yr[Qr[0]]=Jr[0],Yr[Qr[1]]=Jr[1])}for(var Zr=0;Zr<TRANSFORMABLE_PROPS.length;Zr++){var en=TRANSFORMABLE_PROPS[Zr];Gr[en]!=null&&(Yr[en]=Gr[en])}}function prepareStyleTransitionFrom(Wr,Gr,Yr,Zr){if(Yr){var Kr=Wr.style,Qr;if(Kr){var Jr=Yr.transition,en=Gr.transition;if(Jr&&!isTransitionAll(Jr)){var tn=normalizeToArray(Jr);!Qr&&(Qr=Zr.style={});for(var rn=0;rn<tn.length;rn++){var an=tn[rn],nn=Kr[an];Qr[an]=nn}}else if(Wr.getAnimationStyleProps&&(isTransitionAll(en)||isTransitionAll(Jr)||indexOf(en,"style")>=0)){var sn=Wr.getAnimationStyleProps(),ln=sn?sn.style:null;if(ln){!Qr&&(Qr=Zr.style={});for(var un=keys(Yr),rn=0;rn<un.length;rn++){var an=un[rn];if(ln[an]){var nn=Kr[an];Qr[an]=nn}}}}}}}function isNonStyleTransitionEnabled(Wr,Gr){return isArrayLike(Wr)?Wr!==Gr:Wr!=null&&isFinite(Wr)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(Wr){Wr.stopAnimation("keyframe"),Wr.attr(getStateToRestore(Wr))}function applyKeyframeAnimation(Wr,Gr,Yr){if(!(!Yr.isAnimationEnabled()||!Gr)){if(isArray$1(Gr)){each$f(Gr,function(en){applyKeyframeAnimation(Wr,en,Yr)});return}var Zr=Gr.keyframes,Kr=Gr.duration;if(Yr&&Kr==null){var Qr=getAnimationConfig("enter",Yr,0);Kr=Qr&&Qr.duration}if(!(!Zr||!Kr)){var Jr=getStateToRestore(Wr);each$f(ELEMENT_ANIMATABLE_PROPS,function(en){if(!(en&&!Wr[en])){var tn;Zr.sort(function(rn,an){return rn.percent-an.percent}),each$f(Zr,function(rn){var an=Wr.animators,nn=en?rn[en]:rn;if(nn){var sn=keys(nn);if(en||(sn=filter(sn,function(cn){return indexOf(KEYFRAME_EXCLUDE_KEYS,cn)<0})),!!sn.length){tn||(tn=Wr.animate(en,Gr.loop,!0),tn.scope="keyframe");for(var ln=0;ln<an.length;ln++)an[ln]!==tn&&an[ln].targetName===tn.targetName&&an[ln].stopTracks(sn);en&&(Jr[en]=Jr[en]||{});var un=en?Jr[en]:Jr;each$f(sn,function(cn){un[cn]=((en?Wr[en]:Wr)||{})[cn]}),tn.whenWithKeys(Kr*rn.percent,nn,sn,rn.easing)}}}),tn&&tn.delay(Gr.delay||0).duration(Kr).start(Gr.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(Wr){return Wr instanceof Path}function isDisplayable(Wr){return Wr instanceof Displayable}function copyElement(Wr,Gr){Gr.copyTransform(Wr),isDisplayable(Gr)&&isDisplayable(Wr)&&(Gr.setStyle(Wr.style),Gr.z=Wr.z,Gr.z2=Wr.z2,Gr.zlevel=Wr.zlevel,Gr.invisible=Wr.invisible,Gr.ignore=Wr.ignore,isPath(Gr)&&isPath(Wr)&&Gr.setShape(Wr.shape))}var CustomChartView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this._progressiveEls=null;var Jr=this._data,en=Yr.getData(),tn=this.group,rn=makeRenderItem(Yr,en,Zr,Kr);Jr||tn.removeAll(),en.diff(Jr).add(function(nn){createOrUpdateItem(Kr,null,nn,rn(nn,Qr),Yr,tn,en)}).remove(function(nn){var sn=Jr.getItemGraphicEl(nn);sn&&applyLeaveTransition(sn,customInnerStore(sn).option,Yr)}).update(function(nn,sn){var ln=Jr.getItemGraphicEl(sn);createOrUpdateItem(Kr,ln,nn,rn(nn,Qr),Yr,tn,en)}).execute();var an=Yr.get("clip",!0)?createClipPath(Yr.coordinateSystem,!1,Yr):null;an?tn.setClipPath(an):tn.removeClipPath(),this._data=en},Gr.prototype.incrementalPrepareRender=function(Yr,Zr,Kr){this.group.removeAll(),this._data=null},Gr.prototype.incrementalRender=function(Yr,Zr,Kr,Qr,Jr){var en=Zr.getData(),tn=makeRenderItem(Zr,en,Kr,Qr),rn=this._progressiveEls=[];function an(ln){ln.isGroup||(ln.incremental=!0,ln.ensureState("emphasis").hoverLayer=!0)}for(var nn=Yr.start;nn<Yr.end;nn++){var sn=createOrUpdateItem(null,null,nn,tn(nn,Jr),Zr,this.group,en);sn&&(sn.traverse(an),rn.push(sn))}},Gr.prototype.eachRendered=function(Yr){traverseElements(this._progressiveEls||this.group,Yr)},Gr.prototype.filterForExposedEvent=function(Yr,Zr,Kr,Qr){var Jr=Zr.element;if(Jr==null||Kr.name===Jr)return!0;for(;(Kr=Kr.__hostTarget||Kr.parent)&&Kr!==this.group;)if(Kr.name===Jr)return!0;return!1},Gr.type="custom",Gr}(ChartView);function createEl$1(Wr){var Gr=Wr.type,Yr;if(Gr==="path"){var Zr=Wr.shape,Kr=Zr.width!=null&&Zr.height!=null?{x:Zr.x||0,y:Zr.y||0,width:Zr.width,height:Zr.height}:null,Qr=getPathData(Zr);Yr=makePath(Qr,null,Kr,Zr.layout||"center"),customInnerStore(Yr).customPathData=Qr}else if(Gr==="image")Yr=new ZRImage({}),customInnerStore(Yr).customImagePath=Wr.style.image;else if(Gr==="text")Yr=new ZRText({});else if(Gr==="group")Yr=new Group$3;else{if(Gr==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var Jr=getShapeClass(Gr);if(!Jr){var en="";throwError(en)}Yr=new Jr}return customInnerStore(Yr).customGraphicType=Gr,Yr.name=Wr.name,Yr.z2EmphasisLift=1,Yr.z2SelectLift=1,Yr}function updateElNormal(Wr,Gr,Yr,Zr,Kr,Qr,Jr){stopPreviousKeyframeAnimationAndRestore(Gr);var en=Kr&&Kr.normal.cfg;en&&Gr.setTextConfig(en),Zr&&Zr.transition==null&&(Zr.transition=DEFAULT_TRANSITION);var tn=Zr&&Zr.style;if(tn){if(Gr.type==="text"){var rn=tn;hasOwn(rn,"textFill")&&(rn.fill=rn.textFill),hasOwn(rn,"textStroke")&&(rn.stroke=rn.textStroke)}var an=void 0,nn=isPath(Gr)?tn.decal:null;Wr&&nn&&(nn.dirty=!0,an=createOrUpdatePatternFromDecal(nn,Wr)),tn.__decalPattern=an}if(isDisplayable(Gr)&&tn){var an=tn.__decalPattern;an&&(tn.decal=an)}applyUpdateTransition(Gr,Zr,Qr,{dataIndex:Yr,isInit:Jr,clearStyle:!0}),applyKeyframeAnimation(Gr,Zr.keyframeAnimation,Qr)}function updateElOnState(Wr,Gr,Yr,Zr,Kr){var Qr=Gr.isGroup?null:Gr,Jr=Kr&&Kr[Wr].cfg;if(Qr){var en=Qr.ensureState(Wr);if(Zr===!1){var tn=Qr.getState(Wr);tn&&(tn.style=null)}else en.style=Zr||null;Jr&&(en.textConfig=Jr),setDefaultStateProxy(Qr)}}function updateZ(Wr,Gr,Yr){if(!Wr.isGroup){var Zr=Wr,Kr=Yr.currentZ,Qr=Yr.currentZLevel;Zr.z=Kr,Zr.zlevel=Qr;var Jr=Gr.z2;Jr!=null&&(Zr.z2=Jr||0);for(var en=0;en<STATES.length;en++)updateZForEachState(Zr,Gr,STATES[en])}}function updateZForEachState(Wr,Gr,Yr){var Zr=Yr===NORMAL,Kr=Zr?Gr:retrieveStateOption(Gr,Yr),Qr=Kr?Kr.z2:null,Jr;Qr!=null&&(Jr=Zr?Wr:Wr.ensureState(Yr),Jr.z2=Qr||0)}function makeRenderItem(Wr,Gr,Yr,Zr){var Kr=Wr.get("renderItem"),Qr=Wr.coordinateSystem,Jr={};Qr&&(Jr=Qr.prepareCustoms?Qr.prepareCustoms(Qr):prepareCustoms[Qr.type](Qr));for(var en=defaults({getWidth:Zr.getWidth,getHeight:Zr.getHeight,getZr:Zr.getZr,getDevicePixelRatio:Zr.getDevicePixelRatio,value:gn,style:mn,ordinalRawValue:vn,styleEmphasis:yn,visual:Sn,barLayout:wn,currentSeriesIndices:_n,font:An},Jr.api||{}),tn={context:{},seriesId:Wr.id,seriesName:Wr.name,seriesIndex:Wr.seriesIndex,coordSys:Jr.coordSys,dataInsideLength:Gr.count(),encode:wrapEncodeDef(Wr.getData())},rn,an,nn={},sn={},ln={},un={},cn=0;cn<STATES.length;cn++){var hn=STATES[cn];ln[hn]=Wr.getModel(PATH_ITEM_STYLE[hn]),un[hn]=Wr.getModel(PATH_LABEL[hn])}function dn(Cn){return Cn===rn?an||(an=Gr.getItemModel(Cn)):Gr.getItemModel(Cn)}function fn(Cn,Tn){return Gr.hasItemOption?Cn===rn?nn[Tn]||(nn[Tn]=dn(Cn).getModel(PATH_ITEM_STYLE[Tn])):dn(Cn).getModel(PATH_ITEM_STYLE[Tn]):ln[Tn]}function pn(Cn,Tn){return Gr.hasItemOption?Cn===rn?sn[Tn]||(sn[Tn]=dn(Cn).getModel(PATH_LABEL[Tn])):dn(Cn).getModel(PATH_LABEL[Tn]):un[Tn]}return function(Cn,Tn){return rn=Cn,an=null,nn={},sn={},Kr&&Kr(defaults({dataIndexInside:Cn,dataIndex:Gr.getRawIndex(Cn),actionType:Tn?Tn.type:null},tn),en)};function gn(Cn,Tn){return Tn==null&&(Tn=rn),Gr.getStore().get(Gr.getDimensionIndex(Cn||0),Tn)}function vn(Cn,Tn){Tn==null&&(Tn=rn),Cn=Cn||0;var Mn=Gr.getDimensionInfo(Cn);if(!Mn){var En=Gr.getDimensionIndex(Cn);return En>=0?Gr.getStore().get(En,Tn):void 0}var Ln=Gr.get(Mn.name,Tn),In=Mn&&Mn.ordinalMeta;return In?In.categories[Ln]:Ln}function mn(Cn,Tn){Tn==null&&(Tn=rn);var Mn=Gr.getItemVisual(Tn,"style"),En=Mn&&Mn.fill,Ln=Mn&&Mn.opacity,In=fn(Tn,NORMAL).getItemStyle();En!=null&&(In.fill=En),Ln!=null&&(In.opacity=Ln);var Pn={inheritColor:isString(En)?En:"#000"},Dn=pn(Tn,NORMAL),kn=createTextStyle(Dn,null,Pn,!1,!0);kn.text=Dn.getShallow("show")?retrieve2(Wr.getFormattedLabel(Tn,NORMAL),getDefaultLabel(Gr,Tn)):null;var Nn=createTextConfig(Dn,Pn,!1);return bn(Cn,In),In=convertToEC4StyleForCustomSerise(In,kn,Nn),Cn&&xn(In,Cn),In.legacy=!0,In}function yn(Cn,Tn){Tn==null&&(Tn=rn);var Mn=fn(Tn,EMPHASIS).getItemStyle(),En=pn(Tn,EMPHASIS),Ln=createTextStyle(En,null,null,!0,!0);Ln.text=En.getShallow("show")?retrieve3(Wr.getFormattedLabel(Tn,EMPHASIS),Wr.getFormattedLabel(Tn,NORMAL),getDefaultLabel(Gr,Tn)):null;var In=createTextConfig(En,null,!0);return bn(Cn,Mn),Mn=convertToEC4StyleForCustomSerise(Mn,Ln,In),Cn&&xn(Mn,Cn),Mn.legacy=!0,Mn}function xn(Cn,Tn){for(var Mn in Tn)hasOwn(Tn,Mn)&&(Cn[Mn]=Tn[Mn])}function bn(Cn,Tn){Cn&&(Cn.textFill&&(Tn.textFill=Cn.textFill),Cn.textPosition&&(Tn.textPosition=Cn.textPosition))}function Sn(Cn,Tn){if(Tn==null&&(Tn=rn),hasOwn(STYLE_VISUAL_TYPE,Cn)){var Mn=Gr.getItemVisual(Tn,"style");return Mn?Mn[STYLE_VISUAL_TYPE[Cn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Cn))return Gr.getItemVisual(Tn,Cn)}function wn(Cn){if(Qr.type==="cartesian2d"){var Tn=Qr.getBaseAxis();return getLayoutOnAxis(defaults({axis:Tn},Cn))}}function _n(){return Yr.getCurrentSeriesIndices()}function An(Cn){return getFont(Cn,Yr)}}function wrapEncodeDef(Wr){var Gr={};return each$f(Wr.dimensions,function(Yr){var Zr=Wr.getDimensionInfo(Yr);if(!Zr.isExtraCoord){var Kr=Zr.coordDim,Qr=Gr[Kr]=Gr[Kr]||[];Qr[Zr.coordDimIndex]=Wr.getDimensionIndex(Yr)}}),Gr}function createOrUpdateItem(Wr,Gr,Yr,Zr,Kr,Qr,Jr){if(!Zr){Qr.remove(Gr);return}var en=doCreateOrUpdateEl(Wr,Gr,Yr,Zr,Kr,Qr);return en&&Jr.setItemGraphicEl(Yr,en),en&&toggleHoverEmphasis(en,Zr.focus,Zr.blurScope,Zr.emphasisDisabled),en}function doCreateOrUpdateEl(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=-1,en=Gr;Gr&&doesElNeedRecreate(Gr,Zr,Kr)&&(Jr=indexOf(Qr.childrenRef(),Gr),Gr=null);var tn=!Gr,rn=Gr;rn?rn.clearStates():(rn=createEl$1(Zr),en&&copyElement(en,rn)),Zr.morph===!1?rn.disableMorphing=!0:rn.disableMorphing&&(rn.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(rn,Yr,Zr,Kr,tn,attachedTxInfoTmp),doCreateOrUpdateClipPath(rn,Yr,Zr,Kr,tn),updateElNormal(Wr,rn,Yr,Zr,attachedTxInfoTmp,Kr,tn),hasOwn(Zr,"info")&&(customInnerStore(rn).info=Zr.info);for(var an=0;an<STATES.length;an++){var nn=STATES[an];if(nn!==NORMAL){var sn=retrieveStateOption(Zr,nn),ln=retrieveStyleOptionOnState(Zr,sn,nn);updateElOnState(nn,rn,sn,ln,attachedTxInfoTmp)}}return updateZ(rn,Zr,Kr),Zr.type==="group"&&mergeChildren(Wr,rn,Yr,Zr,Kr),Jr>=0?Qr.replaceAt(rn,Jr):Qr.add(rn),rn}function doesElNeedRecreate(Wr,Gr,Yr){var Zr=customInnerStore(Wr),Kr=Gr.type,Qr=Gr.shape,Jr=Gr.style;return Yr.isUniversalTransitionEnabled()||Kr!=null&&Kr!==Zr.customGraphicType||Kr==="path"&&hasOwnPathData(Qr)&&getPathData(Qr)!==Zr.customPathData||Kr==="image"&&hasOwn(Jr,"image")&&Jr.image!==Zr.customImagePath}function doCreateOrUpdateClipPath(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.clipPath;if(Qr===!1)Wr&&Wr.getClipPath()&&Wr.removeClipPath();else if(Qr){var Jr=Wr.getClipPath();Jr&&doesElNeedRecreate(Jr,Qr,Zr)&&(Jr=null),Jr||(Jr=createEl$1(Qr),Wr.setClipPath(Jr)),updateElNormal(null,Jr,Gr,Qr,null,Zr,Kr)}}function doCreateOrUpdateAttachedTx(Wr,Gr,Yr,Zr,Kr,Qr){if(!Wr.isGroup){processTxInfo(Yr,null,Qr),processTxInfo(Yr,EMPHASIS,Qr);var Jr=Qr.normal.conOpt,en=Qr.emphasis.conOpt,tn=Qr.blur.conOpt,rn=Qr.select.conOpt;if(Jr!=null||en!=null||rn!=null||tn!=null){var an=Wr.getTextContent();if(Jr===!1)an&&Wr.removeTextContent();else{Jr=Qr.normal.conOpt=Jr||{type:"text"},an?an.clearStates():(an=createEl$1(Jr),Wr.setTextContent(an)),updateElNormal(null,an,Gr,Jr,null,Zr,Kr);for(var nn=Jr&&Jr.style,sn=0;sn<STATES.length;sn++){var ln=STATES[sn];if(ln!==NORMAL){var un=Qr[ln].conOpt;updateElOnState(ln,an,un,retrieveStyleOptionOnState(Jr,un,ln),null)}}nn?an.dirty():an.markRedraw()}}}}function processTxInfo(Wr,Gr,Yr){var Zr=Gr?retrieveStateOption(Wr,Gr):Wr,Kr=Gr?retrieveStyleOptionOnState(Wr,Zr,EMPHASIS):Wr.style,Qr=Wr.type,Jr=Zr?Zr.textConfig:null,en=Wr.textContent,tn=en?Gr?retrieveStateOption(en,Gr):en:null;if(Kr&&(Yr.isLegacy||isEC4CompatibleStyle(Kr,Qr,!!Jr,!!tn))){Yr.isLegacy=!0;var rn=convertFromEC4CompatibleStyle(Kr,Qr,!Gr);!Jr&&rn.textConfig&&(Jr=rn.textConfig),!tn&&rn.textContent&&(tn=rn.textContent)}if(!Gr&&tn){var an=tn;!an.type&&(an.type="text")}var nn=Gr?Yr[Gr]:Yr.normal;nn.cfg=Jr,nn.conOpt=tn}function retrieveStateOption(Wr,Gr){return Gr?Wr?Wr[Gr]:null:Wr}function retrieveStyleOptionOnState(Wr,Gr,Yr){var Zr=Gr&&Gr.style;return Zr==null&&Yr===EMPHASIS&&Wr&&(Zr=Wr.styleEmphasis),Zr}function mergeChildren(Wr,Gr,Yr,Zr,Kr){var Qr=Zr.children,Jr=Qr?Qr.length:0,en=Zr.$mergeChildren,tn=en==="byName"||Zr.diffChildrenByName,rn=en===!1;if(!(!Jr&&!tn&&!rn)){if(tn){diffGroupChildren({api:Wr,oldChildren:Gr.children()||[],newChildren:Qr||[],dataIndex:Yr,seriesModel:Kr,group:Gr});return}rn&&Gr.removeAll();for(var an=0;an<Jr;an++){var nn=Qr[an],sn=Gr.childAt(an);nn?(nn.ignore==null&&(nn.ignore=!1),doCreateOrUpdateEl(Wr,sn,Yr,nn,Kr,Gr)):sn.ignore=!0}for(var ln=Gr.childCount()-1;ln>=an;ln--){var un=Gr.childAt(ln);removeChildFromGroup(Gr,un,Kr)}}}function removeChildFromGroup(Wr,Gr,Yr){Gr&&applyLeaveTransition(Gr,customInnerStore(Wr).option,Yr)}function diffGroupChildren(Wr){new DataDiffer(Wr.oldChildren,Wr.newChildren,getKey,getKey,Wr).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(Wr,Gr){var Yr=Wr&&Wr.name;return Yr??GROUP_DIFF_PREFIX+Gr}function processAddUpdate(Wr,Gr){var Yr=this.context,Zr=Wr!=null?Yr.newChildren[Wr]:null,Kr=Gr!=null?Yr.oldChildren[Gr]:null;doCreateOrUpdateEl(Yr.api,Kr,Yr.dataIndex,Zr,Yr.seriesModel,Yr.group)}function processRemove(Wr){var Gr=this.context,Yr=Gr.oldChildren[Wr];Yr&&applyLeaveTransition(Yr,customInnerStore(Yr).option,Gr.seriesModel)}function getPathData(Wr){return Wr&&(Wr.pathData||Wr.d)}function hasOwnPathData(Wr){return Wr&&(hasOwn(Wr,"pathData")||hasOwn(Wr,"d"))}function install$r(Wr){Wr.registerChartView(CustomChartView),Wr.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function Wr(){this._dragging=!1,this.animationThreshold=15}return Wr.prototype.render=function(Gr,Yr,Zr,Kr){var Qr=Yr.get("value"),Jr=Yr.get("status");if(this._axisModel=Gr,this._axisPointerModel=Yr,this._api=Zr,!(!Kr&&this._lastValue===Qr&&this._lastStatus===Jr)){this._lastValue=Qr,this._lastStatus=Jr;var en=this._group,tn=this._handle;if(!Jr||Jr==="hide"){en&&en.hide(),tn&&tn.hide();return}en&&en.show(),tn&&tn.show();var rn={};this.makeElOption(rn,Qr,Gr,Yr,Zr);var an=rn.graphicKey;an!==this._lastGraphicKey&&this.clear(Zr),this._lastGraphicKey=an;var nn=this._moveAnimation=this.determineAnimation(Gr,Yr);if(!en)en=this._group=new Group$3,this.createPointerEl(en,rn,Gr,Yr),this.createLabelEl(en,rn,Gr,Yr),Zr.getZr().add(en);else{var sn=curry$1(updateProps,Yr,nn);this.updatePointerEl(en,rn,sn),this.updateLabelEl(en,rn,sn,Yr)}updateMandatoryProps(en,Yr,!0),this._renderHandle(Qr)}},Wr.prototype.remove=function(Gr){this.clear(Gr)},Wr.prototype.dispose=function(Gr){this.clear(Gr)},Wr.prototype.determineAnimation=function(Gr,Yr){var Zr=Yr.get("animation"),Kr=Gr.axis,Qr=Kr.type==="category",Jr=Yr.get("snap");if(!Jr&&!Qr)return!1;if(Zr==="auto"||Zr==null){var en=this.animationThreshold;if(Qr&&Kr.getBandWidth()>en)return!0;if(Jr){var tn=getAxisInfo$1(Gr).seriesDataCount,rn=Kr.getExtent();return Math.abs(rn[0]-rn[1])/tn>en}return!1}return Zr===!0},Wr.prototype.makeElOption=function(Gr,Yr,Zr,Kr,Qr){},Wr.prototype.createPointerEl=function(Gr,Yr,Zr,Kr){var Qr=Yr.pointer;if(Qr){var Jr=inner$b(Gr).pointerEl=new graphic[Qr.type](clone$1(Yr.pointer));Gr.add(Jr)}},Wr.prototype.createLabelEl=function(Gr,Yr,Zr,Kr){if(Yr.label){var Qr=inner$b(Gr).labelEl=new ZRText(clone$1(Yr.label));Gr.add(Qr),updateLabelShowHide(Qr,Kr)}},Wr.prototype.updatePointerEl=function(Gr,Yr,Zr){var Kr=inner$b(Gr).pointerEl;Kr&&Yr.pointer&&(Kr.setStyle(Yr.pointer.style),Zr(Kr,{shape:Yr.pointer.shape}))},Wr.prototype.updateLabelEl=function(Gr,Yr,Zr,Kr){var Qr=inner$b(Gr).labelEl;Qr&&(Qr.setStyle(Yr.label.style),Zr(Qr,{x:Yr.label.x,y:Yr.label.y}),updateLabelShowHide(Qr,Kr))},Wr.prototype._renderHandle=function(Gr){if(!(this._dragging||!this.updateHandleTransform)){var Yr=this._axisPointerModel,Zr=this._api.getZr(),Kr=this._handle,Qr=Yr.getModel("handle"),Jr=Yr.get("status");if(!Qr.get("show")||!Jr||Jr==="hide"){Kr&&Zr.remove(Kr),this._handle=null;return}var en;this._handle||(en=!0,Kr=this._handle=createIcon$1(Qr.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(rn){stop(rn.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),Zr.add(Kr)),updateMandatoryProps(Kr,Yr,!1),Kr.setStyle(Qr.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var tn=Qr.get("size");isArray$1(tn)||(tn=[tn,tn]),Kr.scaleX=tn[0]/2,Kr.scaleY=tn[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",Qr.get("throttle")||0,"fixRate"),this._moveHandleToValue(Gr,en)}},Wr.prototype._moveHandleToValue=function(Gr,Yr){updateProps(this._axisPointerModel,!Yr&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(Gr,this._axisModel,this._axisPointerModel)))},Wr.prototype._onHandleDragMove=function(Gr,Yr){var Zr=this._handle;if(Zr){this._dragging=!0;var Kr=this.updateHandleTransform(getHandleTransProps(Zr),[Gr,Yr],this._axisModel,this._axisPointerModel);this._payloadInfo=Kr,Zr.stopAnimation(),Zr.attr(getHandleTransProps(Kr)),inner$b(Zr).lastProp=null,this._doDispatchAxisPointer()}},Wr.prototype._doDispatchAxisPointer=function(){var Gr=this._handle;if(Gr){var Yr=this._payloadInfo,Zr=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:Yr.cursorPoint[0],y:Yr.cursorPoint[1],tooltipOption:Yr.tooltipOption,axesInfo:[{axisDim:Zr.axis.dim,axisIndex:Zr.componentIndex}]})}},Wr.prototype._onHandleDragEnd=function(){this._dragging=!1;var Gr=this._handle;if(Gr){var Yr=this._axisPointerModel.get("value");this._moveHandleToValue(Yr),this._api.dispatchAction({type:"hideTip"})}},Wr.prototype.clear=function(Gr){this._lastValue=null,this._lastStatus=null;var Yr=Gr.getZr(),Zr=this._group,Kr=this._handle;Yr&&Zr&&(this._lastGraphicKey=null,Zr&&Yr.remove(Zr),Kr&&Yr.remove(Kr),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},Wr.prototype.doClear=function(){},Wr.prototype.buildLabel=function(Gr,Yr,Zr){return Zr=Zr||0,{x:Gr[Zr],y:Gr[1-Zr],width:Yr[Zr],height:Yr[1-Zr]}},Wr}();function updateProps(Wr,Gr,Yr,Zr){propsEqual(inner$b(Yr).lastProp,Zr)||(inner$b(Yr).lastProp=Zr,Gr?updateProps$1(Yr,Zr,Wr):(Yr.stopAnimation(),Yr.attr(Zr)))}function propsEqual(Wr,Gr){if(isObject$3(Wr)&&isObject$3(Gr)){var Yr=!0;return each$f(Gr,function(Zr,Kr){Yr=Yr&&propsEqual(Wr[Kr],Zr)}),!!Yr}else return Wr===Gr}function updateLabelShowHide(Wr,Gr){Wr[Gr.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(Wr){return{x:Wr.x||0,y:Wr.y||0,rotation:Wr.rotation||0}}function updateMandatoryProps(Wr,Gr,Yr){var Zr=Gr.get("z"),Kr=Gr.get("zlevel");Wr&&Wr.traverse(function(Qr){Qr.type!=="group"&&(Zr!=null&&(Qr.z=Zr),Kr!=null&&(Qr.zlevel=Kr),Qr.silent=Yr)})}function buildElStyle(Wr){var Gr=Wr.get("type"),Yr=Wr.getModel(Gr+"Style"),Zr;return Gr==="line"?(Zr=Yr.getLineStyle(),Zr.fill=null):Gr==="shadow"&&(Zr=Yr.getAreaStyle(),Zr.stroke=null),Zr}function buildLabelElOption(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.get("value"),Jr=getValueLabel(Qr,Gr.axis,Gr.ecModel,Yr.get("seriesDataIndices"),{precision:Yr.get(["label","precision"]),formatter:Yr.get(["label","formatter"])}),en=Yr.getModel("label"),tn=normalizeCssArray(en.get("padding")||0),rn=en.getFont(),an=getBoundingRect(Jr,rn),nn=Kr.position,sn=an.width+tn[1]+tn[3],ln=an.height+tn[0]+tn[2],un=Kr.align;un==="right"&&(nn[0]-=sn),un==="center"&&(nn[0]-=sn/2);var cn=Kr.verticalAlign;cn==="bottom"&&(nn[1]-=ln),cn==="middle"&&(nn[1]-=ln/2),confineInContainer(nn,sn,ln,Zr);var hn=en.get("backgroundColor");(!hn||hn==="auto")&&(hn=Gr.get(["axisLine","lineStyle","color"])),Wr.label={x:nn[0],y:nn[1],style:createTextStyle(en,{text:Jr,font:rn,fill:en.getTextColor(),padding:tn,backgroundColor:hn}),z2:10}}function confineInContainer(Wr,Gr,Yr,Zr){var Kr=Zr.getWidth(),Qr=Zr.getHeight();Wr[0]=Math.min(Wr[0]+Gr,Kr)-Gr,Wr[1]=Math.min(Wr[1]+Yr,Qr)-Yr,Wr[0]=Math.max(Wr[0],0),Wr[1]=Math.max(Wr[1],0)}function getValueLabel(Wr,Gr,Yr,Zr,Kr){Wr=Gr.scale.parse(Wr);var Qr=Gr.scale.getLabel({value:Wr},{precision:Kr.precision}),Jr=Kr.formatter;if(Jr){var en={value:getAxisRawValue(Gr,{value:Wr}),axisDimension:Gr.dim,axisIndex:Gr.index,seriesData:[]};each$f(Zr,function(tn){var rn=Yr.getSeriesByIndex(tn.seriesIndex),an=tn.dataIndexInside,nn=rn&&rn.getDataParams(an);nn&&en.seriesData.push(nn)}),isString(Jr)?Qr=Jr.replace("{value}",Qr):isFunction(Jr)&&(Qr=Jr(en))}return Qr}function getTransformedPosition(Wr,Gr,Yr){var Zr=create$1();return rotate(Zr,Zr,Yr.rotation),translate(Zr,Zr,Yr.position),applyTransform([Wr.dataToCoord(Gr),(Yr.labelOffset||0)+(Yr.labelDirection||1)*(Yr.labelMargin||0)],Zr)}function buildCartesianSingleLabelElOption(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=AxisBuilder.innerTextLayout(Yr.rotation,0,Yr.labelDirection);Yr.labelMargin=Kr.get(["label","margin"]),buildLabelElOption(Gr,Zr,Kr,Qr,{position:getTransformedPosition(Zr.axis,Wr,Yr),align:Jr.textAlign,verticalAlign:Jr.textVerticalAlign})}function makeLineShape(Wr,Gr,Yr){return Yr=Yr||0,{x1:Wr[Yr],y1:Wr[1-Yr],x2:Gr[Yr],y2:Gr[1-Yr]}}function makeRectShape(Wr,Gr,Yr){return Yr=Yr||0,{x:Wr[Yr],y:Wr[1-Yr],width:Gr[Yr],height:Gr[1-Yr]}}function makeSectorShape(Wr,Gr,Yr,Zr,Kr,Qr){return{cx:Wr,cy:Gr,r0:Yr,r:Zr,startAngle:Kr,endAngle:Qr,clockwise:!0}}var CartesianAxisPointer=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Yr,Zr,Kr,Qr,Jr){var en=Kr.axis,tn=en.grid,rn=Qr.get("type"),an=getCartesian(tn,en).getOtherAxis(en).getGlobalExtent(),nn=en.toGlobalCoord(en.dataToCoord(Zr,!0));if(rn&&rn!=="none"){var sn=buildElStyle(Qr),ln=pointerShapeBuilder$2[rn](en,nn,an);ln.style=sn,Yr.graphicKey=ln.type,Yr.pointer=ln}var un=layout$2(tn.model,Kr);buildCartesianSingleLabelElOption(Zr,Yr,un,Kr,Qr,Jr)},Gr.prototype.getHandleTransform=function(Yr,Zr,Kr){var Qr=layout$2(Zr.axis.grid.model,Zr,{labelInside:!1});Qr.labelMargin=Kr.get(["handle","margin"]);var Jr=getTransformedPosition(Zr.axis,Yr,Qr);return{x:Jr[0],y:Jr[1],rotation:Qr.rotation+(Qr.labelDirection<0?Math.PI:0)}},Gr.prototype.updateHandleTransform=function(Yr,Zr,Kr,Qr){var Jr=Kr.axis,en=Jr.grid,tn=Jr.getGlobalExtent(!0),rn=getCartesian(en,Jr).getOtherAxis(Jr).getGlobalExtent(),an=Jr.dim==="x"?0:1,nn=[Yr.x,Yr.y];nn[an]+=Zr[an],nn[an]=Math.min(tn[1],nn[an]),nn[an]=Math.max(tn[0],nn[an]);var sn=(rn[1]+rn[0])/2,ln=[sn,sn];ln[an]=nn[an];var un=[{verticalAlign:"middle"},{align:"center"}];return{x:nn[0],y:nn[1],rotation:Yr.rotation,cursorPoint:ln,tooltipOption:un[an]}},Gr}(BaseAxisPointer);function getCartesian(Wr,Gr){var Yr={};return Yr[Gr.dim+"AxisIndex"]=Gr.index,Wr.getCartesian(Yr)}var pointerShapeBuilder$2={line:function(Wr,Gr,Yr){var Zr=makeLineShape([Gr,Yr[0]],[Gr,Yr[1]],getAxisDimIndex(Wr));return{type:"Line",subPixelOptimize:!0,shape:Zr}},shadow:function(Wr,Gr,Yr){var Zr=Math.max(1,Wr.getBandWidth()),Kr=Yr[1]-Yr[0];return{type:"Rect",shape:makeRectShape([Gr-Zr/2,Yr[0]],[Zr,Kr],getAxisDimIndex(Wr))}}};function getAxisDimIndex(Wr){return Wr.dim==="x"?0:1}var AxisPointerModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="axisPointer",Gr.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},Gr}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register(Wr,Gr,Yr){if(!env.node){var Zr=Gr.getZr();inner$a(Zr).records||(inner$a(Zr).records={}),initGlobalListeners(Zr,Gr);var Kr=inner$a(Zr).records[Wr]||(inner$a(Zr).records[Wr]={});Kr.handler=Yr}}function initGlobalListeners(Wr,Gr){if(inner$a(Wr).initialized)return;inner$a(Wr).initialized=!0,Yr("click",curry$1(doEnter,"click")),Yr("mousemove",curry$1(doEnter,"mousemove")),Yr("globalout",onLeave);function Yr(Zr,Kr){Wr.on(Zr,function(Qr){var Jr=makeDispatchAction$1(Gr);each$8(inner$a(Wr).records,function(en){en&&Kr(en,Qr,Jr.dispatchAction)}),dispatchTooltipFinally(Jr.pendings,Gr)})}}function dispatchTooltipFinally(Wr,Gr){var Yr=Wr.showTip.length,Zr=Wr.hideTip.length,Kr;Yr?Kr=Wr.showTip[Yr-1]:Zr&&(Kr=Wr.hideTip[Zr-1]),Kr&&(Kr.dispatchAction=null,Gr.dispatchAction(Kr))}function onLeave(Wr,Gr,Yr){Wr.handler("leave",null,Yr)}function doEnter(Wr,Gr,Yr,Zr){Gr.handler(Wr,Yr,Zr)}function makeDispatchAction$1(Wr){var Gr={showTip:[],hideTip:[]},Yr=function(Zr){var Kr=Gr[Zr.type];Kr?Kr.push(Zr):(Zr.dispatchAction=Yr,Wr.dispatchAction(Zr))};return{dispatchAction:Yr,pendings:Gr}}function unregister(Wr,Gr){if(!env.node){var Yr=Gr.getZr(),Zr=(inner$a(Yr).records||{})[Wr];Zr&&(inner$a(Yr).records[Wr]=null)}}var AxisPointerView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=Zr.getComponent("tooltip"),Jr=Yr.get("triggerOn")||Qr&&Qr.get("triggerOn")||"mousemove|click";register("axisPointer",Kr,function(en,tn,rn){Jr!=="none"&&(en==="leave"||Jr.indexOf(en)>=0)&&rn({type:"updateAxisPointer",currTrigger:en,x:tn&&tn.offsetX,y:tn&&tn.offsetY})})},Gr.prototype.remove=function(Yr,Zr){unregister("axisPointer",Zr)},Gr.prototype.dispose=function(Yr,Zr){unregister("axisPointer",Zr)},Gr.type="axisPointer",Gr}(ComponentView);function findPointFromSeries(Wr,Gr){var Yr=[],Zr=Wr.seriesIndex,Kr;if(Zr==null||!(Kr=Gr.getSeriesByIndex(Zr)))return{point:[]};var Qr=Kr.getData(),Jr=queryDataIndex(Qr,Wr);if(Jr==null||Jr<0||isArray$1(Jr))return{point:[]};var en=Qr.getItemGraphicEl(Jr),tn=Kr.coordinateSystem;if(Kr.getTooltipPosition)Yr=Kr.getTooltipPosition(Jr)||[];else if(tn&&tn.dataToPoint)if(Wr.isStacked){var rn=tn.getBaseAxis(),an=tn.getOtherAxis(rn),nn=an.dim,sn=rn.dim,ln=nn==="x"||nn==="radius"?1:0,un=Qr.mapDimension(sn),cn=[];cn[ln]=Qr.get(un,Jr),cn[1-ln]=Qr.get(Qr.getCalculationInfo("stackResultDimension"),Jr),Yr=tn.dataToPoint(cn)||[]}else Yr=tn.dataToPoint(Qr.getValues(map$1(tn.dimensions,function(dn){return Qr.mapDimension(dn)}),Jr))||[];else if(en){var hn=en.getBoundingRect().clone();hn.applyTransform(en.transform),Yr=[hn.x+hn.width/2,hn.y+hn.height/2]}return{point:Yr,el:en}}var inner$9=makeInner();function axisTrigger(Wr,Gr,Yr){var Zr=Wr.currTrigger,Kr=[Wr.x,Wr.y],Qr=Wr,Jr=Wr.dispatchAction||bind$1(Yr.dispatchAction,Yr),en=Gr.getComponent("axisPointer").coordSysAxesInfo;if(en){illegalPoint(Kr)&&(Kr=findPointFromSeries({seriesIndex:Qr.seriesIndex,dataIndex:Qr.dataIndex},Gr).point);var tn=illegalPoint(Kr),rn=Qr.axesInfo,an=en.axesInfo,nn=Zr==="leave"||illegalPoint(Kr),sn={},ln={},un={list:[],map:{}},cn={showPointer:curry$1(showPointer,ln),showTooltip:curry$1(showTooltip,un)};each$f(en.coordSysMap,function(dn,fn){var pn=tn||dn.containPoint(Kr);each$f(en.coordSysAxesInfo[fn],function(gn,vn){var mn=gn.axis,yn=findInputAxisInfo(rn,gn);if(!nn&&pn&&(!rn||yn)){var xn=yn&&yn.value;xn==null&&!tn&&(xn=mn.pointToData(Kr)),xn!=null&&processOnAxis(gn,xn,cn,!1,sn)}})});var hn={};return each$f(an,function(dn,fn){var pn=dn.linkGroup;pn&&!ln[fn]&&each$f(pn.axesInfo,function(gn,vn){var mn=ln[vn];if(gn!==dn&&mn){var yn=mn.value;pn.mapper&&(yn=dn.axis.scale.parse(pn.mapper(yn,makeMapperParam(gn),makeMapperParam(dn)))),hn[dn.key]=yn}})}),each$f(hn,function(dn,fn){processOnAxis(an[fn],dn,cn,!0,sn)}),updateModelActually(ln,an,sn),dispatchTooltipActually(un,Kr,Wr,Jr),dispatchHighDownActually(an,Jr,Yr),sn}}function processOnAxis(Wr,Gr,Yr,Zr,Kr){var Qr=Wr.axis;if(!(Qr.scale.isBlank()||!Qr.containData(Gr))){if(!Wr.involveSeries){Yr.showPointer(Wr,Gr);return}var Jr=buildPayloadsBySeries(Gr,Wr),en=Jr.payloadBatch,tn=Jr.snapToValue;en[0]&&Kr.seriesIndex==null&&extend(Kr,en[0]),!Zr&&Wr.snap&&Qr.containData(tn)&&tn!=null&&(Gr=tn),Yr.showPointer(Wr,Gr,en),Yr.showTooltip(Wr,Jr,tn)}}function buildPayloadsBySeries(Wr,Gr){var Yr=Gr.axis,Zr=Yr.dim,Kr=Wr,Qr=[],Jr=Number.MAX_VALUE,en=-1;return each$f(Gr.seriesModels,function(tn,rn){var an=tn.getData().mapDimensionsAll(Zr),nn,sn;if(tn.getAxisTooltipData){var ln=tn.getAxisTooltipData(an,Wr,Yr);sn=ln.dataIndices,nn=ln.nestestValue}else{if(sn=tn.getData().indicesOfNearest(an[0],Wr,Yr.type==="category"?.5:null),!sn.length)return;nn=tn.getData().get(an[0],sn[0])}if(!(nn==null||!isFinite(nn))){var un=Wr-nn,cn=Math.abs(un);cn<=Jr&&((cn<Jr||un>=0&&en<0)&&(Jr=cn,en=un,Kr=nn,Qr.length=0),each$f(sn,function(hn){Qr.push({seriesIndex:tn.seriesIndex,dataIndexInside:hn,dataIndex:tn.getData().getRawIndex(hn)})}))}}),{payloadBatch:Qr,snapToValue:Kr}}function showPointer(Wr,Gr,Yr,Zr){Wr[Gr.key]={value:Yr,payloadBatch:Zr}}function showTooltip(Wr,Gr,Yr,Zr){var Kr=Yr.payloadBatch,Qr=Gr.axis,Jr=Qr.model,en=Gr.axisPointerModel;if(!(!Gr.triggerTooltip||!Kr.length)){var tn=Gr.coordSys.model,rn=makeKey(tn),an=Wr.map[rn];an||(an=Wr.map[rn]={coordSysId:tn.id,coordSysIndex:tn.componentIndex,coordSysType:tn.type,coordSysMainType:tn.mainType,dataByAxis:[]},Wr.list.push(an)),an.dataByAxis.push({axisDim:Qr.dim,axisIndex:Jr.componentIndex,axisType:Jr.type,axisId:Jr.id,value:Zr,valueLabelOpt:{precision:en.get(["label","precision"]),formatter:en.get(["label","formatter"])},seriesDataIndices:Kr.slice()})}}function updateModelActually(Wr,Gr,Yr){var Zr=Yr.axesInfo=[];each$f(Gr,function(Kr,Qr){var Jr=Kr.axisPointerModel.option,en=Wr[Qr];en?(!Kr.useHandle&&(Jr.status="show"),Jr.value=en.value,Jr.seriesDataIndices=(en.payloadBatch||[]).slice()):!Kr.useHandle&&(Jr.status="hide"),Jr.status==="show"&&Zr.push({axisDim:Kr.axis.dim,axisIndex:Kr.axis.model.componentIndex,value:Jr.value})})}function dispatchTooltipActually(Wr,Gr,Yr,Zr){if(illegalPoint(Gr)||!Wr.list.length){Zr({type:"hideTip"});return}var Kr=((Wr.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Zr({type:"showTip",escapeConnect:!0,x:Gr[0],y:Gr[1],tooltipOption:Yr.tooltipOption,position:Yr.position,dataIndexInside:Kr.dataIndexInside,dataIndex:Kr.dataIndex,seriesIndex:Kr.seriesIndex,dataByCoordSys:Wr.list})}function dispatchHighDownActually(Wr,Gr,Yr){var Zr=Yr.getZr(),Kr="axisPointerLastHighlights",Qr=inner$9(Zr)[Kr]||{},Jr=inner$9(Zr)[Kr]={};each$f(Wr,function(rn,an){var nn=rn.axisPointerModel.option;nn.status==="show"&&rn.triggerEmphasis&&each$f(nn.seriesDataIndices,function(sn){var ln=sn.seriesIndex+" | "+sn.dataIndex;Jr[ln]=sn})});var en=[],tn=[];each$f(Qr,function(rn,an){!Jr[an]&&tn.push(rn)}),each$f(Jr,function(rn,an){!Qr[an]&&en.push(rn)}),tn.length&&Yr.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:tn}),en.length&&Yr.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:en})}function findInputAxisInfo(Wr,Gr){for(var Yr=0;Yr<(Wr||[]).length;Yr++){var Zr=Wr[Yr];if(Gr.axis.dim===Zr.axisDim&&Gr.axis.model.componentIndex===Zr.axisIndex)return Zr}}function makeMapperParam(Wr){var Gr=Wr.axis.model,Yr={},Zr=Yr.axisDim=Wr.axis.dim;return Yr.axisIndex=Yr[Zr+"AxisIndex"]=Gr.componentIndex,Yr.axisName=Yr[Zr+"AxisName"]=Gr.name,Yr.axisId=Yr[Zr+"AxisId"]=Gr.id,Yr}function illegalPoint(Wr){return!Wr||Wr[0]==null||isNaN(Wr[0])||Wr[1]==null||isNaN(Wr[1])}function install$q(Wr){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),Wr.registerComponentModel(AxisPointerModel),Wr.registerComponentView(AxisPointerView),Wr.registerPreprocessor(function(Gr){if(Gr){(!Gr.axisPointer||Gr.axisPointer.length===0)&&(Gr.axisPointer={});var Yr=Gr.axisPointer.link;Yr&&!isArray$1(Yr)&&(Gr.axisPointer.link=[Yr])}}),Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.STATISTIC,function(Gr,Yr){Gr.getComponent("axisPointer").coordSysAxesInfo=collect(Gr,Yr)}),Wr.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(Wr){use(install$N),use(install$q)}var PolarAxisPointer=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Yr,Zr,Kr,Qr,Jr){var en=Kr.axis;en.dim==="angle"&&(this.animationThreshold=Math.PI/18);var tn=en.polar,rn=tn.getOtherAxis(en),an=rn.getExtent(),nn=en.dataToCoord(Zr),sn=Qr.get("type");if(sn&&sn!=="none"){var ln=buildElStyle(Qr),un=pointerShapeBuilder$1[sn](en,tn,nn,an);un.style=ln,Yr.graphicKey=un.type,Yr.pointer=un}var cn=Qr.get(["label","margin"]),hn=getLabelPosition(Zr,Kr,Qr,tn,cn);buildLabelElOption(Yr,Kr,Qr,Jr,hn)},Gr}(BaseAxisPointer);function getLabelPosition(Wr,Gr,Yr,Zr,Kr){var Qr=Gr.axis,Jr=Qr.dataToCoord(Wr),en=Zr.getAngleAxis().getExtent()[0];en=en/180*Math.PI;var tn=Zr.getRadiusAxis().getExtent(),rn,an,nn;if(Qr.dim==="radius"){var sn=create$1();rotate(sn,sn,en),translate(sn,sn,[Zr.cx,Zr.cy]),rn=applyTransform([Jr,-Kr],sn);var ln=Gr.getModel("axisLabel").get("rotate")||0,un=AxisBuilder.innerTextLayout(en,ln*Math.PI/180,-1);an=un.textAlign,nn=un.textVerticalAlign}else{var cn=tn[1];rn=Zr.coordToPoint([cn+Kr,Jr]);var hn=Zr.cx,dn=Zr.cy;an=Math.abs(rn[0]-hn)/cn<.3?"center":rn[0]>hn?"left":"right",nn=Math.abs(rn[1]-dn)/cn<.3?"middle":rn[1]>dn?"top":"bottom"}return{position:rn,align:an,verticalAlign:nn}}var pointerShapeBuilder$1={line:function(Wr,Gr,Yr,Zr){return Wr.dim==="angle"?{type:"Line",shape:makeLineShape(Gr.coordToPoint([Zr[0],Yr]),Gr.coordToPoint([Zr[1],Yr]))}:{type:"Circle",shape:{cx:Gr.cx,cy:Gr.cy,r:Yr}}},shadow:function(Wr,Gr,Yr,Zr){var Kr=Math.max(1,Wr.getBandWidth()),Qr=Math.PI/180;return Wr.dim==="angle"?{type:"Sector",shape:makeSectorShape(Gr.cx,Gr.cy,Zr[0],Zr[1],(-Yr-Kr/2)*Qr,(-Yr+Kr/2)*Qr)}:{type:"Sector",shape:makeSectorShape(Gr.cx,Gr.cy,Yr-Kr/2,Yr+Kr/2,0,Math.PI*2)}}},PolarModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.findAxisModel=function(Yr){var Zr,Kr=this.ecModel;return Kr.eachComponent(Yr,function(Qr){Qr.getCoordSysModel()===this&&(Zr=Qr)},this),Zr},Gr.type="polar",Gr.dependencies=["radiusAxis","angleAxis"],Gr.defaultOption={z:0,center:["50%","50%"],radius:"80%"},Gr}(ComponentModel),PolarAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},Gr.type="polarAxis",Gr}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="angleAxis",Gr}(PolarAxisModel),RadiusAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="radiusAxis",Gr}(PolarAxisModel),RadiusAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){return Wr.call(this,"radius",Yr,Zr)||this}return Gr.prototype.pointToData=function(Yr,Zr){return this.polar.pointToData(Yr,Zr)[this.dim==="radius"?0:1]},Gr}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr){return Wr.call(this,"angle",Yr,Zr||[0,360])||this}return Gr.prototype.pointToData=function(Yr,Zr){return this.polar.pointToData(Yr,Zr)[this.dim==="radius"?0:1]},Gr.prototype.calculateCategoryInterval=function(){var Yr=this,Zr=Yr.getLabelModel(),Kr=Yr.scale,Qr=Kr.getExtent(),Jr=Kr.count();if(Qr[1]-Qr[0]<1)return 0;var en=Qr[0],tn=Yr.dataToCoord(en+1)-Yr.dataToCoord(en),rn=Math.abs(tn),an=getBoundingRect(en==null?"":en+"",Zr.getFont(),"center","top"),nn=Math.max(an.height,7),sn=nn/rn;isNaN(sn)&&(sn=1/0);var ln=Math.max(0,Math.floor(sn)),un=inner$8(Yr.model),cn=un.lastAutoInterval,hn=un.lastTickCount;return cn!=null&&hn!=null&&Math.abs(cn-ln)<=1&&Math.abs(hn-Jr)<=1&&cn>ln?ln=cn:(un.lastTickCount=Jr,un.lastAutoInterval=ln),ln},Gr}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function Wr(Gr){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=Gr||"",this._radiusAxis.polar=this._angleAxis.polar=this}return Wr.prototype.containPoint=function(Gr){var Yr=this.pointToCoord(Gr);return this._radiusAxis.contain(Yr[0])&&this._angleAxis.contain(Yr[1])},Wr.prototype.containData=function(Gr){return this._radiusAxis.containData(Gr[0])&&this._angleAxis.containData(Gr[1])},Wr.prototype.getAxis=function(Gr){var Yr="_"+Gr+"Axis";return this[Yr]},Wr.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},Wr.prototype.getAxesByScale=function(Gr){var Yr=[],Zr=this._angleAxis,Kr=this._radiusAxis;return Zr.scale.type===Gr&&Yr.push(Zr),Kr.scale.type===Gr&&Yr.push(Kr),Yr},Wr.prototype.getAngleAxis=function(){return this._angleAxis},Wr.prototype.getRadiusAxis=function(){return this._radiusAxis},Wr.prototype.getOtherAxis=function(Gr){var Yr=this._angleAxis;return Gr===Yr?this._radiusAxis:Yr},Wr.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},Wr.prototype.getTooltipAxes=function(Gr){var Yr=Gr!=null&&Gr!=="auto"?this.getAxis(Gr):this.getBaseAxis();return{baseAxes:[Yr],otherAxes:[this.getOtherAxis(Yr)]}},Wr.prototype.dataToPoint=function(Gr,Yr){return this.coordToPoint([this._radiusAxis.dataToRadius(Gr[0],Yr),this._angleAxis.dataToAngle(Gr[1],Yr)])},Wr.prototype.pointToData=function(Gr,Yr){var Zr=this.pointToCoord(Gr);return[this._radiusAxis.radiusToData(Zr[0],Yr),this._angleAxis.angleToData(Zr[1],Yr)]},Wr.prototype.pointToCoord=function(Gr){var Yr=Gr[0]-this.cx,Zr=Gr[1]-this.cy,Kr=this.getAngleAxis(),Qr=Kr.getExtent(),Jr=Math.min(Qr[0],Qr[1]),en=Math.max(Qr[0],Qr[1]);Kr.inverse?Jr=en-360:en=Jr+360;var tn=Math.sqrt(Yr*Yr+Zr*Zr);Yr/=tn,Zr/=tn;for(var rn=Math.atan2(-Zr,Yr)/Math.PI*180,an=rn<Jr?1:-1;rn<Jr||rn>en;)rn+=an*360;return[tn,rn]},Wr.prototype.coordToPoint=function(Gr){var Yr=Gr[0],Zr=Gr[1]/180*Math.PI,Kr=Math.cos(Zr)*Yr+this.cx,Qr=-Math.sin(Zr)*Yr+this.cy;return[Kr,Qr]},Wr.prototype.getArea=function(){var Gr=this.getAngleAxis(),Yr=this.getRadiusAxis(),Zr=Yr.getExtent().slice();Zr[0]>Zr[1]&&Zr.reverse();var Kr=Gr.getExtent(),Qr=Math.PI/180,Jr=1e-4;return{cx:this.cx,cy:this.cy,r0:Zr[0],r:Zr[1],startAngle:-Kr[0]*Qr,endAngle:-Kr[1]*Qr,clockwise:Gr.inverse,contain:function(en,tn){var rn=en-this.cx,an=tn-this.cy,nn=rn*rn+an*an,sn=this.r,ln=this.r0;return sn!==ln&&nn-Jr<=sn*sn&&nn+Jr>=ln*ln}}},Wr.prototype.convertToPixel=function(Gr,Yr,Zr){var Kr=getCoordSys$2(Yr);return Kr===this?this.dataToPoint(Zr):null},Wr.prototype.convertFromPixel=function(Gr,Yr,Zr){var Kr=getCoordSys$2(Yr);return Kr===this?this.pointToData(Zr):null},Wr}();function getCoordSys$2(Wr){var Gr=Wr.seriesModel,Yr=Wr.polarModel;return Yr&&Yr.coordinateSystem||Gr&&Gr.coordinateSystem}function resizePolar(Wr,Gr,Yr){var Zr=Gr.get("center"),Kr=Yr.getWidth(),Qr=Yr.getHeight();Wr.cx=parsePercent(Zr[0],Kr),Wr.cy=parsePercent(Zr[1],Qr);var Jr=Wr.getRadiusAxis(),en=Math.min(Kr,Qr)/2,tn=Gr.get("radius");tn==null?tn=[0,"100%"]:isArray$1(tn)||(tn=[0,tn]);var rn=[parsePercent(tn[0],en),parsePercent(tn[1],en)];Jr.inverse?Jr.setExtent(rn[1],rn[0]):Jr.setExtent(rn[0],rn[1])}function updatePolarScale(Wr,Gr){var Yr=this,Zr=Yr.getAngleAxis(),Kr=Yr.getRadiusAxis();if(Zr.scale.setExtent(1/0,-1/0),Kr.scale.setExtent(1/0,-1/0),Wr.eachSeries(function(en){if(en.coordinateSystem===Yr){var tn=en.getData();each$f(getDataDimensionsOnAxis(tn,"radius"),function(rn){Kr.scale.unionExtentFromData(tn,rn)}),each$f(getDataDimensionsOnAxis(tn,"angle"),function(rn){Zr.scale.unionExtentFromData(tn,rn)})}}),niceScaleExtent(Zr.scale,Zr.model),niceScaleExtent(Kr.scale,Kr.model),Zr.type==="category"&&!Zr.onBand){var Qr=Zr.getExtent(),Jr=360/Zr.scale.count();Zr.inverse?Qr[1]+=Jr:Qr[1]-=Jr,Zr.setExtent(Qr[0],Qr[1])}}function isAngleAxisModel(Wr){return Wr.mainType==="angleAxis"}function setAxis(Wr,Gr){var Yr;if(Wr.type=Gr.get("type"),Wr.scale=createScaleByModel$1(Gr),Wr.onBand=Gr.get("boundaryGap")&&Wr.type==="category",Wr.inverse=Gr.get("inverse"),isAngleAxisModel(Gr)){Wr.inverse=Wr.inverse!==Gr.get("clockwise");var Zr=Gr.get("startAngle"),Kr=(Yr=Gr.get("endAngle"))!==null&&Yr!==void 0?Yr:Zr+(Wr.inverse?-360:360);Wr.setExtent(Zr,Kr)}Gr.axis=Wr,Wr.model=Gr}var polarCreator={dimensions:polarDimensions,create:function(Wr,Gr){var Yr=[];return Wr.eachComponent("polar",function(Zr,Kr){var Qr=new Polar(Kr+"");Qr.update=updatePolarScale;var Jr=Qr.getRadiusAxis(),en=Qr.getAngleAxis(),tn=Zr.findAxisModel("radiusAxis"),rn=Zr.findAxisModel("angleAxis");setAxis(Jr,tn),setAxis(en,rn),resizePolar(Qr,Zr,Gr),Yr.push(Qr),Zr.coordinateSystem=Qr,Qr.model=Zr}),Wr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="polar"){var Kr=Zr.getReferringComponents("polar",SINGLE_REFERRING).models[0];Zr.coordinateSystem=Kr.coordinateSystem}}),Yr}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(Wr,Gr,Yr){Gr[1]>Gr[0]&&(Gr=Gr.slice().reverse());var Zr=Wr.coordToPoint([Gr[0],Yr]),Kr=Wr.coordToPoint([Gr[1],Yr]);return{x1:Zr[0],y1:Zr[1],x2:Kr[0],y2:Kr[1]}}function getRadiusIdx(Wr){var Gr=Wr.getRadiusAxis();return Gr.inverse?0:1}function fixAngleOverlap(Wr){var Gr=Wr[0],Yr=Wr[Wr.length-1];Gr&&Yr&&Math.abs(Math.abs(Gr.coord-Yr.coord)-360)<1e-4&&Wr.pop()}var AngleAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.axisPointerClass="PolarAxisPointer",Yr}return Gr.prototype.render=function(Yr,Zr){if(this.group.removeAll(),!!Yr.get("show")){var Kr=Yr.axis,Qr=Kr.polar,Jr=Qr.getRadiusAxis().getExtent(),en=Kr.getTicksCoords(),tn=Kr.getMinorTicksCoords(),rn=map$1(Kr.getViewLabels(),function(an){an=clone$4(an);var nn=Kr.scale,sn=nn.type==="ordinal"?nn.getRawOrdinalNumber(an.tickValue):an.tickValue;return an.coord=Kr.dataToCoord(sn),an});fixAngleOverlap(rn),fixAngleOverlap(en),each$f(elementList,function(an){Yr.get([an,"show"])&&(!Kr.scale.isBlank()||an==="axisLine")&&angelAxisElementsBuilders[an](this.group,Yr,Qr,en,tn,Jr,rn)},this)}},Gr.type="angleAxis",Gr}(AxisView),angelAxisElementsBuilders={axisLine:function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getModel(["axisLine","lineStyle"]),en=Yr.getAngleAxis(),tn=Math.PI/180,rn=en.getExtent(),an=getRadiusIdx(Yr),nn=an?0:1,sn,ln=Math.abs(rn[1]-rn[0])===360?"Circle":"Arc";Qr[nn]===0?sn=new graphic[ln]({shape:{cx:Yr.cx,cy:Yr.cy,r:Qr[an],startAngle:-rn[0]*tn,endAngle:-rn[1]*tn,clockwise:en.inverse},style:Jr.getLineStyle(),z2:1,silent:!0}):sn=new Ring({shape:{cx:Yr.cx,cy:Yr.cy,r:Qr[an],r0:Qr[nn]},style:Jr.getLineStyle(),z2:1,silent:!0}),sn.style.fill=null,Wr.add(sn)},axisTick:function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getModel("axisTick"),en=(Jr.get("inside")?-1:1)*Jr.get("length"),tn=Qr[getRadiusIdx(Yr)],rn=map$1(Zr,function(an){return new Line$1({shape:getAxisLineShape(Yr,[tn,tn+en],an.coord)})});Wr.add(mergePath(rn,{style:defaults(Jr.getModel("lineStyle").getLineStyle(),{stroke:Gr.get(["axisLine","lineStyle","color"])})}))},minorTick:function(Wr,Gr,Yr,Zr,Kr,Qr){if(Kr.length){for(var Jr=Gr.getModel("axisTick"),en=Gr.getModel("minorTick"),tn=(Jr.get("inside")?-1:1)*en.get("length"),rn=Qr[getRadiusIdx(Yr)],an=[],nn=0;nn<Kr.length;nn++)for(var sn=0;sn<Kr[nn].length;sn++)an.push(new Line$1({shape:getAxisLineShape(Yr,[rn,rn+tn],Kr[nn][sn].coord)}));Wr.add(mergePath(an,{style:defaults(en.getModel("lineStyle").getLineStyle(),defaults(Jr.getLineStyle(),{stroke:Gr.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Gr.getCategories(!0),tn=Gr.getModel("axisLabel"),rn=tn.get("margin"),an=Gr.get("triggerEvent");each$f(Jr,function(nn,sn){var ln=tn,un=nn.tickValue,cn=Qr[getRadiusIdx(Yr)],hn=Yr.coordToPoint([cn+rn,nn.coord]),dn=Yr.cx,fn=Yr.cy,pn=Math.abs(hn[0]-dn)/cn<.3?"center":hn[0]>dn?"left":"right",gn=Math.abs(hn[1]-fn)/cn<.3?"middle":hn[1]>fn?"top":"bottom";if(en&&en[un]){var vn=en[un];isObject$3(vn)&&vn.textStyle&&(ln=new Model(vn.textStyle,tn,tn.ecModel))}var mn=new ZRText({silent:AxisBuilder.isLabelSilent(Gr),style:createTextStyle(ln,{x:hn[0],y:hn[1],fill:ln.getTextColor()||Gr.get(["axisLine","lineStyle","color"]),text:nn.formattedLabel,align:pn,verticalAlign:gn})});if(Wr.add(mn),an){var yn=AxisBuilder.makeAxisEventDataBase(Gr);yn.targetType="axisLabel",yn.value=nn.rawLabel,getECData(mn).eventData=yn}},this)},splitLine:function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getModel("splitLine"),en=Jr.getModel("lineStyle"),tn=en.get("color"),rn=0;tn=tn instanceof Array?tn:[tn];for(var an=[],nn=0;nn<Zr.length;nn++){var sn=rn++%tn.length;an[sn]=an[sn]||[],an[sn].push(new Line$1({shape:getAxisLineShape(Yr,Qr,Zr[nn].coord)}))}for(var nn=0;nn<an.length;nn++)Wr.add(mergePath(an[nn],{style:defaults({stroke:tn[nn%tn.length]},en.getLineStyle()),silent:!0,z:Gr.get("z")}))},minorSplitLine:function(Wr,Gr,Yr,Zr,Kr,Qr){if(Kr.length){for(var Jr=Gr.getModel("minorSplitLine"),en=Jr.getModel("lineStyle"),tn=[],rn=0;rn<Kr.length;rn++)for(var an=0;an<Kr[rn].length;an++)tn.push(new Line$1({shape:getAxisLineShape(Yr,Qr,Kr[rn][an].coord)}));Wr.add(mergePath(tn,{style:en.getLineStyle(),silent:!0,z:Gr.get("z")}))}},splitArea:function(Wr,Gr,Yr,Zr,Kr,Qr){if(Zr.length){var Jr=Gr.getModel("splitArea"),en=Jr.getModel("areaStyle"),tn=en.get("color"),rn=0;tn=tn instanceof Array?tn:[tn];for(var an=[],nn=Math.PI/180,sn=-Zr[0].coord*nn,ln=Math.min(Qr[0],Qr[1]),un=Math.max(Qr[0],Qr[1]),cn=Gr.get("clockwise"),hn=1,dn=Zr.length;hn<=dn;hn++){var fn=hn===dn?Zr[0].coord:Zr[hn].coord,pn=rn++%tn.length;an[pn]=an[pn]||[],an[pn].push(new Sector({shape:{cx:Yr.cx,cy:Yr.cy,r0:ln,r:un,startAngle:sn,endAngle:-fn*nn,clockwise:cn},silent:!0})),sn=-fn*nn}for(var hn=0;hn<an.length;hn++)Wr.add(mergePath(an[hn],{style:defaults({fill:tn[hn%tn.length]},en.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.axisPointerClass="PolarAxisPointer",Yr}return Gr.prototype.render=function(Yr,Zr){if(this.group.removeAll(),!!Yr.get("show")){var Kr=this._axisGroup,Qr=this._axisGroup=new Group$3;this.group.add(Qr);var Jr=Yr.axis,en=Jr.polar,tn=en.getAngleAxis(),rn=Jr.getTicksCoords(),an=Jr.getMinorTicksCoords(),nn=tn.getExtent()[0],sn=Jr.getExtent(),ln=layoutAxis(en,Yr,nn),un=new AxisBuilder(Yr,ln);each$f(axisBuilderAttrs$1,un.add,un),Qr.add(un.getGroup()),groupTransition(Kr,Qr,Yr),each$f(selfBuilderAttrs$1,function(cn){Yr.get([cn,"show"])&&!Jr.scale.isBlank()&&axisElementBuilders$1[cn](this.group,Yr,en,nn,sn,rn,an)},this)}},Gr.type="radiusAxis",Gr}(AxisView),axisElementBuilders$1={splitLine:function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.getModel("splitLine"),en=Jr.getModel("lineStyle"),tn=en.get("color"),rn=0,an=Yr.getAngleAxis(),nn=Math.PI/180,sn=an.getExtent(),ln=Math.abs(sn[1]-sn[0])===360?"Circle":"Arc";tn=tn instanceof Array?tn:[tn];for(var un=[],cn=0;cn<Qr.length;cn++){var hn=rn++%tn.length;un[hn]=un[hn]||[],un[hn].push(new graphic[ln]({shape:{cx:Yr.cx,cy:Yr.cy,r:Math.max(Qr[cn].coord,0),startAngle:-sn[0]*nn,endAngle:-sn[1]*nn,clockwise:an.inverse}}))}for(var cn=0;cn<un.length;cn++)Wr.add(mergePath(un[cn],{style:defaults({stroke:tn[cn%tn.length],fill:null},en.getLineStyle()),silent:!0}))},minorSplitLine:function(Wr,Gr,Yr,Zr,Kr,Qr,Jr){if(Jr.length){for(var en=Gr.getModel("minorSplitLine"),tn=en.getModel("lineStyle"),rn=[],an=0;an<Jr.length;an++)for(var nn=0;nn<Jr[an].length;nn++)rn.push(new Circle({shape:{cx:Yr.cx,cy:Yr.cy,r:Jr[an][nn].coord}}));Wr.add(mergePath(rn,{style:defaults({fill:null},tn.getLineStyle()),silent:!0}))}},splitArea:function(Wr,Gr,Yr,Zr,Kr,Qr){if(Qr.length){var Jr=Gr.getModel("splitArea"),en=Jr.getModel("areaStyle"),tn=en.get("color"),rn=0;tn=tn instanceof Array?tn:[tn];for(var an=[],nn=Qr[0].coord,sn=1;sn<Qr.length;sn++){var ln=rn++%tn.length;an[ln]=an[ln]||[],an[ln].push(new Sector({shape:{cx:Yr.cx,cy:Yr.cy,r0:nn,r:Qr[sn].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),nn=Qr[sn].coord}for(var sn=0;sn<an.length;sn++)Wr.add(mergePath(an[sn],{style:defaults({fill:tn[sn%tn.length]},en.getAreaStyle()),silent:!0}))}}};function layoutAxis(Wr,Gr,Yr){return{position:[Wr.cx,Wr.cy],rotation:Yr/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:Gr.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(Wr){return Wr.get("stack")||"__ec_stack_"+Wr.seriesIndex}function getAxisKey(Wr,Gr){return Gr.dim+Wr.model.componentIndex}function barLayoutPolar(Wr,Gr,Yr){var Zr={},Kr=calRadialBar(filter(Gr.getSeriesByType(Wr),function(Qr){return!Gr.isSeriesFiltered(Qr)&&Qr.coordinateSystem&&Qr.coordinateSystem.type==="polar"}));Gr.eachSeriesByType(Wr,function(Qr){if(Qr.coordinateSystem.type==="polar"){var Jr=Qr.getData(),en=Qr.coordinateSystem,tn=en.getBaseAxis(),rn=getAxisKey(en,tn),an=getSeriesStackId(Qr),nn=Kr[rn][an],sn=nn.offset,ln=nn.width,un=en.getOtherAxis(tn),cn=Qr.coordinateSystem.cx,hn=Qr.coordinateSystem.cy,dn=Qr.get("barMinHeight")||0,fn=Qr.get("barMinAngle")||0;Zr[an]=Zr[an]||[];for(var pn=Jr.mapDimension(un.dim),gn=Jr.mapDimension(tn.dim),vn=isDimensionStacked(Jr,pn),mn=tn.dim!=="radius"||!Qr.get("roundCap",!0),yn=un.model,xn=yn.get("startValue"),bn=un.dataToCoord(xn||0),Sn=0,wn=Jr.count();Sn<wn;Sn++){var _n=Jr.get(pn,Sn),An=Jr.get(gn,Sn),Cn=_n>=0?"p":"n",Tn=bn;vn&&(Zr[an][An]||(Zr[an][An]={p:bn,n:bn}),Tn=Zr[an][An][Cn]);var Mn=void 0,En=void 0,Ln=void 0,In=void 0;if(un.dim==="radius"){var Pn=un.dataToCoord(_n)-bn,Dn=tn.dataToCoord(An);Math.abs(Pn)<dn&&(Pn=(Pn<0?-1:1)*dn),Mn=Tn,En=Tn+Pn,Ln=Dn-sn,In=Ln-ln,vn&&(Zr[an][An][Cn]=En)}else{var kn=un.dataToCoord(_n,mn)-bn,Nn=tn.dataToCoord(An);Math.abs(kn)<fn&&(kn=(kn<0?-1:1)*fn),Mn=Nn+sn,En=Mn+ln,Ln=Tn,In=Tn+kn,vn&&(Zr[an][An][Cn]=In)}Jr.setItemLayout(Sn,{cx:cn,cy:hn,r0:Mn,r:En,startAngle:-Ln*Math.PI/180,endAngle:-In*Math.PI/180,clockwise:Ln>=In})}}})}function calRadialBar(Wr){var Gr={};each$f(Wr,function(Zr,Kr){var Qr=Zr.getData(),Jr=Zr.coordinateSystem,en=Jr.getBaseAxis(),tn=getAxisKey(Jr,en),rn=en.getExtent(),an=en.type==="category"?en.getBandWidth():Math.abs(rn[1]-rn[0])/Qr.count(),nn=Gr[tn]||{bandWidth:an,remainedWidth:an,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},sn=nn.stacks;Gr[tn]=nn;var ln=getSeriesStackId(Zr);sn[ln]||nn.autoWidthCount++,sn[ln]=sn[ln]||{width:0,maxWidth:0};var un=parsePercent(Zr.get("barWidth"),an),cn=parsePercent(Zr.get("barMaxWidth"),an),hn=Zr.get("barGap"),dn=Zr.get("barCategoryGap");un&&!sn[ln].width&&(un=Math.min(nn.remainedWidth,un),sn[ln].width=un,nn.remainedWidth-=un),cn&&(sn[ln].maxWidth=cn),hn!=null&&(nn.gap=hn),dn!=null&&(nn.categoryGap=dn)});var Yr={};return each$f(Gr,function(Zr,Kr){Yr[Kr]={};var Qr=Zr.stacks,Jr=Zr.bandWidth,en=parsePercent(Zr.categoryGap,Jr),tn=parsePercent(Zr.gap,1),rn=Zr.remainedWidth,an=Zr.autoWidthCount,nn=(rn-en)/(an+(an-1)*tn);nn=Math.max(nn,0),each$f(Qr,function(cn,hn){var dn=cn.maxWidth;dn&&dn<nn&&(dn=Math.min(dn,rn),cn.width&&(dn=Math.min(dn,cn.width)),rn-=dn,cn.width=dn,an--)}),nn=(rn-en)/(an+(an-1)*tn),nn=Math.max(nn,0);var sn=0,ln;each$f(Qr,function(cn,hn){cn.width||(cn.width=nn),ln=cn,sn+=cn.width*(1+tn)}),ln&&(sn-=ln.width*tn);var un=-sn/2;each$f(Qr,function(cn,hn){Yr[Kr][hn]=Yr[Kr][hn]||{offset:un,width:cn.width},un+=cn.width*(1+tn)})}),Yr}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="polar",Gr}(ComponentView);function install$o(Wr){use(install$q),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),Wr.registerCoordinateSystem("polar",polarCreator),Wr.registerComponentModel(PolarModel),Wr.registerComponentView(PolarView),axisModelCreator(Wr,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(Wr,"radius",RadiusAxisModel,radiusAxisExtraOption),Wr.registerComponentView(AngleAxisView),Wr.registerComponentView(RadiusAxisView),Wr.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(Wr,Gr){Gr=Gr||{};var Yr=Wr.coordinateSystem,Zr=Wr.axis,Kr={},Qr=Zr.position,Jr=Zr.orient,en=Yr.getRect(),tn=[en.x,en.x+en.width,en.y,en.y+en.height],rn={horizontal:{top:tn[2],bottom:tn[3]},vertical:{left:tn[0],right:tn[1]}};Kr.position=[Jr==="vertical"?rn.vertical[Qr]:tn[0],Jr==="horizontal"?rn.horizontal[Qr]:tn[3]];var an={horizontal:0,vertical:1};Kr.rotation=Math.PI/2*an[Jr];var nn={top:-1,bottom:1,right:1,left:-1};Kr.labelDirection=Kr.tickDirection=Kr.nameDirection=nn[Qr],Wr.get(["axisTick","inside"])&&(Kr.tickDirection=-Kr.tickDirection),retrieve(Gr.labelInside,Wr.get(["axisLabel","inside"]))&&(Kr.labelDirection=-Kr.labelDirection);var sn=Gr.rotate;return sn==null&&(sn=Wr.get(["axisLabel","rotate"])),Kr.labelRotation=Qr==="top"?-sn:sn,Kr.z2=1,Kr}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.axisPointerClass="SingleAxisPointer",Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){var Jr=this.group;Jr.removeAll();var en=this._axisGroup;this._axisGroup=new Group$3;var tn=layout$1(Yr),rn=new AxisBuilder(Yr,tn);each$f(axisBuilderAttrs,rn.add,rn),Jr.add(this._axisGroup),Jr.add(rn.getGroup()),each$f(selfBuilderAttrs,function(an){Yr.get([an,"show"])&&axisElementBuilders[an](this,this.group,this._axisGroup,Yr)},this),groupTransition(en,this._axisGroup,Yr),Wr.prototype.render.call(this,Yr,Zr,Kr,Qr)},Gr.prototype.remove=function(){rectCoordAxisHandleRemove(this)},Gr.type="singleAxis",Gr}(AxisView),axisElementBuilders={splitLine:function(Wr,Gr,Yr,Zr){var Kr=Zr.axis;if(!Kr.scale.isBlank()){var Qr=Zr.getModel("splitLine"),Jr=Qr.getModel("lineStyle"),en=Jr.get("color");en=en instanceof Array?en:[en];for(var tn=Jr.get("width"),rn=Zr.coordinateSystem.getRect(),an=Kr.isHorizontal(),nn=[],sn=0,ln=Kr.getTicksCoords({tickModel:Qr}),un=[],cn=[],hn=0;hn<ln.length;++hn){var dn=Kr.toGlobalCoord(ln[hn].coord);an?(un[0]=dn,un[1]=rn.y,cn[0]=dn,cn[1]=rn.y+rn.height):(un[0]=rn.x,un[1]=dn,cn[0]=rn.x+rn.width,cn[1]=dn);var fn=new Line$1({shape:{x1:un[0],y1:un[1],x2:cn[0],y2:cn[1]},silent:!0});subPixelOptimizeLine(fn.shape,tn);var pn=sn++%en.length;nn[pn]=nn[pn]||[],nn[pn].push(fn)}for(var gn=Jr.getLineStyle(["color"]),hn=0;hn<nn.length;++hn)Gr.add(mergePath(nn[hn],{style:defaults({stroke:en[hn%en.length]},gn),silent:!0}))}},splitArea:function(Wr,Gr,Yr,Zr){rectCoordAxisBuildSplitArea(Wr,Yr,Zr,Zr)}},SingleAxisModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.getCoordSysModel=function(){return this},Gr.type="singleAxis",Gr.layoutMode="box",Gr.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},Gr}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr,Jr){var en=Wr.call(this,Yr,Zr,Kr)||this;return en.type=Qr||"value",en.position=Jr||"bottom",en}return Gr.prototype.isHorizontal=function(){var Yr=this.position;return Yr==="top"||Yr==="bottom"},Gr.prototype.pointToData=function(Yr,Zr){return this.coordinateSystem.pointToData(Yr)[0]},Gr}(Axis),singleDimensions=["single"],Single=function(){function Wr(Gr,Yr,Zr){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=Gr,this._init(Gr,Yr,Zr)}return Wr.prototype._init=function(Gr,Yr,Zr){var Kr=this.dimension,Qr=new SingleAxis(Kr,createScaleByModel$1(Gr),[0,0],Gr.get("type"),Gr.get("position")),Jr=Qr.type==="category";Qr.onBand=Jr&&Gr.get("boundaryGap"),Qr.inverse=Gr.get("inverse"),Qr.orient=Gr.get("orient"),Gr.axis=Qr,Qr.model=Gr,Qr.coordinateSystem=this,this._axis=Qr},Wr.prototype.update=function(Gr,Yr){Gr.eachSeries(function(Zr){if(Zr.coordinateSystem===this){var Kr=Zr.getData();each$f(Kr.mapDimensionsAll(this.dimension),function(Qr){this._axis.scale.unionExtentFromData(Kr,Qr)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},Wr.prototype.resize=function(Gr,Yr){this._rect=getLayoutRect({left:Gr.get("left"),top:Gr.get("top"),right:Gr.get("right"),bottom:Gr.get("bottom"),width:Gr.get("width"),height:Gr.get("height")},{width:Yr.getWidth(),height:Yr.getHeight()}),this._adjustAxis()},Wr.prototype.getRect=function(){return this._rect},Wr.prototype._adjustAxis=function(){var Gr=this._rect,Yr=this._axis,Zr=Yr.isHorizontal(),Kr=Zr?[0,Gr.width]:[0,Gr.height],Qr=Yr.inverse?1:0;Yr.setExtent(Kr[Qr],Kr[1-Qr]),this._updateAxisTransform(Yr,Zr?Gr.x:Gr.y)},Wr.prototype._updateAxisTransform=function(Gr,Yr){var Zr=Gr.getExtent(),Kr=Zr[0]+Zr[1],Qr=Gr.isHorizontal();Gr.toGlobalCoord=Qr?function(Jr){return Jr+Yr}:function(Jr){return Kr-Jr+Yr},Gr.toLocalCoord=Qr?function(Jr){return Jr-Yr}:function(Jr){return Kr-Jr+Yr}},Wr.prototype.getAxis=function(){return this._axis},Wr.prototype.getBaseAxis=function(){return this._axis},Wr.prototype.getAxes=function(){return[this._axis]},Wr.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Wr.prototype.containPoint=function(Gr){var Yr=this.getRect(),Zr=this.getAxis(),Kr=Zr.orient;return Kr==="horizontal"?Zr.contain(Zr.toLocalCoord(Gr[0]))&&Gr[1]>=Yr.y&&Gr[1]<=Yr.y+Yr.height:Zr.contain(Zr.toLocalCoord(Gr[1]))&&Gr[0]>=Yr.y&&Gr[0]<=Yr.y+Yr.height},Wr.prototype.pointToData=function(Gr){var Yr=this.getAxis();return[Yr.coordToData(Yr.toLocalCoord(Gr[Yr.orient==="horizontal"?0:1]))]},Wr.prototype.dataToPoint=function(Gr){var Yr=this.getAxis(),Zr=this.getRect(),Kr=[],Qr=Yr.orient==="horizontal"?0:1;return Gr instanceof Array&&(Gr=Gr[0]),Kr[Qr]=Yr.toGlobalCoord(Yr.dataToCoord(+Gr)),Kr[1-Qr]=Qr===0?Zr.y+Zr.height/2:Zr.x+Zr.width/2,Kr},Wr.prototype.convertToPixel=function(Gr,Yr,Zr){var Kr=getCoordSys$1(Yr);return Kr===this?this.dataToPoint(Zr):null},Wr.prototype.convertFromPixel=function(Gr,Yr,Zr){var Kr=getCoordSys$1(Yr);return Kr===this?this.pointToData(Zr):null},Wr}();function getCoordSys$1(Wr){var Gr=Wr.seriesModel,Yr=Wr.singleAxisModel;return Yr&&Yr.coordinateSystem||Gr&&Gr.coordinateSystem}function create(Wr,Gr){var Yr=[];return Wr.eachComponent("singleAxis",function(Zr,Kr){var Qr=new Single(Zr,Wr,Gr);Qr.name="single_"+Kr,Qr.resize(Zr,Gr),Zr.coordinateSystem=Qr,Yr.push(Qr)}),Wr.eachSeries(function(Zr){if(Zr.get("coordinateSystem")==="singleAxis"){var Kr=Zr.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];Zr.coordinateSystem=Kr&&Kr.coordinateSystem}}),Yr}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.makeElOption=function(Yr,Zr,Kr,Qr,Jr){var en=Kr.axis,tn=en.coordinateSystem,rn=getGlobalExtent(tn,1-getPointDimIndex(en)),an=tn.dataToPoint(Zr)[0],nn=Qr.get("type");if(nn&&nn!=="none"){var sn=buildElStyle(Qr),ln=pointerShapeBuilder[nn](en,an,rn);ln.style=sn,Yr.graphicKey=ln.type,Yr.pointer=ln}var un=layout$1(Kr);buildCartesianSingleLabelElOption(Zr,Yr,un,Kr,Qr,Jr)},Gr.prototype.getHandleTransform=function(Yr,Zr,Kr){var Qr=layout$1(Zr,{labelInside:!1});Qr.labelMargin=Kr.get(["handle","margin"]);var Jr=getTransformedPosition(Zr.axis,Yr,Qr);return{x:Jr[0],y:Jr[1],rotation:Qr.rotation+(Qr.labelDirection<0?Math.PI:0)}},Gr.prototype.updateHandleTransform=function(Yr,Zr,Kr,Qr){var Jr=Kr.axis,en=Jr.coordinateSystem,tn=getPointDimIndex(Jr),rn=getGlobalExtent(en,tn),an=[Yr.x,Yr.y];an[tn]+=Zr[tn],an[tn]=Math.min(rn[1],an[tn]),an[tn]=Math.max(rn[0],an[tn]);var nn=getGlobalExtent(en,1-tn),sn=(nn[1]+nn[0])/2,ln=[sn,sn];return ln[tn]=an[tn],{x:an[0],y:an[1],rotation:Yr.rotation,cursorPoint:ln,tooltipOption:{verticalAlign:"middle"}}},Gr}(BaseAxisPointer),pointerShapeBuilder={line:function(Wr,Gr,Yr){var Zr=makeLineShape([Gr,Yr[0]],[Gr,Yr[1]],getPointDimIndex(Wr));return{type:"Line",subPixelOptimize:!0,shape:Zr}},shadow:function(Wr,Gr,Yr){var Zr=Wr.getBandWidth(),Kr=Yr[1]-Yr[0];return{type:"Rect",shape:makeRectShape([Gr-Zr/2,Yr[0]],[Zr,Kr],getPointDimIndex(Wr))}}};function getPointDimIndex(Wr){return Wr.isHorizontal()?0:1}function getGlobalExtent(Wr,Gr){var Yr=Wr.getRect();return[Yr[XY$1[Gr]],Yr[XY$1[Gr]]+Yr[WH$1[Gr]]]}var SingleView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="single",Gr}(ComponentView);function install$n(Wr){use(install$q),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),Wr.registerComponentView(SingleView),Wr.registerComponentView(SingleAxisView),Wr.registerComponentModel(SingleAxisModel),axisModelCreator(Wr,"single",SingleAxisModel,SingleAxisModel.defaultOption),Wr.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr,Kr){var Qr=getLayoutParams(Yr);Wr.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(Yr,Qr)},Gr.prototype.mergeOption=function(Yr){Wr.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,Yr)},Gr.prototype.getCellSize=function(){return this.option.cellSize},Gr.type="calendar",Gr.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},Gr}(ComponentModel);function mergeAndNormalizeLayoutParams$1(Wr,Gr){var Yr=Wr.cellSize,Zr;isArray$1(Yr)?Zr=Yr:Zr=Wr.cellSize=[Yr,Yr],Zr.length===1&&(Zr[1]=Zr[0]);var Kr=map$1([0,1],function(Qr){return sizeCalculable(Gr,Qr)&&(Zr[Qr]="auto"),Zr[Qr]!=null&&Zr[Qr]!=="auto"});mergeLayoutParam(Wr,Gr,{type:"box",ignoreSize:Kr})}var CalendarView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this.group;Qr.removeAll();var Jr=Yr.coordinateSystem,en=Jr.getRangeInfo(),tn=Jr.getOrient(),rn=Zr.getLocaleModel();this._renderDayRect(Yr,en,Qr),this._renderLines(Yr,en,tn,Qr),this._renderYearText(Yr,en,tn,Qr),this._renderMonthText(Yr,rn,tn,Qr),this._renderWeekText(Yr,rn,en,tn,Qr)},Gr.prototype._renderDayRect=function(Yr,Zr,Kr){for(var Qr=Yr.coordinateSystem,Jr=Yr.getModel("itemStyle").getItemStyle(),en=Qr.getCellWidth(),tn=Qr.getCellHeight(),rn=Zr.start.time;rn<=Zr.end.time;rn=Qr.getNextNDay(rn,1).time){var an=Qr.dataToRect([rn],!1).tl,nn=new Rect$2({shape:{x:an[0],y:an[1],width:en,height:tn},cursor:"default",style:Jr});Kr.add(nn)}},Gr.prototype._renderLines=function(Yr,Zr,Kr,Qr){var Jr=this,en=Yr.coordinateSystem,tn=Yr.getModel(["splitLine","lineStyle"]).getLineStyle(),rn=Yr.get(["splitLine","show"]),an=tn.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var nn=Zr.start,sn=0;nn.time<=Zr.end.time;sn++){un(nn.formatedDate),sn===0&&(nn=en.getDateInfo(Zr.start.y+"-"+Zr.start.m));var ln=nn.date;ln.setMonth(ln.getMonth()+1),nn=en.getDateInfo(ln)}un(en.getNextNDay(Zr.end.time,1).formatedDate);function un(cn){Jr._firstDayOfMonth.push(en.getDateInfo(cn)),Jr._firstDayPoints.push(en.dataToRect([cn],!1).tl);var hn=Jr._getLinePointsOfOneWeek(Yr,cn,Kr);Jr._tlpoints.push(hn[0]),Jr._blpoints.push(hn[hn.length-1]),rn&&Jr._drawSplitline(hn,tn,Qr)}rn&&this._drawSplitline(Jr._getEdgesPoints(Jr._tlpoints,an,Kr),tn,Qr),rn&&this._drawSplitline(Jr._getEdgesPoints(Jr._blpoints,an,Kr),tn,Qr)},Gr.prototype._getEdgesPoints=function(Yr,Zr,Kr){var Qr=[Yr[0].slice(),Yr[Yr.length-1].slice()],Jr=Kr==="horizontal"?0:1;return Qr[0][Jr]=Qr[0][Jr]-Zr/2,Qr[1][Jr]=Qr[1][Jr]+Zr/2,Qr},Gr.prototype._drawSplitline=function(Yr,Zr,Kr){var Qr=new Polyline$1({z2:20,shape:{points:Yr},style:Zr});Kr.add(Qr)},Gr.prototype._getLinePointsOfOneWeek=function(Yr,Zr,Kr){for(var Qr=Yr.coordinateSystem,Jr=Qr.getDateInfo(Zr),en=[],tn=0;tn<7;tn++){var rn=Qr.getNextNDay(Jr.time,tn),an=Qr.dataToRect([rn.time],!1);en[2*rn.day]=an.tl,en[2*rn.day+1]=an[Kr==="horizontal"?"bl":"tr"]}return en},Gr.prototype._formatterLabel=function(Yr,Zr){return isString(Yr)&&Yr?formatTplSimple(Yr,Zr):isFunction(Yr)?Yr(Zr):Zr.nameMap},Gr.prototype._yearTextPositionControl=function(Yr,Zr,Kr,Qr,Jr){var en=Zr[0],tn=Zr[1],rn=["center","bottom"];Qr==="bottom"?(tn+=Jr,rn=["center","top"]):Qr==="left"?en-=Jr:Qr==="right"?(en+=Jr,rn=["center","top"]):tn-=Jr;var an=0;return(Qr==="left"||Qr==="right")&&(an=Math.PI/2),{rotation:an,x:en,y:tn,style:{align:rn[0],verticalAlign:rn[1]}}},Gr.prototype._renderYearText=function(Yr,Zr,Kr,Qr){var Jr=Yr.getModel("yearLabel");if(Jr.get("show")){var en=Jr.get("margin"),tn=Jr.get("position");tn||(tn=Kr!=="horizontal"?"top":"left");var rn=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],an=(rn[0][0]+rn[1][0])/2,nn=(rn[0][1]+rn[1][1])/2,sn=Kr==="horizontal"?0:1,ln={top:[an,rn[sn][1]],bottom:[an,rn[1-sn][1]],left:[rn[1-sn][0],nn],right:[rn[sn][0],nn]},un=Zr.start.y;+Zr.end.y>+Zr.start.y&&(un=un+"-"+Zr.end.y);var cn=Jr.get("formatter"),hn={start:Zr.start.y,end:Zr.end.y,nameMap:un},dn=this._formatterLabel(cn,hn),fn=new ZRText({z2:30,style:createTextStyle(Jr,{text:dn}),silent:Jr.get("silent")});fn.attr(this._yearTextPositionControl(fn,ln[tn],Kr,tn,en)),Qr.add(fn)}},Gr.prototype._monthTextPositionControl=function(Yr,Zr,Kr,Qr,Jr){var en="left",tn="top",rn=Yr[0],an=Yr[1];return Kr==="horizontal"?(an=an+Jr,Zr&&(en="center"),Qr==="start"&&(tn="bottom")):(rn=rn+Jr,Zr&&(tn="middle"),Qr==="start"&&(en="right")),{x:rn,y:an,align:en,verticalAlign:tn}},Gr.prototype._renderMonthText=function(Yr,Zr,Kr,Qr){var Jr=Yr.getModel("monthLabel");if(Jr.get("show")){var en=Jr.get("nameMap"),tn=Jr.get("margin"),rn=Jr.get("position"),an=Jr.get("align"),nn=[this._tlpoints,this._blpoints];(!en||isString(en))&&(en&&(Zr=getLocaleModel(en)||Zr),en=Zr.get(["time","monthAbbr"])||[]);var sn=rn==="start"?0:1,ln=Kr==="horizontal"?0:1;tn=rn==="start"?-tn:tn;for(var un=an==="center",cn=Jr.get("silent"),hn=0;hn<nn[sn].length-1;hn++){var dn=nn[sn][hn].slice(),fn=this._firstDayOfMonth[hn];if(un){var pn=this._firstDayPoints[hn];dn[ln]=(pn[ln]+nn[0][hn+1][ln])/2}var gn=Jr.get("formatter"),vn=en[+fn.m-1],mn={yyyy:fn.y,yy:(fn.y+"").slice(2),MM:fn.m,M:+fn.m,nameMap:vn},yn=this._formatterLabel(gn,mn),xn=new ZRText({z2:30,style:extend(createTextStyle(Jr,{text:yn}),this._monthTextPositionControl(dn,un,Kr,rn,tn)),silent:cn});Qr.add(xn)}}},Gr.prototype._weekTextPositionControl=function(Yr,Zr,Kr,Qr,Jr){var en="center",tn="middle",rn=Yr[0],an=Yr[1],nn=Kr==="start";return Zr==="horizontal"?(rn=rn+Qr+(nn?1:-1)*Jr[0]/2,en=nn?"right":"left"):(an=an+Qr+(nn?1:-1)*Jr[1]/2,tn=nn?"bottom":"top"),{x:rn,y:an,align:en,verticalAlign:tn}},Gr.prototype._renderWeekText=function(Yr,Zr,Kr,Qr,Jr){var en=Yr.getModel("dayLabel");if(en.get("show")){var tn=Yr.coordinateSystem,rn=en.get("position"),an=en.get("nameMap"),nn=en.get("margin"),sn=tn.getFirstDayOfWeek();if(!an||isString(an)){an&&(Zr=getLocaleModel(an)||Zr);var ln=Zr.get(["time","dayOfWeekShort"]);an=ln||map$1(Zr.get(["time","dayOfWeekAbbr"]),function(mn){return mn[0]})}var un=tn.getNextNDay(Kr.end.time,7-Kr.lweek).time,cn=[tn.getCellWidth(),tn.getCellHeight()];nn=parsePercent(nn,Math.min(cn[1],cn[0])),rn==="start"&&(un=tn.getNextNDay(Kr.start.time,-(7+Kr.fweek)).time,nn=-nn);for(var hn=en.get("silent"),dn=0;dn<7;dn++){var fn=tn.getNextNDay(un,dn),pn=tn.dataToRect([fn.time],!1).center,gn=dn;gn=Math.abs((dn+sn)%7);var vn=new ZRText({z2:30,style:extend(createTextStyle(en,{text:an[gn]}),this._weekTextPositionControl(pn,Qr,rn,nn,cn)),silent:hn});Jr.add(vn)}}},Gr.type="calendar",Gr}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function Wr(Gr,Yr,Zr){this.type="calendar",this.dimensions=Wr.dimensions,this.getDimensionsInfo=Wr.getDimensionsInfo,this._model=Gr}return Wr.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Wr.prototype.getRangeInfo=function(){return this._rangeInfo},Wr.prototype.getModel=function(){return this._model},Wr.prototype.getRect=function(){return this._rect},Wr.prototype.getCellWidth=function(){return this._sw},Wr.prototype.getCellHeight=function(){return this._sh},Wr.prototype.getOrient=function(){return this._orient},Wr.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Wr.prototype.getDateInfo=function(Gr){Gr=parseDate(Gr);var Yr=Gr.getFullYear(),Zr=Gr.getMonth()+1,Kr=Zr<10?"0"+Zr:""+Zr,Qr=Gr.getDate(),Jr=Qr<10?"0"+Qr:""+Qr,en=Gr.getDay();return en=Math.abs((en+7-this.getFirstDayOfWeek())%7),{y:Yr+"",m:Kr,d:Jr,day:en,time:Gr.getTime(),formatedDate:Yr+"-"+Kr+"-"+Jr,date:Gr}},Wr.prototype.getNextNDay=function(Gr,Yr){return Yr=Yr||0,Yr===0?this.getDateInfo(Gr):(Gr=new Date(this.getDateInfo(Gr).time),Gr.setDate(Gr.getDate()+Yr),this.getDateInfo(Gr))},Wr.prototype.update=function(Gr,Yr){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var Zr=this._rangeInfo.weeks||1,Kr=["width","height"],Qr=this._model.getCellSize().slice(),Jr=this._model.getBoxLayoutParams(),en=this._orient==="horizontal"?[Zr,7]:[7,Zr];each$f([0,1],function(nn){an(Qr,nn)&&(Jr[Kr[nn]]=Qr[nn]*en[nn])});var tn={width:Yr.getWidth(),height:Yr.getHeight()},rn=this._rect=getLayoutRect(Jr,tn);each$f([0,1],function(nn){an(Qr,nn)||(Qr[nn]=rn[Kr[nn]]/en[nn])});function an(nn,sn){return nn[sn]!=null&&nn[sn]!=="auto"}this._sw=Qr[0],this._sh=Qr[1]},Wr.prototype.dataToPoint=function(Gr,Yr){isArray$1(Gr)&&(Gr=Gr[0]),Yr==null&&(Yr=!0);var Zr=this.getDateInfo(Gr),Kr=this._rangeInfo,Qr=Zr.formatedDate;if(Yr&&!(Zr.time>=Kr.start.time&&Zr.time<Kr.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var Jr=Zr.day,en=this._getRangeInfo([Kr.start.time,Qr]).nthWeek;return this._orient==="vertical"?[this._rect.x+Jr*this._sw+this._sw/2,this._rect.y+en*this._sh+this._sh/2]:[this._rect.x+en*this._sw+this._sw/2,this._rect.y+Jr*this._sh+this._sh/2]},Wr.prototype.pointToData=function(Gr){var Yr=this.pointToDate(Gr);return Yr&&Yr.time},Wr.prototype.dataToRect=function(Gr,Yr){var Zr=this.dataToPoint(Gr,Yr);return{contentShape:{x:Zr[0]-(this._sw-this._lineWidth)/2,y:Zr[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Zr,tl:[Zr[0]-this._sw/2,Zr[1]-this._sh/2],tr:[Zr[0]+this._sw/2,Zr[1]-this._sh/2],br:[Zr[0]+this._sw/2,Zr[1]+this._sh/2],bl:[Zr[0]-this._sw/2,Zr[1]+this._sh/2]}},Wr.prototype.pointToDate=function(Gr){var Yr=Math.floor((Gr[0]-this._rect.x)/this._sw)+1,Zr=Math.floor((Gr[1]-this._rect.y)/this._sh)+1,Kr=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(Zr,Yr-1,Kr):this._getDateByWeeksAndDay(Yr,Zr-1,Kr)},Wr.prototype.convertToPixel=function(Gr,Yr,Zr){var Kr=getCoordSys(Yr);return Kr===this?Kr.dataToPoint(Zr):null},Wr.prototype.convertFromPixel=function(Gr,Yr,Zr){var Kr=getCoordSys(Yr);return Kr===this?Kr.pointToData(Zr):null},Wr.prototype.containPoint=function(Gr){return console.warn("Not implemented."),!1},Wr.prototype._initRangeOption=function(){var Gr=this._model.get("range"),Yr;if(isArray$1(Gr)&&Gr.length===1&&(Gr=Gr[0]),isArray$1(Gr))Yr=Gr;else{var Zr=Gr.toString();if(/^\d{4}$/.test(Zr)&&(Yr=[Zr+"-01-01",Zr+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(Zr)){var Kr=this.getDateInfo(Zr),Qr=Kr.date;Qr.setMonth(Qr.getMonth()+1);var Jr=this.getNextNDay(Qr,-1);Yr=[Kr.formatedDate,Jr.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(Zr)&&(Yr=[Zr,Zr])}if(!Yr)return Gr;var en=this._getRangeInfo(Yr);return en.start.time>en.end.time&&Yr.reverse(),Yr},Wr.prototype._getRangeInfo=function(Gr){var Yr=[this.getDateInfo(Gr[0]),this.getDateInfo(Gr[1])],Zr;Yr[0].time>Yr[1].time&&(Zr=!0,Yr.reverse());var Kr=Math.floor(Yr[1].time/PROXIMATE_ONE_DAY)-Math.floor(Yr[0].time/PROXIMATE_ONE_DAY)+1,Qr=new Date(Yr[0].time),Jr=Qr.getDate(),en=Yr[1].date.getDate();Qr.setDate(Jr+Kr-1);var tn=Qr.getDate();if(tn!==en)for(var rn=Qr.getTime()-Yr[1].time>0?1:-1;(tn=Qr.getDate())!==en&&(Qr.getTime()-Yr[1].time)*rn>0;)Kr-=rn,Qr.setDate(tn-rn);var an=Math.floor((Kr+Yr[0].day+6)/7),nn=Zr?-an+1:an-1;return Zr&&Yr.reverse(),{range:[Yr[0].formatedDate,Yr[1].formatedDate],start:Yr[0],end:Yr[1],allDay:Kr,weeks:an,nthWeek:nn,fweek:Yr[0].day,lweek:Yr[1].day}},Wr.prototype._getDateByWeeksAndDay=function(Gr,Yr,Zr){var Kr=this._getRangeInfo(Zr);if(Gr>Kr.weeks||Gr===0&&Yr<Kr.fweek||Gr===Kr.weeks&&Yr>Kr.lweek)return null;var Qr=(Gr-1)*7-Kr.fweek+Yr,Jr=new Date(Kr.start.time);return Jr.setDate(+Kr.start.d+Qr),this.getDateInfo(Jr)},Wr.create=function(Gr,Yr){var Zr=[];return Gr.eachComponent("calendar",function(Kr){var Qr=new Wr(Kr);Zr.push(Qr),Kr.coordinateSystem=Qr}),Gr.eachSeries(function(Kr){Kr.get("coordinateSystem")==="calendar"&&(Kr.coordinateSystem=Zr[Kr.get("calendarIndex")||0])}),Zr},Wr.dimensions=["time","value"],Wr}();function getCoordSys(Wr){var Gr=Wr.calendarModel,Yr=Wr.seriesModel,Zr=Gr?Gr.coordinateSystem:Yr?Yr.coordinateSystem:null;return Zr}function install$m(Wr){Wr.registerComponentModel(CalendarModel),Wr.registerComponentView(CalendarView),Wr.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(Wr,Gr){var Yr=Wr.existing;if(Gr.id=Wr.keyInfo.id,!Gr.type&&Yr&&(Gr.type=Yr.type),Gr.parentId==null){var Zr=Gr.parentOption;Zr?Gr.parentId=Zr.id:Yr&&(Gr.parentId=Yr.parentId)}Gr.parentOption=null}function isSetLoc(Wr,Gr){var Yr;return each$f(Gr,function(Zr){Wr[Zr]!=null&&Wr[Zr]!=="auto"&&(Yr=!0)}),Yr}function mergeNewElOptionToExist(Wr,Gr,Yr){var Zr=extend({},Yr),Kr=Wr[Gr],Qr=Yr.$action||"merge";Qr==="merge"?Kr?(merge(Kr,Zr,!0),mergeLayoutParam(Kr,Zr,{ignoreSize:!0}),copyLayoutParams(Yr,Kr),copyTransitionInfo(Yr,Kr),copyTransitionInfo(Yr,Kr,"shape"),copyTransitionInfo(Yr,Kr,"style"),copyTransitionInfo(Yr,Kr,"extra"),Yr.clipPath=Kr.clipPath):Wr[Gr]=Zr:Qr==="replace"?Wr[Gr]=Zr:Qr==="remove"&&Kr&&(Wr[Gr]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(Wr,Gr,Yr){if(Yr&&(!Wr[Yr]&&Gr[Yr]&&(Wr[Yr]={}),Wr=Wr[Yr],Gr=Gr[Yr]),!(!Wr||!Gr))for(var Zr=Yr?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr];Wr[Qr]==null&&Gr[Qr]!=null&&(Wr[Qr]=Gr[Qr])}}function setLayoutInfoToExist(Wr,Gr){if(Wr&&(Wr.hv=Gr.hv=[isSetLoc(Gr,["left","right"]),isSetLoc(Gr,["top","bottom"])],Wr.type==="group")){var Yr=Wr,Zr=Gr;Yr.width==null&&(Yr.width=Zr.width=0),Yr.height==null&&(Yr.height=Zr.height=0)}}var GraphicComponentModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.preventAutoZ=!0,Yr}return Gr.prototype.mergeOption=function(Yr,Zr){var Kr=this.option.elements;this.option.elements=null,Wr.prototype.mergeOption.call(this,Yr,Zr),this.option.elements=Kr},Gr.prototype.optionUpdated=function(Yr,Zr){var Kr=this.option,Qr=(Zr?Kr:Yr).elements,Jr=Kr.elements=Zr?[]:Kr.elements,en=[];this._flatten(Qr,en,null);var tn=mappingToExists(Jr,en,"normalMerge"),rn=this._elOptionsToUpdate=[];each$f(tn,function(an,nn){var sn=an.newOption;sn&&(rn.push(sn),setKeyInfoToNewElOption(an,sn),mergeNewElOptionToExist(Jr,nn,sn),setLayoutInfoToExist(Jr[nn],sn))},this),Kr.elements=filter(Jr,function(an){return an&&delete an.$action,an!=null})},Gr.prototype._flatten=function(Yr,Zr,Kr){each$f(Yr,function(Qr){if(Qr){Kr&&(Qr.parentOption=Kr),Zr.push(Qr);var Jr=Qr.children;Jr&&Jr.length&&this._flatten(Jr,Zr,Qr),delete Qr.children}},this)},Gr.prototype.useElOptionsToUpdate=function(){var Yr=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,Yr},Gr.type="graphic",Gr.defaultOption={elements:[]},Gr}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(){this._elMap=createHashMap()},Gr.prototype.render=function(Yr,Zr,Kr){Yr!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=Yr,this._updateElements(Yr),this._relocate(Yr,Kr)},Gr.prototype._updateElements=function(Yr){var Zr=Yr.useElOptionsToUpdate();if(Zr){var Kr=this._elMap,Qr=this.group,Jr=Yr.get("z"),en=Yr.get("zlevel");each$f(Zr,function(tn){var rn=convertOptionIdName(tn.id,null),an=rn!=null?Kr.get(rn):null,nn=convertOptionIdName(tn.parentId,null),sn=nn!=null?Kr.get(nn):Qr,ln=tn.type,un=tn.style;ln==="text"&&un&&tn.hv&&tn.hv[1]&&(un.textVerticalAlign=un.textBaseline=un.verticalAlign=un.align=null);var cn=tn.textContent,hn=tn.textConfig;if(un&&isEC4CompatibleStyle(un,ln,!!hn,!!cn)){var dn=convertFromEC4CompatibleStyle(un,ln,!0);!hn&&dn.textConfig&&(hn=tn.textConfig=dn.textConfig),!cn&&dn.textContent&&(cn=dn.textContent)}var fn=getCleanedElOption(tn),pn=tn.$action||"merge",gn=pn==="merge",vn=pn==="replace";if(gn){var mn=!an,yn=an;mn?yn=createEl(rn,sn,tn.type,Kr):(yn&&(inner$7(yn).isNew=!1),stopPreviousKeyframeAnimationAndRestore(yn)),yn&&(applyUpdateTransition(yn,fn,Yr,{isInit:mn}),updateCommonAttrs(yn,tn,Jr,en))}else if(vn){removeEl$1(an,tn,Kr,Yr);var xn=createEl(rn,sn,tn.type,Kr);xn&&(applyUpdateTransition(xn,fn,Yr,{isInit:!0}),updateCommonAttrs(xn,tn,Jr,en))}else pn==="remove"&&(updateLeaveTo(an,tn),removeEl$1(an,tn,Kr,Yr));var bn=Kr.get(rn);if(bn&&cn)if(gn){var Sn=bn.getTextContent();Sn?Sn.attr(cn):bn.setTextContent(new ZRText(cn))}else vn&&bn.setTextContent(new ZRText(cn));if(bn){var wn=tn.clipPath;if(wn){var _n=wn.type,An=void 0,mn=!1;if(gn){var Cn=bn.getClipPath();mn=!Cn||inner$7(Cn).type!==_n,An=mn?newEl(_n):Cn}else vn&&(mn=!0,An=newEl(_n));bn.setClipPath(An),applyUpdateTransition(An,wn,Yr,{isInit:mn}),applyKeyframeAnimation(An,wn.keyframeAnimation,Yr)}var Tn=inner$7(bn);bn.setTextConfig(hn),Tn.option=tn,setEventData(bn,Yr,tn),setTooltipConfig({el:bn,componentModel:Yr,itemName:bn.name,itemTooltipOption:tn.tooltip}),applyKeyframeAnimation(bn,tn.keyframeAnimation,Yr)}})}},Gr.prototype._relocate=function(Yr,Zr){for(var Kr=Yr.option.elements,Qr=this.group,Jr=this._elMap,en=Zr.getWidth(),tn=Zr.getHeight(),rn=["x","y"],an=0;an<Kr.length;an++){var nn=Kr[an],sn=convertOptionIdName(nn.id,null),ln=sn!=null?Jr.get(sn):null;if(!(!ln||!ln.isGroup)){var un=ln.parent,cn=un===Qr,hn=inner$7(ln),dn=inner$7(un);hn.width=parsePercent(hn.option.width,cn?en:dn.width)||0,hn.height=parsePercent(hn.option.height,cn?tn:dn.height)||0}}for(var an=Kr.length-1;an>=0;an--){var nn=Kr[an],sn=convertOptionIdName(nn.id,null),ln=sn!=null?Jr.get(sn):null;if(ln){var un=ln.parent,dn=inner$7(un),fn=un===Qr?{width:en,height:tn}:{width:dn.width,height:dn.height},pn={},gn=positionElement(ln,nn,fn,null,{hv:nn.hv,boundingMode:nn.bounding},pn);if(!inner$7(ln).isNew&&gn){for(var vn=nn.transition,mn={},yn=0;yn<rn.length;yn++){var xn=rn[yn],bn=pn[xn];vn&&(isTransitionAll(vn)||indexOf(vn,xn)>=0)?mn[xn]=bn:ln[xn]=bn}updateProps$1(ln,mn,Yr,0)}else ln.attr(pn)}}},Gr.prototype._clear=function(){var Yr=this,Zr=this._elMap;Zr.each(function(Kr){removeEl$1(Kr,inner$7(Kr).option,Zr,Yr._lastGraphicModel)}),this._elMap=createHashMap()},Gr.prototype.dispose=function(){this._clear()},Gr.type="graphic",Gr}(ComponentView);function newEl(Wr){var Gr=hasOwn(nonShapeGraphicElements,Wr)?nonShapeGraphicElements[Wr]:getShapeClass(Wr),Yr=new Gr({});return inner$7(Yr).type=Wr,Yr}function createEl(Wr,Gr,Yr,Zr){var Kr=newEl(Yr);return Gr.add(Kr),Zr.set(Wr,Kr),inner$7(Kr).id=Wr,inner$7(Kr).isNew=!0,Kr}function removeEl$1(Wr,Gr,Yr,Zr){var Kr=Wr&&Wr.parent;Kr&&(Wr.type==="group"&&Wr.traverse(function(Qr){removeEl$1(Qr,Gr,Yr,Zr)}),applyLeaveTransition(Wr,Gr,Zr),Yr.removeKey(inner$7(Wr).id))}function updateCommonAttrs(Wr,Gr,Yr,Zr){Wr.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",Zr||0],["z",Yr||0],["z2",0]],function(Kr){var Qr=Kr[0];hasOwn(Gr,Qr)?Wr[Qr]=retrieve2(Gr[Qr],Kr[1]):Wr[Qr]==null&&(Wr[Qr]=Kr[1])}),each$f(keys(Gr),function(Kr){if(Kr.indexOf("on")===0){var Qr=Gr[Kr];Wr[Kr]=isFunction(Qr)?Qr:null}}),hasOwn(Gr,"draggable")&&(Wr.draggable=Gr.draggable),Gr.name!=null&&(Wr.name=Gr.name),Gr.id!=null&&(Wr.id=Gr.id)}function getCleanedElOption(Wr){return Wr=extend({},Wr),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(Gr){delete Wr[Gr]}),Wr}function setEventData(Wr,Gr,Yr){var Zr=getECData(Wr).eventData;!Wr.silent&&!Wr.ignore&&!Zr&&(Zr=getECData(Wr).eventData={componentType:"graphic",componentIndex:Gr.componentIndex,name:Wr.name}),Zr&&(Zr.info=Yr.info)}function install$l(Wr){Wr.registerComponentModel(GraphicComponentModel),Wr.registerComponentView(GraphicComponentView),Wr.registerPreprocessor(function(Gr){var Yr=Gr.graphic;isArray$1(Yr)?!Yr[0]||!Yr[0].elements?Gr.graphic=[{elements:Yr}]:Gr.graphic=[Gr.graphic[0]]:Yr&&!Yr.elements&&(Gr.graphic=[{elements:[Yr]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(Wr){var Gr=Wr.get("coordinateSystem");return indexOf(SERIES_COORDS,Gr)>=0}function getAxisMainType(Wr){return Wr+"Axis"}function findEffectedDataZooms(Wr,Gr){var Yr=createHashMap(),Zr=[],Kr=createHashMap();Wr.eachComponent({mainType:"dataZoom",query:Gr},function(an){Kr.get(an.uid)||en(an)});var Qr;do Qr=!1,Wr.eachComponent("dataZoom",Jr);while(Qr);function Jr(an){!Kr.get(an.uid)&&tn(an)&&(en(an),Qr=!0)}function en(an){Kr.set(an.uid,!0),Zr.push(an),rn(an)}function tn(an){var nn=!1;return an.eachTargetAxis(function(sn,ln){var un=Yr.get(sn);un&&un[ln]&&(nn=!0)}),nn}function rn(an){an.eachTargetAxis(function(nn,sn){(Yr.get(nn)||Yr.set(nn,[]))[sn]=!0})}return Zr}function collectReferCoordSysModelInfo(Wr){var Gr=Wr.ecModel,Yr={infoList:[],infoMap:createHashMap()};return Wr.eachTargetAxis(function(Zr,Kr){var Qr=Gr.getComponent(getAxisMainType(Zr),Kr);if(Qr){var Jr=Qr.getCoordSysModel();if(Jr){var en=Jr.uid,tn=Yr.infoMap.get(en);tn||(tn={model:Jr,axisModels:[]},Yr.infoList.push(tn),Yr.infoMap.set(en,tn)),tn.axisModels.push(Qr)}}}),Yr}var DataZoomAxisInfo=function(){function Wr(){this.indexList=[],this.indexMap=[]}return Wr.prototype.add=function(Gr){this.indexMap[Gr]||(this.indexList.push(Gr),this.indexMap[Gr]=!0)},Wr}(),DataZoomModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._autoThrottle=!0,Yr._noTarget=!0,Yr._rangePropMode=["percent","percent"],Yr}return Gr.prototype.init=function(Yr,Zr,Kr){var Qr=retrieveRawOption(Yr);this.settledOption=Qr,this.mergeDefaultAndTheme(Yr,Kr),this._doInit(Qr)},Gr.prototype.mergeOption=function(Yr){var Zr=retrieveRawOption(Yr);merge(this.option,Yr,!0),merge(this.settledOption,Zr,!0),this._doInit(Zr)},Gr.prototype._doInit=function(Yr){var Zr=this.option;this._setDefaultThrottle(Yr),this._updateRangeUse(Yr);var Kr=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(Qr,Jr){this._rangePropMode[Jr]==="value"&&(Zr[Qr[0]]=Kr[Qr[0]]=null)},this),this._resetTarget()},Gr.prototype._resetTarget=function(){var Yr=this.get("orient",!0),Zr=this._targetAxisInfoMap=createHashMap(),Kr=this._fillSpecifiedTargetAxis(Zr);Kr?this._orient=Yr||this._makeAutoOrientByTargetAxis():(this._orient=Yr||"horizontal",this._fillAutoTargetAxisByOrient(Zr,this._orient)),this._noTarget=!0,Zr.each(function(Qr){Qr.indexList.length&&(this._noTarget=!1)},this)},Gr.prototype._fillSpecifiedTargetAxis=function(Yr){var Zr=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(Kr){var Qr=this.getReferringComponents(getAxisMainType(Kr),MULTIPLE_REFERRING);if(Qr.specified){Zr=!0;var Jr=new DataZoomAxisInfo;each$f(Qr.models,function(en){Jr.add(en.componentIndex)}),Yr.set(Kr,Jr)}},this),Zr},Gr.prototype._fillAutoTargetAxisByOrient=function(Yr,Zr){var Kr=this.ecModel,Qr=!0;if(Qr){var Jr=Zr==="vertical"?"y":"x",en=Kr.findComponents({mainType:Jr+"Axis"});tn(en,Jr)}if(Qr){var en=Kr.findComponents({mainType:"singleAxis",filter:function(an){return an.get("orient",!0)===Zr}});tn(en,"single")}function tn(rn,an){var nn=rn[0];if(nn){var sn=new DataZoomAxisInfo;if(sn.add(nn.componentIndex),Yr.set(an,sn),Qr=!1,an==="x"||an==="y"){var ln=nn.getReferringComponents("grid",SINGLE_REFERRING).models[0];ln&&each$f(rn,function(un){nn.componentIndex!==un.componentIndex&&ln===un.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&sn.add(un.componentIndex)})}}}Qr&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(rn){if(Qr){var an=Kr.findComponents({mainType:getAxisMainType(rn),filter:function(sn){return sn.get("type",!0)==="category"}});if(an[0]){var nn=new DataZoomAxisInfo;nn.add(an[0].componentIndex),Yr.set(rn,nn),Qr=!1}}},this)},Gr.prototype._makeAutoOrientByTargetAxis=function(){var Yr;return this.eachTargetAxis(function(Zr){!Yr&&(Yr=Zr)},this),Yr==="y"?"vertical":"horizontal"},Gr.prototype._setDefaultThrottle=function(Yr){if(Yr.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var Zr=this.ecModel.option;this.option.throttle=Zr.animation&&Zr.animationDurationUpdate>0?100:20}},Gr.prototype._updateRangeUse=function(Yr){var Zr=this._rangePropMode,Kr=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(Qr,Jr){var en=Yr[Qr[0]]!=null,tn=Yr[Qr[1]]!=null;en&&!tn?Zr[Jr]="percent":!en&&tn?Zr[Jr]="value":Kr?Zr[Jr]=Kr[Jr]:en&&(Zr[Jr]="percent")})},Gr.prototype.noTarget=function(){return this._noTarget},Gr.prototype.getFirstTargetAxisModel=function(){var Yr;return this.eachTargetAxis(function(Zr,Kr){Yr==null&&(Yr=this.ecModel.getComponent(getAxisMainType(Zr),Kr))},this),Yr},Gr.prototype.eachTargetAxis=function(Yr,Zr){this._targetAxisInfoMap.each(function(Kr,Qr){each$f(Kr.indexList,function(Jr){Yr.call(Zr,Qr,Jr)})})},Gr.prototype.getAxisProxy=function(Yr,Zr){var Kr=this.getAxisModel(Yr,Zr);if(Kr)return Kr.__dzAxisProxy},Gr.prototype.getAxisModel=function(Yr,Zr){var Kr=this._targetAxisInfoMap.get(Yr);if(Kr&&Kr.indexMap[Zr])return this.ecModel.getComponent(getAxisMainType(Yr),Zr)},Gr.prototype.setRawRange=function(Yr){var Zr=this.option,Kr=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(Qr){(Yr[Qr[0]]!=null||Yr[Qr[1]]!=null)&&(Zr[Qr[0]]=Kr[Qr[0]]=Yr[Qr[0]],Zr[Qr[1]]=Kr[Qr[1]]=Yr[Qr[1]])},this),this._updateRangeUse(Yr)},Gr.prototype.setCalculatedRange=function(Yr){var Zr=this.option;each$f(["start","startValue","end","endValue"],function(Kr){Zr[Kr]=Yr[Kr]})},Gr.prototype.getPercentRange=function(){var Yr=this.findRepresentativeAxisProxy();if(Yr)return Yr.getDataPercentWindow()},Gr.prototype.getValueRange=function(Yr,Zr){if(Yr==null&&Zr==null){var Kr=this.findRepresentativeAxisProxy();if(Kr)return Kr.getDataValueWindow()}else return this.getAxisProxy(Yr,Zr).getDataValueWindow()},Gr.prototype.findRepresentativeAxisProxy=function(Yr){if(Yr)return Yr.__dzAxisProxy;for(var Zr,Kr=this._targetAxisInfoMap.keys(),Qr=0;Qr<Kr.length;Qr++)for(var Jr=Kr[Qr],en=this._targetAxisInfoMap.get(Jr),tn=0;tn<en.indexList.length;tn++){var rn=this.getAxisProxy(Jr,en.indexList[tn]);if(rn.hostedBy(this))return rn;Zr||(Zr=rn)}return Zr},Gr.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},Gr.prototype.getOrient=function(){return this._orient},Gr.type="dataZoom",Gr.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],Gr.defaultOption={z:4,filterMode:"filter",start:0,end:100},Gr}(ComponentModel);function retrieveRawOption(Wr){var Gr={};return each$f(["start","end","startValue","endValue","throttle"],function(Yr){Wr.hasOwnProperty(Yr)&&(Gr[Yr]=Wr[Yr])}),Gr}var SelectDataZoomModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="dataZoom.select",Gr}(DataZoomModel),DataZoomView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this.dataZoomModel=Yr,this.ecModel=Zr,this.api=Kr},Gr.type="dataZoom",Gr}(ComponentView),SelectDataZoomView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="dataZoom.select",Gr}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function Wr(Gr,Yr,Zr,Kr){this._dimName=Gr,this._axisIndex=Yr,this.ecModel=Kr,this._dataZoomModel=Zr}return Wr.prototype.hostedBy=function(Gr){return this._dataZoomModel===Gr},Wr.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},Wr.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},Wr.prototype.getTargetSeriesModels=function(){var Gr=[];return this.ecModel.eachSeries(function(Yr){if(isCoordSupported(Yr)){var Zr=getAxisMainType(this._dimName),Kr=Yr.getReferringComponents(Zr,SINGLE_REFERRING).models[0];Kr&&this._axisIndex===Kr.componentIndex&&Gr.push(Yr)}},this),Gr},Wr.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},Wr.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},Wr.prototype.calculateDataWindow=function(Gr){var Yr=this._dataExtent,Zr=this.getAxisModel(),Kr=Zr.axis.scale,Qr=this._dataZoomModel.getRangePropMode(),Jr=[0,100],en=[],tn=[],rn;each$7(["start","end"],function(sn,ln){var un=Gr[sn],cn=Gr[sn+"Value"];Qr[ln]==="percent"?(un==null&&(un=Jr[ln]),cn=Kr.parse(linearMap$2(un,Jr,Yr))):(rn=!0,cn=cn==null?Yr[ln]:Kr.parse(cn),un=linearMap$2(cn,Yr,Jr)),tn[ln]=cn==null||isNaN(cn)?Yr[ln]:cn,en[ln]=un==null||isNaN(un)?Jr[ln]:un}),asc$1(tn),asc$1(en);var an=this._minMaxSpan;rn?nn(tn,en,Yr,Jr,!1):nn(en,tn,Jr,Yr,!0);function nn(sn,ln,un,cn,hn){var dn=hn?"Span":"ValueSpan";sliderMove(0,sn,un,"all",an["min"+dn],an["max"+dn]);for(var fn=0;fn<2;fn++)ln[fn]=linearMap$2(sn[fn],un,cn,!0),hn&&(ln[fn]=Kr.parse(ln[fn]))}return{valueWindow:tn,percentWindow:en}},Wr.prototype.reset=function(Gr){if(Gr===this._dataZoomModel){var Yr=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,Yr),this._updateMinMaxSpan();var Zr=this.calculateDataWindow(Gr.settledOption);this._valueWindow=Zr.valueWindow,this._percentWindow=Zr.percentWindow,this._setAxisModel()}},Wr.prototype.filterData=function(Gr,Yr){if(Gr!==this._dataZoomModel)return;var Zr=this._dimName,Kr=this.getTargetSeriesModels(),Qr=Gr.get("filterMode"),Jr=this._valueWindow;if(Qr==="none")return;each$7(Kr,function(tn){var rn=tn.getData(),an=rn.mapDimensionsAll(Zr);if(an.length){if(Qr==="weakFilter"){var nn=rn.getStore(),sn=map$1(an,function(ln){return rn.getDimensionIndex(ln)},rn);rn.filterSelf(function(ln){for(var un,cn,hn,dn=0;dn<an.length;dn++){var fn=nn.get(sn[dn],ln),pn=!isNaN(fn),gn=fn<Jr[0],vn=fn>Jr[1];if(pn&&!gn&&!vn)return!0;pn&&(hn=!0),gn&&(un=!0),vn&&(cn=!0)}return hn&&un&&cn})}else each$7(an,function(ln){if(Qr==="empty")tn.setData(rn=rn.map(ln,function(cn){return en(cn)?cn:NaN}));else{var un={};un[ln]=Jr,rn.selectRange(un)}});each$7(an,function(ln){rn.setApproximateExtent(Jr,ln)})}});function en(tn){return tn>=Jr[0]&&tn<=Jr[1]}},Wr.prototype._updateMinMaxSpan=function(){var Gr=this._minMaxSpan={},Yr=this._dataZoomModel,Zr=this._dataExtent;each$7(["min","max"],function(Kr){var Qr=Yr.get(Kr+"Span"),Jr=Yr.get(Kr+"ValueSpan");Jr!=null&&(Jr=this.getAxisModel().axis.scale.parse(Jr)),Jr!=null?Qr=linearMap$2(Zr[0]+Jr,Zr,[0,100],!0):Qr!=null&&(Jr=linearMap$2(Qr,[0,100],Zr,!0)-Zr[0]),Gr[Kr+"Span"]=Qr,Gr[Kr+"ValueSpan"]=Jr},this)},Wr.prototype._setAxisModel=function(){var Gr=this.getAxisModel(),Yr=this._percentWindow,Zr=this._valueWindow;if(Yr){var Kr=getPixelPrecision(Zr,[0,500]);Kr=Math.min(Kr,20);var Qr=Gr.axis.scale.rawExtentInfo;Yr[0]!==0&&Qr.setDeterminedMinMax("min",+Zr[0].toFixed(Kr)),Yr[1]!==100&&Qr.setDeterminedMinMax("max",+Zr[1].toFixed(Kr)),Qr.freeze()}},Wr}();function calculateDataExtent(Wr,Gr,Yr){var Zr=[1/0,-1/0];each$7(Yr,function(Jr){unionAxisExtentFromData(Zr,Jr.getData(),Gr)});var Kr=Wr.getAxisModel(),Qr=ensureScaleRawExtentInfo(Kr.axis.scale,Kr,Zr).calculate();return[Qr.min,Qr.max]}var dataZoomProcessor={getTargetSeries:function(Wr){function Gr(Kr){Wr.eachComponent("dataZoom",function(Qr){Qr.eachTargetAxis(function(Jr,en){var tn=Wr.getComponent(getAxisMainType(Jr),en);Kr(Jr,en,tn,Qr)})})}Gr(function(Kr,Qr,Jr,en){Jr.__dzAxisProxy=null});var Yr=[];Gr(function(Kr,Qr,Jr,en){Jr.__dzAxisProxy||(Jr.__dzAxisProxy=new AxisProxy(Kr,Qr,en,Wr),Yr.push(Jr.__dzAxisProxy))});var Zr=createHashMap();return each$f(Yr,function(Kr){each$f(Kr.getTargetSeriesModels(),function(Qr){Zr.set(Qr.uid,Qr)})}),Zr},overallReset:function(Wr,Gr){Wr.eachComponent("dataZoom",function(Yr){Yr.eachTargetAxis(function(Zr,Kr){Yr.getAxisProxy(Zr,Kr).reset(Yr)}),Yr.eachTargetAxis(function(Zr,Kr){Yr.getAxisProxy(Zr,Kr).filterData(Yr,Gr)})}),Wr.eachComponent("dataZoom",function(Yr){var Zr=Yr.findRepresentativeAxisProxy();if(Zr){var Kr=Zr.getDataPercentWindow(),Qr=Zr.getDataValueWindow();Yr.setCalculatedRange({start:Kr[0],end:Kr[1],startValue:Qr[0],endValue:Qr[1]})}})}};function installDataZoomAction(Wr){Wr.registerAction("dataZoom",function(Gr,Yr){var Zr=findEffectedDataZooms(Yr,Gr);each$f(Zr,function(Kr){Kr.setRawRange({start:Gr.start,end:Gr.end,startValue:Gr.startValue,endValue:Gr.endValue})})})}var installed$1=!1;function installCommon$1(Wr){installed$1||(installed$1=!0,Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(Wr),Wr.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(Wr){Wr.registerComponentModel(SelectDataZoomModel),Wr.registerComponentView(SelectDataZoomView),installCommon$1(Wr)}var ToolboxFeature=function(){function Wr(){}return Wr}(),features={};function registerFeature(Wr,Gr){features[Wr]=Gr}function getFeature(Wr){return features[Wr]}var ToolboxModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.optionUpdated=function(){Wr.prototype.optionUpdated.apply(this,arguments);var Yr=this.ecModel;each$f(this.option.feature,function(Zr,Kr){var Qr=getFeature(Kr);Qr&&(Qr.getDefaultOption&&(Qr.defaultOption=Qr.getDefaultOption(Yr)),merge(Zr,Qr.defaultOption))})},Gr.type="toolbox",Gr.layoutMode={type:"box",ignoreSize:!0},Gr.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},Gr}(ComponentModel);function layout(Wr,Gr,Yr){var Zr=Gr.getBoxLayoutParams(),Kr=Gr.get("padding"),Qr={width:Yr.getWidth(),height:Yr.getHeight()},Jr=getLayoutRect(Zr,Qr,Kr);box(Gr.get("orient"),Wr,Gr.get("itemGap"),Jr.width,Jr.height),positionElement(Wr,Zr,Qr,Kr)}function makeBackground(Wr,Gr){var Yr=normalizeCssArray(Gr.get("padding")),Zr=Gr.getItemStyle(["color","opacity"]);return Zr.fill=Gr.get("backgroundColor"),Wr=new Rect$2({shape:{x:Wr.x-Yr[3],y:Wr.y-Yr[0],width:Wr.width+Yr[1]+Yr[3],height:Wr.height+Yr[0]+Yr[2],r:Gr.get("borderRadius")},style:Zr,silent:!0,z2:-1}),Wr}var ToolboxView=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){var Jr=this.group;if(Jr.removeAll(),!Yr.get("show"))return;var en=+Yr.get("itemSize"),tn=Yr.get("orient")==="vertical",rn=Yr.get("feature")||{},an=this._features||(this._features={}),nn=[];each$f(rn,function(un,cn){nn.push(cn)}),new DataDiffer(this._featureNames||[],nn).add(sn).update(sn).remove(curry$1(sn,null)).execute(),this._featureNames=nn;function sn(un,cn){var hn=nn[un],dn=nn[cn],fn=rn[hn],pn=new Model(fn,Yr,Yr.ecModel),gn;if(Qr&&Qr.newTitle!=null&&Qr.featureName===hn&&(fn.title=Qr.newTitle),hn&&!dn){if(isUserFeatureName(hn))gn={onclick:pn.option.onclick,featureName:hn};else{var vn=getFeature(hn);if(!vn)return;gn=new vn}an[hn]=gn}else if(gn=an[dn],!gn)return;gn.uid=getUID("toolbox-feature"),gn.model=pn,gn.ecModel=Zr,gn.api=Kr;var mn=gn instanceof ToolboxFeature;if(!hn&&dn){mn&&gn.dispose&&gn.dispose(Zr,Kr);return}if(!pn.get("show")||mn&&gn.unusable){mn&&gn.remove&&gn.remove(Zr,Kr);return}ln(pn,gn,hn),pn.setIconStatus=function(yn,xn){var bn=this.option,Sn=this.iconPaths;bn.iconStatus=bn.iconStatus||{},bn.iconStatus[yn]=xn,Sn[yn]&&(xn==="emphasis"?enterEmphasis:leaveEmphasis)(Sn[yn])},gn instanceof ToolboxFeature&&gn.render&&gn.render(pn,Zr,Kr,Qr)}function ln(un,cn,hn){var dn=un.getModel("iconStyle"),fn=un.getModel(["emphasis","iconStyle"]),pn=cn instanceof ToolboxFeature&&cn.getIcons?cn.getIcons():un.get("icon"),gn=un.get("title")||{},vn,mn;isString(pn)?(vn={},vn[hn]=pn):vn=pn,isString(gn)?(mn={},mn[hn]=gn):mn=gn;var yn=un.iconPaths={};each$f(vn,function(xn,bn){var Sn=createIcon$1(xn,{},{x:-en/2,y:-en/2,width:en,height:en});Sn.setStyle(dn.getItemStyle());var wn=Sn.ensureState("emphasis");wn.style=fn.getItemStyle();var _n=new ZRText({style:{text:mn[bn],align:fn.get("textAlign"),borderRadius:fn.get("textBorderRadius"),padding:fn.get("textPadding"),fill:null,font:getFont({fontStyle:fn.get("textFontStyle"),fontFamily:fn.get("textFontFamily"),fontSize:fn.get("textFontSize"),fontWeight:fn.get("textFontWeight")},Zr)},ignore:!0});Sn.setTextContent(_n),setTooltipConfig({el:Sn,componentModel:Yr,itemName:bn,formatterParamsExtra:{title:mn[bn]}}),Sn.__title=mn[bn],Sn.on("mouseover",function(){var An=fn.getItemStyle(),Cn=tn?Yr.get("right")==null&&Yr.get("left")!=="right"?"right":"left":Yr.get("bottom")==null&&Yr.get("top")!=="bottom"?"bottom":"top";_n.setStyle({fill:fn.get("textFill")||An.fill||An.stroke||"#000",backgroundColor:fn.get("textBackgroundColor")}),Sn.setTextConfig({position:fn.get("textPosition")||Cn}),_n.ignore=!Yr.get("showTitle"),Kr.enterEmphasis(this)}).on("mouseout",function(){un.get(["iconStatus",bn])!=="emphasis"&&Kr.leaveEmphasis(this),_n.hide()}),(un.get(["iconStatus",bn])==="emphasis"?enterEmphasis:leaveEmphasis)(Sn),Jr.add(Sn),Sn.on("click",bind$1(cn.onclick,cn,Zr,Kr,bn)),yn[bn]=Sn})}layout(Jr,Yr,Kr),Jr.add(makeBackground(Jr.getBoundingRect(),Yr)),tn||Jr.eachChild(function(un){var cn=un.__title,hn=un.ensureState("emphasis"),dn=hn.textConfig||(hn.textConfig={}),fn=un.getTextContent(),pn=fn&&fn.ensureState("emphasis");if(pn&&!isFunction(pn)&&cn){var gn=pn.style||(pn.style={}),vn=getBoundingRect(cn,ZRText.makeFont(gn)),mn=un.x+Jr.x,yn=un.y+Jr.y+en,xn=!1;yn+vn.height>Kr.getHeight()&&(dn.position="top",xn=!0);var bn=xn?-5-vn.height:en+10;mn+vn.width/2>Kr.getWidth()?(dn.position=["100%",bn],gn.align="right"):mn-vn.width/2<0&&(dn.position=[0,bn],gn.align="left")}})},Gr.prototype.updateView=function(Yr,Zr,Kr,Qr){each$f(this._features,function(Jr){Jr instanceof ToolboxFeature&&Jr.updateView&&Jr.updateView(Jr.model,Zr,Kr,Qr)})},Gr.prototype.remove=function(Yr,Zr){each$f(this._features,function(Kr){Kr instanceof ToolboxFeature&&Kr.remove&&Kr.remove(Yr,Zr)}),this.group.removeAll()},Gr.prototype.dispose=function(Yr,Zr){each$f(this._features,function(Kr){Kr instanceof ToolboxFeature&&Kr.dispose&&Kr.dispose(Yr,Zr)})},Gr.type="toolbox",Gr}(ComponentView);function isUserFeatureName(Wr){return Wr.indexOf("my")===0}var SaveAsImage=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Yr,Zr){var Kr=this.model,Qr=Kr.get("name")||Yr.get("title.0.text")||"echarts",Jr=Zr.getZr().painter.getType()==="svg",en=Jr?"svg":Kr.get("type",!0)||"png",tn=Zr.getConnectedDataURL({type:en,backgroundColor:Kr.get("backgroundColor",!0)||Yr.get("backgroundColor")||"#fff",connectedBackgroundColor:Kr.get("connectedBackgroundColor"),excludeComponents:Kr.get("excludeComponents"),pixelRatio:Kr.get("pixelRatio")}),rn=env.browser;if(typeof MouseEvent=="function"&&(rn.newEdge||!rn.ie&&!rn.edge)){var an=document.createElement("a");an.download=Qr+"."+en,an.target="_blank",an.href=tn;var nn=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});an.dispatchEvent(nn)}else if(window.navigator.msSaveOrOpenBlob||Jr){var sn=tn.split(","),ln=sn[0].indexOf("base64")>-1,un=Jr?decodeURIComponent(sn[1]):sn[1];ln&&(un=window.atob(un));var cn=Qr+"."+en;if(window.navigator.msSaveOrOpenBlob){for(var hn=un.length,dn=new Uint8Array(hn);hn--;)dn[hn]=un.charCodeAt(hn);var fn=new Blob([dn]);window.navigator.msSaveOrOpenBlob(fn,cn)}else{var pn=document.createElement("iframe");document.body.appendChild(pn);var gn=pn.contentWindow,vn=gn.document;vn.open("image/svg+xml","replace"),vn.write(un),vn.close(),gn.focus(),vn.execCommand("SaveAs",!0,cn),document.body.removeChild(pn)}}else{var mn=Kr.get("lang"),yn='<body style="margin:0;"><img src="'+tn+'" style="max-width:100%;" title="'+(mn&&mn[0]||"")+'" /></body>',xn=window.open();xn.document.write(yn),xn.document.title=Qr}},Gr.getDefaultOption=function(Yr){var Zr={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Yr.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:Yr.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return Zr},Gr}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.getIcons=function(){var Yr=this.model,Zr=Yr.get("icon"),Kr={};return each$f(Yr.get("type"),function(Qr){Zr[Qr]&&(Kr[Qr]=Zr[Qr])}),Kr},Gr.getDefaultOption=function(Yr){var Zr={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:Yr.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return Zr},Gr.prototype.onclick=function(Yr,Zr,Kr){var Qr=this.model,Jr=Qr.get(["seriesIndex",Kr]);if(seriesOptGenreator[Kr]){var en={series:[]},tn=function(nn){var sn=nn.subType,ln=nn.id,un=seriesOptGenreator[Kr](sn,ln,nn,Qr);un&&(defaults(un,nn.option),en.series.push(un));var cn=nn.coordinateSystem;if(cn&&cn.type==="cartesian2d"&&(Kr==="line"||Kr==="bar")){var hn=cn.getAxesByScale("ordinal")[0];if(hn){var dn=hn.dim,fn=dn+"Axis",pn=nn.getReferringComponents(fn,SINGLE_REFERRING).models[0],gn=pn.componentIndex;en[fn]=en[fn]||[];for(var vn=0;vn<=gn;vn++)en[fn][gn]=en[fn][gn]||{};en[fn][gn].boundaryGap=Kr==="bar"}}};each$f(radioTypes,function(nn){indexOf(nn,Kr)>=0&&each$f(nn,function(sn){Qr.setIconStatus(sn,"normal")})}),Qr.setIconStatus(Kr,"emphasis"),Yr.eachComponent({mainType:"series",query:Jr==null?null:{seriesIndex:Jr}},tn);var rn,an=Kr;Kr==="stack"&&(rn=merge({stack:Qr.option.title.tiled,tiled:Qr.option.title.stack},Qr.option.title),Qr.get(["iconStatus",Kr])!=="emphasis"&&(an="tiled")),Zr.dispatchAction({type:"changeMagicType",currentType:an,newOption:en,newTitle:rn,featureName:"magicType"})}},Gr}(ToolboxFeature),seriesOptGenreator={line:function(Wr,Gr,Yr,Zr){if(Wr==="bar")return merge({id:Gr,type:"line",data:Yr.get("data"),stack:Yr.get("stack"),markPoint:Yr.get("markPoint"),markLine:Yr.get("markLine")},Zr.get(["option","line"])||{},!0)},bar:function(Wr,Gr,Yr,Zr){if(Wr==="line")return merge({id:Gr,type:"bar",data:Yr.get("data"),stack:Yr.get("stack"),markPoint:Yr.get("markPoint"),markLine:Yr.get("markLine")},Zr.get(["option","bar"])||{},!0)},stack:function(Wr,Gr,Yr,Zr){var Kr=Yr.get("stack")===INNER_STACK_KEYWORD;if(Wr==="line"||Wr==="bar")return Zr.setIconStatus("stack",Kr?"normal":"emphasis"),merge({id:Gr,stack:Kr?"":INNER_STACK_KEYWORD},Zr.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(Wr,Gr){Gr.mergeOption(Wr.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(Wr){var Gr={},Yr=[],Zr=[];return Wr.eachRawSeries(function(Kr){var Qr=Kr.coordinateSystem;if(Qr&&(Qr.type==="cartesian2d"||Qr.type==="polar")){var Jr=Qr.getBaseAxis();if(Jr.type==="category"){var en=Jr.dim+"_"+Jr.index;Gr[en]||(Gr[en]={categoryAxis:Jr,valueAxis:Qr.getOtherAxis(Jr),series:[]},Zr.push({axisDim:Jr.dim,axisIndex:Jr.index})),Gr[en].series.push(Kr)}else Yr.push(Kr)}else Yr.push(Kr)}),{seriesGroupByCategoryAxis:Gr,other:Yr,meta:Zr}}function assembleSeriesWithCategoryAxis(Wr){var Gr=[];return each$f(Wr,function(Yr,Zr){var Kr=Yr.categoryAxis,Qr=Yr.valueAxis,Jr=Qr.dim,en=[" "].concat(map$1(Yr.series,function(ln){return ln.name})),tn=[Kr.model.getCategories()];each$f(Yr.series,function(ln){var un=ln.getRawData();tn.push(ln.getRawData().mapArray(un.mapDimension(Jr),function(cn){return cn}))});for(var rn=[en.join(ITEM_SPLITER)],an=0;an<tn[0].length;an++){for(var nn=[],sn=0;sn<tn.length;sn++)nn.push(tn[sn][an]);rn.push(nn.join(ITEM_SPLITER))}Gr.push(rn.join(`
`))}),Gr.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(Wr){return map$1(Wr,function(Gr){var Yr=Gr.getRawData(),Zr=[Gr.name],Kr=[];return Yr.each(Yr.dimensions,function(){for(var Qr=arguments.length,Jr=arguments[Qr-1],en=Yr.getName(Jr),tn=0;tn<Qr-1;tn++)Kr[tn]=arguments[tn];Zr.push((en?en+ITEM_SPLITER:"")+Kr.join(ITEM_SPLITER))}),Zr.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(Wr){var Gr=groupSeries(Wr);return{value:filter([assembleSeriesWithCategoryAxis(Gr.seriesGroupByCategoryAxis),assembleOtherSeries(Gr.other)],function(Yr){return!!Yr.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:Gr.meta}}function trim(Wr){return Wr.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(Wr){var Gr=Wr.slice(0,Wr.indexOf(`
`));if(Gr.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(Wr){for(var Gr=Wr.split(/\n+/g),Yr=trim(Gr.shift()).split(itemSplitRegex),Zr=[],Kr=map$1(Yr,function(tn){return{name:tn,data:[]}}),Qr=0;Qr<Gr.length;Qr++){var Jr=trim(Gr[Qr]).split(itemSplitRegex);Zr.push(Jr.shift());for(var en=0;en<Jr.length;en++)Kr[en]&&(Kr[en].data[Qr]=Jr[en])}return{series:Kr,categories:Zr}}function parseListContents(Wr){for(var Gr=Wr.split(/\n+/g),Yr=trim(Gr.shift()),Zr=[],Kr=0;Kr<Gr.length;Kr++){var Qr=trim(Gr[Kr]);if(Qr){var Jr=Qr.split(itemSplitRegex),en="",tn=void 0,rn=!1;isNaN(Jr[0])?(rn=!0,en=Jr[0],Jr=Jr.slice(1),Zr[Kr]={name:en,value:[]},tn=Zr[Kr].value):tn=Zr[Kr]=[];for(var an=0;an<Jr.length;an++)tn.push(+Jr[an]);tn.length===1&&(rn?Zr[Kr].value=tn[0]:Zr[Kr]=tn[0])}}return{name:Yr,data:Zr}}function parseContents(Wr,Gr){var Yr=Wr.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),Zr={series:[]};return each$f(Yr,function(Kr,Qr){if(isTSVFormat(Kr)){var Jr=parseTSVContents(Kr),en=Gr[Qr],tn=en.axisDim+"Axis";en&&(Zr[tn]=Zr[tn]||[],Zr[tn][en.axisIndex]={data:Jr.categories},Zr.series=Zr.series.concat(Jr.series))}else{var Jr=parseListContents(Kr);Zr.series.push(Jr)}}),Zr}var DataView=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Yr,Zr){setTimeout(function(){Zr.dispatchAction({type:"hideTip"})});var Kr=Zr.getDom(),Qr=this.model;this._dom&&Kr.removeChild(this._dom);var Jr=document.createElement("div");Jr.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",Jr.style.backgroundColor=Qr.get("backgroundColor")||"#fff";var en=document.createElement("h4"),tn=Qr.get("lang")||[];en.innerHTML=tn[0]||Qr.get("title"),en.style.cssText="margin:10px 20px",en.style.color=Qr.get("textColor");var rn=document.createElement("div"),an=document.createElement("textarea");rn.style.cssText="overflow:auto";var nn=Qr.get("optionToContent"),sn=Qr.get("contentToOption"),ln=getContentFromModel(Yr);if(isFunction(nn)){var un=nn(Zr.getOption());isString(un)?rn.innerHTML=un:isDom(un)&&rn.appendChild(un)}else{an.readOnly=Qr.get("readOnly");var cn=an.style;cn.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",cn.color=Qr.get("textColor"),cn.borderColor=Qr.get("textareaBorderColor"),cn.backgroundColor=Qr.get("textareaColor"),an.value=ln.value,rn.appendChild(an)}var hn=ln.meta,dn=document.createElement("div");dn.style.cssText="position:absolute;bottom:5px;left:0;right:0";var fn="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",pn=document.createElement("div"),gn=document.createElement("div");fn+=";background-color:"+Qr.get("buttonColor"),fn+=";color:"+Qr.get("buttonTextColor");var vn=this;function mn(){Kr.removeChild(Jr),vn._dom=null}addEventListener(pn,"click",mn),addEventListener(gn,"click",function(){if(sn==null&&nn!=null||sn!=null&&nn==null){mn();return}var yn;try{isFunction(sn)?yn=sn(rn,Zr.getOption()):yn=parseContents(an.value,hn)}catch(xn){throw mn(),new Error("Data view format error "+xn)}yn&&Zr.dispatchAction({type:"changeDataView",newOption:yn}),mn()}),pn.innerHTML=tn[1],gn.innerHTML=tn[2],gn.style.cssText=pn.style.cssText=fn,!Qr.get("readOnly")&&dn.appendChild(gn),dn.appendChild(pn),Jr.appendChild(en),Jr.appendChild(rn),Jr.appendChild(dn),rn.style.height=Kr.clientHeight-80+"px",Kr.appendChild(Jr),this._dom=Jr},Gr.prototype.remove=function(Yr,Zr){this._dom&&Zr.getDom().removeChild(this._dom)},Gr.prototype.dispose=function(Yr,Zr){this.remove(Yr,Zr)},Gr.getDefaultOption=function(Yr){var Zr={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Yr.getLocaleModel().get(["toolbox","dataView","title"]),lang:Yr.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return Zr},Gr}(ToolboxFeature);function tryMergeDataOption(Wr,Gr){return map$1(Wr,function(Yr,Zr){var Kr=Gr&&Gr[Zr];if(isObject$3(Kr)&&!isArray$1(Kr)){var Qr=isObject$3(Yr)&&!isArray$1(Yr);Qr||(Yr={value:Yr});var Jr=Kr.name!=null&&Yr.name==null;return Yr=defaults(Yr,Kr),Jr&&delete Yr.name,Yr}else return Yr})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(Wr,Gr){var Yr=[];each$f(Wr.newOption.series,function(Zr){var Kr=Gr.getSeriesByName(Zr.name)[0];if(!Kr)Yr.push(extend({type:"scatter"},Zr));else{var Qr=Kr.get("data");Yr.push({name:Zr.name,data:tryMergeDataOption(Zr.data,Qr)})}}),Gr.mergeOption(defaults({series:Yr},Wr.newOption))});var each$6=each$f,inner$6=makeInner();function push(Wr,Gr){var Yr=getStoreSnapshots(Wr);each$6(Gr,function(Zr,Kr){for(var Qr=Yr.length-1;Qr>=0;Qr--){var Jr=Yr[Qr];if(Jr[Kr])break}if(Qr<0){var en=Wr.queryComponents({mainType:"dataZoom",subType:"select",id:Kr})[0];if(en){var tn=en.getPercentRange();Yr[0][Kr]={dataZoomId:Kr,start:tn[0],end:tn[1]}}}}),Yr.push(Gr)}function pop(Wr){var Gr=getStoreSnapshots(Wr),Yr=Gr[Gr.length-1];Gr.length>1&&Gr.pop();var Zr={};return each$6(Yr,function(Kr,Qr){for(var Jr=Gr.length-1;Jr>=0;Jr--)if(Kr=Gr[Jr][Qr],Kr){Zr[Qr]=Kr;break}}),Zr}function clear(Wr){inner$6(Wr).snapshots=null}function count(Wr){return getStoreSnapshots(Wr).length}function getStoreSnapshots(Wr){var Gr=inner$6(Wr);return Gr.snapshots||(Gr.snapshots=[{}]),Gr.snapshots}var RestoreOption=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.onclick=function(Yr,Zr){clear(Yr),Zr.dispatchAction({type:"restore",from:this.uid})},Gr.getDefaultOption=function(Yr){var Zr={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Yr.getLocaleModel().get(["toolbox","restore","title"])};return Zr},Gr}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(Wr,Gr){Gr.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function Wr(Gr,Yr,Zr){var Kr=this;this._targetInfoList=[];var Qr=parseFinder(Yr,Gr);each$f(targetInfoBuilders,function(Jr,en){(!Zr||!Zr.include||indexOf(Zr.include,en)>=0)&&Jr(Qr,Kr._targetInfoList)})}return Wr.prototype.setOutputRanges=function(Gr,Yr){return this.matchOutputRanges(Gr,Yr,function(Zr,Kr,Qr){if((Zr.coordRanges||(Zr.coordRanges=[])).push(Kr),!Zr.coordRange){Zr.coordRange=Kr;var Jr=coordConvert[Zr.brushType](0,Qr,Kr);Zr.__rangeOffset={offset:diffProcessor[Zr.brushType](Jr.values,Zr.range,[1,1]),xyMinMax:Jr.xyMinMax}}}),Gr},Wr.prototype.matchOutputRanges=function(Gr,Yr,Zr){each$f(Gr,function(Kr){var Qr=this.findTargetInfo(Kr,Yr);Qr&&Qr!==!0&&each$f(Qr.coordSyses,function(Jr){var en=coordConvert[Kr.brushType](1,Jr,Kr.range,!0);Zr(Kr,en.values,Jr,Yr)})},this)},Wr.prototype.setInputRanges=function(Gr,Yr){each$f(Gr,function(Zr){var Kr=this.findTargetInfo(Zr,Yr);if(Zr.range=Zr.range||[],Kr&&Kr!==!0){Zr.panelId=Kr.panelId;var Qr=coordConvert[Zr.brushType](0,Kr.coordSys,Zr.coordRange),Jr=Zr.__rangeOffset;Zr.range=Jr?diffProcessor[Zr.brushType](Qr.values,Jr.offset,getScales(Qr.xyMinMax,Jr.xyMinMax)):Qr.values}},this)},Wr.prototype.makePanelOpts=function(Gr,Yr){return map$1(this._targetInfoList,function(Zr){var Kr=Zr.getPanelRect();return{panelId:Zr.panelId,defaultBrushType:Yr?Yr(Zr):null,clipPath:makeRectPanelClipPath(Kr),isTargetByCursor:makeRectIsTargetByCursor(Kr,Gr,Zr.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(Kr)}})},Wr.prototype.controlSeries=function(Gr,Yr,Zr){var Kr=this.findTargetInfo(Gr,Zr);return Kr===!0||Kr&&indexOf(Kr.coordSyses,Yr.coordinateSystem)>=0},Wr.prototype.findTargetInfo=function(Gr,Yr){for(var Zr=this._targetInfoList,Kr=parseFinder(Yr,Gr),Qr=0;Qr<Zr.length;Qr++){var Jr=Zr[Qr],en=Gr.panelId;if(en){if(Jr.panelId===en)return Jr}else for(var tn=0;tn<targetInfoMatchers.length;tn++)if(targetInfoMatchers[tn](Kr,Jr))return Jr}return!0},Wr}();function formatMinMax(Wr){return Wr[0]>Wr[1]&&Wr.reverse(),Wr}function parseFinder(Wr,Gr){return parseFinder$1(Wr,Gr,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(Wr,Gr){var Yr=Wr.xAxisModels,Zr=Wr.yAxisModels,Kr=Wr.gridModels,Qr=createHashMap(),Jr={},en={};!Yr&&!Zr&&!Kr||(each$f(Yr,function(tn){var rn=tn.axis.grid.model;Qr.set(rn.id,rn),Jr[rn.id]=!0}),each$f(Zr,function(tn){var rn=tn.axis.grid.model;Qr.set(rn.id,rn),en[rn.id]=!0}),each$f(Kr,function(tn){Qr.set(tn.id,tn),Jr[tn.id]=!0,en[tn.id]=!0}),Qr.each(function(tn){var rn=tn.coordinateSystem,an=[];each$f(rn.getCartesians(),function(nn,sn){(indexOf(Yr,nn.getAxis("x").model)>=0||indexOf(Zr,nn.getAxis("y").model)>=0)&&an.push(nn)}),Gr.push({panelId:"grid--"+tn.id,gridModel:tn,coordSysModel:tn,coordSys:an[0],coordSyses:an,getPanelRect:panelRectBuilders.grid,xAxisDeclared:Jr[tn.id],yAxisDeclared:en[tn.id]})}))},geo:function(Wr,Gr){each$f(Wr.geoModels,function(Yr){var Zr=Yr.coordinateSystem;Gr.push({panelId:"geo--"+Yr.id,geoModel:Yr,coordSysModel:Yr,coordSys:Zr,coordSyses:[Zr],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(Wr,Gr){var Yr=Wr.xAxisModel,Zr=Wr.yAxisModel,Kr=Wr.gridModel;return!Kr&&Yr&&(Kr=Yr.axis.grid.model),!Kr&&Zr&&(Kr=Zr.axis.grid.model),Kr&&Kr===Gr.gridModel},function(Wr,Gr){var Yr=Wr.geoModel;return Yr&&Yr===Gr.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var Wr=this.coordSys,Gr=Wr.getBoundingRect().clone();return Gr.applyTransform(getTransform$1(Wr)),Gr}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(Wr,Gr,Yr,Zr){var Kr=Wr?Gr.pointToData([Yr[0][0],Yr[1][0]],Zr):Gr.dataToPoint([Yr[0][0],Yr[1][0]],Zr),Qr=Wr?Gr.pointToData([Yr[0][1],Yr[1][1]],Zr):Gr.dataToPoint([Yr[0][1],Yr[1][1]],Zr),Jr=[formatMinMax([Kr[0],Qr[0]]),formatMinMax([Kr[1],Qr[1]])];return{values:Jr,xyMinMax:Jr}},polygon:function(Wr,Gr,Yr,Zr){var Kr=[[1/0,-1/0],[1/0,-1/0]],Qr=map$1(Yr,function(Jr){var en=Wr?Gr.pointToData(Jr,Zr):Gr.dataToPoint(Jr,Zr);return Kr[0][0]=Math.min(Kr[0][0],en[0]),Kr[1][0]=Math.min(Kr[1][0],en[1]),Kr[0][1]=Math.max(Kr[0][1],en[0]),Kr[1][1]=Math.max(Kr[1][1],en[1]),en});return{values:Qr,xyMinMax:Kr}}};function axisConvert(Wr,Gr,Yr,Zr){var Kr=Yr.getAxis(["x","y"][Wr]),Qr=formatMinMax(map$1([0,1],function(en){return Gr?Kr.coordToData(Kr.toLocalCoord(Zr[en]),!0):Kr.toGlobalCoord(Kr.dataToCoord(Zr[en]))})),Jr=[];return Jr[Wr]=Qr,Jr[1-Wr]=[NaN,NaN],{values:Qr,xyMinMax:Jr}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(Wr,Gr,Yr){return[[Wr[0][0]-Yr[0]*Gr[0][0],Wr[0][1]-Yr[0]*Gr[0][1]],[Wr[1][0]-Yr[1]*Gr[1][0],Wr[1][1]-Yr[1]*Gr[1][1]]]},polygon:function(Wr,Gr,Yr){return map$1(Wr,function(Zr,Kr){return[Zr[0]-Yr[0]*Gr[Kr][0],Zr[1]-Yr[1]*Gr[Kr][1]]})}};function axisDiffProcessor(Wr,Gr,Yr,Zr){return[Gr[0]-Zr[Wr]*Yr[0],Gr[1]-Zr[Wr]*Yr[1]]}function getScales(Wr,Gr){var Yr=getSize(Wr),Zr=getSize(Gr),Kr=[Yr[0]/Zr[0],Yr[1]/Zr[1]];return isNaN(Kr[0])&&(Kr[0]=1),isNaN(Kr[1])&&(Kr[1]=1),Kr}function getSize(Wr){return Wr?[Wr[0][1]-Wr[0][0],Wr[1][1]-Wr[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.render=function(Yr,Zr,Kr,Qr){this._brushController||(this._brushController=new BrushController(Kr.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(Yr,Zr,this,Qr,Kr),updateBackBtnStatus(Yr,Zr)},Gr.prototype.onclick=function(Yr,Zr,Kr){handlers[Kr].call(this)},Gr.prototype.remove=function(Yr,Zr){this._brushController&&this._brushController.unmount()},Gr.prototype.dispose=function(Yr,Zr){this._brushController&&this._brushController.dispose()},Gr.prototype._onBrush=function(Yr){var Zr=Yr.areas;if(!Yr.isEnd||!Zr.length)return;var Kr={},Qr=this.ecModel;this._brushController.updateCovers([]);var Jr=new BrushTargetManager(makeAxisFinder(this.model),Qr,{include:["grid"]});Jr.matchOutputRanges(Zr,Qr,function(rn,an,nn){if(nn.type==="cartesian2d"){var sn=rn.brushType;sn==="rect"?(en("x",nn,an[0]),en("y",nn,an[1])):en({lineX:"x",lineY:"y"}[sn],nn,an)}}),push(Qr,Kr),this._dispatchZoomAction(Kr);function en(rn,an,nn){var sn=an.getAxis(rn),ln=sn.model,un=tn(rn,ln,Qr),cn=un.findRepresentativeAxisProxy(ln).getMinMaxSpan();(cn.minValueSpan!=null||cn.maxValueSpan!=null)&&(nn=sliderMove(0,nn.slice(),sn.scale.getExtent(),0,cn.minValueSpan,cn.maxValueSpan)),un&&(Kr[un.id]={dataZoomId:un.id,startValue:nn[0],endValue:nn[1]})}function tn(rn,an,nn){var sn;return nn.eachComponent({mainType:"dataZoom",subType:"select"},function(ln){var un=ln.getAxisModel(rn,an.componentIndex);un&&(sn=ln)}),sn}},Gr.prototype._dispatchZoomAction=function(Yr){var Zr=[];each$5(Yr,function(Kr,Qr){Zr.push(clone$4(Kr))}),Zr.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:Zr})},Gr.getDefaultOption=function(Yr){var Zr={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Yr.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return Zr},Gr}(ToolboxFeature),handlers={zoom:function(){var Wr=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Wr})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(Wr){var Gr={xAxisIndex:Wr.get("xAxisIndex",!0),yAxisIndex:Wr.get("yAxisIndex",!0),xAxisId:Wr.get("xAxisId",!0),yAxisId:Wr.get("yAxisId",!0)};return Gr.xAxisIndex==null&&Gr.xAxisId==null&&(Gr.xAxisIndex="all"),Gr.yAxisIndex==null&&Gr.yAxisId==null&&(Gr.yAxisIndex="all"),Gr}function updateBackBtnStatus(Wr,Gr){Wr.setIconStatus("back",count(Gr)>1?"emphasis":"normal")}function updateZoomBtnStatus(Wr,Gr,Yr,Zr,Kr){var Qr=Yr._isZoomActive;Zr&&Zr.type==="takeGlobalCursor"&&(Qr=Zr.key==="dataZoomSelect"?Zr.dataZoomSelectActive:!1),Yr._isZoomActive=Qr,Wr.setIconStatus("zoom",Qr?"emphasis":"normal");var Jr=new BrushTargetManager(makeAxisFinder(Wr),Gr,{include:["grid"]}),en=Jr.makePanelOpts(Kr,function(tn){return tn.xAxisDeclared&&!tn.yAxisDeclared?"lineX":!tn.xAxisDeclared&&tn.yAxisDeclared?"lineY":"rect"});Yr._brushController.setPanels(en).enableBrush(Qr&&en.length?{brushType:"auto",brushStyle:Wr.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(Wr){var Gr=Wr.getComponent("toolbox",0),Yr=["feature","dataZoom"];if(!Gr||Gr.get(Yr)==null)return;var Zr=Gr.getModel(Yr),Kr=[],Qr=makeAxisFinder(Zr),Jr=parseFinder$1(Wr,Qr);each$5(Jr.xAxisModels,function(tn){return en(tn,"xAxis","xAxisIndex")}),each$5(Jr.yAxisModels,function(tn){return en(tn,"yAxis","yAxisIndex")});function en(tn,rn,an){var nn=tn.componentIndex,sn={type:"select",$fromToolbox:!0,filterMode:Zr.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+rn+nn};sn[an]=nn,Kr.push(sn)}return Kr});function install$j(Wr){Wr.registerComponentModel(ToolboxModel),Wr.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$k)}var TooltipModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="tooltip",Gr.dependencies=["axisPointer"],Gr.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},Gr}(ComponentModel);function shouldTooltipConfine(Wr){var Gr=Wr.get("confine");return Gr!=null?!!Gr:Wr.get("renderMode")==="richText"}function testStyle(Wr){if(env.domSupported){for(var Gr=document.documentElement.style,Yr=0,Zr=Wr.length;Yr<Zr;Yr++)if(Wr[Yr]in Gr)return Wr[Yr]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(Wr,Gr){if(!Wr)return Gr;Gr=toCamelCase(Gr,!0);var Yr=Wr.indexOf(Gr);return Wr=Yr===-1?Gr:"-"+Wr.slice(0,Yr)+"-"+Gr,Wr.toLowerCase()}function getComputedStyle$1(Wr,Gr){var Yr=Wr.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(Wr);return Yr?Yr[Gr]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(Wr){return Wr=Wr==="left"?"right":Wr==="right"?"left":Wr==="top"?"bottom":"top",Wr}function assembleArrow(Wr,Gr,Yr){if(!isString(Yr)||Yr==="inside")return"";var Zr=Wr.get("backgroundColor"),Kr=Wr.get("borderWidth");Gr=convertToColorString(Gr);var Qr=mirrorPos(Yr),Jr=Math.max(Math.round(Kr)*1.5,6),en="",tn=CSS_TRANSFORM_VENDOR+":",rn;indexOf(["left","right"],Qr)>-1?(en+="top:50%",tn+="translateY(-50%) rotate("+(rn=Qr==="left"?-225:-45)+"deg)"):(en+="left:50%",tn+="translateX(-50%) rotate("+(rn=Qr==="top"?225:45)+"deg)");var an=rn*Math.PI/180,nn=Jr+Kr,sn=nn*Math.abs(Math.cos(an))+nn*Math.abs(Math.sin(an)),ln=Math.round(((sn-Math.SQRT2*Kr)/2+Math.SQRT2*Kr-(sn-nn)/2)*100)/100;en+=";"+Qr+":-"+ln+"px";var un=Gr+" solid "+Kr+"px;",cn=["position:absolute;width:"+Jr+"px;height:"+Jr+"px;z-index:-1;",en+";"+tn+";","border-bottom:"+un,"border-right:"+un,"background-color:"+Zr+";"];return'<div style="'+cn.join("")+'"></div>'}function assembleTransition(Wr,Gr){var Yr="cubic-bezier(0.23,1,0.32,1)",Zr=" "+Wr/2+"s "+Yr,Kr="opacity"+Zr+",visibility"+Zr;return Gr||(Zr=" "+Wr+"s "+Yr,Kr+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+Zr:",left"+Zr+",top"+Zr),CSS_TRANSITION_VENDOR+":"+Kr}function assembleTransform(Wr,Gr,Yr){var Zr=Wr.toFixed(0)+"px",Kr=Gr.toFixed(0)+"px";if(!env.transformSupported)return Yr?"top:"+Kr+";left:"+Zr+";":[["top",Kr],["left",Zr]];var Qr=env.transform3dSupported,Jr="translate"+(Qr?"3d":"")+"("+Zr+","+Kr+(Qr?",0":"")+")";return Yr?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+Jr+";":[["top",0],["left",0],[TRANSFORM_VENDOR,Jr]]}function assembleFont(Wr){var Gr=[],Yr=Wr.get("fontSize"),Zr=Wr.getTextColor();Zr&&Gr.push("color:"+Zr),Gr.push("font:"+Wr.getFont());var Kr=retrieve2(Wr.get("lineHeight"),Math.round(Yr*3/2));Yr&&Gr.push("line-height:"+Kr+"px");var Qr=Wr.get("textShadowColor"),Jr=Wr.get("textShadowBlur")||0,en=Wr.get("textShadowOffsetX")||0,tn=Wr.get("textShadowOffsetY")||0;return Qr&&Jr&&Gr.push("text-shadow:"+en+"px "+tn+"px "+Jr+"px "+Qr),each$f(["decoration","align"],function(rn){var an=Wr.get(rn);an&&Gr.push("text-"+rn+":"+an)}),Gr.join(";")}function assembleCssText(Wr,Gr,Yr){var Zr=[],Kr=Wr.get("transitionDuration"),Qr=Wr.get("backgroundColor"),Jr=Wr.get("shadowBlur"),en=Wr.get("shadowColor"),tn=Wr.get("shadowOffsetX"),rn=Wr.get("shadowOffsetY"),an=Wr.getModel("textStyle"),nn=getPaddingFromTooltipModel(Wr,"html"),sn=tn+"px "+rn+"px "+Jr+"px "+en;return Zr.push("box-shadow:"+sn),Gr&&Kr&&Zr.push(assembleTransition(Kr,Yr)),Qr&&Zr.push("background-color:"+Qr),each$f(["width","color","radius"],function(ln){var un="border-"+ln,cn=toCamelCase(un),hn=Wr.get(cn);hn!=null&&Zr.push(un+":"+hn+(ln==="color"?"":"px"))}),Zr.push(assembleFont(an)),nn!=null&&Zr.push("padding:"+normalizeCssArray(nn).join("px ")+"px"),Zr.join(";")+";"}function makeStyleCoord$1(Wr,Gr,Yr,Zr,Kr){var Qr=Gr&&Gr.painter;if(Yr){var Jr=Qr&&Qr.getViewportRoot();Jr&&transformLocalCoord(Wr,Jr,Yr,Zr,Kr)}else{Wr[0]=Zr,Wr[1]=Kr;var en=Qr&&Qr.getViewportRootOffset();en&&(Wr[0]+=en.offsetLeft,Wr[1]+=en.offsetTop)}Wr[2]=Wr[0]/Gr.getWidth(),Wr[3]=Wr[1]/Gr.getHeight()}var TooltipHTMLContent=function(){function Wr(Gr,Yr){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var Zr=document.createElement("div");Zr.domBelongToZr=!0,this.el=Zr;var Kr=this._zr=Gr.getZr(),Qr=Yr.appendTo,Jr=Qr&&(isString(Qr)?document.querySelector(Qr):isDom(Qr)?Qr:isFunction(Qr)&&Qr(Gr.getDom()));makeStyleCoord$1(this._styleCoord,Kr,Jr,Gr.getWidth()/2,Gr.getHeight()/2),(Jr||Gr.getDom()).appendChild(Zr),this._api=Gr,this._container=Jr;var en=this;Zr.onmouseenter=function(){en._enterable&&(clearTimeout(en._hideTimeout),en._show=!0),en._inContent=!0},Zr.onmousemove=function(tn){if(tn=tn||window.event,!en._enterable){var rn=Kr.handler,an=Kr.painter.getViewportRoot();normalizeEvent(an,tn,!0),rn.dispatch("mousemove",tn)}},Zr.onmouseleave=function(){en._inContent=!1,en._enterable&&en._show&&en.hideLater(en._hideDelay)}}return Wr.prototype.update=function(Gr){if(!this._container){var Yr=this._api.getDom(),Zr=getComputedStyle$1(Yr,"position"),Kr=Yr.style;Kr.position!=="absolute"&&Zr!=="absolute"&&(Kr.position="relative")}var Qr=Gr.get("alwaysShowContent");Qr&&this._moveIfResized(),this._alwaysShowContent=Qr,this.el.className=Gr.get("className")||""},Wr.prototype.show=function(Gr,Yr){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Zr=this.el,Kr=Zr.style,Qr=this._styleCoord;Zr.innerHTML?Kr.cssText=gCssText+assembleCssText(Gr,!this._firstShow,this._longHide)+assembleTransform(Qr[0],Qr[1],!0)+("border-color:"+convertToColorString(Yr)+";")+(Gr.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):Kr.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},Wr.prototype.setContent=function(Gr,Yr,Zr,Kr,Qr){var Jr=this.el;if(Gr==null){Jr.innerHTML="";return}var en="";if(isString(Qr)&&Zr.get("trigger")==="item"&&!shouldTooltipConfine(Zr)&&(en=assembleArrow(Zr,Kr,Qr)),isString(Gr))Jr.innerHTML=Gr+en;else if(Gr){Jr.innerHTML="",isArray$1(Gr)||(Gr=[Gr]);for(var tn=0;tn<Gr.length;tn++)isDom(Gr[tn])&&Gr[tn].parentNode!==Jr&&Jr.appendChild(Gr[tn]);if(en&&Jr.childNodes.length){var rn=document.createElement("div");rn.innerHTML=en,Jr.appendChild(rn)}}},Wr.prototype.setEnterable=function(Gr){this._enterable=Gr},Wr.prototype.getSize=function(){var Gr=this.el;return Gr?[Gr.offsetWidth,Gr.offsetHeight]:[0,0]},Wr.prototype.moveTo=function(Gr,Yr){if(this.el){var Zr=this._styleCoord;if(makeStyleCoord$1(Zr,this._zr,this._container,Gr,Yr),Zr[0]!=null&&Zr[1]!=null){var Kr=this.el.style,Qr=assembleTransform(Zr[0],Zr[1]);each$f(Qr,function(Jr){Kr[Jr[0]]=Jr[1]})}}},Wr.prototype._moveIfResized=function(){var Gr=this._styleCoord[2],Yr=this._styleCoord[3];this.moveTo(Gr*this._zr.getWidth(),Yr*this._zr.getHeight())},Wr.prototype.hide=function(){var Gr=this,Yr=this.el.style;Yr.visibility="hidden",Yr.opacity="0",env.transform3dSupported&&(Yr.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return Gr._longHide=!0},500)},Wr.prototype.hideLater=function(Gr){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Gr?(this._hideDelay=Gr,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),Gr)):this.hide())},Wr.prototype.isShow=function(){return this._show},Wr.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Gr=this.el.parentNode;Gr&&Gr.removeChild(this.el),this.el=this._container=null},Wr}(),TooltipRichContent=function(){function Wr(Gr){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=Gr.getZr(),makeStyleCoord(this._styleCoord,this._zr,Gr.getWidth()/2,Gr.getHeight()/2)}return Wr.prototype.update=function(Gr){var Yr=Gr.get("alwaysShowContent");Yr&&this._moveIfResized(),this._alwaysShowContent=Yr},Wr.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},Wr.prototype.setContent=function(Gr,Yr,Zr,Kr,Qr){var Jr=this;isObject$3(Gr)&&throwError(""),this.el&&this._zr.remove(this.el);var en=Zr.getModel("textStyle");this.el=new ZRText({style:{rich:Yr.richTextStyles,text:Gr,lineHeight:22,borderWidth:1,borderColor:Kr,textShadowColor:en.get("textShadowColor"),fill:Zr.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(Zr,"richText"),verticalAlign:"top",align:"left"},z:Zr.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(rn){Jr.el.style[rn]=Zr.get(rn)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(rn){Jr.el.style[rn]=en.get(rn)||0}),this._zr.add(this.el);var tn=this;this.el.on("mouseover",function(){tn._enterable&&(clearTimeout(tn._hideTimeout),tn._show=!0),tn._inContent=!0}),this.el.on("mouseout",function(){tn._enterable&&tn._show&&tn.hideLater(tn._hideDelay),tn._inContent=!1})},Wr.prototype.setEnterable=function(Gr){this._enterable=Gr},Wr.prototype.getSize=function(){var Gr=this.el,Yr=this.el.getBoundingRect(),Zr=calcShadowOuterSize(Gr.style);return[Yr.width+Zr.left+Zr.right,Yr.height+Zr.top+Zr.bottom]},Wr.prototype.moveTo=function(Gr,Yr){var Zr=this.el;if(Zr){var Kr=this._styleCoord;makeStyleCoord(Kr,this._zr,Gr,Yr),Gr=Kr[0],Yr=Kr[1];var Qr=Zr.style,Jr=mathMaxWith0(Qr.borderWidth||0),en=calcShadowOuterSize(Qr);Zr.x=Gr+Jr+en.left,Zr.y=Yr+Jr+en.top,Zr.markRedraw()}},Wr.prototype._moveIfResized=function(){var Gr=this._styleCoord[2],Yr=this._styleCoord[3];this.moveTo(Gr*this._zr.getWidth(),Yr*this._zr.getHeight())},Wr.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},Wr.prototype.hideLater=function(Gr){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Gr?(this._hideDelay=Gr,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),Gr)):this.hide())},Wr.prototype.isShow=function(){return this._show},Wr.prototype.dispose=function(){this._zr.remove(this.el)},Wr}();function mathMaxWith0(Wr){return Math.max(0,Wr)}function calcShadowOuterSize(Wr){var Gr=mathMaxWith0(Wr.shadowBlur||0),Yr=mathMaxWith0(Wr.shadowOffsetX||0),Zr=mathMaxWith0(Wr.shadowOffsetY||0);return{left:mathMaxWith0(Gr-Yr),right:mathMaxWith0(Gr+Yr),top:mathMaxWith0(Gr-Zr),bottom:mathMaxWith0(Gr+Zr)}}function makeStyleCoord(Wr,Gr,Yr,Zr){Wr[0]=Yr,Wr[1]=Zr,Wr[2]=Wr[0]/Gr.getWidth(),Wr[3]=Wr[1]/Gr.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr){if(!(env.node||!Zr.getDom())){var Kr=Yr.getComponent("tooltip"),Qr=this._renderMode=getTooltipRenderMode(Kr.get("renderMode"));this._tooltipContent=Qr==="richText"?new TooltipRichContent(Zr):new TooltipHTMLContent(Zr,{appendTo:Kr.get("appendToBody",!0)?"body":Kr.get("appendTo",!0)})}},Gr.prototype.render=function(Yr,Zr,Kr){if(!(env.node||!Kr.getDom())){this.group.removeAll(),this._tooltipModel=Yr,this._ecModel=Zr,this._api=Kr;var Qr=this._tooltipContent;Qr.update(Yr),Qr.setEnterable(Yr.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&Yr.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},Gr.prototype._initGlobalListener=function(){var Yr=this._tooltipModel,Zr=Yr.get("triggerOn");register("itemTooltip",this._api,bind$1(function(Kr,Qr,Jr){Zr!=="none"&&(Zr.indexOf(Kr)>=0?this._tryShow(Qr,Jr):Kr==="leave"&&this._hide(Jr))},this))},Gr.prototype._keepShow=function(){var Yr=this._tooltipModel,Zr=this._ecModel,Kr=this._api,Qr=Yr.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&Qr!=="none"&&Qr!=="click"){var Jr=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!Kr.isDisposed()&&Jr.manuallyShowTip(Yr,Zr,Kr,{x:Jr._lastX,y:Jr._lastY,dataByCoordSys:Jr._lastDataByCoordSys})})}},Gr.prototype.manuallyShowTip=function(Yr,Zr,Kr,Qr){if(!(Qr.from===this.uid||env.node||!Kr.getDom())){var Jr=makeDispatchAction(Qr,Kr);this._ticket="";var en=Qr.dataByCoordSys,tn=findComponentReference(Qr,Zr,Kr);if(tn){var rn=tn.el.getBoundingRect().clone();rn.applyTransform(tn.el.transform),this._tryShow({offsetX:rn.x+rn.width/2,offsetY:rn.y+rn.height/2,target:tn.el,position:Qr.position,positionDefault:"bottom"},Jr)}else if(Qr.tooltip&&Qr.x!=null&&Qr.y!=null){var an=proxyRect;an.x=Qr.x,an.y=Qr.y,an.update(),getECData(an).tooltipConfig={name:null,option:Qr.tooltip},this._tryShow({offsetX:Qr.x,offsetY:Qr.y,target:an},Jr)}else if(en)this._tryShow({offsetX:Qr.x,offsetY:Qr.y,position:Qr.position,dataByCoordSys:en,tooltipOption:Qr.tooltipOption},Jr);else if(Qr.seriesIndex!=null){if(this._manuallyAxisShowTip(Yr,Zr,Kr,Qr))return;var nn=findPointFromSeries(Qr,Zr),sn=nn.point[0],ln=nn.point[1];sn!=null&&ln!=null&&this._tryShow({offsetX:sn,offsetY:ln,target:nn.el,position:Qr.position,positionDefault:"bottom"},Jr)}else Qr.x!=null&&Qr.y!=null&&(Kr.dispatchAction({type:"updateAxisPointer",x:Qr.x,y:Qr.y}),this._tryShow({offsetX:Qr.x,offsetY:Qr.y,position:Qr.position,target:Kr.getZr().findHover(Qr.x,Qr.y).target},Jr))}},Gr.prototype.manuallyHideTip=function(Yr,Zr,Kr,Qr){var Jr=this._tooltipContent;this._tooltipModel&&Jr.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,Qr.from!==this.uid&&this._hide(makeDispatchAction(Qr,Kr))},Gr.prototype._manuallyAxisShowTip=function(Yr,Zr,Kr,Qr){var Jr=Qr.seriesIndex,en=Qr.dataIndex,tn=Zr.getComponent("axisPointer").coordSysAxesInfo;if(!(Jr==null||en==null||tn==null)){var rn=Zr.getSeriesByIndex(Jr);if(rn){var an=rn.getData(),nn=buildTooltipModel([an.getItemModel(en),rn,(rn.coordinateSystem||{}).model],this._tooltipModel);if(nn.get("trigger")==="axis")return Kr.dispatchAction({type:"updateAxisPointer",seriesIndex:Jr,dataIndex:en,position:Qr.position}),!0}}},Gr.prototype._tryShow=function(Yr,Zr){var Kr=Yr.target,Qr=this._tooltipModel;if(Qr){this._lastX=Yr.offsetX,this._lastY=Yr.offsetY;var Jr=Yr.dataByCoordSys;if(Jr&&Jr.length)this._showAxisTooltip(Jr,Yr);else if(Kr){var en=getECData(Kr);if(en.ssrType==="legend")return;this._lastDataByCoordSys=null;var tn,rn;findEventDispatcher(Kr,function(an){if(getECData(an).dataIndex!=null)return tn=an,!0;if(getECData(an).tooltipConfig!=null)return rn=an,!0},!0),tn?this._showSeriesItemTooltip(Yr,tn,Zr):rn?this._showComponentItemTooltip(Yr,rn,Zr):this._hide(Zr)}else this._lastDataByCoordSys=null,this._hide(Zr)}},Gr.prototype._showOrMove=function(Yr,Zr){var Kr=Yr.get("showDelay");Zr=bind$1(Zr,this),clearTimeout(this._showTimout),Kr>0?this._showTimout=setTimeout(Zr,Kr):Zr()},Gr.prototype._showAxisTooltip=function(Yr,Zr){var Kr=this._ecModel,Qr=this._tooltipModel,Jr=[Zr.offsetX,Zr.offsetY],en=buildTooltipModel([Zr.tooltipOption],Qr),tn=this._renderMode,rn=[],an=createTooltipMarkup("section",{blocks:[],noHeader:!0}),nn=[],sn=new TooltipMarkupStyleCreator;each$f(Yr,function(fn){each$f(fn.dataByAxis,function(pn){var gn=Kr.getComponent(pn.axisDim+"Axis",pn.axisIndex),vn=pn.value;if(!(!gn||vn==null)){var mn=getValueLabel(vn,gn.axis,Kr,pn.seriesDataIndices,pn.valueLabelOpt),yn=createTooltipMarkup("section",{header:mn,noHeader:!trim$1(mn),sortBlocks:!0,blocks:[]});an.blocks.push(yn),each$f(pn.seriesDataIndices,function(xn){var bn=Kr.getSeriesByIndex(xn.seriesIndex),Sn=xn.dataIndexInside,wn=bn.getDataParams(Sn);if(!(wn.dataIndex<0)){wn.axisDim=pn.axisDim,wn.axisIndex=pn.axisIndex,wn.axisType=pn.axisType,wn.axisId=pn.axisId,wn.axisValue=getAxisRawValue(gn.axis,{value:vn}),wn.axisValueLabel=mn,wn.marker=sn.makeTooltipMarker("item",convertToColorString(wn.color),tn);var _n=normalizeTooltipFormatResult(bn.formatTooltip(Sn,!0,null)),An=_n.frag;if(An){var Cn=buildTooltipModel([bn],Qr).get("valueFormatter");yn.blocks.push(Cn?extend({valueFormatter:Cn},An):An)}_n.text&&nn.push(_n.text),rn.push(wn)}})}})}),an.blocks.reverse(),nn.reverse();var ln=Zr.position,un=en.get("order"),cn=buildTooltipMarkup(an,sn,tn,un,Kr.get("useUTC"),en.get("textStyle"));cn&&nn.unshift(cn);var hn=tn==="richText"?`

`:"<br/>",dn=nn.join(hn);this._showOrMove(en,function(){this._updateContentNotChangedOnAxis(Yr,rn)?this._updatePosition(en,ln,Jr[0],Jr[1],this._tooltipContent,rn):this._showTooltipContent(en,dn,rn,Math.random()+"",Jr[0],Jr[1],ln,null,sn)})},Gr.prototype._showSeriesItemTooltip=function(Yr,Zr,Kr){var Qr=this._ecModel,Jr=getECData(Zr),en=Jr.seriesIndex,tn=Qr.getSeriesByIndex(en),rn=Jr.dataModel||tn,an=Jr.dataIndex,nn=Jr.dataType,sn=rn.getData(nn),ln=this._renderMode,un=Yr.positionDefault,cn=buildTooltipModel([sn.getItemModel(an),rn,tn&&(tn.coordinateSystem||{}).model],this._tooltipModel,un?{position:un}:null),hn=cn.get("trigger");if(!(hn!=null&&hn!=="item")){var dn=rn.getDataParams(an,nn),fn=new TooltipMarkupStyleCreator;dn.marker=fn.makeTooltipMarker("item",convertToColorString(dn.color),ln);var pn=normalizeTooltipFormatResult(rn.formatTooltip(an,!1,nn)),gn=cn.get("order"),vn=cn.get("valueFormatter"),mn=pn.frag,yn=mn?buildTooltipMarkup(vn?extend({valueFormatter:vn},mn):mn,fn,ln,gn,Qr.get("useUTC"),cn.get("textStyle")):pn.text,xn="item_"+rn.name+"_"+an;this._showOrMove(cn,function(){this._showTooltipContent(cn,yn,dn,xn,Yr.offsetX,Yr.offsetY,Yr.position,Yr.target,fn)}),Kr({type:"showTip",dataIndexInside:an,dataIndex:sn.getRawIndex(an),seriesIndex:en,from:this.uid})}},Gr.prototype._showComponentItemTooltip=function(Yr,Zr,Kr){var Qr=this._renderMode==="html",Jr=getECData(Zr),en=Jr.tooltipConfig,tn=en.option||{},rn=tn.encodeHTMLContent;if(isString(tn)){var an=tn;tn={content:an,formatter:an},rn=!0}rn&&Qr&&tn.content&&(tn=clone$4(tn),tn.content=encodeHTML(tn.content));var nn=[tn],sn=this._ecModel.getComponent(Jr.componentMainType,Jr.componentIndex);sn&&nn.push(sn),nn.push({formatter:tn.content});var ln=Yr.positionDefault,un=buildTooltipModel(nn,this._tooltipModel,ln?{position:ln}:null),cn=un.get("content"),hn=Math.random()+"",dn=new TooltipMarkupStyleCreator;this._showOrMove(un,function(){var fn=clone$4(un.get("formatterParams")||{});this._showTooltipContent(un,cn,fn,hn,Yr.offsetX,Yr.offsetY,Yr.position,Zr,dn)}),Kr({type:"showTip",from:this.uid})},Gr.prototype._showTooltipContent=function(Yr,Zr,Kr,Qr,Jr,en,tn,rn,an){if(this._ticket="",!(!Yr.get("showContent")||!Yr.get("show"))){var nn=this._tooltipContent;nn.setEnterable(Yr.get("enterable"));var sn=Yr.get("formatter");tn=tn||Yr.get("position");var ln=Zr,un=this._getNearestPoint([Jr,en],Kr,Yr.get("trigger"),Yr.get("borderColor")),cn=un.color;if(sn)if(isString(sn)){var hn=Yr.ecModel.get("useUTC"),dn=isArray$1(Kr)?Kr[0]:Kr,fn=dn&&dn.axisType&&dn.axisType.indexOf("time")>=0;ln=sn,fn&&(ln=format(dn.axisValue,ln,hn)),ln=formatTpl(ln,Kr,!0)}else if(isFunction(sn)){var pn=bind$1(function(gn,vn){gn===this._ticket&&(nn.setContent(vn,an,Yr,cn,tn),this._updatePosition(Yr,tn,Jr,en,nn,Kr,rn))},this);this._ticket=Qr,ln=sn(Kr,Qr,pn)}else ln=sn;nn.setContent(ln,an,Yr,cn,tn),nn.show(Yr,cn),this._updatePosition(Yr,tn,Jr,en,nn,Kr,rn)}},Gr.prototype._getNearestPoint=function(Yr,Zr,Kr,Qr){if(Kr==="axis"||isArray$1(Zr))return{color:Qr||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(Zr))return{color:Qr||Zr.color||Zr.borderColor}},Gr.prototype._updatePosition=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this._api.getWidth(),an=this._api.getHeight();Zr=Zr||Yr.get("position");var nn=Jr.getSize(),sn=Yr.get("align"),ln=Yr.get("verticalAlign"),un=tn&&tn.getBoundingRect().clone();if(tn&&un.applyTransform(tn.transform),isFunction(Zr)&&(Zr=Zr([Kr,Qr],en,Jr.el,un,{viewSize:[rn,an],contentSize:nn.slice()})),isArray$1(Zr))Kr=parsePercent(Zr[0],rn),Qr=parsePercent(Zr[1],an);else if(isObject$3(Zr)){var cn=Zr;cn.width=nn[0],cn.height=nn[1];var hn=getLayoutRect(cn,{width:rn,height:an});Kr=hn.x,Qr=hn.y,sn=null,ln=null}else if(isString(Zr)&&tn){var dn=calcTooltipPosition(Zr,un,nn,Yr.get("borderWidth"));Kr=dn[0],Qr=dn[1]}else{var dn=refixTooltipPosition(Kr,Qr,Jr,rn,an,sn?null:20,ln?null:20);Kr=dn[0],Qr=dn[1]}if(sn&&(Kr-=isCenterAlign(sn)?nn[0]/2:sn==="right"?nn[0]:0),ln&&(Qr-=isCenterAlign(ln)?nn[1]/2:ln==="bottom"?nn[1]:0),shouldTooltipConfine(Yr)){var dn=confineTooltipPosition(Kr,Qr,Jr,rn,an);Kr=dn[0],Qr=dn[1]}Jr.moveTo(Kr,Qr)},Gr.prototype._updateContentNotChangedOnAxis=function(Yr,Zr){var Kr=this._lastDataByCoordSys,Qr=this._cbParamsList,Jr=!!Kr&&Kr.length===Yr.length;return Jr&&each$f(Kr,function(en,tn){var rn=en.dataByAxis||[],an=Yr[tn]||{},nn=an.dataByAxis||[];Jr=Jr&&rn.length===nn.length,Jr&&each$f(rn,function(sn,ln){var un=nn[ln]||{},cn=sn.seriesDataIndices||[],hn=un.seriesDataIndices||[];Jr=Jr&&sn.value===un.value&&sn.axisType===un.axisType&&sn.axisId===un.axisId&&cn.length===hn.length,Jr&&each$f(cn,function(dn,fn){var pn=hn[fn];Jr=Jr&&dn.seriesIndex===pn.seriesIndex&&dn.dataIndex===pn.dataIndex}),Qr&&each$f(sn.seriesDataIndices,function(dn){var fn=dn.seriesIndex,pn=Zr[fn],gn=Qr[fn];pn&&gn&&gn.data!==pn.data&&(Jr=!1)})})}),this._lastDataByCoordSys=Yr,this._cbParamsList=Zr,!!Jr},Gr.prototype._hide=function(Yr){this._lastDataByCoordSys=null,Yr({type:"hideTip",from:this.uid})},Gr.prototype.dispose=function(Yr,Zr){env.node||!Zr.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",Zr))},Gr.type="tooltip",Gr}(ComponentView);function buildTooltipModel(Wr,Gr,Yr){var Zr=Gr.ecModel,Kr;Yr?(Kr=new Model(Yr,Zr,Zr),Kr=new Model(Gr.option,Kr,Zr)):Kr=Gr;for(var Qr=Wr.length-1;Qr>=0;Qr--){var Jr=Wr[Qr];Jr&&(Jr instanceof Model&&(Jr=Jr.get("tooltip",!0)),isString(Jr)&&(Jr={formatter:Jr}),Jr&&(Kr=new Model(Jr,Kr,Zr)))}return Kr}function makeDispatchAction(Wr,Gr){return Wr.dispatchAction||bind$1(Gr.dispatchAction,Gr)}function refixTooltipPosition(Wr,Gr,Yr,Zr,Kr,Qr,Jr){var en=Yr.getSize(),tn=en[0],rn=en[1];return Qr!=null&&(Wr+tn+Qr+2>Zr?Wr-=tn+Qr:Wr+=Qr),Jr!=null&&(Gr+rn+Jr>Kr?Gr-=rn+Jr:Gr+=Jr),[Wr,Gr]}function confineTooltipPosition(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.getSize(),Jr=Qr[0],en=Qr[1];return Wr=Math.min(Wr+Jr,Zr)-Jr,Gr=Math.min(Gr+en,Kr)-en,Wr=Math.max(Wr,0),Gr=Math.max(Gr,0),[Wr,Gr]}function calcTooltipPosition(Wr,Gr,Yr,Zr){var Kr=Yr[0],Qr=Yr[1],Jr=Math.ceil(Math.SQRT2*Zr)+8,en=0,tn=0,rn=Gr.width,an=Gr.height;switch(Wr){case"inside":en=Gr.x+rn/2-Kr/2,tn=Gr.y+an/2-Qr/2;break;case"top":en=Gr.x+rn/2-Kr/2,tn=Gr.y-Qr-Jr;break;case"bottom":en=Gr.x+rn/2-Kr/2,tn=Gr.y+an+Jr;break;case"left":en=Gr.x-Kr-Jr,tn=Gr.y+an/2-Qr/2;break;case"right":en=Gr.x+rn+Jr,tn=Gr.y+an/2-Qr/2}return[en,tn]}function isCenterAlign(Wr){return Wr==="center"||Wr==="middle"}function findComponentReference(Wr,Gr,Yr){var Zr=preParseFinder(Wr).queryOptionMap,Kr=Zr.keys()[0];if(!(!Kr||Kr==="series")){var Qr=queryReferringComponents(Gr,Kr,Zr.get(Kr),{useDefault:!1,enableAll:!1,enableNone:!1}),Jr=Qr.models[0];if(Jr){var en=Yr.getViewOfComponentModel(Jr),tn;if(en.group.traverse(function(rn){var an=getECData(rn).tooltipConfig;if(an&&an.name===Wr.name)return tn=rn,!0}),tn)return{componentMainType:Kr,componentIndex:Jr.componentIndex,el:tn}}}}function install$i(Wr){use(install$q),Wr.registerComponentModel(TooltipModel),Wr.registerComponentView(TooltipView),Wr.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),Wr.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(Wr,Gr){var Yr=normalizeToArray(Wr?Wr.brush:[]);if(Yr.length){var Zr=[];each$f(Yr,function(tn){var rn=tn.hasOwnProperty("toolbox")?tn.toolbox:[];rn instanceof Array&&(Zr=Zr.concat(rn))});var Kr=Wr&&Wr.toolbox;isArray$1(Kr)&&(Kr=Kr[0]),Kr||(Kr={feature:{}},Wr.toolbox=[Kr]);var Qr=Kr.feature||(Kr.feature={}),Jr=Qr.brush||(Qr.brush={}),en=Jr.type||(Jr.type=[]);en.push.apply(en,Zr),removeDuplicate(en),Gr&&!en.length&&en.push.apply(en,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(Wr){var Gr={};each$f(Wr,function(Yr){Gr[Yr]=1}),Wr.length=0,each$f(Gr,function(Yr,Zr){Wr.push(Zr)})}var each$4=each$f;function hasKeys(Wr){if(Wr){for(var Gr in Wr)if(Wr.hasOwnProperty(Gr))return!0}}function createVisualMappings(Wr,Gr,Yr){var Zr={};return each$4(Gr,function(Qr){var Jr=Zr[Qr]=Kr();each$4(Wr[Qr],function(en,tn){if(VisualMapping.isValidType(tn)){var rn={type:tn,visual:en};Yr&&Yr(rn,Qr),Jr[tn]=new VisualMapping(rn),tn==="opacity"&&(rn=clone$4(rn),rn.type="colorAlpha",Jr.__hidden.__alphaForOpacity=new VisualMapping(rn))}})}),Zr;function Kr(){var Qr=function(){};Qr.prototype.__hidden=Qr.prototype;var Jr=new Qr;return Jr}}function replaceVisualOption(Wr,Gr,Yr){var Zr;each$f(Yr,function(Kr){Gr.hasOwnProperty(Kr)&&hasKeys(Gr[Kr])&&(Zr=!0)}),Zr&&each$f(Yr,function(Kr){Gr.hasOwnProperty(Kr)&&hasKeys(Gr[Kr])?Wr[Kr]=clone$4(Gr[Kr]):delete Wr[Kr]})}function applyVisual(Wr,Gr,Yr,Zr,Kr,Qr){var Jr={};each$f(Wr,function(nn){var sn=VisualMapping.prepareVisualTypes(Gr[nn]);Jr[nn]=sn});var en;function tn(nn){return getItemVisualFromData(Yr,en,nn)}function rn(nn,sn){setItemVisualFromData(Yr,en,nn,sn)}Yr.each(an);function an(nn,sn){en=nn;var ln=Yr.getRawDataItem(en);if(!(ln&&ln.visualMap===!1))for(var un=Zr.call(Kr,nn),cn=Gr[un],hn=Jr[un],dn=0,fn=hn.length;dn<fn;dn++){var pn=hn[dn];cn[pn]&&cn[pn].applyVisual(nn,tn,rn)}}}function incrementalApplyVisual(Wr,Gr,Yr,Zr){var Kr={};return each$f(Wr,function(Qr){var Jr=VisualMapping.prepareVisualTypes(Gr[Qr]);Kr[Qr]=Jr}),{progress:function(Jr,en){var tn;Zr!=null&&(tn=en.getDimensionIndex(Zr));function rn(vn){return getItemVisualFromData(en,nn,vn)}function an(vn,mn){setItemVisualFromData(en,nn,vn,mn)}for(var nn,sn=en.getStore();(nn=Jr.next())!=null;){var ln=en.getRawDataItem(nn);if(!(ln&&ln.visualMap===!1))for(var un=Zr!=null?sn.get(tn,nn):nn,cn=Yr(un),hn=Gr[cn],dn=Kr[cn],fn=0,pn=dn.length;fn<pn;fn++){var gn=dn[fn];hn[gn]&&hn[gn].applyVisual(un,rn,an)}}}}}function makeBrushCommonSelectorForSeries(Wr){var Gr=Wr.brushType,Yr={point:function(Zr){return selector[Gr].point(Zr,Yr,Wr)},rect:function(Zr){return selector[Gr].rect(Zr,Yr,Wr)}};return Yr}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(Wr,Gr,Yr){return Wr&&Yr.boundingRect.contain(Wr[0],Wr[1])},rect:function(Wr,Gr,Yr){return Wr&&Yr.boundingRect.intersect(Wr)}},polygon:{point:function(Wr,Gr,Yr){return Wr&&Yr.boundingRect.contain(Wr[0],Wr[1])&&contain(Yr.range,Wr[0],Wr[1])},rect:function(Wr,Gr,Yr){var Zr=Yr.range;if(!Wr||Zr.length<=1)return!1;var Kr=Wr.x,Qr=Wr.y,Jr=Wr.width,en=Wr.height,tn=Zr[0];if(contain(Zr,Kr,Qr)||contain(Zr,Kr+Jr,Qr)||contain(Zr,Kr,Qr+en)||contain(Zr,Kr+Jr,Qr+en)||BoundingRect.create(Wr).contain(tn[0],tn[1])||linePolygonIntersect(Kr,Qr,Kr+Jr,Qr,Zr)||linePolygonIntersect(Kr,Qr,Kr,Qr+en,Zr)||linePolygonIntersect(Kr+Jr,Qr,Kr+Jr,Qr+en,Zr)||linePolygonIntersect(Kr,Qr+en,Kr+Jr,Qr+en,Zr))return!0}}};function getLineSelectors(Wr){var Gr=["x","y"],Yr=["width","height"];return{point:function(Zr,Kr,Qr){if(Zr){var Jr=Qr.range,en=Zr[Wr];return inLineRange(en,Jr)}},rect:function(Zr,Kr,Qr){if(Zr){var Jr=Qr.range,en=[Zr[Gr[Wr]],Zr[Gr[Wr]]+Zr[Yr[Wr]]];return en[1]<en[0]&&en.reverse(),inLineRange(en[0],Jr)||inLineRange(en[1],Jr)||inLineRange(Jr[0],en)||inLineRange(Jr[1],en)}}}}function inLineRange(Wr,Gr){return Gr[0]<=Wr&&Wr<=Gr[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(Wr){Wr.eachComponent({mainType:"brush"},function(Gr){var Yr=Gr.brushTargetManager=new BrushTargetManager(Gr.option,Wr);Yr.setInputRanges(Gr.areas,Wr)})}function brushVisual(Wr,Gr,Yr){var Zr=[],Kr,Qr;Wr.eachComponent({mainType:"brush"},function(Jr){Yr&&Yr.type==="takeGlobalCursor"&&Jr.setBrushOption(Yr.key==="brush"?Yr.brushOption:{brushType:!1})}),layoutCovers(Wr),Wr.eachComponent({mainType:"brush"},function(Jr,en){var tn={brushId:Jr.id,brushIndex:en,brushName:Jr.name,areas:clone$4(Jr.areas),selected:[]};Zr.push(tn);var rn=Jr.option,an=rn.brushLink,nn=[],sn=[],ln=[],un=!1;en||(Kr=rn.throttleType,Qr=rn.throttleDelay);var cn=map$1(Jr.areas,function(vn){var mn=boundingRectBuilders[vn.brushType],yn=defaults({boundingRect:mn?mn(vn):void 0},vn);return yn.selectors=makeBrushCommonSelectorForSeries(yn),yn}),hn=createVisualMappings(Jr.option,STATE_LIST,function(vn){vn.mappingMethod="fixed"});isArray$1(an)&&each$f(an,function(vn){nn[vn]=1});function dn(vn){return an==="all"||!!nn[vn]}function fn(vn){return!!vn.length}Wr.eachSeries(function(vn,mn){var yn=ln[mn]=[];vn.subType==="parallel"?pn(vn,mn):gn(vn,mn,yn)});function pn(vn,mn){var yn=vn.coordinateSystem;un=un||yn.hasAxisBrushed(),dn(mn)&&yn.eachActiveState(vn.getData(),function(xn,bn){xn==="active"&&(sn[bn]=1)})}function gn(vn,mn,yn){if(!(!vn.brushSelector||brushModelNotControll(Jr,mn))&&(each$f(cn,function(bn){Jr.brushTargetManager.controlSeries(bn,vn,Wr)&&yn.push(bn),un=un||fn(yn)}),dn(mn)&&fn(yn))){var xn=vn.getData();xn.each(function(bn){checkInRange(vn,yn,xn,bn)&&(sn[bn]=1)})}}Wr.eachSeries(function(vn,mn){var yn={seriesId:vn.id,seriesIndex:mn,seriesName:vn.name,dataIndex:[]};tn.selected.push(yn);var xn=ln[mn],bn=vn.getData(),Sn=dn(mn)?function(wn){return sn[wn]?(yn.dataIndex.push(bn.getRawIndex(wn)),"inBrush"):"outOfBrush"}:function(wn){return checkInRange(vn,xn,bn,wn)?(yn.dataIndex.push(bn.getRawIndex(wn)),"inBrush"):"outOfBrush"};(dn(mn)?un:fn(xn))&&applyVisual(STATE_LIST,hn,bn,Sn)})}),dispatchAction$1(Gr,Kr,Qr,Zr,Yr)}function dispatchAction$1(Wr,Gr,Yr,Zr,Kr){if(Kr){var Qr=Wr.getZr();if(!Qr[DISPATCH_FLAG]){Qr[DISPATCH_METHOD]||(Qr[DISPATCH_METHOD]=doDispatch);var Jr=createOrUpdate(Qr,DISPATCH_METHOD,Yr,Gr);Jr(Wr,Zr)}}}function doDispatch(Wr,Gr){if(!Wr.isDisposed()){var Yr=Wr.getZr();Yr[DISPATCH_FLAG]=!0,Wr.dispatchAction({type:"brushSelect",batch:Gr}),Yr[DISPATCH_FLAG]=!1}}function checkInRange(Wr,Gr,Yr,Zr){for(var Kr=0,Qr=Gr.length;Kr<Qr;Kr++){var Jr=Gr[Kr];if(Wr.brushSelector(Zr,Yr,Jr.selectors,Jr))return!0}}function brushModelNotControll(Wr,Gr){var Yr=Wr.option.seriesIndex;return Yr!=null&&Yr!=="all"&&(isArray$1(Yr)?indexOf(Yr,Gr)<0:Gr!==Yr)}var boundingRectBuilders={rect:function(Wr){return getBoundingRectFromMinMax(Wr.range)},polygon:function(Wr){for(var Gr,Yr=Wr.range,Zr=0,Kr=Yr.length;Zr<Kr;Zr++){Gr=Gr||[[1/0,-1/0],[1/0,-1/0]];var Qr=Yr[Zr];Qr[0]<Gr[0][0]&&(Gr[0][0]=Qr[0]),Qr[0]>Gr[0][1]&&(Gr[0][1]=Qr[0]),Qr[1]<Gr[1][0]&&(Gr[1][0]=Qr[1]),Qr[1]>Gr[1][1]&&(Gr[1][1]=Qr[1])}return Gr&&getBoundingRectFromMinMax(Gr)}};function getBoundingRectFromMinMax(Wr){return new BoundingRect(Wr[0][0],Wr[1][0],Wr[0][1]-Wr[0][0],Wr[1][1]-Wr[1][0])}var BrushView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr){this.ecModel=Yr,this.api=Zr,this.model,(this._brushController=new BrushController(Zr.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},Gr.prototype.render=function(Yr,Zr,Kr,Qr){this.model=Yr,this._updateController(Yr,Zr,Kr,Qr)},Gr.prototype.updateTransform=function(Yr,Zr,Kr,Qr){layoutCovers(Zr),this._updateController(Yr,Zr,Kr,Qr)},Gr.prototype.updateVisual=function(Yr,Zr,Kr,Qr){this.updateTransform(Yr,Zr,Kr,Qr)},Gr.prototype.updateView=function(Yr,Zr,Kr,Qr){this._updateController(Yr,Zr,Kr,Qr)},Gr.prototype._updateController=function(Yr,Zr,Kr,Qr){(!Qr||Qr.$from!==Yr.id)&&this._brushController.setPanels(Yr.brushTargetManager.makePanelOpts(Kr)).enableBrush(Yr.brushOption).updateCovers(Yr.areas.slice())},Gr.prototype.dispose=function(){this._brushController.dispose()},Gr.prototype._onBrush=function(Yr){var Zr=this.model.id,Kr=this.model.brushTargetManager.setOutputRanges(Yr.areas,this.ecModel);(!Yr.isEnd||Yr.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:Zr,areas:clone$4(Kr),$from:Zr}),Yr.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:Zr,areas:clone$4(Kr),$from:Zr})},Gr.type="brush",Gr}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.areas=[],Yr.brushOption={},Yr}return Gr.prototype.optionUpdated=function(Yr,Zr){var Kr=this.option;!Zr&&replaceVisualOption(Kr,Yr,["inBrush","outOfBrush"]);var Qr=Kr.inBrush=Kr.inBrush||{};Kr.outOfBrush=Kr.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},Qr.hasOwnProperty("liftZ")||(Qr.liftZ=5)},Gr.prototype.setAreas=function(Yr){Yr&&(this.areas=map$1(Yr,function(Zr){return generateBrushOption(this.option,Zr)},this))},Gr.prototype.setBrushOption=function(Yr){this.brushOption=generateBrushOption(this.option,Yr),this.brushType=this.brushOption.brushType},Gr.type="brush",Gr.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],Gr.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},Gr}(ComponentModel);function generateBrushOption(Wr,Gr){return merge({brushType:Wr.brushType,brushMode:Wr.brushMode,transformable:Wr.transformable,brushStyle:new Model(Wr.brushStyle).getItemStyle(),removeOnClick:Wr.removeOnClick,z:Wr.z},Gr,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(Wr){__extends(Gr,Wr);function Gr(){return Wr!==null&&Wr.apply(this,arguments)||this}return Gr.prototype.render=function(Yr,Zr,Kr){var Qr,Jr,en;Zr.eachComponent({mainType:"brush"},function(tn){Qr=tn.brushType,Jr=tn.brushOption.brushMode||"single",en=en||!!tn.areas.length}),this._brushType=Qr,this._brushMode=Jr,each$f(Yr.get("type",!0),function(tn){Yr.setIconStatus(tn,(tn==="keep"?Jr==="multiple":tn==="clear"?en:tn===Qr)?"emphasis":"normal")})},Gr.prototype.updateView=function(Yr,Zr,Kr){this.render(Yr,Zr,Kr)},Gr.prototype.getIcons=function(){var Yr=this.model,Zr=Yr.get("icon",!0),Kr={};return each$f(Yr.get("type",!0),function(Qr){Zr[Qr]&&(Kr[Qr]=Zr[Qr])}),Kr},Gr.prototype.onclick=function(Yr,Zr,Kr){var Qr=this._brushType,Jr=this._brushMode;Kr==="clear"?(Zr.dispatchAction({type:"axisAreaSelect",intervals:[]}),Zr.dispatchAction({type:"brush",command:"clear",areas:[]})):Zr.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Kr==="keep"?Qr:Qr===Kr?!1:Kr,brushMode:Kr==="keep"?Jr==="multiple"?"single":"multiple":Jr}})},Gr.getDefaultOption=function(Yr){var Zr={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Yr.getLocaleModel().get(["toolbox","brush","title"])};return Zr},Gr}(ToolboxFeature);function install$h(Wr){Wr.registerComponentView(BrushView),Wr.registerComponentModel(BrushModel),Wr.registerPreprocessor(brushPreprocessor),Wr.registerVisual(Wr.PRIORITY.VISUAL.BRUSH,brushVisual),Wr.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(Gr,Yr){Yr.eachComponent({mainType:"brush",query:Gr},function(Zr){Zr.setAreas(Gr.areas)})}),Wr.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),Wr.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature)}var TitleModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.layoutMode={type:"box",ignoreSize:!0},Yr}return Gr.type="title",Gr.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},Gr}(ComponentModel),TitleView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.render=function(Yr,Zr,Kr){if(this.group.removeAll(),!!Yr.get("show")){var Qr=this.group,Jr=Yr.getModel("textStyle"),en=Yr.getModel("subtextStyle"),tn=Yr.get("textAlign"),rn=retrieve2(Yr.get("textBaseline"),Yr.get("textVerticalAlign")),an=new ZRText({style:createTextStyle(Jr,{text:Yr.get("text"),fill:Jr.getTextColor()},{disableBox:!0}),z2:10}),nn=an.getBoundingRect(),sn=Yr.get("subtext"),ln=new ZRText({style:createTextStyle(en,{text:sn,fill:en.getTextColor(),y:nn.height+Yr.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),un=Yr.get("link"),cn=Yr.get("sublink"),hn=Yr.get("triggerEvent",!0);an.silent=!un&&!hn,ln.silent=!cn&&!hn,un&&an.on("click",function(){windowOpen(un,"_"+Yr.get("target"))}),cn&&ln.on("click",function(){windowOpen(cn,"_"+Yr.get("subtarget"))}),getECData(an).eventData=getECData(ln).eventData=hn?{componentType:"title",componentIndex:Yr.componentIndex}:null,Qr.add(an),sn&&Qr.add(ln);var dn=Qr.getBoundingRect(),fn=Yr.getBoxLayoutParams();fn.width=dn.width,fn.height=dn.height;var pn=getLayoutRect(fn,{width:Kr.getWidth(),height:Kr.getHeight()},Yr.get("padding"));tn||(tn=Yr.get("left")||Yr.get("right"),tn==="middle"&&(tn="center"),tn==="right"?pn.x+=pn.width:tn==="center"&&(pn.x+=pn.width/2)),rn||(rn=Yr.get("top")||Yr.get("bottom"),rn==="center"&&(rn="middle"),rn==="bottom"?pn.y+=pn.height:rn==="middle"&&(pn.y+=pn.height/2),rn=rn||"top"),Qr.x=pn.x,Qr.y=pn.y,Qr.markRedraw();var gn={align:tn,verticalAlign:rn};an.setStyle(gn),ln.setStyle(gn),dn=Qr.getBoundingRect();var vn=pn.margin,mn=Yr.getItemStyle(["color","opacity"]);mn.fill=Yr.get("backgroundColor");var yn=new Rect$2({shape:{x:dn.x-vn[3],y:dn.y-vn[0],width:dn.width+vn[1]+vn[3],height:dn.height+vn[0]+vn[2],r:Yr.get("borderRadius")},style:mn,subPixelOptimize:!0,silent:!0});Qr.add(yn)}},Gr.type="title",Gr}(ComponentView);function install$g(Wr){Wr.registerComponentModel(TitleModel),Wr.registerComponentView(TitleView)}var TimelineModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.layoutMode="box",Yr}return Gr.prototype.init=function(Yr,Zr,Kr){this.mergeDefaultAndTheme(Yr,Kr),this._initData()},Gr.prototype.mergeOption=function(Yr){Wr.prototype.mergeOption.apply(this,arguments),this._initData()},Gr.prototype.setCurrentIndex=function(Yr){Yr==null&&(Yr=this.option.currentIndex);var Zr=this._data.count();this.option.loop?Yr=(Yr%Zr+Zr)%Zr:(Yr>=Zr&&(Yr=Zr-1),Yr<0&&(Yr=0)),this.option.currentIndex=Yr},Gr.prototype.getCurrentIndex=function(){return this.option.currentIndex},Gr.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},Gr.prototype.setPlayState=function(Yr){this.option.autoPlay=!!Yr},Gr.prototype.getPlayState=function(){return!!this.option.autoPlay},Gr.prototype._initData=function(){var Yr=this.option,Zr=Yr.data||[],Kr=Yr.axisType,Qr=this._names=[],Jr;Kr==="category"?(Jr=[],each$f(Zr,function(rn,an){var nn=convertOptionIdName(getDataItemValue(rn),""),sn;isObject$3(rn)?(sn=clone$4(rn),sn.value=an):sn=an,Jr.push(sn),Qr.push(nn)})):Jr=Zr;var en={category:"ordinal",time:"time",value:"number"}[Kr]||"number",tn=this._data=new SeriesData([{name:"value",type:en}],this);tn.initData(Jr,Qr)},Gr.prototype.getData=function(){return this._data},Gr.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},Gr.type="timeline",Gr.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},Gr}(ComponentModel),SliderTimelineModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="timeline.slider",Gr.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),Gr}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="timeline",Gr}(ComponentView),TimelineAxis=function(Wr){__extends(Gr,Wr);function Gr(Yr,Zr,Kr,Qr){var Jr=Wr.call(this,Yr,Zr,Kr)||this;return Jr.type=Qr||"value",Jr}return Gr.prototype.getLabelModel=function(){return this.model.getModel("label")},Gr.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},Gr}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(Yr,Zr){this.api=Zr},Gr.prototype.render=function(Yr,Zr,Kr){if(this.model=Yr,this.api=Kr,this.ecModel=Zr,this.group.removeAll(),Yr.get("show",!0)){var Qr=this._layout(Yr,Kr),Jr=this._createGroup("_mainGroup"),en=this._createGroup("_labelGroup"),tn=this._axis=this._createAxis(Qr,Yr);Yr.formatTooltip=function(rn){var an=tn.scale.getLabel({value:rn});return createTooltipMarkup("nameValue",{noName:!0,value:an})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(rn){this["_render"+rn](Qr,Jr,tn,Yr)},this),this._renderAxisLabel(Qr,en,tn,Yr),this._position(Qr,Yr)}this._doPlayStop(),this._updateTicksStatus()},Gr.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},Gr.prototype.dispose=function(){this._clearTimer()},Gr.prototype._layout=function(Yr,Zr){var Kr=Yr.get(["label","position"]),Qr=Yr.get("orient"),Jr=getViewRect(Yr,Zr),en;Kr==null||Kr==="auto"?en=Qr==="horizontal"?Jr.y+Jr.height/2<Zr.getHeight()/2?"-":"+":Jr.x+Jr.width/2<Zr.getWidth()/2?"+":"-":isString(Kr)?en={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[Qr][Kr]:en=Kr;var tn={horizontal:"center",vertical:en>=0||en==="+"?"left":"right"},rn={horizontal:en>=0||en==="+"?"top":"bottom",vertical:"middle"},an={horizontal:0,vertical:PI/2},nn=Qr==="vertical"?Jr.height:Jr.width,sn=Yr.getModel("controlStyle"),ln=sn.get("show",!0),un=ln?sn.get("itemSize"):0,cn=ln?sn.get("itemGap"):0,hn=un+cn,dn=Yr.get(["label","rotate"])||0;dn=dn*PI/180;var fn,pn,gn,vn=sn.get("position",!0),mn=ln&&sn.get("showPlayBtn",!0),yn=ln&&sn.get("showPrevBtn",!0),xn=ln&&sn.get("showNextBtn",!0),bn=0,Sn=nn;vn==="left"||vn==="bottom"?(mn&&(fn=[0,0],bn+=hn),yn&&(pn=[bn,0],bn+=hn),xn&&(gn=[Sn-un,0],Sn-=hn)):(mn&&(fn=[Sn-un,0],Sn-=hn),yn&&(pn=[0,0],bn+=hn),xn&&(gn=[Sn-un,0],Sn-=hn));var wn=[bn,Sn];return Yr.get("inverse")&&wn.reverse(),{viewRect:Jr,mainLength:nn,orient:Qr,rotation:an[Qr],labelRotation:dn,labelPosOpt:en,labelAlign:Yr.get(["label","align"])||tn[Qr],labelBaseline:Yr.get(["label","verticalAlign"])||Yr.get(["label","baseline"])||rn[Qr],playPosition:fn,prevBtnPosition:pn,nextBtnPosition:gn,axisExtent:wn,controlSize:un,controlGap:cn}},Gr.prototype._position=function(Yr,Zr){var Kr=this._mainGroup,Qr=this._labelGroup,Jr=Yr.viewRect;if(Yr.orient==="vertical"){var en=create$1(),tn=Jr.x,rn=Jr.y+Jr.height;translate(en,en,[-tn,-rn]),rotate(en,en,-PI/2),translate(en,en,[tn,rn]),Jr=Jr.clone(),Jr.applyTransform(en)}var an=fn(Jr),nn=fn(Kr.getBoundingRect()),sn=fn(Qr.getBoundingRect()),ln=[Kr.x,Kr.y],un=[Qr.x,Qr.y];un[0]=ln[0]=an[0][0];var cn=Yr.labelPosOpt;if(cn==null||isString(cn)){var hn=cn==="+"?0:1;pn(ln,nn,an,1,hn),pn(un,sn,an,1,1-hn)}else{var hn=cn>=0?0:1;pn(ln,nn,an,1,hn),un[1]=ln[1]+cn}Kr.setPosition(ln),Qr.setPosition(un),Kr.rotation=Qr.rotation=Yr.rotation,dn(Kr),dn(Qr);function dn(gn){gn.originX=an[0][0]-gn.x,gn.originY=an[1][0]-gn.y}function fn(gn){return[[gn.x,gn.x+gn.width],[gn.y,gn.y+gn.height]]}function pn(gn,vn,mn,yn,xn){gn[yn]+=mn[yn][xn]-vn[yn][xn]}},Gr.prototype._createAxis=function(Yr,Zr){var Kr=Zr.getData(),Qr=Zr.get("axisType"),Jr=createScaleByModel(Zr,Qr);Jr.getTicks=function(){return Kr.mapArray(["value"],function(rn){return{value:rn}})};var en=Kr.getDataExtent("value");Jr.setExtent(en[0],en[1]),Jr.calcNiceTicks();var tn=new TimelineAxis("value",Jr,Yr.axisExtent,Qr);return tn.model=Zr,tn},Gr.prototype._createGroup=function(Yr){var Zr=this[Yr]=new Group$3;return this.group.add(Zr),Zr},Gr.prototype._renderAxisLine=function(Yr,Zr,Kr,Qr){var Jr=Kr.getExtent();if(Qr.get(["lineStyle","show"])){var en=new Line$1({shape:{x1:Jr[0],y1:0,x2:Jr[1],y2:0},style:extend({lineCap:"round"},Qr.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});Zr.add(en);var tn=this._progressLine=new Line$1({shape:{x1:Jr[0],x2:this._currentPointer?this._currentPointer.x:Jr[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:en.style.lineWidth},Qr.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});Zr.add(tn)}},Gr.prototype._renderAxisTick=function(Yr,Zr,Kr,Qr){var Jr=this,en=Qr.getData(),tn=Kr.scale.getTicks();this._tickSymbols=[],each$f(tn,function(rn){var an=Kr.dataToCoord(rn.value),nn=en.getItemModel(rn.value),sn=nn.getModel("itemStyle"),ln=nn.getModel(["emphasis","itemStyle"]),un=nn.getModel(["progress","itemStyle"]),cn={x:an,y:0,onclick:bind$1(Jr._changeTimeline,Jr,rn.value)},hn=giveSymbol(nn,sn,Zr,cn);hn.ensureState("emphasis").style=ln.getItemStyle(),hn.ensureState("progress").style=un.getItemStyle(),enableHoverEmphasis(hn);var dn=getECData(hn);nn.get("tooltip")?(dn.dataIndex=rn.value,dn.dataModel=Qr):dn.dataIndex=dn.dataModel=null,Jr._tickSymbols.push(hn)})},Gr.prototype._renderAxisLabel=function(Yr,Zr,Kr,Qr){var Jr=this,en=Kr.getLabelModel();if(en.get("show")){var tn=Qr.getData(),rn=Kr.getViewLabels();this._tickLabels=[],each$f(rn,function(an){var nn=an.tickValue,sn=tn.getItemModel(nn),ln=sn.getModel("label"),un=sn.getModel(["emphasis","label"]),cn=sn.getModel(["progress","label"]),hn=Kr.dataToCoord(an.tickValue),dn=new ZRText({x:hn,y:0,rotation:Yr.labelRotation-Yr.rotation,onclick:bind$1(Jr._changeTimeline,Jr,nn),silent:!1,style:createTextStyle(ln,{text:an.formattedLabel,align:Yr.labelAlign,verticalAlign:Yr.labelBaseline})});dn.ensureState("emphasis").style=createTextStyle(un),dn.ensureState("progress").style=createTextStyle(cn),Zr.add(dn),enableHoverEmphasis(dn),labelDataIndexStore(dn).dataIndex=nn,Jr._tickLabels.push(dn)})}},Gr.prototype._renderControl=function(Yr,Zr,Kr,Qr){var Jr=Yr.controlSize,en=Yr.rotation,tn=Qr.getModel("controlStyle").getItemStyle(),rn=Qr.getModel(["emphasis","controlStyle"]).getItemStyle(),an=Qr.getPlayState(),nn=Qr.get("inverse",!0);sn(Yr.nextBtnPosition,"next",bind$1(this._changeTimeline,this,nn?"-":"+")),sn(Yr.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,nn?"+":"-")),sn(Yr.playPosition,an?"stop":"play",bind$1(this._handlePlayClick,this,!an),!0);function sn(ln,un,cn,hn){if(ln){var dn=parsePercent$1(retrieve2(Qr.get(["controlStyle",un+"BtnSize"]),Jr),Jr),fn=[0,-dn/2,dn,dn],pn=makeControlIcon(Qr,un+"Icon",fn,{x:ln[0],y:ln[1],originX:Jr/2,originY:0,rotation:hn?-en:0,rectHover:!0,style:tn,onclick:cn});pn.ensureState("emphasis").style=rn,Zr.add(pn),enableHoverEmphasis(pn)}}},Gr.prototype._renderCurrentPointer=function(Yr,Zr,Kr,Qr){var Jr=Qr.getData(),en=Qr.getCurrentIndex(),tn=Jr.getItemModel(en).getModel("checkpointStyle"),rn=this,an={onCreate:function(nn){nn.draggable=!0,nn.drift=bind$1(rn._handlePointerDrag,rn),nn.ondragend=bind$1(rn._handlePointerDragend,rn),pointerMoveTo(nn,rn._progressLine,en,Kr,Qr,!0)},onUpdate:function(nn){pointerMoveTo(nn,rn._progressLine,en,Kr,Qr)}};this._currentPointer=giveSymbol(tn,tn,this._mainGroup,{},this._currentPointer,an)},Gr.prototype._handlePlayClick=function(Yr){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:Yr,from:this.uid})},Gr.prototype._handlePointerDrag=function(Yr,Zr,Kr){this._clearTimer(),this._pointerChangeTimeline([Kr.offsetX,Kr.offsetY])},Gr.prototype._handlePointerDragend=function(Yr){this._pointerChangeTimeline([Yr.offsetX,Yr.offsetY],!0)},Gr.prototype._pointerChangeTimeline=function(Yr,Zr){var Kr=this._toAxisCoord(Yr)[0],Qr=this._axis,Jr=asc$2(Qr.getExtent().slice());Kr>Jr[1]&&(Kr=Jr[1]),Kr<Jr[0]&&(Kr=Jr[0]),this._currentPointer.x=Kr,this._currentPointer.markRedraw();var en=this._progressLine;en&&(en.shape.x2=Kr,en.dirty());var tn=this._findNearestTick(Kr),rn=this.model;(Zr||tn!==rn.getCurrentIndex()&&rn.get("realtime"))&&this._changeTimeline(tn)},Gr.prototype._doPlayStop=function(){var Yr=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var Zr=Yr.model;Yr._changeTimeline(Zr.getCurrentIndex()+(Zr.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},Gr.prototype._toAxisCoord=function(Yr){var Zr=this._mainGroup.getLocalTransform();return applyTransform(Yr,Zr,!0)},Gr.prototype._findNearestTick=function(Yr){var Zr=this.model.getData(),Kr=1/0,Qr,Jr=this._axis;return Zr.each(["value"],function(en,tn){var rn=Jr.dataToCoord(en),an=Math.abs(rn-Yr);an<Kr&&(Kr=an,Qr=tn)}),Qr},Gr.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},Gr.prototype._changeTimeline=function(Yr){var Zr=this.model.getCurrentIndex();Yr==="+"?Yr=Zr+1:Yr==="-"&&(Yr=Zr-1),this.api.dispatchAction({type:"timelineChange",currentIndex:Yr,from:this.uid})},Gr.prototype._updateTicksStatus=function(){var Yr=this.model.getCurrentIndex(),Zr=this._tickSymbols,Kr=this._tickLabels;if(Zr)for(var Qr=0;Qr<Zr.length;Qr++)Zr&&Zr[Qr]&&Zr[Qr].toggleState("progress",Qr<Yr);if(Kr)for(var Qr=0;Qr<Kr.length;Qr++)Kr&&Kr[Qr]&&Kr[Qr].toggleState("progress",labelDataIndexStore(Kr[Qr]).dataIndex<=Yr)},Gr.type="timeline.slider",Gr}(TimelineView);function createScaleByModel(Wr,Gr){if(Gr=Gr||Wr.get("type"),Gr)switch(Gr){case"category":return new OrdinalScale({ordinalMeta:Wr.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:Wr.ecModel.getLocaleModel(),useUTC:Wr.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(Wr,Gr){return getLayoutRect(Wr.getBoxLayoutParams(),{width:Gr.getWidth(),height:Gr.getHeight()},Wr.get("padding"))}function makeControlIcon(Wr,Gr,Yr,Zr){var Kr=Zr.style,Qr=createIcon$1(Wr.get(["controlStyle",Gr]),Zr||{},new BoundingRect(Yr[0],Yr[1],Yr[2],Yr[3]));return Kr&&Qr.setStyle(Kr),Qr}function giveSymbol(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=Gr.get("color");if(Kr)Kr.setColor(Jr),Yr.add(Kr),Qr&&Qr.onUpdate(Kr);else{var en=Wr.get("symbol");Kr=createSymbol$1(en,-1,-1,2,2,Jr),Kr.setStyle("strokeNoScale",!0),Yr.add(Kr),Qr&&Qr.onCreate(Kr)}var tn=Gr.getItemStyle(["color"]);Kr.setStyle(tn),Zr=merge({rectHover:!0,z2:100},Zr,!0);var rn=normalizeSymbolSize(Wr.get("symbolSize"));Zr.scaleX=rn[0]/2,Zr.scaleY=rn[1]/2;var an=normalizeSymbolOffset(Wr.get("symbolOffset"),rn);an&&(Zr.x=(Zr.x||0)+an[0],Zr.y=(Zr.y||0)+an[1]);var nn=Wr.get("symbolRotate");return Zr.rotation=(nn||0)*Math.PI/180||0,Kr.attr(Zr),Kr.updateTransform(),Kr}function pointerMoveTo(Wr,Gr,Yr,Zr,Kr,Qr){if(!Wr.dragging){var Jr=Kr.getModel("checkpointStyle"),en=Zr.dataToCoord(Kr.getData().get("value",Yr));if(Qr||!Jr.get("animation",!0))Wr.attr({x:en,y:0}),Gr&&Gr.attr({shape:{x2:en}});else{var tn={duration:Jr.get("animationDuration",!0),easing:Jr.get("animationEasing",!0)};Wr.stopAnimation(null,!0),Wr.animateTo({x:en,y:0},tn),Gr&&Gr.animateTo({shape:{x2:en}},tn)}}}function installTimelineAction(Wr){Wr.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(Gr,Yr,Zr){var Kr=Yr.getComponent("timeline");return Kr&&Gr.currentIndex!=null&&(Kr.setCurrentIndex(Gr.currentIndex),!Kr.get("loop",!0)&&Kr.isIndexMax()&&Kr.getPlayState()&&(Kr.setPlayState(!1),Zr.dispatchAction({type:"timelinePlayChange",playState:!1,from:Gr.from}))),Yr.resetOption("timeline",{replaceMerge:Kr.get("replaceMerge",!0)}),defaults({currentIndex:Kr.option.currentIndex},Gr)}),Wr.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(Gr,Yr){var Zr=Yr.getComponent("timeline");Zr&&Gr.playState!=null&&Zr.setPlayState(Gr.playState)})}function timelinePreprocessor(Wr){var Gr=Wr&&Wr.timeline;isArray$1(Gr)||(Gr=Gr?[Gr]:[]),each$f(Gr,function(Yr){Yr&&compatibleEC2(Yr)})}function compatibleEC2(Wr){var Gr=Wr.type,Yr={number:"value",time:"time"};if(Yr[Gr]&&(Wr.axisType=Yr[Gr],delete Wr.type),transferItem(Wr),has$1(Wr,"controlPosition")){var Zr=Wr.controlStyle||(Wr.controlStyle={});has$1(Zr,"position")||(Zr.position=Wr.controlPosition),Zr.position==="none"&&!has$1(Zr,"show")&&(Zr.show=!1,delete Zr.position),delete Wr.controlPosition}each$f(Wr.data||[],function(Kr){isObject$3(Kr)&&!isArray$1(Kr)&&(!has$1(Kr,"value")&&has$1(Kr,"name")&&(Kr.value=Kr.name),transferItem(Kr))})}function transferItem(Wr){var Gr=Wr.itemStyle||(Wr.itemStyle={}),Yr=Gr.emphasis||(Gr.emphasis={}),Zr=Wr.label||Wr.label||{},Kr=Zr.normal||(Zr.normal={}),Qr={normal:1,emphasis:1};each$f(Zr,function(Jr,en){!Qr[en]&&!has$1(Kr,en)&&(Kr[en]=Jr)}),Yr.label&&!has$1(Zr,"emphasis")&&(Zr.emphasis=Yr.label,delete Yr.label)}function has$1(Wr,Gr){return Wr.hasOwnProperty(Gr)}function install$f(Wr){Wr.registerComponentModel(SliderTimelineModel),Wr.registerComponentView(SliderTimelineView),Wr.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(Wr),Wr.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(Wr,Gr){if(!Wr)return!1;for(var Yr=isArray$1(Wr)?Wr:[Wr],Zr=0;Zr<Yr.length;Zr++)if(Yr[Zr]&&Yr[Zr][Gr])return!0;return!1}function fillLabel(Wr){defaultEmphasis(Wr,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.createdBySelf=!1,Yr}return Gr.prototype.init=function(Yr,Zr,Kr){this.mergeDefaultAndTheme(Yr,Kr),this._mergeOption(Yr,Kr,!1,!0)},Gr.prototype.isAnimationEnabled=function(){if(env.node)return!1;var Yr=this.__hostSeries;return this.getShallow("animation")&&Yr&&Yr.isAnimationEnabled()},Gr.prototype.mergeOption=function(Yr,Zr){this._mergeOption(Yr,Zr,!1,!1)},Gr.prototype._mergeOption=function(Yr,Zr,Kr,Qr){var Jr=this.mainType;Kr||Zr.eachSeries(function(en){var tn=en.get(this.mainType,!0),rn=inner$5(en)[Jr];if(!tn||!tn.data){inner$5(en)[Jr]=null;return}rn?rn._mergeOption(tn,Zr,!0):(Qr&&fillLabel(tn),each$f(tn.data,function(an){an instanceof Array?(fillLabel(an[0]),fillLabel(an[1])):fillLabel(an)}),rn=this.createMarkerModelFromSeries(tn,this,Zr),extend(rn,{mainType:this.mainType,seriesIndex:en.seriesIndex,name:en.name,createdBySelf:!0}),rn.__hostSeries=en),inner$5(en)[Jr]=rn},this)},Gr.prototype.formatTooltip=function(Yr,Zr,Kr){var Qr=this.getData(),Jr=this.getRawValue(Yr),en=Qr.getName(Yr);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:en,value:Jr,noName:!en,noValue:Jr==null})]})},Gr.prototype.getData=function(){return this._data},Gr.prototype.setData=function(Yr){this._data=Yr},Gr.prototype.getDataParams=function(Yr,Zr){var Kr=DataFormatMixin.prototype.getDataParams.call(this,Yr,Zr),Qr=this.__hostSeries;return Qr&&(Kr.seriesId=Qr.id,Kr.seriesName=Qr.name,Kr.seriesType=Qr.subType),Kr},Gr.getMarkerModelFromSeries=function(Yr,Zr){return inner$5(Yr)[Zr]},Gr.type="marker",Gr.dependencies=["series","grid","polar","geo"],Gr}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.createMarkerModelFromSeries=function(Yr,Zr,Kr){return new Gr(Yr,Zr,Kr)},Gr.type="markPoint",Gr.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},Gr}(MarkerModel);function hasXOrY(Wr){return!(isNaN(parseFloat(Wr.x))&&isNaN(parseFloat(Wr.y)))}function hasXAndY(Wr){return!isNaN(parseFloat(Wr.x))&&!isNaN(parseFloat(Wr.y))}function markerTypeCalculatorWithExtent(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=[],en=isDimensionStacked(Gr,Zr),tn=en?Gr.getCalculationInfo("stackResultDimension"):Zr,rn=numCalculate(Gr,tn,Wr),an=Gr.indicesOfNearest(tn,rn)[0];Jr[Kr]=Gr.get(Yr,an),Jr[Qr]=Gr.get(tn,an);var nn=Gr.get(Zr,an),sn=getPrecision(Gr.get(Zr,an));return sn=Math.min(sn,20),sn>=0&&(Jr[Qr]=+Jr[Qr].toFixed(sn)),[Jr,nn]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(Wr,Gr){if(Gr){var Yr=Wr.getData(),Zr=Wr.coordinateSystem,Kr=Zr&&Zr.dimensions;if(!hasXAndY(Gr)&&!isArray$1(Gr.coord)&&isArray$1(Kr)){var Qr=getAxisInfo(Gr,Yr,Zr,Wr);if(Gr=clone$4(Gr),Gr.type&&markerTypeCalculator[Gr.type]&&Qr.baseAxis&&Qr.valueAxis){var Jr=indexOf(Kr,Qr.baseAxis.dim),en=indexOf(Kr,Qr.valueAxis.dim),tn=markerTypeCalculator[Gr.type](Yr,Qr.baseDataDim,Qr.valueDataDim,Jr,en);Gr.coord=tn[0],Gr.value=tn[1]}else Gr.coord=[Gr.xAxis!=null?Gr.xAxis:Gr.radiusAxis,Gr.yAxis!=null?Gr.yAxis:Gr.angleAxis]}if(Gr.coord==null||!isArray$1(Kr))Gr.coord=[];else for(var rn=Gr.coord,an=0;an<2;an++)markerTypeCalculator[rn[an]]&&(rn[an]=numCalculate(Yr,Yr.mapDimension(Kr[an]),rn[an]));return Gr}}function getAxisInfo(Wr,Gr,Yr,Zr){var Kr={};return Wr.valueIndex!=null||Wr.valueDim!=null?(Kr.valueDataDim=Wr.valueIndex!=null?Gr.getDimension(Wr.valueIndex):Wr.valueDim,Kr.valueAxis=Yr.getAxis(dataDimToCoordDim(Zr,Kr.valueDataDim)),Kr.baseAxis=Yr.getOtherAxis(Kr.valueAxis),Kr.baseDataDim=Gr.mapDimension(Kr.baseAxis.dim)):(Kr.baseAxis=Zr.getBaseAxis(),Kr.valueAxis=Yr.getOtherAxis(Kr.baseAxis),Kr.baseDataDim=Gr.mapDimension(Kr.baseAxis.dim),Kr.valueDataDim=Gr.mapDimension(Kr.valueAxis.dim)),Kr}function dataDimToCoordDim(Wr,Gr){var Yr=Wr.getData().getDimensionInfo(Gr);return Yr&&Yr.coordDim}function dataFilter(Wr,Gr){return Wr&&Wr.containData&&Gr.coord&&!hasXOrY(Gr)?Wr.containData(Gr.coord):!0}function zoneFilter(Wr,Gr,Yr){return Wr&&Wr.containZone&&Gr.coord&&Yr.coord&&!hasXOrY(Gr)&&!hasXOrY(Yr)?Wr.containZone(Gr.coord,Yr.coord):!0}function createMarkerDimValueGetter(Wr,Gr){return Wr?function(Yr,Zr,Kr,Qr){var Jr=Qr<2?Yr.coord&&Yr.coord[Qr]:Yr.value;return parseDataValue(Jr,Gr[Qr])}:function(Yr,Zr,Kr,Qr){return parseDataValue(Yr.value,Gr[Qr])}}function numCalculate(Wr,Gr,Yr){if(Yr==="average"){var Zr=0,Kr=0;return Wr.each(Gr,function(Qr,Jr){isNaN(Qr)||(Zr+=Qr,Kr++)}),Zr/Kr}else return Yr==="median"?Wr.getMedian(Gr):Wr.getDataExtent(Gr)[Yr==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.init=function(){this.markerGroupMap=createHashMap()},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this,Jr=this.markerGroupMap;Jr.each(function(en){inner$4(en).keep=!1}),Zr.eachSeries(function(en){var tn=MarkerModel.getMarkerModelFromSeries(en,Qr.type);tn&&Qr.renderSeries(en,tn,Zr,Kr)}),Jr.each(function(en){!inner$4(en).keep&&Qr.group.remove(en.group)})},Gr.prototype.markKeep=function(Yr){inner$4(Yr).keep=!0},Gr.prototype.toggleBlurSeries=function(Yr,Zr){var Kr=this;each$f(Yr,function(Qr){var Jr=MarkerModel.getMarkerModelFromSeries(Qr,Kr.type);if(Jr){var en=Jr.getData();en.eachItemGraphicEl(function(tn){tn&&(Zr?enterBlur(tn):leaveBlur(tn))})}})},Gr.type="marker",Gr}(ComponentView);function updateMarkerLayout(Wr,Gr,Yr){var Zr=Gr.coordinateSystem;Wr.each(function(Kr){var Qr=Wr.getItemModel(Kr),Jr,en=parsePercent(Qr.get("x"),Yr.getWidth()),tn=parsePercent(Qr.get("y"),Yr.getHeight());if(!isNaN(en)&&!isNaN(tn))Jr=[en,tn];else if(Gr.getMarkerPosition)Jr=Gr.getMarkerPosition(Wr.getValues(Wr.dimensions,Kr));else if(Zr){var rn=Wr.get(Zr.dimensions[0],Kr),an=Wr.get(Zr.dimensions[1],Kr);Jr=Zr.dataToPoint([rn,an])}isNaN(en)||(Jr[0]=en),isNaN(tn)||(Jr[1]=tn),Wr.setItemLayout(Kr,Jr)})}var MarkPointView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.updateTransform=function(Yr,Zr,Kr){Zr.eachSeries(function(Qr){var Jr=MarkerModel.getMarkerModelFromSeries(Qr,"markPoint");Jr&&(updateMarkerLayout(Jr.getData(),Qr,Kr),this.markerGroupMap.get(Qr.id).updateLayout())},this)},Gr.prototype.renderSeries=function(Yr,Zr,Kr,Qr){var Jr=Yr.coordinateSystem,en=Yr.id,tn=Yr.getData(),rn=this.markerGroupMap,an=rn.get(en)||rn.set(en,new SymbolDraw),nn=createData(Jr,Yr,Zr);Zr.setData(nn),updateMarkerLayout(Zr.getData(),Yr,Qr),nn.each(function(sn){var ln=nn.getItemModel(sn),un=ln.getShallow("symbol"),cn=ln.getShallow("symbolSize"),hn=ln.getShallow("symbolRotate"),dn=ln.getShallow("symbolOffset"),fn=ln.getShallow("symbolKeepAspect");if(isFunction(un)||isFunction(cn)||isFunction(hn)||isFunction(dn)){var pn=Zr.getRawValue(sn),gn=Zr.getDataParams(sn);isFunction(un)&&(un=un(pn,gn)),isFunction(cn)&&(cn=cn(pn,gn)),isFunction(hn)&&(hn=hn(pn,gn)),isFunction(dn)&&(dn=dn(pn,gn))}var vn=ln.getModel("itemStyle").getItemStyle(),mn=getVisualFromData(tn,"color");vn.fill||(vn.fill=mn),nn.setItemVisual(sn,{symbol:un,symbolSize:cn,symbolRotate:hn,symbolOffset:dn,symbolKeepAspect:fn,style:vn})}),an.updateData(nn),this.group.add(an.group),nn.eachItemGraphicEl(function(sn){sn.traverse(function(ln){getECData(ln).dataModel=Zr})}),this.markKeep(an),an.group.silent=Zr.get("silent")||Yr.get("silent")},Gr.type="markPoint",Gr}(MarkerView);function createData(Wr,Gr,Yr){var Zr;Wr?Zr=map$1(Wr&&Wr.dimensions,function(en){var tn=Gr.getData().getDimensionInfo(Gr.getData().mapDimension(en))||{};return extend(extend({},tn),{name:en,ordinalMeta:null})}):Zr=[{name:"value",type:"float"}];var Kr=new SeriesData(Zr,Yr),Qr=map$1(Yr.get("data"),curry$1(dataTransform,Gr));Wr&&(Qr=filter(Qr,curry$1(dataFilter,Wr)));var Jr=createMarkerDimValueGetter(!!Wr,Zr);return Kr.initData(Qr,null,Jr),Kr}function install$e(Wr){Wr.registerComponentModel(MarkPointModel),Wr.registerComponentView(MarkPointView),Wr.registerPreprocessor(function(Gr){checkMarkerInSeries(Gr.series,"markPoint")&&(Gr.markPoint=Gr.markPoint||{})})}var MarkLineModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.createMarkerModelFromSeries=function(Yr,Zr,Kr){return new Gr(Yr,Zr,Kr)},Gr.type="markLine",Gr.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},Gr}(MarkerModel),inner$3=makeInner(),markLineTransform=function(Wr,Gr,Yr,Zr){var Kr=Wr.getData(),Qr;if(isArray$1(Zr))Qr=Zr;else{var Jr=Zr.type;if(Jr==="min"||Jr==="max"||Jr==="average"||Jr==="median"||Zr.xAxis!=null||Zr.yAxis!=null){var en=void 0,tn=void 0;if(Zr.yAxis!=null||Zr.xAxis!=null)en=Gr.getAxis(Zr.yAxis!=null?"y":"x"),tn=retrieve(Zr.yAxis,Zr.xAxis);else{var rn=getAxisInfo(Zr,Kr,Gr,Wr);en=rn.valueAxis;var an=getStackedDimension(Kr,rn.valueDataDim);tn=numCalculate(Kr,an,Jr)}var nn=en.dim==="x"?0:1,sn=1-nn,ln=clone$4(Zr),un={coord:[]};ln.type=null,ln.coord=[],ln.coord[sn]=-1/0,un.coord[sn]=1/0;var cn=Yr.get("precision");cn>=0&&isNumber(tn)&&(tn=+tn.toFixed(Math.min(cn,20))),ln.coord[nn]=un.coord[nn]=tn,Qr=[ln,un,{type:Jr,valueIndex:Zr.valueIndex,value:tn}]}else Qr=[]}var hn=[dataTransform(Wr,Qr[0]),dataTransform(Wr,Qr[1]),extend({},Qr[2])];return hn[2].type=hn[2].type||null,merge(hn[2],hn[0]),merge(hn[2],hn[1]),hn};function isInfinity$1(Wr){return!isNaN(Wr)&&!isFinite(Wr)}function ifMarkLineHasOnlyDim(Wr,Gr,Yr,Zr){var Kr=1-Wr,Qr=Zr.dimensions[Wr];return isInfinity$1(Gr[Kr])&&isInfinity$1(Yr[Kr])&&Gr[Wr]===Yr[Wr]&&Zr.getAxis(Qr).containData(Gr[Wr])}function markLineFilter(Wr,Gr){if(Wr.type==="cartesian2d"){var Yr=Gr[0].coord,Zr=Gr[1].coord;if(Yr&&Zr&&(ifMarkLineHasOnlyDim(1,Yr,Zr,Wr)||ifMarkLineHasOnlyDim(0,Yr,Zr,Wr)))return!0}return dataFilter(Wr,Gr[0])&&dataFilter(Wr,Gr[1])}function updateSingleMarkerEndLayout(Wr,Gr,Yr,Zr,Kr){var Qr=Zr.coordinateSystem,Jr=Wr.getItemModel(Gr),en,tn=parsePercent(Jr.get("x"),Kr.getWidth()),rn=parsePercent(Jr.get("y"),Kr.getHeight());if(!isNaN(tn)&&!isNaN(rn))en=[tn,rn];else{if(Zr.getMarkerPosition)en=Zr.getMarkerPosition(Wr.getValues(Wr.dimensions,Gr));else{var an=Qr.dimensions,nn=Wr.get(an[0],Gr),sn=Wr.get(an[1],Gr);en=Qr.dataToPoint([nn,sn])}if(isCoordinateSystemType(Qr,"cartesian2d")){var ln=Qr.getAxis("x"),un=Qr.getAxis("y"),an=Qr.dimensions;isInfinity$1(Wr.get(an[0],Gr))?en[0]=ln.toGlobalCoord(ln.getExtent()[Yr?0:1]):isInfinity$1(Wr.get(an[1],Gr))&&(en[1]=un.toGlobalCoord(un.getExtent()[Yr?0:1]))}isNaN(tn)||(en[0]=tn),isNaN(rn)||(en[1]=rn)}Wr.setItemLayout(Gr,en)}var MarkLineView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.updateTransform=function(Yr,Zr,Kr){Zr.eachSeries(function(Qr){var Jr=MarkerModel.getMarkerModelFromSeries(Qr,"markLine");if(Jr){var en=Jr.getData(),tn=inner$3(Jr).from,rn=inner$3(Jr).to;tn.each(function(an){updateSingleMarkerEndLayout(tn,an,!0,Qr,Kr),updateSingleMarkerEndLayout(rn,an,!1,Qr,Kr)}),en.each(function(an){en.setItemLayout(an,[tn.getItemLayout(an),rn.getItemLayout(an)])}),this.markerGroupMap.get(Qr.id).updateLayout()}},this)},Gr.prototype.renderSeries=function(Yr,Zr,Kr,Qr){var Jr=Yr.coordinateSystem,en=Yr.id,tn=Yr.getData(),rn=this.markerGroupMap,an=rn.get(en)||rn.set(en,new LineDraw);this.group.add(an.group);var nn=createList$1(Jr,Yr,Zr),sn=nn.from,ln=nn.to,un=nn.line;inner$3(Zr).from=sn,inner$3(Zr).to=ln,Zr.setData(un);var cn=Zr.get("symbol"),hn=Zr.get("symbolSize"),dn=Zr.get("symbolRotate"),fn=Zr.get("symbolOffset");isArray$1(cn)||(cn=[cn,cn]),isArray$1(hn)||(hn=[hn,hn]),isArray$1(dn)||(dn=[dn,dn]),isArray$1(fn)||(fn=[fn,fn]),nn.from.each(function(gn){pn(sn,gn,!0),pn(ln,gn,!1)}),un.each(function(gn){var vn=un.getItemModel(gn).getModel("lineStyle").getLineStyle();un.setItemLayout(gn,[sn.getItemLayout(gn),ln.getItemLayout(gn)]),vn.stroke==null&&(vn.stroke=sn.getItemVisual(gn,"style").fill),un.setItemVisual(gn,{fromSymbolKeepAspect:sn.getItemVisual(gn,"symbolKeepAspect"),fromSymbolOffset:sn.getItemVisual(gn,"symbolOffset"),fromSymbolRotate:sn.getItemVisual(gn,"symbolRotate"),fromSymbolSize:sn.getItemVisual(gn,"symbolSize"),fromSymbol:sn.getItemVisual(gn,"symbol"),toSymbolKeepAspect:ln.getItemVisual(gn,"symbolKeepAspect"),toSymbolOffset:ln.getItemVisual(gn,"symbolOffset"),toSymbolRotate:ln.getItemVisual(gn,"symbolRotate"),toSymbolSize:ln.getItemVisual(gn,"symbolSize"),toSymbol:ln.getItemVisual(gn,"symbol"),style:vn})}),an.updateData(un),nn.line.eachItemGraphicEl(function(gn){getECData(gn).dataModel=Zr,gn.traverse(function(vn){getECData(vn).dataModel=Zr})});function pn(gn,vn,mn){var yn=gn.getItemModel(vn);updateSingleMarkerEndLayout(gn,vn,mn,Yr,Qr);var xn=yn.getModel("itemStyle").getItemStyle();xn.fill==null&&(xn.fill=getVisualFromData(tn,"color")),gn.setItemVisual(vn,{symbolKeepAspect:yn.get("symbolKeepAspect"),symbolOffset:retrieve2(yn.get("symbolOffset",!0),fn[mn?0:1]),symbolRotate:retrieve2(yn.get("symbolRotate",!0),dn[mn?0:1]),symbolSize:retrieve2(yn.get("symbolSize"),hn[mn?0:1]),symbol:retrieve2(yn.get("symbol",!0),cn[mn?0:1]),style:xn})}this.markKeep(an),an.group.silent=Zr.get("silent")||Yr.get("silent")},Gr.type="markLine",Gr}(MarkerView);function createList$1(Wr,Gr,Yr){var Zr;Wr?Zr=map$1(Wr&&Wr.dimensions,function(rn){var an=Gr.getData().getDimensionInfo(Gr.getData().mapDimension(rn))||{};return extend(extend({},an),{name:rn,ordinalMeta:null})}):Zr=[{name:"value",type:"float"}];var Kr=new SeriesData(Zr,Yr),Qr=new SeriesData(Zr,Yr),Jr=new SeriesData([],Yr),en=map$1(Yr.get("data"),curry$1(markLineTransform,Gr,Wr,Yr));Wr&&(en=filter(en,curry$1(markLineFilter,Wr)));var tn=createMarkerDimValueGetter(!!Wr,Zr);return Kr.initData(map$1(en,function(rn){return rn[0]}),null,tn),Qr.initData(map$1(en,function(rn){return rn[1]}),null,tn),Jr.initData(map$1(en,function(rn){return rn[2]})),Jr.hasItemOption=!0,{from:Kr,to:Qr,line:Jr}}function install$d(Wr){Wr.registerComponentModel(MarkLineModel),Wr.registerComponentView(MarkLineView),Wr.registerPreprocessor(function(Gr){checkMarkerInSeries(Gr.series,"markLine")&&(Gr.markLine=Gr.markLine||{})})}var MarkAreaModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.createMarkerModelFromSeries=function(Yr,Zr,Kr){return new Gr(Yr,Zr,Kr)},Gr.type="markArea",Gr.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},Gr}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(Wr,Gr,Yr,Zr){var Kr=Zr[0],Qr=Zr[1];if(!(!Kr||!Qr)){var Jr=dataTransform(Wr,Kr),en=dataTransform(Wr,Qr),tn=Jr.coord,rn=en.coord;tn[0]=retrieve(tn[0],-1/0),tn[1]=retrieve(tn[1],-1/0),rn[0]=retrieve(rn[0],1/0),rn[1]=retrieve(rn[1],1/0);var an=mergeAll([{},Jr,en]);return an.coord=[Jr.coord,en.coord],an.x0=Jr.x,an.y0=Jr.y,an.x1=en.x,an.y1=en.y,an}};function isInfinity(Wr){return!isNaN(Wr)&&!isFinite(Wr)}function ifMarkAreaHasOnlyDim(Wr,Gr,Yr,Zr){var Kr=1-Wr;return isInfinity(Gr[Kr])&&isInfinity(Yr[Kr])}function markAreaFilter(Wr,Gr){var Yr=Gr.coord[0],Zr=Gr.coord[1],Kr={coord:Yr,x:Gr.x0,y:Gr.y0},Qr={coord:Zr,x:Gr.x1,y:Gr.y1};return isCoordinateSystemType(Wr,"cartesian2d")?Yr&&Zr&&(ifMarkAreaHasOnlyDim(1,Yr,Zr)||ifMarkAreaHasOnlyDim(0,Yr,Zr))?!0:zoneFilter(Wr,Kr,Qr):dataFilter(Wr,Kr)||dataFilter(Wr,Qr)}function getSingleMarkerEndPoint(Wr,Gr,Yr,Zr,Kr){var Qr=Zr.coordinateSystem,Jr=Wr.getItemModel(Gr),en,tn=parsePercent(Jr.get(Yr[0]),Kr.getWidth()),rn=parsePercent(Jr.get(Yr[1]),Kr.getHeight());if(!isNaN(tn)&&!isNaN(rn))en=[tn,rn];else{if(Zr.getMarkerPosition){var an=Wr.getValues(["x0","y0"],Gr),nn=Wr.getValues(["x1","y1"],Gr),sn=Qr.clampData(an),ln=Qr.clampData(nn),un=[];Yr[0]==="x0"?un[0]=sn[0]>ln[0]?nn[0]:an[0]:un[0]=sn[0]>ln[0]?an[0]:nn[0],Yr[1]==="y0"?un[1]=sn[1]>ln[1]?nn[1]:an[1]:un[1]=sn[1]>ln[1]?an[1]:nn[1],en=Zr.getMarkerPosition(un,Yr,!0)}else{var cn=Wr.get(Yr[0],Gr),hn=Wr.get(Yr[1],Gr),dn=[cn,hn];Qr.clampData&&Qr.clampData(dn,dn),en=Qr.dataToPoint(dn,!0)}if(isCoordinateSystemType(Qr,"cartesian2d")){var fn=Qr.getAxis("x"),pn=Qr.getAxis("y"),cn=Wr.get(Yr[0],Gr),hn=Wr.get(Yr[1],Gr);isInfinity(cn)?en[0]=fn.toGlobalCoord(fn.getExtent()[Yr[0]==="x0"?0:1]):isInfinity(hn)&&(en[1]=pn.toGlobalCoord(pn.getExtent()[Yr[1]==="y0"?0:1]))}isNaN(tn)||(en[0]=tn),isNaN(rn)||(en[1]=rn)}return en}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.updateTransform=function(Yr,Zr,Kr){Zr.eachSeries(function(Qr){var Jr=MarkerModel.getMarkerModelFromSeries(Qr,"markArea");if(Jr){var en=Jr.getData();en.each(function(tn){var rn=map$1(dimPermutations,function(nn){return getSingleMarkerEndPoint(en,tn,nn,Qr,Kr)});en.setItemLayout(tn,rn);var an=en.getItemGraphicEl(tn);an.setShape("points",rn)})}},this)},Gr.prototype.renderSeries=function(Yr,Zr,Kr,Qr){var Jr=Yr.coordinateSystem,en=Yr.id,tn=Yr.getData(),rn=this.markerGroupMap,an=rn.get(en)||rn.set(en,{group:new Group$3});this.group.add(an.group),this.markKeep(an);var nn=createList(Jr,Yr,Zr);Zr.setData(nn),nn.each(function(sn){var ln=map$1(dimPermutations,function(xn){return getSingleMarkerEndPoint(nn,sn,xn,Yr,Qr)}),un=Jr.getAxis("x").scale,cn=Jr.getAxis("y").scale,hn=un.getExtent(),dn=cn.getExtent(),fn=[un.parse(nn.get("x0",sn)),un.parse(nn.get("x1",sn))],pn=[cn.parse(nn.get("y0",sn)),cn.parse(nn.get("y1",sn))];asc$2(fn),asc$2(pn);var gn=!(hn[0]>fn[1]||hn[1]<fn[0]||dn[0]>pn[1]||dn[1]<pn[0]),vn=!gn;nn.setItemLayout(sn,{points:ln,allClipped:vn});var mn=nn.getItemModel(sn).getModel("itemStyle").getItemStyle(),yn=getVisualFromData(tn,"color");mn.fill||(mn.fill=yn,isString(mn.fill)&&(mn.fill=modifyAlpha(mn.fill,.4))),mn.stroke||(mn.stroke=yn),nn.setItemVisual(sn,"style",mn)}),nn.diff(inner$2(an).data).add(function(sn){var ln=nn.getItemLayout(sn);if(!ln.allClipped){var un=new Polygon({shape:{points:ln.points}});nn.setItemGraphicEl(sn,un),an.group.add(un)}}).update(function(sn,ln){var un=inner$2(an).data.getItemGraphicEl(ln),cn=nn.getItemLayout(sn);cn.allClipped?un&&an.group.remove(un):(un?updateProps$1(un,{shape:{points:cn.points}},Zr,sn):un=new Polygon({shape:{points:cn.points}}),nn.setItemGraphicEl(sn,un),an.group.add(un))}).remove(function(sn){var ln=inner$2(an).data.getItemGraphicEl(sn);an.group.remove(ln)}).execute(),nn.eachItemGraphicEl(function(sn,ln){var un=nn.getItemModel(ln),cn=nn.getItemVisual(ln,"style");sn.useStyle(nn.getItemVisual(ln,"style")),setLabelStyle(sn,getLabelStatesModels(un),{labelFetcher:Zr,labelDataIndex:ln,defaultText:nn.getName(ln)||"",inheritColor:isString(cn.fill)?modifyAlpha(cn.fill,1):"#000"}),setStatesStylesFromModel(sn,un),toggleHoverEmphasis(sn,null,null,un.get(["emphasis","disabled"])),getECData(sn).dataModel=Zr}),inner$2(an).data=nn,an.group.silent=Zr.get("silent")||Yr.get("silent")},Gr.type="markArea",Gr}(MarkerView);function createList(Wr,Gr,Yr){var Zr,Kr,Qr=["x0","y0","x1","y1"];if(Wr){var Jr=map$1(Wr&&Wr.dimensions,function(rn){var an=Gr.getData(),nn=an.getDimensionInfo(an.mapDimension(rn))||{};return extend(extend({},nn),{name:rn,ordinalMeta:null})});Kr=map$1(Qr,function(rn,an){return{name:rn,type:Jr[an%2].type}}),Zr=new SeriesData(Kr,Yr)}else Kr=[{name:"value",type:"float"}],Zr=new SeriesData(Kr,Yr);var en=map$1(Yr.get("data"),curry$1(markAreaTransform,Gr,Wr,Yr));Wr&&(en=filter(en,curry$1(markAreaFilter,Wr)));var tn=Wr?function(rn,an,nn,sn){var ln=rn.coord[Math.floor(sn/2)][sn%2];return parseDataValue(ln,Kr[sn])}:function(rn,an,nn,sn){return parseDataValue(rn.value,Kr[sn])};return Zr.initData(en,null,tn),Zr.hasItemOption=!0,Zr}function install$c(Wr){Wr.registerComponentModel(MarkAreaModel),Wr.registerComponentView(MarkAreaView),Wr.registerPreprocessor(function(Gr){checkMarkerInSeries(Gr.series,"markArea")&&(Gr.markArea=Gr.markArea||{})})}var getDefaultSelectorOptions=function(Wr,Gr){if(Gr==="all")return{type:"all",title:Wr.getLocaleModel().get(["legend","selector","all"])};if(Gr==="inverse")return{type:"inverse",title:Wr.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.layoutMode={type:"box",ignoreSize:!0},Yr}return Gr.prototype.init=function(Yr,Zr,Kr){this.mergeDefaultAndTheme(Yr,Kr),Yr.selected=Yr.selected||{},this._updateSelector(Yr)},Gr.prototype.mergeOption=function(Yr,Zr){Wr.prototype.mergeOption.call(this,Yr,Zr),this._updateSelector(Yr)},Gr.prototype._updateSelector=function(Yr){var Zr=Yr.selector,Kr=this.ecModel;Zr===!0&&(Zr=Yr.selector=["all","inverse"]),isArray$1(Zr)&&each$f(Zr,function(Qr,Jr){isString(Qr)&&(Qr={type:Qr}),Zr[Jr]=merge(Qr,getDefaultSelectorOptions(Kr,Qr.type))})},Gr.prototype.optionUpdated=function(){this._updateData(this.ecModel);var Yr=this._data;if(Yr[0]&&this.get("selectedMode")==="single"){for(var Zr=!1,Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr].get("name");if(this.isSelected(Qr)){this.select(Qr),Zr=!0;break}}!Zr&&this.select(Yr[0].get("name"))}},Gr.prototype._updateData=function(Yr){var Zr=[],Kr=[];Yr.eachRawSeries(function(tn){var rn=tn.name;Kr.push(rn);var an;if(tn.legendVisualProvider){var nn=tn.legendVisualProvider,sn=nn.getAllNames();Yr.isSeriesFiltered(tn)||(Kr=Kr.concat(sn)),sn.length?Zr=Zr.concat(sn):an=!0}else an=!0;an&&isNameSpecified(tn)&&Zr.push(tn.name)}),this._availableNames=Kr;var Qr=this.get("data")||Zr,Jr=createHashMap(),en=map$1(Qr,function(tn){return(isString(tn)||isNumber(tn))&&(tn={name:tn}),Jr.get(tn.name)?null:(Jr.set(tn.name,!0),new Model(tn,this,this.ecModel))},this);this._data=filter(en,function(tn){return!!tn})},Gr.prototype.getData=function(){return this._data},Gr.prototype.select=function(Yr){var Zr=this.option.selected,Kr=this.get("selectedMode");if(Kr==="single"){var Qr=this._data;each$f(Qr,function(Jr){Zr[Jr.get("name")]=!1})}Zr[Yr]=!0},Gr.prototype.unSelect=function(Yr){this.get("selectedMode")!=="single"&&(this.option.selected[Yr]=!1)},Gr.prototype.toggleSelected=function(Yr){var Zr=this.option.selected;Zr.hasOwnProperty(Yr)||(Zr[Yr]=!0),this[Zr[Yr]?"unSelect":"select"](Yr)},Gr.prototype.allSelect=function(){var Yr=this._data,Zr=this.option.selected;each$f(Yr,function(Kr){Zr[Kr.get("name",!0)]=!0})},Gr.prototype.inverseSelect=function(){var Yr=this._data,Zr=this.option.selected;each$f(Yr,function(Kr){var Qr=Kr.get("name",!0);Zr.hasOwnProperty(Qr)||(Zr[Qr]=!0),Zr[Qr]=!Zr[Qr]})},Gr.prototype.isSelected=function(Yr){var Zr=this.option.selected;return!(Zr.hasOwnProperty(Yr)&&!Zr[Yr])&&indexOf(this._availableNames,Yr)>=0},Gr.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},Gr.type="legend.plain",Gr.dependencies=["series"],Gr.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},Gr}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.newlineDisabled=!1,Yr}return Gr.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},Gr.prototype.getContentGroup=function(){return this._contentGroup},Gr.prototype.getSelectorGroup=function(){return this._selectorGroup},Gr.prototype.render=function(Yr,Zr,Kr){var Qr=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!Yr.get("show",!0)){var Jr=Yr.get("align"),en=Yr.get("orient");(!Jr||Jr==="auto")&&(Jr=Yr.get("left")==="right"&&en==="vertical"?"right":"left");var tn=Yr.get("selector",!0),rn=Yr.get("selectorPosition",!0);tn&&(!rn||rn==="auto")&&(rn=en==="horizontal"?"end":"start"),this.renderInner(Jr,Yr,Zr,Kr,tn,en,rn);var an=Yr.getBoxLayoutParams(),nn={width:Kr.getWidth(),height:Kr.getHeight()},sn=Yr.get("padding"),ln=getLayoutRect(an,nn,sn),un=this.layoutInner(Yr,Jr,ln,Qr,tn,rn),cn=getLayoutRect(defaults({width:un.width,height:un.height},an),nn,sn);this.group.x=cn.x-un.x,this.group.y=cn.y-un.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(un,Yr))}},Gr.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},Gr.prototype.renderInner=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this.getContentGroup(),an=createHashMap(),nn=Zr.get("selectedMode"),sn=[];Kr.eachRawSeries(function(ln){!ln.get("legendHoverLink")&&sn.push(ln.id)}),each$3(Zr.getData(),function(ln,un){var cn=ln.get("name");if(!this.newlineDisabled&&(cn===""||cn===`
`)){var hn=new Group$1;hn.newline=!0,rn.add(hn);return}var dn=Kr.getSeriesByName(cn)[0];if(!an.get(cn))if(dn){var fn=dn.getData(),pn=fn.getVisual("legendLineStyle")||{},gn=fn.getVisual("legendIcon"),vn=fn.getVisual("style"),mn=this._createItem(dn,cn,un,ln,Zr,Yr,pn,vn,gn,nn,Qr);mn.on("click",curry(dispatchSelectAction,cn,null,Qr,sn)).on("mouseover",curry(dispatchHighlightAction,dn.name,null,Qr,sn)).on("mouseout",curry(dispatchDownplayAction,dn.name,null,Qr,sn)),Kr.ssr&&mn.eachChild(function(yn){var xn=getECData(yn);xn.seriesIndex=dn.seriesIndex,xn.dataIndex=un,xn.ssrType="legend"}),an.set(cn,!0)}else Kr.eachRawSeries(function(yn){if(!an.get(cn)&&yn.legendVisualProvider){var xn=yn.legendVisualProvider;if(!xn.containName(cn))return;var bn=xn.indexOfName(cn),Sn=xn.getItemVisual(bn,"style"),wn=xn.getItemVisual(bn,"legendIcon"),_n=parse(Sn.fill);_n&&_n[3]===0&&(_n[3]=.2,Sn=extend(extend({},Sn),{fill:stringify(_n,"rgba")}));var An=this._createItem(yn,cn,un,ln,Zr,Yr,{},Sn,wn,nn,Qr);An.on("click",curry(dispatchSelectAction,null,cn,Qr,sn)).on("mouseover",curry(dispatchHighlightAction,null,cn,Qr,sn)).on("mouseout",curry(dispatchDownplayAction,null,cn,Qr,sn)),Kr.ssr&&An.eachChild(function(Cn){var Tn=getECData(Cn);Tn.seriesIndex=yn.seriesIndex,Tn.dataIndex=un,Tn.ssrType="legend"}),an.set(cn,!0)}},this)},this),Jr&&this._createSelector(Jr,Zr,Qr,en,tn)},Gr.prototype._createSelector=function(Yr,Zr,Kr,Qr,Jr){var en=this.getSelectorGroup();each$3(Yr,function(rn){var an=rn.type,nn=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){Kr.dispatchAction({type:an==="all"?"legendAllSelect":"legendInverseSelect",legendId:Zr.id})}});en.add(nn);var sn=Zr.getModel("selectorLabel"),ln=Zr.getModel(["emphasis","selectorLabel"]);setLabelStyle(nn,{normal:sn,emphasis:ln},{defaultText:rn.title}),enableHoverEmphasis(nn)})},Gr.prototype._createItem=function(Yr,Zr,Kr,Qr,Jr,en,tn,rn,an,nn,sn){var ln=Yr.visualDrawType,un=Jr.get("itemWidth"),cn=Jr.get("itemHeight"),hn=Jr.isSelected(Zr),dn=Qr.get("symbolRotate"),fn=Qr.get("symbolKeepAspect"),pn=Qr.get("icon");an=pn||an||"roundRect";var gn=getLegendStyle(an,Qr,tn,rn,ln,hn,sn),vn=new Group$1,mn=Qr.getModel("textStyle");if(isFunction(Yr.getLegendIcon)&&(!pn||pn==="inherit"))vn.add(Yr.getLegendIcon({itemWidth:un,itemHeight:cn,icon:an,iconRotate:dn,itemStyle:gn.itemStyle,lineStyle:gn.lineStyle,symbolKeepAspect:fn}));else{var yn=pn==="inherit"&&Yr.getData().getVisual("symbol")?dn==="inherit"?Yr.getData().getVisual("symbolRotate"):dn:0;vn.add(getDefaultLegendIcon({itemWidth:un,itemHeight:cn,icon:an,iconRotate:yn,itemStyle:gn.itemStyle,symbolKeepAspect:fn}))}var xn=en==="left"?un+5:-5,bn=en,Sn=Jr.get("formatter"),wn=Zr;isString(Sn)&&Sn?wn=Sn.replace("{name}",Zr??""):isFunction(Sn)&&(wn=Sn(Zr));var _n=hn?mn.getTextColor():Qr.get("inactiveColor");vn.add(new ZRText({style:createTextStyle(mn,{text:wn,x:xn,y:cn/2,fill:_n,align:bn,verticalAlign:"middle"},{inheritColor:_n})}));var An=new Rect$2({shape:vn.getBoundingRect(),style:{fill:"transparent"}}),Cn=Qr.getModel("tooltip");return Cn.get("show")&&setTooltipConfig({el:An,componentModel:Jr,itemName:Zr,itemTooltipOption:Cn.option}),vn.add(An),vn.eachChild(function(Tn){Tn.silent=!0}),An.silent=!nn,this.getContentGroup().add(vn),enableHoverEmphasis(vn),vn.__legendDataIndex=Kr,vn},Gr.prototype.layoutInner=function(Yr,Zr,Kr,Qr,Jr,en){var tn=this.getContentGroup(),rn=this.getSelectorGroup();box(Yr.get("orient"),tn,Yr.get("itemGap"),Kr.width,Kr.height);var an=tn.getBoundingRect(),nn=[-an.x,-an.y];if(rn.markRedraw(),tn.markRedraw(),Jr){box("horizontal",rn,Yr.get("selectorItemGap",!0));var sn=rn.getBoundingRect(),ln=[-sn.x,-sn.y],un=Yr.get("selectorButtonGap",!0),cn=Yr.getOrient().index,hn=cn===0?"width":"height",dn=cn===0?"height":"width",fn=cn===0?"y":"x";en==="end"?ln[cn]+=an[hn]+un:nn[cn]+=sn[hn]+un,ln[1-cn]+=an[dn]/2-sn[dn]/2,rn.x=ln[0],rn.y=ln[1],tn.x=nn[0],tn.y=nn[1];var pn={x:0,y:0};return pn[hn]=an[hn]+un+sn[hn],pn[dn]=Math.max(an[dn],sn[dn]),pn[fn]=Math.min(0,sn[fn]+ln[1-cn]),pn}else return tn.x=nn[0],tn.y=nn[1],this.group.getBoundingRect()},Gr.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},Gr.type="legend.plain",Gr}(ComponentView);function getLegendStyle(Wr,Gr,Yr,Zr,Kr,Qr,Jr){function en(hn,dn){hn.lineWidth==="auto"&&(hn.lineWidth=dn.lineWidth>0?2:0),each$3(hn,function(fn,pn){hn[pn]==="inherit"&&(hn[pn]=dn[pn])})}var tn=Gr.getModel("itemStyle"),rn=tn.getItemStyle(),an=Wr.lastIndexOf("empty",0)===0?"fill":"stroke",nn=tn.getShallow("decal");rn.decal=!nn||nn==="inherit"?Zr.decal:createOrUpdatePatternFromDecal(nn,Jr),rn.fill==="inherit"&&(rn.fill=Zr[Kr]),rn.stroke==="inherit"&&(rn.stroke=Zr[an]),rn.opacity==="inherit"&&(rn.opacity=(Kr==="fill"?Zr:Yr).opacity),en(rn,Zr);var sn=Gr.getModel("lineStyle"),ln=sn.getLineStyle();if(en(ln,Yr),rn.fill==="auto"&&(rn.fill=Zr.fill),rn.stroke==="auto"&&(rn.stroke=Zr.fill),ln.stroke==="auto"&&(ln.stroke=Zr.fill),!Qr){var un=Gr.get("inactiveBorderWidth"),cn=rn[an];rn.lineWidth=un==="auto"?Zr.lineWidth>0&&cn?2:0:rn.lineWidth,rn.fill=Gr.get("inactiveColor"),rn.stroke=Gr.get("inactiveBorderColor"),ln.stroke=sn.get("inactiveColor"),ln.lineWidth=sn.get("inactiveWidth")}return{itemStyle:rn,lineStyle:ln}}function getDefaultLegendIcon(Wr){var Gr=Wr.icon||"roundRect",Yr=createSymbol$1(Gr,0,0,Wr.itemWidth,Wr.itemHeight,Wr.itemStyle.fill,Wr.symbolKeepAspect);return Yr.setStyle(Wr.itemStyle),Yr.rotation=(Wr.iconRotate||0)*Math.PI/180,Yr.setOrigin([Wr.itemWidth/2,Wr.itemHeight/2]),Gr.indexOf("empty")>-1&&(Yr.style.stroke=Yr.style.fill,Yr.style.fill="#fff",Yr.style.lineWidth=2),Yr}function dispatchSelectAction(Wr,Gr,Yr,Zr){dispatchDownplayAction(Wr,Gr,Yr,Zr),Yr.dispatchAction({type:"legendToggleSelect",name:Wr??Gr}),dispatchHighlightAction(Wr,Gr,Yr,Zr)}function isUseHoverLayer(Wr){for(var Gr=Wr.getZr().storage.getDisplayList(),Yr,Zr=0,Kr=Gr.length;Zr<Kr&&!(Yr=Gr[Zr].states.emphasis);)Zr++;return Yr&&Yr.hoverLayer}function dispatchHighlightAction(Wr,Gr,Yr,Zr){isUseHoverLayer(Yr)||Yr.dispatchAction({type:"highlight",seriesName:Wr,name:Gr,excludeSeriesId:Zr})}function dispatchDownplayAction(Wr,Gr,Yr,Zr){isUseHoverLayer(Yr)||Yr.dispatchAction({type:"downplay",seriesName:Wr,name:Gr,excludeSeriesId:Zr})}function legendFilter(Wr){var Gr=Wr.findComponents({mainType:"legend"});Gr&&Gr.length&&Wr.filterSeries(function(Yr){for(var Zr=0;Zr<Gr.length;Zr++)if(!Gr[Zr].isSelected(Yr.name))return!1;return!0})}function legendSelectActionHandler(Wr,Gr,Yr){var Zr=Wr==="allSelect"||Wr==="inverseSelect",Kr={},Qr=[];Yr.eachComponent({mainType:"legend",query:Gr},function(en){Zr?en[Wr]():en[Wr](Gr.name),makeSelectedMap(en,Kr),Qr.push(en.componentIndex)});var Jr={};return Yr.eachComponent("legend",function(en){each$f(Kr,function(tn,rn){en[tn?"select":"unSelect"](rn)}),makeSelectedMap(en,Jr)}),Zr?{selected:Jr,legendIndex:Qr}:{name:Gr.name,selected:Jr}}function makeSelectedMap(Wr,Gr){var Yr=Gr||{};return each$f(Wr.getData(),function(Zr){var Kr=Zr.get("name");if(!(Kr===`
`||Kr==="")){var Qr=Wr.isSelected(Kr);hasOwn(Yr,Kr)?Yr[Kr]=Yr[Kr]&&Qr:Yr[Kr]=Qr}}),Yr}function installLegendAction(Wr){Wr.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),Wr.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),Wr.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),Wr.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),Wr.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(Wr){Wr.registerComponentModel(LegendModel),Wr.registerComponentView(LegendView),Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),Wr.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(Wr)}var ScrollableLegendModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.setScrollDataIndex=function(Yr){this.option.scrollDataIndex=Yr},Gr.prototype.init=function(Yr,Zr,Kr){var Qr=getLayoutParams(Yr);Wr.prototype.init.call(this,Yr,Zr,Kr),mergeAndNormalizeLayoutParams(this,Yr,Qr)},Gr.prototype.mergeOption=function(Yr,Zr){Wr.prototype.mergeOption.call(this,Yr,Zr),mergeAndNormalizeLayoutParams(this,this.option,Yr)},Gr.type="legend.scroll",Gr.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),Gr}(LegendModel);function mergeAndNormalizeLayoutParams(Wr,Gr,Yr){var Zr=Wr.getOrient(),Kr=[1,1];Kr[Zr.index]=0,mergeLayoutParam(Gr,Yr,{type:"box",ignoreSize:!!Kr})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.newlineDisabled=!0,Yr._currentIndex=0,Yr}return Gr.prototype.init=function(){Wr.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},Gr.prototype.resetInner=function(){Wr.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Gr.prototype.renderInner=function(Yr,Zr,Kr,Qr,Jr,en,tn){var rn=this;Wr.prototype.renderInner.call(this,Yr,Zr,Kr,Qr,Jr,en,tn);var an=this._controllerGroup,nn=Zr.get("pageIconSize",!0),sn=isArray$1(nn)?nn:[nn,nn];un("pagePrev",0);var ln=Zr.getModel("pageTextStyle");an.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:ln.getTextColor(),font:ln.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),un("pageNext",1);function un(cn,hn){var dn=cn+"DataIndex",fn=createIcon$1(Zr.get("pageIcons",!0)[Zr.getOrient().name][hn],{onclick:bind$1(rn._pageGo,rn,dn,Zr,Qr)},{x:-sn[0]/2,y:-sn[1]/2,width:sn[0],height:sn[1]});fn.name=cn,an.add(fn)}},Gr.prototype.layoutInner=function(Yr,Zr,Kr,Qr,Jr,en){var tn=this.getSelectorGroup(),rn=Yr.getOrient().index,an=WH[rn],nn=XY[rn],sn=WH[1-rn],ln=XY[1-rn];Jr&&box("horizontal",tn,Yr.get("selectorItemGap",!0));var un=Yr.get("selectorButtonGap",!0),cn=tn.getBoundingRect(),hn=[-cn.x,-cn.y],dn=clone$4(Kr);Jr&&(dn[an]=Kr[an]-cn[an]-un);var fn=this._layoutContentAndController(Yr,Qr,dn,rn,an,sn,ln,nn);if(Jr){if(en==="end")hn[rn]+=fn[an]+un;else{var pn=cn[an]+un;hn[rn]-=pn,fn[nn]-=pn}fn[an]+=cn[an]+un,hn[1-rn]+=fn[ln]+fn[sn]/2-cn[sn]/2,fn[sn]=Math.max(fn[sn],cn[sn]),fn[ln]=Math.min(fn[ln],cn[ln]+hn[1-rn]),tn.x=hn[0],tn.y=hn[1],tn.markRedraw()}return fn},Gr.prototype._layoutContentAndController=function(Yr,Zr,Kr,Qr,Jr,en,tn,rn){var an=this.getContentGroup(),nn=this._containerGroup,sn=this._controllerGroup;box(Yr.get("orient"),an,Yr.get("itemGap"),Qr?Kr.width:null,Qr?null:Kr.height),box("horizontal",sn,Yr.get("pageButtonItemGap",!0));var ln=an.getBoundingRect(),un=sn.getBoundingRect(),cn=this._showController=ln[Jr]>Kr[Jr],hn=[-ln.x,-ln.y];Zr||(hn[Qr]=an[rn]);var dn=[0,0],fn=[-un.x,-un.y],pn=retrieve2(Yr.get("pageButtonGap",!0),Yr.get("itemGap",!0));if(cn){var gn=Yr.get("pageButtonPosition",!0);gn==="end"?fn[Qr]+=Kr[Jr]-un[Jr]:dn[Qr]+=un[Jr]+pn}fn[1-Qr]+=ln[en]/2-un[en]/2,an.setPosition(hn),nn.setPosition(dn),sn.setPosition(fn);var vn={x:0,y:0};if(vn[Jr]=cn?Kr[Jr]:ln[Jr],vn[en]=Math.max(ln[en],un[en]),vn[tn]=Math.min(0,un[tn]+fn[1-Qr]),nn.__rectSize=Kr[Jr],cn){var mn={x:0,y:0};mn[Jr]=Math.max(Kr[Jr]-un[Jr]-pn,0),mn[en]=vn[en],nn.setClipPath(new Rect$2({shape:mn})),nn.__rectSize=mn[Jr]}else sn.eachChild(function(xn){xn.attr({invisible:!0,silent:!0})});var yn=this._getPageInfo(Yr);return yn.pageIndex!=null&&updateProps$1(an,{x:yn.contentPosition[0],y:yn.contentPosition[1]},cn?Yr:null),this._updatePageInfoView(Yr,yn),vn},Gr.prototype._pageGo=function(Yr,Zr,Kr){var Qr=this._getPageInfo(Zr)[Yr];Qr!=null&&Kr.dispatchAction({type:"legendScroll",scrollDataIndex:Qr,legendId:Zr.id})},Gr.prototype._updatePageInfoView=function(Yr,Zr){var Kr=this._controllerGroup;each$f(["pagePrev","pageNext"],function(an){var nn=an+"DataIndex",sn=Zr[nn]!=null,ln=Kr.childOfName(an);ln&&(ln.setStyle("fill",sn?Yr.get("pageIconColor",!0):Yr.get("pageIconInactiveColor",!0)),ln.cursor=sn?"pointer":"default")});var Qr=Kr.childOfName("pageText"),Jr=Yr.get("pageFormatter"),en=Zr.pageIndex,tn=en!=null?en+1:0,rn=Zr.pageCount;Qr&&Jr&&Qr.setStyle("text",isString(Jr)?Jr.replace("{current}",tn==null?"":tn+"").replace("{total}",rn==null?"":rn+""):Jr({current:tn,total:rn}))},Gr.prototype._getPageInfo=function(Yr){var Zr=Yr.get("scrollDataIndex",!0),Kr=this.getContentGroup(),Qr=this._containerGroup.__rectSize,Jr=Yr.getOrient().index,en=WH[Jr],tn=XY[Jr],rn=this._findTargetItemIndex(Zr),an=Kr.children(),nn=an[rn],sn=an.length,ln=sn?1:0,un={contentPosition:[Kr.x,Kr.y],pageCount:ln,pageIndex:ln-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!nn)return un;var cn=gn(nn);un.contentPosition[Jr]=-cn.s;for(var hn=rn+1,dn=cn,fn=cn,pn=null;hn<=sn;++hn)pn=gn(an[hn]),(!pn&&fn.e>dn.s+Qr||pn&&!vn(pn,dn.s))&&(fn.i>dn.i?dn=fn:dn=pn,dn&&(un.pageNextDataIndex==null&&(un.pageNextDataIndex=dn.i),++un.pageCount)),fn=pn;for(var hn=rn-1,dn=cn,fn=cn,pn=null;hn>=-1;--hn)pn=gn(an[hn]),(!pn||!vn(fn,pn.s))&&dn.i<fn.i&&(fn=dn,un.pagePrevDataIndex==null&&(un.pagePrevDataIndex=dn.i),++un.pageCount,++un.pageIndex),dn=pn;return un;function gn(mn){if(mn){var yn=mn.getBoundingRect(),xn=yn[tn]+mn[tn];return{s:xn,e:xn+yn[en],i:mn.__legendDataIndex}}}function vn(mn,yn){return mn.e>=yn&&mn.s<=yn+Qr}},Gr.prototype._findTargetItemIndex=function(Yr){if(!this._showController)return 0;var Zr,Kr=this.getContentGroup(),Qr;return Kr.eachChild(function(Jr,en){var tn=Jr.__legendDataIndex;Qr==null&&tn!=null&&(Qr=en),tn===Yr&&(Zr=en)}),Zr??Qr},Gr.type="legend.scroll",Gr}(LegendView);function installScrollableLegendAction(Wr){Wr.registerAction("legendScroll","legendscroll",function(Gr,Yr){var Zr=Gr.scrollDataIndex;Zr!=null&&Yr.eachComponent({mainType:"legend",subType:"scroll",query:Gr},function(Kr){Kr.setScrollDataIndex(Zr)})})}function install$a(Wr){use(install$b),Wr.registerComponentModel(ScrollableLegendModel),Wr.registerComponentView(ScrollableLegendView),installScrollableLegendAction(Wr)}function install$9(Wr){use(install$b),use(install$a)}var InsideZoomModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="dataZoom.inside",Gr.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Gr}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(Wr,Gr,Yr){inner$1(Wr).coordSysRecordMap.each(function(Zr){var Kr=Zr.dataZoomInfoMap.get(Gr.uid);Kr&&(Kr.getRange=Yr)})}function disposeCoordSysRecordIfNeeded(Wr,Gr){for(var Yr=inner$1(Wr).coordSysRecordMap,Zr=Yr.keys(),Kr=0;Kr<Zr.length;Kr++){var Qr=Zr[Kr],Jr=Yr.get(Qr),en=Jr.dataZoomInfoMap;if(en){var tn=Gr.uid,rn=en.get(tn);rn&&(en.removeKey(tn),en.keys().length||disposeCoordSysRecord(Yr,Jr))}}}function disposeCoordSysRecord(Wr,Gr){if(Gr){Wr.removeKey(Gr.model.uid);var Yr=Gr.controller;Yr&&Yr.dispose()}}function createCoordSysRecord(Wr,Gr){var Yr={model:Gr,containsPoint:curry$1(containsPoint,Gr),dispatchAction:curry$1(dispatchAction,Wr),dataZoomInfoMap:null,controller:null},Zr=Yr.controller=new RoamController(Wr.getZr());return each$f(["pan","zoom","scrollMove"],function(Kr){Zr.on(Kr,function(Qr){var Jr=[];Yr.dataZoomInfoMap.each(function(en){if(Qr.isAvailableBehavior(en.model.option)){var tn=(en.getRange||{})[Kr],rn=tn&&tn(en.dzReferCoordSysInfo,Yr.model.mainType,Yr.controller,Qr);!en.model.get("disabled",!0)&&rn&&Jr.push({dataZoomId:en.model.id,start:rn[0],end:rn[1]})}}),Jr.length&&Yr.dispatchAction(Jr)})}),Yr}function dispatchAction(Wr,Gr){Wr.isDisposed()||Wr.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:Gr})}function containsPoint(Wr,Gr,Yr,Zr){return Wr.coordinateSystem.containPoint([Yr,Zr])}function mergeControllerParams(Wr){var Gr,Yr="type_",Zr={type_true:2,type_move:1,type_false:0,type_undefined:-1},Kr=!0;return Wr.each(function(Qr){var Jr=Qr.model,en=Jr.get("disabled",!0)?!1:Jr.get("zoomLock",!0)?"move":!0;Zr[Yr+en]>Zr[Yr+Gr]&&(Gr=en),Kr=Kr&&Jr.get("preventDefaultMouseMove",!0)}),{controlType:Gr,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!Kr}}}function installDataZoomRoamProcessor(Wr){Wr.registerProcessor(Wr.PRIORITY.PROCESSOR.FILTER,function(Gr,Yr){var Zr=inner$1(Yr),Kr=Zr.coordSysRecordMap||(Zr.coordSysRecordMap=createHashMap());Kr.each(function(Qr){Qr.dataZoomInfoMap=null}),Gr.eachComponent({mainType:"dataZoom",subType:"inside"},function(Qr){var Jr=collectReferCoordSysModelInfo(Qr);each$f(Jr.infoList,function(en){var tn=en.model.uid,rn=Kr.get(tn)||Kr.set(tn,createCoordSysRecord(Yr,en.model)),an=rn.dataZoomInfoMap||(rn.dataZoomInfoMap=createHashMap());an.set(Qr.uid,{dzReferCoordSysInfo:en,model:Qr,getRange:null})})}),Kr.each(function(Qr){var Jr=Qr.controller,en,tn=Qr.dataZoomInfoMap;if(tn){var rn=tn.keys()[0];rn!=null&&(en=tn.get(rn))}if(!en){disposeCoordSysRecord(Kr,Qr);return}var an=mergeControllerParams(tn);Jr.enable(an.controlType,an.opt),Jr.setPointerChecker(Qr.containsPoint),createOrUpdate(Qr,"dispatchAction",en.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="dataZoom.inside",Yr}return Gr.prototype.render=function(Yr,Zr,Kr){if(Wr.prototype.render.apply(this,arguments),Yr.noTarget()){this._clear();return}this.range=Yr.getPercentRange(),setViewInfoToCoordSysRecord(Kr,Yr,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},Gr.prototype.dispose=function(){this._clear(),Wr.prototype.dispose.apply(this,arguments)},Gr.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},Gr.type="dataZoom.inside",Gr}(DataZoomView),getRangeHandlers={zoom:function(Wr,Gr,Yr,Zr){var Kr=this.range,Qr=Kr.slice(),Jr=Wr.axisModels[0];if(Jr){var en=getDirectionInfo[Gr](null,[Zr.originX,Zr.originY],Jr,Yr,Wr),tn=(en.signal>0?en.pixelStart+en.pixelLength-en.pixel:en.pixel-en.pixelStart)/en.pixelLength*(Qr[1]-Qr[0])+Qr[0],rn=Math.max(1/Zr.scale,0);Qr[0]=(Qr[0]-tn)*rn+tn,Qr[1]=(Qr[1]-tn)*rn+tn;var an=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,Qr,[0,100],0,an.minSpan,an.maxSpan),this.range=Qr,Kr[0]!==Qr[0]||Kr[1]!==Qr[1])return Qr}},pan:makeMover(function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=getDirectionInfo[Zr]([Qr.oldX,Qr.oldY],[Qr.newX,Qr.newY],Gr,Kr,Yr);return Jr.signal*(Wr[1]-Wr[0])*Jr.pixel/Jr.pixelLength}),scrollMove:makeMover(function(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=getDirectionInfo[Zr]([0,0],[Qr.scrollDelta,Qr.scrollDelta],Gr,Kr,Yr);return Jr.signal*(Wr[1]-Wr[0])*Qr.scrollDelta})};function makeMover(Wr){return function(Gr,Yr,Zr,Kr){var Qr=this.range,Jr=Qr.slice(),en=Gr.axisModels[0];if(en){var tn=Wr(Jr,en,Gr,Yr,Zr,Kr);if(sliderMove(tn,Jr,[0,100],"all"),this.range=Jr,Qr[0]!==Jr[0]||Qr[1]!==Jr[1])return Jr}}}var getDirectionInfo={grid:function(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.axis,Jr={},en=Kr.model.coordinateSystem.getRect();return Wr=Wr||[0,0],Qr.dim==="x"?(Jr.pixel=Gr[0]-Wr[0],Jr.pixelLength=en.width,Jr.pixelStart=en.x,Jr.signal=Qr.inverse?1:-1):(Jr.pixel=Gr[1]-Wr[1],Jr.pixelLength=en.height,Jr.pixelStart=en.y,Jr.signal=Qr.inverse?-1:1),Jr},polar:function(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.axis,Jr={},en=Kr.model.coordinateSystem,tn=en.getRadiusAxis().getExtent(),rn=en.getAngleAxis().getExtent();return Wr=Wr?en.pointToCoord(Wr):[0,0],Gr=en.pointToCoord(Gr),Yr.mainType==="radiusAxis"?(Jr.pixel=Gr[0]-Wr[0],Jr.pixelLength=tn[1]-tn[0],Jr.pixelStart=tn[0],Jr.signal=Qr.inverse?1:-1):(Jr.pixel=Gr[1]-Wr[1],Jr.pixelLength=rn[1]-rn[0],Jr.pixelStart=rn[0],Jr.signal=Qr.inverse?-1:1),Jr},singleAxis:function(Wr,Gr,Yr,Zr,Kr){var Qr=Yr.axis,Jr=Kr.model.coordinateSystem.getRect(),en={};return Wr=Wr||[0,0],Qr.orient==="horizontal"?(en.pixel=Gr[0]-Wr[0],en.pixelLength=Jr.width,en.pixelStart=Jr.x,en.signal=Qr.inverse?1:-1):(en.pixel=Gr[1]-Wr[1],en.pixelLength=Jr.height,en.pixelStart=Jr.y,en.signal=Qr.inverse?-1:1),en}};function install$8(Wr){installCommon$1(Wr),Wr.registerComponentModel(InsideZoomModel),Wr.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(Wr)}var SliderZoomModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.type="dataZoom.slider",Gr.layoutMode="box",Gr.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),Gr}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._displayables={},Yr}return Gr.prototype.init=function(Yr,Zr){this.api=Zr,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},Gr.prototype.render=function(Yr,Zr,Kr,Qr){if(Wr.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",Yr.get("throttle"),"fixRate"),this._orient=Yr.getOrient(),Yr.get("show")===!1){this.group.removeAll();return}if(Yr.noTarget()){this._clear(),this.group.removeAll();return}(!Qr||Qr.type!=="dataZoom"||Qr.from!==this.uid)&&this._buildView(),this._updateView()},Gr.prototype.dispose=function(){this._clear(),Wr.prototype.dispose.apply(this,arguments)},Gr.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var Yr=this.api.getZr();Yr.off("mousemove",this._onBrush),Yr.off("mouseup",this._onBrushEnd)},Gr.prototype._buildView=function(){var Yr=this.group;Yr.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var Zr=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),Yr.add(Zr),this._positionGroup()},Gr.prototype._resetLocation=function(){var Yr=this.dataZoomModel,Zr=this.api,Kr=Yr.get("brushSelect"),Qr=Kr?DEFAULT_MOVE_HANDLE_SIZE:0,Jr=this._findCoordRect(),en={width:Zr.getWidth(),height:Zr.getHeight()},tn=this._orient===HORIZONTAL?{right:en.width-Jr.x-Jr.width,top:en.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-Qr,width:Jr.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:Jr.y,width:DEFAULT_FILLER_SIZE,height:Jr.height},rn=getLayoutParams(Yr.option);each$f(["right","top","width","height"],function(nn){rn[nn]==="ph"&&(rn[nn]=tn[nn])});var an=getLayoutRect(rn,en);this._location={x:an.x,y:an.y},this._size=[an.width,an.height],this._orient===VERTICAL&&this._size.reverse()},Gr.prototype._positionGroup=function(){var Yr=this.group,Zr=this._location,Kr=this._orient,Qr=this.dataZoomModel.getFirstTargetAxisModel(),Jr=Qr&&Qr.get("inverse"),en=this._displayables.sliderGroup,tn=(this._dataShadowInfo||{}).otherAxisInverse;en.attr(Kr===HORIZONTAL&&!Jr?{scaleY:tn?1:-1,scaleX:1}:Kr===HORIZONTAL&&Jr?{scaleY:tn?1:-1,scaleX:-1}:Kr===VERTICAL&&!Jr?{scaleY:tn?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:tn?-1:1,scaleX:-1,rotation:Math.PI/2});var rn=Yr.getBoundingRect([en]);Yr.x=Zr.x-rn.x,Yr.y=Zr.y-rn.y,Yr.markRedraw()},Gr.prototype._getViewExtent=function(){return[0,this._size[0]]},Gr.prototype._renderBackground=function(){var Yr=this.dataZoomModel,Zr=this._size,Kr=this._displayables.sliderGroup,Qr=Yr.get("brushSelect");Kr.add(new Rect({silent:!0,shape:{x:0,y:0,width:Zr[0],height:Zr[1]},style:{fill:Yr.get("backgroundColor")},z2:-40}));var Jr=new Rect({shape:{x:0,y:0,width:Zr[0],height:Zr[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),en=this.api.getZr();Qr?(Jr.on("mousedown",this._onBrushStart,this),Jr.cursor="crosshair",en.on("mousemove",this._onBrush),en.on("mouseup",this._onBrushEnd)):(en.off("mousemove",this._onBrush),en.off("mouseup",this._onBrushEnd)),Kr.add(Jr)},Gr.prototype._renderDataShadow=function(){var Yr=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!Yr)return;var Zr=this._size,Kr=this._shadowSize||[],Qr=Yr.series,Jr=Qr.getRawData(),en=Qr.getShadowDim&&Qr.getShadowDim(),tn=en&&Jr.getDimensionInfo(en)?Qr.getShadowDim():Yr.otherDim;if(tn==null)return;var rn=this._shadowPolygonPts,an=this._shadowPolylinePts;if(Jr!==this._shadowData||tn!==this._shadowDim||Zr[0]!==Kr[0]||Zr[1]!==Kr[1]){var nn=Jr.getDataExtent(tn),sn=(nn[1]-nn[0])*.3;nn=[nn[0]-sn,nn[1]+sn];var ln=[0,Zr[1]],un=[0,Zr[0]],cn=[[Zr[0],0],[0,0]],hn=[],dn=un[1]/(Jr.count()-1),fn=0,pn=Math.round(Jr.count()/Zr[0]),gn;Jr.each([tn],function(bn,Sn){if(pn>0&&Sn%pn){fn+=dn;return}var wn=bn==null||isNaN(bn)||bn==="",_n=wn?0:linearMap$2(bn,nn,ln,!0);wn&&!gn&&Sn?(cn.push([cn[cn.length-1][0],0]),hn.push([hn[hn.length-1][0],0])):!wn&&gn&&(cn.push([fn,0]),hn.push([fn,0])),cn.push([fn,_n]),hn.push([fn,_n]),fn+=dn,gn=wn}),rn=this._shadowPolygonPts=cn,an=this._shadowPolylinePts=hn}this._shadowData=Jr,this._shadowDim=tn,this._shadowSize=[Zr[0],Zr[1]];var vn=this.dataZoomModel;function mn(bn){var Sn=vn.getModel(bn?"selectedDataBackground":"dataBackground"),wn=new Group$3,_n=new Polygon({shape:{points:rn},segmentIgnoreThreshold:1,style:Sn.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),An=new Polyline$1({shape:{points:an},segmentIgnoreThreshold:1,style:Sn.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return wn.add(_n),wn.add(An),wn}for(var yn=0;yn<3;yn++){var xn=mn(yn===1);this._displayables.sliderGroup.add(xn),this._displayables.dataShadowSegs.push(xn)}},Gr.prototype._prepareDataShadowInfo=function(){var Yr=this.dataZoomModel,Zr=Yr.get("showDataShadow");if(Zr!==!1){var Kr,Qr=this.ecModel;return Yr.eachTargetAxis(function(Jr,en){var tn=Yr.getAxisProxy(Jr,en).getTargetSeriesModels();each$f(tn,function(rn){if(!Kr&&!(Zr!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,rn.get("type"))<0)){var an=Qr.getComponent(getAxisMainType(Jr),en).axis,nn=getOtherDim(Jr),sn,ln=rn.coordinateSystem;nn!=null&&ln.getOtherAxis&&(sn=ln.getOtherAxis(an).inverse),nn=rn.getData().mapDimension(nn),Kr={thisAxis:an,series:rn,thisDim:Jr,otherDim:nn,otherAxisInverse:sn}}},this)},this),Kr}},Gr.prototype._renderHandle=function(){var Yr=this.group,Zr=this._displayables,Kr=Zr.handles=[null,null],Qr=Zr.handleLabels=[null,null],Jr=this._displayables.sliderGroup,en=this._size,tn=this.dataZoomModel,rn=this.api,an=tn.get("borderRadius")||0,nn=tn.get("brushSelect"),sn=Zr.filler=new Rect({silent:nn,style:{fill:tn.get("fillerColor")},textConfig:{position:"inside"}});Jr.add(sn),Jr.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:en[0],height:en[1],r:an},style:{stroke:tn.get("dataBackgroundColor")||tn.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(pn){var gn=tn.get("handleIcon");!symbolBuildProxies[gn]&&gn.indexOf("path://")<0&&gn.indexOf("image://")<0&&(gn="path://"+gn);var vn=createSymbol$1(gn,-1,0,2,2,null,!0);vn.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,pn),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var mn=vn.getBoundingRect(),yn=tn.get("handleSize");this._handleHeight=parsePercent(yn,this._size[1]),this._handleWidth=mn.width/mn.height*this._handleHeight,vn.setStyle(tn.getModel("handleStyle").getItemStyle()),vn.style.strokeNoScale=!0,vn.rectHover=!0,vn.ensureState("emphasis").style=tn.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(vn);var xn=tn.get("handleColor");xn!=null&&(vn.style.fill=xn),Jr.add(Kr[pn]=vn);var bn=tn.getModel("textStyle"),Sn=tn.get("handleLabel")||{},wn=Sn.show||!1;Yr.add(Qr[pn]=new ZRText({silent:!0,invisible:!wn,style:createTextStyle(bn,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:bn.getTextColor(),font:bn.getFont()}),z2:10}))},this);var ln=sn;if(nn){var un=parsePercent(tn.get("moveHandleSize"),en[1]),cn=Zr.moveHandle=new Rect$2({style:tn.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:en[1]-.5,height:un}}),hn=un*.8,dn=Zr.moveHandleIcon=createSymbol$1(tn.get("moveHandleIcon"),-hn/2,-hn/2,hn,hn,"#fff",!0);dn.silent=!0,dn.y=en[1]+un/2-.5,cn.ensureState("emphasis").style=tn.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var fn=Math.min(en[1]/2,Math.max(un,10));ln=Zr.moveZone=new Rect$2({invisible:!0,shape:{y:en[1]-fn,height:un+fn}}),ln.on("mouseover",function(){rn.enterEmphasis(cn)}).on("mouseout",function(){rn.leaveEmphasis(cn)}),Jr.add(cn),Jr.add(dn),Jr.add(ln)}ln.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},Gr.prototype._resetInterval=function(){var Yr=this._range=this.dataZoomModel.getPercentRange(),Zr=this._getViewExtent();this._handleEnds=[linearMap$2(Yr[0],[0,100],Zr,!0),linearMap$2(Yr[1],[0,100],Zr,!0)]},Gr.prototype._updateInterval=function(Yr,Zr){var Kr=this.dataZoomModel,Qr=this._handleEnds,Jr=this._getViewExtent(),en=Kr.findRepresentativeAxisProxy().getMinMaxSpan(),tn=[0,100];sliderMove(Zr,Qr,Jr,Kr.get("zoomLock")?"all":Yr,en.minSpan!=null?linearMap$2(en.minSpan,tn,Jr,!0):null,en.maxSpan!=null?linearMap$2(en.maxSpan,tn,Jr,!0):null);var rn=this._range,an=this._range=asc$2([linearMap$2(Qr[0],Jr,tn,!0),linearMap$2(Qr[1],Jr,tn,!0)]);return!rn||rn[0]!==an[0]||rn[1]!==an[1]},Gr.prototype._updateView=function(Yr){var Zr=this._displayables,Kr=this._handleEnds,Qr=asc$2(Kr.slice()),Jr=this._size;each$f([0,1],function(ln){var un=Zr.handles[ln],cn=this._handleHeight;un.attr({scaleX:cn/2,scaleY:cn/2,x:Kr[ln]+(ln?-1:1),y:Jr[1]/2-cn/2})},this),Zr.filler.setShape({x:Qr[0],y:0,width:Qr[1]-Qr[0],height:Jr[1]});var en={x:Qr[0],width:Qr[1]-Qr[0]};Zr.moveHandle&&(Zr.moveHandle.setShape(en),Zr.moveZone.setShape(en),Zr.moveZone.getBoundingRect(),Zr.moveHandleIcon&&Zr.moveHandleIcon.attr("x",en.x+en.width/2));for(var tn=Zr.dataShadowSegs,rn=[0,Qr[0],Qr[1],Jr[0]],an=0;an<tn.length;an++){var nn=tn[an],sn=nn.getClipPath();sn||(sn=new Rect$2,nn.setClipPath(sn)),sn.setShape({x:rn[an],y:0,width:rn[an+1]-rn[an],height:Jr[1]})}this._updateDataInfo(Yr)},Gr.prototype._updateDataInfo=function(Yr){var Zr=this.dataZoomModel,Kr=this._displayables,Qr=Kr.handleLabels,Jr=this._orient,en=["",""];if(Zr.get("showDetail")){var tn=Zr.findRepresentativeAxisProxy();if(tn){var rn=tn.getAxisModel().axis,an=this._range,nn=Yr?tn.calculateDataWindow({start:an[0],end:an[1]}).valueWindow:tn.getDataValueWindow();en=[this._formatLabel(nn[0],rn),this._formatLabel(nn[1],rn)]}}var sn=asc$2(this._handleEnds.slice());ln.call(this,0),ln.call(this,1);function ln(un){var cn=getTransform$1(Kr.handles[un].parent,this.group),hn=transformDirection(un===0?"right":"left",cn),dn=this._handleWidth/2+LABEL_GAP,fn=applyTransform([sn[un]+(un===0?-dn:dn),this._size[1]/2],cn);Qr[un].setStyle({x:fn[0],y:fn[1],verticalAlign:Jr===HORIZONTAL?"middle":hn,align:Jr===HORIZONTAL?hn:"center",text:en[un]})}},Gr.prototype._formatLabel=function(Yr,Zr){var Kr=this.dataZoomModel,Qr=Kr.get("labelFormatter"),Jr=Kr.get("labelPrecision");(Jr==null||Jr==="auto")&&(Jr=Zr.getPixelPrecision());var en=Yr==null||isNaN(Yr)?"":Zr.type==="category"||Zr.type==="time"?Zr.scale.getLabel({value:Math.round(Yr)}):Yr.toFixed(Math.min(Jr,20));return isFunction(Qr)?Qr(Yr,en):isString(Qr)?Qr.replace("{value}",en):en},Gr.prototype._showDataInfo=function(Yr){var Zr=this.dataZoomModel.get("handleLabel")||{},Kr=Zr.show||!1,Qr=this.dataZoomModel.getModel(["emphasis","handleLabel"]),Jr=Qr.get("show")||!1,en=Yr||this._dragging?Jr:Kr,tn=this._displayables,rn=tn.handleLabels;rn[0].attr("invisible",!en),rn[1].attr("invisible",!en),tn.moveHandle&&this.api[en?"enterEmphasis":"leaveEmphasis"](tn.moveHandle,1)},Gr.prototype._onDragMove=function(Yr,Zr,Kr,Qr){this._dragging=!0,stop(Qr.event);var Jr=this._displayables.sliderGroup.getLocalTransform(),en=applyTransform([Zr,Kr],Jr,!0),tn=this._updateInterval(Yr,en[0]),rn=this.dataZoomModel.get("realtime");this._updateView(!rn),tn&&rn&&this._dispatchZoomAction(!0)},Gr.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var Yr=this.dataZoomModel.get("realtime");!Yr&&this._dispatchZoomAction(!1)},Gr.prototype._onClickPanel=function(Yr){var Zr=this._size,Kr=this._displayables.sliderGroup.transformCoordToLocal(Yr.offsetX,Yr.offsetY);if(!(Kr[0]<0||Kr[0]>Zr[0]||Kr[1]<0||Kr[1]>Zr[1])){var Qr=this._handleEnds,Jr=(Qr[0]+Qr[1])/2,en=this._updateInterval("all",Kr[0]-Jr);this._updateView(),en&&this._dispatchZoomAction(!1)}},Gr.prototype._onBrushStart=function(Yr){var Zr=Yr.offsetX,Kr=Yr.offsetY;this._brushStart=new Point(Zr,Kr),this._brushing=!0,this._brushStartTime=+new Date},Gr.prototype._onBrushEnd=function(Yr){if(this._brushing){var Zr=this._displayables.brushRect;if(this._brushing=!1,!!Zr){Zr.attr("ignore",!0);var Kr=Zr.shape,Qr=+new Date;if(!(Qr-this._brushStartTime<200&&Math.abs(Kr.width)<5)){var Jr=this._getViewExtent(),en=[0,100];this._range=asc$2([linearMap$2(Kr.x,Jr,en,!0),linearMap$2(Kr.x+Kr.width,Jr,en,!0)]),this._handleEnds=[Kr.x,Kr.x+Kr.width],this._updateView(),this._dispatchZoomAction(!1)}}}},Gr.prototype._onBrush=function(Yr){this._brushing&&(stop(Yr.event),this._updateBrushRect(Yr.offsetX,Yr.offsetY))},Gr.prototype._updateBrushRect=function(Yr,Zr){var Kr=this._displayables,Qr=this.dataZoomModel,Jr=Kr.brushRect;Jr||(Jr=Kr.brushRect=new Rect({silent:!0,style:Qr.getModel("brushStyle").getItemStyle()}),Kr.sliderGroup.add(Jr)),Jr.attr("ignore",!1);var en=this._brushStart,tn=this._displayables.sliderGroup,rn=tn.transformCoordToLocal(Yr,Zr),an=tn.transformCoordToLocal(en.x,en.y),nn=this._size;rn[0]=Math.max(Math.min(nn[0],rn[0]),0),Jr.setShape({x:an[0],y:0,width:rn[0]-an[0],height:nn[1]})},Gr.prototype._dispatchZoomAction=function(Yr){var Zr=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:Yr?REALTIME_ANIMATION_CONFIG:null,start:Zr[0],end:Zr[1]})},Gr.prototype._findCoordRect=function(){var Yr,Zr=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!Yr&&Zr.length){var Kr=Zr[0].model.coordinateSystem;Yr=Kr.getRect&&Kr.getRect()}if(!Yr){var Qr=this.api.getWidth(),Jr=this.api.getHeight();Yr={x:Qr*.2,y:Jr*.2,width:Qr*.6,height:Jr*.6}}return Yr},Gr.type="dataZoom.slider",Gr}(DataZoomView);function getOtherDim(Wr){var Gr={x:"y",y:"x",radius:"angle",angle:"radius"};return Gr[Wr]}function getCursor$1(Wr){return Wr==="vertical"?"ns-resize":"ew-resize"}function install$7(Wr){Wr.registerComponentModel(SliderZoomModel),Wr.registerComponentView(SliderZoomView),installCommon$1(Wr)}function install$6(Wr){use(install$8),use(install$7)}var visualDefault={get:function(Wr,Gr,Yr){var Zr=clone$4((defaultOption[Wr]||{})[Gr]);return Yr&&isArray$1(Zr)?Zr[Zr.length-1]:Zr}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.stateList=["inRange","outOfRange"],Yr.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],Yr.layoutMode={type:"box",ignoreSize:!0},Yr.dataBound=[-1/0,1/0],Yr.targetVisuals={},Yr.controllerVisuals={},Yr}return Gr.prototype.init=function(Yr,Zr,Kr){this.mergeDefaultAndTheme(Yr,Kr)},Gr.prototype.optionUpdated=function(Yr,Zr){var Kr=this.option;!Zr&&replaceVisualOption(Kr,Yr,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},Gr.prototype.resetVisual=function(Yr){var Zr=this.stateList;Yr=bind$1(Yr,this),this.controllerVisuals=createVisualMappings(this.option.controller,Zr,Yr),this.targetVisuals=createVisualMappings(this.option.target,Zr,Yr)},Gr.prototype.getItemSymbol=function(){return null},Gr.prototype.getTargetSeriesIndices=function(){var Yr=this.option.seriesIndex,Zr=[];return Yr==null||Yr==="all"?this.ecModel.eachSeries(function(Kr,Qr){Zr.push(Qr)}):Zr=normalizeToArray(Yr),Zr},Gr.prototype.eachTargetSeries=function(Yr,Zr){each$f(this.getTargetSeriesIndices(),function(Kr){var Qr=this.ecModel.getSeriesByIndex(Kr);Qr&&Yr.call(Zr,Qr)},this)},Gr.prototype.isTargetSeries=function(Yr){var Zr=!1;return this.eachTargetSeries(function(Kr){Kr===Yr&&(Zr=!0)}),Zr},Gr.prototype.formatValueText=function(Yr,Zr,Kr){var Qr=this.option,Jr=Qr.precision,en=this.dataBound,tn=Qr.formatter,rn;Kr=Kr||["<",">"],isArray$1(Yr)&&(Yr=Yr.slice(),rn=!0);var an=Zr?Yr:rn?[nn(Yr[0]),nn(Yr[1])]:nn(Yr);if(isString(tn))return tn.replace("{value}",rn?an[0]:an).replace("{value2}",rn?an[1]:an);if(isFunction(tn))return rn?tn(Yr[0],Yr[1]):tn(Yr);if(rn)return Yr[0]===en[0]?Kr[0]+" "+an[1]:Yr[1]===en[1]?Kr[1]+" "+an[0]:an[0]+" - "+an[1];return an;function nn(sn){return sn===en[0]?"min":sn===en[1]?"max":(+sn).toFixed(Math.min(Jr,20))}},Gr.prototype.resetExtent=function(){var Yr=this.option,Zr=asc([Yr.min,Yr.max]);this._dataExtent=Zr},Gr.prototype.getDataDimensionIndex=function(Yr){var Zr=this.option.dimension;if(Zr!=null)return Yr.getDimensionIndex(Zr);for(var Kr=Yr.dimensions,Qr=Kr.length-1;Qr>=0;Qr--){var Jr=Kr[Qr],en=Yr.getDimensionInfo(Jr);if(!en.isCalculationCoord)return en.storeDimIndex}},Gr.prototype.getExtent=function(){return this._dataExtent.slice()},Gr.prototype.completeVisualOption=function(){var Yr=this.ecModel,Zr=this.option,Kr={inRange:Zr.inRange,outOfRange:Zr.outOfRange},Qr=Zr.target||(Zr.target={}),Jr=Zr.controller||(Zr.controller={});merge(Qr,Kr),merge(Jr,Kr);var en=this.isCategory();tn.call(this,Qr),tn.call(this,Jr),rn.call(this,Qr,"inRange","outOfRange"),an.call(this,Jr);function tn(nn){isArray(Zr.color)&&!nn.inRange&&(nn.inRange={color:Zr.color.slice().reverse()}),nn.inRange=nn.inRange||{color:Yr.get("gradientColor")}}function rn(nn,sn,ln){var un=nn[sn],cn=nn[ln];un&&!cn&&(cn=nn[ln]={},each$2(un,function(hn,dn){if(VisualMapping.isValidType(dn)){var fn=visualDefault.get(dn,"inactive",en);fn!=null&&(cn[dn]=fn,dn==="color"&&!cn.hasOwnProperty("opacity")&&!cn.hasOwnProperty("colorAlpha")&&(cn.opacity=[0,0]))}}))}function an(nn){var sn=(nn.inRange||{}).symbol||(nn.outOfRange||{}).symbol,ln=(nn.inRange||{}).symbolSize||(nn.outOfRange||{}).symbolSize,un=this.get("inactiveColor"),cn=this.getItemSymbol(),hn=cn||"roundRect";each$2(this.stateList,function(dn){var fn=this.itemSize,pn=nn[dn];pn||(pn=nn[dn]={color:en?un:[un]}),pn.symbol==null&&(pn.symbol=sn&&clone$4(sn)||(en?hn:[hn])),pn.symbolSize==null&&(pn.symbolSize=ln&&clone$4(ln)||(en?fn[0]:[fn[0],fn[0]])),pn.symbol=mapVisual(pn.symbol,function(mn){return mn==="none"?hn:mn});var gn=pn.symbolSize;if(gn!=null){var vn=-1/0;eachVisual(gn,function(mn){mn>vn&&(vn=mn)}),pn.symbolSize=mapVisual(gn,function(mn){return linearMap$1(mn,[0,vn],[0,fn[0]],!0)})}},this)}},Gr.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},Gr.prototype.isCategory=function(){return!!this.option.categories},Gr.prototype.setSelected=function(Yr){},Gr.prototype.getSelected=function(){return null},Gr.prototype.getValueState=function(Yr){return null},Gr.prototype.getVisualMeta=function(Yr){return null},Gr.type="visualMap",Gr.dependencies=["series"],Gr.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},Gr}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.optionUpdated=function(Yr,Zr){Wr.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(Kr){Kr.mappingMethod="linear",Kr.dataExtent=this.getExtent()}),this._resetRange()},Gr.prototype.resetItemSize=function(){Wr.prototype.resetItemSize.apply(this,arguments);var Yr=this.itemSize;(Yr[0]==null||isNaN(Yr[0]))&&(Yr[0]=DEFAULT_BAR_BOUND[0]),(Yr[1]==null||isNaN(Yr[1]))&&(Yr[1]=DEFAULT_BAR_BOUND[1])},Gr.prototype._resetRange=function(){var Yr=this.getExtent(),Zr=this.option.range;!Zr||Zr.auto?(Yr.auto=1,this.option.range=Yr):isArray$1(Zr)&&(Zr[0]>Zr[1]&&Zr.reverse(),Zr[0]=Math.max(Zr[0],Yr[0]),Zr[1]=Math.min(Zr[1],Yr[1]))},Gr.prototype.completeVisualOption=function(){Wr.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(Yr){var Zr=this.option.controller[Yr].symbolSize;Zr&&Zr[0]!==Zr[1]&&(Zr[0]=Zr[1]/3)},this)},Gr.prototype.setSelected=function(Yr){this.option.range=Yr.slice(),this._resetRange()},Gr.prototype.getSelected=function(){var Yr=this.getExtent(),Zr=asc$2((this.get("range")||[]).slice());return Zr[0]>Yr[1]&&(Zr[0]=Yr[1]),Zr[1]>Yr[1]&&(Zr[1]=Yr[1]),Zr[0]<Yr[0]&&(Zr[0]=Yr[0]),Zr[1]<Yr[0]&&(Zr[1]=Yr[0]),Zr},Gr.prototype.getValueState=function(Yr){var Zr=this.option.range,Kr=this.getExtent();return(Zr[0]<=Kr[0]||Zr[0]<=Yr)&&(Zr[1]>=Kr[1]||Yr<=Zr[1])?"inRange":"outOfRange"},Gr.prototype.findTargetDataIndices=function(Yr){var Zr=[];return this.eachTargetSeries(function(Kr){var Qr=[],Jr=Kr.getData();Jr.each(this.getDataDimensionIndex(Jr),function(en,tn){Yr[0]<=en&&en<=Yr[1]&&Qr.push(tn)},this),Zr.push({seriesId:Kr.id,dataIndex:Qr})},this),Zr},Gr.prototype.getVisualMeta=function(Yr){var Zr=getColorStopValues(this,"outOfRange",this.getExtent()),Kr=getColorStopValues(this,"inRange",this.option.range.slice()),Qr=[];function Jr(ln,un){Qr.push({value:ln,color:Yr(ln,un)})}for(var en=0,tn=0,rn=Kr.length,an=Zr.length;tn<an&&(!Kr.length||Zr[tn]<=Kr[0]);tn++)Zr[tn]<Kr[en]&&Jr(Zr[tn],"outOfRange");for(var nn=1;en<rn;en++,nn=0)nn&&Qr.length&&Jr(Kr[en],"outOfRange"),Jr(Kr[en],"inRange");for(var nn=1;tn<an;tn++)(!Kr.length||Kr[Kr.length-1]<Zr[tn])&&(nn&&(Qr.length&&Jr(Qr[Qr.length-1].value,"outOfRange"),nn=0),Jr(Zr[tn],"outOfRange"));var sn=Qr.length;return{stops:Qr,outerColors:[sn?Qr[0].color:"transparent",sn?Qr[sn-1].color:"transparent"]}},Gr.type="visualMap.continuous",Gr.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),Gr}(VisualMapModel);function getColorStopValues(Wr,Gr,Yr){if(Yr[0]===Yr[1])return Yr.slice();for(var Zr=200,Kr=(Yr[1]-Yr[0])/Zr,Qr=Yr[0],Jr=[],en=0;en<=Zr&&Qr<Yr[1];en++)Jr.push(Qr),Qr+=Kr;return Jr.push(Yr[1]),Jr}var VisualMapView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr.autoPositionValues={left:1,right:1,top:1,bottom:1},Yr}return Gr.prototype.init=function(Yr,Zr){this.ecModel=Yr,this.api=Zr},Gr.prototype.render=function(Yr,Zr,Kr,Qr){if(this.visualMapModel=Yr,Yr.get("show")===!1){this.group.removeAll();return}this.doRender(Yr,Zr,Kr,Qr)},Gr.prototype.renderBackground=function(Yr){var Zr=this.visualMapModel,Kr=normalizeCssArray(Zr.get("padding")||0),Qr=Yr.getBoundingRect();Yr.add(new Rect$2({z2:-1,silent:!0,shape:{x:Qr.x-Kr[3],y:Qr.y-Kr[0],width:Qr.width+Kr[3]+Kr[1],height:Qr.height+Kr[0]+Kr[2]},style:{fill:Zr.get("backgroundColor"),stroke:Zr.get("borderColor"),lineWidth:Zr.get("borderWidth")}}))},Gr.prototype.getControllerVisual=function(Yr,Zr,Kr){Kr=Kr||{};var Qr=Kr.forceState,Jr=this.visualMapModel,en={};if(Zr==="color"){var tn=Jr.get("contentColor");en.color=tn}function rn(ln){return en[ln]}function an(ln,un){en[ln]=un}var nn=Jr.controllerVisuals[Qr||Jr.getValueState(Yr)],sn=VisualMapping.prepareVisualTypes(nn);return each$f(sn,function(ln){var un=nn[ln];Kr.convertOpacityToAlpha&&ln==="opacity"&&(ln="colorAlpha",un=nn.__alphaForOpacity),VisualMapping.dependsOn(ln,Zr)&&un&&un.applyVisual(Yr,rn,an)}),en[Zr]},Gr.prototype.positionGroup=function(Yr){var Zr=this.visualMapModel,Kr=this.api;positionElement(Yr,Zr.getBoxLayoutParams(),{width:Kr.getWidth(),height:Kr.getHeight()})},Gr.prototype.doRender=function(Yr,Zr,Kr,Qr){},Gr.type="visualMap",Gr}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(Wr,Gr,Yr){var Zr=Wr.option,Kr=Zr.align;if(Kr!=null&&Kr!=="auto")return Kr;for(var Qr={width:Gr.getWidth(),height:Gr.getHeight()},Jr=Zr.orient==="horizontal"?1:0,en=paramsSet[Jr],tn=[0,null,10],rn={},an=0;an<3;an++)rn[paramsSet[1-Jr][an]]=tn[an],rn[en[an]]=an===2?Yr[0]:Zr[en[an]];var nn=[["x","width",3],["y","height",0]][Jr],sn=getLayoutRect(rn,Qr,Zr.padding);return en[(sn.margin[nn[2]]||0)+sn[nn[0]]+sn[nn[1]]*.5<Qr[nn[1]]*.5?0:1]}function makeHighDownBatch(Wr,Gr){return each$f(Wr||[],function(Yr){Yr.dataIndex!=null&&(Yr.dataIndexInside=Yr.dataIndex,Yr.dataIndex=null),Yr.highlightKey="visualMap"+(Gr?Gr.componentIndex:"")}),Wr}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._shapes={},Yr._dataInterval=[],Yr._handleEnds=[],Yr._hoverLinkDataIndices=[],Yr}return Gr.prototype.init=function(Yr,Zr){Wr.prototype.init.call(this,Yr,Zr),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},Gr.prototype.doRender=function(Yr,Zr,Kr,Qr){(!Qr||Qr.type!=="selectDataRange"||Qr.from!==this.uid)&&this._buildView()},Gr.prototype._buildView=function(){this.group.removeAll();var Yr=this.visualMapModel,Zr=this.group;this._orient=Yr.get("orient"),this._useHandle=Yr.get("calculable"),this._resetInterval(),this._renderBar(Zr);var Kr=Yr.get("text");this._renderEndsText(Zr,Kr,0),this._renderEndsText(Zr,Kr,1),this._updateView(!0),this.renderBackground(Zr),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(Zr)},Gr.prototype._renderEndsText=function(Yr,Zr,Kr){if(Zr){var Qr=Zr[1-Kr];Qr=Qr!=null?Qr+"":"";var Jr=this.visualMapModel,en=Jr.get("textGap"),tn=Jr.itemSize,rn=this._shapes.mainGroup,an=this._applyTransform([tn[0]/2,Kr===0?-en:tn[1]+en],rn),nn=this._applyTransform(Kr===0?"bottom":"top",rn),sn=this._orient,ln=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle(ln,{x:an[0],y:an[1],verticalAlign:sn==="horizontal"?"middle":nn,align:sn==="horizontal"?nn:"center",text:Qr})}))}},Gr.prototype._renderBar=function(Yr){var Zr=this.visualMapModel,Kr=this._shapes,Qr=Zr.itemSize,Jr=this._orient,en=this._useHandle,tn=getItemAlign(Zr,this.api,Qr),rn=Kr.mainGroup=this._createBarGroup(tn),an=new Group$3;rn.add(an),an.add(Kr.outOfRange=createPolygon()),an.add(Kr.inRange=createPolygon(null,en?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),an.setClipPath(new Rect$2({shape:{x:0,y:0,width:Qr[0],height:Qr[1],r:3}}));var nn=Zr.textStyleModel.getTextRect("国"),sn=mathMax(nn.width,nn.height);en&&(Kr.handleThumbs=[],Kr.handleLabels=[],Kr.handleLabelPoints=[],this._createHandle(Zr,rn,0,Qr,sn,Jr),this._createHandle(Zr,rn,1,Qr,sn,Jr)),this._createIndicator(Zr,rn,Qr,sn,Jr),Yr.add(rn)},Gr.prototype._createHandle=function(Yr,Zr,Kr,Qr,Jr,en){var tn=bind$1(this._dragHandle,this,Kr,!1),rn=bind$1(this._dragHandle,this,Kr,!0),an=parsePercent$1(Yr.get("handleSize"),Qr[0]),nn=createSymbol$1(Yr.get("handleIcon"),-an/2,-an/2,an,an,null,!0),sn=getCursor(this._orient);nn.attr({cursor:sn,draggable:!0,drift:tn,ondragend:rn,onmousemove:function(dn){stop(dn.event)}}),nn.x=Qr[0]/2,nn.useStyle(Yr.getModel("handleStyle").getItemStyle()),nn.setStyle({strokeNoScale:!0,strokeFirst:!0}),nn.style.lineWidth*=2,nn.ensureState("emphasis").style=Yr.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(nn,!0),Zr.add(nn);var ln=this.visualMapModel.textStyleModel,un=new ZRText({cursor:sn,draggable:!0,drift:tn,onmousemove:function(dn){stop(dn.event)},ondragend:rn,style:createTextStyle(ln,{x:0,y:0,text:""})});un.ensureState("blur").style={opacity:.1},un.stateTransition={duration:200},this.group.add(un);var cn=[an,0],hn=this._shapes;hn.handleThumbs[Kr]=nn,hn.handleLabelPoints[Kr]=cn,hn.handleLabels[Kr]=un},Gr.prototype._createIndicator=function(Yr,Zr,Kr,Qr,Jr){var en=parsePercent$1(Yr.get("indicatorSize"),Kr[0]),tn=createSymbol$1(Yr.get("indicatorIcon"),-en/2,-en/2,en,en,null,!0);tn.attr({cursor:"move",invisible:!0,silent:!0,x:Kr[0]/2});var rn=Yr.getModel("indicatorStyle").getItemStyle();if(tn instanceof ZRImage){var an=tn.style;tn.useStyle(extend({image:an.image,x:an.x,y:an.y,width:an.width,height:an.height},rn))}else tn.useStyle(rn);Zr.add(tn);var nn=this.visualMapModel.textStyleModel,sn=new ZRText({silent:!0,invisible:!0,style:createTextStyle(nn,{x:0,y:0,text:""})});this.group.add(sn);var ln=[(Jr==="horizontal"?Qr/2:HOVER_LINK_OUT)+Kr[0]/2,0],un=this._shapes;un.indicator=tn,un.indicatorLabel=sn,un.indicatorLabelPoint=ln,this._firstShowIndicator=!0},Gr.prototype._dragHandle=function(Yr,Zr,Kr,Qr){if(this._useHandle){if(this._dragging=!Zr,!Zr){var Jr=this._applyTransform([Kr,Qr],this._shapes.mainGroup,!0);this._updateInterval(Yr,Jr[1]),this._hideIndicator(),this._updateView()}Zr===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),Zr?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[Yr],!1)}},Gr.prototype._resetInterval=function(){var Yr=this.visualMapModel,Zr=this._dataInterval=Yr.getSelected(),Kr=Yr.getExtent(),Qr=[0,Yr.itemSize[1]];this._handleEnds=[linearMap(Zr[0],Kr,Qr,!0),linearMap(Zr[1],Kr,Qr,!0)]},Gr.prototype._updateInterval=function(Yr,Zr){Zr=Zr||0;var Kr=this.visualMapModel,Qr=this._handleEnds,Jr=[0,Kr.itemSize[1]];sliderMove(Zr,Qr,Jr,Yr,0);var en=Kr.getExtent();this._dataInterval=[linearMap(Qr[0],Jr,en,!0),linearMap(Qr[1],Jr,en,!0)]},Gr.prototype._updateView=function(Yr){var Zr=this.visualMapModel,Kr=Zr.getExtent(),Qr=this._shapes,Jr=[0,Zr.itemSize[1]],en=Yr?Jr:this._handleEnds,tn=this._createBarVisual(this._dataInterval,Kr,en,"inRange"),rn=this._createBarVisual(Kr,Kr,Jr,"outOfRange");Qr.inRange.setStyle({fill:tn.barColor}).setShape("points",tn.barPoints),Qr.outOfRange.setStyle({fill:rn.barColor}).setShape("points",rn.barPoints),this._updateHandle(en,tn)},Gr.prototype._createBarVisual=function(Yr,Zr,Kr,Qr){var Jr={forceState:Qr,convertOpacityToAlpha:!0},en=this._makeColorGradient(Yr,Jr),tn=[this.getControllerVisual(Yr[0],"symbolSize",Jr),this.getControllerVisual(Yr[1],"symbolSize",Jr)],rn=this._createBarPoints(Kr,tn);return{barColor:new LinearGradient(0,0,0,1,en),barPoints:rn,handlesColor:[en[0].color,en[en.length-1].color]}},Gr.prototype._makeColorGradient=function(Yr,Zr){var Kr=100,Qr=[],Jr=(Yr[1]-Yr[0])/Kr;Qr.push({color:this.getControllerVisual(Yr[0],"color",Zr),offset:0});for(var en=1;en<Kr;en++){var tn=Yr[0]+Jr*en;if(tn>Yr[1])break;Qr.push({color:this.getControllerVisual(tn,"color",Zr),offset:en/Kr})}return Qr.push({color:this.getControllerVisual(Yr[1],"color",Zr),offset:1}),Qr},Gr.prototype._createBarPoints=function(Yr,Zr){var Kr=this.visualMapModel.itemSize;return[[Kr[0]-Zr[0],Yr[0]],[Kr[0],Yr[0]],[Kr[0],Yr[1]],[Kr[0]-Zr[1],Yr[1]]]},Gr.prototype._createBarGroup=function(Yr){var Zr=this._orient,Kr=this.visualMapModel.get("inverse");return new Group$3(Zr==="horizontal"&&!Kr?{scaleX:Yr==="bottom"?1:-1,rotation:Math.PI/2}:Zr==="horizontal"&&Kr?{scaleX:Yr==="bottom"?-1:1,rotation:-Math.PI/2}:Zr==="vertical"&&!Kr?{scaleX:Yr==="left"?1:-1,scaleY:-1}:{scaleX:Yr==="left"?1:-1})},Gr.prototype._updateHandle=function(Yr,Zr){if(this._useHandle){var Kr=this._shapes,Qr=this.visualMapModel,Jr=Kr.handleThumbs,en=Kr.handleLabels,tn=Qr.itemSize,rn=Qr.getExtent(),an=this._applyTransform("left",Kr.mainGroup);each$1([0,1],function(nn){var sn=Jr[nn];sn.setStyle("fill",Zr.handlesColor[nn]),sn.y=Yr[nn];var ln=linearMap(Yr[nn],[0,tn[1]],rn,!0),un=this.getControllerVisual(ln,"symbolSize");sn.scaleX=sn.scaleY=un/tn[0],sn.x=tn[0]-un/2;var cn=applyTransform(Kr.handleLabelPoints[nn],getTransform$1(sn,this.group));if(this._orient==="horizontal"){var hn=an==="left"||an==="top"?(tn[0]-un)/2:(tn[0]-un)/-2;cn[1]+=hn}en[nn].setStyle({x:cn[0],y:cn[1],text:Qr.formatValueText(this._dataInterval[nn]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",Kr.mainGroup):"center"})},this)}},Gr.prototype._showIndicator=function(Yr,Zr,Kr,Qr){var Jr=this.visualMapModel,en=Jr.getExtent(),tn=Jr.itemSize,rn=[0,tn[1]],an=this._shapes,nn=an.indicator;if(nn){nn.attr("invisible",!1);var sn={convertOpacityToAlpha:!0},ln=this.getControllerVisual(Yr,"color",sn),un=this.getControllerVisual(Yr,"symbolSize"),cn=linearMap(Yr,en,rn,!0),hn=tn[0]-un/2,dn={x:nn.x,y:nn.y};nn.y=cn,nn.x=hn;var fn=applyTransform(an.indicatorLabelPoint,getTransform$1(nn,this.group)),pn=an.indicatorLabel;pn.attr("invisible",!1);var gn=this._applyTransform("left",an.mainGroup),vn=this._orient,mn=vn==="horizontal";pn.setStyle({text:(Kr||"")+Jr.formatValueText(Zr),verticalAlign:mn?gn:"middle",align:mn?"center":gn});var yn={x:hn,y:cn,style:{fill:ln}},xn={style:{x:fn[0],y:fn[1]}};if(Jr.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var bn={duration:100,easing:"cubicInOut",additive:!0};nn.x=dn.x,nn.y=dn.y,nn.animateTo(yn,bn),pn.animateTo(xn,bn)}else nn.attr(yn),pn.attr(xn);this._firstShowIndicator=!1;var Sn=this._shapes.handleLabels;if(Sn)for(var wn=0;wn<Sn.length;wn++)this.api.enterBlur(Sn[wn])}},Gr.prototype._enableHoverLinkToSeries=function(){var Yr=this;this._shapes.mainGroup.on("mousemove",function(Zr){if(Yr._hovering=!0,!Yr._dragging){var Kr=Yr.visualMapModel.itemSize,Qr=Yr._applyTransform([Zr.offsetX,Zr.offsetY],Yr._shapes.mainGroup,!0,!0);Qr[1]=mathMin(mathMax(0,Qr[1]),Kr[1]),Yr._doHoverLinkToSeries(Qr[1],0<=Qr[0]&&Qr[0]<=Kr[0])}}).on("mouseout",function(){Yr._hovering=!1,!Yr._dragging&&Yr._clearHoverLinkToSeries()})},Gr.prototype._enableHoverLinkFromSeries=function(){var Yr=this.api.getZr();this.visualMapModel.option.hoverLink?(Yr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),Yr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},Gr.prototype._doHoverLinkToSeries=function(Yr,Zr){var Kr=this.visualMapModel,Qr=Kr.itemSize;if(Kr.option.hoverLink){var Jr=[0,Qr[1]],en=Kr.getExtent();Yr=mathMin(mathMax(Jr[0],Yr),Jr[1]);var tn=getHalfHoverLinkSize(Kr,en,Jr),rn=[Yr-tn,Yr+tn],an=linearMap(Yr,Jr,en,!0),nn=[linearMap(rn[0],Jr,en,!0),linearMap(rn[1],Jr,en,!0)];rn[0]<Jr[0]&&(nn[0]=-1/0),rn[1]>Jr[1]&&(nn[1]=1/0),Zr&&(nn[0]===-1/0?this._showIndicator(an,nn[1],"< ",tn):nn[1]===1/0?this._showIndicator(an,nn[0],"> ",tn):this._showIndicator(an,an,"≈ ",tn));var sn=this._hoverLinkDataIndices,ln=[];(Zr||useHoverLinkOnHandle(Kr))&&(ln=this._hoverLinkDataIndices=Kr.findTargetDataIndices(nn));var un=compressBatches(sn,ln);this._dispatchHighDown("downplay",makeHighDownBatch(un[0],Kr)),this._dispatchHighDown("highlight",makeHighDownBatch(un[1],Kr))}},Gr.prototype._hoverLinkFromSeriesMouseOver=function(Yr){var Zr;if(findEventDispatcher(Yr.target,function(tn){var rn=getECData(tn);if(rn.dataIndex!=null)return Zr=rn,!0},!0),!!Zr){var Kr=this.ecModel.getSeriesByIndex(Zr.seriesIndex),Qr=this.visualMapModel;if(Qr.isTargetSeries(Kr)){var Jr=Kr.getData(Zr.dataType),en=Jr.getStore().get(Qr.getDataDimensionIndex(Jr),Zr.dataIndex);isNaN(en)||this._showIndicator(en,en)}}},Gr.prototype._hideIndicator=function(){var Yr=this._shapes;Yr.indicator&&Yr.indicator.attr("invisible",!0),Yr.indicatorLabel&&Yr.indicatorLabel.attr("invisible",!0);var Zr=this._shapes.handleLabels;if(Zr)for(var Kr=0;Kr<Zr.length;Kr++)this.api.leaveBlur(Zr[Kr])},Gr.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var Yr=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(Yr,this.visualMapModel)),Yr.length=0},Gr.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var Yr=this.api.getZr();Yr.off("mouseover",this._hoverLinkFromSeriesMouseOver),Yr.off("mouseout",this._hideIndicator)},Gr.prototype._applyTransform=function(Yr,Zr,Kr,Qr){var Jr=getTransform$1(Zr,Qr?null:this.group);return isArray$1(Yr)?applyTransform(Yr,Jr,Kr):transformDirection(Yr,Jr,Kr)},Gr.prototype._dispatchHighDown=function(Yr,Zr){Zr&&Zr.length&&this.api.dispatchAction({type:Yr,batch:Zr})},Gr.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Gr.type="visualMap.continuous",Gr}(VisualMapView);function createPolygon(Wr,Gr,Yr,Zr){return new Polygon({shape:{points:Wr},draggable:!!Yr,cursor:Gr,drift:Yr,onmousemove:function(Kr){stop(Kr.event)},ondragend:Zr})}function getHalfHoverLinkSize(Wr,Gr,Yr){var Zr=HOVER_LINK_SIZE/2,Kr=Wr.get("hoverLinkDataSize");return Kr&&(Zr=linearMap(Kr,Gr,Yr,!0)/2),Zr}function useHoverLinkOnHandle(Wr){var Gr=Wr.get("hoverLinkOnHandle");return!!(Gr??Wr.get("realtime"))}function getCursor(Wr){return Wr==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(Wr,Gr){Gr.eachComponent({mainType:"visualMap",query:Wr},function(Yr){Yr.setSelected(Wr.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(Wr,Gr){var Yr=[];return Gr.eachComponent("visualMap",function(Zr){var Kr=Wr.pipelineContext;!Zr.isTargetSeries(Wr)||Kr&&Kr.large||Yr.push(incrementalApplyVisual(Zr.stateList,Zr.targetVisuals,bind$1(Zr.getValueState,Zr),Zr.getDataDimensionIndex(Wr.getData())))}),Yr}},{createOnAllSeries:!0,reset:function(Wr,Gr){var Yr=Wr.getData(),Zr=[];Gr.eachComponent("visualMap",function(Kr){if(Kr.isTargetSeries(Wr)){var Qr=Kr.getVisualMeta(bind$1(getColorVisual,null,Wr,Kr))||{stops:[],outerColors:[]},Jr=Kr.getDataDimensionIndex(Yr);Jr>=0&&(Qr.dimension=Jr,Zr.push(Qr))}}),Wr.getData().setVisual("visualMeta",Zr)}}];function getColorVisual(Wr,Gr,Yr,Zr){for(var Kr=Gr.targetVisuals[Zr],Qr=VisualMapping.prepareVisualTypes(Kr),Jr={color:getVisualFromData(Wr.getData(),"color")},en=0,tn=Qr.length;en<tn;en++){var rn=Qr[en],an=Kr[rn==="opacity"?"__alphaForOpacity":rn];an&&an.applyVisual(Yr,nn,sn)}return Jr.color;function nn(ln){return Jr[ln]}function sn(ln,un){Jr[ln]=un}}var each=each$f;function visualMapPreprocessor(Wr){var Gr=Wr&&Wr.visualMap;isArray$1(Gr)||(Gr=Gr?[Gr]:[]),each(Gr,function(Yr){if(Yr){has(Yr,"splitList")&&!has(Yr,"pieces")&&(Yr.pieces=Yr.splitList,delete Yr.splitList);var Zr=Yr.pieces;Zr&&isArray$1(Zr)&&each(Zr,function(Kr){isObject$3(Kr)&&(has(Kr,"start")&&!has(Kr,"min")&&(Kr.min=Kr.start),has(Kr,"end")&&!has(Kr,"max")&&(Kr.max=Kr.end))})}})}function has(Wr,Gr){return Wr&&Wr.hasOwnProperty&&Wr.hasOwnProperty(Gr)}var installed=!1;function installCommon(Wr){installed||(installed=!0,Wr.registerSubTypeDefaulter("visualMap",function(Gr){return!Gr.categories&&(!(Gr.pieces?Gr.pieces.length>0:Gr.splitNumber>0)||Gr.calculable)?"continuous":"piecewise"}),Wr.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(Gr){Wr.registerVisual(Wr.PRIORITY.VISUAL.COMPONENT,Gr)}),Wr.registerPreprocessor(visualMapPreprocessor))}function install$5(Wr){Wr.registerComponentModel(ContinuousModel),Wr.registerComponentView(ContinuousView),installCommon(Wr)}var PiecewiseModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr._pieceList=[],Yr}return Gr.prototype.optionUpdated=function(Yr,Zr){Wr.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var Kr=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(Yr,Zr);var Qr=this.option.categories;this.resetVisual(function(Jr,en){Kr==="categories"?(Jr.mappingMethod="category",Jr.categories=clone$4(Qr)):(Jr.dataExtent=this.getExtent(),Jr.mappingMethod="piecewise",Jr.pieceList=map$1(this._pieceList,function(tn){return tn=clone$4(tn),en!=="inRange"&&(tn.visual=null),tn}))})},Gr.prototype.completeVisualOption=function(){var Yr=this.option,Zr={},Kr=VisualMapping.listVisualTypes(),Qr=this.isCategory();each$f(Yr.pieces,function(en){each$f(Kr,function(tn){en.hasOwnProperty(tn)&&(Zr[tn]=1)})}),each$f(Zr,function(en,tn){var rn=!1;each$f(this.stateList,function(an){rn=rn||Jr(Yr,an,tn)||Jr(Yr.target,an,tn)},this),!rn&&each$f(this.stateList,function(an){(Yr[an]||(Yr[an]={}))[tn]=visualDefault.get(tn,an==="inRange"?"active":"inactive",Qr)})},this);function Jr(en,tn,rn){return en&&en[tn]&&en[tn].hasOwnProperty(rn)}Wr.prototype.completeVisualOption.apply(this,arguments)},Gr.prototype._resetSelected=function(Yr,Zr){var Kr=this.option,Qr=this._pieceList,Jr=(Zr?Kr:Yr).selected||{};if(Kr.selected=Jr,each$f(Qr,function(tn,rn){var an=this.getSelectedMapKey(tn);Jr.hasOwnProperty(an)||(Jr[an]=!0)},this),Kr.selectedMode==="single"){var en=!1;each$f(Qr,function(tn,rn){var an=this.getSelectedMapKey(tn);Jr[an]&&(en?Jr[an]=!1:en=!0)},this)}},Gr.prototype.getItemSymbol=function(){return this.get("itemSymbol")},Gr.prototype.getSelectedMapKey=function(Yr){return this._mode==="categories"?Yr.value+"":Yr.index+""},Gr.prototype.getPieceList=function(){return this._pieceList},Gr.prototype._determineMode=function(){var Yr=this.option;return Yr.pieces&&Yr.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},Gr.prototype.setSelected=function(Yr){this.option.selected=clone$4(Yr)},Gr.prototype.getValueState=function(Yr){var Zr=VisualMapping.findPieceIndex(Yr,this._pieceList);return Zr!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[Zr])]?"inRange":"outOfRange"},Gr.prototype.findTargetDataIndices=function(Yr){var Zr=[],Kr=this._pieceList;return this.eachTargetSeries(function(Qr){var Jr=[],en=Qr.getData();en.each(this.getDataDimensionIndex(en),function(tn,rn){var an=VisualMapping.findPieceIndex(tn,Kr);an===Yr&&Jr.push(rn)},this),Zr.push({seriesId:Qr.id,dataIndex:Jr})},this),Zr},Gr.prototype.getRepresentValue=function(Yr){var Zr;if(this.isCategory())Zr=Yr.value;else if(Yr.value!=null)Zr=Yr.value;else{var Kr=Yr.interval||[];Zr=Kr[0]===-1/0&&Kr[1]===1/0?0:(Kr[0]+Kr[1])/2}return Zr},Gr.prototype.getVisualMeta=function(Yr){if(this.isCategory())return;var Zr=[],Kr=["",""],Qr=this;function Jr(an,nn){var sn=Qr.getRepresentValue({interval:an});nn||(nn=Qr.getValueState(sn));var ln=Yr(sn,nn);an[0]===-1/0?Kr[0]=ln:an[1]===1/0?Kr[1]=ln:Zr.push({value:an[0],color:ln},{value:an[1],color:ln})}var en=this._pieceList.slice();if(!en.length)en.push({interval:[-1/0,1/0]});else{var tn=en[0].interval[0];tn!==-1/0&&en.unshift({interval:[-1/0,tn]}),tn=en[en.length-1].interval[1],tn!==1/0&&en.push({interval:[tn,1/0]})}var rn=-1/0;return each$f(en,function(an){var nn=an.interval;nn&&(nn[0]>rn&&Jr([rn,nn[0]],"outOfRange"),Jr(nn.slice()),rn=nn[1])},this),{stops:Zr,outerColors:Kr}},Gr.type="visualMap.piecewise",Gr.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),Gr}(VisualMapModel),resetMethods={splitNumber:function(Wr){var Gr=this.option,Yr=Math.min(Gr.precision,20),Zr=this.getExtent(),Kr=Gr.splitNumber;Kr=Math.max(parseInt(Kr,10),1),Gr.splitNumber=Kr;for(var Qr=(Zr[1]-Zr[0])/Kr;+Qr.toFixed(Yr)!==Qr&&Yr<5;)Yr++;Gr.precision=Yr,Qr=+Qr.toFixed(Yr),Gr.minOpen&&Wr.push({interval:[-1/0,Zr[0]],close:[0,0]});for(var Jr=0,en=Zr[0];Jr<Kr;en+=Qr,Jr++){var tn=Jr===Kr-1?Zr[1]:en+Qr;Wr.push({interval:[en,tn],close:[1,1]})}Gr.maxOpen&&Wr.push({interval:[Zr[1],1/0],close:[0,0]}),reformIntervals(Wr),each$f(Wr,function(rn,an){rn.index=an,rn.text=this.formatValueText(rn.interval)},this)},categories:function(Wr){var Gr=this.option;each$f(Gr.categories,function(Yr){Wr.push({text:this.formatValueText(Yr,!0),value:Yr})},this),normalizeReverse(Gr,Wr)},pieces:function(Wr){var Gr=this.option;each$f(Gr.pieces,function(Yr,Zr){isObject$3(Yr)||(Yr={value:Yr});var Kr={text:"",index:Zr};if(Yr.label!=null&&(Kr.text=Yr.label),Yr.hasOwnProperty("value")){var Qr=Kr.value=Yr.value;Kr.interval=[Qr,Qr],Kr.close=[1,1]}else{for(var Jr=Kr.interval=[],en=Kr.close=[0,0],tn=[1,0,1],rn=[-1/0,1/0],an=[],nn=0;nn<2;nn++){for(var sn=[["gte","gt","min"],["lte","lt","max"]][nn],ln=0;ln<3&&Jr[nn]==null;ln++)Jr[nn]=Yr[sn[ln]],en[nn]=tn[ln],an[nn]=ln===2;Jr[nn]==null&&(Jr[nn]=rn[nn])}an[0]&&Jr[1]===1/0&&(en[0]=0),an[1]&&Jr[0]===-1/0&&(en[1]=0),Jr[0]===Jr[1]&&en[0]&&en[1]&&(Kr.value=Jr[0])}Kr.visual=VisualMapping.retrieveVisuals(Yr),Wr.push(Kr)},this),normalizeReverse(Gr,Wr),reformIntervals(Wr),each$f(Wr,function(Yr){var Zr=Yr.close,Kr=[["<","≤"][Zr[1]],[">","≥"][Zr[0]]];Yr.text=Yr.text||this.formatValueText(Yr.value!=null?Yr.value:Yr.interval,!1,Kr)},this)}};function normalizeReverse(Wr,Gr){var Yr=Wr.inverse;(Wr.orient==="vertical"?!Yr:Yr)&&Gr.reverse()}var PiecewiseVisualMapView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type=Gr.type,Yr}return Gr.prototype.doRender=function(){var Yr=this.group;Yr.removeAll();var Zr=this.visualMapModel,Kr=Zr.get("textGap"),Qr=Zr.textStyleModel,Jr=Qr.getFont(),en=Qr.getTextColor(),tn=this._getItemAlign(),rn=Zr.itemSize,an=this._getViewData(),nn=an.endsText,sn=retrieve(Zr.get("showLabel",!0),!nn),ln=!Zr.get("selectedMode");nn&&this._renderEndsText(Yr,nn[0],rn,sn,tn),each$f(an.viewPieceList,function(un){var cn=un.piece,hn=new Group$3;hn.onclick=bind$1(this._onItemClick,this,cn),this._enableHoverLink(hn,un.indexInModelPieceList);var dn=Zr.getRepresentValue(cn);if(this._createItemSymbol(hn,dn,[0,0,rn[0],rn[1]],ln),sn){var fn=this.visualMapModel.getValueState(dn);hn.add(new ZRText({style:{x:tn==="right"?-Kr:rn[0]+Kr,y:rn[1]/2,text:cn.text,verticalAlign:"middle",align:tn,font:Jr,fill:en,opacity:fn==="outOfRange"?.5:1},silent:ln}))}Yr.add(hn)},this),nn&&this._renderEndsText(Yr,nn[1],rn,sn,tn),box(Zr.get("orient"),Yr,Zr.get("itemGap")),this.renderBackground(Yr),this.positionGroup(Yr)},Gr.prototype._enableHoverLink=function(Yr,Zr){var Kr=this;Yr.on("mouseover",function(){return Qr("highlight")}).on("mouseout",function(){return Qr("downplay")});var Qr=function(Jr){var en=Kr.visualMapModel;en.option.hoverLink&&Kr.api.dispatchAction({type:Jr,batch:makeHighDownBatch(en.findTargetDataIndices(Zr),en)})}},Gr.prototype._getItemAlign=function(){var Yr=this.visualMapModel,Zr=Yr.option;if(Zr.orient==="vertical")return getItemAlign(Yr,this.api,Yr.itemSize);var Kr=Zr.align;return(!Kr||Kr==="auto")&&(Kr="left"),Kr},Gr.prototype._renderEndsText=function(Yr,Zr,Kr,Qr,Jr){if(Zr){var en=new Group$3,tn=this.visualMapModel.textStyleModel;en.add(new ZRText({style:createTextStyle(tn,{x:Qr?Jr==="right"?Kr[0]:0:Kr[0]/2,y:Kr[1]/2,verticalAlign:"middle",align:Qr?Jr:"center",text:Zr})})),Yr.add(en)}},Gr.prototype._getViewData=function(){var Yr=this.visualMapModel,Zr=map$1(Yr.getPieceList(),function(en,tn){return{piece:en,indexInModelPieceList:tn}}),Kr=Yr.get("text"),Qr=Yr.get("orient"),Jr=Yr.get("inverse");return(Qr==="horizontal"?Jr:!Jr)?Zr.reverse():Kr&&(Kr=Kr.slice().reverse()),{viewPieceList:Zr,endsText:Kr}},Gr.prototype._createItemSymbol=function(Yr,Zr,Kr,Qr){var Jr=createSymbol$1(this.getControllerVisual(Zr,"symbol"),Kr[0],Kr[1],Kr[2],Kr[3],this.getControllerVisual(Zr,"color"));Jr.silent=Qr,Yr.add(Jr)},Gr.prototype._onItemClick=function(Yr){var Zr=this.visualMapModel,Kr=Zr.option,Qr=Kr.selectedMode;if(Qr){var Jr=clone$4(Kr.selected),en=Zr.getSelectedMapKey(Yr);Qr==="single"||Qr===!0?(Jr[en]=!0,each$f(Jr,function(tn,rn){Jr[rn]=rn===en})):Jr[en]=!Jr[en],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:Jr})}},Gr.type="visualMap.piecewise",Gr}(VisualMapView);function install$4(Wr){Wr.registerComponentModel(PiecewiseModel),Wr.registerComponentView(PiecewiseVisualMapView),installCommon(Wr)}function install$3(Wr){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(Wr,Gr){var Yr=Wr.getModel("aria");if(!Yr.get("enabled"))return;var Zr=clone$4(DEFAULT_OPTION);merge(Zr.label,Wr.getLocaleModel().get("aria"),!1),merge(Yr.option,Zr,!1),Kr(),Qr();function Kr(){var rn=Yr.getModel("decal"),an=rn.get("show");if(an){var nn=createHashMap();Wr.eachSeries(function(sn){if(!sn.isColorBySeries()){var ln=nn.get(sn.type);ln||(ln={},nn.set(sn.type,ln)),inner(sn).scope=ln}}),Wr.eachRawSeries(function(sn){if(Wr.isSeriesFiltered(sn))return;if(isFunction(sn.enableAriaDecal)){sn.enableAriaDecal();return}var ln=sn.getData();if(sn.isColorBySeries()){var fn=getDecalFromPalette(sn.ecModel,sn.name,decalPaletteScope,Wr.getSeriesCount()),pn=ln.getVisual("decal");ln.setVisual("decal",gn(pn,fn))}else{var un=sn.getRawData(),cn={},hn=inner(sn).scope;ln.each(function(vn){var mn=ln.getRawIndex(vn);cn[mn]=vn});var dn=un.count();un.each(function(vn){var mn=cn[vn],yn=un.getName(vn)||vn+"",xn=getDecalFromPalette(sn.ecModel,yn,hn,dn),bn=ln.getItemVisual(mn,"decal");ln.setItemVisual(mn,"decal",gn(bn,xn))})}function gn(vn,mn){var yn=vn?extend(extend({},mn),vn):mn;return yn.dirty=!0,yn}})}}function Qr(){var rn=Gr.getZr().dom;if(rn){var an=Wr.getLocaleModel().get("aria"),nn=Yr.getModel("label");if(nn.option=defaults(nn.option,an),!!nn.get("enabled")){if(rn.setAttribute("role","img"),nn.get("description")){rn.setAttribute("aria-label",nn.get("description"));return}var sn=Wr.getSeriesCount(),ln=nn.get(["data","maxCount"])||10,un=nn.get(["series","maxCount"])||10,cn=Math.min(sn,un),hn;if(!(sn<1)){var dn=en();if(dn){var fn=nn.get(["general","withTitle"]);hn=Jr(fn,{title:dn})}else hn=nn.get(["general","withoutTitle"]);var pn=[],gn=sn>1?nn.get(["series","multiple","prefix"]):nn.get(["series","single","prefix"]);hn+=Jr(gn,{seriesCount:sn}),Wr.eachSeries(function(xn,bn){if(bn<cn){var Sn=void 0,wn=xn.get("name"),_n=wn?"withName":"withoutName";Sn=sn>1?nn.get(["series","multiple",_n]):nn.get(["series","single",_n]),Sn=Jr(Sn,{seriesId:xn.seriesIndex,seriesName:xn.get("name"),seriesType:tn(xn.subType)});var An=xn.getData();if(An.count()>ln){var Cn=nn.get(["data","partialData"]);Sn+=Jr(Cn,{displayCnt:ln})}else Sn+=nn.get(["data","allData"]);for(var Tn=nn.get(["data","separator","middle"]),Mn=nn.get(["data","separator","end"]),En=nn.get(["data","excludeDimensionId"]),Ln=[],In=0;In<An.count();In++)if(In<ln){var Pn=An.getName(In),Dn=En?filter(An.getValues(In),function(Nn,Rn){return indexOf(En,Rn)===-1}):An.getValues(In),kn=nn.get(["data",Pn?"withName":"withoutName"]);Ln.push(Jr(kn,{name:Pn,value:Dn.join(Tn)}))}Sn+=Ln.join(Tn)+Mn,pn.push(Sn)}});var vn=nn.getModel(["series","multiple","separator"]),mn=vn.get("middle"),yn=vn.get("end");hn+=pn.join(mn)+yn,rn.setAttribute("aria-label",hn)}}}}function Jr(rn,an){if(!isString(rn))return rn;var nn=rn;return each$f(an,function(sn,ln){nn=nn.replace(new RegExp("\\{\\s*"+ln+"\\s*\\}","g"),sn)}),nn}function en(){var rn=Wr.get("title");return rn&&rn.length&&(rn=rn[0]),rn&&rn.text}function tn(rn){var an=Wr.getLocaleModel().get(["series","typeNames"]);return an[rn]||an.chart}}function ariaPreprocessor(Wr){if(!(!Wr||!Wr.aria)){var Gr=Wr.aria;Gr.show!=null&&(Gr.enabled=Gr.show),Gr.label=Gr.label||{},each$f(["description","general","series","data"],function(Yr){Gr[Yr]!=null&&(Gr.label[Yr]=Gr[Yr])})}}function install$2(Wr){Wr.registerPreprocessor(ariaPreprocessor),Wr.registerVisual(Wr.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function Wr(Gr){var Yr=this._condVal=isString(Gr)?new RegExp(Gr):isRegExp(Gr)?Gr:null;if(Yr==null){var Zr="";throwError(Zr)}}return Wr.prototype.evaluate=function(Gr){var Yr=typeof Gr;return isString(Yr)?this._condVal.test(Gr):isNumber(Yr)?this._condVal.test(Gr+""):!1},Wr}(),ConstConditionInternal=function(){function Wr(){}return Wr.prototype.evaluate=function(){return this.value},Wr}(),AndConditionInternal=function(){function Wr(){}return Wr.prototype.evaluate=function(){for(var Gr=this.children,Yr=0;Yr<Gr.length;Yr++)if(!Gr[Yr].evaluate())return!1;return!0},Wr}(),OrConditionInternal=function(){function Wr(){}return Wr.prototype.evaluate=function(){for(var Gr=this.children,Yr=0;Yr<Gr.length;Yr++)if(Gr[Yr].evaluate())return!0;return!1},Wr}(),NotConditionInternal=function(){function Wr(){}return Wr.prototype.evaluate=function(){return!this.child.evaluate()},Wr}(),RelationalConditionInternal=function(){function Wr(){}return Wr.prototype.evaluate=function(){for(var Gr=!!this.valueParser,Yr=this.getValue,Zr=Yr(this.valueGetterParam),Kr=Gr?this.valueParser(Zr):null,Qr=0;Qr<this.subCondList.length;Qr++)if(!this.subCondList[Qr].evaluate(Gr?Kr:Zr))return!1;return!0},Wr}();function parseOption(Wr,Gr){if(Wr===!0||Wr===!1){var Yr=new ConstConditionInternal;return Yr.value=Wr,Yr}var Zr="";return isObjectNotArray(Wr)||throwError(Zr),Wr.and?parseAndOrOption("and",Wr,Gr):Wr.or?parseAndOrOption("or",Wr,Gr):Wr.not?parseNotOption(Wr,Gr):parseRelationalOption(Wr,Gr)}function parseAndOrOption(Wr,Gr,Yr){var Zr=Gr[Wr],Kr="";isArray$1(Zr)||throwError(Kr),Zr.length||throwError(Kr);var Qr=Wr==="and"?new AndConditionInternal:new OrConditionInternal;return Qr.children=map$1(Zr,function(Jr){return parseOption(Jr,Yr)}),Qr.children.length||throwError(Kr),Qr}function parseNotOption(Wr,Gr){var Yr=Wr.not,Zr="";isObjectNotArray(Yr)||throwError(Zr);var Kr=new NotConditionInternal;return Kr.child=parseOption(Yr,Gr),Kr.child||throwError(Zr),Kr}function parseRelationalOption(Wr,Gr){for(var Yr="",Zr=Gr.prepareGetValue(Wr),Kr=[],Qr=keys(Wr),Jr=Wr.parser,en=Jr?getRawValueParser(Jr):null,tn=0;tn<Qr.length;tn++){var rn=Qr[tn];if(!(rn==="parser"||Gr.valueGetterAttrMap.get(rn))){var an=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,rn)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[rn]:rn,nn=Wr[rn],sn=en?en(nn):nn,ln=createFilterComparator(an,sn)||an==="reg"&&new RegExpEvaluator(sn);ln||throwError(Yr),Kr.push(ln)}}Kr.length||throwError(Yr);var un=new RelationalConditionInternal;return un.valueGetterParam=Zr,un.valueParser=en,un.getValue=Gr.getValue,un.subCondList=Kr,un}function isObjectNotArray(Wr){return isObject$3(Wr)&&!isArrayLike(Wr)}var ConditionalExpressionParsed=function(){function Wr(Gr,Yr){this._cond=parseOption(Gr,Yr)}return Wr.prototype.evaluate=function(){return this._cond.evaluate()},Wr}();function parseConditionalExpression(Wr,Gr){return new ConditionalExpressionParsed(Wr,Gr)}var filterTransform={type:"echarts:filter",transform:function(Wr){for(var Gr=Wr.upstream,Yr,Zr=parseConditionalExpression(Wr.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(en){var tn="",rn=en.dimension;hasOwn(en,"dimension")||throwError(tn);var an=Gr.getDimensionInfo(rn);return an||throwError(tn),{dimIdx:an.index}},getValue:function(en){return Gr.retrieveValueFromItem(Yr,en.dimIdx)}}),Kr=[],Qr=0,Jr=Gr.count();Qr<Jr;Qr++)Yr=Gr.getRawDataItem(Qr),Zr.evaluate()&&Kr.push(Yr);return{data:Kr}}},sortTransform={type:"echarts:sort",transform:function(Wr){var Gr=Wr.upstream,Yr=Wr.config,Zr="",Kr=normalizeToArray(Yr);Kr.length||throwError(Zr);var Qr=[];each$f(Kr,function(an){var nn=an.dimension,sn=an.order,ln=an.parser,un=an.incomparable;if(nn==null&&throwError(Zr),sn!=="asc"&&sn!=="desc"&&throwError(Zr),un&&un!=="min"&&un!=="max"){var cn="";throwError(cn)}if(sn!=="asc"&&sn!=="desc"){var hn="";throwError(hn)}var dn=Gr.getDimensionInfo(nn);dn||throwError(Zr);var fn=ln?getRawValueParser(ln):null;ln&&!fn&&throwError(Zr),Qr.push({dimIdx:dn.index,parser:fn,comparator:new SortOrderComparator(sn,un)})});var Jr=Gr.sourceFormat;Jr!==SOURCE_FORMAT_ARRAY_ROWS&&Jr!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(Zr);for(var en=[],tn=0,rn=Gr.count();tn<rn;tn++)en.push(Gr.getRawDataItem(tn));return en.sort(function(an,nn){for(var sn=0;sn<Qr.length;sn++){var ln=Qr[sn],un=Gr.retrieveValueFromItem(an,ln.dimIdx),cn=Gr.retrieveValueFromItem(nn,ln.dimIdx);ln.parser&&(un=ln.parser(un),cn=ln.parser(cn));var hn=ln.comparator.evaluate(un,cn);if(hn!==0)return hn}return 0}),{data:en}}};function install$1(Wr){Wr.registerTransform(filterTransform),Wr.registerTransform(sortTransform)}var DatasetModel=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="dataset",Yr}return Gr.prototype.init=function(Yr,Zr,Kr){Wr.prototype.init.call(this,Yr,Zr,Kr),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},Gr.prototype.mergeOption=function(Yr,Zr){Wr.prototype.mergeOption.call(this,Yr,Zr),disableTransformOptionMerge(this)},Gr.prototype.optionUpdated=function(){this._sourceManager.dirty()},Gr.prototype.getSourceManager=function(){return this._sourceManager},Gr.type="dataset",Gr.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},Gr}(ComponentModel),DatasetView=function(Wr){__extends(Gr,Wr);function Gr(){var Yr=Wr!==null&&Wr.apply(this,arguments)||this;return Yr.type="dataset",Yr}return Gr.type="dataset",Gr}(ComponentView);function install(Wr){Wr.registerComponentModel(DatasetModel),Wr.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(Wr,Gr){return Math.abs(Wr-Gr)<1e-5}function pathToBezierCurves(Wr){var Gr=Wr.data,Yr=Wr.len(),Zr=[],Kr,Qr=0,Jr=0,en=0,tn=0;function rn(An,Cn){Kr&&Kr.length>2&&Zr.push(Kr),Kr=[An,Cn]}function an(An,Cn,Tn,Mn){aroundEqual(An,Tn)&&aroundEqual(Cn,Mn)||Kr.push(An,Cn,Tn,Mn,Tn,Mn)}function nn(An,Cn,Tn,Mn,En,Ln){var In=Math.abs(Cn-An),Pn=Math.tan(In/4)*4/3,Dn=Cn<An?-1:1,kn=Math.cos(An),Nn=Math.sin(An),Rn=Math.cos(Cn),Fn=Math.sin(Cn),Hn=kn*En+Tn,Gn=Nn*Ln+Mn,zn=Rn*En+Tn,On=Fn*Ln+Mn,Bn=En*Pn*Dn,$n=Ln*Pn*Dn;Kr.push(Hn-Bn*Nn,Gn+$n*kn,zn+Bn*Fn,On-$n*Rn,zn,On)}for(var sn,ln,un,cn,hn=0;hn<Yr;){var dn=Gr[hn++],fn=hn===1;switch(fn&&(Qr=Gr[hn],Jr=Gr[hn+1],en=Qr,tn=Jr,(dn===CMD.L||dn===CMD.C||dn===CMD.Q)&&(Kr=[en,tn])),dn){case CMD.M:Qr=en=Gr[hn++],Jr=tn=Gr[hn++],rn(en,tn);break;case CMD.L:sn=Gr[hn++],ln=Gr[hn++],an(Qr,Jr,sn,ln),Qr=sn,Jr=ln;break;case CMD.C:Kr.push(Gr[hn++],Gr[hn++],Gr[hn++],Gr[hn++],Qr=Gr[hn++],Jr=Gr[hn++]);break;case CMD.Q:sn=Gr[hn++],ln=Gr[hn++],un=Gr[hn++],cn=Gr[hn++],Kr.push(Qr+2/3*(sn-Qr),Jr+2/3*(ln-Jr),un+2/3*(sn-un),cn+2/3*(ln-cn),un,cn),Qr=un,Jr=cn;break;case CMD.A:var pn=Gr[hn++],gn=Gr[hn++],vn=Gr[hn++],mn=Gr[hn++],yn=Gr[hn++],xn=Gr[hn++]+yn;hn+=1;var bn=!Gr[hn++];sn=Math.cos(yn)*vn+pn,ln=Math.sin(yn)*mn+gn,fn?(en=sn,tn=ln,rn(en,tn)):an(Qr,Jr,sn,ln),Qr=Math.cos(xn)*vn+pn,Jr=Math.sin(xn)*mn+gn;for(var Sn=(bn?-1:1)*Math.PI/2,wn=yn;bn?wn>xn:wn<xn;wn+=Sn){var _n=bn?Math.max(wn+Sn,xn):Math.min(wn+Sn,xn);nn(wn,_n,pn,gn,vn,mn)}break;case CMD.R:en=Qr=Gr[hn++],tn=Jr=Gr[hn++],sn=en+Gr[hn++],ln=tn+Gr[hn++],rn(sn,tn),an(sn,tn,sn,ln),an(sn,ln,en,ln),an(en,ln,en,tn),an(en,tn,sn,tn);break;case CMD.Z:Kr&&an(Qr,Jr,en,tn),Qr=en,Jr=tn;break}}return Kr&&Kr.length>2&&Zr.push(Kr),Zr}function adpativeBezier(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en,tn,rn){if(aroundEqual(Wr,Yr)&&aroundEqual(Gr,Zr)&&aroundEqual(Kr,Jr)&&aroundEqual(Qr,en)){tn.push(Jr,en);return}var an=2/rn,nn=an*an,sn=Jr-Wr,ln=en-Gr,un=Math.sqrt(sn*sn+ln*ln);sn/=un,ln/=un;var cn=Yr-Wr,hn=Zr-Gr,dn=Kr-Jr,fn=Qr-en,pn=cn*cn+hn*hn,gn=dn*dn+fn*fn;if(pn<nn&&gn<nn){tn.push(Jr,en);return}var vn=sn*cn+ln*hn,mn=-sn*dn-ln*fn,yn=pn-vn*vn,xn=gn-mn*mn;if(yn<nn&&vn>=0&&xn<nn&&mn>=0){tn.push(Jr,en);return}var bn=[],Sn=[];cubicSubdivide(Wr,Yr,Kr,Jr,.5,bn),cubicSubdivide(Gr,Zr,Qr,en,.5,Sn),adpativeBezier(bn[0],Sn[0],bn[1],Sn[1],bn[2],Sn[2],bn[3],Sn[3],tn,rn),adpativeBezier(bn[4],Sn[4],bn[5],Sn[5],bn[6],Sn[6],bn[7],Sn[7],tn,rn)}function pathToPolygons(Wr,Gr){var Yr=pathToBezierCurves(Wr),Zr=[];Gr=Gr||1;for(var Kr=0;Kr<Yr.length;Kr++){var Qr=Yr[Kr],Jr=[],en=Qr[0],tn=Qr[1];Jr.push(en,tn);for(var rn=2;rn<Qr.length;){var an=Qr[rn++],nn=Qr[rn++],sn=Qr[rn++],ln=Qr[rn++],un=Qr[rn++],cn=Qr[rn++];adpativeBezier(en,tn,an,nn,sn,ln,un,cn,Jr,Gr),en=un,tn=cn}Zr.push(Jr)}return Zr}function getDividingGrids(Wr,Gr,Yr){var Zr=Wr[Gr],Kr=Wr[1-Gr],Qr=Math.abs(Zr/Kr),Jr=Math.ceil(Math.sqrt(Qr*Yr)),en=Math.floor(Yr/Jr);en===0&&(en=1,Jr=Yr);for(var tn=[],rn=0;rn<Jr;rn++)tn.push(en);var an=Jr*en,nn=Yr-an;if(nn>0)for(var rn=0;rn<nn;rn++)tn[rn%Jr]+=1;return tn}function divideSector(Wr,Gr,Yr){for(var Zr=Wr.r0,Kr=Wr.r,Qr=Wr.startAngle,Jr=Wr.endAngle,en=Math.abs(Jr-Qr),tn=en*Kr,rn=Kr-Zr,an=tn>Math.abs(rn),nn=getDividingGrids([tn,rn],an?0:1,Gr),sn=(an?en:rn)/nn.length,ln=0;ln<nn.length;ln++)for(var un=(an?rn:en)/nn[ln],cn=0;cn<nn[ln];cn++){var hn={};an?(hn.startAngle=Qr+sn*ln,hn.endAngle=Qr+sn*(ln+1),hn.r0=Zr+un*cn,hn.r=Zr+un*(cn+1)):(hn.startAngle=Qr+un*cn,hn.endAngle=Qr+un*(cn+1),hn.r0=Zr+sn*ln,hn.r=Zr+sn*(ln+1)),hn.clockwise=Wr.clockwise,hn.cx=Wr.cx,hn.cy=Wr.cy,Yr.push(hn)}}function divideRect(Wr,Gr,Yr){for(var Zr=Wr.width,Kr=Wr.height,Qr=Zr>Kr,Jr=getDividingGrids([Zr,Kr],Qr?0:1,Gr),en=Qr?"width":"height",tn=Qr?"height":"width",rn=Qr?"x":"y",an=Qr?"y":"x",nn=Wr[en]/Jr.length,sn=0;sn<Jr.length;sn++)for(var ln=Wr[tn]/Jr[sn],un=0;un<Jr[sn];un++){var cn={};cn[rn]=sn*nn,cn[an]=un*ln,cn[en]=nn,cn[tn]=ln,cn.x+=Wr.x,cn.y+=Wr.y,Yr.push(cn)}}function crossProduct2d(Wr,Gr,Yr,Zr){return Wr*Zr-Yr*Gr}function lineLineIntersect(Wr,Gr,Yr,Zr,Kr,Qr,Jr,en){var tn=Yr-Wr,rn=Zr-Gr,an=Jr-Kr,nn=en-Qr,sn=crossProduct2d(an,nn,tn,rn);if(Math.abs(sn)<1e-6)return null;var ln=Wr-Kr,un=Gr-Qr,cn=crossProduct2d(ln,un,an,nn)/sn;return cn<0||cn>1?null:new Point(cn*tn+Wr,cn*rn+Gr)}function projPtOnLine(Wr,Gr,Yr){var Zr=new Point;Point.sub(Zr,Yr,Gr),Zr.normalize();var Kr=new Point;Point.sub(Kr,Wr,Gr);var Qr=Kr.dot(Zr);return Qr}function addToPoly(Wr,Gr){var Yr=Wr[Wr.length-1];Yr&&Yr[0]===Gr[0]&&Yr[1]===Gr[1]||Wr.push(Gr)}function splitPolygonByLine(Wr,Gr,Yr){for(var Zr=Wr.length,Kr=[],Qr=0;Qr<Zr;Qr++){var Jr=Wr[Qr],en=Wr[(Qr+1)%Zr],tn=lineLineIntersect(Jr[0],Jr[1],en[0],en[1],Gr.x,Gr.y,Yr.x,Yr.y);tn&&Kr.push({projPt:projPtOnLine(tn,Gr,Yr),pt:tn,idx:Qr})}if(Kr.length<2)return[{points:Wr},{points:Wr}];Kr.sort(function(hn,dn){return hn.projPt-dn.projPt});var rn=Kr[0],an=Kr[Kr.length-1];if(an.idx<rn.idx){var nn=rn;rn=an,an=nn}for(var sn=[rn.pt.x,rn.pt.y],ln=[an.pt.x,an.pt.y],un=[sn],cn=[ln],Qr=rn.idx+1;Qr<=an.idx;Qr++)addToPoly(un,Wr[Qr].slice());addToPoly(un,ln),addToPoly(un,sn);for(var Qr=an.idx+1;Qr<=rn.idx+Zr;Qr++)addToPoly(cn,Wr[Qr%Zr].slice());return addToPoly(cn,sn),addToPoly(cn,ln),[{points:un},{points:cn}]}function binaryDividePolygon(Wr){var Gr=Wr.points,Yr=[],Zr=[];fromPoints(Gr,Yr,Zr);var Kr=new BoundingRect(Yr[0],Yr[1],Zr[0]-Yr[0],Zr[1]-Yr[1]),Qr=Kr.width,Jr=Kr.height,en=Kr.x,tn=Kr.y,rn=new Point,an=new Point;return Qr>Jr?(rn.x=an.x=en+Qr/2,rn.y=tn,an.y=tn+Jr):(rn.y=an.y=tn+Jr/2,rn.x=en,an.x=en+Qr),splitPolygonByLine(Gr,rn,an)}function binaryDivideRecursive(Wr,Gr,Yr,Zr){if(Yr===1)Zr.push(Gr);else{var Kr=Math.floor(Yr/2),Qr=Wr(Gr);binaryDivideRecursive(Wr,Qr[0],Kr,Zr),binaryDivideRecursive(Wr,Qr[1],Yr-Kr,Zr)}return Zr}function clone(Wr,Gr){for(var Yr=[],Zr=0;Zr<Gr;Zr++)Yr.push(clonePath(Wr));return Yr}function copyPathProps(Wr,Gr){Gr.setStyle(Wr.style),Gr.z=Wr.z,Gr.z2=Wr.z2,Gr.zlevel=Wr.zlevel}function polygonConvert(Wr){for(var Gr=[],Yr=0;Yr<Wr.length;)Gr.push([Wr[Yr++],Wr[Yr++]]);return Gr}function split(Wr,Gr){var Yr=[],Zr=Wr.shape,Kr;switch(Wr.type){case"rect":divideRect(Zr,Gr,Yr),Kr=Rect$2;break;case"sector":divideSector(Zr,Gr,Yr),Kr=Sector;break;case"circle":divideSector({r0:0,r:Zr.r,startAngle:0,endAngle:Math.PI*2,cx:Zr.cx,cy:Zr.cy},Gr,Yr),Kr=Sector;break;default:var Qr=Wr.getComputedTransform(),Jr=Qr?Math.sqrt(Math.max(Qr[0]*Qr[0]+Qr[1]*Qr[1],Qr[2]*Qr[2]+Qr[3]*Qr[3])):1,en=map$1(pathToPolygons(Wr.getUpdatedPathProxy(),Jr),function(dn){return polygonConvert(dn)}),tn=en.length;if(tn===0)binaryDivideRecursive(binaryDividePolygon,{points:en[0]},Gr,Yr);else if(tn===Gr)for(var rn=0;rn<tn;rn++)Yr.push({points:en[rn]});else{var an=0,nn=map$1(en,function(dn){var fn=[],pn=[];fromPoints(dn,fn,pn);var gn=(pn[1]-fn[1])*(pn[0]-fn[0]);return an+=gn,{poly:dn,area:gn}});nn.sort(function(dn,fn){return fn.area-dn.area});for(var sn=Gr,rn=0;rn<tn;rn++){var ln=nn[rn];if(sn<=0)break;var un=rn===tn-1?sn:Math.ceil(ln.area/an*Gr);un<0||(binaryDivideRecursive(binaryDividePolygon,{points:ln.poly},un,Yr),sn-=un)}}Kr=Polygon;break}if(!Kr)return clone(Wr,Gr);for(var cn=[],rn=0;rn<Yr.length;rn++){var hn=new Kr;hn.setShape(Yr[rn]),copyPathProps(Wr,hn),cn.push(hn)}return cn}function alignSubpath(Wr,Gr){var Yr=Wr.length,Zr=Gr.length;if(Yr===Zr)return[Wr,Gr];for(var Kr=[],Qr=[],Jr=Yr<Zr?Wr:Gr,en=Math.min(Yr,Zr),tn=Math.abs(Zr-Yr)/6,rn=(en-2)/6,an=Math.ceil(tn/rn)+1,nn=[Jr[0],Jr[1]],sn=tn,ln=2;ln<en;){var un=Jr[ln-2],cn=Jr[ln-1],hn=Jr[ln++],dn=Jr[ln++],fn=Jr[ln++],pn=Jr[ln++],gn=Jr[ln++],vn=Jr[ln++];if(sn<=0){nn.push(hn,dn,fn,pn,gn,vn);continue}for(var mn=Math.min(sn,an-1)+1,yn=1;yn<=mn;yn++){var xn=yn/mn;cubicSubdivide(un,hn,fn,gn,xn,Kr),cubicSubdivide(cn,dn,pn,vn,xn,Qr),un=Kr[3],cn=Qr[3],nn.push(Kr[1],Qr[1],Kr[2],Qr[2],un,cn),hn=Kr[5],dn=Qr[5],fn=Kr[6],pn=Qr[6]}sn-=mn-1}return Jr===Wr?[nn,Gr]:[Wr,nn]}function createSubpath(Wr,Gr){for(var Yr=Wr.length,Zr=Wr[Yr-2],Kr=Wr[Yr-1],Qr=[],Jr=0;Jr<Gr.length;)Qr[Jr++]=Zr,Qr[Jr++]=Kr;return Qr}function alignBezierCurves(Wr,Gr){for(var Yr,Zr,Kr,Qr=[],Jr=[],en=0;en<Math.max(Wr.length,Gr.length);en++){var tn=Wr[en],rn=Gr[en],an=void 0,nn=void 0;tn?rn?(Yr=alignSubpath(tn,rn),an=Yr[0],nn=Yr[1],Zr=an,Kr=nn):(nn=createSubpath(Kr||tn,tn),an=tn):(an=createSubpath(Zr||rn,rn),nn=rn),Qr.push(an),Jr.push(nn)}return[Qr,Jr]}function centroid(Wr){for(var Gr=0,Yr=0,Zr=0,Kr=Wr.length,Qr=0,Jr=Kr-2;Qr<Kr;Jr=Qr,Qr+=2){var en=Wr[Jr],tn=Wr[Jr+1],rn=Wr[Qr],an=Wr[Qr+1],nn=en*an-rn*tn;Gr+=nn,Yr+=(en+rn)*nn,Zr+=(tn+an)*nn}return Gr===0?[Wr[0]||0,Wr[1]||0]:[Yr/Gr/3,Zr/Gr/3,Gr]}function findBestRingOffset(Wr,Gr,Yr,Zr){for(var Kr=(Wr.length-2)/6,Qr=1/0,Jr=0,en=Wr.length,tn=en-2,rn=0;rn<Kr;rn++){for(var an=rn*6,nn=0,sn=0;sn<en;sn+=2){var ln=sn===0?an:(an+sn-2)%tn+2,un=Wr[ln]-Yr[0],cn=Wr[ln+1]-Yr[1],hn=Gr[sn]-Zr[0],dn=Gr[sn+1]-Zr[1],fn=hn-un,pn=dn-cn;nn+=fn*fn+pn*pn}nn<Qr&&(Qr=nn,Jr=rn)}return Jr}function reverse(Wr){for(var Gr=[],Yr=Wr.length,Zr=0;Zr<Yr;Zr+=2)Gr[Zr]=Wr[Yr-Zr-2],Gr[Zr+1]=Wr[Yr-Zr-1];return Gr}function findBestMorphingRotation(Wr,Gr,Yr,Zr){for(var Kr=[],Qr,Jr=0;Jr<Wr.length;Jr++){var en=Wr[Jr],tn=Gr[Jr],rn=centroid(en),an=centroid(tn);Qr==null&&(Qr=rn[2]<0!=an[2]<0);var nn=[],sn=[],ln=0,un=1/0,cn=[],hn=en.length;Qr&&(en=reverse(en));for(var dn=findBestRingOffset(en,tn,rn,an)*6,fn=hn-2,pn=0;pn<fn;pn+=2){var gn=(dn+pn)%fn+2;nn[pn+2]=en[gn]-rn[0],nn[pn+3]=en[gn+1]-rn[1]}nn[0]=en[dn]-rn[0],nn[1]=en[dn+1]-rn[1];for(var vn=Zr/Yr,mn=-Zr/2;mn<=Zr/2;mn+=vn){for(var yn=Math.sin(mn),xn=Math.cos(mn),bn=0,pn=0;pn<en.length;pn+=2){var Sn=nn[pn],wn=nn[pn+1],_n=tn[pn]-an[0],An=tn[pn+1]-an[1],Cn=_n*xn-An*yn,Tn=_n*yn+An*xn;cn[pn]=Cn,cn[pn+1]=Tn;var Mn=Cn-Sn,En=Tn-wn;bn+=Mn*Mn+En*En}if(bn<un){un=bn,ln=mn;for(var Ln=0;Ln<cn.length;Ln++)sn[Ln]=cn[Ln]}}Kr.push({from:nn,to:sn,fromCp:rn,toCp:an,rotation:-ln})}return Kr}function isCombineMorphing(Wr){return Wr.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(Wr,Gr,Yr){var Zr=SAVED_METHOD_PREFIX+Gr,Kr=Wr[Zr]||Wr[Gr];Wr[Zr]||(Wr[Zr]=Wr[Gr]);var Qr=Yr.replace,Jr=Yr.after,en=Yr.before;Wr[Gr]=function(){var tn=arguments,rn;return en&&en.apply(this,tn),Qr?rn=Qr.apply(this,tn):rn=Kr.apply(this,tn),Jr&&Jr.apply(this,tn),rn}}function restoreMethod(Wr,Gr){var Yr=SAVED_METHOD_PREFIX+Gr;Wr[Yr]&&(Wr[Gr]=Wr[Yr],Wr[Yr]=null)}function applyTransformOnBeziers(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++)for(var Zr=Wr[Yr],Kr=0;Kr<Zr.length;){var Qr=Zr[Kr],Jr=Zr[Kr+1];Zr[Kr++]=Gr[0]*Qr+Gr[2]*Jr+Gr[4],Zr[Kr++]=Gr[1]*Qr+Gr[3]*Jr+Gr[5]}}function prepareMorphPath(Wr,Gr){var Yr=Wr.getUpdatedPathProxy(),Zr=Gr.getUpdatedPathProxy(),Kr=alignBezierCurves(pathToBezierCurves(Yr),pathToBezierCurves(Zr)),Qr=Kr[0],Jr=Kr[1],en=Wr.getComputedTransform(),tn=Gr.getComputedTransform();function rn(){this.transform=null}en&&applyTransformOnBeziers(Qr,en),tn&&applyTransformOnBeziers(Jr,tn),saveAndModifyMethod(Gr,"updateTransform",{replace:rn}),Gr.transform=null;var an=findBestMorphingRotation(Qr,Jr,10,Math.PI),nn=[];saveAndModifyMethod(Gr,"buildPath",{replace:function(sn){for(var ln=Gr.__morphT,un=1-ln,cn=[],hn=0;hn<an.length;hn++){var dn=an[hn],fn=dn.from,pn=dn.to,gn=dn.rotation*ln,vn=dn.fromCp,mn=dn.toCp,yn=Math.sin(gn),xn=Math.cos(gn);lerp$1(cn,vn,mn,ln);for(var bn=0;bn<fn.length;bn+=2){var Sn=fn[bn],wn=fn[bn+1],_n=pn[bn],An=pn[bn+1],Cn=Sn*un+_n*ln,Tn=wn*un+An*ln;nn[bn]=Cn*xn-Tn*yn+cn[0],nn[bn+1]=Cn*yn+Tn*xn+cn[1]}var Mn=nn[0],En=nn[1];sn.moveTo(Mn,En);for(var bn=2;bn<fn.length;){var _n=nn[bn++],An=nn[bn++],Ln=nn[bn++],In=nn[bn++],Pn=nn[bn++],Dn=nn[bn++];Mn===_n&&En===An&&Ln===Pn&&In===Dn?sn.lineTo(Pn,Dn):sn.bezierCurveTo(_n,An,Ln,In,Pn,Dn),Mn=Pn,En=Dn}}}})}function morphPath(Wr,Gr,Yr){if(!Wr||!Gr)return Gr;var Zr=Yr.done,Kr=Yr.during;prepareMorphPath(Wr,Gr),Gr.__morphT=0;function Qr(){restoreMethod(Gr,"buildPath"),restoreMethod(Gr,"updateTransform"),Gr.__morphT=-1,Gr.createPathProxy(),Gr.dirtyShape()}return Gr.animateTo({__morphT:1},defaults({during:function(Jr){Gr.dirtyShape(),Kr&&Kr(Jr)},done:function(){Qr(),Zr&&Zr()}},Yr)),Gr}function hilbert(Wr,Gr,Yr,Zr,Kr,Qr){var Jr=16;Wr=Kr===Yr?0:Math.round(32767*(Wr-Yr)/(Kr-Yr)),Gr=Qr===Zr?0:Math.round(32767*(Gr-Zr)/(Qr-Zr));for(var en=0,tn,rn=(1<<Jr)/2;rn>0;rn/=2){var an=0,nn=0;(Wr&rn)>0&&(an=1),(Gr&rn)>0&&(nn=1),en+=rn*rn*(3*an^nn),nn===0&&(an===1&&(Wr=rn-1-Wr,Gr=rn-1-Gr),tn=Wr,Wr=Gr,Gr=tn)}return en}function sortPaths(Wr){var Gr=1/0,Yr=1/0,Zr=-1/0,Kr=-1/0,Qr=map$1(Wr,function(en){var tn=en.getBoundingRect(),rn=en.getComputedTransform(),an=tn.x+tn.width/2+(rn?rn[4]:0),nn=tn.y+tn.height/2+(rn?rn[5]:0);return Gr=Math.min(an,Gr),Yr=Math.min(nn,Yr),Zr=Math.max(an,Zr),Kr=Math.max(nn,Kr),[an,nn]}),Jr=map$1(Qr,function(en,tn){return{cp:en,z:hilbert(en[0],en[1],Gr,Yr,Zr,Kr),path:Wr[tn]}});return Jr.sort(function(en,tn){return en.z-tn.z}).map(function(en){return en.path})}function defaultDividePath(Wr){return split(Wr.path,Wr.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(Wr,Gr,Yr){var Zr=[];function Kr(vn){for(var mn=0;mn<vn.length;mn++){var yn=vn[mn];isCombineMorphing(yn)?Kr(yn.childrenRef()):yn instanceof Path&&Zr.push(yn)}}Kr(Wr);var Qr=Zr.length;if(!Qr)return createEmptyReturn();var Jr=Yr.dividePath||defaultDividePath,en=Jr({path:Gr,count:Qr});if(en.length!==Qr)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();Zr=sortPaths(Zr),en=sortPaths(en);for(var tn=Yr.done,rn=Yr.during,an=Yr.individualDelay,nn=new Transformable,sn=0;sn<Qr;sn++){var ln=Zr[sn],un=en[sn];un.parent=Gr,un.copyTransform(nn),an||prepareMorphPath(ln,un)}Gr.__isCombineMorphing=!0,Gr.childrenRef=function(){return en};function cn(vn){for(var mn=0;mn<en.length;mn++)en[mn].addSelfToZr(vn)}saveAndModifyMethod(Gr,"addSelfToZr",{after:function(vn){cn(vn)}}),saveAndModifyMethod(Gr,"removeSelfFromZr",{after:function(vn){for(var mn=0;mn<en.length;mn++)en[mn].removeSelfFromZr(vn)}});function hn(){Gr.__isCombineMorphing=!1,Gr.__morphT=-1,Gr.childrenRef=null,restoreMethod(Gr,"addSelfToZr"),restoreMethod(Gr,"removeSelfFromZr")}var dn=en.length;if(an)for(var fn=dn,pn=function(){fn--,fn===0&&(hn(),tn&&tn())},sn=0;sn<dn;sn++){var gn=an?defaults({delay:(Yr.delay||0)+an(sn,dn,Zr[sn],en[sn]),done:pn},Yr):Yr;morphPath(Zr[sn],en[sn],gn)}else Gr.__morphT=0,Gr.animateTo({__morphT:1},defaults({during:function(vn){for(var mn=0;mn<dn;mn++){var yn=en[mn];yn.__morphT=Gr.__morphT,yn.dirtyShape()}rn&&rn(vn)},done:function(){hn();for(var vn=0;vn<Wr.length;vn++)restoreMethod(Wr[vn],"updateTransform");tn&&tn()}},Yr));return Gr.__zr&&cn(Gr.__zr),{fromIndividuals:Zr,toIndividuals:en,count:dn}}function separateMorph(Wr,Gr,Yr){var Zr=Gr.length,Kr=[],Qr=Yr.dividePath||defaultDividePath;function Jr(ln){for(var un=0;un<ln.length;un++){var cn=ln[un];isCombineMorphing(cn)?Jr(cn.childrenRef()):cn instanceof Path&&Kr.push(cn)}}if(isCombineMorphing(Wr)){Jr(Wr.childrenRef());var en=Kr.length;if(en<Zr)for(var tn=0,rn=en;rn<Zr;rn++)Kr.push(clonePath(Kr[tn++%en]));Kr.length=Zr}else{Kr=Qr({path:Wr,count:Zr});for(var an=Wr.getComputedTransform(),rn=0;rn<Kr.length;rn++)Kr[rn].setLocalTransform(an);if(Kr.length!==Zr)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}Kr=sortPaths(Kr),Gr=sortPaths(Gr);for(var nn=Yr.individualDelay,rn=0;rn<Zr;rn++){var sn=nn?defaults({delay:(Yr.delay||0)+nn(rn,Zr,Kr[rn],Gr[rn])},Yr):Yr;morphPath(Kr[rn],Gr[rn],sn)}return{fromIndividuals:Kr,toIndividuals:Gr,count:Gr.length}}function isMultiple(Wr){return isArray$1(Wr[0])}function prepareMorphBatches(Wr,Gr){for(var Yr=[],Zr=Wr.length,Kr=0;Kr<Zr;Kr++)Yr.push({one:Wr[Kr],many:[]});for(var Kr=0;Kr<Gr.length;Kr++){var Qr=Gr[Kr].length,Jr=void 0;for(Jr=0;Jr<Qr;Jr++)Yr[Jr%Zr].many.push(Gr[Kr][Jr])}for(var en=0,Kr=Zr-1;Kr>=0;Kr--)if(!Yr[Kr].many.length){var tn=Yr[en].many;if(tn.length<=1)if(en)en=0;else return Yr;var Qr=tn.length,rn=Math.ceil(Qr/2);Yr[Kr].many=tn.slice(rn,Qr),Yr[en].many=tn.slice(0,rn),en++}return Yr}var pathDividers={clone:function(Wr){for(var Gr=[],Yr=1-Math.pow(1-Wr.path.style.opacity,1/Wr.count),Zr=0;Zr<Wr.count;Zr++){var Kr=clonePath(Wr.path);Kr.setStyle("opacity",Yr),Gr.push(Kr)}return Gr},split:null};function applyMorphAnimation(Wr,Gr,Yr,Zr,Kr,Qr){if(!Wr.length||!Gr.length)return;var Jr=getAnimationConfig("update",Zr,Kr);if(!(Jr&&Jr.duration>0))return;var en=Zr.getModel("universalTransition").get("delay"),tn=Object.assign({setToFinal:!0},Jr),rn,an;isMultiple(Wr)&&(rn=Wr,an=Gr),isMultiple(Gr)&&(rn=Gr,an=Wr);function nn(dn,fn,pn,gn,vn){var mn=dn.many,yn=dn.one;if(mn.length===1&&!vn){var xn=fn?mn[0]:yn,bn=fn?yn:mn[0];if(isCombineMorphing(xn))nn({many:[xn],one:bn},!0,pn,gn,!0);else{var Sn=en?defaults({delay:en(pn,gn)},tn):tn;morphPath(xn,bn,Sn),Qr(xn,bn,xn,bn,Sn)}}else for(var wn=defaults({dividePath:pathDividers[Yr],individualDelay:en&&function(En,Ln,In,Pn){return en(En+pn,gn)}},tn),_n=fn?combineMorph(mn,yn,wn):separateMorph(yn,mn,wn),An=_n.fromIndividuals,Cn=_n.toIndividuals,Tn=An.length,Mn=0;Mn<Tn;Mn++){var Sn=en?defaults({delay:en(Mn,Tn)},tn):tn;Qr(An[Mn],Cn[Mn],fn?mn[Mn]:dn.one,fn?dn.one:mn[Mn],Sn)}}for(var sn=rn?rn===Wr:Wr.length>Gr.length,ln=rn?prepareMorphBatches(an,rn):prepareMorphBatches(sn?Gr:Wr,[sn?Wr:Gr]),un=0,cn=0;cn<ln.length;cn++)un+=ln[cn].many.length;for(var hn=0,cn=0;cn<ln.length;cn++)nn(ln[cn],sn,hn,un),hn+=ln[cn].many.length}function getPathList(Wr){if(!Wr)return[];if(isArray$1(Wr)){for(var Gr=[],Yr=0;Yr<Wr.length;Yr++)Gr.push(getPathList(Wr[Yr]));return Gr}var Zr=[];return Wr.traverse(function(Kr){Kr instanceof Path&&!Kr.disableMorphing&&!Kr.invisible&&!Kr.ignore&&Zr.push(Kr)}),Zr}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(Wr,Gr){for(var Yr=Wr.dimensions,Zr=0;Zr<Yr.length;Zr++){var Kr=Wr.getDimensionInfo(Yr[Zr]);if(Kr&&Kr.otherDims[Gr]===0)return Yr[Zr]}}function getValueByDimension(Wr,Gr,Yr){var Zr=Wr.getDimensionInfo(Yr),Kr=Zr&&Zr.ordinalMeta;if(Zr){var Qr=Wr.get(Zr.name,Gr);return Kr&&Kr.categories[Qr]||Qr+""}}function getGroupId(Wr,Gr,Yr,Zr){var Kr=Zr?"itemChildGroupId":"itemGroupId",Qr=getDimension(Wr,Kr);if(Qr){var Jr=getValueByDimension(Wr,Gr,Qr);return Jr}var en=Wr.getRawDataItem(Gr),tn=Zr?"childGroupId":"groupId";if(en&&en[tn])return en[tn]+"";if(!Zr)return Yr||Wr.getId(Gr)}function flattenDataDiffItems(Wr){var Gr=[];return each$f(Wr,function(Yr){var Zr=Yr.data,Kr=Yr.dataGroupId;if(!(Zr.count()>DATA_COUNT_THRESHOLD))for(var Qr=Zr.getIndices(),Jr=0;Jr<Qr.length;Jr++)Gr.push({data:Zr,groupId:getGroupId(Zr,Jr,Kr,!1),childGroupId:getGroupId(Zr,Jr,Kr,!0),divide:Yr.divide,dataIndex:Jr})}),Gr}function fadeInElement(Wr,Gr,Yr){Wr.traverse(function(Zr){Zr instanceof Path&&initProps(Zr,{style:{opacity:0}},Gr,{dataIndex:Yr,isFrom:!0})})}function removeEl(Wr){if(Wr.parent){var Gr=Wr.getComputedTransform();Wr.setLocalTransform(Gr),Wr.parent.remove(Wr)}}function stopAnimation(Wr){Wr.stopAnimation(),Wr.isGroup&&Wr.traverse(function(Gr){Gr.stopAnimation()})}function animateElementStyles(Wr,Gr,Yr){var Zr=getAnimationConfig("update",Yr,Gr);Zr&&Wr.traverse(function(Kr){if(Kr instanceof Displayable){var Qr=getOldStyle(Kr);Qr&&Kr.animateFrom({style:Qr},Zr)}})}function isAllIdSame(Wr,Gr){var Yr=Wr.length;if(Yr!==Gr.length)return!1;for(var Zr=0;Zr<Yr;Zr++){var Kr=Wr[Zr],Qr=Gr[Zr];if(Kr.data.getId(Kr.dataIndex)!==Qr.data.getId(Qr.dataIndex))return!1}return!0}function transitionBetween(Wr,Gr,Yr){var Zr=flattenDataDiffItems(Wr),Kr=flattenDataDiffItems(Gr);function Qr(pn,gn,vn,mn,yn){(vn||pn)&&gn.animateFrom({style:vn&&vn!==pn?extend(extend({},vn.style),pn.style):pn.style},yn)}var Jr=!1,en=TRANSITION_NONE,tn=createHashMap(),rn=createHashMap();Zr.forEach(function(pn){pn.groupId&&tn.set(pn.groupId,!0),pn.childGroupId&&rn.set(pn.childGroupId,!0)});for(var an=0;an<Kr.length;an++){var nn=Kr[an].groupId;if(rn.get(nn)){en=TRANSITION_P2C;break}var sn=Kr[an].childGroupId;if(sn&&tn.get(sn)){en=TRANSITION_C2P;break}}function ln(pn,gn){return function(vn){var mn=vn.data,yn=vn.dataIndex;return gn?mn.getId(yn):pn?en===TRANSITION_P2C?vn.childGroupId:vn.groupId:en===TRANSITION_C2P?vn.childGroupId:vn.groupId}}var un=isAllIdSame(Zr,Kr),cn={};if(!un)for(var an=0;an<Kr.length;an++){var hn=Kr[an],dn=hn.data.getItemGraphicEl(hn.dataIndex);dn&&(cn[dn.id]=!0)}function fn(pn,gn){var vn=Zr[gn],mn=Kr[pn],yn=mn.data.hostModel,xn=vn.data.getItemGraphicEl(vn.dataIndex),bn=mn.data.getItemGraphicEl(mn.dataIndex);if(xn===bn){bn&&animateElementStyles(bn,mn.dataIndex,yn);return}xn&&cn[xn.id]||bn&&(stopAnimation(bn),xn?(stopAnimation(xn),removeEl(xn),Jr=!0,applyMorphAnimation(getPathList(xn),getPathList(bn),mn.divide,yn,pn,Qr)):fadeInElement(bn,yn,pn))}new DataDiffer(Zr,Kr,ln(!0,un),ln(!1,un),null,"multiple").update(fn).updateManyToOne(function(pn,gn){var vn=Kr[pn],mn=vn.data,yn=mn.hostModel,xn=mn.getItemGraphicEl(vn.dataIndex),bn=filter(map$1(gn,function(Sn){return Zr[Sn].data.getItemGraphicEl(Zr[Sn].dataIndex)}),function(Sn){return Sn&&Sn!==xn&&!cn[Sn.id]});xn&&(stopAnimation(xn),bn.length?(each$f(bn,function(Sn){stopAnimation(Sn),removeEl(Sn)}),Jr=!0,applyMorphAnimation(getPathList(bn),getPathList(xn),vn.divide,yn,pn,Qr)):fadeInElement(xn,yn,vn.dataIndex))}).updateOneToMany(function(pn,gn){var vn=Zr[gn],mn=vn.data.getItemGraphicEl(vn.dataIndex);if(!(mn&&cn[mn.id])){var yn=filter(map$1(pn,function(bn){return Kr[bn].data.getItemGraphicEl(Kr[bn].dataIndex)}),function(bn){return bn&&bn!==mn}),xn=Kr[pn[0]].data.hostModel;yn.length&&(each$f(yn,function(bn){return stopAnimation(bn)}),mn?(stopAnimation(mn),removeEl(mn),Jr=!0,applyMorphAnimation(getPathList(mn),getPathList(yn),vn.divide,xn,pn[0],Qr)):each$f(yn,function(bn){return fadeInElement(bn,xn,pn[0])}))}}).updateManyToMany(function(pn,gn){new DataDiffer(gn,pn,function(vn){return Zr[vn].data.getId(Zr[vn].dataIndex)},function(vn){return Kr[vn].data.getId(Kr[vn].dataIndex)}).update(function(vn,mn){fn(pn[vn],gn[mn])}).execute()}).execute(),Jr&&each$f(Gr,function(pn){var gn=pn.data,vn=gn.hostModel,mn=vn&&Yr.getViewOfSeriesModel(vn),yn=getAnimationConfig("update",vn,0);mn&&vn.isAnimationEnabled()&&yn&&yn.duration>0&&mn.group.traverse(function(xn){xn instanceof Path&&!xn.animators.length&&xn.animateFrom({style:{opacity:0}},yn)})})}function getSeriesTransitionKey(Wr){var Gr=Wr.getModel("universalTransition").get("seriesKey");return Gr||Wr.id}function convertArraySeriesKeyToString(Wr){return isArray$1(Wr)?Wr.sort().join(","):Wr}function getDivideShapeFromData(Wr){if(Wr.hostModel)return Wr.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(Wr,Gr){var Yr=createHashMap(),Zr=createHashMap(),Kr=createHashMap();return each$f(Wr.oldSeries,function(Qr,Jr){var en=Wr.oldDataGroupIds[Jr],tn=Wr.oldData[Jr],rn=getSeriesTransitionKey(Qr),an=convertArraySeriesKeyToString(rn);Zr.set(an,{dataGroupId:en,data:tn}),isArray$1(rn)&&each$f(rn,function(nn){Kr.set(nn,{key:an,dataGroupId:en,data:tn})})}),each$f(Gr.updatedSeries,function(Qr){if(Qr.isUniversalTransitionEnabled()&&Qr.isAnimationEnabled()){var Jr=Qr.get("dataGroupId"),en=Qr.getData(),tn=getSeriesTransitionKey(Qr),rn=convertArraySeriesKeyToString(tn),an=Zr.get(rn);if(an)Yr.set(rn,{oldSeries:[{dataGroupId:an.dataGroupId,divide:getDivideShapeFromData(an.data),data:an.data}],newSeries:[{dataGroupId:Jr,divide:getDivideShapeFromData(en),data:en}]});else if(isArray$1(tn)){var nn=[];each$f(tn,function(un){var cn=Zr.get(un);cn.data&&nn.push({dataGroupId:cn.dataGroupId,divide:getDivideShapeFromData(cn.data),data:cn.data})}),nn.length&&Yr.set(rn,{oldSeries:nn,newSeries:[{dataGroupId:Jr,data:en,divide:getDivideShapeFromData(en)}]})}else{var sn=Kr.get(tn);if(sn){var ln=Yr.get(sn.key);ln||(ln={oldSeries:[{dataGroupId:sn.dataGroupId,data:sn.data,divide:getDivideShapeFromData(sn.data)}],newSeries:[]},Yr.set(sn.key,ln)),ln.newSeries.push({dataGroupId:Jr,data:en,divide:getDivideShapeFromData(en)})}}}}),Yr}function querySeries(Wr,Gr){for(var Yr=0;Yr<Wr.length;Yr++){var Zr=Gr.seriesIndex!=null&&Gr.seriesIndex===Wr[Yr].seriesIndex||Gr.seriesId!=null&&Gr.seriesId===Wr[Yr].id;if(Zr)return Yr}}function transitionSeriesFromOpt(Wr,Gr,Yr,Zr){var Kr=[],Qr=[];each$f(normalizeToArray(Wr.from),function(Jr){var en=querySeries(Gr.oldSeries,Jr);en>=0&&Kr.push({dataGroupId:Gr.oldDataGroupIds[en],data:Gr.oldData[en],divide:getDivideShapeFromData(Gr.oldData[en]),groupIdDim:Jr.dimension})}),each$f(normalizeToArray(Wr.to),function(Jr){var en=querySeries(Yr.updatedSeries,Jr);if(en>=0){var tn=Yr.updatedSeries[en].getData();Qr.push({dataGroupId:Gr.oldDataGroupIds[en],data:tn,divide:getDivideShapeFromData(tn),groupIdDim:Jr.dimension})}}),Kr.length>0&&Qr.length>0&&transitionBetween(Kr,Qr,Zr)}function installUniversalTransition(Wr){Wr.registerUpdateLifecycle("series:beforeupdate",function(Gr,Yr,Zr){each$f(normalizeToArray(Zr.seriesTransition),function(Kr){each$f(normalizeToArray(Kr.to),function(Qr){for(var Jr=Zr.updatedSeries,en=0;en<Jr.length;en++)(Qr.seriesIndex!=null&&Qr.seriesIndex===Jr[en].seriesIndex||Qr.seriesId!=null&&Qr.seriesId===Jr[en].id)&&(Jr[en][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),Wr.registerUpdateLifecycle("series:transition",function(Gr,Yr,Zr){var Kr=getUniversalTransitionGlobalStore(Yr);if(Kr.oldSeries&&Zr.updatedSeries&&Zr.optionChanged){var Qr=Zr.seriesTransition;if(Qr)each$f(normalizeToArray(Qr),function(ln){transitionSeriesFromOpt(ln,Kr,Zr,Yr)});else{var Jr=findTransitionSeriesBatches(Kr,Zr);each$f(Jr.keys(),function(ln){var un=Jr.get(ln);transitionBetween(un.oldSeries,un.newSeries,Yr)})}each$f(Zr.updatedSeries,function(ln){ln[SERIES_UNIVERSAL_TRANSITION_PROP]&&(ln[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var en=Gr.getSeries(),tn=Kr.oldSeries=[],rn=Kr.oldDataGroupIds=[],an=Kr.oldData=[],nn=0;nn<en.length;nn++){var sn=en[nn].getData();sn.count()<DATA_COUNT_THRESHOLD&&(tn.push(en[nn]),rn.push(en[nn].get("dataGroupId")),an.push(sn))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const currentDate=new Date,startDate=new Date(2025,0),MONTHS_BACK=Math.min(4,currentDate.getMonth()-startDate.getMonth()+12*(currentDate.getFullYear()-startDate.getFullYear())+1);Math.min(30,currentDate.getDate()-startDate.getDate()+30*(currentDate.getMonth()-startDate.getMonth())+1);class Home extends Component{constructor(){super("home");Jn(this,"getSimulationTooltip",(Yr,Zr)=>{const Kr=Zr.filter(en=>en.isCorrect).length,Qr=Zr.length,Jr=(Kr/Qr*100).toFixed(1);return Yr==="general"?`📋 Parte General
(35 (+5) preguntas)
✅ Acierto: +0.286 pts
❌ Error: -0.095 pts
📊 (${Jr}% acierto)`:Yr==="specific"?`📚 Parte Específica
(55 (+10) preguntas)
✅ Acierto: +0.182 pts
❌ Error: -0.046 pts
📊 (${Jr}% acierto)`:"📊 Puntuación del simulacro"});Jn(this,"getStudyTooltip",(Yr,Zr)=>{const Kr=(Yr/Zr*100).toFixed(1);return`📝 Modo Estudio
✅ ${Yr} correcta${Yr===1?"":"s"}
❌ ${Zr-Yr} incorrecta${Zr-Yr===1?"":"s"}
📊 ${Kr}% acierto`});Jn(this,"getPartText",Yr=>{var Kr,Qr;if(!(Yr!=null&&Yr.length))return"";switch((Qr=(Kr=Yr[0])==null?void 0:Kr.extra)==null?void 0:Qr.parts){case 1:return": Fase General";case 2:return": Fase Específica";default:return""}});Jn(this,"months",Array.from({length:6},(Yr,Zr)=>{const Kr=new Date;return Kr.setMonth(Kr.getMonth()-5+Zr),Kr.toLocaleString("es-ES",{month:"short"})}));Jn(this,"lessonTypes",["gral.","esp."])}async initialize(){this.renderLoadingState();const{userActivityStats:Yr,submissionsHistory:Zr,totalQuestionCount:Kr,lessonStats:Qr}=await this.loadData().catch(nn=>{console.error("Failed to load data:",nn)}),Jr=this.normalizeStatsResponse(Qr),en=Jr.map(nn=>nn.data),tn=Jr.map(nn=>nn.alias),rn=this.generateMonthLabels(MONTHS_BACK);this.initializeLineChart("chart-container",tn,rn,en,!1,!1);const an=this.calculateGaugeScore(Yr,Zr,Kr);this.initializeGaugeChart("gauge-chart-container",an.toFixed(2),!1)}resizeCharts(){const Yr=getInstanceByDom(document.getElementById("chart-container")),Zr=getInstanceByDom(document.getElementById("gauge-chart-container"));Yr&&Yr.resize(),Zr&&Zr.resize()}renderLoadingState(){this.updateGreeting("","Cargando..."),this.renderCardSkeletons(),this.renderTableSkeleton(),this.populatePeriodSelect(this.preparePeriods(null));const Zr=document.querySelector("#dropdown-container");Zr&&Zr.remove()}renderCardSkeletons(){const Yr=Array(4).fill({title:"Cargando...",value:"---",description:"Cargando datos...",from:"",changeColor:"bg-gray-200 dark:bg-gray-700"});this.createDashboardCards(Yr)}renderTableSkeleton(){const Yr=document.querySelector("#submissions-table");Yr&&(Yr.innerHTML=`
            <div class="animate-pulse">
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"></div>
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-4"></div>
                <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"></div>
            </div>
        `)}async getTotalQuestionCount(){const{response:Yr,error:Zr}=await fetchAPI("QUESTIONS.COUNT","GET");return Zr||!Yr?(console.error("Failed to fetch total question count:",Zr),0):Yr.data.totalQuestions}async loadData(){const[Yr,Zr,Kr,Qr,Jr]=await Promise.all([this.retrieveUserDataFromDB(),this.getSubmissions(),this.getDailyLessonStats(),this.getDailyUserStats(),this.getTotalQuestionCount()]);if(!Yr){updateState({isAuthenticated:!1,user:{}}),loadComponent("/auth");return}const en=Yr.disputes||{};updateState({disputes:en,submissions:Zr}),this.updateGreeting(Yr.name,"Hola");const tn=this.calculateStreak(Qr),rn=this.calculateSuccessRatio(Qr);return this.createDashboardCards(this.prepareDashboardCards(Qr,tn,rn,Zr)),this.createDashboardTable(this.prepareDashBoardTable(Zr)),{userActivityStats:Qr,submissionsHistory:Zr,totalQuestionCount:Jr,lessonStats:Kr}}calculateSuccessRatio(Yr){if(!Array.isArray(Yr)||Yr.length===0)return 0;const Zr=Yr.reduce((Qr,Jr)=>(Qr.passed+=Jr.questions_passed,Qr.failed+=Jr.questions_failed,Qr.listed+=Jr.questions_listed,Qr),{passed:0,failed:0,listed:0}),Kr=Zr.passed+Zr.failed;return Kr===0?0:parseFloat((Zr.passed/Kr*100).toFixed(2))}calculateStreak(Yr){if(!Array.isArray(Yr)||Yr.length===0)return 0;const Zr=new Date,Kr=Yr.sort((nn,sn)=>new Date(sn.stat_date)-new Date(nn.stat_date)),Qr=Kr[0],Jr=new Date(Qr.stat_date);Qr&&Qr.questions_passed+Qr.questions_failed+Qr.questions_listed===0&&Zr.toDateString()===Jr.toDateString()&&Kr.shift(),Zr.setHours(0,0,0,0);const en=new Date(Kr[0].stat_date);if(Math.floor((Zr-en)/(1e3*60*60*24))>1)return 0;let rn=0,an=null;for(const nn of Kr){const sn=new Date(nn.stat_date);if(!(nn.questions_passed+nn.questions_failed+nn.questions_listed>0)||an&&Math.floor((an-sn)/864e5)!==1)break;rn++,an=sn}return rn}calculateSimulationScore(Yr){var nn,sn;if(!(Yr!=null&&Yr.length))return{score:0,status:"N/A"};if(!((sn=(nn=Yr[0])==null?void 0:nn.extra)==null?void 0:sn.parts)){const ln=Yr.filter(hn=>hn.isCorrect).length,un=Yr.length,cn=Math.ceil(un*SUCCESS_THRESHOLD_STUDY);return{score:ln,status:ln>=cn?"APTO":"NO APTO"}}const Kr=Yr[0].extra.parts,Qr=GAME_PARTS_CONFIG[Kr];if(!Qr)return{score:0,status:"0.000 pts"};const Jr=Yr.slice(0,Qr.validQuestions),en=Jr.filter(ln=>ln.isCorrect).length,tn=Jr.filter(ln=>!ln.isCorrect&&ln.isCorrect!==null).length,rn=Number((en*Qr.pointsPerCorrect-tn*Qr.pointsPerIncorrect).toFixed(3)),an=Math.max(0,Math.min(10,rn)).toFixed(3);return{score:rn,status:`${an} pts`}}generateMonthLabels(Yr=6){return Array.from({length:Yr},(Zr,Kr)=>{const Qr=new Date;return Qr.setMonth(Qr.getMonth()-(Yr-1)+Kr),Qr.toLocaleString("es-ES",{month:"short"})})}normalizeStatsResponseV0(Yr){const Zr=[...new Set(Yr.map(Qr=>Qr.month))].sort(),Kr=Yr.reduce((Qr,{lesson_id:Jr,lesson_name:en,lesson_type:tn,lesson_number:rn,month:an,passed:nn})=>{Qr[Jr]||(Qr[Jr]=new Array(Zr.length).fill(0),Qr[Jr].name=en,Qr[Jr].type=tn,Qr[Jr].number=rn);const sn=Zr.indexOf(an);return sn!==-1&&(Qr[Jr][sn]+=nn),Qr},{});return{chartData:Kr,chartLegend:Object.values(Kr).map(Qr=>Qr.name)}}normalizeStatsResponse(Yr){const Zr=[...new Set(Yr.map(Jr=>Jr.month))].sort(),Kr=Yr.reduce((Jr,{lesson_id:en,lesson_name:tn,lesson_type:rn,lesson_number:an,month:nn,passed:sn})=>{if(an===0)return Jr;const ln=en;Jr[ln]||(Jr[ln]={name:ln,type:rn,number:an,data:new Array(Zr.length).fill(0),alias:`${tn} (${this.lessonTypes[rn]})`});const un=Zr.indexOf(nn);return un!==-1&&(Jr[ln].data[un]+=sn),Jr},{});return Object.entries(Kr).map(([Jr,en])=>({key:Jr,...en})).sort((Jr,en)=>Jr.type!==en.type?Jr.type-en.type:Jr.number-en.number)}async getDailyUserStats(Yr=30){var Jr;const Zr=Math.min(30,Math.max(1,Yr)),{response:Kr}=await fetchAPI("STATS.USER","GET",{days:Zr}),Qr=(Jr=Kr==null?void 0:Kr.data)==null?void 0:Jr.stats;return Array.isArray(Qr)?Qr:(console.error("Unexpected response format:",Kr),[])}async getDailyLessonStats(){var Kr;const{response:Yr}=await fetchAPI("STATS.CHART","GET",{months:MONTHS_BACK}),Zr=(Kr=Yr==null?void 0:Yr.data)==null?void 0:Kr.stats;return Array.isArray(Zr)?Zr:(console.error("Unexpected response format:",Yr),[])}async getSubmissions(){const{response:Yr,error:Zr}=await fetchAPI("QUESTIONS.SUBMISSIONS","GET",{amount:DASHBOARD_TABLE_HISTORY_AMOUNT});return Zr||!Yr?(showModalX("error","Error",Zr.message||"Error al cargar los resultados"),[]):Array.isArray(Yr)?Yr:(console.error("Unexpected response format:",Yr),[])}prepareDashBoardTable(Yr){try{return Yr.map(Zr=>{const Kr=Zr.answers.filter(an=>an.isCorrect).length,Qr=Zr.answers.length,Jr=Zr.submission_type==="simulation"?this.calculateSimulationScore(Zr.answers).status:Kr>=Math.ceil(Qr*SUCCESS_THRESHOLD_SIMULATION)?"APTO":"NO APTO",en=Zr.submission_type==="simulation"?this.getSimulationTooltip(Zr.extra.simulationType,Zr.answers):this.getStudyTooltip(Kr,Qr);let tn=Zr.submission_type==="simulation"?`Simulacro${this.getPartText(Zr.answers)}`:"Estudio";Zr.extra.simulationType&&(tn+=` (${translations[userLanguage][Zr.extra.simulationType]})`);const rn=new Date(Zr.created_at).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return{id:Zr.id,date:rn,type:tn,score:`${Kr}/${Qr}`,status:Jr,statusTooltip:en,link:`/results/${Zr.id}`}})}catch(Zr){return console.error("Unexpected error in prepareDashBoardTable:",Zr),[]}}createDashboardTable(Yr){const Zr=document.querySelector("#submissions-table");if(!Zr)return;if(Yr.length===0){Zr.innerHTML="<p class='mt-3 text-sm/6 sm:text-xs/6 text-zinc-500'>Aún no hay resultados recientes</p>";return}Zr.childElementCount>0&&(Zr.innerHTML="");const Kr=generateSubmissionsTable(Yr);Zr.appendChild(Kr)}async retrieveUserDataFromDB(){const{response:Yr,error:Zr}=await fetchAPI("USERS.SELF");if(Zr){showModalX("error",Zr.message,Zr.details);return}return Yr.data.user}updateGreeting(Yr,Zr){const Kr=document.querySelector("#greetings-title");Kr&&(Kr.textContent=`${Zr}, ${Yr}`)}preparePeriods(Yr){return[{value:"current_month",label:"Mes actual",hxGet:"",hxTarget:"",hxSwap:""}]}populatePeriodSelect(Yr){const Zr=document.querySelector("#period-select");Zr.innerHTML="",Yr.forEach(Kr=>{const Qr=document.createElement("option");Qr.value=Kr.value,Qr.textContent=Kr.label,Qr.setAttribute("hx-get",Kr.hxGet),Qr.setAttribute("hx-target",Kr.hxTarget),Qr.setAttribute("hx-swap",Kr.hxSwap),Zr.appendChild(Qr)})}calculateSuccessRateForDays(Yr,Zr){if(!Array.isArray(Yr)||Yr.length===0)return 0;const Qr=Yr.sort((en,tn)=>new Date(tn.stat_date)-new Date(en.stat_date)).slice(0,Zr).reduce((en,tn)=>(en.passed+=tn.questions_passed,en.failed+=tn.questions_failed,en),{passed:0,failed:0}),Jr=Qr.passed+Qr.failed;return Jr===0?0:parseFloat((Qr.passed/Jr*100).toFixed(2))}determineBestInterval(Yr){if(!Array.isArray(Yr)||Yr.length===0)return{days:0,hasData:!1};const Zr=Yr.sort((Qr,Jr)=>new Date(Jr.stat_date)-new Date(Qr.stat_date)),Kr=[7,10,15,20,30];for(const Qr of Kr){const Jr=Zr.slice(0,Qr),en=Jr.some(an=>an.questions_passed+an.questions_failed>0),tn=this.calculateSuccessRateForDays(Jr,1),rn=this.calculateSuccessRateForDays(Jr,Qr);return{days:Qr,hasData:en,todayRate:tn,periodRate:rn}}return{days:0,hasData:!1}}calculatePassedSubmissions(Yr){return!Array.isArray(Yr)||Yr.length===0?{simulations:0,studies:0}:Yr.reduce((Kr,Qr)=>{var en;if(!((en=Qr.answers)!=null&&en.length))return Kr;if(Qr.submission_type==="simulation"){const{score:tn,status:rn}=this.calculateSimulationScore(Qr.answers);(typeof rn=="string"&&rn.includes("pts")?parseFloat(rn)>=5:tn>=Math.ceil(Qr.answers.length*SUCCESS_THRESHOLD_SIMULATION))&&Kr.simulations++}else{const tn=Qr.answers_passed+Qr.answers_failed;if(tn===0)return Kr;Qr.answers_passed/tn>=SUCCESS_THRESHOLD_STUDY&&Kr.studies++}return Kr},{simulations:0,studies:0})}prepareDashboardCards(Yr,Zr,Kr,Qr){const Jr=this.determineBestInterval(Yr),en=Jr.hasData?Jr.periodRate===0?Jr.todayRate>0?100:0:((Jr.todayRate-Jr.periodRate)/Math.abs(Jr.periodRate)*100).toFixed(1):0,tn=this.calculatePassedSubmissions(Qr),rn=tn.simulations||tn.studies,an=tn.simulations>0?"simulacro":"estudio";return[{title:"Racha de días",value:Zr,description:(ln=>ln===0?"¡Empieza hoy tu racha de estudio!":ln<5?"Cada día cuenta para fortalecer tu conocimiento.":ln<10?"¡Increíble constancia! Mantén el ritmo.":ln<15?"¡Excelente dedicación! Tu esfuerzo se nota.":ln<20?"¡Impresionante compromiso! Eres una inspiración.":"¡Legendario! Tu dedicación es extraordinaria.")(Zr),changeColor:"bg-blue-400/20 text-blue-700 dark:bg-blue-400/10 dark:text-blue-300",flame:!0},{title:`Progreso diario, últimos ${Jr.days} días`,value:`${en}%`,description:Jr.hasData?en>0?"¡Excelente progreso! Sigue así, vas por buen camino.":"No te preocupes por los altibajos, ¡cada error es una oportunidad de aprendizaje!":"Sin datos suficientes. ¿A qué esperas para empezar?",changeColor:en>0?"bg-lime-400/20 text-lime-700 dark:bg-lime-400/10 dark:text-lime-300":"bg-red-400/20 text-red-700 dark:bg-red-400/10 dark:text-red-300",iconSrc:booksSvg},{title:"Tasa de éxito",value:Kr+"%",description:"Porcentaje de preguntas correctas sobre las respondidas.",changeColor:"bg-blue-400/20 text-blue-700 dark:bg-blue-400/10 dark:text-blue-300",iconSrc:trophyStarSvg},{title:`${toTitleCase(an)}${rn===1?"":"s"} aprobado${rn===1?"":"s"}`,value:`${rn}`,description:"Cada prueba superada es un paso más hacia el aprobado.",changeColor:"bg-blue-400/20 text-blue-700 dark:bg-blue-400/10 dark:text-blue-300",iconSrc:verifiedSvg}]}createDashboardCards(Yr){const Zr=document.querySelector("#overview-cards");Zr.innerHTML="",Yr.forEach(Kr=>{const Qr=document.createElement("div");Qr.classList.add("border","rounded-lg","border-zinc-600","dark:border-zinc-700");const Jr=document.createElement("div");Jr.classList.add("p-6","flex","flex-row","items-center","justify-between","space-y-0","pb-2");const en=document.createElement("div");en.classList.add("tracking-tight","text-sm","font-medium","dark:text-white"),en.textContent=Kr.title;const tn=document.createElement("span");if(tn.classList.add("dark:text-white"),Kr.iconSrc){const sn=document.createElement("img");sn.src=Kr.iconSrc,sn.alt=Kr.title,sn.classList.add("h-6","w-6"),tn.appendChild(sn)}else Kr.icon&&(tn.innerHTML=Kr.icon);if(Kr.flame){const sn="#c33737",ln="#f47e60",un="#f8b26a",cn=document.createElement("span");cn.innerHTML=`
					<svg xml:space="preserve" viewBox="35 10 10 75" class="w-6 h-6 m-0 block" preserveAspectRatio="xMidYMid">
						<g class="origin-center scale-[0.8] rotate-0">
							<g>
								<g>
									<g class="[transform-box:view-box] [transform-origin:50px_50px] opacity-100 animate-tremble-1 group-hover:duration-[1500ms]">
										<path fill="${sn}" stroke-width="0.95"
											d="M58.5 7.5c-18.3 9.6-35.4 28.2-35.4 49.3 0 5.4.7 10.7 2.1 15.6 7.2 26.8 42.5 26.8 49.7 0 1.3-5 2-10.2 2.1-15.6.2-20.2-20.1-32-18.5-49.3z">
										</path>
									</g>
								</g>
								<g>
									<g class="[transform-box:view-box] [transform-origin:50px_50px] opacity-100 animate-tremble-2 delay-[500ms] group-hover:duration-[1500ms]">
										<path fill="${ln}" stroke-width="0.95"
											d="M50 32.7c-11.3 6-18.9 17.5-18.9 30.7 0 3.4.5 6.7 1.4 9.8 5.1 16.8 29.8 16.8 34.9 0 .9-3.1 1.4-6.4 1.4-9.8.1-13.2-7.5-24.7-18.8-30.7z">
										</path>
									</g>
								</g>
								<g>
									<g class="[transform-box:view-box] [transform-origin:50px_50px] opacity-100 animate-tremble-3 delay-[1000ms] group-hover:duration-[1500ms]">
										<path fill="${un}" stroke-width="0.95"
											d="M50 47.5C43.2 51.2 38.6 58.1 38.6 66c0 2 .3 4 .9 5.9 3.1 10.1 17.9 10.1 21 0 .6-1.9.9-3.8.9-5.9 0-7.9-4.6-14.8-11.4-18.5z">
										</path>
									</g>
								</g>
							</g>
						</g>
					</svg>
				`,tn.appendChild(cn)}Jr.appendChild(en),Jr.appendChild(tn),Qr.appendChild(Jr);const rn=document.createElement("div");rn.classList.add("p-6","pt-0");const an=document.createElement("div");an.classList.add("text-2xl","font-bold","dark:text-white"),an.textContent=Kr.value;const nn=document.createElement("p");nn.classList.add("text-xs","text-muted-foreground","dark:text-white"),nn.textContent=Kr.description,rn.appendChild(an),rn.appendChild(nn),Qr.appendChild(rn),Zr.appendChild(Qr)})}initializeLineChart(Yr,Zr,Kr,Qr,Jr=!1,en=!1){var tn=Jr?"dark":"",rn=document.getElementById(Yr);if(!rn){console.error(`Element with id '${Yr}' not found.`);return}var an=init$1(rn,tn,{renderer:"canvas",useDirtyRect:!1});const nn={title:{},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:Zr,bottom:0,textStyle:{color:"#999"},selected:Zr.reduce((sn,ln,un)=>(sn[ln]=Qr[un].some(cn=>cn!==0),sn),{})},toolbox:{feature:{saveAsImage:{},magicType:{show:!0,type:["line","bar","stack","tiled"]}}},grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!en,data:Kr},yAxis:{type:"value"},series:Qr.map((sn,ln)=>({name:Zr[ln],type:"line",stack:en?"Total":void 0,areaStyle:en?{}:void 0,emphasis:{focus:"series"},data:sn}))};an.setOption(nn),window.addEventListener("resize",an.resize)}calculateGaugeScore(Yr,Zr,Kr){const Qr=this.calculateAnswersScore(Yr,Kr),Jr=this.calculateSimulationsScore(Zr),en=this.calculateNonStrictStreakScore(Yr);return Qr*.7+Jr*.2+en*.1}calculateAnswersScore(Yr,Zr){if(!Array.isArray(Yr)||Yr.length===0||!Zr)return 0;const Qr=Yr.sort((Jr,en)=>new Date(en.stat_date)-new Date(Jr.stat_date)).slice(0,30).reduce((Jr,en)=>Jr+(en.questions_passed||0),0);return Math.min(Qr/Zr,1)}calculateSimulationsScore(Yr){if(!Array.isArray(Yr)||Yr.length===0)return 0;const Zr=Yr.filter(Jr=>Jr.submission_type==="simulation").sort((Jr,en)=>new Date(en.created_at)-new Date(Jr.created_at)).slice(0,5);return Zr.length===0?0:Zr.map(Jr=>{const{status:en}=this.calculateSimulationScore(Jr.answers);return typeof en=="string"&&en.includes("pts")?parseFloat(en)/10:0}).reduce((Jr,en)=>Jr+en,0)/5}calculateNonStrictStreakScore(Yr){if(!Array.isArray(Yr)||Yr.length===0)return 0;const Kr=Yr.sort((Qr,Jr)=>new Date(Jr.stat_date)-new Date(Qr.stat_date)).slice(0,10).filter(Qr=>(Qr.questions_passed||0)+(Qr.questions_failed||0)>0).length;return Math.min(Kr,5)/5}initializeGaugeChart(Yr,Zr,Kr=!1){var Qr=Kr?"dark":"",Jr=document.getElementById(Yr);if(!Jr){console.error(`Element with id '${Yr}' not found.`);return}var en=init$1(Jr,Qr,{renderer:"canvas",useDirtyRect:!1});const tn={tooltip:{show:!0},series:[{type:"gauge",progress:{show:!1,width:18},axisLine:{lineStyle:{width:18,color:[[.25,"#f59695"],[.5,"#fcd98e"],[.75,"#cbda9e"],[1,"#b4dca0"]]}},axisTick:{show:!1},splitLine:{length:15,lineStyle:{width:2,color:"#999"}},axisLabel:{distance:25,color:"#999"},pointer:{itemStyle:{color:"#999",borderColor:"#666"}},title:{show:!1},detail:{valueAnimation:!0,offsetCenter:[0,"70%"]},data:[{value:Zr*100}]}]};en.setOption(tn),window.addEventListener("resize",en.resize)}}const homeComponent=new Home("home"),initializeHome=()=>homeComponent.initialize(),filterConfigs={study:{targetRoute:"/study/play",fields:[...Object.keys(GAME_PARTS_CONFIG).length>1?[{type:"dropdown",name:"partType",label:"Tipo de estudio",options:Object.values(GAME_PARTS_CONFIG).sort((Wr,Gr)=>Gr.partType===GAME_PARTS_CONFIG[GAME_PARTS_DEFAULT].partType?1:-1).map(Wr=>({value:Wr.partType,label:Wr.label}))}]:[],{type:"table",name:"table",label:"",headerPosition:"firstColumn",alignment:"left",rows:[["Número de preguntas","Personalizado"],["Tiempo","Indefinido"]]},{type:"quantity",name:"amount",label:"Número de preguntas",value:STUDY_DEFAULT_VALUE,min:STUDY_MIN_QUESTIONS,max:STUDY_MAX_QUESTIONS},{type:"search",name:"topics",label:"Temas",options:Wr=>Wr.getTopics()},{type:"button",name:"submit",label:"Iniciar Estudio",buttonType:"submit"}]},simulation:{targetRoute:"/simulation/play",fields:[...Object.keys(GAME_PARTS_CONFIG).length>1?[{type:"dropdown",name:"partType",label:"Tipo de estudio",options:Object.values(GAME_PARTS_CONFIG).sort((Wr,Gr)=>Gr.partType===GAME_PARTS_CONFIG[GAME_PARTS_DEFAULT].partType?1:-1).map(Wr=>({value:Wr.partType,label:Wr.label}))}]:[],{type:"table",name:"table",label:"",headerPosition:"firstColumn",alignment:"left",rows:[["Número de preguntas",`${GAME_PARTS_CONFIG[GAME_PARTS_DEFAULT].defaultQuestions}`],["Tiempo",`${GAME_PARTS_CONFIG[GAME_PARTS_DEFAULT].defaultTime} minutos`]]},{type:"search",name:"topics",label:"Temas",options:Wr=>Wr.getTopics()},{type:"button",name:"submit",label:"Iniciar Simulación",buttonType:"submit"}]}};function getPartKeyFromType(Wr){var Gr;return((Gr=Object.entries(GAME_PARTS_CONFIG).find(([Yr,Zr])=>Zr.partType===Wr))==null?void 0:Gr[0])||GAME_PARTS_DEFAULT}class Filters extends Component{constructor(Gr){super("filters"),this.type=Gr,this.partsData=Object.keys(GAME_PARTS_CONFIG).reduce((Yr,Zr)=>(Yr[Zr]={...GAME_PARTS_CONFIG[Zr],topics:[]},Yr),{})}getTopics(){return Object.entries(GAME_PARTS_CONFIG).reduce((Gr,[Yr,Zr])=>(Gr[Zr.partType]=this.generateTopicOptions(Yr),Gr),{})}async fetchExtraValues(){try{const{response:Gr,error:Yr}=await apiRequest$1(API.endpoints.QUESTIONS.EXTRAS);if(Yr)throw Yr;return!(Gr!=null&&Gr.success)||Gr.data.parts===null||typeof Gr.data.parts!="object"?(console.error("Invalid API response structure"),{data:[]}):Gr.data}catch(Gr){return console.error("Fetch Questions Failed:",Gr),{data:[]}}}async fetchAvailableLessons(){try{const{response:Gr,error:Yr}=await apiRequest$1(API.endpoints.LESSONS.SELF);if(Yr)throw Yr;return!(Gr!=null&&Gr.success)||Gr.data.types===null||typeof Gr.data.types!="object"?(console.error("Invalid API response structure"),{data:[]}):Gr.data}catch(Gr){return console.error("Fetch Questions Failed:",Gr),{data:[]}}}generateTopicOptions(Gr){return this.partsData[Gr].topics.reduce((Yr,Zr)=>(Yr[Zr.id]=Zr.name,Yr),{})}generateTopicOptionsV0(Gr){return this.partsData[Gr].topics.reduce((Zr,Kr)=>{const Qr=`extra_parts:${Gr}_lesson:${Kr}`,Jr=`${translations[userLanguage].lesson} ${Kr} ${GAME_PARTS_CONFIG[Gr].label}`;return Zr[Qr]=Jr,Zr},{})}getCurrentPart(Gr){const Yr=getPartKeyFromType(Gr);return this.partsData[Yr]||this.partsData[1]}async initialize(){try{const{parts:en}=await this.fetchExtraValues(),{types:tn}=await this.fetchAvailableLessons();Object.keys(GAME_PARTS_CONFIG).forEach(rn=>{this.partsData[rn]={...GAME_PARTS_CONFIG[rn],topics:tn[rn]||[]}})}catch(en){console.error("Failed to load parts data:",en),this.partsData=structuredClone(GAME_PARTS_CONFIG)}const Gr=filterConfigs[this.type];if(!Gr){console.error(`No configuration found for filter type: ${this.type}`);return}if(!document.querySelector("#main-content"))throw new Error("Main content element not found");const Zr=document.querySelector("#filters-content");if(!Zr)throw new Error("Filters form not found");Zr.innerHTML="";const Kr=createNavLink("/","Inicio");Kr.onclick=en=>{en.preventDefault();const tn=Kr.getAttribute("href");loadComponent(tn)},Zr.appendChild(Kr);const Qr=this.generateFormHeader(translations[userLanguage].filterHeaders[this.type].title,translations[userLanguage].filterHeaders[this.type].description);Zr.appendChild(Qr);const Jr=document.createElement("form");Jr.id=`${this.type}FiltersForm`,Jr.className="bg-white dark:bg-zinc-900 rounded-lg shadow p-6 space-y-6 max-w-md mx-auto",this.createFormContent(Jr,this.type,Gr.fields),Zr.appendChild(Jr),this.updateTableAndSearch(Jr,GAME_PARTS_DEFAULT),this.targetRoute=Gr.targetRoute}generateFormHeader(Gr,Yr){const Zr=document.createElement("div");Zr.className="flex flex-wrap items-center gap-6 justify-left p-6 space-y-6 max-w-md mx-auto";const Kr=document.createElement("div"),Qr=document.createElement("div");Qr.className="flex flex-wrap items-center gap-x-4 gap-y-2";const Jr=document.createElement("h1");Jr.className="text-2xl/8 font-semibold text-zinc-950 sm:text-xl/8 dark:text-white",Jr.textContent=Gr,Qr.appendChild(Jr);const en=document.createElement("div");return en.className="mt-2 text-sm/6 text-zinc-500",en.innerHTML=`${Yr}`,Kr.appendChild(Qr),Kr.appendChild(en),Zr.appendChild(Kr),Zr}updateTable(Gr,Yr){const Zr=Gr.querySelectorAll("dd");this.type==="study"?(Zr[0].textContent="Personalizado",Zr[1].textContent="Indefinido"):this.type==="simulation"&&(Zr[0].textContent=Yr.defaultQuestions,Zr[1].textContent=`${Yr.defaultTime} minutos`)}updateSearchV0(Gr,Yr,Zr="label"){const Kr=Gr.querySelector(".overflow-y-auto");Kr.innerHTML="";const Qr={lesson:(en,tn)=>{const rn=parseInt(en[0].match(/lesson:(\d+)/)[1]),an=parseInt(tn[0].match(/lesson:(\d+)/)[1]);return rn-an},label:(en,tn)=>{const rn=parseInt(en[1].match(/\d+/)[0]),an=parseInt(tn[1].match(/\d+/)[0]);return rn-an}};Object.entries(Yr.topicOptions).sort(Qr[Zr]).forEach(([en,tn])=>{const rn=document.createElement("label");rn.className="flex items-center space-x-3 cursor-pointer mb-2";const an=document.createElement("input");an.type="checkbox",an.name="topics",an.value=en,an.className="sr-only";const nn=document.createElement("span");nn.className="flex h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-md dark:border-zinc-600 transition-colors";const sn=document.createElementNS("http://www.w3.org/2000/svg","svg");sn.setAttribute("xmlns","http://www.w3.org/2000/svg"),sn.setAttribute("class","h-3 w-3 text-white"),sn.setAttribute("fill","none"),sn.setAttribute("viewBox","0 0 24 24"),sn.setAttribute("stroke","currentColor"),sn.setAttribute("stroke-width","2");const ln=document.createElementNS("http://www.w3.org/2000/svg","path");ln.setAttribute("stroke-linecap","round"),ln.setAttribute("stroke-linejoin","round"),ln.setAttribute("d","M5 13l4 4L19 7"),sn.appendChild(ln),sn.style.display="none",nn.appendChild(sn),an.addEventListener("change",()=>{an.checked?(nn.classList.add("bg-zinc-900","border-transparent","dark:bg-zinc-600"),sn.style.display="block"):(nn.classList.remove("bg-zinc-900","border-transparent","dark:bg-zinc-600"),sn.style.display="none")});const un=document.createElement("span");un.className="text-sm text-zinc-900 dark:text-zinc-100",un.textContent=tn,rn.appendChild(an),rn.appendChild(nn),rn.appendChild(un),Kr.appendChild(rn)})}updateSearch(Gr,Yr){const Zr=Gr.querySelector(".overflow-y-auto");Zr.innerHTML="",Yr.topics.forEach(Kr=>{const Qr=document.createElement("label");Qr.className="flex items-center space-x-3 cursor-pointer mb-2";const Jr=document.createElement("input");Jr.type="checkbox",Jr.name="topics",Jr.value=Kr.id,Jr.className="sr-only";const en=document.createElement("span");en.className="flex h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-md dark:border-zinc-600 transition-colors";const tn=document.createElementNS("http://www.w3.org/2000/svg","svg");tn.setAttribute("xmlns","http://www.w3.org/2000/svg"),tn.setAttribute("class","h-3 w-3 text-white"),tn.setAttribute("fill","none"),tn.setAttribute("viewBox","0 0 24 24"),tn.setAttribute("stroke","currentColor"),tn.setAttribute("stroke-width","2");const rn=document.createElementNS("http://www.w3.org/2000/svg","path");rn.setAttribute("stroke-linecap","round"),rn.setAttribute("stroke-linejoin","round"),rn.setAttribute("d","M5 13l4 4L19 7"),tn.appendChild(rn),tn.style.display="none",en.appendChild(tn),Jr.addEventListener("change",()=>{Jr.checked?(en.classList.add("bg-zinc-900","border-transparent","dark:bg-zinc-600"),tn.style.display="block"):(en.classList.remove("bg-zinc-900","border-transparent","dark:bg-zinc-600"),tn.style.display="none")});const an=document.createElement("span");an.className="text-sm text-zinc-900 dark:text-zinc-100",an.textContent=`${translations[userLanguage].lesson} ${Kr.number} ${GAME_PARTS_CONFIG[Kr.type].label}`,Qr.appendChild(Jr),Qr.appendChild(en),Qr.appendChild(an),Zr.appendChild(Qr)})}updateTableAndSearch(Gr,Yr){const Zr=getPartKeyFromType(Yr),Kr=this.partsData[Zr];this.updateTable(Gr,Kr),this.updateSearch(Gr,Kr)}createFormContent(Gr,Yr,Zr){let Kr;return Zr.forEach(Qr=>{switch(Qr.type){case"button":Kr=document.createElement("div"),Kr.className="flex justify-end mt-6",Kr.appendChild(generateButton(Qr.name,Qr.label,Qr.buttonType,"primary",Qr.classList));break;case"quantity":Kr=generateQuantityField(Qr.name,"",Qr.value,Qr.min,Qr.max);break;case"switch":Kr=generateSwitch(Qr.name,Qr.label);break;case"search":Kr=generateSearchBox("Buscar temas...",Qr.options,"w-full","h-64",Qr.name);break;case"dropdown":Kr=generateDropdown(Qr.name,Qr.label,Qr.options,null,Jr=>{this.updateTableAndSearch(Gr,Jr)});break;case"table":Kr=generateTable(Qr.headerPosition,Qr.alignment,Qr.rows);break;default:console.error("Invalid field type:",Qr.type)}Gr.appendChild(Kr)}),Gr.addEventListener("submit",Qr=>this.handleFormSubmit(Qr,Yr)),Gr}handleFormSubmitV0(Gr,Yr){Gr.preventDefault();const Zr=new FormData(Gr.target),Kr={},Qr=Zr.get("partType"),Jr=getPartKeyFromType(Qr),en=this.partsData[Jr];Kr.amount=Zr.get("amount")||en.defaultQuestions,Kr.topics=Zr.getAll("topics")||en.topics.map(tn=>`extra_parts:${Jr}_lesson:${tn}`),updateState({filters:Kr}),loadComponent(`/${Yr}/play`)}handleFormSubmit(Gr,Yr){Gr.preventDefault();const Zr=new FormData(Gr.target),Kr={},Qr=Zr.get("partType"),Jr=getPartKeyFromType(Qr),en=this.partsData[Jr];Kr.amount=Zr.get("amount")||en.defaultQuestions,Kr.topics=Zr.getAll("topics")||en.topics.map(tn=>tn.id.toString()),Kr.simulationType=Qr||GAME_PARTS_CONFIG[GAME_PARTS_DEFAULT].partType,updateState({filters:Kr}),loadComponent(`/${Yr}/play`)}}const initializeFilters=Wr=>{new Filters(Wr).initialize()};class Study extends Component{constructor(){super("study")}async initialize(){const{filters:Gr}=getState();if(!Gr||Object.keys(Gr).length===0){console.error("No filter data found, redirecting to study filters page."),loadComponent("/study/filters");return}this.resetStore();const Yr=await this.fetchData(Gr);await this.fetchAndStoreQuestions(Yr),this.setupBeforeUnloadHandler(),this.setupNavigationHandlers(),updateState({filters:{},navigationBlocked:!0})}resetStore(){module_default.store("studyData").reset()}async fetchData(Gr){delete Gr.simulationType;const Yr=API.getSchemaForEndpoint("QUESTIONS.SELF"),Zr=API.buildQueryString(Yr,Gr);if(!Zr)return;const{response:Kr,error:Qr}=await apiRequest$1(API.endpoints.QUESTIONS.SELF+Zr,"GET",{});if(!Qr)return Kr.data.questions}async fetchAndStoreQuestions(Gr){try{if(Gr&&Gr.length>0){const Yr=transformDataToCards(Gr);module_default.store("studyData").setCards(Yr),module_default.store("studyData").questions=Gr}else console.error("No questions found for the given filters."),module_default.store("studyData").setCards([])}catch(Yr){console.error("Error fetching questions:",Yr)}}hasUnsavedChanges(){const Gr=module_default.store("studyData");return Object.keys(Gr.answers).length>0&&!Gr.submitted}setupBeforeUnloadHandler(){const Gr=async Yr=>{Yr.preventDefault()};window.addEventListener("beforeunload",Gr),this.beforeUnloadHandler=Gr}setupNavigationHandlers(){window.addEventListener("popstate",async Gr=>{if(getState().navigationBlocked){if(!await showConfirmationDialog("Si abandonas la página perderás tu progreso. ¿Deseas salir?","Abandonar","Cancelar"))return;updateState({navigationBlocked:!1}),window.removeEventListener("beforeunload",this.beforeUnloadHandler),window.location.reload()}})}}function transformDataToCards(Wr){return Wr.map((Gr,Yr)=>({id:Yr+1,title:Gr.question,content:Gr.answers.map((Zr,Kr)=>`${String.fromCharCode(65+Kr)}. ${Zr}`),correctAnswer:Gr.accepted,explanation:Gr.explanation}))}function itemsStore(){return{cards:[],answers:{},questions:[],activeCard:1,startTime:null,autonext:!0,reset(){this.cards=[],this.activeCard=1,this.answers={},this.questions=[],this.startTime=Date.now()},setCards(Wr){this.cards=Wr},selectAnswer(Wr,Gr,Yr=!1){this.answers[Wr]===void 0&&(this.answers[Wr]=Gr),Yr&&this.activeCard<this.cards.length&&this.activeCard++},markAsBlank(Wr){this.answers[Wr]===void 0&&(this.answers[Wr]=null)},isAnswered(Wr){return this.answers[Wr]!==void 0},async submitResults(){if(!await showConfirmationDialog(translations[userLanguage].submitConfirmation))return;if(!this.questions||!this.questions.length){showModalX("error","Error enviando respuestas","No hay preguntas para enviar");return}const Gr=Math.floor(Date.now()-this.startTime),Yr=this.questions.map((Zr,Kr)=>{const Qr=Kr+1,Jr=this.answers[Qr],en={...Zr};return en.selectedAnswer=Jr,en});try{const{error:Zr}=await submitAnswersV2(Yr,"study",{timeSpent:Gr});if(Zr){showModalX("error","Error enviando respuestas",Zr);return}updateState({data:Yr,navigationBlocked:!1}),loadComponent("/study/results")}catch(Zr){showModalX("error","Error enviando estudio",Zr);return}},scrollToExplanation(){setTimeout(()=>{const Wr=document.querySelector(`[data-card-id="${this.activeCard}"]`);Wr&&(Wr.scrollTop=Wr.scrollHeight)},100)}}}document.addEventListener("alpine:init",()=>{module_default.store("studyData",itemsStore())});const studyComponent=new Study("study"),initializeStudy=Wr=>studyComponent.initialize(Wr),favicon="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_53_479)'%3e%3cpath%20d='M16.0115%2013.918C15.649%2012.8485%2014.6396%2012.0775%2013.448%2012.0775C11.953%2012.0775%2010.8105%2013.291%2010.741%2014.7855C10.659%2016.5265%2011.8775%2019.6135%2015.993%2021.183C15.999%2021.186%2016.0035%2021.186%2016.0115%2021.188L16.0115%2013.918Z'%20fill='url(%23paint0_linear_53_479)'/%3e%3cpath%20d='M15.9894%2013.918C16.352%2012.8485%2017.3605%2012.0775%2018.5519%2012.0775C20.0469%2012.0775%2021.1894%2013.291%2021.2599%2014.7855C21.3399%2016.5265%2020.1224%2019.6135%2016.0069%2021.183C15.9999%2021.186%2015.9954%2021.186%2015.9894%2021.188L15.9894%2013.918Z'%20fill='url(%23paint1_linear_53_479)'/%3e%3cpath%20d='M15.9679%205.39849V5.38047C15.9794%205.38446%2015.9904%205.38694%2015.9999%205.38897C16.01%205.38694%2016.0215%205.38446%2016.0319%205.38047V5.39894C22.8739%208.01246%2026.9695%2012.0599%2029.1884%2016C30.8654%2013.0204%2031.4694%2010.101%2031.3669%207.91045C31.163%203.54701%2027.825%200%2023.457%200C20.008%200%2017.082%202.21248%2016%205.29249C14.919%202.21248%2011.993%200%208.54398%200C4.17495%200%200.836975%203.54701%200.632961%207.91051C0.530446%2010.101%201.13493%2013.02%202.81249%2016C5.03049%2012.0595%209.12695%208.01201%2015.9679%205.39849Z'%20fill='url(%23paint2_linear_53_479)'/%3e%3cpath%20d='M16.032%2026.601V26.6194C16.0215%2026.6154%2016.0105%2026.613%2016%2026.6104C15.99%2026.6129%2015.9795%2026.6154%2015.968%2026.6194V26.601C9.12694%2023.988%205.03048%2019.9405%202.81248%2016C1.13498%2018.98%200.530497%2021.899%200.632948%2024.0895C0.836962%2028.453%204.17494%2032%208.54295%2032C11.993%2032%2014.918%2029.7876%2015.9999%2026.7075C17.0819%2029.7876%2020.0079%2032%2023.4559%2032C27.825%2032%2031.163%2028.453%2031.367%2024.0895C31.4695%2021.899%2030.865%2018.98%2029.1885%2016C26.9694%2019.9405%2022.8739%2023.988%2016.032%2026.601Z'%20fill='url(%23paint3_linear_53_479)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_53_479'%20x1='13.3744'%20y1='31.0659'%20x2='13.3744'%20y2='5.87846'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.012'%20stop-color='%23E0B386'/%3e%3cstop%20offset='0.519'%20stop-color='%23DA498C'/%3e%3cstop%20offset='1'%20stop-color='%23961484'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_53_479'%20x1='26.9499'%20y1='14.7436'%20x2='15.1455'%20y2='17.018'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.012'%20stop-color='%23E0B386'/%3e%3cstop%20offset='0.519'%20stop-color='%23DA498C'/%3e%3cstop%20offset='1'%20stop-color='%23961484'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_53_479'%20x1='16'%20y1='-3.58559'%20x2='16'%20y2='41.4958'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2329D3DA'/%3e%3cstop%20offset='0.519'%20stop-color='%230077FF'/%3e%3cstop%20offset='0.999'%20stop-color='%23064093'/%3e%3cstop%20offset='1'%20stop-color='%23084698'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_53_479'%20x1='16'%20y1='46.8307'%20x2='16'%20y2='15.6053'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2329D3DA'/%3e%3cstop%20offset='0.519'%20stop-color='%230077FF'/%3e%3cstop%20offset='0.999'%20stop-color='%23064093'/%3e%3cstop%20offset='1'%20stop-color='%23084698'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_53_479'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",userProfileSvg="data:image/svg+xml,%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.4'%20d='M22%207.81V16.19C22%2019%2020.71%2020.93%2018.44%2021.66C17.78%2021.89%2017.02%2022%2016.19%2022H7.81C6.98%2022%206.22%2021.89%205.56%2021.66C3.29%2020.93%202%2019%202%2016.19V7.81C2%204.17%204.17%202%207.81%202H16.19C19.83%202%2022%204.17%2022%207.81Z'%20fill='%23292D32'/%3e%3cpath%20d='M18.4406%2021.66C17.7806%2021.89%2017.0206%2022%2016.1906%2022H7.81055C6.98055%2022%206.22055%2021.89%205.56055%2021.66C5.91055%2019.02%208.67055%2016.97%2012.0005%2016.97C15.3305%2016.97%2018.0906%2019.02%2018.4406%2021.66Z'%20fill='%23292D32'/%3e%3cpath%20d='M15.5799%2011.58C15.5799%2013.56%2013.9799%2015.17%2011.9999%2015.17C10.0199%2015.17%208.41992%2013.56%208.41992%2011.58C8.41992%209.60002%2010.0199%208%2011.9999%208C13.9799%208%2015.5799%209.60002%2015.5799%2011.58Z'%20fill='%23292D32'/%3e%3c/svg%3e",signInSvg="data:image/svg+xml,%3csvg%20width='800'%20height='800'%20viewBox='0%200%20800%20800'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M500.453%20105.48L564.597%2094.7895C612.443%2086.8152%20636.367%2082.8279%20655.613%2087.2265C687.293%2094.4669%20713.48%20116.65%20725.83%20146.709C733.333%20164.971%20733.333%20189.224%20733.333%20237.731V568.867C733.333%20611.304%20733.333%20632.52%20727.563%20648.76C715.533%20682.633%20686.247%20707.44%20650.86%20713.74C633.893%20716.76%20612.963%20713.27%20571.103%20706.297L500.453%20694.52C420.637%20681.217%20380.73%20674.567%20357.03%20646.59C333.333%20618.617%20333.333%20578.16%20333.333%20497.24V302.759C333.333%20221.842%20333.333%20181.383%20357.03%20153.409C380.73%20125.434%20420.637%20118.783%20500.453%20105.48Z'%20fill='%232A4157'%20fill-opacity='0.24'/%3e%3cpath%20d='M394.388%20399.999L410.005%20412.493L420%20399.999L410.005%20387.506L394.388%20399.999ZM94.3877%20379.999C83.3411%20379.999%2074.3877%20388.953%2074.3877%20399.999C74.3877%20411.046%2083.3411%20420%2094.3877%20420V379.999ZM276.672%20579.16L410.005%20412.493L378.77%20387.506L245.437%20554.172L276.672%20579.16ZM410.005%20387.506L276.672%20220.839L245.437%20245.826L378.77%20412.493L410.005%20387.506ZM394.388%20379.999H94.3877V420H394.388V379.999Z'%20fill='%23222222'/%3e%3c/svg%3e",navLogoData={avatar:{src:favicon,alt:"SaludEduca Avatar"},name:"SaludEduca",menuItems:[]},navItems=[{href:"/",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" fill="currentColor" aria-hidden="true">
    <path d="M31.772 16.043l-15.012-15.724c-0.189-0.197-0.449-0.307-0.721-0.307s-0.533 0.111-0.722 0.307l-15.089 15.724c-0.383 0.398-0.369 1.031 0.029 1.414 0.399 0.382 1.031 0.371 1.414-0.029l1.344-1.401v14.963c0 0.552 0.448 1 1 1h6.986c0.551 0 0.998-0.445 1-0.997l0.031-9.989h7.969v9.986c0 0.552 0.448 1 1 1h6.983c0.552 0 1-0.448 1-1v-14.968l1.343 1.407c0.197 0.204 0.459 0.308 0.722 0.308 0.249 0 0.499-0.092 0.692-0.279 0.398-0.382 0.411-1.015 0.029-1.413zM26.985 14.213v15.776h-4.983v-9.986c0-0.552-0.448-1-1-1h-9.965c-0.551 0-0.998 0.445-1 0.997l-0.031 9.989h-4.989v-15.777c0-0.082-0.013-0.162-0.032-0.239l11.055-11.52 10.982 11.507c-0.021 0.081-0.036 0.165-0.036 0.252z"></path>
</svg>`,label:"Inicio"},{href:"/study/filters",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor" aria-hidden="true">
					<path d="M603.648 541.696h223.631c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H603.648c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48zm-409.29-300.032h223.631c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H194.358c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M593.987 418.816h285.737c16.962 0 30.72 13.758 30.72 30.72v441.006c0 16.962-13.758 30.72-30.72 30.72h-317.44c-16.968 0-30.72-13.754-30.72-30.72v-39.281c0-11.311-9.169-20.48-20.48-20.48s-20.48 9.169-20.48 20.48v39.281c0 39.586 32.089 71.68 71.68 71.68h317.44c39.583 0 71.68-32.097 71.68-71.68V449.536c0-39.583-32.097-71.68-71.68-71.68H593.987c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M152.747 709.12h359.086c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H152.747c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"/>
					<path d="M512 749.568H143.36c-16.962 0-30.72-13.758-30.72-30.72V153.6c0-16.962 13.758-30.72 30.72-30.72H460.8c16.962 0 30.72 13.758 30.72 30.72v396.8c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48V153.6c0-39.583-32.097-71.68-71.68-71.68H143.36c-39.583 0-71.68 32.097-71.68 71.68v565.248c0 39.583 32.097 71.68 71.68 71.68H512c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48z"/>
					<path d="M491.571 449.28v106.24c0 16.962-13.758 30.72-30.72 30.72h-229.12v40.96h229.12c39.583 0 71.68-32.097 71.68-71.68V449.28h-40.96z"/>
					<path d="M112.64 702.771v-44.8c0-16.962 13.758-30.72 30.72-30.72h229.12v-40.96H143.36c-39.583 0-71.68 32.097-71.68 71.68v44.8h40.96z"/>
				</svg>`,label:"Estudio"},{href:"/simulation/filters",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 900" fill="currentColor" aria-hidden="true">
				<g>
					<path d="M676.637,183.386c0.002-0.002,0.004-0.004,0.005-0.005L522.549,29.287c-3.619-3.62-8.62-5.86-14.145-5.86H137.5   c-11.046,0-20,8.954-20,20v713.146c0,11.046,8.954,20,20,20h525c11.046,0,20-8.954,20-20V197.522   C682.5,192.407,680.426,187.203,676.637,183.386z M642.5,736.573h-485V63.427h342.62l114.096,114.095l-85.812,0v-41.788   c0-11.046-8.954-20-20-20s-20,8.954-20,20v61.788c0,11.046,8.954,20,20,20c0,0,92.404,0,134.096,0V736.573z"/>
					<path d="M295.217,224.417l-39.854,39.855l-5.697-5.697c-7.811-7.811-20.473-7.811-28.283,0c-7.811,7.81-7.811,20.473,0,28.284   l19.84,19.84c3.75,3.751,8.838,5.858,14.142,5.858c5.305,0,10.392-2.107,14.143-5.858l53.996-53.999   c7.81-7.811,7.81-20.474-0.001-28.284C315.69,216.606,303.027,216.606,295.217,224.417z"/>
					<path d="M557.831,312.557h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,312.557,557.831,312.557z"/>
					<path d="M367.389,272.557c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20s-8.954-20-20-20H367.389z"/>
					<path d="M557.831,435.552h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,435.552,557.831,435.552z"/>
					<path d="M496.998,395.552H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,395.552,496.998,395.552z"/>
					<path d="M557.831,558.547h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,558.547,557.831,558.547z"/>
					<path d="M496.998,518.547H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,518.547,496.998,518.547z"/>
					<path d="M557.831,681.542h6.646c11.046,0,20-8.954,20-20s-8.954-20-20-20h-6.646c-11.046,0-20,8.954-20,20   S546.785,681.542,557.831,681.542z"/>
					<path d="M496.998,641.542H367.389c-11.046,0-20,8.954-20,20s8.954,20,20,20h129.609c11.046,0,20-8.954,20-20   S508.044,641.542,496.998,641.542z"/>
					<path d="M255.363,435.552c5.304,0,10.392-2.107,14.142-5.858l53.996-53.996c7.811-7.811,7.811-20.475,0-28.285   s-20.473-7.811-28.283,0l-39.854,39.855l-5.697-5.698c-7.81-7.81-20.474-7.812-28.284-0.001s-7.811,20.474-0.001,28.284   l19.84,19.841C244.972,433.444,250.059,435.552,255.363,435.552z"/>
					<path d="M234.239,511.547l-12.856,12.857c-7.81,7.811-7.81,20.474,0.001,28.284c3.905,3.905,9.023,5.857,14.142,5.857   s10.237-1.952,14.143-5.858l12.855-12.855l12.856,12.855c3.904,3.906,9.023,5.858,14.142,5.858s10.237-1.952,14.142-5.858   c7.811-7.811,7.811-20.473,0-28.283l-12.855-12.857l12.856-12.857c7.81-7.811,7.81-20.474-0.001-28.284   c-7.811-7.81-20.474-7.81-28.284,0.001l-12.856,12.856l-12.857-12.856c-7.811-7.811-20.473-7.811-28.283,0s-7.811,20.474,0,28.283   L234.239,511.547z"/>
					<path d="M295.217,593.4l-39.854,39.855l-5.697-5.697c-7.811-7.811-20.473-7.811-28.283,0c-7.811,7.81-7.811,20.473,0,28.283   l19.84,19.84c3.75,3.752,8.838,5.858,14.142,5.858c5.305,0,10.392-2.107,14.143-5.858l53.996-53.998   c7.81-7.811,7.81-20.474-0.001-28.284C315.69,585.59,303.027,585.59,295.217,593.4z"/>
				</g>
			</svg>`,label:"Simulacro"},{href:"/questions",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" fill="currentColor" aria-hidden="true">
				<path d="M8.696 23.002v2.662h13.321v-2.662h-13.321zM3.366 20.336v10.659h23.981v-10.659h-2.666v7.994h-18.652v-7.993h-2.663zM9.483 16.928l-0.55 2.616 13.087 2.75 0.55-2.614-13.087-2.753zM11.795 10.855l-1.131 2.424 12.124 5.645 1.13-2.424zM15.731 5.276l-1.711 2.054 10.278 8.56 1.711-2.054zM20.655 1.004l-2.149 1.596 7.985 10.732 2.144-1.596z"></path>
			</svg>`,label:"Preguntas",requireRole:0},{href:"https://classroom.google.com/c/NzQxMTk2NjAxNzQ0?cjc=xygponi",icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 600" fill="currentColor" aria-hidden="true">
				<g>
					<path d="M287.633,463.3c-3.337-3.337-8.73-3.337-12.066,0c-3.337,3.336-3.337,8.73,0,12.066L309.7,509.5
							c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5c3.337-3.336,3.337-8.73,0-12.066L287.633,463.3z"/>
					<path d="M256,409.6c-4.719,0-8.533,3.823-8.533,8.533v22.067l-57.233,57.233c-3.336,3.337-3.336,8.73,0,12.066
							c1.664,1.664,3.849,2.5,6.033,2.5c2.185,0,4.369-0.836,6.033-2.5l59.733-59.733c1.596-1.604,2.5-3.772,2.5-6.033v-25.6
							C264.533,413.423,260.719,409.6,256,409.6z"/>
					<path d="M503.467,17.067H264.533V8.533C264.533,3.823,260.719,0,256,0s-8.533,3.823-8.533,8.533v8.533H8.533
							C3.814,17.067,0,20.89,0,25.6v34.133c0,4.71,3.814,8.533,8.533,8.533h443.733c4.719,0,8.533-3.823,8.533-8.533
							s-3.814-8.533-8.533-8.533h-435.2V34.133h477.867V51.2H486.4c-4.719,0-8.533,3.823-8.533,8.533v290.133
							c0,14.114-11.486,25.6-25.6,25.6H59.733c-14.114,0-25.6-11.486-25.6-25.6v-256c0-4.71-3.814-8.533-8.533-8.533
							s-8.533,3.823-8.533,8.533v256c0,23.526,19.14,42.667,42.667,42.667h392.533c23.526,0,42.667-19.14,42.667-42.667v-281.6h8.533
							c4.719,0,8.533-3.823,8.533-8.533V25.6C512,20.89,508.186,17.067,503.467,17.067z"/>
					<path d="M384,170.667c24.073,0,25.549,21.342,25.6,25.643c0.026,4.693,3.831,8.491,8.533,8.491c4.719,0,8.533-3.823,8.533-8.533
							c0-14.763-8.917-42.667-42.667-42.667c-33.749,0-42.667,27.904-42.667,42.667V230.4c0,14.754,8.917,42.667,42.667,42.667
							c33.749,0,42.667-27.912,42.667-42.667c0-4.693-3.789-8.482-8.482-8.508h-0.051c-4.676,0-8.482,3.78-8.533,8.465
							C409.549,234.641,408.09,256,384,256c-24.09,0-25.549-21.359-25.6-25.6v-34.091C358.451,192.026,359.91,170.667,384,170.667z"/>
					<path d="M171.324,250.752c1.365,3.277,4.531,5.248,7.876,5.248c1.101,0,2.21-0.205,3.285-0.657
							c4.343-1.818,6.409-6.81,4.591-11.162l-42.667-102.4c-1.323-3.174-4.437-5.248-7.876-5.248c-3.439,0-6.554,2.074-7.876,5.248
							l-42.667,102.4c-1.818,4.352,0.239,9.344,4.591,11.162c4.361,1.826,9.344-0.239,11.162-4.591l4.924-11.819H128
							c4.719,0,8.533-3.823,8.533-8.533s-3.814-8.533-8.533-8.533h-14.225l22.758-54.613L171.324,250.752z"/>
					<path d="M230.4,187.733c-4.719,0-8.533,3.823-8.533,8.533v102.4c0,4.71,3.814,8.533,8.533,8.533h34.133
							c14.754,0,42.667-7.134,42.667-34.133c0-10.829-4.489-18.466-10.82-23.723c7.177-6.144,10.82-15.377,10.82-27.477
							c0-12.646-3.985-22.178-11.827-28.297c-13.039-10.18-30.916-6.076-32.905-5.581c-4.574,1.143-7.356,5.769-6.212,10.351
							c1.143,4.565,5.768,7.339,10.342,6.204c0.12-0.034,11.733-2.628,18.27,2.475c3.49,2.731,5.265,7.723,5.265,14.848
							c0,7.1-1.758,12.083-5.222,14.814c-2.85,2.253-6.81,3.046-10.411,3.183c-3.627-0.648-7.049-0.93-9.967-0.93
							c-4.309,0-7.945,3.208-8.465,7.492c-0.538,4.275,2.219,8.277,6.4,9.318c0.896,0.23,5.035,1.178,10.496,1.229
							c7.475,1.553,17.169,5.598,17.169,16.094c0,16.708-24.585,17.058-25.6,17.067h-25.6v-93.867
							C238.933,191.556,235.119,187.733,230.4,187.733z"/>
				</g>
			</svg>`,label:"Aula Virtual"}],supportItems=[],loginData={src:signInSvg,alt:"Botón para iniciar sesión ",text:"Inicia sesión",href:"/auth"},userProfileData={text:"User Name Here",alt:"User Profile Avatar",src:userProfileSvg,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>',menuItems:[{icon:'<svg viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M2 4.75A2.75 2.75 0 0 1 4.75 2h3a2.75 2.75 0 0 1 2.75 2.75v.5a.75.75 0 0 1-1.5 0v-.5c0-.69-.56-1.25-1.25-1.25h-3c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h3c.69 0 1.25-.56 1.25-1.25v-.5a.75.75 0 0 1 1.5 0v.5A2.75 2.75 0 0 1 7.75 14h-3A2.75 2.75 0 0 1 2 11.25v-6.5Zm9.47.47a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H5.25a.75.75 0 0 1 0-1.5h7.19l-.97-.97a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg>',href:"/logout",text:"Salir de la sesión"}]};function renderNavSkeleton(){document.querySelectorAll("[data-nav-links]").forEach(Wr=>{const Gr=Array(4).fill().map(()=>`
            <span class="relative">
                <div class="flex w-full items-center gap-3 px-2 py-2.5">
                    <div class="size-6 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 animate-pulse"></div>
                </div>
            </span>
        `).join("");Wr.innerHTML=Gr})}function renderSupportSkeleton(){document.querySelectorAll("[data-support-links]").forEach(Wr=>{Wr.innerHTML=`
            <div class="flex flex-col gap-0.5">
                <div class="flex items-center gap-3 px-2 py-2.5">
                    <div class="size-6 rounded bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"></div>
                </div>
            </div>
        `})}function renderProfileSkeleton(){const Wr=document.querySelector("#user-profile-avatar");Wr&&(Wr.classList.add("animate-pulse","bg-gray-200","dark:bg-gray-700"),Wr.src=userProfileSvg);const Gr=document.querySelector("#user-profile-name");Gr&&(Gr.innerHTML='<div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"></div>')}function initializeNavigation(Wr=!1){if(initializeLoadingState(),!Wr){hideNavigation(),loadComponent("/auth");return}loadNavigationData().catch(Gr=>{console.error("Failed to load navigation:",Gr)})}function initializeLoadingState(){document.querySelectorAll("[data-version-box]").forEach(Wr=>{Wr.textContent="Version: Loading..."}),renderNavSkeleton(),renderSupportSkeleton(),renderProfileSkeleton()}async function retrieveUserDataFromDB(){const{response:Wr,error:Gr}=await fetchAPI("USERS.SELF");if(!Gr)return Wr.data.user}function hideNavigation(){document.querySelector("#nav-container").classList.add("hidden"),document.querySelector("#open-nav-button").classList.add("hidden"),document.querySelector("#main-container").classList.remove("lg:pl-64")}function showNavigation(){document.querySelector("#nav-container").classList.remove("hidden"),document.querySelector("#open-nav-button").classList.remove("hidden"),document.querySelector("#main-container").classList.add("lg:pl-64")}async function loadNavigationData(){try{const Wr=getState(),Gr=await retrieveUserDataFromDB();if(!Gr){updateState({isAuthenticated:!1,user:{}}),hideNavigation(),loadComponent("/auth");return}updateNavLogo(navLogoData),renderLoginButton(loginData),updateVersion(WEB_VERSION),createSupportSection(),Wr.isAuthenticated?showNavigation():hideNavigation(),Wr.isAuthenticated&&renderUserProfile(userProfileData,Gr),toggleHiddenClass("[data-user-container]",!Wr.isAuthenticated),toggleHiddenClass("[data-login-container]",Wr.isAuthenticated),Wr.isAuthenticated&&createNav(),initializeMobileNavigation(),document.querySelectorAll("[data-theme-toggle]").forEach(Yr=>{Yr.addEventListener("click",toggleTheme)})}catch(Wr){console.error("Error loading navigation data:",Wr),showErrorFallbacks()}}function updateVersion(Wr){document.querySelectorAll("[data-version-box]").forEach(Gr=>{Gr.textContent=`Version: ${Wr}`})}function showErrorFallbacks(){const Wr={"[data-version-box]":`Version: ${WEB_VERSION}`,"[data-brand-name]":"","[data-nav-links]":"<div class='text-red-500'></div>","[data-support-links]":"<div class='text-red-500'></div>","[data-latest-links]":"<div class='text-red-500'></div>"};Object.entries(Wr).forEach(([Gr,Yr])=>{const Zr=document.querySelector(Gr);Zr&&(Zr.innerHTML=Yr)})}function initializeMobileNavigation(){const Wr=document.querySelector("#mobile-nav-container"),Gr=document.querySelector("#mobile-nav-content"),Yr=document.querySelector("#nav-container").innerHTML,Zr=document.querySelector("#open-nav-button"),Kr=document.querySelector("#close-nav-button");let Qr=!1;Gr.innerHTML=Yr,Gr.querySelectorAll(".max-lg\\:hidden").forEach(an=>{an.classList.remove("max-lg:hidden")});function Jr(){Wr.classList.remove("-translate-x-full"),Qr=!0,tn("attach")}function en(){Wr.classList.add("-translate-x-full"),Qr=!1,tn("detach")}function tn(an){an==="attach"&&document.addEventListener("click",rn),an==="detach"&&document.removeEventListener("click",rn)}Zr.addEventListener("click",function(an){an.stopPropagation(),Jr()}),Kr.addEventListener("click",en),Gr.addEventListener("click",an=>{an.target.closest("[data-close-nav]")&&en()});function rn(an){const nn=Wr.contains(an.target),sn=Zr.contains(an.target);!nn&&!sn&&Qr&&en()}document.querySelectorAll("[data-link]").forEach(an=>{an.onclick=nn=>{nn.preventDefault();const sn=an.getAttribute("href");loadComponent(buildPath(sn,getCurrentPath().query))}}),htmx.process(Gr)}function renderNavDropdown(Wr){document.querySelectorAll("[data-brand-dropdown]").forEach(Gr=>{Gr.innerHTML="",Wr.forEach(Yr=>{const Zr=document.createElement("a");if(Yr.href&&(Zr.href=Yr.href),Zr.classList.add("flex","items-center","gap-3","rounded-lg","px-4","py-2","text-sm","text-gray-500","hover:bg-gray-50","dark:hover:bg-gray-700","dark:text-gray-300","dark:hover:text-white"),Zr.setAttribute("role","menuitem"),Zr.setAttribute("data-link",!0),Yr.icon){const Qr=document.createElement("span");Qr.innerHTML=Yr.icon,Qr.classList.add("w-5","h-5","text-gray-400","dark:text-gray-500"),Zr.appendChild(Qr)}const Kr=document.createElement("span");Kr.textContent=Yr.text,Zr.appendChild(Kr),Yr.hxGet&&Zr.setAttribute("hx-get",Yr.hxGet),Yr.hxTarget&&Zr.setAttribute("hx-target",Yr.hxTarget),Yr.hxSwap&&Zr.setAttribute("hx-swap",Yr.hxSwap),Gr.appendChild(Zr)})})}function updateNavLogo(Wr){const{avatar:Gr,name:Yr,icon:Zr,menuItems:Kr}=Wr;document.querySelectorAll("[data-brand-logo]").forEach(Qr=>{Qr.classList.remove("hidden"),Qr.src=Gr.src,Qr.alt=Gr.alt}),document.querySelectorAll("[data-brand-name]").forEach(Qr=>{Qr.classList.remove("animate-pulse"),Qr.textContent=Yr}),document.querySelectorAll("[data-brand-icon]").forEach(Qr=>{Zr&&(Qr.outerHTML=Zr)}),(!Kr||Kr.length===0)&&(document.querySelectorAll("[data-dropdown-menu]").forEach(Qr=>{Qr.remove()}),document.querySelectorAll("[data-brand-icon]").forEach(Qr=>{Qr.remove()})),renderNavDropdown(Kr)}function createNav(){document.querySelectorAll("[data-nav-links]").forEach(Wr=>{Wr.innerHTML="";const Gr=document.createElement("div");Gr.classList.add("flex","flex-col","gap-0.5"),navItems.forEach(Yr=>{var en;if(Yr.requireRole!==void 0&&Yr.requireRole!==getState().user.role)return;const Zr=document.createElement("span");Zr.classList.add("relative");const Kr=document.createElement("a");switch(Kr.classList.add("flex","w-full","items-center","gap-3","rounded-lg","px-2","py-2.5","text-left","text-base/6","font-medium","text-zinc-950","sm:py-2","sm:text-sm/5","dark:text-white","hover:bg-gray-100","dark:hover:bg-gray-700"),Yr.lock&&Kr.classList.add("cursor-not-allowed","opacity-50"),Yr.lock||(Kr.href=Yr.href),Kr.setAttribute("data-close-nav",!0),Yr.href){case((en=Yr.href.match(/^https?:\/\//))==null?void 0:en.input):Kr.setAttribute("target","_blank"),Kr.setAttribute("rel","noopener noreferrer");break;case"/classroom":break;default:Kr.setAttribute("data-link",!0),Kr.onclick=tn=>{tn.preventDefault();const rn=Kr.getAttribute("href");loadComponent(buildPath(rn,getCurrentPath().query))};break}const Qr=document.createElement("span");Qr.innerHTML=Yr.icon,Qr.classList.add("size-6","shrink-0","fill-zinc-500","dark:fill-zinc-400"),Kr.appendChild(Qr);const Jr=document.createElement("span");Jr.classList.add("truncate"),Jr.textContent=Yr.label,Kr.appendChild(Jr),Zr.appendChild(Kr),Gr.appendChild(Zr)}),htmx.process(Gr),Wr.appendChild(Gr)})}function createSupportSection(){document.querySelectorAll("[data-support-links]").forEach(Wr=>{Wr.innerHTML="";const Gr=document.createElement("div");Gr.classList.add("flex","flex-col","gap-0.5"),supportItems.forEach(Yr=>{const Zr=document.createElement("span");Zr.classList.add("relative");const Kr=document.createElement("a");Kr.classList.add("flex","w-full","items-center","gap-3","rounded-lg","px-2","py-2.5","text-left","text-base/6","font-medium","text-zinc-950","sm:py-2","sm:text-sm/5","dark:text-white","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700"),Kr.href&&(Kr.href=Yr.href),Yr.onclick&&Kr.setAttribute("onclick",Yr.onclick);const Qr=document.createElement("span");Qr.innerHTML=Yr.icon,Qr.classList.add("size-6","shrink-0","fill-zinc-500","dark:fill-zinc-400");const Jr=document.createElement("span");Jr.classList.add("truncate"),Jr.textContent=Yr.label,Yr.icon&&Kr.appendChild(Qr),Kr.appendChild(Jr),Zr.appendChild(Kr),Gr.appendChild(Zr)}),Wr.appendChild(Gr)})}function renderUserProfile(Wr,Gr){const{src:Yr,alt:Zr,icon:Kr,menuItems:Qr}=Wr,{name:Jr,email:en,role:tn,state:rn}=Gr;document.querySelectorAll("[data-user-avatar]").forEach(an=>{an.classList.remove("animate-pulse"),an.src=Yr,an.alt=Zr}),document.querySelectorAll("[data-user-name]").forEach(an=>{an.textContent=Jr}),document.querySelectorAll("[data-user-icon]").forEach(an=>{if(an.classList.remove("animate-pulse"),Kr&&(an.outerHTML=Kr),Yr){const nn=document.createElement("img");nn.src=Kr.src,nn.alt=Kr.alt||"User icon",nn.className=an.className,an.replaceWith(nn)}}),document.querySelectorAll("[data-user-dropdown]").forEach(an=>{an.innerHTML="",Qr.forEach(nn=>{const sn=document.createElement("a");if(nn.href&&(sn.href=nn.href,sn.setAttribute("data-link",!0),sn.setAttribute("data-close-nav",!0)),sn.classList.add("flex","items-center","gap-2","rounded-lg","px-4","py-2","text-sm","text-gray-500","hover:bg-gray-50","dark:hover:bg-gray-700","dark:text-gray-300","dark:hover:text-white","cursor-pointer"),sn.setAttribute("role","menuitem"),nn.icon){const un=document.createElement("span");un.innerHTML=nn.icon,un.classList.add("w-5","h-5","text-gray-400","dark:text-gray-500"),sn.appendChild(un)}const ln=document.createElement("span");ln.textContent=nn.text,sn.appendChild(ln),nn.hxAttributes&&Object.keys(nn.hxAttributes).length>0&&Object.entries(nn.hxAttributes).forEach(([un,cn])=>{sn.setAttribute(un,cn)}),nn.hxNotify&&(sn.setAttribute("hx-confirm","true"),sn.setAttribute("hx-on::after-request",`
					if (event.detail.successful) {
						showModalX('success', 'Estadísticas reiniciadas', 'Las estadísticas se han reiniciado correctamente');
					} else {
						showModalX('error', 'Error', event.detail.xhr.responseText || 'Ha ocurrido un error inesperado');
					}
					loadComponent('/')
				`),window.showModalX=showModalX,window.loadComponent=loadComponent),an.appendChild(sn),htmx.process(an)})})}document.addEventListener("htmx:confirm",async function(Wr){if(!Wr.detail.target.hasAttribute("hx-confirm"))return;Wr.preventDefault(),await showConfirmationDialog("Con esta acción borrarás todas las estadísticas vinculadas a tu perfil. ¿Estás seguro de que deseas continuar?")&&Wr.detail.issueRequest(!0)});function renderLoginButton(Wr){const{src:Gr,alt:Yr,text:Zr,href:Kr}=Wr;document.querySelectorAll("[data-login-avatar]").forEach(Qr=>{Qr.classList.remove("animate-pulse"),Qr.src=Gr,Qr.alt=Yr}),document.querySelectorAll("[data-login-name]").forEach(Qr=>{Qr.textContent=Zr}),document.querySelectorAll("[data-login-anchor]").forEach(Qr=>{Qr.href=Kr,Qr.setAttribute("data-link",!0)}),document.querySelectorAll("[data-login-container").forEach(Qr=>{Qr.setAttribute("data-close-nav",!0)})}function isDesktop(){return window.innerWidth>=1024}function backdrop(Wr){if(!isDesktop())return;if(!Wr){const Zr=document.querySelector("#nav-backdrop");Zr&&Zr.remove();return}const Gr=document.querySelector("#nav-container"),Yr=document.createElement("div");Yr.id="nav-backdrop",Yr.className="fixed inset-y-0 left-0 w-full max-w-80 lg:w-64 z-40 backdrop-blur-md bg-white/30 dark:bg-zinc-800/10 lg:block",Gr.parentNode.insertBefore(Yr,Gr)}class Simulation extends Component{constructor(){super("simulation"),this.simulationType=null}async initialize(){const{filters:Gr}=getState();if(!Gr||Object.keys(Gr).length===0){console.error("No filter data found, redirecting to simulation filters page."),loadComponent("/simulation/filters");return}this.simulationType=Gr==null?void 0:Gr.simulationType;const Yr=await this.fetchData(Gr);this.generateContent(Yr),backdrop(!0),this.setupBeforeUnloadHandler(),this.setupNavigationHandlers(),this.startTime=Date.now(),updateState({filters:{},navigationBlocked:!0})}async fetchData(Gr){delete Gr.time,delete Gr.simulationType;const Yr=API.getSchemaForEndpoint("QUESTIONS.SELF"),Zr=API.buildQueryString(Yr,Gr);if(!Zr)return;const{response:Kr,error:Qr}=await apiRequest$1(API.endpoints.QUESTIONS.SELF+Zr,"GET",{});if(!Qr)return Kr.data.questions}setupNavigationHandlers(){window.addEventListener("popstate",async Gr=>{if(getState().navigationBlocked){if(!await showConfirmationDialog("Si abandonas la página perderás tu progreso. ¿Deseas salir?","Abandonar","Cancelar"))return;updateState({navigationBlocked:!1}),backdrop(!1),window.removeEventListener("beforeunload",this.beforeUnloadHandler),window.location.reload()}})}setupBeforeUnloadHandler(){const Gr=async Yr=>{Yr.preventDefault()};window.addEventListener("beforeunload",Gr),this.beforeUnloadHandler=Gr}generateContent(Gr){const Yr=document.querySelector("#simulationForm");Yr.innerHTML="",Gr.forEach((Kr,Qr)=>{const Jr=this.createQuestionElement(Kr,Qr);Yr.appendChild(Jr)});const Zr=generateButton("submitBtn","Enviar respuestas","submit","primary");Yr.appendChild(Zr),Yr.addEventListener("submit",Kr=>this.handleFormSubmit(Kr,Yr,Gr))}createQuestionElement(Gr,Yr){const Zr=document.createElement("div");Zr.className="space-y-4 p-4 border border-zinc-300 dark:border-zinc-700 rounded-lg mb-6 bg-white dark:bg-zinc-800";const Kr=document.createElement("p");Kr.className="text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",Kr.innerText=`${Yr+1}. ${Gr.question}`,Zr.appendChild(Kr);const Qr=Gr.answers,Jr=document.createElement("div");return Jr.className="space-y-3",Qr.forEach((en,tn)=>{const rn=document.createElement("label");rn.className="flex items-center space-x-3 cursor-pointer";const an=document.createElement("input");an.type="radio",an.name=`question-${Gr.id}`,an.value=tn,an.className="sr-only";const nn=document.createElement("span");nn.className="flex flex-shrink-0 h-5 w-5 items-center justify-center border-2 border-zinc-400 rounded-full dark:border-zinc-600 transition-colors";const sn=document.createElement("span");sn.className="h-2 w-2 rounded-full bg-white transition-opacity opacity-0",nn.appendChild(sn),rn.addEventListener("click",un=>{un.preventDefault(),an.checked?(an.checked=!1,nn.classList.remove("bg-zinc-900","dark:bg-zinc-600","border-transparent"),sn.classList.add("opacity-0")):Jr.querySelectorAll("input[type='radio']").forEach(cn=>{const hn=cn.parentElement.querySelector(".flex.h-5.w-5"),dn=hn.querySelector(".h-2.w-2");cn.checked=cn===an,cn.checked?(hn.classList.add("bg-zinc-900","dark:bg-zinc-600","border-transparent"),dn.classList.remove("opacity-0")):(hn.classList.remove("bg-zinc-900","dark:bg-zinc-600","border-transparent"),dn.classList.add("opacity-0"))})});const ln=document.createElement("span");ln.className="text-sm text-zinc-900 dark:text-zinc-100",ln.innerText=`${String.fromCharCode(65+tn)}. ${en}`,rn.appendChild(an),rn.appendChild(nn),rn.appendChild(ln),Jr.appendChild(rn)}),Zr.appendChild(Jr),Zr}async handleFormSubmit(Gr,Yr,Zr){Gr.preventDefault();const{timeUp:Kr}=getState();if(!Kr){if(!await showConfirmationDialog(translations[userLanguage].submitConfirmation))return;updateState({timeUp:!1})}const Qr=Math.floor(Date.now()-this.startTime),Jr=this.simulationType;updateState({navigationBlocked:!1});const en=new FormData(Yr);this.updateSelectedAnswers(en,Zr);try{const{error:tn}=await submitAnswersV2(Zr,"simulation",{timeSpent:Qr,simulationType:Jr});if(tn){showModalX("error","Error enviando respuestas",tn);return}backdrop(!1),updateState({data:Zr}),loadComponent("/simulation/results")}catch(tn){showModalX("error","Error enviando simulación",tn);return}}updateSelectedAnswers(Gr,Yr){return Gr.forEach((Zr,Kr)=>{const Qr=Kr.split("-")[1],Jr=Yr.find(en=>en.id===Number(Qr));Jr&&(Jr.selectedAnswer=Number(Zr))}),Yr}}document.addEventListener("alpine:init",()=>{module_default.data("countdownTimer",()=>({initialTime:null,size:60,radius:27,strokeWidth:5,timer:null,get circumference(){return 2*Math.PI*this.radius},get formattedTime(){const Wr=Math.floor(this.timeRemaining/60),Gr=this.timeRemaining%60;return`${String(Wr).padStart(2,"0")}:${String(Gr).padStart(2,"0")}`},startCountdown(){const Wr=Date.now()+this.initialTime*60*1e3;localStorage.setItem("simulationEndTime",Wr),this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{const Gr=parseInt(localStorage.getItem("simulationEndTime")),Yr=Date.now(),Zr=Math.max(0,Math.floor((Gr-Yr)/1e3));if(Zr<=0){clearInterval(this.timer),localStorage.removeItem("simulationEndTime"),updateState({timeUp:!0});const Kr=document.querySelector("#simulationForm");Kr&&Kr.requestSubmit()}else this.timeRemaining=Zr},1e3)},init(){const{filters:Wr}=getState(),Gr=Wr==null?void 0:Wr.simulationType;if(!Gr){console.error("Simulation type not found in filters, redirecting to simulation filters page."),loadComponent("/simulation/filters");return}this.initialTime=GAME_PARTS_CONFIG[getGamePartKeyFromType(Gr)].defaultTime,this.timeRemaining=this.initialTime*60,updateState({timeUp:!1}),this.startCountdown()}}))});const simulationComponent=new Simulation("simulation"),initializeSimulation=()=>simulationComponent.initialize(),notFoundHeader$1={title:"404",subheader:"Oops! Page not found"},backToHomeButton$1={label:"Volver a la página de inicio"};function initializeNotFound(){generateNotFoundHeader$1(),generateBackToHomeButton$1(backToHomeButton$1.label)}function generateBackToHomeButton$1(Wr){const Gr=document.querySelector("#back-to-home-button"),Yr=generateButton("",Wr);Yr.onclick=()=>window.location.href="/",Gr.appendChild(Yr)}function generateNotFoundHeader$1(){const Wr=document.getElementById("error-header");Wr.textContent=notFoundHeader$1.title;const Gr=document.getElementById("error-subheader");Gr.textContent=notFoundHeader$1.subheader}const forms={login:`${SERVER_URL}login/`,register:`${SERVER_URL}register/`,forgot:`${SERVER_URL}password/forgot/`,reset:`${SERVER_URL}password/reset/`};document.addEventListener("alpine:init",()=>{module_default.store("auth",{activeForm:"login"})});const passwordToggleIcons={show:`
    <svg data-toggle-password-visibility="show" xmlns="http://www.w3.org/2000/svg"
		fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
		stroke-linejoin="round" class="h-5 w-5 text-zinc-900 dark:text-zinc-100 toggle-icon"
		viewBox="0 0 24 24">
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M1 12C1 12 5 4 12 4C19 4 23 12 23 12" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M1 12C1 12 5 20 12 20C19 20 23 12 23 12" />
		<circle stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" cx="12" cy="12" r="3" />
	</svg>
  `,hide:`
    <svg data-toggle-password-visibility="hide" xmlns="http://www.w3.org/2000/svg"
		fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
		stroke-linejoin="round"
		class="h-5 w-5 text-zinc-900 dark:text-zinc-100 toggle-icon hidden"
		viewBox="0 0 22 22">
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round" d="M2 2L22 22" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round"
			d="M6.71277 6.7226C3.66479 8.79527 2 12 2 12C2 12 5.63636 19 12 19C14.0503 19 15.8174 18.2734 17.2711 17.2884M11 5.05822C11.3254 5.02013 11.6588 5 12 5C18.3636 5 22 12 22 12C22 12 21.3082 13.3317 20 14.8335" />
		<path stroke="currentColor" stroke-width="2" stroke-linecap="round"
			stroke-linejoin="round"
			d="M14 14.2362C13.4692 14.7112 12.7684 15.0001 12 15.0001C10.3431 15.0001 9 13.657 9 12.0001C9 11.1764 9.33193 10.4303 9.86932 9.88818" />
	</svg>
  `};class Auth extends Component{constructor(){super("auth"),this.setupFormListeners()}async initialize(){this.initializePasswordToggle(),this.initializeResetFormListeners(),this.checkVerificationStatus();const Yr=new URLSearchParams(getState().queryParams).get("action");Yr&&["login","register","forgot","reset"].includes(Yr)&&(module_default.store("auth").activeForm=Yr,Yr==="reset"&&this.checkResetToken()),Object.entries(forms).forEach(([Zr,Kr])=>{const Qr=document.querySelector(`#${Zr}-form form`);Qr&&Qr.setAttribute("hx-post",Kr)}),htmx.process(document.querySelector("#auth-forms"))}checkResetToken(){const Gr=new URLSearchParams(getState().queryParams),Yr=Gr.get("token"),Zr=Gr.get("userId");Yr&&Zr&&(document.querySelector("#reset-token").value=Yr,document.querySelector("#reset-user-id").value=Zr)}checkVerificationStatus(){const Yr=new URLSearchParams(getState().queryParams).get("verified");if(Yr&&["true","false"].includes(Yr))switch(Yr){case"true":setTimeout(()=>{showModalX("info","Email verificado","Tu dirección de correo electrónico ha sido verificada. Puedes iniciar sesión.")},1e3);break;case"false":setTimeout(()=>{showModalX("info","No verificado","Tu dirección de correo electrónico no ha podido ser verificada. Prueba a iniciar sesión, si no funciona, ponte en contacto con nosotros.")},1e3);break}}initializeResetFormListeners(){const Gr=document.querySelector("#resetPasswordForm"),Yr=document.querySelector("#reset-password-1"),Zr=document.querySelector("#reset-password-2"),Kr=document.querySelector("#error-message");Gr.addEventListener("htmx:beforeRequest",function(Qr){if(Kr.style.display="none",Kr.textContent="",!Yr.value||!Zr.value){Qr.preventDefault(),Kr.textContent="Por favor, introduce ambas contraseñas.",Kr.style.display="block";return}if(Yr.value!==Zr.value){Qr.preventDefault(),Kr.textContent="Las contraseñas no coinciden.",Kr.style.display="block";return}})}initializePasswordToggle(){document.querySelectorAll(".toggle-password").forEach(Gr=>{Gr.innerHTML=passwordToggleIcons.hide+passwordToggleIcons.show;const Yr=Gr.closest("div").querySelector("input[type='password'], input[type='text']"),Zr=Gr.querySelector("[data-toggle-password-visibility='show']"),Kr=Gr.querySelector("[data-toggle-password-visibility='hide']");Zr.classList.remove("hidden"),Kr.classList.add("hidden"),Gr.addEventListener("click",()=>{const Qr=Yr.type==="password";Yr.type=Qr?"text":"password",Qr?(Zr.classList.add("hidden"),Kr.classList.remove("hidden")):(Zr.classList.remove("hidden"),Kr.classList.add("hidden"))})})}setupFormListeners(){document.addEventListener("htmx:afterRequest",async Gr=>this.handleResponse(Gr).catch(Yr=>showModalX("error","Error del servidor",`El servidor ha encontrado un error al procesar la solicitud: ${Yr.message}`)))}async handleResponse(Gr){var Qr,Jr;if(!Object.keys(forms).some(en=>Gr.detail.pathInfo.requestPath.includes(en)))return;const Yr=Gr.detail.xhr.status,Zr=JSON.parse(Gr.detail.xhr.response).error,Kr=(Jr=(Qr=Gr.detail)==null?void 0:Qr.requestConfig)==null?void 0:Jr.path;switch(Yr){case 200:Kr!=null&&Kr.includes("password/forgot")?(showModalX("success","Email enviado","Se ha enviado un correo con las instrucciones para restablecer tu contraseña."),module_default.store("auth").activeForm="login"):Kr!=null&&Kr.includes("password/reset")?(showModalX("success","Contraseña actualizada","Tu contraseña ha sido actualizada correctamente."),module_default.store("auth").activeForm="login"):(updateState({isAuthenticated:!0,user:JSON.parse(Gr.detail.xhr.response)}),initializeNavigation(!0),loadComponent("/"),showModalX("success","Login satisfactorio","Has iniciado sesión satisfactoriamente."));break;case 201:showModalX("success","Registro satisfactorio","Tu cuenta ha sido creada satisfactoriamente."),setTimeout(()=>{showModalX("info","Verificación pendiente","Verifica tu email antes de iniciar sesión.")},1e3),loadComponent("/auth");break;default:showModalX("error","No autorizado",`${Zr.message||"El servidor ha rechazado la solicitud."}`);break}}}const authComponent=new Auth("auth"),initializeAuth=()=>authComponent.initialize(),MAX_LOCAL_QUESTIONS=1500,QUESTIONS_MAX_DISPLAY=1500,QUESTIONS_PAGE_SIZE=200;let totalQuestions=0,allQuestions=[],currentPage=1,displayCount=200,isLoading=!1,currentSortField=null,sortDirection="asc";async function initializeQuestions(){var Wr,Gr;await loadAllQuestions(),(Wr=document.querySelector("#loadMoreQuestions"))==null||Wr.addEventListener("click",()=>{isLoading||loadMoreQuestions()}),document.querySelector("#questionSearch").addEventListener("input",Yr=>{filterQuestions(Yr.target.value)}),(Gr=document.querySelector("#sortByTema"))==null||Gr.addEventListener("click",()=>{sortQuestionsByTema()}),document.querySelector("#uploadCsv").addEventListener("click",()=>{document.querySelector("#csvUpload").click()}),document.querySelector("#csvUpload").addEventListener("change",handleCsvUpload)}function sortQuestionsByTema(){currentSortField==="tema"?sortDirection=sortDirection==="asc"?"desc":"asc":(currentSortField="tema",sortDirection="asc");const Wr=[...allQuestions].sort((Yr,Zr)=>{const Kr=Yr.extra?safeJSONParse(Yr.extra,{}):{},Qr=Zr.extra?safeJSONParse(Zr.extra,{}):{},Jr=Kr.lesson||"",en=Qr.lesson||"",tn=parseInt(Jr),rn=parseInt(en);return!isNaN(tn)&&!isNaN(rn)?sortDirection==="asc"?tn-rn:rn-tn:sortDirection==="asc"?Jr.localeCompare(en,"es",{numeric:!0}):en.localeCompare(Jr,"es",{numeric:!0})}),Gr=document.querySelector("#sortByTema");if(Gr){const Yr=Gr.querySelector("svg");sortDirection==="asc"?Yr.classList.remove("rotate-180"):Yr.classList.add("rotate-180")}renderQuestions(Wr.slice(0,displayCount)),updateSearchStats(Wr.length)}async function loadAllQuestions(){try{isLoading=!0,showLoadingState();const{questions:Wr,total:Gr}=await fetchQuestions({limit:MAX_LOCAL_QUESTIONS});allQuestions=Wr,currentPage=1,renderQuestions(allQuestions.slice(0,displayCount)),updateSearchStats(Math.min(QUESTIONS_PAGE_SIZE,allQuestions.length)),allQuestions.length<=displayCount&&(document.querySelector("#loadMoreQuestions").style.display="none")}catch(Wr){console.error("Failed to load questions:",Wr),showModalX("error","Error","Error cargando preguntas")}finally{resetLoadingState(),isLoading=!1}}function loadMoreQuestions(){if(!isLoading&&(displayCount=Math.min(displayCount+QUESTIONS_PAGE_SIZE,QUESTIONS_MAX_DISPLAY,allQuestions.length),renderQuestions(allQuestions.slice(0,displayCount)),updateSearchStats(displayCount),displayCount>=Math.min(allQuestions.length,QUESTIONS_MAX_DISPLAY))){document.querySelector("#loadMoreQuestions").style.display="none";const Yr=document.querySelector("#countDisplay");if(Yr){var Wr=document.createElement("div"),Gr=document.createTextNode("Ya no hay más preguntas para mostrar.");Wr.appendChild(Gr),Yr.appendChild(Wr)}}}function filterQuestions(Wr){if(!Wr){const Yr=currentSortField==="tema"?sortQuestionsByTema():allQuestions.slice(0,displayCount);renderQuestions(Yr),updateSearchStats(allQuestions.length);return}const Gr=allQuestions.filter(Yr=>{var Qr,Jr;const Zr=[Yr.question,Yr.explanation,...safeJSONParse(Yr.answers,[]),(Qr=Yr.year)==null?void 0:Qr.toString(),(Jr=Yr.categoryNames)==null?void 0:Jr.join(" ")].join(" ").toLowerCase(),Kr=Wr.toLowerCase();return Zr.includes(Kr)});renderQuestions(Gr.slice(0,displayCount)),updateSearchStats(Gr.length)}async function handleCsvUpload(Wr){var Zr,Kr;const Gr=Wr.target.files[0];if(!Gr)return;const Yr=new FormData;Yr.append("file",Gr);try{const Qr=await fetch(SERVER_URL+"questions/upload",{method:"POST",body:Yr,credentials:"include",headers:{Accept:"application/json"}}),Jr=await Qr.json();if(!Qr.ok)throw new Error(((Zr=Jr.error)==null?void 0:Zr.details)||Jr.message||"Upload failed");if(Jr.success){const en=Jr.data.stats,tn=(Kr=Jr.meta)==null?void 0:Kr.processingTimeMs,rn=`
                <div class="space-y-2">
                    <p class="font-medium">CSV procesado correctamente</p>
                    <div class="text-sm space-y-1">
                        <p>✓ ${en.totalProcessed} filas de CSV procesadas</p>
                        <p>✓ ${en.questionsProcessed} preguntas procesadas</p>
                        <p>✓ ${en.questionsAdded} preguntas añadidas</p>
                        <p>✓ ${en.categoriesAdded} categorías nuevas</p>
                        <p>✓ ${en.regionsAdded} regiones nuevas</p>
                        <p>✓ ${en.institutionsAdded} instituciones nuevas</p>
                        ${tn?`<p class="text-xs text-zinc-200 mt-2">Tiempo de procesamiento: ${tn}ms</p>`:""}
						${en.errors.length?`<p class="text-xs text-red-500 mt-4">✗ ${en.errors.join("<br>✗ ")}</p>`:""}
                    </div>
                </div>
            `;showModalX("success","Subida del CSV exitosa",rn),loadMoreQuestions()}else{const en=`
                <div class="space-y-2">
                    <p class="font-medium">Se han encontrado errores al procesar el CSV</p>
                    <div class="text-sm space-y-1">
                        <p>⚠️ ${Jr.error.details}</p>
                    </div>
                </div>
            `;showModalX("error",Jr.error.code,en)}}catch(Qr){console.error("Upload error:",Qr);const Jr=`
            <div class="space-y-2">
                <p class="font-medium">Error al procesar el CSV</p>
                <p class="text-sm text-red-500">${Qr.message}</p>
                ${Qr.details?`<p class="text-xs mt-2">${Qr.details}</p>`:""}
            </div>
        `;showModalX("error","Error de Importación",Jr)}Wr.target.value=""}function updateSearchStats(Wr){const Gr=document.querySelector("#countDisplay");if(Gr){const Yr=totalQuestions||allQuestions.length;Gr.textContent=Wr===Yr?`Mostrando ${Math.min(Wr,QUESTIONS_MAX_DISPLAY)} de ${Yr} preguntas`:`Mostrando ${Wr} resultados de ${Yr} preguntas`}}function renderQuestions(Wr){const Gr=document.querySelector("#questionsBody");if(!Wr.length){Gr.innerHTML=`
            <tr>
                <td colspan="3" class="px-4 py-8 text-center text-zinc-200">
                    No se encontraron preguntas que coincidan con tu búsqueda
                </td>
            </tr>
        `;return}Gr.innerHTML=Wr.map(Yr=>{const Zr=safeJSONParse(Yr.answers,[]),Kr=Yr.extra?safeJSONParse(Yr.extra,{}):{};return`
      <tr class="hover:bg-zinc-950/[2.5%] dark:hover:bg-white/[2.5%] cursor-pointer group"
          data-question-id="${Yr.id}">
          <td class="px-4 py-3">${Yr.id||""}</td>
          <td class="px-4 py-3">
              ${truncate(Yr.question||"",60)}
              ${Yr.year?`<div class="text-xs text-zinc-500">Año: ${Yr.year}</div>`:""}
          </td>
          <td class="px-4 py-3">
            <div class="text-sm">
              ${Zr.map((Qr,Jr)=>`${String.fromCharCode(65+Jr)}) ${Qr}`).join("<br>")}
              ${Yr.accepted!==void 0?`
                  <div class="text-xs text-zinc-500">
                      Respuesta correcta: ${Zr[Yr.accepted]||""}
                  </div>
              `:""}
            </div>
          </td>
		   <td class="px-4 py-3">
              <div class="text-sm">
                  ${Kr.lesson||""}
              </div>
          </td>
          <!--
		  <td class="px-4 py-3 text-right">
              <div class="space-y-1">
                  <button class="text-indigo-500 hover:text-indigo-700 mr-2"
                          hx-get="/api/questions/${Yr.id}/edit"
                          hx-target="closest tr">Editar</button>
                  <button class="text-red-500 hover:text-red-700"
                          hx-delete="/api/questions/${Yr.id}"
                          hx-confirm="¿Eliminar esta pregunta?">Eliminar</button>
              </div>
          </td>
		  -->
      </tr>
    `}).join(""),document.querySelectorAll("[data-question-id]").forEach(Yr=>{Yr.addEventListener("click",Zr=>{if(Zr.target.tagName==="BUTTON"||Zr.target.closest("button"))return;const Kr=Yr.getAttribute("data-question-id");loadComponent(`/questions/${Kr}`)})})}function truncate(Wr,Gr){return Wr.length>Gr?Wr.substring(0,Gr)+"...":Wr}async function fetchQuestions(Wr={}){const Gr=API.endpoints.QUESTIONS.BASE,Yr=API.getSchemaForEndpoint("QUESTIONS.BASE"),Zr=API.buildQueryString(Yr,Wr);try{const{response:Kr,error:Qr}=await apiRequest$1(Gr+Zr,"GET",{});if(Qr)throw Qr;return!(Kr!=null&&Kr.questions)||!Array.isArray(Kr.questions)?(console.error("Invalid API response structure"),{questions:[],total:0}):{questions:Kr.questions,total:Kr.total||Kr.questions.length}}catch(Kr){return console.error("Fetch Questions Failed:",Kr),{questions:[],total:0}}}function updatePaginationControls(Wr){const Gr=document.querySelector("#pagination");if(!Gr)return;const Yr=Math.ceil(Wr/QUESTIONS_PAGE_SIZE);Gr.innerHTML=`
        <div class="flex items-center justify-between px-4 py-3 sm:px-6">
            <div class="flex flex-1 justify-between sm:hidden">
                <button ${currentPage<=1?"disabled":""}
                    class="pagination-btn relative inline-flex items-center px-4 py-2 text-sm font-semibold
                    ${currentPage<=1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}"
                    onclick="changePage(${currentPage-1})">
                    Anterior
                </button>
                <button ${currentPage>=Yr?"disabled":""}
                    class="pagination-btn relative ml-3 inline-flex items-center px-4 py-2 text-sm font-semibold
                    ${currentPage>=Yr?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}"
                    onclick="changePage(${currentPage+1})">
                    Siguiente
                </button>
            </div>
            <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
                <div>
                    <p class="text-sm text-gray-700">
                        Mostrando página <span class="font-medium">${currentPage}</span> de
                        <span class="font-medium">${Yr}</span>
                    </p>
                </div>
                <div class="flex space-x-2">
                    ${Array.from({length:Yr},(Zr,Kr)=>Kr+1).map(Zr=>`
                            <button
                                class="pagination-btn relative inline-flex items-center px-4 py-2 text-sm
                                ${Zr===currentPage?"bg-indigo-600 text-white":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"}"
                                onclick="changePage(${Zr})">                                ${Zr}
                            </button>
                        `).join("")}
                </div>
            </div>
        </div>
    `}async function changePage(Wr){var Gr;if(!(isLoading||Wr===currentPage)&&!(Wr<1)){isLoading=!0,currentPage=Wr;try{const{questions:Yr,total:Zr}=await fetchQuestions({offset:(Wr-1)*QUESTIONS_PAGE_SIZE,limit:QUESTIONS_PAGE_SIZE});totalQuestions=Wr*QUESTIONS_PAGE_SIZE+QUESTIONS_PAGE_SIZE,renderQuestions(Yr),updatePaginationControls(Zr),updateCountDisplay(0),(Gr=document.querySelector("#questionsBody"))==null||Gr.scrollIntoView({behavior:"smooth"})}catch(Yr){console.error("Error changing page:",Yr)}finally{isLoading=!1}}}function updateCountDisplay(Wr){const Gr=document.querySelector("#countDisplay");if(Gr){const Yr=(currentPage-1)*QUESTIONS_PAGE_SIZE+1,Zr=Math.min(currentPage*QUESTIONS_PAGE_SIZE,Wr);Gr.textContent=`Mostrando ${Yr}-${Zr} de ${Wr} preguntas`}}function showLoadingState(){const Wr=document.querySelector("#loadMoreQuestions");Wr&&(Wr.innerHTML='<span class="loading">Cargando...</span>',Wr.disabled=!0)}function resetLoadingState(){const Wr=document.querySelector("#loadMoreQuestions");Wr&&(Wr.innerHTML="Cargar más",Wr.disabled=!1)}window.changePage=changePage;const failIcon="data:image/svg+xml,%3csvg%20width='451'%20height='377'%20viewBox='0%200%20451%20377'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M384.248%2028L67%20350.61'%20stroke='%23782324'%20stroke-width='40.55'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M384.248%20350.61L67%2028'%20stroke='%23782324'%20stroke-width='40'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",passIcon="data:image/svg+xml,%3csvg%20width='451'%20height='377'%20viewBox='0%200%20451%20377'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M436.999%2042.2547C432.969%2038.2486%20427.517%2036%20421.835%2036C416.152%2036%20410.701%2038.2486%20406.671%2042.2547L167.92%20279.93L38.8655%20150.876C34.9294%20146.626%2029.4662%20144.113%2023.6778%20143.892C17.8894%20143.67%2012.2499%20145.756%208.00001%20149.693C3.75011%20153.629%201.2379%20159.092%201.01604%20164.88C0.794187%20170.669%202.88085%20176.308%206.817%20180.558L167.92%20341.231L436.999%2072.7976C439.015%2070.798%20440.615%2068.4191%20441.707%2065.798C442.799%2063.1769%20443.361%2060.3656%20443.361%2057.5261C443.361%2054.6867%20442.799%2051.8753%20441.707%2049.2543C440.615%2046.6332%20439.015%2044.2542%20436.999%2042.2547Z'%20fill='%232D4C1C'/%3e%3c/svg%3e";class Results extends Component{constructor(Gr){super("results"),this.type=Gr}initializeTestResult(){const{data:Gr}=getState();return!Gr||Object.keys(Gr).length===0?(console.error(`No filter data found, redirecting to ${this.type} filters page.`),initializeFilters(this.type)):{submissionType:this.type,answers:Gr}}initializeHistoryResult(){const{submissions:Gr,currentRoute:Yr}=getState();if(!(Gr!=null&&Gr.length)){console.error(`No submission data found for ${this.type}, redirecting to home.`),loadComponent("/");return}const Zr=Number(Yr.split("/").pop());if(!Zr){console.error("No result ID found in the URL"),loadComponent("/");return}for(const Kr of Gr)if(Kr.id===Zr)return{submissionType:Kr.submission_type,answers:Kr.answers.map(Qr=>({id:Qr.id,question:Qr.question,accepted:Qr.accepted,selectedAnswer:Qr.selectedAnswer,answers:Qr.answers,explanation:Qr.explanation||""}))};console.error(`No submission data found for ${this.type}, redirecting to home.`),loadComponent("/")}async initialize(){let Gr;switch(this.type){case"study":case"simulation":Gr=this.initializeTestResult();break;case"history":Gr=this.initializeHistoryResult();break;default:showModalX("error","Error","El tipo de resultados es desconocido");break}this.renderQuizResults(Gr.submissionType,Gr.answers)}renderQuizResults(Gr,Yr){const Zr=document.getElementById("resultsForm"),Kr=createNavLink("/","Inicio");Kr.onclick=un=>{un.preventDefault();const cn=Kr.getAttribute("href");loadComponent(cn)},Kr.classList.add("mb-10"),Zr.appendChild(Kr);const Qr=document.createElement("div");Qr.className="";const Jr=[],en={correct:0,incorrect:0,unanswered:0},tn=(un,cn)=>{switch(!0){case(cn.selectedAnswer===void 0||cn.selectedAnswer===""||cn.selectedAnswer===null):un.unanswered++;break;case cn.selectedAnswer===cn.accepted:un.correct++;break;default:un.incorrect++}};Yr.forEach(un=>{tn(en,un),Jr.push(generateQuestion(un))}),Qr.append(...Jr);const an=generateHeader(`${`${Gr==="study"?"Estudio":Gr==="simulation"?"Simulacro":""}`}`),nn=generateSubHeader(en.correct,en.incorrect,en.unanswered),sn=document.createElement("div");if(sn.className="flex flex-wrap gap-4 justify-center items-center p-4",this.type!=="history"){const un=generateButton("retry","Reintentar","button","secondary");un.addEventListener("click",()=>{loadComponent(`${this.type==="study"?"/study/filters":"/simulation/filters"}`)}),sn.append(un)}const ln=generateButton("confirm","Volver al inicio","button","primary");ln.addEventListener("click",()=>{loadComponent("/")}),sn.append(ln),Zr.append(an,nn,Qr,sn)}}function generateHeader(Wr){const Gr=document.createElement("div");return Gr.className="w-full bg-zinc-200 dark:bg-zinc-700 text-black dark:text-white py-4 px-6 text-center font-semibold text-lg rounded-t-lg ",Gr.textContent=`Resultados ${Wr}`,Gr}function generateSubHeader(Wr,Gr,Yr){const Zr=document.createElement("div");Zr.className="w-full flex flex-wrap items-center justify-between bg-zinc-100 dark:bg-zinc-800 gap-4 px-4 py-2 border-b border-zinc-300 dark:border-zinc-700 rounded-b-lg";const Kr=document.createElement("div");Kr.className="w-full sm:w-auto flex flex-shrink-0 items-center justify-center gap-4 text-zinc-700 dark:text-zinc-300 text-sm";const Qr=document.createElement("span");Qr.className="flex items-center gap-1 text-green-600",Qr.innerHTML=`<span class="w-2.5 h-2.5 bg-green-600 rounded-full inline-block"></span>${Wr} correcta${Wr>1?"s":""}`;const Jr=document.createElement("span");Jr.className="flex items-center gap-1 text-red-600",Jr.innerHTML=`<span class="w-2.5 h-2.5 bg-red-600 rounded-full inline-block"></span>${Gr} incorrecta${Gr>1?"s":""}`;const en=document.createElement("span");en.className="flex items-center gap-1 text-yellow-500",en.innerHTML=`<span class="w-2.5 h-2.5 bg-yellow-500 rounded-full inline-block"></span>${Yr} en blanco`,Kr.append(Qr,Jr,en);const tn=generateSwitch("explanationToggle","Explicación","justify-center");return tn.addEventListener("change",rn=>{const an=document.querySelectorAll("[data-accordion]"),nn=rn.target.checked;an.forEach(sn=>{const ln=sn.querySelector("button"),un=sn.querySelector(".accordion-content");nn?(un.classList.remove("hidden"),ln.querySelector("svg").classList.add("rotate-180")):(un.classList.add("hidden"),ln.querySelector("svg").classList.remove("rotate-180"))})}),Zr.appendChild(Kr),Zr.appendChild(tn),Zr}function createIcon(Wr){const Gr=document.createElement("img");return Gr.src=Wr,Gr.className="w-4 h-4",Gr}function generateQuestion(Wr){const Gr=Wr.question,Yr=Wr.answers,Zr=Wr.accepted,Kr=Wr.selectedAnswer,Qr=Wr.explanation,Jr=document.createElement("div");Jr.className="relative my-4 px-4 py-2 pr-12 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-900";const en=document.createElement("p");en.className="font-medium text-zinc-700 dark:text-zinc-300 mb-2",en.textContent=Gr,Jr.appendChild(en);const tn={correct:{border:"border border-green-600 border-dashed",icon:createIcon(passIcon),radio:""},incorrect:{border:"border border-red-600 border-dashed",icon:createIcon(failIcon),radio:""},unansweredCorrect:{border:"border border-green-600 border-dashed",icon:null,radio:"border border-yellow-500"},default:{border:"",icon:null,radio:"border border-zinc-400"}},rn=(ln,un,cn)=>{switch(!0){case(ln&&(cn===void 0||cn===""||cn===null)):return tn.unansweredCorrect;case ln:return tn.correct;case un:return tn.incorrect;default:return tn.default}};Yr.forEach((ln,un)=>{const cn=document.createElement("div");cn.className="flex items-center gap-2 mb-1 p-1";const fn=rn(un===Zr,un===Kr,Kr),pn=document.createElement("div");pn.className=`flex items-center gap-2 p-1 rounded-md ${fn.border}`;const gn=document.createElement("div");gn.className=`flex flex-shrink-0 w-4 h-4 rounded-full ${fn.radio}`,pn.appendChild(fn.icon||gn);const vn=document.createElement("span");vn.className="text-sm text-zinc-700 dark:text-zinc-400",vn.textContent=`${String.fromCharCode(65+un)}. ${ln}`,pn.appendChild(vn),cn.appendChild(pn),Jr.appendChild(cn)});const an=document.createElement("button");an.className="absolute top-2 right-2 p-1 rounded-md text-zinc-500 hover:bg-zinc-200 dark:hover:bg-zinc-700",an.innerHTML='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 3a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 8a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm0 8a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"/></svg>';const nn=document.createElement("div");if(nn.className="p-2 absolute top-8 right-2 w-48 bg-white dark:bg-zinc-800 rounded-md shadow-lg hidden",nn.setAttribute("role","menu"),[{text:translations[userLanguage].openDispute,type:"dispute",action:async(ln,un,cn)=>{ln.preventDefault();let hn=null;const dn=document.createElement("textarea");dn.className="w-full p-2 dark:text-white border rounded-lg dark:bg-zinc-800 dark:border-zinc-700",dn.placeholder=translations[userLanguage].enterDisputeReason,hn=generateDialog({children:[dn],onConfirm:async()=>{const fn=dn.value.trim();if(!fn){showModalX("error","Error","Please enter a reason for the dispute");return}try{const{response:pn,error:gn}=await fetchAPI("QUESTIONS.DISPUTES","POST",{id:un.id},{reason:JSON.stringify(fn)});if(gn||!pn){showModalX("error","Error",gn.message||"Un error ha ocurrido al enviar la disputa");return}showModalX("success","Disputa realizada","Tu disputa ha sido enviada con éxito, la contrastaremos lo antes posible."),cn.classList.add("opacity-50","cursor-not-allowed"),cn.classList.remove("hover:bg-gray-50","cursor-pointer"),cn.onclick=null}catch(pn){showModalX("error","Error",pn.message||"Un error ha ocurrido al enviar la disputa")}},confirmText:translations[userLanguage].confirm,cancelText:translations[userLanguage].cancel}),hn.showDialog()}},{text:"No volver a mostrar",action:async(ln,un,cn)=>{ln.preventDefault();let hn=null;const dn=document.createElement("div");dn.className="w-full p-2 dark:text-white rounded-lg dark:bg-zinc-800",dn.textContent=translations[userLanguage].blacklistedInfo,hn=generateDialog({children:[dn],onConfirm:async()=>{try{const{response:fn,error:pn}=await fetchAPI("QUESTIONS.BLACKLIST","POST",{id:un.id});if(pn||!fn){showModalX("error","Error",pn.message||translations[userLanguage].blacklistError);return}showModalX("success","Confirmado",translations[userLanguage].blackListSuccess),cn.classList.remove("hover:bg-gray-50","cursor-pointer"),cn.classList.add("opacity-50","cursor-not-allowed"),cn.onclick=null}catch(fn){showModalX("error","Error",fn.message||translations[userLanguage].blacklistError)}},confirmText:translations[userLanguage].confirm,cancelText:translations[userLanguage].cancel}),hn.showDialog()}}].forEach(ln=>{const un=document.createElement("a");un.className="block px-4 py-2 text-sm text-gray-500 hover:rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white cursor-pointer",un.textContent=ln.text;const{disputes:cn}=getState();ln.type==="dispute"&&(cn==null?void 0:cn.some(dn=>dn.question_id===Wr.id))?(un.classList.add("opacity-50","cursor-not-allowed"),un.classList.remove("hover:bg-gray-50","cursor-pointer"),un.onclick=null):un.onclick=dn=>ln.action(dn,Wr,un),nn.appendChild(un)}),an.addEventListener("click",ln=>{ln.stopPropagation(),ln.preventDefault(),nn.classList.toggle("hidden")}),document.addEventListener("click",()=>{nn.classList.add("hidden")}),Jr.appendChild(an),Jr.appendChild(nn),Qr){const ln=document.createElement("div");ln.className="w-full mt-4",ln.setAttribute("data-accordion","");const un=document.createElement("button");un.type="button",un.className="flex items-center justify-between w-full text-left py-2 text-xs sm:text-sm font-semibold text-zinc-900 dark:text-zinc-100",un.innerHTML=`
			<span>Ver explicación</span>
			<svg class="h-5 w-5 transform transition-transform duration-300 ease-in-out" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
			</svg>
		`;const cn=document.createElement("div");cn.className="accordion-content mt-2 overflow-hidden text-xs sm:text-sm text-zinc-900 dark:text-zinc-100 hidden",cn.textContent=Qr,un.addEventListener("click",()=>{cn.classList.toggle("hidden"),un.querySelector("svg").classList.toggle("rotate-180")}),ln.appendChild(un),ln.appendChild(cn),Jr.appendChild(ln)}return Jr}new Results("results");const initializeResults=Wr=>{new Results(Wr).initialize()};class SessionManager{constructor(){this.isRefreshing=!1,this.failedQueue=[],this.refreshAttempts=0,this.maxRefreshAttempts=3,this.refreshTimeout=null}setupNavigationBlockingRemovalOnPageRefresh(){window.addEventListener("beforeunload",()=>{if(getState().navigationBlocked)return updateState({navigationBlocked:!1}),!0})}setupAutoRefresh(){this.refreshTimeout&&(clearInterval(this.refreshTimeout),this.refreshTimeout=null),this.silentTokenCheck(),this.refreshTimeout=setInterval(()=>{this.silentTokenCheck()},1e3*REFRESH_TOKEN_TIME_INTERVAL),window.addEventListener("beforeunload",()=>{this.refreshTimeout&&clearInterval(this.refreshTimeout)})}async refreshToken(){var Zr;const{response:Gr,error:Yr}=await fetchAPI("AUTH.REFRESH","POST");return Yr||!Gr?(console.error("Error refreshing token:",Yr),!1):(Zr=Gr.data)!=null&&Zr.refresh_token?Gr.data.refresh_token:(console.error("Refresh token not found in response"),!1)}async silentTokenCheck(){if(this.isRefreshing)return;this.isRefreshing=!0;const Gr=this.getTokenFromState();if(!Gr)return this.updateAuthState(!1);if(this.isTokenCloseToExpiration(Gr)){const Yr=await this.refreshToken();if(!Yr)return console.error("Token refresh failed"),this.updateAuthState(!1);this.updateAuthToken(Yr),this.updateAuthState(!0)}this.isRefreshing=!1}expirationLeft(Gr){var Jr;const Zr=JSON.parse(atob((Jr=Gr.split("."))==null?void 0:Jr[1])).exp-Math.floor(Date.now()/1e3),Kr=Math.floor(Zr/60),Qr=Zr%60;return`${Kr}m ${Qr}s (${Zr}s total)`}updateAuthState(Gr){const Yr=getState();updateState({...Yr,isAuthenticated:Gr})}updateAuthToken(Gr){const Yr=getState();updateState({...Yr,user:{...Yr.user,refresh_token:Gr}})}getTokenFromState(){const Gr=getState();try{if(!Gr)return DEBUG&&console.warn("No state found"),null;if(!Gr.user)return DEBUG&&console.warn("No user data in state"),null;const Yr=typeof Gr.user=="string"?safeJSONParse$1(Gr.user):Gr.user;return Yr?Yr.refresh_token?typeof Yr.refresh_token!="string"||!Yr.refresh_token.split(".").length===3?(DEBUG&&console.warn("Invalid token format"),null):Yr.refresh_token:(DEBUG&&console.warn("No refresh token found"),null):(DEBUG&&console.warn("Invalid user data format"),null)}catch(Yr){return console.error("Error getting token from state:",{message:Yr.message,stack:Yr.stack}),null}}getTokenExpiration(Gr){if(!Gr||Gr.length<0)return console.error("Invalid token"),null;try{return JSON.parse(atob(Gr.split(".")[1])).exp}catch(Yr){return console.warn("Error getting token expiration from state:",Yr),null}}isTokenExpired(Gr){return this.getTokenExpiration(Gr)-Math.floor(Date.now()/1e3)<0}isStateTokenExpired(){const Gr=this.getTokenFromState();return this.isTokenExpired(Gr)}isTokenCloseToExpiration(Gr){return this.getTokenExpiration(Gr)-Math.floor(Date.now()/1e3)<REFRESH_TOKEN_RENEW_CHECKPOINT}isStateTokenCloseToExpiration(){const Gr=this.getTokenFromState();return this.isTokenCloseToExpiration(Gr)}processQueue(Gr,Yr=null){this.failedQueue.forEach(Zr=>{Gr?Zr.reject(Gr):Zr.resolve(Yr)}),this.failedQueue=[]}checkIfTokenAboutToExpire(){this.isTokenCloseToExpiration()&&this.refreshToken().catch(Gr=>{console.error("Auto refresh failed:",Gr),this.handleSessionExpired()})}handleSessionExpired(){this.refreshTimeout&&clearTimeout(this.refreshTimeout),showModalX("info","Sesión concluida","Tu sesión ha terminado. Si quieres volver a utilizar la aplicación, inicia sesión"),this.clearSession(),console.warn("Session expired")}clearSession(){this.refreshAttempts=0,updateState({isAuthenticated:!1,user:null})}}const session=new SessionManager,notFoundHeader={title:"¡Hasta pronto!",subheader:"Vuelve cuando quieras, aquí te esperamos."},backToHomeButton={label:"Volver a acceder"};function initializeLogout(){generateNotFoundHeader(),generateBackToHomeButton(backToHomeButton.label),session.handleSessionExpired(),toggleHiddenClass("[data-user-container]",!0),toggleHiddenClass("[data-login-container]",!1),initializeNavigation(!1)}function generateBackToHomeButton(Wr){const Gr=document.querySelector("#back-to-home-button"),Yr=generateButton("",Wr);Yr.onclick=()=>loadComponent(buildPath("/",getCurrentPath().query)),Gr.appendChild(Yr)}function generateNotFoundHeader(){const Wr=document.getElementById("error-header");Wr.textContent=notFoundHeader.title;const Gr=document.getElementById("error-subheader");Gr.textContent=notFoundHeader.subheader}const translationKeyMap={id:"identificador",question:"pregunta",answers:"respuestas",explanation:"explicación",accepted:"correcta",year:"año",categories:"categorías",regions:"regiones",institutions:"instituciones",official:"oficial",parts:"parte",lesson:"tema"},extraValueMap={official:["No","Sí"],parts:["Indefinida","General","Específica"],lesson:null},FieldTypes={STATIC:"static",TEXT:"text",DROPDOWN:"dropdown"};class Field{constructor(Gr,Yr,Zr=FieldTypes.TEXT,Kr="string"){this.key=Gr,this.value=Yr,this.displayType=Zr,this.outputType=Kr}render(){return{value:this.value,type:this.displayType}}renderTableCell(){const Gr="relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1";return{class:this.displayType===FieldTypes.STATIC?Gr:`${Gr} editable-cell`,content:this.value,attrs:this.displayType===FieldTypes.STATIC?"":`contenteditable="false" data-field-id="${this.key}"`}}postRender(){this.displayType!==FieldTypes.STATIC&&(this.element=document.querySelector(`[data-field-id="${this.key}"]`),this.element&&this.setupListeners())}setupListeners(){this.element&&(this.element.addEventListener("click",()=>{this.element.setAttribute("contenteditable","true"),this.element.focus()}),this.element.addEventListener("blur",()=>{this.element.setAttribute("contenteditable","false"),this.updateValue(this.element.textContent.trim())}),this.element.addEventListener("keydown",Gr=>{Gr.key==="Enter"&&(Gr.preventDefault(),this.element.blur())}))}updateValue(Gr){this.value=Gr,this.element&&(this.element.textContent=this.value)}getOutputValue(){return this.value}}class FieldNumber extends Field{constructor(Gr,Yr,Zr=FieldTypes.TEXT){super(Gr,Yr,Zr,"number")}renderTableCell(){return{class:"relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1",content:this.displayType===FieldTypes.STATIC?this.value:`<input type="number"
                    value="${this.value||""}"
                    class="w-full bg-transparent focus:outline-none"
                    min="0"
                    data-field-id="${this.key}"
                    ${this.displayType===FieldTypes.STATIC?"disabled":""}
                />`,attrs:""}}getOutputValue(){const Gr=document.querySelector(`[data-field-id="${this.key}"]`);return Gr?parseInt(Gr.value)||null:this.value}}class FieldArray extends Field{constructor(Gr,Yr){super(Gr,Yr,FieldTypes.TEXT,"json")}getOutputValue(){return typeof this.value=="string"?JSON.parse(this.value):JSON.stringify(this.value)}}class FieldAnswers extends FieldArray{constructor(Gr,Yr){super(Gr,Yr)}getLetterIndex(Gr){return String.fromCharCode(65+Gr)}render(){const Gr=Array.isArray(this.value)?this.value:JSON.parse(this.value);return{value:Gr.map((Yr,Zr)=>`
                <div class="answer-row flex items-center gap-2 py-2 ${Zr!==Gr.length-1?"border-b border-zinc-100 dark:border-zinc-800":""}">
                    <div class="text-zinc-400 w-6 select-none pointer-events-none">${this.getLetterIndex(Zr)}.</div>
                    <div class="editable-answer flex-1 cursor-text hover:bg-zinc-50 dark:hover:bg-zinc-800 px-2 py-1 rounded"
                         data-index="${Zr}">${Yr}</div>
                </div>
            `).join(""),type:this.displayType}}renderTableCell(){return{class:"relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1",content:this.render().value,attrs:""}}getOutputValue(){return Array.from(document.querySelectorAll(".editable-answer")).map(Yr=>Yr.textContent.trim())}}class FieldDropdownMulti extends Field{constructor(Gr,Yr,Zr=0){const Kr=Yr.filter(Qr=>(Qr.bit&Zr)!==0).map(Qr=>Qr.value);super(Gr,Kr,FieldTypes.DROPDOWN,"bitmask"),this.options=Yr,this.setupDropdown()}setupDropdown(){this.dropdown=generateDropdownMulti(this.key,"",this.options,this.value),this.dropdown.id=`${this.key}-dropdown-${Date.now()}`}render(){return{value:`<div id="${this.dropdown.id}"></div>`,type:this.displayType}}renderTableCell(){return{class:"relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1",content:`<div id="${this.dropdown.id}"></div>`,attrs:""}}postRender(){const Gr=document.getElementById(this.dropdown.id);Gr&&Gr.replaceWith(this.dropdown)}getOutputValue(){return Array.from(this.dropdown.querySelectorAll("input:checked")).reduce((Gr,Yr)=>{const Zr=this.options.find(Kr=>Kr.value===Yr.value);return Gr|(Zr?Zr.bit:0)},0)}}class FieldDropdown extends Field{constructor(Gr,Yr,Zr=0){super(Gr,Zr,FieldTypes.DROPDOWN,"number"),this.options=Yr,this.setupDropdown()}getOutputValue(){if(!this.dropdown)return 0;const Gr=this.dropdown.querySelector('input[type="hidden"]');return Gr&&parseInt(Gr.value)||0}setupDropdown(){this.dropdown=generateDropdownV2(this.key,"",this.options,this.value),this.dropdown.id=`${this.key}-dropdown-${Date.now()}`}render(){return{value:`<div id="${this.dropdown.id}"></div>`,type:this.displayType}}renderTableCell(){return{class:"relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1",content:`<div id="${this.dropdown.id}"></div>`,attrs:""}}postRender(){const Gr=document.getElementById(this.dropdown.id);Gr&&Gr.replaceWith(this.dropdown)}}function mapOptions(Wr){return Wr.map(Gr=>({value:Gr.id.toString(),label:toTitleCase(Gr.name),bit:Gr.bit}))}function getBitMaskValues(Wr,Gr){return Wr.filter(Yr=>(Yr.bit&Gr)!==0).map(Yr=>Yr.id.toString())}class TableBuilder{constructor(Gr){this.tableBody=Gr,this.fields=new Map}addField(Gr){return this.fields.set(Gr.key,Gr),this}addDropdownMultiField(Gr,Yr,Zr){const Kr=Yr.map(Jr=>({value:Jr.id.toString(),label:Jr.name,bit:Jr.bit})),Qr=getBitMaskValues(Yr,Zr);return this.addField(new FieldDropdownMulti(Gr,Kr,Qr)),this}addExtraFields(Gr){const Yr=Gr?JSON.parse(Gr):{};return!Yr||typeof Yr!="object"?this:(Object.entries(Yr).forEach(([Zr,Kr])=>{if(extraValueMap[Zr]){const Qr=extraValueMap[Zr].map((Jr,en)=>({id:en.toString(),name:Jr,bit:1<<en}));this.addDropdownMultiField(Zr,Qr,1<<Kr-1)}else this.addField(new Field(Zr,Kr))}),this)}build(){this.tableBody&&(this.tableBody.innerHTML=Array.from(this.fields.entries()).map(([Gr,Yr])=>generateTableRow([translationKeyMap[Gr]||Gr,Yr])).join(""),this.fields.forEach(Gr=>{typeof Gr.postRender=="function"&&Gr.postRender()}),enableEditOnClick())}}class FormBuilder{constructor(Gr){this.form=Gr,this.fields=new Map,this.setupFormHandler()}addField(Gr){return this.fields.set(Gr.key,Gr),this}collectFormData(){const Gr={};this.fields.forEach(Zr=>{const Kr=Zr.key.toLowerCase();Gr[Kr]=Zr.getOutputValue()});const Yr=Object.keys(extraValueMap).reduce((Zr,Kr)=>(this.fields.has(Kr)&&(Zr[Kr]=this.fields.get(Kr).getOutputValue()),Zr),{});return Object.keys(extraValueMap).forEach(Zr=>{delete Gr[Zr.toLowerCase()]}),Gr.extra=Yr,Gr}setupFormHandler(){this.form&&(this.form.onsubmit=async Gr=>{Gr.preventDefault();const Yr=this.collectFormData();await this.submitUpdate(Yr)})}getBitMaskFromDropdown(Gr){return Array.from(Gr.dropdown.querySelectorAll("input:checked")).reduce((Yr,Zr)=>{var Qr;const Kr=(Qr=Gr.options)==null?void 0:Qr.find(Jr=>Jr.value===Zr.value);return Yr|(Kr?Kr.bit:0)},0)}getExtraFieldValue(Gr){const Yr=Gr.dropdown.querySelector("input:checked");return Array.from(Gr.dropdown.querySelectorAll("input")).indexOf(Yr)+1}async submitUpdate(Gr){try{const Yr=Gr.id;delete Gr.id;const{response:Zr,error:Kr}=await fetchAPI("QUESTIONS.UPDATE","PATCH",{id:Yr},Gr);if(Kr||!Zr)return showModalX("error","Error",Kr.message||"Error al cargar los resultados"),[];showModalX("success","Actualizada","Pregunta guardada correctamente")}catch(Yr){showModalX("error","Error",Yr.message||"Error al cargar los resultados")}}}async function fetchMultipleResources(Wr){try{const Gr=await Promise.all(Wr.map(async([Yr,Zr,Kr])=>{const Qr=await fetchAPIByID(Zr,Kr);return[Yr,Qr[Yr]]}));return Object.fromEntries(Gr)}catch(Gr){throw console.error("Failed to fetch resources:",Gr),Gr}}function enableEditOnClick(){document.querySelectorAll(".editable-cell, .editable-answer").forEach(Wr=>{const Gr=Wr.closest("tr").field;Wr.addEventListener("click",()=>{Wr.setAttribute("contenteditable","true"),Wr.focus()}),Wr.addEventListener("keydown",Yr=>{Yr.key==="Enter"&&(Yr.preventDefault(),Wr.blur())}),Wr.addEventListener("blur",()=>{Wr.setAttribute("contenteditable","false"),Gr&&Gr.updateValue(Wr.textContent.trim())})})}function generateTableRow([Wr,Gr]){const{class:Yr,content:Zr,attrs:Kr}=Gr.renderTableCell(),Qr="relative px-4 border-b border-zinc-950/5 dark:border-white/5 py-4 sm:first:pl-1 sm:last:pr-1",Jr=toTitleCase(translationKeyMap[Wr])||toTitleCase(Wr);return`
    <tr class="has-[[data-row-link][data-focus]]:outline has-[[data-row-link][data-focus]]:outline-2 has-[[data-row-link][data-focus]]:-outline-offset-2 has-[[data-row-link][data-focus]]:outline-blue-500 dark:focus-within:bg-white/[2.5%] hover:bg-zinc-950/[2.5%] dark:hover:bg-white/[2.5%]">
        <td class="text-zinc-500 ${Qr}">
            <a data-row-link="true" tabindex="-1" class="absolute inset-0"></a>
            ${Jr}
        </td>
        <td class="${Yr}" ${Kr}>
            ${Zr}
        </td>
    </tr>
    `}function populateQuestionTable(Wr,Gr,Yr,Zr){const Kr=document.querySelector("table tbody"),Qr=document.querySelector("#questionForm");Wr.accepted=Wr.accepted>Wr.answers.length-1?0:Wr.accepted;const Jr=[new FieldNumber("id",Wr.id,FieldTypes.STATIC),new Field("question",Wr.question),new FieldDropdown("accepted",Wr.answers.map((rn,an)=>({value:an.toString(),label:["A","B","C","D"][an]})),Wr.accepted),new FieldAnswers("answers",Wr.answers),new Field("explanation",Wr.explanation),new FieldNumber("year",Wr.year||""),new FieldDropdownMulti("categories",mapOptions(Zr),Wr.categories),new FieldDropdownMulti("regions",mapOptions(Gr),Wr.regions),new FieldDropdownMulti("institutions",mapOptions(Yr),Wr.institutions),new FieldDropdown("official",extraValueMap.official.map((rn,an)=>({value:an.toString(),label:rn,bit:1<<an})),Wr.extra.official||0),new FieldDropdown("parts",extraValueMap.parts.map((rn,an)=>({value:an.toString(),label:rn,bit:1<<an})),Wr.extra.parts||0),new FieldNumber("lesson",Wr.extra.lesson||null)],en=new TableBuilder(Kr),tn=new FormBuilder(Qr);Jr.forEach(rn=>{en.addField(rn),tn.addField(rn)}),en.build()}async function initializeQuestion(Wr){const Gr=Wr.id;if(Gr)try{const{questions:Yr,regions:Zr,institutions:Kr,categories:Qr}=await fetchMultipleResources([["questions",API.endpoints.QUESTIONS.BASE,Gr],["regions",API.endpoints.REGIONS.BASE],["institutions",API.endpoints.INSTITUTIONS.BASE],["categories",API.endpoints.CATEGORIES.BASE]]);Yr[0].answers=JSON.parse(Yr[0].answers),Yr[0].extra=Yr[0].extra?JSON.parse(Yr[0].extra):{},populateQuestionTable(Yr[0],Zr,Kr,Qr),document.querySelector("#questionId").textContent=`#${Gr}`;const Jr=document.querySelector("#backLink");Jr.onclick=en=>{en.preventDefault(),loadComponent(Jr.getAttribute("href"))}}catch(Yr){console.error("Failed to load question:",Yr)}}const componentsSource="/src/web/components/",routes={"/404":{component:"404.html",initialize:initializeNotFound},"/auth":{component:"auth.html",initialize:initializeAuth},"/components":{component:"components.html",initialize:initializeComponents},"/logout":{requiresAuth:!0,component:"logout.html",initialize:initializeLogout},"/":{requiresAuth:!0,component:"home.html",initialize:initializeHome},"/study/filters":{requiresAuth:!0,component:"filters.html",initialize:()=>initializeFilters("study")},"/study/play":{requiresAuth:!0,component:"study.html",initialize:initializeStudy},"/study/results":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("study")},"/simulation/filters":{requiresAuth:!0,component:"filters.html",initialize:()=>initializeFilters("simulation")},"/simulation/play":{requiresAuth:!0,component:"simulation.html",initialize:initializeSimulation},"/simulation/results":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("simulation")},"/questions":{requiresAuth:!0,component:"questions.html",initialize:()=>initializeQuestions()},"/results/:id":{requiresAuth:!0,component:"results.html",initialize:()=>initializeResults("history")},"/questions/:id":{requiresAuth:!0,component:"question.html",initialize:Wr=>initializeQuestion(Wr)},"/version":{initialize:()=>handleVersionEndpoint()}},notFoundComponent="<h2>404 - Page not found</h2>";function matchRoute(Wr){if(routes[Wr])return{route:routes[Wr],params:{}};const Gr=Wr.split("/").filter(Boolean);for(const[Yr,Zr]of Object.entries(routes)){const Kr=Yr.split("/").filter(Boolean);if(Gr.length!==Kr.length)continue;const Qr={};if(Kr.every((en,tn)=>en.startsWith(":")?(Qr[en.slice(1)]=Gr[tn],!0):en===Gr[tn]))return{route:Zr,params:Qr}}return{route:routes["/404"],params:{}}}async function fetchComponent(Wr,Gr){const Yr=await fetch(Wr+Gr);if(!Yr.ok)throw new Error("Failed to fetch component");const Zr=await Yr.text();if(Gr!=="/"&&Zr.includes("<body>"))throw new Error("Index page found");return Zr}async function isBlockedByState(){return getState().navigationBlocked?await showConfirmationDialog("Si abandonas la página perderás tu progreso. ¿Deseas salir?","Abandonar","Cancelar")?(updateState({navigationBlocked:!1}),!1):!0:!1}function cleanCurrentWindowURL(Wr){const Gr=new URL(window.location.href),Yr=Gr.pathname,Zr={};Gr.searchParams.forEach((Kr,Qr)=>{Zr[Qr]=Kr}),updateState({currentRoute:Yr,queryParams:Zr}),window.history.pushState(null,"",Wr)}async function loadComponent(Wr){if(await isBlockedByState())return;const Yr=document.querySelector("#main-content");try{cleanCurrentWindowURL(Wr);const Zr=matchRoute(Wr);let{route:Kr}=Zr;const{params:Qr}=Zr;Wr!=="/auth"&&(!getState().isAuthenticated||Kr.requiresAuth&&session.isStateTokenExpired())&&(Kr=routes["/auth"]),Kr.component&&(updateState({componentLoading:!0}),Yr.innerHTML=await fetchComponent(componentsSource,Kr.component)),Kr.initialize&&typeof Kr.initialize=="function"&&(Kr.component?Kr.initialize(Qr):Yr.innerHTML=Kr.initialize(Qr),updateState({queryParams:""}),window.scrollTo({top:0,behavior:"smooth"}))}catch(Zr){console.error("Error loading component:",Zr),Yr.innerHTML=notFoundComponent}finally{updateState({componentLoading:!1})}}function getCurrentPath(){return{path:getState().currentRoute,query:new URLSearchParams(getState().queryParams||"")}}function buildPath(Wr,Gr){const Yr=new URLSearchParams(Gr).toString();return Yr?`${Wr}?${Yr}`:Wr}function handleVersionEndpoint(){const Wr={debug:DEBUG,version:WEB_VERSION,environment:ENVIRONMENT,build:{clientUrl:CLIENT_URL,serverUrl:SERVER_URL,authRequired:AUTH_REQUIRED,timestamp:BUILD_TIMESTAMP}},Gr=[["Version",Wr.version],["Build Timestamp",Wr.build.timestamp],["Debug mode",Wr.debug],["Environment",Wr.environment],["Client URL",Wr.build.clientUrl],["Server URL",Wr.build.serverUrl],["Auth Required",Wr.build.authRequired.toString()],["Simulation Time (General)",Wr.app.simulationTimeGeneral],["Simulation Time (Specific)",Wr.app.simulationTimeSpecific]],Yr=document.createElement("div");Yr.className="p-6 max-w-2xl mx-auto";const Zr=document.createElement("h2");return Zr.className="text-2xl font-bold mb-4 dark:text-white",Zr.textContent="Version Information",Yr.appendChild(Zr),Yr.appendChild(generateTable("firstColumn","left",Gr)),Yr.outerHTML}window.addEventListener("router-redirect",async Wr=>{const{path:Gr,queryParams:Yr}=Wr.detail;await loadComponent(Gr+Yr)});async function initializeApp(){try{const Wr=getState();updateState({...Wr,currentRoute:window.location.pathname,componentLoading:!1}),session.setupAutoRefresh(),setTheme(localStorage.theme||getSystemTheme());const Gr=Wr.isAuthenticated;if(initializeNavigation(Gr),window.addEventListener("popstate",()=>{const{currentRoute:Yr,queryParams:Zr}=getState(),Kr=Zr instanceof URLSearchParams?Zr:new URLSearchParams(Zr),Qr=Yr+(Kr.toString()?`?${Kr}`:"");loadComponent(Qr)}),module_default.start(),!Gr)return;loadComponent(window.location.pathname)}catch(Wr){throw console.error("App initialization failed:",Wr),Wr}}htmx.defineExtension("json-encoding",{onEvent:function(Wr,Gr){Wr==="htmx:configRequest"&&(Gr.detail.headers["Content-Type"]="application/json",Gr.detail.headers.Accept="application/json")},encodeParameters:function(Wr,Gr,Yr){return JSON.stringify(Gr)}});document.addEventListener("DOMContentLoaded",()=>{initializeApp().catch(Wr=>{console.error("Failed to initialize app:",Wr),showModalX("error","Error de servidor",Wr)})});document.addEventListener("DOMContentLoaded",()=>{const Wr=localStorage.getItem("redirect");Wr&&(localStorage.removeItem("redirect"),history.replaceState(null,null,Wr),loadComponent(Wr))});
//# sourceMappingURL=main.js.map
